"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[658],{25539:function(e,t,n){n.d(t,{R8:function(){return v}});var i=n(74165),r=n(43144),o=n(15671),s=n(32590),a=n(32124),u=n(68552),c=n(98351),l=n(45161),h=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))},d=(0,r.Z)((function e(t,n,i){(0,o.Z)(this,e),this.provider=t,this.hover=n,this.ordinal=i}));function v(e,t,n,r){var o=e.ordered(t).map((function(e,o){return function(e,t,n,r,o){return h(this,void 0,void 0,(0,i.Z)().mark((function s(){var a;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Promise.resolve(e.provideHover(n,r,o));case 3:if(!(a=i.sent)||!f(a)){i.next=6;break}return i.abrupt("return",new d(e,a,t));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),(0,u.Cp)(i.t0);case 11:return i.abrupt("return",void 0);case 12:case"end":return i.stop()}}),s,null,[[0,8]])})))}(e,o,t,n,r)}));return s.Aq.fromPromises(o).coalesce()}function f(e){var t="undefined"!==typeof e.range,n="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&n}(0,c.sb)("_executeHoverProvider",(function(e,t,n){return function(e,t,n,i){return v(e,t,n,i).map((function(e){return e.hover})).toPromise()}(e.get(l.p).hoverProvider,t,n,a.T.None)}))},1599:function(e,t,n){n.r(t),n.d(t,{ModesHoverController:function(){return Se}});var i=n(60136),r=n(27277),o=n(15671),s=n(43144),a=n(27924),u=n(10526),c=n(98351),l=n(30788),h=n(44474),d=n(63024),v=n(24034),f=n(97326),g=n(11752),p=n(61120),_=n(37762),y=n(53210),m=n(6215),b=n(71881),C=n(10849),k=n(77161),S=n(56417),w=n(74165),D=n(32590),L=n(68552),I=n(28941),N=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))},M=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}},Z=(0,s.Z)((function e(t,n,i){(0,o.Z)(this,e),this.value=t,this.isComplete=n,this.hasLoadingMessage=i})),P=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this))._editor=e,r._computer=i,r._onResult=r._register(new I.Q5),r.onResult=r._onResult.event,r._firstWaitScheduler=r._register(new D.pY((function(){return r._triggerAsyncComputation()}),0)),r._secondWaitScheduler=r._register(new D.pY((function(){return r._triggerSyncComputation()}),0)),r._loadingMessageScheduler=r._register(new D.pY((function(){return r._triggerLoadingMessage()}),0)),r._state=0,r._asyncIterable=null,r._asyncIterableDone=!1,r._result=[],r}return(0,s.Z)(n,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),(0,g.Z)((0,p.Z)(n.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(57).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._state=e,t&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var e=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,D.zS)((function(t){return e._computer.computeAsync(t)})),N(e,void 0,void 0,(0,w.Z)().mark((function e(){var t,n,i,r,o,s,a,u;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,o=!0,s=M(this._asyncIterable);case 3:return e.next=5,s.next();case 5:if(a=e.sent,t=a.done){e.next=13;break}r=a.value,o=!1;try{(u=r)&&(this._result.push(u),this._fireResult())}finally{o=!0}case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n={error:e.t0};case 18:if(e.prev=18,e.prev=19,o||t||!(i=s.return)){e.next=23;break}return e.next=23,i.call(s);case 23:if(e.prev=23,!n){e.next=26;break}throw n.error;case 26:return e.finish(23);case 27:return e.finish(18);case 28:this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),(0,L.dL)(e.t1);case 35:case"end":return e.stop()}}),e,this,[[0,32],[1,15,18,28],[19,,23,27]])})))):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){3===this._state&&this._setState(4)}},{key:"_fireResult",value:function(){if(1!==this._state&&2!==this._state){var e=0===this._state,t=4===this._state;this._onResult.fire(new Z(this._result.slice(0),e,t))}}},{key:"start",value:function(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),n}(u.JT),O=n(51168),x=n(49525),R=n(8850),T=n(45753),A=n(47510),H=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},W=function(e,t){return function(n,i){t(n,i,e)}},E=y.$,V=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i,r){var s;(0,o.Z)(this,n),(s=t.call(this))._editor=e,s._instantiationService=i,s._keybindingService=r,s._widget=s._register(s._instantiationService.createInstance(K,s._editor)),s._currentResult=null,s._participants=[];var a,u=(0,_.Z)(O.Ae.getAll());try{for(u.s();!(a=u.n()).done;){var c=a.value;s._participants.push(s._instantiationService.createInstance(c,s._editor))}}catch(l){u.e(l)}finally{u.f()}return s._participants.sort((function(e,t){return e.hoverOrdinal-t.hoverOrdinal})),s._computer=new Q(s._editor,s._participants),s._hoverOperation=s._register(new P(s._editor,s._computer)),s._register(s._hoverOperation.onResult((function(e){if(s._computer.anchor){var t=e.hasLoadingMessage?s._addLoadingMessage(e.value):e.value;s._withResult(new F(s._computer.anchor,t,e.isComplete))}}))),s._register(y.addStandardDisposableListener(s._widget.getDomNode(),"keydown",(function(e){e.equals(9)&&s.hide()}))),s._register(S.RW.onDidChange((function(){s._widget.position&&s._currentResult&&(s._widget.clear(),s._setCurrentResult(s._currentResult))}))),s}return(0,s.Z)(n,[{key:"maybeShowAt",value:function(e){var t,n=[],i=(0,_.Z)(this._participants);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.suggestHoverAnchor){var o=r.suggestHoverAnchor(e);o&&n.push(o)}}}catch(u){i.e(u)}finally{i.f()}var s=e.target;if(6===s.type&&n.push(new O.Qj(0,s.range,e.event.posx,e.event.posy)),7===s.type){var a=this._editor.getOption(47).typicalHalfwidthCharacterWidth/2;!s.detail.isAfterLines&&"number"===typeof s.detail.horizontalDistanceToText&&s.detail.horizontalDistanceToText<a&&n.push(new O.Qj(0,s.range,e.event.posx,e.event.posy))}return 0===n.length?this._startShowingOrUpdateHover(null,0,0,!1,e):(n.sort((function(e,t){return t.priority-e.priority})),this._startShowingOrUpdateHover(n[0],0,0,!1,e))}},{key:"startShowingAtRange",value:function(e,t,n,i){this._startShowingOrUpdateHover(new O.Qj(0,e,void 0,void 0),t,n,i,null)}},{key:"_startShowingOrUpdateHover",value:function(e,t,n,i,r){return this._widget.position&&this._currentResult?this._editor.getOption(57).sticky&&r&&this._widget.isMouseGettingCloser(r.event.posx,r.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,n,i,!0),!0):e?!(!e||!this._currentResult.anchor.equals(e))||(e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,n,i,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,n,i,!1),!0)):(this._setCurrentResult(null),!1):!!e&&(this._startHoverOperationIfNecessary(e,t,n,i,!1),!0)}},{key:"_startHoverOperationIfNecessary",value:function(e,t,n,i,r){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=i,this._computer.source=n,this._computer.insistOnKeepingHoverVisible=r,this._hoverOperation.start(t))}},{key:"_setCurrentResult",value:function(e){this._currentResult!==e&&(e&&0===e.messages.length&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}},{key:"isColorPickerVisible",value:function(){return this._widget.isColorPickerVisible}},{key:"isVisibleFromKeyboard",value:function(){return this._widget.isVisibleFromKeyboard}},{key:"containsNode",value:function(e){return this._widget.getDomNode().contains(e)}},{key:"_addLoadingMessage",value:function(e){if(this._computer.anchor){var t,n=(0,_.Z)(this._participants);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.createLoadingMessage){var r=i.createLoadingMessage(this._computer.anchor);if(r)return e.slice(0).concat([r])}}}catch(o){n.e(o)}finally{n.f()}}return e}},{key:"_withResult",value:function(e){if(this._widget.position&&this._currentResult&&this._currentResult.isComplete){if(!e.isComplete)return;if(this._computer.insistOnKeepingHoverVisible&&0===e.messages.length)return}this._setCurrentResult(e)}},{key:"_renderMessages",value:function(e,t){var i,r=this,o=n.computeHoverRanges(this._editor,e.range,t),s=o.showAtPosition,a=o.showAtSecondaryPosition,c=o.highlightRange,l=new u.SL,h=l.add(new Y(this._keybindingService)),d=document.createDocumentFragment(),v=null,f={fragment:d,statusBar:h,setColorPicker:function(e){return v=e},onContentsChanged:function(){return r._widget.onContentsChanged()},hide:function(){return r.hide()}},g=(0,_.Z)(this._participants);try{var p=function(){var e=i.value,n=t.filter((function(t){return t.owner===e}));n.length>0&&l.add(e.renderHoverParts(f,n))};for(g.s();!(i=g.n()).done;)p()}catch(b){g.e(b)}finally{g.f()}var y=t.some((function(e){return e.isBeforeContent}));if(h.hasContent&&d.appendChild(h.hoverElement),d.hasChildNodes()){if(c){var m=this._editor.createDecorationsCollection();m.set([{range:c,options:n._DECORATION_OPTIONS}]),l.add((0,u.OF)((function(){m.clear()})))}this._widget.showAt(d,new U(v,s,a,this._editor.getOption(57).above,this._computer.shouldFocus,this._computer.source,y,e.initialMousePosX,e.initialMousePosY,l))}else l.dispose()}}],[{key:"computeHoverRanges",value:function(e,t,n){var i=1;if(e.hasModel()){var r=e._getViewModel(),o=r.coordinatesConverter,s=o.convertModelRangeToViewRange(t),a=new C.L(s.startLineNumber,r.getLineMinColumn(s.startLineNumber));i=o.convertViewPositionToModelPosition(a).column}var u,c=t.startLineNumber,h=t.startColumn,d=n[0].range,v=null,f=(0,_.Z)(n);try{for(f.s();!(u=f.n()).done;){var g=u.value;d=l.e.plusRange(d,g.range),g.range.startLineNumber===c&&g.range.endLineNumber===c&&(h=Math.max(Math.min(h,g.range.startColumn),i)),g.forceShowAtRange&&(v=g.range)}}catch(p){f.e(p)}finally{f.f()}return{showAtPosition:v?v.getStartPosition():new C.L(c,t.startColumn),showAtSecondaryPosition:v?v.getStartPosition():new C.L(c,h),highlightRange:d}}}]),n}(u.JT);V._DECORATION_OPTIONS=k.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),V=H([W(1,R.TG),W(2,T.d)],V);var F=function(){function e(t,n,i){(0,o.Z)(this,e),this.anchor=t,this.messages=n,this.isComplete=i}return(0,s.Z)(e,[{key:"filter",value:function(e){var t=this.messages.filter((function(t){return t.isValidForHoverAnchor(e)}));return t.length===this.messages.length?this:new z(this,this.anchor,t,this.isComplete)}}]),e}(),z=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i,r,s){var a;return(0,o.Z)(this,n),(a=t.call(this,i,r,s)).original=e,a}return(0,s.Z)(n,[{key:"filter",value:function(e){return this.original.filter(e)}}]),n}(F),U=(0,s.Z)((function e(t,n,i,r,s,a,u,c,l,h){(0,o.Z)(this,e),this.colorPicker=t,this.showAtPosition=n,this.showAtSecondaryPosition=i,this.preferAbove=r,this.stoleFocus=s,this.source=a,this.isBeforeContent=u,this.initialMousePosX=c,this.initialMousePosY=l,this.disposables=h,this.closestMouseDistance=void 0})),K=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this))._editor=e,r._contextKeyService=i,r.allowEditorOverflow=!0,r._hoverVisibleKey=h.u.hoverVisible.bindTo(r._contextKeyService),r._hover=r._register(new m.c),r._visibleData=null,r._register(r._editor.onDidLayoutChange((function(){return r._layout()}))),r._register(r._editor.onDidChangeConfiguration((function(e){e.hasChanged(47)&&r._updateFont()}))),r._setVisibleData(null),r._layout(),r._editor.addContentWidget((0,f.Z)(r)),r}return(0,s.Z)(n,[{key:"position",get:function(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}},{key:"isColorPickerVisible",get:function(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}},{key:"isVisibleFromKeyboard",get:function(){var e;return 1===(null===(e=this._visibleData)||void 0===e?void 0:e.source)}},{key:"dispose",value:function(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),(0,g.Z)((0,p.Z)(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){if(!this._visibleData)return null;var e=this._visibleData.preferAbove;!e&&this._contextKeyService.getContextKeyValue(A._y.Visible.key)&&(e=!0);var t=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:e?[1,2]:[2,1],positionAffinity:t}}},{key:"isMouseGettingCloser",value:function(e,t){if(!this._visibleData)return!1;if("undefined"===typeof this._visibleData.initialMousePosX||"undefined"===typeof this._visibleData.initialMousePosY)return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;var n=y.getDomNodePagePosition(this.getDomNode());"undefined"===typeof this._visibleData.closestMouseDistance&&(this._visibleData.closestMouseDistance=q(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,n.left,n.top,n.width,n.height));var i=q(e,t,n.left,n.top,n.width,n.height);return!(i>this._visibleData.closestMouseDistance+4)&&(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,i),!0)}},{key:"_setVisibleData",value:function(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}},{key:"_layout",value:function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(47),n=t.fontSize,i=t.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(n,"px"),this._hover.contentsDomNode.style.lineHeight="".concat(i/n),this._hover.contentsDomNode.style.maxHeight="".concat(e,"px"),this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(.66*this._editor.getLayoutInfo().width,500),"px")}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"showAt",value:function(e,t){var n;this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),null===(n=t.colorPicker)||void 0===n||n.layout()}},{key:"hide",value:function(){if(this._visibleData){var e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}},{key:"onContentsChanged",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();var e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){var t="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingBottom!==t&&(this._hover.contentsDomNode.style.paddingBottom=t,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}},{key:"clear",value:function(){this._hover.contentsDomNode.textContent=""}}]),n}(u.JT);K.ID="editor.contrib.contentHoverWidget",K=H([W(1,x.i6)],K);var Y=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this))._keybindingService=e,i._hasContent=!1,i.hoverElement=E("div.hover-row.status-bar"),i.actionsElement=y.append(i.hoverElement,E("div.actions")),i}return(0,s.Z)(n,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(e){var t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(m.S.render(this.actionsElement,e,n))}},{key:"append",value:function(e){var t=y.append(this.actionsElement,e);return this._hasContent=!0,t}}]),n}(u.JT);Y=H([W(0,T.d)],Y);var Q=function(){function e(t,n){(0,o.Z)(this,e),this._editor=t,this._participants=n,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}return(0,s.Z)(e,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"source",get:function(){return this._source},set:function(e){this._source=e}},{key:"insistOnKeepingHoverVisible",get:function(){return this._insistOnKeepingHoverVisible},set:function(e){this._insistOnKeepingHoverVisible=e}},{key:"computeAsync",value:function(t){var n=this._anchor;if(!this._editor.hasModel()||!n)return D.Aq.EMPTY;var i=e._getLineDecorations(this._editor,n);return D.Aq.merge(this._participants.map((function(e){return e.computeAsync?e.computeAsync(n,i,t):D.Aq.EMPTY})))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var t,n=e._getLineDecorations(this._editor,this._anchor),i=[],r=(0,_.Z)(this._participants);try{for(r.s();!(t=r.n()).done;){var o=t.value;i=i.concat(o.computeSync(this._anchor,n))}}catch(s){r.e(s)}finally{r.f()}return(0,b.kX)(i)}}],[{key:"_getLineDecorations",value:function(e,t){if(1!==t.type&&!t.supportsMarkerHover)return[];var n=e.getModel(),i=t.range.startLineNumber;if(i>n.getLineCount())return[];var r=n.getLineMaxColumn(i);return e.getLineDecorations(i).filter((function(e){if(e.options.isWholeLine)return!0;var n=e.range.startLineNumber===i?e.range.startColumn:1,o=e.range.endLineNumber===i?e.range.endColumn:r;if(e.options.showIfCollapsed){if(n>t.range.startColumn+1||t.range.endColumn-1>o)return!1}else if(n>t.range.startColumn||t.range.endColumn>o)return!1;return!0}))}}]),e}();function q(e,t,n,i,r,o){var s=n+r/2,a=i+o/2,u=Math.max(Math.abs(e-s)-r/2,0),c=Math.max(Math.abs(t-a)-o/2,0);return Math.sqrt(u*u+c*c)}var j=n(93433),B=n(67277),J=n(65163),G=y.$,X=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i,r){var s;return(0,o.Z)(this,n),(s=t.call(this))._renderDisposeables=s._register(new u.SL),s._editor=e,s._isVisible=!1,s._messages=[],s._hover=s._register(new m.c),s._hover.containerDomNode.classList.toggle("hidden",!s._isVisible),s._markdownRenderer=s._register(new J.$({editor:s._editor},i,r)),s._computer=new $(s._editor),s._hoverOperation=s._register(new P(s._editor,s._computer)),s._register(s._hoverOperation.onResult((function(e){s._withResult(e.value)}))),s._register(s._editor.onDidChangeModelDecorations((function(){return s._onModelDecorationsChanged()}))),s._register(s._editor.onDidChangeConfiguration((function(e){e.hasChanged(47)&&s._updateFont()}))),s._editor.addOverlayWidget((0,f.Z)(s)),s}return(0,s.Z)(n,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),(0,g.Z)((0,p.Z)(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(e,t){this._renderDisposeables.clear();var n,i=document.createDocumentFragment(),r=(0,_.Z)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=G("div.hover-row.markdown-hover"),a=y.append(s,G("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(o.value));a.appendChild(u.element),i.appendChild(s)}}catch(c){r.e(c)}finally{r.f()}this._updateContents(i),this._showAt(e)}},{key:"_updateContents",value:function(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}},{key:"_showAt",value:function(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),i=this._editor.getScrollTop(),r=this._editor.getOption(63),o=n-i-(this._hover.containerDomNode.clientHeight-r)/2;this._hover.containerDomNode.style.left="".concat(t.glyphMarginLeft+t.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(o),0),"px")}}]),n}(u.JT);X.ID="editor.contrib.modesGlyphHoverWidget";var $=function(){function e(t){(0,o.Z)(this,e),this._editor=t,this._lineNumber=-1}return(0,s.Z)(e,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;var i,r=(0,_.Z)(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.options.glyphMarginClassName){var s=o.options.glyphMarginHoverMessage;s&&!(0,B.CP)(s)&&n.push.apply(n,(0,j.Z)((0,b._2)(s).map(e)))}}}catch(a){r.e(a)}finally{r.f()}return n}}]),e}(),ee=n(87697),te=n(74990),ne=n(6574),ie=n(3553),re=n(38305),oe=n(34408),se=n(84617),ae=n(92547),ue=n(14393),ce=n(62337),le=n(68344),he=n(52721),de=n(26562),ve=n(45161),fe=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ge=function(e,t){return function(n,i){t(n,i,e)}},pe=y.$,_e=function(){function e(t,n,i){(0,o.Z)(this,e),this.owner=t,this.range=n,this.marker=i}return(0,s.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),ye={type:1,filter:{include:ce.yN.QuickFix},triggerAction:ce.aQ.QuickFixHover},me=function(){function e(t,n,i,r){(0,o.Z)(this,e),this._editor=t,this._markerDecorationsService=n,this._openerService=i,this._languageFeaturesService=r,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}return(0,s.Z)(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type&&!e.supportsMarkerHover)return[];var n,i=this._editor.getModel(),r=e.range.startLineNumber,o=i.getLineMaxColumn(r),s=[],a=(0,_.Z)(t);try{for(a.s();!(n=a.n()).done;){var u=n.value,c=u.range.startLineNumber===r?u.range.startColumn:1,h=u.range.endLineNumber===r?u.range.endColumn:o,d=this._markerDecorationsService.getMarker(i.uri,u);if(d){var v=new l.e(e.range.startLineNumber,c,e.range.startLineNumber,h);s.push(new _e(this,v,d))}}}catch(f){a.e(f)}finally{a.f()}return s}},{key:"renderHoverParts",value:function(e,t){var n=this;if(!t.length)return u.JT.None;var i=new u.SL;t.forEach((function(t){return e.fragment.appendChild(n.renderMarkerHover(t,i))}));var r=1===t.length?t[0]:t.sort((function(e,t){return he.ZL.compare(e.marker.severity,t.marker.severity)}))[0];return this.renderMarkerStatusbar(e,r,i),i}},{key:"renderMarkerHover",value:function(e,t){var n=this,i=pe("div.hover-row"),r=y.append(i,pe("div.marker.hover-contents")),o=e.marker,s=o.source,a=o.message,u=o.code,c=o.relatedInformation;this._editor.applyFontInfo(r);var l=y.append(r,pe("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=a,s||u)if(u&&"string"!==typeof u){var h=pe("span");if(s)y.append(h,pe("span")).innerText=s;var d=y.append(h,pe("a.code-link"));d.setAttribute("href",u.target.toString()),t.add(y.addDisposableListener(d,"click",(function(e){n._openerService.open(u.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),y.append(d,pe("span")).innerText=u.value;var v=y.append(r,h);v.style.opacity="0.6",v.style.paddingLeft="6px"}else{var f=y.append(r,pe("span"));f.style.opacity="0.6",f.style.paddingLeft="6px",f.innerText=s&&u?"".concat(s,"(").concat(u,")"):s||"(".concat(u,")")}if((0,b.Of)(c)){var g,p=(0,_.Z)(c);try{var m=function(){var e=g.value,i=e.message,o=e.resource,s=e.startLineNumber,a=e.startColumn,u=y.append(r,pe("div"));u.style.marginTop="8px";var c=y.append(u,pe("a"));c.innerText="".concat((0,oe.EZ)(o),"(").concat(s,", ").concat(a,"): "),c.style.cursor="pointer",t.add(y.addDisposableListener(c,"click",(function(e){e.stopPropagation(),e.preventDefault(),n._openerService&&n._openerService.open(o,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:s,startColumn:a}}}).catch(L.dL)})));var l=y.append(u,pe("span"));l.innerText=i,n._editor.applyFontInfo(l)};for(p.s();!(g=p.n()).done;)m()}catch(C){p.e(C)}finally{p.f()}}return i}},{key:"renderMarkerStatusbar",value:function(e,t,n){var i=this;if(t.marker.severity!==he.ZL.Error&&t.marker.severity!==he.ZL.Warning&&t.marker.severity!==he.ZL.Info||e.statusBar.addAction({label:ee.NC("view problem","View Problem"),commandId:le.NextMarkerAction.ID,run:function(){var n;e.hide(),null===(n=le.MarkerController.get(i._editor))||void 0===n||n.showAtMarker(t.marker),i._editor.focus()}}),!this._editor.getOption(86)){var r=e.statusBar.append(pe("div"));this.recentMarkerCodeActionsInfo&&(he.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===he.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=ee.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?u.JT.None:n.add((0,D.Vg)((function(){return r.textContent=ee.NC("checkingForQuickFixes","Checking for quick fixes...")}),200));r.textContent||(r.textContent=String.fromCharCode(160));var s=this.getCodeActions(t.marker);n.add((0,u.OF)((function(){return s.cancel()}))),s.then((function(s){if(o.dispose(),i.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!i.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(r.textContent=ee.NC("noQuickFixes","No quick fixes available"));r.style.display="none";var a=!1;n.add((0,u.OF)((function(){a||s.dispose()}))),e.statusBar.addAction({label:ee.NC("quick fixes","Quick Fix..."),commandId:ue.E7.Id,run:function(t){a=!0;var n=ue.G6.get(i._editor),r=y.getDomNodePagePosition(t);e.hide(),null===n||void 0===n||n.showCodeActions(ye,s,{x:r.left+6,y:r.top+r.height+6,width:r.width,height:r.height})}})}),L.dL)}}},{key:"getCodeActions",value:function(e){var t=this;return(0,D.PG)((function(n){return(0,ae.aI)(t._languageFeaturesService.codeActionProvider,t._editor.getModel(),new l.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),ye,de.Ex.None,n)}))}}]),e}();me=fe([ge(1,se.i),ge(2,te.v4),ge(3,ve.p)],me);var be=n(27152),Ce=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ke=function(e,t){return function(n,i){t(n,i,e)}},Se=function(){function e(t,n,i,r,s){var a=this;(0,o.Z)(this,e),this._editor=t,this._instantiationService=n,this._openerService=i,this._languageService=r,this._toUnhook=new u.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(57)&&(a._unhookEvents(),a._hookEvents())}))}return(0,s.Z)(e,[{key:"_hookEvents",value:function(){var e=this,t=this._editor.getOption(57);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))):(this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))),this._toUnhook.add(this._editor.onMouseLeave((function(t){return e._onEditorMouseLeave(t)}))),this._toUnhook.add(this._editor.onDidChangeModel((function(){return e._hideWidgets()}))),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){this._isMouseDown=!0;var t=e.target;9!==t.type||t.detail!==K.ID?12===t.type&&t.detail===X.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var t,n=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(n))||this._hideWidgets()}},{key:"_onEditorMouseMove",value:function(e){var t,n,i,r,o,s,a=e.target;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==a.type||a.detail!==K.ID)&&(!this._isHoverSticky||(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed))&&(this._isHoverSticky||9!==a.type||a.detail!==K.ID||!(null===(i=this._contentWidget)||void 0===i?void 0:i.isColorPickerVisible()))&&(!this._isHoverSticky||12!==a.type||a.detail!==X.ID)&&(!this._isHoverSticky||!(null===(r=this._contentWidget)||void 0===r?void 0:r.isVisibleFromKeyboard())))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===a.type&&a.position?(null===(s=this._contentWidget)||void 0===s||s.hide(),this._glyphWidget||(this._glyphWidget=new X(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(a.position.lineNumber)):void this._hideWidgets();null===(o=this._glyphWidget)||void 0===o||o.hide()}else this._hideWidgets()}},{key:"_onKeyDown",value:function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}},{key:"_hideWidgets",value:function(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||be.Q.dropDownVisible||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(V,this._editor)),this._contentWidget}},{key:"isColorPickerVisible",value:function(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}},{key:"showContentHover",value:function(e,t,n,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,n,i)}},{key:"dispose",value:function(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();Se.ID="editor.contrib.hover",Se=Ce([ke(1,R.TG),ke(2,te.v4),ke(3,d.O),ke(4,x.i6)],Se);var we=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:"editor.action.showHover",label:ee.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,a.gx)(2089,2087),weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){if(t.hasModel()){var n=Se.get(t);if(n){var i=t.getPosition(),r=new l.e(i.lineNumber,i.column,i.lineNumber,i.column),o=2===t.getOption(2);n.showContentHover(r,1,1,o)}}}}]),n}(c.R6),De=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:"editor.action.showDefinitionPreviewHover",label:ee.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=Se.get(t);if(n){var i=t.getPosition();if(i){var r=new l.e(i.lineNumber,i.column,i.lineNumber,i.column),o=v.GotoDefinitionAtPositionEditorContribution.get(t);if(o)o.startFindDefinitionFromCursor(i).then((function(){n.showContentHover(r,1,1,!0)}))}}}}]),n}(c.R6);(0,c._K)(Se.ID,Se,2),(0,c.Qr)(we),(0,c.Qr)(De),O.Ae.register(re.D5),O.Ae.register(me),(0,ie.Ic)((function(e,t){var n=e.getColor(ne.CNo);n&&(t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(n.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(n.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(n.transparent(.5),"; }")))}))},51168:function(e,t,n){n.d(t,{Ae:function(){return a},Qj:function(){return o},YM:function(){return s}});var i=n(15671),r=n(43144),o=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.priority=t,this.range=n,this.initialMousePosX=r,this.initialMousePosY=o,this.type=1}return(0,r.Z)(e,[{key:"equals",value:function(e){return 1===e.type&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}]),e}(),s=function(){function e(t,n,r,o,s,a){(0,i.Z)(this,e),this.priority=t,this.owner=n,this.range=r,this.initialMousePosX=o,this.initialMousePosY=s,this.supportsMarkerHover=a,this.type=2}return(0,r.Z)(e,[{key:"equals",value:function(e){return 2===e.type&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,t){return 2===e.type&&this.owner===e.owner}}]),e}(),a=new(function(){function e(){(0,i.Z)(this,e),this._participants=[]}return(0,r.Z)(e,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),e}())},38305:function(e,t,n){n.d(t,{D5:function(){return w},c:function(){return D},hU:function(){return S}});var i=n(37762),r=n(15671),o=n(43144),s=n(53210),a=n(71881),u=n(32590),c=n(67277),l=n(10526),h=n(65163),d=n(10849),v=n(30788),f=n(63024),g=n(25539),p=n(87697),_=n(64644),y=n(74990),m=n(45161),b=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},C=function(e,t){return function(n,i){t(n,i,e)}},k=s.$,S=function(){function e(t,n,i,o,s){(0,r.Z)(this,e),this.owner=t,this.range=n,this.contents=i,this.isBeforeContent=o,this.ordinal=s}return(0,o.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),w=function(){function e(t,n,i,o,s){(0,r.Z)(this,e),this._editor=t,this._languageService=n,this._openerService=i,this._configurationService=o,this._languageFeaturesService=s,this.hoverOrdinal=2}return(0,o.Z)(e,[{key:"createLoadingMessage",value:function(e){return new S(this,e.range,[(new c.W5).appendText(p.NC("modesContentHover.loading","Loading..."))],!1,2e3)}},{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n=this._editor.getModel(),r=e.range.startLineNumber,o=n.getLineMaxColumn(r),s=[],u=1e3,l=n.getLineLength(r),h=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(111),f=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:h}),g=!1;d>=0&&l>d&&e.range.startColumn>=d&&(g=!0,s.push(new S(this,e.range,[{value:p.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,u++))),!g&&"number"===typeof f&&l>=f&&s.push(new S(this,e.range,[{value:p.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,u++));var _,y=!1,m=(0,i.Z)(t);try{for(m.s();!(_=m.n()).done;){var b=_.value,C=b.range.startLineNumber===r?b.range.startColumn:1,k=b.range.endLineNumber===r?b.range.endColumn:o,w=b.options.hoverMessage;if(w&&!(0,c.CP)(w)){b.options.beforeContentClassName&&(y=!0);var D=new v.e(e.range.startLineNumber,C,e.range.startLineNumber,k);s.push(new S(this,D,(0,a._2)(w),y,u++))}}}catch(L){m.e(L)}finally{m.f()}return s}},{key:"computeAsync",value:function(e,t,n){var i=this;if(!this._editor.hasModel()||1!==e.type)return u.Aq.EMPTY;var r=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(r))return u.Aq.EMPTY;var o=new d.L(e.range.startLineNumber,e.range.startColumn);return(0,g.R8)(this._languageFeaturesService.hoverProvider,r,o,n).filter((function(e){return!(0,c.CP)(e.hover.contents)})).map((function(t){var n=t.hover.range?v.e.lift(t.hover.range):e.range;return new S(i,n,t.hover.contents,!1,t.ordinal)}))}},{key:"renderHoverParts",value:function(e,t){return D(e,t,this._editor,this._languageService,this._openerService)}}]),e}();function D(e,t,n,r,o){t.sort((function(e,t){return e.ordinal-t.ordinal}));var a,u=new l.SL,d=(0,i.Z)(t);try{for(d.s();!(a=d.n()).done;){var v,f=a.value,g=(0,i.Z)(f.contents);try{var p=function(){var t=v.value;if((0,c.CP)(t))return"continue";var i=k("div.hover-row.markdown-hover"),a=s.append(i,k("div.hover-contents")),l=u.add(new h.$({editor:n},r,o));u.add(l.onDidRenderAsync((function(){a.className="hover-contents code-hover-contents",e.onContentsChanged()})));var d=u.add(l.render(t));a.appendChild(d.element),e.fragment.appendChild(i)};for(g.s();!(v=g.n()).done;)p()}catch(_){g.e(_)}finally{g.f()}}}catch(_){d.e(_)}finally{d.f()}return u}w=b([C(1,f.O),C(2,y.v4),C(3,_.Ui),C(4,m.p)],w)},93355:function(e,t,n){n.r(t);var i=n(60136),r=n(27277),o=n(15671),s=n(43144),a=n(32590),u=n(68552),c=n(50004),l=n(98351),h=n(30788),d=n(52091),v=n(44474),f=n(77161),g=n(70437),p=n(87697),_=function(){function e(t,n,i){(0,o.Z)(this,e),this._editRange=t,this._originalSelection=n,this._text=i}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){t.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new d.Y(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new d.Y(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}]),e}(),y=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},m=function(e,t){return function(n,i){t(n,i,e)}},b=function(){function e(t,n){(0,o.Z)(this,e),this.editor=t,this.editorWorkerService=n,this.decorations=this.editor.createDecorationsCollection()}return(0,s.Z)(e,[{key:"dispose",value:function(){}},{key:"run",value:function(t,n){var i,r=this;null===(i=this.currentRequest)||void 0===i||i.cancel();var o=this.editor.getSelection(),s=this.editor.getModel();if(s&&o){var l=o;if(l.startLineNumber===l.endLineNumber){var v=new c.yy(this.editor,5),f=s.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=(0,a.PG)((function(e){return r.editorWorkerService.navigateValueSet(f,l,n)})),this.currentRequest.then((function(n){var i;if(n&&n.range&&n.value&&v.validate(r.editor)){var o=h.e.lift(n.range),s=n.range,c=n.value.length-(l.endColumn-l.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+n.value.length},c>1&&(l=new d.Y(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+c-1));var f=new _(o,l,n.value);r.editor.pushUndoStop(),r.editor.executeCommand(t,f),r.editor.pushUndoStop(),r.decorations.set([{range:s,options:e.DECORATION}]),null===(i=r.decorationRemover)||void 0===i||i.cancel(),r.decorationRemover=(0,a.Vs)(350),r.decorationRemover.then((function(){return r.decorations.clear()})).catch(u.dL)}})).catch(u.dL)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();b.ID="editor.contrib.inPlaceReplaceController",b.DECORATION=f.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),b=y([m(1,g.p)],b);var C=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3154,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=b.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}]),n}(l.R6),k=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3156,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=b.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}]),n}(l.R6);(0,l._K)(b.ID,b,4),(0,l.Qr)(C),(0,l.Qr)(k)},90570:function(e,t,n){function i(e,t){for(var n=0,i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function r(e,t,n){e=e<0?0:e;var i="";if(!n){var r=Math.floor(e/t);e%=t;for(var o=0;o<r;o++)i+="\t"}for(var s=0;s<e;s++)i+=" ";return i}n.d(t,{J:function(){return r},Y:function(){return i}})},13080:function(e,t,n){n.r(t),n.d(t,{AutoIndentOnPaste:function(){return H},AutoIndentOnPasteCommand:function(){return A},ChangeIndentationSizeAction:function(){return M},ChangeTabDisplaySize:function(){return O},DetectIndentation:function(){return x},IndentUsingSpaces:function(){return P},IndentUsingTabs:function(){return Z},IndentationToSpacesAction:function(){return I},IndentationToSpacesCommand:function(){return E},IndentationToTabsAction:function(){return N},IndentationToTabsCommand:function(){return V},ReindentLinesAction:function(){return R},ReindentSelectedLinesAction:function(){return T},getReindentEditOperations:function(){return L}});var i=n(93433),r=n(37762),o=n(15671),s=n(43144),a=n(60136),u=n(27277),c=n(10526),l=n(26684),h=n(98351),d=n(55428),v=n(15261),f=n(30788),g=n(52091),p=n(44474),_=n(26765),y=n(74463),m=n(90570),b=n(87697),C=n(4581),k=n(85889),S=n(83692),w=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},D=function(e,t){return function(n,i){t(n,i,e)}};function L(e,t,n,i,r){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var o=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!o)return[];for(i=Math.min(i,e.getLineCount());n<=i&&o.unIndentedLinePattern;){var s=e.getLineContent(n);if(!o.unIndentedLinePattern.test(s))break;n++}if(n>i-1)return[];var a,u=e.getOptions(),c=u.tabSize,h=u.indentSize,f=u.insertSpaces,p=function(e,t){return t=t||1,d.U.shiftIndent(e,e.length+t,c,h,f)},_=function(e,t){return t=t||1,d.U.unshiftIndent(e,e.length+t,c,h,f)},y=[],m=e.getLineContent(n),b=m;if(void 0!==r&&null!==r){a=r;var C=l.V8(m);b=a+m.substring(C.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(b)&&(b=(a=_(a))+m.substring(C.length)),m!==b&&y.push(v.h.replaceMove(new g.Y(n,1,n,C.length+1),(0,k.x)(a,h,f)))}else a=l.V8(m);var S=a;o.increaseIndentPattern&&o.increaseIndentPattern.test(b)?(S=p(S),a=p(a)):o.indentNextLinePattern&&o.indentNextLinePattern.test(b)&&(S=p(S));for(var w=++n;w<=i;w++){var D=e.getLineContent(w),L=l.V8(D),I=S+D.substring(L.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(I)&&(S=_(S),a=_(a)),L!==S&&y.push(v.h.replaceMove(new g.Y(w,1,w,L.length+1),(0,k.x)(S,h,f))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(D)||(S=o.increaseIndentPattern&&o.increaseIndentPattern.test(I)?a=p(a):o.indentNextLinePattern&&o.indentNextLinePattern.test(I)?p(S):a)}return y}var I=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:n.ID,label:b.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),r=t.getSelection();if(r){var o=new E(r,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}}}]),n}(h.R6);I.ID="editor.action.indentationToSpaces";var N=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:n.ID,label:b.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),r=t.getSelection();if(r){var o=new V(r,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}}}]),n}(h.R6);N.ID="editor.action.indentationToTabs";var M=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,i,r){var s;return(0,o.Z)(this,n),(s=t.call(this,r)).insertSpaces=e,s.displaySizeOnly=i,s}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=this,i=e.get(C.eJ),r=e.get(y.q),o=t.getModel();if(o){var s=r.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),a=o.getOptions(),u=[1,2,3,4,5,6,7,8].map((function(e){return{id:e.toString(),label:e.toString(),description:e===s.tabSize&&e===a.tabSize?b.NC("configuredTabSize","Configured Tab Size"):e===s.tabSize?b.NC("defaultTabSize","Default Tab Size"):e===a.tabSize?b.NC("currentTabSize","Current Tab Size"):void 0}})),c=Math.min(o.getOptions().tabSize-1,7);setTimeout((function(){i.pick(u,{placeHolder:b.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:u[c]}).then((function(e){if(e&&o&&!o.isDisposed()){var t=parseInt(e.label,10);n.displaySizeOnly?o.updateOptions({tabSize:t}):o.updateOptions({tabSize:t,indentSize:t,insertSpaces:n.insertSpaces})}}))}),50)}}}]),n}(h.R6),Z=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,!1,!1,{id:n.ID,label:b.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return(0,s.Z)(n)}(M);Z.ID="editor.action.indentUsingTabs";var P=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,!0,!1,{id:n.ID,label:b.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return(0,s.Z)(n)}(M);P.ID="editor.action.indentUsingSpaces";var O=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,!0,!0,{id:n.ID,label:b.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}return(0,s.Z)(n)}(M);O.ID="editor.action.changeTabDisplaySize";var x=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:n.ID,label:b.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=e.get(y.q),i=t.getModel();if(i){var r=n.getCreationOptions(i.getLanguageId(),i.uri,i.isForSimpleWidget);i.detectIndentation(r.insertSpaces,r.tabSize)}}}]),n}(h.R6);x.ID="editor.action.detectIndentation";var R=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:"editor.action.reindentlines",label:b.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=e.get(_.c_),i=t.getModel();if(i){var r=L(i,n,1,i.getLineCount());r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}}]),n}(h.R6),T=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,{id:"editor.action.reindentselectedlines",label:b.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=e.get(_.c_),o=t.getModel();if(o){var s=t.getSelections();if(null!==s){var a,u=[],c=(0,r.Z)(s);try{for(c.s();!(a=c.n()).done;){var l=a.value,h=l.startLineNumber,d=l.endLineNumber;if(h!==d&&1===l.endColumn&&d--,1===h){if(h===d)continue}else h--;var v=L(o,n,h,d);u.push.apply(u,(0,i.Z)(v))}}catch(f){c.e(f)}finally{c.f()}u.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,u),t.pushUndoStop())}}}}]),n}(h.R6),A=function(){function e(t,n){(0,o.Z)(this,e),this._initialSelection=n,this._edits=[],this._selectionId=null;var i,s=(0,r.Z)(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.range&&"string"===typeof a.text&&this._edits.push(a)}}catch(u){s.e(u)}finally{s.f()}}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){var n,i=(0,r.Z)(this._edits);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.addEditOperation(f.e.lift(o.range),o.text)}}catch(a){i.e(a)}finally{i.f()}var s=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),s||(this._selectionId=t.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}(),H=function(){function e(t,n){var i=this;(0,o.Z)(this,e),this.editor=t,this._languageConfigurationService=n,this.callOnDispose=new c.SL,this.callOnModel=new c.SL,this.callOnDispose.add(t.onDidChangeConfiguration((function(){return i.update()}))),this.callOnDispose.add(t.onDidChangeModel((function(){return i.update()}))),this.callOnDispose.add(t.onDidChangeModelLanguage((function(){return i.update()})))}return(0,s.Z)(e,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(52)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;e.trigger(n)})))}},{key:"trigger",value:function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var n=this.editor.getModel();if(n&&n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var i=this.editor.getOption(9),r=n.getOptions(),o=r.tabSize,s=r.indentSize,a=r.insertSpaces,u=[],c={shiftIndent:function(e){return d.U.shiftIndent(e,e.length+1,o,s,a)},unshiftIndent:function(e){return d.U.unshiftIndent(e,e.length+1,o,s,a)}},h=e.startLineNumber;h<=e.endLineNumber&&this.shouldIgnoreLine(n,h);)h++;if(!(h>e.endLineNumber)){var v=n.getLineContent(h);if(!/\S/.test(v.substring(0,e.startColumn-1))){var g=(0,S.n8)(i,n,n.getLanguageId(),h,c,this._languageConfigurationService);if(null!==g){var p=l.V8(v),_=m.Y(g,o);if(_!==m.Y(p,o)){var y=m.J(_,o,a);u.push({range:new f.e(h,1,h,p.length+1),text:y}),v=y+v.substr(p.length)}else{var b=(0,S.tI)(n,h,this._languageConfigurationService);if(0===b||8===b)return}}}for(var C=h;h<e.endLineNumber&&!/\S/.test(n.getLineContent(h+1));)h++;if(h!==e.endLineNumber){var k={tokenization:{getLineTokens:function(e){return n.tokenization.getLineTokens(e)},getLanguageId:function(){return n.getLanguageId()},getLanguageIdAtPosition:function(e,t){return n.getLanguageIdAtPosition(e,t)}},getLineContent:function(e){return e===C?v:n.getLineContent(e)}},w=(0,S.n8)(i,k,n.getLanguageId(),h+1,c,this._languageConfigurationService);if(null!==w){var D=m.Y(w,o),L=m.Y(l.V8(n.getLineContent(h+1)),o);if(D!==L)for(var I=D-L,N=h+1;N<=e.endLineNumber;N++){var M=n.getLineContent(N),Z=l.V8(M),P=m.Y(Z,o)+I,O=m.J(P,o,a);O!==Z&&u.push({range:new f.e(N,1,N,Z.length+1),text:O})}}}if(u.length>0){this.editor.pushUndoStop();var x=new A(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",x),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,t){e.tokenization.forceTokenization(t);var n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;var i=e.tokenization.getLineTokens(t);if(i.getCount()>0){var r=i.findTokenIndexAtOffset(n);if(r>=0&&1===i.getStandardTokenType(r))return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),e}();function W(e,t,n,i){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var r="",o=0;o<n;o++)r+=" ";for(var s=new RegExp(r,"gi"),a=1,u=e.getLineCount();a<=u;a++){var c=e.getLineFirstNonWhitespaceColumn(a);if(0===c&&(c=e.getLineMaxColumn(a)),1!==c){var l=new f.e(a,1,a,c),h=e.getValueInRange(l),d=i?h.replace(/\t/gi,r):h.replace(s,"\t");t.addEditOperation(l,d)}}}}H.ID="editor.contrib.autoIndentOnPaste",H=w([D(1,_.c_)],H);var E=function(){function e(t,n){(0,o.Z)(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}(),V=function(){function e(t,n){(0,o.Z)(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}();(0,h._K)(H.ID,H,2),(0,h.Qr)(I),(0,h.Qr)(N),(0,h.Qr)(Z),(0,h.Qr)(P),(0,h.Qr)(O),(0,h.Qr)(x),(0,h.Qr)(R),(0,h.Qr)(T)}}]);
//# sourceMappingURL=monaco-editor-vendor.dbdc571d.2010b4a3.js.map