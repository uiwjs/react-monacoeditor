{"version":3,"file":"static/js/monaco-editor-vendor.6cd67fa4.0da0ce73.js","mappings":"4KACaA,GAAiBC,E,QAAAA,IAAgB,gB,iMCUjCC,EAAoB,CAC7BC,QAAS,cACTC,MAAO,aAEJ,SAASC,EAAuBC,GACnC,IAAIC,EACEC,EAAU,GAChB,GAAIF,EAAEG,cAAgBH,EAAEG,aAAaC,MAAMC,OAAS,EAAG,CAEnD,IAAMC,EAAiBN,EAAEG,aAAaI,QAAQX,EAAkBC,SAChE,GAAIS,EACA,IACIJ,EAAQM,KAAIC,MAAZP,GAAOQ,EAAAA,EAAAA,IAASC,EAAAA,EAAAA,GAAML,IAC1B,CACA,MAAOM,GACH,MAKJ,IACI,IAAMC,EAAmBb,EAAEG,aAAaI,QAAQO,EAAAA,EAAAA,WAChDZ,EAAQM,KAAIC,MAAZP,GAAOQ,EAAAA,EAAAA,GA+DhB,SAAsDG,GACzD,IAAMX,EAAU,GAChB,GAAIW,EAAkB,CAClB,IACsCE,EADhCC,EAAeC,KAAKN,MAAME,GAAkBK,GAAAC,EAAAA,EAAAA,GACxBH,GAAY,IAAtC,IAAAE,EAAAE,MAAAL,EAAAG,EAAAG,KAAAC,MAAwC,KAA7BC,EAAWR,EAAAS,MAClB,GAAID,EAAYE,QAAQ,KAAO,EAAG,CAC9B,IAAAC,GAA2BC,EAAAA,EAAAA,IAAiBC,EAAAA,EAAAA,MAAUL,IAA9CM,EAASH,EAATG,UAAWC,EAAGJ,EAAHI,IACnB5B,EAAQM,KAAK,CAAEuB,SAAUD,EAAKE,QAAS,CAAEH,UAAAA,IAC7C,CACJ,CAAC,OAAAI,GAAAf,EAAAlB,EAAAiC,EAAA,SAAAf,EAAAgB,GAAA,CACL,CACA,OAAOhC,CACX,CA3EgCiC,CAA6CtB,IACjE,CACA,MAAOD,GACH,CAIR,GAA8B,QAAzBX,EAAKD,EAAEG,oBAAiC,IAAPF,OAAgB,EAASA,EAAGmC,MAC9D,IAAK,IAAIC,EAAI,EAAGA,EAAIrC,EAAEG,aAAaiC,MAAM/B,OAAQgC,IAAK,CAClD,IAAMC,EAAOtC,EAAEG,aAAaiC,MAAMC,GAClC,GAAIC,GAAQA,EAAKC,KACb,IACIrC,EAAQM,KAAK,CAAEuB,SAAUH,EAAAA,EAAAA,KAASU,EAAKC,MAAOC,YAAY,EAAMC,oBAAoB,GACxF,CACA,MAAO7B,GACH,CAGZ,CAGJ,IAAM8B,EAAe1C,EAAEG,aAAaI,QAAQX,EAAkBE,OAC9D,GAAI4C,EACA,IACI,IACgCC,EAD1BC,EAAY3B,KAAKN,MAAM+B,GAAcG,GAAA1B,EAAAA,EAAAA,GACpByB,GAAS,IAAhC,IAAAC,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAkC,KAAvBwB,EAAQH,EAAAnB,MACftB,EAAQM,KAAK,CAAEuB,SAAUH,EAAAA,EAAAA,KAASkB,GAAWN,YAAY,EAAMC,oBAAoB,GACvF,CAAC,OAAAR,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,CACL,CACA,MAAOtB,GACH,CAIR,IACwCmC,EADlCC,EAAgBC,EAAAA,EAAAA,GAAYC,EAAWC,yBAAyBC,SAASC,GAAAlC,EAAAA,EAAAA,GACpD6B,GAAa,IAAxC,IAAAK,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAA0C,KAA/BgC,EAAYP,EAAAvB,MACb+B,EAAOvD,EAAEG,aAAaI,QAAQ+C,EAAaE,eACjD,GAAID,EACA,IACIrD,EAAQM,KAAIC,MAAZP,GAAOQ,EAAAA,EAAAA,GAAS4C,EAAaG,gBAAgBF,IACjD,CACA,MAAO3C,GACH,CAGZ,CAAC,OAAAqB,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACL,CAMA,IAFA,IAAMwB,EAAmB,GACnBC,EAAO,IAAIC,EAAAA,GACjBC,EAAA,EAAAC,EAAqB5D,EAAO2D,EAAAC,EAAAzD,OAAAwD,IAAE,CAAzB,IAAME,EAAMD,EAAAD,GACRE,EAAOhC,SAGF4B,EAAKK,IAAID,EAAOhC,YACtB2B,EAAiBlD,KAAKuD,GACtBJ,EAAKM,IAAIF,EAAOhC,UAAU,IAJ1B2B,EAAiBlD,KAAKuD,EAM9B,CACA,OAAOL,CACX,CAaC,IACKQ,EAA+B,WACjC,SAAAA,KAAcC,EAAAA,EAAAA,GAAA,KAAAD,GACVE,KAAKC,eAAiB,IAAIC,GAC9B,CAGC,OAHAC,EAAAA,EAAAA,GAAAL,EAAA,EAAAM,IAAA,SAAAhD,MACD,WACI,OAAO4C,KAAKC,eAAeI,QAC/B,KAACP,CAAA,CANgC,GAQxBhB,EAAa,CACtBC,wBAAyB,uCAE7BF,EAAAA,EAAAA,IAAaC,EAAWC,wBAAyB,IAAIe,E,wBCxH9C,IAAIQ,E,gCACX,SAAWA,GAKPA,EAAiBA,EAAsB,IAAI,GAAK,MAKhDA,EAAiBA,EAAuB,KAAI,GAAK,MACpD,CAXD,CAWGA,IAAqBA,EAAmB,CAAC,G,kFCI/BC,EAAmB,WAC5B,SAAAA,EAAYnD,IAAO2C,EAAAA,EAAAA,GAAA,KAAAQ,GACfP,KAAK5C,MAAQA,EACb4C,KAAKQ,OAASpD,EAAMqD,aACxB,CASC,OARDN,EAAAA,EAAAA,GAAAI,EAAA,OAAAH,IAAA,QAAAhD,MAGA,SAAasD,GACT,MAAkB,kBAAPA,EACAA,EAAGD,cAEPC,EAAGF,MACd,KAACD,CAAA,CAb2B,E,wBCdzB,IAAII,E,gCACX,SAAWA,GACPA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAiB,OAAI,GAAK,SACnCA,EAASA,EAAsB,YAAI,GAAK,aAC3C,CAJD,CAIGA,IAAaA,EAAW,CAAC,G,2NCHxBC,EAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIM,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUb,EAAQV,GAAOuB,EAAUb,EAAQV,EAAKsB,EAAa,CACxE,EAOaE,EAA2B,IAAIC,EAAAA,GAAc,wBAAwB,GAAOC,EAAAA,EAAAA,IAAS,uBAAwB,mCACpHC,EAAsC,+BACtCC,EAA6C,mCAC7CC,EAA8C,oCAChDC,OAAoBC,EAClBC,EAAU,GACT,SAASC,EAA0CC,EAAyBC,GAC/E,GAAIH,EAAQI,SAASD,GACjB,MAAM,IAAIE,MAAM,kDAEpBL,EAAQhG,KAAKmG,GACb,IAAMG,EAAkB,IAAIC,EAAAA,GACtBC,EAA+B,IAAIf,EAAAA,GAAcE,GAAqC,GAAOc,OAAOP,GACpGQ,EAAsC,IAAIjB,EAAAA,GAAcG,GAA4C,GAAMa,OAAOP,GACjHS,EAAuC,IAAIlB,EAAAA,GAAcI,GAA6C,GAAMY,OAAOP,GACnHU,EAAa,WACfJ,EAA6B/C,KAAI,GACjCqC,EAAoBK,CACxB,EACMU,EAAY,WACdL,EAA6B/C,KAAI,GAC7BqC,IAAsBK,IACtBL,OAAoBC,EAE5B,EAWA,OATII,EAAOW,UAAYC,SAASC,eAC5BJ,IAEJN,EAAgBW,IAAId,EAAOS,YAAW,kBAAMA,GAAY,KACxDN,EAAgBW,IAAId,EAAOU,WAAU,kBAAMA,GAAW,KACtDP,EAAgBW,KAAIC,EAAAA,EAAAA,KAAa,WAC7BlB,EAAQmB,OAAOnB,EAAQ/E,QAAQkF,GAAS,GACxCU,GACJ,KACO,CACHH,oCAAAA,EACAC,qCAAAA,EACAS,QAAO,WACHd,EAAgBc,SACpB,EAER,CACA,IAAIC,EAAsB,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GACtB,SAAAA,EAAYK,EAAWC,EAAqBnG,EAASoG,GAAmB,IAAAC,GAAAlE,EAAAA,EAAAA,GAAA,KAAA0D,GAEpE,IAAMnB,GADN2B,EAAAL,EAAAM,KAAA,KAAMJ,EAAWC,EAAqBnG,IACDuG,UAAUH,EAAkBI,aAAaH,EAAKI,SAASnB,UACM,OAAlGe,EAAKE,UAAU9B,EAA0CC,EAAyB2B,EAAKI,WAAWJ,CACtG,CAAC,OAAA9D,EAAAA,EAAAA,GAAAsD,EAAA,CALqB,CAAwCa,EAAAA,GAOlEb,EAAyB7C,EAAW,CAChCa,EAAQ,EAAG8C,EAAAA,KACZd,GAEH,IAAIe,EAAyB,SAAAC,IAAAd,EAAAA,EAAAA,GAAAa,EAAAC,GAAA,IAAAC,GAAAb,EAAAA,EAAAA,GAAAW,GACzB,SAAAA,EAAYV,EAAWC,EAAqBnG,EAASoG,GAA+C,IAAAW,EAA5BC,EAAkB1D,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,IAAAA,UAAA,IAAQnB,EAAAA,EAAAA,GAAA,KAAAyE,GAE9F,IAAMlC,GADNqC,EAAAD,EAAAR,KAAA,KAAMJ,EAAWC,EAAqBa,EAAoBhH,IACrBuG,UAAUH,EAAkBI,aAAaO,EAAKN,SAASnB,UACM,OAAlGyB,EAAKR,UAAU9B,EAA0CC,EAAyBqC,EAAKN,WAAWM,CACtG,CAAC,OAAAxE,EAAAA,EAAAA,GAAAqE,EAAA,CALwB,CAA2CK,EAAAA,GAOxEL,EAA4B5D,EAAW,CACnCa,EAAQ,EAAG8C,EAAAA,KACZC,GAEHM,EAAAA,EAAAA,iCAAqD,CACjDpE,GAAI,uBACJqE,OAAQ,IACRC,KAAMC,EAAAA,GAAAA,IAAmBA,EAAAA,GAAAA,IAAmBlD,GAAsCkD,EAAAA,GAAAA,OAAsBhD,GAA6C,GAAOL,EAAyBsD,WAAU,IAC/LC,QAAS,GACTC,UAAW,CAAC,KACZC,QAAS,SAACC,GACgB,OAAtBpD,QAAoD,IAAtBA,GAAwCA,EAAkBqD,mBAC5F,IAEJT,EAAAA,EAAAA,iCAAqD,CACjDpE,GAAI,mBACJqE,OAAQ,IACRC,KAAMC,EAAAA,GAAAA,IAAmBA,EAAAA,GAAAA,IAAmBlD,GAAsCkD,EAAAA,GAAAA,OAAsBjD,GAA4C,GAAOJ,EAAyBsD,WAAU,IAC9LC,QAAS,GACTC,UAAW,CAAC,KACZC,QAAS,SAACC,GACgB,OAAtBpD,QAAoD,IAAtBA,GAAwCA,EAAkBsD,eAC5F,G,wBClGG,SAASC,EAA0BC,GACtC,IAAI7J,EAAI8J,EACR,MAAgJ,QAAlE,QAArE9J,EAAK6J,EAAkBE,iBAAiB,+BAA4C,IAAP/J,OAAgB,EAASA,EAAGgK,2BAA2K,UAAlE,QAAjEF,EAAKD,EAAkBE,iBAAiB,2BAAwC,IAAPD,OAAgB,EAASA,EAAGE,yBACnQ,C,iHCHaC,GAAc3F,EAAAA,EAAAA,IACvB,SAAA2F,EAAYC,GAAkE,IAA5DC,EAAe9E,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,GAAI+E,EAA4B/E,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,IAAAA,UAAA,IAAQnB,EAAAA,EAAAA,GAAA,KAAA+F,GACxE9F,KAAK+F,KAAOA,EACZ/F,KAAKgG,gBAAkBA,EACvBhG,KAAKiG,6BAA+BA,CACxC,G,8FCJEC,EAAY,GACX,SAASC,EAAkBzF,EAAI0F,EAAkBH,GAC9CG,aAA4BN,EAAAA,IAC9BM,EAAmB,IAAIN,EAAAA,EAAeM,EAAkB,GAAIC,QAAQJ,KAExEC,EAAU9J,KAAK,CAACsE,EAAI0F,GACxB,CACO,SAASE,IACZ,OAAOJ,CACX,C,uBCTO,IAAIK,E,iFACX,SAAWA,GACPA,EAAMC,WAAa,IAAItG,IACvBqG,EAAME,UAAY,aAClBF,EAAMG,gBAAkB,mBAIxBH,EAAMI,uBAHN,SAAgCZ,GAC5B,OAAOA,EAAKQ,EAAMG,kBAAoB,EAC1C,CAEH,CARD,CAQGH,IAAUA,EAAQ,CAAC,IACf,IAAMK,EAAwBrL,EAAgB,wBAa9C,SAASA,EAAgBsL,GAC5B,GAAIN,EAAMC,WAAW5G,IAAIiH,GACrB,OAAON,EAAMC,WAAWM,IAAID,GAEhC,IAAMnG,EAAK,SAALA,EAAeI,EAAQV,EAAK2G,GAC9B,GAAyB,IAArB7F,UAAUjF,OACV,MAAM,IAAIwG,MAAM,qEAlB5B,SAAgC/B,EAAII,EAAQiG,GACpCjG,EAAOyF,EAAME,aAAe3F,EAC5BA,EAAOyF,EAAMG,iBAAiBtK,KAAK,CAAEsE,GAAAA,EAAIqG,MAAAA,KAGzCjG,EAAOyF,EAAMG,iBAAmB,CAAC,CAAEhG,GAAAA,EAAIqG,MAAAA,IACvCjG,EAAOyF,EAAME,WAAa3F,EAElC,CAYQkG,CAAuBtG,EAAII,EAAQiG,EACvC,EAGA,OAFArG,EAAGuG,SAAW,kBAAMJ,CAAS,EAC7BN,EAAMC,WAAW3G,IAAIgH,EAAWnG,GACzBA,CACX,C,gMCrCawG,GAAI/G,EAAAA,EAAAA,IACb,SAAA+G,EAAY9G,EAAKjB,IAAMY,EAAAA,EAAAA,GAAA,KAAAmH,GACnBlH,KAAKI,IAAMA,EACXJ,KAAKb,KAAOA,EACZa,KAAKmH,SAAW,IAAIjH,IACpBF,KAAKoH,SAAW,IAAIlH,GACxB,IAESmH,EAAK,WACd,SAAAA,EAAYC,IAASvH,EAAAA,EAAAA,GAAA,KAAAsH,GACjBrH,KAAKsH,QAAUA,EACftH,KAAKuH,OAAS,IAAIrH,GAEtB,CAsEC,OAtEAC,EAAAA,EAAAA,GAAAkH,EAAA,EAAAjH,IAAA,QAAAhD,MACD,WACI,IACuCmB,EADjCiJ,EAAM,GAAG/I,GAAA1B,EAAAA,EAAAA,GACIiD,KAAKuH,OAAOlH,UAAQ,IAAvC,IAAA5B,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAyC,KAA9BuK,EAAIlJ,EAAAnB,MACgB,IAAvBqK,EAAKL,SAASM,MACdF,EAAIpL,KAAKqL,EAEjB,CAAC,OAAA5J,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,CACD,OAAO0J,CACX,GAAC,CAAApH,IAAA,aAAAhD,MACD,SAAWuK,EAAMC,GACb,IAAMC,EAAW7H,KAAK8H,mBAAmBH,GACnCI,EAAS/H,KAAK8H,mBAAmBF,GACvCC,EAAST,SAASvH,IAAIkI,EAAO3H,IAAK2H,GAClCA,EAAOZ,SAAStH,IAAIgI,EAASzH,IAAKyH,EACtC,GAAC,CAAAzH,IAAA,aAAAhD,MACD,SAAW+B,GACP,IAAMiB,EAAMJ,KAAKsH,QAAQnI,GACzBa,KAAKuH,OAAOS,OAAO5H,GAAK,IACezB,EADfM,GAAAlC,EAAAA,EAAAA,GACLiD,KAAKuH,OAAOlH,UAAQ,IAAvC,IAAApB,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAAyC,KAA9BuK,EAAI9I,EAAAvB,MACXqK,EAAKL,SAASY,OAAO5H,GACrBqH,EAAKN,SAASa,OAAO5H,EACzB,CAAC,OAAAvC,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACL,GAAC,CAAAsC,IAAA,qBAAAhD,MACD,SAAmB+B,GACf,IAAMiB,EAAMJ,KAAKsH,QAAQnI,GACrBsI,EAAOzH,KAAKuH,OAAOT,IAAI1G,GAK3B,OAJKqH,IACDA,EAAO,IAAIP,EAAK9G,EAAKjB,GACrBa,KAAKuH,OAAO1H,IAAIO,EAAKqH,IAElBA,CACX,GAAC,CAAArH,IAAA,UAAAhD,MACD,WACI,OAA4B,IAArB4C,KAAKuH,OAAOG,IACvB,GAAC,CAAAtH,IAAA,WAAAhD,MACD,WACI,IACsCT,EADhCwC,EAAO,GAAGrC,GAAAC,EAAAA,EAAAA,GACWiD,KAAKuH,QAAM,IAAtC,IAAAzK,EAAAE,MAAAL,EAAAG,EAAAG,KAAAC,MAAwC,KAAA+K,GAAAC,EAAAA,EAAAA,GAAAvL,EAAAS,MAAA,GAA5BgD,EAAG6H,EAAA,GAAE7K,EAAK6K,EAAA,GAClB9I,EAAK/C,KAAK,GAAD+L,OAAI/H,EAAG,sBAAA+H,QAAqB7L,EAAAA,EAAAA,GAAIc,EAAM+J,SAASiB,QAAQC,KAAK,MAAK,uBAAAF,QAAsB7L,EAAAA,EAAAA,GAAIc,EAAMgK,SAASgB,QAAQC,KAAK,KAAI,OACxI,CAAC,OAAAxK,GAAAf,EAAAlB,EAAAiC,EAAA,SAAAf,EAAAgB,GAAA,CACD,OAAOqB,EAAKkJ,KAAK,KACrB,GACA,CAAAjI,IAAA,gBAAAhD,MAIA,WAAgB,IACwBkL,EADxBC,GAAAxL,EAAAA,EAAAA,GACaiD,KAAKuH,QAAM,IAApC,IAAAgB,EAAAvL,MAAAsL,EAAAC,EAAAtL,KAAAC,MAAsC,KAAAsL,GAAAN,EAAAA,EAAAA,GAAAI,EAAAlL,MAAA,GAA1BsD,EAAE8H,EAAA,GAAEf,EAAIe,EAAA,GACVjJ,EAAO,IAAIkJ,IAAI,CAAC/H,IAChBgI,EAAM1I,KAAK2I,WAAWlB,EAAMlI,GAClC,GAAImJ,EACA,OAAOA,CAEf,CAAC,OAAA7K,GAAA0K,EAAA3M,EAAAiC,EAAA,SAAA0K,EAAAzK,GAAA,CAEL,GAAC,CAAAsC,IAAA,aAAAhD,MACD,SAAWqK,EAAMlI,GAAM,IACuBqJ,EADvBC,GAAA9L,EAAAA,EAAAA,GACU0K,EAAKL,UAAQ,IAA1C,IAAAyB,EAAA7L,MAAA4L,EAAAC,EAAA5L,KAAAC,MAA4C,KAAA4L,GAAAZ,EAAAA,EAAAA,GAAAU,EAAAxL,MAAA,GAAhCsD,EAAEoI,EAAA,GAAE1B,EAAQ0B,EAAA,GACpB,GAAIvJ,EAAKK,IAAIc,GACT,MAAO,GAAAyH,QAAA7L,EAAAA,EAAAA,GAAIiD,GAAI,CAAEmB,IAAI2H,KAAK,QAE9B9I,EAAK8D,IAAI3C,GACT,IAAMtD,EAAQ4C,KAAK2I,WAAWvB,EAAU7H,GACxC,GAAInC,EACA,OAAOA,EAEXmC,EAAKyI,OAAOtH,EAChB,CAAC,OAAA7C,GAAAgL,EAAAjN,EAAAiC,EAAA,SAAAgL,EAAA/K,GAAA,CAEL,KAACuJ,CAAA,CA3Ea,G,gCCEZ0B,EAAqB,SAAAC,IAAArF,EAAAA,EAAAA,GAAAoF,EAAAC,GAAA,IAAApF,GAAAC,EAAAA,EAAAA,GAAAkF,GACvB,SAAAA,EAAYE,GAAO,IAAAhF,EACXpI,EAEwI,OAH7HkE,EAAAA,EAAAA,GAAA,KAAAgJ,IAEf9E,EAAAL,EAAAM,KAAA,KAAM,uCACDgF,QAA2C,QAAhCrN,EAAKoN,EAAME,uBAAoC,IAAPtN,EAAgBA,EAAK,4CAAHsM,OAA+Cc,EAAMhC,YAAahD,CAChJ,CAAC,OAAA9D,EAAAA,EAAAA,GAAA4I,EAAA,CALsB,EAKtBK,EAAAA,EAAAA,GAL+B3G,QAOvB4G,EAAoB,WAC7B,SAAAA,IAA+G,IACvGxN,EADIyN,EAASpI,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,IAAIqI,EAAAA,EAAqBC,EAAOtI,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,IAAAA,UAAA,GAAUuI,EAAOvI,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EAAEuH,EAAcxI,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,IAAAA,UAAA,IAAoBnB,EAAAA,EAAAA,GAAA,KAAAsJ,GAEzGrJ,KAAKsJ,UAAYA,EACjBtJ,KAAKwJ,QAAUA,EACfxJ,KAAKyJ,QAAUA,EACfzJ,KAAK0J,eAAiBA,EACtB1J,KAAK2J,sBAAwB,IAAIlB,IACjCzI,KAAKsJ,UAAUzJ,IAAI+G,EAAAA,GAAuB5G,MAC1CA,KAAK4J,aAAeF,EAAmG,QAAjF7N,EAAiB,OAAZ4N,QAAgC,IAAZA,OAAqB,EAASA,EAAQG,oBAAiC,IAAP/N,EAAgBA,EAAK,IAAIwL,GAAM,SAAAzL,GAAC,OAAIA,CAAC,SAAIuG,CAC5K,CA2PC,OA3PAhC,EAAAA,EAAAA,GAAAkJ,EAAA,EAAAjJ,IAAA,cAAAhD,MACD,SAAYyM,GACR,OAAO,IAAIR,EAAqBQ,EAAU7J,KAAKwJ,QAASxJ,KAAMA,KAAK0J,eACvE,GAAC,CAAAtJ,IAAA,iBAAAhD,MACD,SAAe0M,GAAa,IAAAnF,EAAA,KAClBoF,EAASC,EAAMC,gBAAgBjK,KAAK0J,eAAgBI,GACtDI,GAAQ,EACZ,IAYM,IAXF,IAAM5E,EAAW,CACbwB,IAAK,SAACpG,GACF,GAAIwJ,EACA,MAAMC,EAAAA,EAAAA,IAAa,6EAEvB,IAAMC,EAASzF,EAAK0F,4BAA4B3J,EAAIqJ,GACpD,IAAKK,EACD,MAAM,IAAI3H,MAAM,qCAAD0F,OAAsCzH,EAAE,MAE3D,OAAO0J,CACX,GACFE,EAAApJ,UAAAjF,OAfYsO,EAAI,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,EAAA,GAAAvJ,UAAAuJ,GAgBlB,OAAOX,EAAEzN,WAAC,EAAD,CAACiJ,GAAQ6C,OAAKoC,GAC3B,CAAC,QAEGL,GAAQ,EACRH,EAAOW,MACX,CACJ,GAAC,CAAAtK,IAAA,iBAAAhD,MACD,SAAegJ,GAEA,IADX,IAAI2D,EACAK,EAAOO,EAAAzJ,UAAAjF,OAFqB2O,EAAI,IAAAJ,MAAAG,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJD,EAAIC,EAAA,GAAA3J,UAAA2J,GAYpC,OATIzE,aAA4BN,EAAAA,GAC5BiE,EAASC,EAAMc,cAAc9K,KAAK0J,eAAgBtD,EAAiBL,MACnEqE,EAASpK,KAAK+K,gBAAgB3E,EAAiBL,KAAMK,EAAiBJ,gBAAgBmC,OAAOyC,GAAOb,KAGpGA,EAASC,EAAMc,cAAc9K,KAAK0J,eAAgBtD,GAClDgE,EAASpK,KAAK+K,gBAAgB3E,EAAkBwE,EAAMb,IAE1DA,EAAOW,OACAN,CACX,GAAC,CAAAhK,IAAA,kBAAAhD,MACD,SAAgB2I,GAAyB,IAIOxH,EAJ1BgM,EAAIrJ,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,GAAI6I,EAAM7I,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EAE7B6I,EAAsBzE,EAAAA,GAAAA,uBAA6BR,GAAMkF,MAAK,SAACC,EAAGC,GAAC,OAAKD,EAAEnE,MAAQoE,EAAEpE,KAAK,IACzFqE,EAAc,GAAG3M,GAAA1B,EAAAA,EAAAA,GACEiO,GAAmB,IAA5C,IAAAvM,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAA8C,KAAnCmO,EAAU9M,EAAAnB,MACXkO,EAAUtL,KAAKqK,4BAA4BgB,EAAW3K,GAAIqJ,GAC3DuB,GACDtL,KAAKuL,eAAe,oBAADpD,OAAqBpC,EAAKyF,KAAI,gCAAArD,OAA+BkD,EAAW3K,GAAE,MAAK,GAEtG0K,EAAYhP,KAAKkP,EACrB,CAAC,OAAAzN,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,CACD,IAAM2N,EAAqBT,EAAoB/O,OAAS,EAAI+O,EAAoB,GAAGjE,MAAQwD,EAAKtO,OAEhG,GAAIsO,EAAKtO,SAAWwP,EAAoB,CACpCC,QAAQC,MAAM,gDAADxD,OAAiDpC,EAAKyF,KAAI,iBAAArD,OAAgBsD,EAAqB,EAAC,oBAAAtD,OAAmBoC,EAAKtO,OAAM,sBAC3I,IAAM2P,EAAQH,EAAqBlB,EAAKtO,OAEpCsO,EADAqB,EAAQ,EACDrB,EAAKpC,OAAO,IAAIqC,MAAMoB,IAGtBrB,EAAKsB,MAAM,EAAGJ,EAE7B,CAEA,OAAOnK,QAAQwK,UAAU/F,EAAMwE,EAAKpC,OAAOiD,GAC/C,GAAC,CAAAhL,IAAA,sBAAAhD,MACD,SAAoBsD,EAAIqL,GACpB,GAAI/L,KAAKsJ,UAAUxC,IAAIpG,aAAeoF,EAAAA,EAClC9F,KAAKsJ,UAAUzJ,IAAIa,EAAIqL,OAEtB,KAAI/L,KAAKyJ,QAIV,MAAM,IAAIhH,MAAM,mDAHhBzC,KAAKyJ,QAAQuC,oBAAoBtL,EAAIqL,EAIzC,CACJ,GAAC,CAAA3L,IAAA,kCAAAhD,MACD,SAAgCsD,GAC5B,IAAMuL,EAAiBjM,KAAKsJ,UAAUxC,IAAIpG,GAC1C,OAAKuL,GAAkBjM,KAAKyJ,QACjBzJ,KAAKyJ,QAAQyC,gCAAgCxL,GAG7CuL,CAEf,GAAC,CAAA7L,IAAA,8BAAAhD,MACD,SAA4BsD,EAAIqJ,GACxB/J,KAAK4J,cAAgB5J,KAAKmM,gCAC1BnM,KAAK4J,aAAawC,WAAWpM,KAAKmM,+BAAgCE,OAAO3L,IAE7E,IAAM4L,EAAQtM,KAAKkM,gCAAgCxL,GACnD,OAAI4L,aAAiBxG,EAAAA,EACV9F,KAAKuM,mCAAmC7L,EAAI4L,EAAOvC,EAAOyC,OAAO9L,GAAI,KAG5EqJ,EAAOyC,OAAO9L,GAAI,GACX4L,EAEf,GAAC,CAAAlM,IAAA,qCAAAhD,MACD,SAAmCsD,EAAIK,EAAMgJ,GACzC,GAAI/J,KAAK2J,sBAAsB/J,IAAIc,GAC/B,MAAM,IAAI+B,MAAM,sDAAD0F,OAAuDzH,EAAE,MAE5EV,KAAK2J,sBAAsBtG,IAAI3C,GAC/B,IACI,OAAOV,KAAKyM,+BAA+B/L,EAAIK,EAAMgJ,EACzD,CAAC,QAEG/J,KAAK2J,sBAAsB3B,OAAOtH,EACtC,CACJ,GAAC,CAAAN,IAAA,iCAAAhD,MACD,SAA+BsD,EAAIK,EAAMgJ,GAKrC,IAJA,IAAIlO,EACEoN,EAAQ,IAAI5B,GAAM,SAAAlI,GAAI,OAAIA,EAAKuB,GAAGuG,UAAU,IAC9CyF,EAAa,EACXC,EAAQ,CAAC,CAAEjM,GAAAA,EAAIK,KAAAA,EAAMgJ,OAAAA,IACpB4C,EAAM1Q,QAAQ,CACjB,IAAM2Q,EAAOD,EAAME,MAGnB,GAFA5D,EAAMnB,mBAAmB8E,GAErBF,IAAe,IACf,MAAM,IAAI3D,EAAsBE,GAEpC,IACqEtK,EADrEM,GAAAlC,EAAAA,EAAAA,GACyBwJ,EAAAA,GAAAA,uBAA6BqG,EAAK7L,KAAKgF,OAAK,IAArE,IAAA9G,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAAuE,KAA5DmO,EAAU1M,EAAAvB,MACX6O,EAAiBjM,KAAKkM,gCAAgCb,EAAW3K,IAMvE,GALKuL,GACDjM,KAAKuL,eAAe,oBAADpD,OAAqBzH,EAAE,gBAAAyH,OAAekD,EAAW3K,GAAE,8BAA6B,GAG1E,QAA5B7E,EAAKmE,KAAK4J,oBAAiC,IAAP/N,GAAyBA,EAAGuQ,WAAWC,OAAOO,EAAKlM,IAAK2L,OAAOhB,EAAW3K,KAC3GuL,aAA0BnG,EAAAA,EAAgB,CAC1C,IAAM9E,EAAI,CAAEN,GAAI2K,EAAW3K,GAAIK,KAAMkL,EAAgBlC,OAAQ6C,EAAK7C,OAAOyC,OAAOnB,EAAW3K,IAAI,IAC/FuI,EAAMmD,WAAWQ,EAAM5L,GACvB2L,EAAMvQ,KAAK4E,EACf,CACJ,CAAC,OAAAnD,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACL,CACA,OAAa,CACT,IAAMgP,EAAQ7D,EAAM6D,QAGpB,GAAqB,IAAjBA,EAAM7Q,OAAc,CACpB,IAAKgN,EAAM8D,UACP,MAAM,IAAIhE,EAAsBE,GAEpC,KACJ,CAAC,IAC2BtM,EAD3BG,GAAAC,EAAAA,EAAAA,GACsB+P,GAAK,IAA5B,IAAAhQ,EAAAE,MAAAL,EAAAG,EAAAG,KAAAC,MAA8B,KAAjBiC,EAAIxC,EAAAS,MAAJ+B,KAKT,GADuBa,KAAKkM,gCAAgC/M,EAAKuB,cACnCoF,EAAAA,EAAgB,CAE1C,IAAMiG,EAAW/L,KAAKgN,gCAAgC7N,EAAKuB,GAAIvB,EAAK4B,KAAKgF,KAAM5G,EAAK4B,KAAKiF,gBAAiB7G,EAAK4B,KAAKkF,6BAA8B9G,EAAK4K,QACvJ/J,KAAKgM,oBAAoB7M,EAAKuB,GAAIqL,EACtC,CACA9C,EAAMgE,WAAW9N,EACrB,CAAC,OAAAtB,GAAAf,EAAAlB,EAAAiC,EAAA,SAAAf,EAAAgB,GAAA,CACL,CACA,OAAOkC,KAAKkM,gCAAgCxL,EAChD,GAAC,CAAAN,IAAA,kCAAAhD,MACD,SAAgCsD,EAAIqF,GAAuD,IAAjDwE,EAAIrJ,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,GAAI+E,EAA4B/E,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EAAE4H,EAAM7I,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EACrF,GAAInC,KAAKsJ,UAAUxC,IAAIpG,aAAeoF,EAAAA,EAClC,OAAO9F,KAAKkN,uBAAuBxM,EAAIqF,EAAMwE,EAAMtE,EAA8B8D,GAEhF,GAAI/J,KAAKyJ,QACV,OAAOzJ,KAAKyJ,QAAQuD,gCAAgCtM,EAAIqF,EAAMwE,EAAMtE,EAA8B8D,GAGlG,MAAM,IAAItH,MAAM,oDAAD0F,OAAqDpC,EAAKyF,MAEjF,GAAC,CAAApL,IAAA,yBAAAhD,MACD,SAAuBsD,EAAIqF,GAAuD,IAAjDwE,EAAIrJ,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,GAAkC6I,EAAM7I,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EAC5E,GADoEjB,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EAK/D,CACD,IAAMgL,EAAQ,IAAI9D,OAAqBlH,EAAWnC,KAAKwJ,QAASxJ,KAAMA,KAAK0J,gBAC3EyD,EAAMhB,+BAAiCE,OAAO3L,GAK9C,IAAM0M,EAAiB,IAAIlN,IACrBmN,EAAO,IAAIC,EAAAA,IAAU,WACvB,IAG0ChF,EAHpC8B,EAAS+C,EAAMpC,gBAAgBhF,EAAMwE,EAAMR,GAEjDxB,GAAAxL,EAAAA,EAAAA,GAC4BqQ,GAAc,IAA1C,IAAA7E,EAAAvL,MAAAsL,EAAAC,EAAAtL,KAAAC,MAA4C,KAAAsL,GAAAN,EAAAA,EAAAA,GAAAI,EAAAlL,MAAA,GAAhCgD,EAAGoI,EAAA,GAAEnI,EAAMmI,EAAA,GACb+E,EAAYnD,EAAOhK,GACzB,GAAyB,oBAAdmN,EAA0B,KACJ3E,EADIC,GAAA9L,EAAAA,EAAAA,GACVsD,GAAM,IAA7B,IAAAwI,EAAA7L,MAAA4L,EAAAC,EAAA5L,KAAAC,MAA+B,KAApBsQ,EAAQ5E,EAAAxL,MACfmQ,EAAUlR,MAAM+N,EAAQoD,EAC5B,CAAC,OAAA3P,GAAAgL,EAAAjN,EAAAiC,EAAA,SAAAgL,EAAA/K,GAAA,CACL,CACJ,CAAC,OAAAD,GAAA0K,EAAA3M,EAAAiC,EAAA,SAAA0K,EAAAzK,GAAA,CAED,OADAsP,EAAeK,QACRrD,CACX,IACA,OAAO,IAAIsD,MAAMtM,OAAOuM,OAAO,MAAO,CAClC7G,IAAG,SAAChG,EAAQV,GACR,IAAKiN,EAAKO,eAEa,kBAARxN,IAAqBA,EAAIyN,WAAW,UAAYzN,EAAIyN,WAAW,WAAY,CAClF,IAAIC,EAAOV,EAAetG,IAAI1G,GACzB0N,IACDA,EAAO,IAAIC,EAAAA,EACXX,EAAevN,IAAIO,EAAK0N,IAM5B,OAJc,SAACE,EAAUC,EAASC,GAC9B,IAAMC,EAAKL,EAAK1R,KAAK,CAAC4R,EAAUC,EAASC,IACzC,OAAO5K,EAAAA,EAAAA,IAAa6K,EACxB,CAEJ,CAGJ,GAAI/N,KAAOU,EACP,OAAOA,EAAOV,GAGlB,IAAMgO,EAAMf,EAAKjQ,MACbiR,EAAOD,EAAIhO,GACf,MAAoB,oBAATiO,IAGXA,EAAOA,EAAKC,KAAKF,GACjBtN,EAAOV,GAAOiO,GAHHA,CAKf,EACAxO,IAAG,SAAC0O,EAASC,EAAGpR,GAEZ,OADAiQ,EAAKjQ,MAAMoR,GAAKpR,GACT,CACX,EACAqR,eAAc,SAACF,GACX,OAAOxI,EAAK2I,SAChB,GAER,CAhEI,OAAO1O,KAAK+K,gBAAgBhF,EAAMwE,EAAMR,EAiEhD,GAAC,CAAA3J,IAAA,iBAAAhD,MACD,SAAeuR,EAAKC,GAIhB,GAHIA,GACAlD,QAAQmD,KAAKF,GAEb3O,KAAKwJ,QACL,MAAM,IAAI/G,MAAMkM,EAExB,KAACtF,CAAA,CArQ4B,GAuQ3BW,EAAK,WAOP,SAAAA,EAAY8E,EAAMtD,IAAMzL,EAAAA,EAAAA,GAAA,KAAAiK,GACpBhK,KAAK8O,KAAOA,EACZ9O,KAAKwL,KAAOA,EACZxL,KAAK+O,OAASC,KAAKC,MACnBjP,KAAKkP,KAAO,EAChB,CANC,OAMA/O,EAAAA,EAAAA,GAAA6J,EAAA,EAAA5J,IAAA,SAAAhD,MACD,SAAOsD,EAAIyO,GACP,IAAMhC,EAAQ,IAAInD,EAAM,EAA0BtJ,EAAGuG,YAErD,OADAjH,KAAKkP,KAAK9S,KAAK,CAACsE,EAAIyO,EAAOhC,IACpBA,CACX,GAAC,CAAA/M,IAAA,OAAAhD,MACD,WACI,IAAMgS,EAAMJ,KAAKC,MAAQjP,KAAK+O,OAC9B/E,EAAMqF,SAAWD,EACjB,IAAIE,GAAiB,EAmBrB,IAAMC,EAAQ,CAAC,GAADpH,OACO,IAAdnI,KAAK8O,KAAsC,SAAW,OAAM,KAAA3G,OAAInI,KAAKwL,MAAI,GAAArD,OAnBhF,SAASqH,EAAWvS,EAAG0O,GACnB,IAE2C8D,EAFrC/G,EAAM,GACNgH,EAAS,IAAIlF,MAAMvN,EAAI,GAAGoL,KAAK,MAAMsH,GAAA5S,EAAAA,EAAAA,GACV4O,EAAMuD,MAAI,IAA3C,IAAAS,EAAA3S,MAAAyS,EAAAE,EAAA1S,KAAAC,MAA6C,KAAA0S,GAAA1H,EAAAA,EAAAA,GAAAuH,EAAArS,MAAA,GAAjCsD,EAAEkP,EAAA,GAAET,EAAKS,EAAA,GAAEzC,EAAKyC,EAAA,GACxB,GAAIT,GAAShC,EAAO,CAChBmC,GAAiB,EACjB5G,EAAItM,KAAK,GAAD+L,OAAIuH,EAAM,eAAAvH,OAAczH,IAChC,IAAMmP,EAASL,EAAWvS,EAAI,EAAGkQ,GAC7B0C,GACAnH,EAAItM,KAAKyT,EAEjB,MAEInH,EAAItM,KAAK,GAAD+L,OAAIuH,EAAM,YAAAvH,OAAWzH,GAErC,CAAC,OAAA7C,GAAA8R,EAAA/T,EAAAiC,EAAA,SAAA8R,EAAA7R,GAAA,CACD,OAAO4K,EAAIL,KAAK,KACpB,CAGOmH,CAAW,EAAGxP,OAAK,cAAAmI,OACRiH,EAAIU,QAAQ,GAAE,oBAAA3H,OAAmB6B,EAAMqF,QAAQS,QAAQ,GAAE,SAEvEV,EAAM,GAAKE,IACXtF,EAAM+F,IAAI1M,IAAIkM,EAAMlH,KAAK,MAEjC,IAAC,EAAAjI,IAAA,kBAAAhD,MA/CD,SAAuBsM,EAAgB3D,GACnC,OAAQ2D,EAA+B,IAAIM,EAAM,EAA8BjE,EAAKyF,OAAQ,IAAI/I,OAAQkK,MAAMqD,MAAM,MAAMnE,MAAM,EAAG,GAAGxD,KAAK,OAAlH2B,EAAMiG,KACnC,GAAC,CAAA7P,IAAA,gBAAAhD,MACD,SAAqBsM,EAAgB3D,GACjC,OAAQ2D,EAA+B,IAAIM,EAAM,EAA4BjE,EAAKyF,MAAzDxB,EAAMiG,KACnC,KAACjG,CAAA,CANM,GAkDXA,EAAM+F,IAAM,IAAItH,IAChBuB,EAAMiG,MAAQ,aAAAC,IAAAvM,EAAAA,EAAAA,GAAAwM,EAAAD,GAAA,IAAAxL,GAAAb,EAAAA,EAAAA,GAAAsM,GACV,SAAAA,IAAc,OAAApQ,EAAAA,EAAAA,GAAA,KAAAoQ,GAAAzL,EAAAR,KAAA,KAAQ,EAAwB,KAAO,CAE5B,OAF6B/D,EAAAA,EAAAA,GAAAgQ,EAAA,EAAA/P,IAAA,OAAAhD,MACtD,WAAS,GAAC,CAAAgD,IAAA,SAAAhD,MACV,WAAW,OAAO4C,IAAM,KAACmQ,CAAA,CAHX,CAAcnG,IAKhCA,EAAMqF,QAAU,C,6FChVH9F,EAAiB,WAC1B,SAAAA,KAAwBxJ,EAAAA,EAAAA,GAAA,KAAAwJ,GACpBvJ,KAAKoQ,SAAW,IAAIlQ,IAAM,QAAAoK,EAAApJ,UAAAjF,OADfoU,EAAO,IAAA7F,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAP4F,EAAO5F,GAAAvJ,UAAAuJ,GAElB,IAAK,IAALhL,EAAA,EAAA2Q,EAA4BC,EAAO5Q,EAAA2Q,EAAAnU,OAAAwD,IAAE,CAAhC,IAAA6Q,GAAApI,EAAAA,EAAAA,GAAAkI,EAAA3Q,GAAA,GAAOiB,EAAE4P,EAAA,GAAEhF,EAAOgF,EAAA,GACnBtQ,KAAKH,IAAIa,EAAI4K,EACjB,CACJ,CAQC,OARAnL,EAAAA,EAAAA,GAAAoJ,EAAA,EAAAnJ,IAAA,MAAAhD,MACD,SAAIsD,EAAI6P,GACJ,IAAMnG,EAASpK,KAAKoQ,SAAStJ,IAAIpG,GAEjC,OADAV,KAAKoQ,SAASvQ,IAAIa,EAAI6P,GACfnG,CACX,GAAC,CAAAhK,IAAA,MAAAhD,MACD,SAAIsD,GACA,OAAOV,KAAKoQ,SAAStJ,IAAIpG,EAC7B,KAAC6I,CAAA,CAdyB,E,sGCEjBzK,EAAa,CACtB0R,iBAAkB,2BAOrB,IAcKC,EAA2B,IAbH,WAC1B,SAAAC,KAAc3Q,EAAAA,EAAAA,GAAA,KAAA2Q,GACV1Q,KAAK2Q,mBAAqB,IAAIC,EAAAA,GAC9B5Q,KAAK6Q,YAAc,CAAC,CACxB,CAOC,OAPA1Q,EAAAA,EAAAA,GAAAuQ,EAAA,EAAAtQ,IAAA,iBAAAhD,MACD,SAAeM,EAAKoT,GAXxB,IAAqBpQ,EAYbV,KAAK6Q,aAZQnQ,EAYgBhD,EAX7BgD,EAAGzE,OAAS,GAAkC,MAA7ByE,EAAGqQ,OAAOrQ,EAAGzE,OAAS,GAChCyE,EAAGsQ,UAAU,EAAGtQ,EAAGzE,OAAS,GAEhCyE,IAQkCoQ,EACrC9Q,KAAK2Q,mBAAmBM,KAAKvT,EACjC,GAAC,CAAA0C,IAAA,sBAAAhD,MACD,SAAoBM,GAChBsC,KAAK2Q,mBAAmBM,KAAKvT,EACjC,KAACgT,CAAA,CAXyB,IAc9BQ,EAAAA,EAAAA,IAAsBpS,EAAW0R,iBAAkBC,E,gMCpB7CU,EAAqB,2DACdC,EAAyB,SAAAC,IAAA1N,EAAAA,EAAAA,GAAAyN,EAAAC,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAAuN,GAIlC,SAAAA,EAAYE,EAAoBC,EAAiBC,EAAmBC,EAAsBC,GAAa,IAAAzN,EAc7E,OAd6ElE,EAAAA,EAAAA,GAAA,KAAAqR,IACnGnN,EAAAL,EAAAM,KAAA,OACKoN,mBAAqBA,EAC1BrN,EAAKsN,gBAAkBA,EACvBtN,EAAKuN,kBAAoBA,EACzBvN,EAAKwN,qBAAuBA,EAC5BxN,EAAKyN,YAAcA,EACnBzN,EAAK0N,wBAA0B1N,EAAKE,UAAU,IAAIyM,EAAAA,IAClD3M,EAAK2N,cAAgB,KACrB3N,EAAK4N,qBAAuB,IAAIC,EAAAA,GAChC7N,EAAK8N,2BAA6B,KAClC9N,EAAK+N,uBAAyBC,EAAsBC,MACpDjO,EAAKkO,uBAAyB,KAC9BlO,EAAKmO,mCAAqC,IAAIC,EAAAA,GAC9CpO,EAAKqO,UAAW,EAAMrO,CAC1B,CAyLC,OAzLA9D,EAAAA,EAAAA,GAAAiR,EAAA,EAAAhR,IAAA,yBAAA0G,IAlBD,WACI,OAAO9G,KAAK2R,wBAA0B3R,KAAK2R,wBAAwBY,MAAQC,EAAAA,GAAAA,IAC/E,GAAC,CAAApS,IAAA,UAAAhD,MAiBD,YACIqV,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAtB,EAAA1C,WAAA,gBAAAxK,KAAA,KACJ,GAAC,CAAA9D,IAAA,OAAAhD,MACD,SAAKuV,GACG3S,KAAKsS,UACLtS,KAAK0R,YAAYkB,KAAK,wBAADzK,OAAyBwK,GAEtD,GAAC,CAAAvS,IAAA,iBAAAhD,MACD,WACI,OAAO4C,KAAK6S,eAAeC,gBAC/B,GAAC,CAAA1S,IAAA,mBAAAhD,MACD,SAAiB2V,EAAWC,GACxB,IAAM5I,EAASpK,KAAK6S,eAAeI,wBAAwBF,EAAWC,GAAWhT,KAAKsR,oBACtF,GAAKlH,EAGL,OAAOA,EAAO8I,kBAClB,GAAC,CAAA9S,IAAA,gBAAAhD,MACD,SAAcxB,EAAGkF,GACb,OAAOd,KAAKmT,UAAUvX,EAAGkF,EAC7B,GAAC,CAAAV,IAAA,eAAAhD,MACD,SAAaxB,EAAGkF,GACZd,KAAKoT,KAAK,qCACV,IAAMC,EAAarT,KAAKsT,qBAAqB1X,GAC7C,GAAIyX,EAAWE,oBAEX,OADA7H,QAAQmD,KAAK,uDACN,KAEX,IAAA2E,EAAsBH,EAAWI,oBAA1BC,GAA6CxL,EAAAA,EAAAA,GAAAsL,EAAA,GAAnC,GACjB,GAAmB,OAAfE,EAGA,OADA1T,KAAKoT,KAAK,0CACH,KAEX,IAAMO,EAAe3T,KAAKsR,mBAAmBsC,WAAW9S,GAClD+S,EAAe7T,KAAK4R,cAAgB5R,KAAK4R,cAAckC,SAAW,KACxE,OAAO9T,KAAK6S,eAAekB,QAAQJ,EAAcE,EAAcH,EACnE,GAAC,CAAAtT,IAAA,uBAAAhD,MACD,SAAqBsW,EAAYM,GAAe,IAAArP,EAAA,KAC5C3E,KAAK4R,cAAgB,CACjBkC,SAAUJ,EACVO,MAAOD,GAEXhU,KAAK+R,2BAA6B/R,KAAKyR,qBAAqByC,OAAOC,EAAAA,GAAa,cAAe,wDAAyDH,IACxJ,IAAMI,EAAiBpF,KAAKC,MAC5BjP,KAAK6R,qBAAqBwC,cAAa,WAC9B1P,EAAK2P,oBAKNtF,KAAKC,MAAQmF,EAAiB,KAE9BzP,EAAK4P,kBALL5P,EAAK4P,iBAOb,GAAG,KACHC,EAAAA,EAAAA,SACJ,GAAC,CAAApU,IAAA,kBAAAhD,MACD,WACQ4C,KAAK+R,6BACL/R,KAAK+R,2BAA2BvO,UAChCxD,KAAK+R,2BAA6B,MAEtC/R,KAAK6R,qBAAqB4C,SAC1BzU,KAAK4R,cAAgB,KACrB4C,EAAAA,EAAAA,QACJ,GAAC,CAAApU,IAAA,YAAAhD,MACD,SAAUxB,EAAGkF,GACT,OAAOd,KAAK0U,YAAY1U,KAAKsT,qBAAqB1X,GAAIkF,GAAiC,EAC3F,GAAC,CAAAV,IAAA,0BAAAhD,MACD,SAAwBxB,EAAGkF,GAAQ,IAAA6T,EAAA,KACzBtB,EAAarT,KAAKsT,qBAAqB1X,GAC7CgZ,EAA0BvB,EAAWwB,kCAA9BC,GAA+D5M,EAAAA,EAAAA,GAAA0M,EAAA,GAAjD,GACrB,GAAIE,EACA,OAAI9U,KAAKgS,uBAAuBpS,IAAIkV,IAChC9U,KAAKoT,KAAK,8BAADjL,OAA+B2M,EAAc,uDACtD9U,KAAKgS,uBAAyBC,EAAsBC,MACpDlS,KAAKoS,mCAAmCqC,SACxCzU,KAAKmS,uBAAyB,MACvB,IAEXnS,KAAKgS,uBAAyBC,EAAsBC,MAChB,OAAhClS,KAAKmS,wBAELnS,KAAKoT,KAAK,gDAADjL,OAAiD2M,EAAc,MACxE9U,KAAKmS,uBAAyB2C,EAC9B9U,KAAKoS,mCAAmCiC,cAAa,WACjDM,EAAKvB,KAAK,oDACVuB,EAAKxC,uBAAyB,IAClC,GAAG,MACI,GAEP2C,IAAmB9U,KAAKmS,wBAExBnS,KAAKoT,KAAK,uCAADjL,OAAwC2M,EAAc,KAAA3M,OAAI2M,IACnE9U,KAAKoS,mCAAmCqC,SACxCzU,KAAKmS,uBAAyB,KACvBnS,KAAK0U,YAAYrB,EAAYvS,GAAiC,KAEzEd,KAAKoT,KAAK,wDAADjL,OAAyDnI,KAAKmS,uBAAsB,KAAAhK,OAAI2M,IACjG9U,KAAKoS,mCAAmCqC,SACxCzU,KAAKmS,uBAAyB,MACvB,IAIX,IAAA4C,EAAsB1B,EAAW2B,YAA1BtB,GAAqCxL,EAAAA,EAAAA,GAAA6M,EAAA,GAA3B,GAOjB,OANA/U,KAAKgS,uBAAyB,IAAIC,EAAsByB,GACpB,OAAhC1T,KAAKmS,wBACLnS,KAAKoT,KAAK,mDAEdpT,KAAKoS,mCAAmCqC,SACxCzU,KAAKmS,uBAAyB,MACvB,CACX,GAAC,CAAA/R,IAAA,cAAAhD,MACD,SAAYiW,EAAYvS,GAAsC,IAAAmU,EAAA,KAA9BC,EAAoBhU,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,IAAAA,UAAA,GAC5CiU,GAAuB,EAC3B,GAAI9B,EAAWE,oBAEX,OADA7H,QAAQmD,KAAK,wDACN,EAEX,IAAI6E,EAAa,KACbG,EAAe,KACnB,GAAIqB,EAAsB,CACtB,IAAAE,EAA2B/B,EAAWwB,kCAA/BQ,GAAgEnN,EAAAA,EAAAA,GAAAkN,EAAA,GAAjD,GACtB1B,EAAa2B,EACbxB,EAAewB,CACnB,KACK,KAAAC,EACejC,EAAWI,oBAA1BC,GAA6CxL,EAAAA,EAAAA,GAAAoN,EAAA,GAAnC,GACXzB,EAAe7T,KAAK4R,cAAgB5R,KAAK4R,cAAckC,SAAW,IACtE,CACA,GAAmB,OAAfJ,EAGA,OAFA1T,KAAKoT,KAAK,4DAEH+B,EAEX,IAAMxB,EAAe3T,KAAKsR,mBAAmBsC,WAAW9S,GAClDkT,EAAgBX,EAAWkC,WAC3BC,EAAgBxV,KAAK6S,eAAekB,QAAQJ,EAAcE,EAAcH,GAE9E,OADA1T,KAAK0R,YAAY/F,MAAM,6BAA8BqI,EAAiC,OAAlBwB,QAA4C,IAAlBA,OAA2B,EAASA,EAAczC,WAC5IyC,GAAiBA,EAAcC,iBAC/BN,GAAuB,EACvBnV,KAAK0V,qBAAqBhC,EAAYM,GACtChU,KAAKoT,KAAK,4BACH+B,IAEPnV,KAAK4R,gBACA4D,GAAkBA,EAAczC,YACjC/S,KAAKoT,KAAK,2CAADjL,OAA4CnI,KAAK4R,cAAcqC,MAAK,KAAA9L,OAAI6L,EAAa,OAC9FhU,KAAKyR,qBAAqByC,OAAOC,EAAAA,GAAa,gBAAiB,mDAAoDnU,KAAK4R,cAAcqC,MAAOD,GAAgB,CAAE2B,UAAW,MAC1KR,GAAuB,IAG/BnV,KAAKuU,kBACDiB,GAAiBA,EAAczC,YAC1ByC,EAAcI,SACfT,GAAuB,GAE3BnV,KAAKoT,KAAK,sBAADjL,OAAuBqN,EAAczC,UAAS,MACd,qBAA9ByC,EAAcK,YACrB7V,KAAKuR,gBAAgBuE,eAAeN,EAAczC,WAAWgD,UAAK5T,GAAW,SAAAtE,GAAG,OAAIoX,EAAKxD,qBAAqB5C,KAAKhR,EAAI,IAGvHmC,KAAKuR,gBAAgBuE,eAAeN,EAAczC,UAAWyC,EAAcK,aAAaE,UAAK5T,GAAW,SAAAtE,GAAG,OAAIoX,EAAKxD,qBAAqB5C,KAAKhR,EAAI,IAEjJsT,EAAmB6E,KAAKR,EAAczC,YACvC/S,KAAKwR,kBAAkByE,WAAW,0BAA2B,CAAEvV,GAAI8U,EAAczC,UAAWpL,KAAM,gBAGnGwN,EACX,GAAC,CAAA/U,IAAA,iCAAAhD,MACD,SAA+BmV,GAC3B,OAAIA,EAAM2D,UAAW3D,EAAM4D,UAMtB5D,EAAM6D,SAAW,IAAyB7D,EAAM6D,SAAW,IACxD7D,EAAM6D,SAAW,IAA2B7D,EAAM6D,SAAW,GAIzE,KAAChF,CAAA,CA5MiC,CAASiF,EAAAA,IA8MzCpE,EAAqB,WACvB,SAAAA,EAAYqE,IAAQvW,EAAAA,EAAAA,GAAA,KAAAkS,GAChBjS,KAAKuW,WAAWD,GAASA,EAAOJ,QAChClW,KAAKwW,YAAYF,GAASA,EAAOG,SACjCzW,KAAK0W,UAAUJ,GAASA,EAAOK,OAC/B3W,KAAK4W,WAAWN,GAASA,EAAOH,OACpC,CAQC,OARAhW,EAAAA,EAAAA,GAAA8R,EAAA,EAAA7R,IAAA,MAAAhD,MACD,SAAIyZ,GACA,OAAQA,GACJ,IAAK,OAAQ,OAAO7W,KAAKuW,SACzB,IAAK,QAAS,OAAOvW,KAAKwW,UAC1B,IAAK,MAAO,OAAOxW,KAAK0W,QACxB,IAAK,OAAQ,OAAO1W,KAAK4W,SAEjC,KAAC3E,CAAA,CAdsB,GAgB3BA,EAAsBC,MAAQ,IAAID,EAAsB,K,4DCnO3C6E,GAAqBvb,E,QAAAA,IAAgB,oB,wGCArCwb,EAAkB,WAC3B,SAAAA,EAAYC,EAAoBC,EAAWC,IAAKnX,EAAAA,EAAAA,GAAA,KAAAgX,GAC5C/W,KAAKoT,KAAO8D,EACZlX,KAAKmX,oBAAsBH,EAC3BhX,KAAKoX,sBAAwB,IAAIlX,IAAM,IACW3B,EADXE,GAAA1B,EAAAA,EAAAA,GACPia,GAAkB,IAAlD,IAAAvY,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAoD,KAC1Cma,EADkB9Y,EAAAnB,MACUia,QAC9BA,GAAiC,MAAtBA,EAAQtG,OAAO,IAC1B/Q,KAAKoX,sBAAsBvX,IAAIwX,GAAS,EAEhD,CAAC,OAAAxZ,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,CACDkC,KAAKsX,KAAO,IAAIpX,IAChBF,KAAKuX,WAAa,IAAIrX,IACtBF,KAAKwX,aAAeT,EAAmBU,eAAe,GAAGtP,OAAO6O,GAAoB7O,OAAO8O,IAC3F,IAAK,IAAIhZ,EAAI,EAAGyZ,EAAM1X,KAAKwX,aAAavb,OAAQgC,EAAIyZ,EAAKzZ,IAAK,CAC1D,IAAM0Z,EAAI3X,KAAKwX,aAAavZ,GACJ,IAApB0Z,EAAEC,OAAO3b,SAIT0b,EAAE3S,MAAwB,IAAhB2S,EAAE3S,KAAK8J,MAKrB9O,KAAK6X,aAAaF,EAAEC,OAAO,GAAID,GACnC,CACJ,CA2OC,OA3OAxX,EAAAA,EAAAA,GAAA4W,EAAA,EAAA3W,IAAA,eAAAhD,MA8ED,SAAa0W,EAAUlH,GACnB,IAAMkL,EAAY9X,KAAKsX,KAAKxQ,IAAIgN,GAChC,GAAyB,qBAAdgE,EAIP,OAFA9X,KAAKsX,KAAKzX,IAAIiU,EAAU,CAAClH,SACzB5M,KAAK+X,gBAAgBnL,GAGzB,IAAK,IAAI3O,EAAI6Z,EAAU7b,OAAS,EAAGgC,GAAK,EAAGA,IAAK,CAC5C,IAAM+Z,EAAWF,EAAU7Z,GAC3B,GAAI+Z,EAASX,UAAYzK,EAAKyK,QAA9B,CAGA,IAAMY,EAA6BD,EAASJ,OAAO3b,OAAS,EACtDic,EAAyBtL,EAAKgL,OAAO3b,OAAS,EAEhDgc,GAA6BC,GAAyBF,EAASJ,OAAO,KAAOhL,EAAKgL,OAAO,IAIzFb,EAAmBoB,uBAAuBH,EAAShT,KAAM4H,EAAK5H,OAG9DhF,KAAKoY,qBAAqBJ,EAX9B,CAaJ,CACAF,EAAU1b,KAAKwQ,GACf5M,KAAK+X,gBAAgBnL,EACzB,GAAC,CAAAxM,IAAA,kBAAAhD,MACD,SAAgBwP,GACZ,GAAKA,EAAKyK,QAAV,CAGA,IAAIgB,EAAMrY,KAAKuX,WAAWzQ,IAAI8F,EAAKyK,SAChB,qBAARgB,GACPA,EAAM,CAACzL,GACP5M,KAAKuX,WAAW1X,IAAI+M,EAAKyK,QAASgB,IAGlCA,EAAIjc,KAAKwQ,EAPb,CASJ,GAAC,CAAAxM,IAAA,uBAAAhD,MACD,SAAqBwP,GACjB,GAAKA,EAAKyK,QAAV,CAGA,IAAMgB,EAAMrY,KAAKuX,WAAWzQ,IAAI8F,EAAKyK,SACrC,GAAmB,qBAARgB,EAGX,IAAK,IAAIpa,EAAI,EAAGyZ,EAAMW,EAAIpc,OAAQgC,EAAIyZ,EAAKzZ,IACvC,GAAIoa,EAAIpa,KAAO2O,EAEX,YADAyL,EAAI9U,OAAOtF,EAAG,EAPtB,CAWJ,GACA,CAAAmC,IAAA,iBAAAhD,MAYA,WACI,OAAO4C,KAAKwX,YAChB,GAAC,CAAApX,IAAA,0BAAAhD,MACD,SAAwB2V,EAAWC,GAC/B,IAAMsF,EAAQtY,KAAKuX,WAAWzQ,IAAIiM,GAClC,GAAqB,qBAAVuF,GAA0C,IAAjBA,EAAMrc,OACtC,OAAO,KAEX,GAAqB,IAAjBqc,EAAMrc,OACN,OAAOqc,EAAM,GAEjB,IAAK,IAAIra,EAAIqa,EAAMrc,OAAS,EAAGgC,GAAK,EAAGA,IAAK,CACxC,IAAM2O,EAAO0L,EAAMra,GACnB,GAAI+U,EAAQuF,oBAAoB3L,EAAK5H,MACjC,OAAO4H,CAEf,CACA,OAAO0L,EAAMA,EAAMrc,OAAS,EAChC,GAAC,CAAAmE,IAAA,UAAAhD,MACD,SAAQ4V,EAASa,EAAcC,GAC3B9T,KAAKoT,KAAK,eAADjL,OAAgB2L,GAAQ3L,OAAG0L,EAAe,iBAAH1L,OAAoB0L,GAAY,KAChF,IAAI2E,EAAY,KAChB,GAAqB,OAAjB3E,EAAuB,CAEvB,IAAM4E,EAAazY,KAAKsX,KAAKxQ,IAAI+M,GACjC,GAA0B,qBAAf4E,EAGP,OADAzY,KAAKoT,KAAK,6BACH,KAEXoF,EAAY,GACZ,IAAK,IAAIva,EAAI,EAAGyZ,EAAMe,EAAWxc,OAAQgC,EAAIyZ,EAAKzZ,IAAK,CACnD,IAAMsP,EAAYkL,EAAWxa,GAEzBsP,EAAUqK,OAAO,KAAO9D,GACxB0E,EAAUpc,KAAKmR,EAEvB,CACJ,KACK,CACD,IAAMkL,EAAazY,KAAKsX,KAAKxQ,IAAIgN,GACjC,GAA0B,qBAAf2E,EAGP,OADAzY,KAAKoT,KAAK,6BACH,KAEXoF,EAAYC,CAChB,CACA,IAAMrO,EAASpK,KAAK0Y,aAAa1F,EAASwF,GAC1C,OAAKpO,EAKgB,OAAjByJ,GAAyBzJ,EAAOwN,OAAO3b,OAAS,GAA0B,OAArBmO,EAAOwN,OAAO,IACnE5X,KAAKoT,KAAK,WAADjL,OAAYqQ,EAAUvc,OAAM,8CAAAkM,OAA6CwQ,EAAqBvO,EAAOpF,MAAK,cAAAmD,OAAayQ,EAAuBxO,GAAO,MACvJ,CACHqL,iBAAiB,EACjBoD,iBAAiB,EACjB9F,UAAW,KACX8C,YAAa,KACbD,QAAQ,KAGhB5V,KAAKoT,KAAK,WAADjL,OAAYqQ,EAAUvc,OAAM,iCAAAkM,OAAgCiC,EAAOiN,QAAO,YAAAlP,OAAWwQ,EAAqBvO,EAAOpF,MAAK,cAAAmD,OAAayQ,EAAuBxO,GAAO,MACnK,CACHqL,iBAAiB,EACjBoD,gBAAiBzO,EAAOwN,OAAO3b,OAAS,EACxC8W,UAAW3I,EAAOiN,QAClBxB,YAAazL,EAAOyL,YACpBD,OAAQxL,EAAOwL,UApBf5V,KAAKoT,KAAK,WAADjL,OAAYqQ,EAAUvc,OAAM,8DAC9B,KAqBf,GAAC,CAAAmE,IAAA,eAAAhD,MACD,SAAa4V,EAAS8F,GAClB,IAAK,IAAI7a,EAAI6a,EAAQ7c,OAAS,EAAGgC,GAAK,EAAGA,IAAK,CAC1C,IAAM0Z,EAAImB,EAAQ7a,GAClB,GAAK8Y,EAAmBgC,qBAAqB/F,EAAS2E,EAAE3S,MAGxD,OAAO2S,CACX,CACA,OAAO,IACX,IAAC,EAAAvX,IAAA,wBAAAhD,MApOD,SAA6B4b,EAAWC,EAAmBC,EAAmBlU,GAE1E,GAAIiU,GAAqBD,EAAUpB,OAAO,KAAOqB,EAC7C,OAAO,EAGX,GAAIC,GAAqBF,EAAUpB,OAAO,KAAOsB,EAC7C,OAAO,EAIX,GAAIlU,GAAsB,IAAdA,EAAK8J,KAA0C,CACvD,IAAKkK,EAAUhU,KACX,OAAO,EAEX,KAAKmU,EAAAA,EAAAA,IAA4CnU,EAAMgU,EAAUhU,MAC7D,OAAO,CAEf,CACA,OAAO,CACX,GACA,CAAA5E,IAAA,iBAAAhD,MAGA,SAAsBgc,GAGlB,IADA,IAAMC,EAAW,IAAInZ,IACZjC,EAAI,EAAGyZ,EAAM0B,EAAMnd,OAAQgC,EAAIyZ,EAAKzZ,IAAK,CAC9C,IAAMqb,EAAOF,EAAMnb,GACnB,GAAIqb,EAAKjC,SAAsC,MAA3BiC,EAAKjC,QAAQtG,OAAO,GAAY,CAChD,IAAMsG,EAAUiC,EAAKjC,QAAQrG,UAAU,GAClCqI,EAASzZ,IAAIyX,GAIdgC,EAASvS,IAAIuQ,GAASjb,KAAKkd,GAH3BD,EAASxZ,IAAIwX,EAAS,CAACiC,GAK/B,CACJ,CACA,GAAsB,IAAlBD,EAAS3R,KAET,OAAO0R,EAIX,IADA,IAAMhP,EAAS,GACNnM,EAAI,EAAGyZ,EAAM0B,EAAMnd,OAAQgC,EAAIyZ,EAAKzZ,IAAK,CAC9C,IAAMqb,EAAOF,EAAMnb,GACnB,GAAKqb,EAAKjC,SAAmC,IAAxBiC,EAAKjC,QAAQpb,QAIlC,GAA+B,MAA3Bqd,EAAKjC,QAAQtG,OAAO,GAAxB,CAGA,IAAMwI,EAAkBF,EAASvS,IAAIwS,EAAKjC,SAC1C,GAAKkC,GAAoBD,EAAKE,UAA9B,CAIA,IAC4C7a,EADxC8a,GAAY,EAAMxa,GAAAlC,EAAAA,EAAAA,GACOwc,GAAe,IAA5C,IAAAta,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAA8C,KAAnCwc,EAAc/a,EAAAvB,MAEfuc,EAAqBD,EAAe9B,OAAO,GAC3CgC,EAAsBF,EAAe9B,OAAO,GAC5C5S,EAAO0U,EAAe1U,KAC5B,GAAIhF,KAAK6Z,sBAAsBP,EAAMK,EAAoBC,EAAqB5U,GAAO,CACjFyU,GAAY,EACZ,KACJ,CACJ,CAAC,OAAA5b,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACI2b,GACDrP,EAAOhO,KAAKkd,EAbhB,MAFIlP,EAAOhO,KAAKkd,EAHhB,OALIlP,EAAOhO,KAAKkd,EA0BpB,CACA,OAAOlP,CACX,GAAC,CAAAhK,IAAA,yBAAAhD,MA6DD,SAA8B8N,EAAGC,GAC7B,OAAKA,GAAgB,IAAXA,EAAE2D,SAGP5D,GAAgB,IAAXA,EAAE4D,QAGLgL,EAAAA,EAAAA,IAAQ5O,EAAGC,EACtB,GAAC,CAAA/K,IAAA,uBAAAhD,MAoFD,SAA4B4V,EAASoG,GACjC,OAAKA,GAGEA,EAAMW,SAAS/G,EAC1B,KAAC+D,CAAA,CAtQ0B,GAwQ/B,SAAS4B,EAAqB3T,GAC1B,OAAKA,EAGE,GAAPmD,OAAUnD,EAAKgV,aAFJ,mBAGf,CACA,SAASpB,EAAuBqB,GAC5B,OAAQA,EAAGC,YACJD,EAAGE,mBAAqB,sBAAHhS,OAAyB8R,EAAGC,aAAW,kBAAA/R,OAAuB8R,EAAGC,aACtFD,EAAGT,UAAY,WAAH,MACvB,C,iJClMa1U,EAAsB,IA3EN,WACzB,SAAAsV,KAAcra,EAAAA,EAAAA,GAAA,KAAAqa,GACVpa,KAAKqa,iBAAmB,IAAItM,EAAAA,EAC5B/N,KAAKsa,sBAAwB,GAC7Bta,KAAKua,yBAA2B,IACpC,CAqBC,OApBDpa,EAAAA,EAAAA,GAAAia,EAAA,EAAAha,IAAA,yBAAAhD,MAqBA,SAAuBkc,GACnB,IAAMkB,EAAWJ,EAAwBK,sBAAsBnB,GACzDlP,EAAS,IAAIzH,EAAAA,GACnB,GAAI6X,GAAYA,EAASrV,QAAS,CAC9B,IAAMuV,GAAKC,EAAAA,EAAAA,IAAiBH,EAASrV,QAASyV,EAAAA,IAC1CF,GACAtQ,EAAO/G,IAAIrD,KAAK6a,2BAA2BH,EAAIpB,EAAK5Y,GAAI4Y,EAAK/O,KAAM+O,EAAKvU,OAAQ,EAAGuU,EAAKtU,MAEhG,CACA,GAAIwV,GAAYhQ,MAAMsQ,QAAQN,EAASpV,WACnC,IAAK,IAAInH,EAAI,EAAGyZ,EAAM8C,EAASpV,UAAUnJ,OAAQgC,EAAIyZ,EAAKzZ,IAAK,CAC3D,IAAM0Z,EAAI6C,EAASpV,UAAUnH,GACvByc,GAAKC,EAAAA,EAAAA,IAAiBhD,EAAGiD,EAAAA,IAC3BF,GACAtQ,EAAO/G,IAAIrD,KAAK6a,2BAA2BH,EAAIpB,EAAK5Y,GAAI4Y,EAAK/O,KAAM+O,EAAKvU,QAAS9G,EAAI,EAAGqb,EAAKtU,MAErG,CAEJ,OAAOoF,CACX,GAAC,CAAAhK,IAAA,mCAAAhD,MACD,SAAiC2D,GAC7B,OAAOga,EAAAA,EAAAA,IAAmB/a,KAAKgb,uBAAuBja,GAAOka,EAAAA,EAAAA,gBAAiCla,GAClG,GAAC,CAAAX,IAAA,6BAAAhD,MACD,SAA2BiW,EAAYN,EAAW8C,EAAaqF,EAASC,EAASnW,GAAM,IAAAf,EAAA,KAC7EmX,EAASpb,KAAKqa,iBAAiBje,KAAK,CACtCiX,WAAYA,EACZgE,QAAStE,EACT8C,YAAaA,EACb7Q,KAAMA,EACNkW,QAASA,EACTC,QAASA,EACTjB,YAAa,KACbC,oBAAoB,IAGxB,OADAna,KAAKua,yBAA2B,MACzBjX,EAAAA,EAAAA,KAAa,WAChB8X,IACAnX,EAAKsW,yBAA2B,IACpC,GACJ,GAAC,CAAAna,IAAA,wBAAAhD,MACD,WAKI,OAJK4C,KAAKua,2BACNva,KAAKua,yBAA2B/P,MAAM7C,KAAK3H,KAAKqa,kBAAkBlS,OAAOnI,KAAKsa,uBAC9Eta,KAAKua,yBAAyBtP,KAAKoQ,IAEhCrb,KAAKua,yBAAyB1O,MAAM,EAC/C,IAAC,EAAAzL,IAAA,wBAAAhD,MAhED,SAA6B6c,GACzB,GAAW,IAAPW,EAAAA,IACA,GAAIX,GAAMA,EAAGqB,IACT,OAAOrB,EAAGqB,SAGb,GAAW,IAAPV,EAAAA,IACL,GAAIX,GAAMA,EAAGsB,IACT,OAAOtB,EAAGsB,SAId,GAAItB,GAAMA,EAAGuB,MACT,OAAOvB,EAAGuB,MAGlB,OAAOvB,CACX,KAACG,CAAA,CA1BwB,IAiF7B,SAASiB,EAAOnQ,EAAGC,GACf,GAAID,EAAEgQ,UAAY/P,EAAE+P,QAChB,OAAOhQ,EAAEgQ,QAAU/P,EAAE+P,QAEzB,GAAIhQ,EAAEmM,SAAWlM,EAAEkM,QAAS,CACxB,GAAInM,EAAEmM,QAAUlM,EAAEkM,QACd,OAAQ,EAEZ,GAAInM,EAAEmM,QAAUlM,EAAEkM,QACd,OAAO,CAEf,CACA,OAAOnM,EAAEiQ,QAAUhQ,EAAEgQ,OACzB,CAdAtc,EAAAA,EAAAA,IAFiB,+BAEoBiG,E,yGCtFxB2W,GAAsBtb,EAAAA,EAAAA,IAC/B,SAAAsb,EAAYvI,EAAoBmE,EAASxB,EAAa7Q,EAAMwU,EAAWU,EAAaC,IAAoBpa,EAAAA,EAAAA,GAAA,KAAA0b,GACpGzb,KAAK0b,kCAA+BvZ,EACpCnC,KAAKkT,mBAAqBA,EAC1BlT,KAAK4X,OAAS1E,EAAqByI,EAA2BzI,EAAmBO,qBAAuB,GACpGP,GAA6C,IAAvBlT,KAAK4X,OAAO3b,SAElC+D,KAAK4X,OAAS+D,EAA2BzI,EAAmB2B,oCAEhE7U,KAAK4V,SAAUyB,GAAoC,KAA1BA,EAAQuE,WAAW,GAC5C5b,KAAKqX,QAAUrX,KAAK4V,OAASyB,EAAQwE,OAAO,GAAKxE,EACjDrX,KAAK6V,YAAcA,EACnB7V,KAAKgF,KAAOA,EACZhF,KAAKwZ,UAAYA,EACjBxZ,KAAKka,YAAcA,EACnBla,KAAKma,mBAAqBA,CAC9B,IAEG,SAASwB,EAA2BtD,GAEvC,IADA,IAAMjO,EAAS,GACNnM,EAAI,EAAGyZ,EAAMW,EAAIpc,OAAQgC,EAAIyZ,EAAKzZ,IAAK,CAC5C,IAAMiF,EAAUmV,EAAIpa,GACpB,IAAKiF,EACD,MAAO,GAEXkH,EAAOhO,KAAK8G,EAChB,CACA,OAAOkH,CACX,C,mJCzBa0R,EAAsB,SAAAC,IAAApY,EAAAA,EAAAA,GAAAmY,EAAAC,GAAA,IAAAnY,GAAAC,EAAAA,EAAAA,GAAAiY,GAC/B,SAAAA,EAAYE,EAAIpE,GAAQ,IAAA3T,EAEpB,IAFoBlE,EAAAA,EAAAA,GAAA,KAAA+b,GACpB7X,EAAAL,EAAAM,KAAA,MACsB,IAAlB0T,EAAO3b,OACP,MAAMggB,EAAAA,EAAAA,IAAgB,UAGJ,OADtBhY,EAAKiY,IAAMF,EACX/X,EAAKkY,QAAUvE,EAAO3T,CAC1B,CAiCC,OAjCA9D,EAAAA,EAAAA,GAAA2b,EAAA,EAAA1b,IAAA,WAAAhD,MACD,WAAW,IAAAuH,EAAA,KACP,OAAOyX,EAAAA,GAAAA,QAAwBpc,KAAKkc,IAAKlc,KAAKmc,SAAS,SAAC9I,GAAU,OAAK1O,EAAK0X,UAAUhJ,EAAW,GACrG,GAAC,CAAAjT,IAAA,eAAAhD,MACD,WAAe,IAAAuX,EAAA,KACX,OAAO2H,EAAAA,GAAAA,QAA0Btc,KAAKkc,IAAKlc,KAAKmc,SAAS,SAAC9I,GAAU,OAAKsB,EAAK4H,cAAclJ,EAAW,GAC3G,GAAC,CAAAjT,IAAA,yBAAAhD,MACD,WAAyB,IAAA6X,EAAA,KACrB,OAAIjV,KAAKmc,QAAQlgB,OAAS,GAItB+D,KAAKmc,QAAQ,GAAGK,0BAFT,KAOJC,EAAAA,GAAAA,QAAyCzc,KAAKkc,IAAKlc,KAAKmc,SAAS,SAAC9I,GAAU,OAAK4B,EAAKyH,wBAAwBrJ,EAAW,GACpI,GAAC,CAAAjT,IAAA,oBAAAhD,MACD,WACI,OAAQ4C,KAAKmc,QAAQlgB,OAAS,CAClC,GAAC,CAAAmE,IAAA,YAAAhD,MACD,WAAY,IAAAuf,EAAA,KACR,OAAO3c,KAAKmc,QAAQS,KAAI,SAACvJ,GAAU,OAAKsJ,EAAKE,UAAUxJ,EAAW,GACtE,GAAC,CAAAjT,IAAA,YAAAhD,MACD,SAAUiW,GACN,OAAO,IAAIyJ,EAAAA,GAAczJ,EAAW6C,QAAS7C,EAAWoD,SAAUpD,EAAWsD,OAAQtD,EAAW8C,QAASnW,KAAKqc,UAAUhJ,GAAarT,KAAKuc,cAAclJ,GAC5J,GAAC,CAAAjT,IAAA,oBAAAhD,MACD,WAAoB,IAAA2f,EAAA,KAChB,OAAO/c,KAAKmc,QAAQS,KAAI,SAACvJ,GAAU,OAAK0J,EAAKC,kBAAkB3J,EAAW,GAC9E,GAAC,CAAAjT,IAAA,kCAAAhD,MACD,WAAkC,IAAA6f,EAAA,KAC9B,OAAOjd,KAAKmc,QAAQS,KAAI,SAACvJ,GAAU,OAAK4J,EAAKC,gCAAgC7J,EAAW,GAC5F,KAACyI,CAAA,CAzC8B,CAASqB,EAAAA,I,WCI/BC,EAA0B,SAAAC,IAAA1Z,EAAAA,EAAAA,GAAAyZ,EAAAC,GAAA,IAAAzZ,GAAAC,EAAAA,EAAAA,GAAAuZ,GACnC,SAAAA,EAAYxF,EAAQoE,GAAI,OAAAjc,EAAAA,EAAAA,GAAA,KAAAqd,GAAAxZ,EAAAM,KAAA,KACd8X,EAAIpE,EACd,CAqJC,OArJAzX,EAAAA,EAAAA,GAAAid,EAAA,EAAAhd,IAAA,oBAAAhD,MACD,SAAkBgZ,GACd,GAAiB,IAAbpW,KAAKkc,IACL,OAAQ9F,GACJ,KAAK,GACD,MAAO,SACX,KAAK,GACD,MAAO,SACX,KAAK,GACD,MAAO,SACX,KAAK,GACD,MAAO,SAGnB,OAAOkH,EAAAA,GAAAA,SAAsBlH,EACjC,GAAC,CAAAhW,IAAA,YAAAhD,MACD,SAAUmgB,GACN,OAAIA,EAAMf,0BACC,GAEJxc,KAAKwd,kBAAkBD,EAAMnH,QACxC,GAAC,CAAAhW,IAAA,gBAAAhD,MACD,SAAcmgB,GACV,OAAIA,EAAMf,0BACC,GAEJc,EAAAA,GAAAA,SAAsBC,EAAMnH,QACvC,GAAC,CAAAhW,IAAA,0BAAAhD,MACD,SAAwBmgB,GACpB,OAAOD,EAAAA,GAAAA,sBAAmCC,EAAMnH,QACpD,GAAC,CAAAhW,IAAA,oBAAAhD,MACD,SAAkBmgB,GACd,OAAOH,EAA2BK,eAAeF,EACrD,GAAC,CAAAnd,IAAA,kCAAAhD,MAqBD,SAAgCiW,GAC5B,OAA2B,IAAvBA,EAAW+C,SAAqC/C,EAAWoD,UAAapD,EAAWsD,QAAWtD,EAAW8C,QAGlF,IAAvB9C,EAAW+C,SAAsC/C,EAAW6C,SAAY7C,EAAWsD,QAAWtD,EAAW8C,QAGlF,IAAvB9C,EAAW+C,SAAoC/C,EAAW6C,SAAY7C,EAAWoD,UAAapD,EAAW8C,QAGlF,KAAvB9C,EAAW+C,SAAsC/C,EAAW6C,SAAY7C,EAAWoD,UAAapD,EAAWsD,OAGxG,KAFI,OAHA,MAHA,QAHA,MAYf,IACA,EAAAvW,IAAA,iBAAAhD,MAnCA,SAAsBmgB,GAClB,GAAIA,EAAMG,gBACN,OAAO,KAEX,IAAItT,EAAS,GAcb,OAbImT,EAAMrH,UACN9L,GAAU,SAEVmT,EAAM9G,WACNrM,GAAU,UAEVmT,EAAM5G,SACNvM,GAAU,QAEVmT,EAAMpH,UACN/L,GAAU,SAEdA,GAAUkT,EAAAA,GAAAA,SAAsBC,EAAMnH,QAE1C,GAAC,CAAAhW,IAAA,qBAAAhD,MAmBD,SAA0BugB,GACtB,IAAMC,EAAmBC,EAAAA,GAA2BF,GACpD,IAA0B,IAAtBC,EACA,OAAOA,EAEX,OAAQD,GACJ,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAA+B,OAAO,GAC3C,KAAK,GAAgC,OAAO,GAC5C,KAAK,GAA6B,OAAO,GACzC,KAAK,GAA4B,OAAO,EACxC,KAAK,GAA6B,OAAO,GACzC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAA6B,OAAO,GACzC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAAyB,OAAO,GACrC,KAAK,IAAkC,OAAO,GAElD,OAAO,CACX,GAAC,CAAAvd,IAAA,kBAAAhD,MACD,SAAuBmgB,GACnB,IAAKA,EACD,OAAO,KAEX,GAAIA,aAAiBO,EAAAA,GACjB,OAAOP,EAEX,IAAMnH,EAAUpW,KAAK+d,mBAAmBR,EAAMI,UAC9C,OAAgB,IAAZvH,EACO,KAEJ,IAAI0H,EAAAA,GAAaP,EAAMrH,QAASqH,EAAM9G,SAAU8G,EAAM5G,OAAQ4G,EAAMpH,QAASC,EACxF,GAAC,CAAAhW,IAAA,oBAAAhD,MACD,SAAyBiW,EAAY2I,GAAI,IAAA/X,EAAA,KAC/B2T,GAAS+D,EAAAA,EAAAA,GAA2BtI,EAAWuE,OAAOgF,KAAI,SAAAW,GAAK,OAAItZ,EAAK+Z,gBAAgBT,EAAM,KACpG,OAAI3F,EAAO3b,OAAS,EACT,CAAC,IAAImhB,EAA2BxF,EAAQoE,IAE5C,EACX,KAACoB,CAAA,CAxJkC,CAAStB,E,4DCVnCmC,GAAgB1iB,E,QAAAA,IAAgB,e,4DCIhC2iB,GAAiB3iB,E,QAAAA,IAAgB,gB,4gBCD1CqF,EAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIM,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUb,EAAQV,GAAOuB,EAAUb,EAAQV,EAAKsB,EAAa,CACxE,EAqBayc,GAAe5iB,EAAAA,EAAAA,IAAgB,eAC/B6iB,EAAW,WAIpB,SAAAA,KAAcre,EAAAA,EAAAA,GAAA,KAAAqe,GACVpe,KAAKkO,YAAc,IAAIvL,EAAAA,GACvB3C,KAAKqe,MAAQ,GACbre,KAAKse,wBAAqBnc,EAC1BnC,KAAKue,4BAA6B,CACtC,CAoCC,OApCApe,EAAAA,EAAAA,GAAAie,EAAA,EAAAhe,IAAA,kBAAA0G,IARD,WACI,OAAO9G,KAAKse,kBAChB,GAAC,CAAAle,IAAA,qBAAAhD,MAOD,SAAmBmF,GACf,IAAI1G,EAAI8J,EACJpD,IAAWvC,KAAKse,qBAGe,QAAlCziB,EAAKmE,KAAKse,0BAAuC,IAAPziB,GAAyBA,EAAG2iB,iBAAiBC,UAAUrD,OAAO,gBACzGpb,KAAKse,mBAAqB/b,EACS,QAAlCoD,EAAK3F,KAAKse,0BAAuC,IAAP3Y,GAAyBA,EAAG6Y,iBAAiBC,UAAUpb,IAAI,gBAC1G,GAAC,CAAAjD,IAAA,WAAAhD,MACD,SAASmF,EAAQmc,GAAkB,IAAAza,EAAA,KAC1BjE,KAAKue,6BACNve,KAAKue,4BAA6B,EAEV,IAAII,EAAAA,IAAuBC,EAAAA,EAAAA,oBAAoB,IACvDC,MAAMC,EAAAA,KAE1B,GAAI9e,KAAKqe,MAAMU,MAAK,SAAAC,GAAC,OAAIA,EAAEzc,SAAWA,CAAM,IACxC,MAAM,IAAIE,MAAM,kDAGpB,IAAMwc,EAAiB,CAAE1c,OAAAA,EAAQmc,iBAAAA,GAMjC,OALA1e,KAAKqe,MAAMjiB,KAAK6iB,GAEZ1c,EAAOic,mBAAqBrb,SAASC,eACrCpD,KAAKkf,mBAAmB3c,IAErBwY,EAAAA,EAAAA,IAAmBxY,EAAOS,YAAW,kBAAMiB,EAAKib,mBAAmB3c,EAAO,KAAGe,EAAAA,EAAAA,KAAa,kBAAMW,EAAKoa,MAAM9a,OAAOU,EAAKoa,MAAMhhB,QAAQ4hB,GAAiB,EAAE,IAAG1c,EAAO4c,cAAa,WAClLlb,EAAKoa,MAAQpa,EAAKoa,MAAMe,QAAO,SAAAJ,GAAC,OAAIA,IAAMC,CAAc,IACpDhb,EAAKqa,qBAAuB/b,GAC5B0B,EAAKib,wBAAmB/c,EAEhC,IACJ,GAAC,CAAA/B,IAAA,UAAAhD,MACD,WACI4C,KAAKkO,YAAY1K,SACrB,KAAC4a,CAAA,CA7CmB,GA+CXiB,EAAkC,IAAIxd,EAAAA,GAAc,aAAa,GACjEyd,EAA6C,IAAIzd,EAAAA,GAAc,2BAA2B,GAC1F0d,EAA+Bta,EAAAA,GAAAA,IAAmBoa,EAAiCpa,EAAAA,GAAAA,IAAmBua,EAAAA,KACtGC,EAAmC,IAAI5d,EAAAA,GAAc,2BAA2B,GAChF6d,EAA+B,IAAI7d,EAAAA,GAAc,uBAAuB,GACxE8d,EAA8B,IAAI9d,EAAAA,GAAc,sBAAsB,GACtE+d,EAAmC,IAAI/d,EAAAA,GAAc,2BAA2B,GAChFge,EAA4B,IAAIhe,EAAAA,GAAc,oBAAoB,GAClEie,EAAkC,IAAIje,EAAAA,GAAc,0BAA0B,GAC9Eke,EAAgC,IAAIle,EAAAA,GAAc,wBAAwB,GAC1Eme,EAAgC,IAAIne,EAAAA,GAAc,wBAAwB,GAC1Eoe,EAA+B,IAAIpe,EAAAA,GAAc,uBAAuB,GACxEqe,EAAwB,IAAIre,EAAAA,GAAc,gBAAgB,GACjEse,EAAqC,yBAIrCC,EAAoD,kCAC1D,SAASC,EAA8Brc,EAAmBzB,GACtD,IAAM6H,EAASpG,EAAkBI,aAAa7B,EAAOic,kBAErD,OADAa,EAAgCxc,OAAOuH,GAChCA,CACX,CACA,IAAMkW,EAAgC,qCAChCC,GAAqB,0BACrBC,GAAyB,qCACzBC,GAA4B,iCAC5BC,GAA+B,oCAE/BC,GAA+B,oCAC/BC,GAAkB,8BAClBC,GAAiC,sCACjCC,GAAgB,wBAChBC,GAA4B,oCAC5BC,GAAsB,iCACtBC,GAAiC,6CACjCC,GAA2B,uCAC3BC,GAAiB,4BACvB,SAASC,GAAkCC,GACvC,MAAwE,QAAjEA,EAAqBC,SAAShB,EACzC,CAAC,IACKiB,GAA2B,SAAAlQ,IAAA1N,EAAAA,EAAAA,GAAA4d,EAAAlQ,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAA0d,GAC7B,SAAAA,EAAYF,GAAsB,IAAA1c,EAIL,OAJK5E,EAAAA,EAAAA,GAAA,KAAAwhB,IAC9B5c,EAAAf,EAAAM,KAAA,OACKmd,qBAAuBA,EAC5B1c,EAAKyc,kCAAoCA,GAAkCC,GAC3E1c,EAAK6c,oBAAoB7c,CAC7B,CAgBC,OAhBAxE,EAAAA,EAAAA,GAAAohB,EAAA,EAAAnhB,IAAA,oBAAAhD,MACD,WAAoB,IAAAuX,EAAA,KAChB3U,KAAKmE,UAAUnE,KAAKqhB,qBAAqBI,0BAAyB,SAAA7lB,GAC1DA,EAAE8lB,qBAAqBpB,KACvB3L,EAAKyM,kCAAoCA,GAAkCzM,EAAK0M,sBAExF,IACJ,GAAC,CAAAjhB,IAAA,+BAAAhD,MACD,SAA6BmV,GACzB,OAAIvS,KAAKohB,kCACE7O,EAAMoP,aAAahL,QAEvBiL,EAAAA,EAAAA,IAA6BrP,EACxC,GAAC,CAAAnS,IAAA,8BAAAhD,MACD,SAA4BmV,GACxB,OAAOsP,EAAAA,EAAAA,IAA4BtP,EACvC,KAACgP,CAAA,CAtB4B,CAASlL,EAAAA,IAwB1C,SAASyL,GAAuBxc,EAAU1H,GACtC,IAAI/B,EACEwlB,EAAuB/b,EAASwB,IAAIib,EAAAA,IACpCrc,EAAoBJ,EAASwB,IAAIgQ,EAAAA,GACjC5I,EAAc,IAAIvL,EAAAA,GAExB,MAAO,CADQvB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEqkB,2BAA4B,CAAEC,+BAA8B,SAACtmB,GAAK,OAAO8J,EAAkBwc,+BAA+BtmB,EAAI,GAAKumB,gBAAiB9b,QAAQgb,EAAqBC,SAASN,KAAuBoB,4BAA6Bf,EAAqBC,SAASL,IAAiCoB,sBAAuBhB,EAAqBC,SAASJ,IAA2BoB,4BAA4E,QAA9CzmB,EAAK+B,EAAQ0kB,mCAAgD,IAAPzmB,EAAgBA,EAAKqS,EAAY7K,IAAI,IAAIke,GAA4BF,IAAwBkB,8BAA+BC,GAAoC9c,GAAoB+c,aAAcpc,QAAQgb,EAAqBC,SAASV,OACpuB1S,EACpB,CACA,IAAIwU,GAAa,SAAAC,IAAAhf,EAAAA,EAAAA,GAAA+e,EAAAC,GAAA,IAAAje,GAAAb,EAAAA,EAAAA,GAAA6e,GACb,SAAAA,EAAYE,EAAM9e,EAAW+e,EAAUC,EAAWllB,EAASoG,EAAmB+e,EAAa1B,EAAsB2B,GAAsB,IAAA/N,GAAAlV,EAAAA,EAAAA,GAAA,KAAA2iB,GACnI,IAAMO,EAA6D,qBAAhCrlB,EAAQqlB,oBAAsCrlB,EAAQqlB,oBAAsB5c,QAAQgb,EAAqBC,SAASd,KACrJ0C,EAA+DF,EAAqBG,eAAerB,GAAwBlkB,GAAQwlB,GAAAlb,EAAAA,EAAAA,GAAAgb,EAAA,GAA5HG,EAAoBD,EAAA,GAAEE,EAA8BF,EAAA,GA4DtB,OA3DrCnO,EAAAvQ,EAAAR,KAAA,KAAM0e,EAAM9e,EAAW+e,EAAUC,EAAW1hB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAEuB,iBAAiB,GAASF,GAAuB,CAAEJ,oBAAAA,MACxH/U,YAAY7K,IAAIigB,GACrBrO,EAAKjR,kBAAoBqc,EAA8Brc,GAAiBwf,EAAAA,EAAAA,GAAAvO,IACxEA,EAAKwO,wBAA0BnE,EAA2Czc,OAAOoS,EAAKjR,mBACtFiR,EAAKwO,wBAAwB5jB,KAAyC,IAArCjC,EAAQ8lB,0BACT9D,EAAiC/c,OAAOoS,EAAKjR,mBACrDnE,IAAIwG,QAAQzI,EAAQ+lB,sBAC5C1O,EAAK2O,wBAA0BnE,EAAiC5c,OAAOoS,EAAKjR,mBAC5EiR,EAAK4O,oBAAsBnE,EAA6B7c,OAAOoS,EAAKjR,mBACpEiR,EAAK6O,mBAAqBnE,EAA4B9c,OAAOoS,EAAKjR,mBAClEiR,EAAKgO,oBAAsBrlB,EAAQqlB,oBACnChO,EAAK8O,mCAAqC3C,GAAkCC,GAC5EpM,EAAK/G,YAAY7K,IAAI4R,EAAKjR,mBAC1BiR,EAAK/G,YAAY7K,IAAI0f,EAAYiB,UAAQR,EAAAA,EAAAA,GAAAvO,KACzCA,EAAKgP,aAAarmB,EAAQsmB,gBAC1BjP,EAAK/G,YAAY7K,IAAI4R,EAAKkP,sBAAqB,WAC3C,IAAM1mB,EAAYwX,EAAKmP,eACjBC,EAAQpP,EAAKqP,WACnBrP,EAAKjR,kBAAkBugB,oBAAmB,WACtCtP,EAAK2O,wBAAwB/jB,IAAIpC,EAAUxB,OAAS,GAAKooB,EAAMpoB,OAAS,GACxEgZ,EAAK6O,mBAAmBjkB,IAAIpC,EAAUxB,OAAS,GAC/CgZ,EAAK4O,oBAAoBhkB,IAAyB,IAArBpC,EAAUxB,OAC3C,GACJ,KACAgZ,EAAK/G,YAAY7K,IAAI4R,EAAKuP,kBAAiB,WACvC,IAAM/mB,EAAYwX,EAAKmP,eACjBC,EAAQpP,EAAKqP,WACnBrP,EAAK2O,wBAAwB/jB,IAAIpC,EAAUxB,OAAS,GAAKooB,EAAMpoB,OAAS,EAC5E,KACAgZ,EAAK/G,YAAY7K,IAAIge,EAAqBI,0BAAyB,SAAA7lB,GAC3DA,EAAE8lB,qBAAqBpB,KACvBrL,EAAK8O,mCAAqC3C,GAAkCC,IAEhF,IAAIzjB,EAAU,CAAC,EACf,GAAIhC,EAAE8lB,qBAAqBlB,UAAwDre,IAA7B8S,EAAKgO,oBAAmC,CAC1F,IAAMA,EAAsB5c,QAAQgb,EAAqBC,SAASd,KAClE5iB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEqlB,oBAAAA,GAC1D,CACA,GAAIrnB,EAAE8lB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAepc,QAAQgb,EAAqBC,SAASV,KAC3DhjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAE6kB,aAAAA,GAC1D,CACA,GAAI7mB,EAAE8lB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkB9b,QAAQgb,EAAqBC,SAASN,KAC9DpjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEukB,gBAAAA,GAC1D,CACA,GAAIvmB,EAAE8lB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClErjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEwkB,4BAAAA,GAC1D,CACA,GAAIxmB,EAAE8lB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5DtjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEykB,sBAAAA,GAC1D,CACIjhB,OAAOgH,KAAKxK,GAAS3B,OAAS,GAC9BgZ,EAAKwP,cAAc7mB,EAE3B,KACAqX,EAAKyP,UAAY,IAAIC,IAAqBnB,EAAAA,EAAAA,GAAAvO,GAAO7T,OAAO4gB,OAAO,CAAEX,qBAAAA,GAAwBzjB,IACzFqX,EAAK/G,YAAY7K,IAAI4R,EAAKyP,WAAWzP,CACzC,CAYC,OAZA9U,EAAAA,EAAAA,GAAAuiB,EAAA,EAAAtiB,IAAA,gBAAAhD,MACD,SAAcQ,IACV6U,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAgQ,EAAAhU,WAAA,sBAAAxK,KAAA,KAAoBtG,QACWuE,IAA3BvE,EAAQsmB,gBACRlkB,KAAKikB,aAAarmB,EAAQsmB,qBAEW/hB,IAArCvE,EAAQ8lB,0BACR1jB,KAAKyjB,wBAAwB5jB,MAAMjC,EAAQ8lB,yBAEnD,GAAC,CAAAtjB,IAAA,eAAAhD,MACD,SAAawnB,GACT5kB,KAAK6e,MAAM+F,GAASC,EAAAA,EAAAA,IAAcD,GAAU9F,EAAAA,GAChD,KAAC4D,CAAA,CA5EY,CAA+BoC,EAAAA,IA8EhDpC,GAAgB9hB,EAAW,CACvBa,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,IACXtgB,EAAQ,EAAGmF,EAAAA,KACZ8b,IAEH,IAAIqC,GAAkB,SAAAC,IAAArhB,EAAAA,EAAAA,GAAAohB,EAAAC,GAAA,IAAAC,GAAAphB,EAAAA,EAAAA,GAAAkhB,GAClB,SAAAA,EAAYnC,EAAM9e,EAAW+e,EAAUC,EAAWllB,EAASoG,EAAmB+e,EAAa1B,EAAsB2B,GAAsB,IAAArG,GAAA5c,EAAAA,EAAAA,GAAA,KAAAglB,GACnI,IAAM9B,EAA6D,qBAAhCrlB,EAAQqlB,oBAAsCrlB,EAAQqlB,oBAAsB5c,QAAQgb,EAAqBC,SAASd,KACrJ0E,EAA+DlC,EAAqBG,eAAerB,GAAwBlkB,GAAQunB,GAAAjd,EAAAA,EAAAA,GAAAgd,EAAA,GAA5H7B,EAAoB8B,EAAA,GAAE7B,EAA8B6B,EAAA,GA4CtB,OA3CrCxI,EAAAsI,EAAA/gB,KAAA,KAAM0e,EAAM9e,EAAW+e,EAAUC,EAAW1hB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAEuB,iBAAiB,GAASF,GAAuB,CAAEJ,oBAAAA,MACxH/U,YAAc,IAAIvL,EAAAA,GACvBga,EAAKzO,YAAY7K,IAAIigB,GACrB3G,EAAK3Y,kBAAoBqc,EAA8Brc,GAAiBwf,EAAAA,EAAAA,GAAA7G,IACxEA,EAAKsG,oBAAsBrlB,EAAQqlB,oBACnCtG,EAAK8G,wBAA0BnE,EAA2Czc,OAAO8Z,EAAK3Y,mBACtF2Y,EAAK8G,wBAAwB5jB,KAAyC,IAArCjC,EAAQ8lB,0BACT9D,EAAiC/c,OAAO8Z,EAAK3Y,mBACrDnE,IAAIwG,QAAQzI,EAAQ+lB,sBAC5ChH,EAAKoH,mCAAqC3C,GAAkCC,GAC5E1E,EAAKzO,YAAY7K,IAAIsZ,EAAK3Y,mBAC1B2Y,EAAKzO,YAAY7K,IAAI0f,EAAYiB,UAAQR,EAAAA,EAAAA,GAAA7G,KACzCA,EAAKsH,aAAarmB,EAAQsmB,gBAC1BvH,EAAKzO,YAAY7K,IAAIge,EAAqBI,0BAAyB,SAAA7lB,GAC3DA,EAAE8lB,qBAAqBpB,KACvB3D,EAAKoH,mCAAqC3C,GAAkCC,IAEhF,IAAIzjB,EAAU,CAAC,EACf,GAAIhC,EAAE8lB,qBAAqBlB,UAAwDre,IAA7Bwa,EAAKsG,oBAAmC,CAC1F,IAAMA,EAAsB5c,QAAQgb,EAAqBC,SAASd,KAClE5iB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEqlB,oBAAAA,GAC1D,CACA,GAAIrnB,EAAE8lB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAepc,QAAQgb,EAAqBC,SAASV,KAC3DhjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAE6kB,aAAAA,GAC1D,CACA,GAAI7mB,EAAE8lB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkB9b,QAAQgb,EAAqBC,SAASN,KAC9DpjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEukB,gBAAAA,GAC1D,CACA,GAAIvmB,EAAE8lB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClErjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEwkB,4BAAAA,GAC1D,CACA,GAAIxmB,EAAE8lB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5DtjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEykB,sBAAAA,GAC1D,CACIjhB,OAAOgH,KAAKxK,GAAS3B,OAAS,GAC9B0gB,EAAK8H,cAAc7mB,EAE3B,KACA+e,EAAK+H,UAAY,IAAIC,IAAqBnB,EAAAA,EAAAA,GAAA7G,GAAOvb,OAAO4gB,OAAO,CAAEX,qBAAAA,GAAwBzjB,IACzF+e,EAAKzO,YAAY7K,IAAIsZ,EAAK+H,WAAW/H,CACzC,CAgBC,OAhBAxc,EAAAA,EAAAA,GAAA4kB,EAAA,EAAA3kB,IAAA,gBAAAhD,MACD,SAAcQ,IACV6U,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAqS,EAAArW,WAAA,sBAAAxK,KAAA,KAAoBtG,QACWuE,IAA3BvE,EAAQsmB,gBACRlkB,KAAKikB,aAAarmB,EAAQsmB,qBAEW/hB,IAArCvE,EAAQ8lB,0BACR1jB,KAAKyjB,wBAAwB5jB,MAAMjC,EAAQ8lB,yBAEnD,GAAC,CAAAtjB,IAAA,eAAAhD,MACD,SAAawnB,GACT5kB,KAAK6e,MAAM+F,GAASC,EAAAA,EAAAA,IAAcD,GAAU9F,EAAAA,GAChD,GAAC,CAAA1e,IAAA,UAAAhD,MACD,WACI4C,KAAKkO,YAAY1K,WACjBiP,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAqS,EAAArW,WAAA,gBAAAxK,KAAA,KACJ,KAAC6gB,CAAA,CAhEiB,CAAoCK,EAAAA,GAkE1DL,GAAqBnkB,EAAW,CAC5Ba,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,IACXtgB,EAAQ,EAAGmF,EAAAA,KACZme,IAEH,IAAIM,GAAc,SAAAC,IAAA3hB,EAAAA,EAAAA,GAAA0hB,EAAAC,GAAA,IAAAC,GAAA1hB,EAAAA,EAAAA,GAAAwhB,GACd,SAAAA,EAAYzC,EAAM9e,EAAW+e,EAAU2C,EAAS1C,EAAWllB,EAASoG,EAAmB+e,EAAa1B,EAAsB2B,GAAsB,IAAAjG,GAAAhd,EAAAA,EAAAA,GAAA,KAAAslB,GAC5I,IAAMpC,EAA6D,qBAAhCrlB,EAAQqlB,oBAAsCrlB,EAAQqlB,oBAAsB5c,QAAQgb,EAAqBC,SAASd,KACrJiF,EAA+DzC,EAAqBG,eAAerB,GAAwBlkB,GAAQ8nB,GAAAxd,EAAAA,EAAAA,GAAAud,EAAA,GAA5HpC,EAAoBqC,EAAA,GAAEpC,EAA8BoC,EAAA,GA4DtB,OA3DrC3I,EAAAwI,EAAArhB,KAAA,KAAM0e,EAAM9e,EAAW+e,EAAU2C,EAAS1C,EAAW1hB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAEuB,iBAAiB,GAASF,GAAuB,CAAEJ,oBAAAA,MACjI/U,YAAY7K,IAAIigB,GACrBvG,EAAK/Y,kBAAoBqc,EAA8Brc,GAAiBwf,EAAAA,EAAAA,GAAAzG,IACxEA,EAAK0G,wBAA0BnE,EAA2Czc,OAAOka,EAAK/Y,mBACtF+Y,EAAK0G,wBAAwB5jB,KAAyC,IAArCjC,EAAQ8lB,0BACT9D,EAAiC/c,OAAOka,EAAK/Y,mBACrDnE,IAAIwG,QAAQzI,EAAQ+lB,sBAC5C5G,EAAK6G,wBAA0BnE,EAAiC5c,OAAOka,EAAK/Y,mBAC5E+Y,EAAK8G,oBAAsBnE,EAA6B7c,OAAOka,EAAK/Y,mBACpE+Y,EAAK+G,mBAAqBnE,EAA4B9c,OAAOka,EAAK/Y,mBAClE+Y,EAAKkG,oBAAsBrlB,EAAQqlB,oBACnClG,EAAKgH,mCAAqC3C,GAAkCC,GAC5EtE,EAAK7O,YAAY7K,IAAI0Z,EAAK/Y,mBAC1B+Y,EAAK7O,YAAY7K,IAAI0f,EAAYiB,UAAQR,EAAAA,EAAAA,GAAAzG,KACzCA,EAAKkH,aAAarmB,EAAQsmB,gBAC1BnH,EAAK7O,YAAY7K,IAAI0Z,EAAKoH,sBAAqB,WAC3C,IAAM1mB,EAAYsf,EAAKqH,eACjBC,EAAQtH,EAAKuH,WACnBvH,EAAK/Y,kBAAkBugB,oBAAmB,WACtCxH,EAAK6G,wBAAwB/jB,IAAIpC,EAAUxB,OAAS,GAAKooB,EAAMpoB,OAAS,GACxE8gB,EAAK+G,mBAAmBjkB,IAAIpC,EAAUxB,OAAS,GAC/C8gB,EAAK8G,oBAAoBhkB,IAAyB,IAArBpC,EAAUxB,OAC3C,GACJ,KACA8gB,EAAK7O,YAAY7K,IAAI0Z,EAAKyH,kBAAiB,WACvC,IAAM/mB,EAAYsf,EAAKqH,eACjBC,EAAQtH,EAAKuH,WACnBvH,EAAK6G,wBAAwB/jB,IAAIpC,EAAUxB,OAAS,GAAKooB,EAAMpoB,OAAS,EAC5E,KACA8gB,EAAK7O,YAAY7K,IAAIge,EAAqBI,0BAAyB,SAAA7lB,GAC3DA,EAAE8lB,qBAAqBpB,KACvBvD,EAAKgH,mCAAqC3C,GAAkCC,IAEhF,IAAIzjB,EAAU,CAAC,EACf,GAAIhC,EAAE8lB,qBAAqBlB,UAAwDre,IAA7B4a,EAAKkG,oBAAmC,CAC1F,IAAMA,EAAsB5c,QAAQgb,EAAqBC,SAASd,KAClE5iB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEqlB,oBAAAA,GAC1D,CACA,GAAIrnB,EAAE8lB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAepc,QAAQgb,EAAqBC,SAASV,KAC3DhjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAE6kB,aAAAA,GAC1D,CACA,GAAI7mB,EAAE8lB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkB9b,QAAQgb,EAAqBC,SAASN,KAC9DpjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEukB,gBAAAA,GAC1D,CACA,GAAIvmB,EAAE8lB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClErjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEwkB,4BAAAA,GAC1D,CACA,GAAIxmB,EAAE8lB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5DtjB,EAAUwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGpkB,GAAU,CAAEykB,sBAAAA,GAC1D,CACIjhB,OAAOgH,KAAKxK,GAAS3B,OAAS,GAC9B8gB,EAAK0H,cAAc7mB,EAE3B,KACAmf,EAAK2H,UAAY,IAAIiB,IAAsBnC,EAAAA,EAAAA,GAAAzG,GAAO3b,OAAO4gB,OAAO,CAAEX,qBAAAA,GAAwBzjB,IAC1Fmf,EAAK7O,YAAY7K,IAAI0Z,EAAK2H,WAAW3H,CACzC,CAgBC,OAhBA5c,EAAAA,EAAAA,GAAAklB,EAAA,EAAAjlB,IAAA,gBAAAhD,MACD,SAAcQ,IACV6U,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA2S,EAAA3W,WAAA,sBAAAxK,KAAA,KAAoBtG,QACWuE,IAA3BvE,EAAQsmB,gBACRlkB,KAAKikB,aAAarmB,EAAQsmB,qBAEW/hB,IAArCvE,EAAQ8lB,0BACR1jB,KAAKyjB,wBAAwB5jB,MAAMjC,EAAQ8lB,yBAEnD,GAAC,CAAAtjB,IAAA,eAAAhD,MACD,SAAawnB,GACT5kB,KAAK6e,MAAM+F,GAASC,EAAAA,EAAAA,IAAcD,GAAU9F,EAAAA,GAChD,GAAC,CAAA1e,IAAA,UAAAhD,MACD,WACI4C,KAAKkO,YAAY1K,WACjBiP,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA2S,EAAA3W,WAAA,gBAAAxK,KAAA,KACJ,KAACmhB,CAAA,CAhFa,CAAgCO,EAAAA,GAkFlDP,GAAiBzkB,EAAW,CACxBa,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,IACXtgB,EAAQ,EAAGmF,EAAAA,KACZye,IACuB,IACpBQ,GAAiB,SAAAC,IAAAniB,EAAAA,EAAAA,GAAAkiB,EAAAC,GAAA,IAAAC,GAAAliB,EAAAA,EAAAA,GAAAgiB,GACnB,SAAAA,EAAYtjB,EAAQ3E,GAAS,IAAAqf,EACrBphB,EAkBH,OAnBwBkE,EAAAA,EAAAA,GAAA,KAAA8lB,IAEzB5I,EAAA8I,EAAA7hB,KAAA,OACK3B,OAASA,EACd0a,EAAK+I,WAAa/I,EAAK9Y,UAAU,IAAIyM,EAAAA,IACrCqM,EAAKgJ,UAAYhJ,EAAK+I,WAAWzT,MACjC0K,EAAK9Y,UAAUqO,EAAAA,GAAAA,OAAayK,EAAK1a,OAAO4hB,sBAAsB,SAAAvoB,GAAC,OAAIA,EAAE+lB,wBAAwBuE,aAAa,GAA3F1T,EAA6F,SAAA5W,GAAC,OAAIqhB,EAAKkJ,wBAAwBvqB,EAAE,KAChJqhB,EAAK9Y,UAAU8Y,EAAK1a,OAAO6jB,WAAU,SAACxqB,GAAC,OAAKqhB,EAAKmJ,UAAUxqB,EAAEsH,QAAStH,EAAE+lB,aAAa,KACrF1E,EAAK9Y,UAAU8Y,EAAK1a,OAAO8jB,iBAAgB,SAACzqB,GAAC,OAAKqhB,EAAKoJ,gBAAgBzqB,EAAEsH,QAAStH,EAAE+lB,aAAa,KACJ,mBAArE,OAAZ/jB,QAAgC,IAAZA,OAAqB,EAASA,EAAQ0oB,qBAAiD,OAAZ1oB,QAAgC,IAAZA,OAAqB,EAASA,EAAQyjB,uBACjKpE,EAAKqJ,kBAAsI,iBAArG,OAAZ1oB,QAAgC,IAAZA,OAAqB,EAASA,EAAQyjB,qBAAqBC,SAASf,KAClHtD,EAAK9Y,UAAsB,OAAZvG,QAAgC,IAAZA,OAAqB,EAASA,EAAQyjB,qBAAqBI,0BAAyB,SAAA7lB,GAC/GA,EAAE8lB,qBAAqBnB,MACvBtD,EAAKqJ,kBAAsI,iBAArG,OAAZ1oB,QAAgC,IAAZA,OAAqB,EAASA,EAAQyjB,qBAAqBC,SAASf,KAE1H,MAGAtD,EAAKqJ,kBAA2G,QAAtFzqB,EAAiB,OAAZ+B,QAAgC,IAAZA,OAAqB,EAASA,EAAQ0oB,yBAAsC,IAAPzqB,GAAgBA,EAC3IohB,CACL,CAuDC,OAvDA9c,EAAAA,EAAAA,GAAA0lB,EAAA,EAAAzlB,IAAA,0BAAAhD,MACD,SAAwBmV,GACpB,GAA8B,IAA1BA,EAAMgU,SAAStqB,OAAnB,CAGA,IAAMuqB,EAAyBjU,EAAMoP,aAC/B8E,EAAgE,mBAAzCD,EAAuBC,eAA8BD,EAAuBC,cACnGC,EAAkD,mBAAlCF,EAAuBE,OAAuBF,EAAuBE,QAAUD,EAErGzmB,KAAK2mB,MAAM3mB,KAAK4mB,qBAAsBH,EAAeC,GADlC,EACsDnU,EAAMoP,aAL/E,CAMJ,GAAC,CAAAvhB,IAAA,YAAAhD,MACD,SAAU8F,EAASye,GACf,GAAK3hB,KAAKsmB,qBAGoC,IAAxB3E,EAAakF,QACnC,CAGA,IAEMH,EAFwC,IAAxB/E,EAAamF,OAG7BC,EAAapF,EAAazL,SAAWyL,EAAaxL,SAAWwL,EAAahL,OAChF3W,KAAK2mB,MAAMzjB,GAHW,EAGawjB,EAAQK,EAAYpF,EALvD,CAMJ,GAAC,CAAAvhB,IAAA,kBAAAhD,MACD,SAAgB8F,EAASye,GACrB,GAAKA,EAAL,CAIA,IAAM7gB,EAAS6gB,EAAa7gB,OAG5B,KAFkBA,EAAO2d,UAAUuI,SAAS,sBACpClmB,EAAO2d,UAAUuI,SAAS,sBAAwBlmB,EAAO2d,UAAUuI,SAAS,gBAAkBrF,EAAasF,QAAU,IAC7H,CAGA,IAEMF,EAAcpF,EAAazL,SAAWyL,EAAaxL,SAAWwL,EAAahL,OACjF3W,KAAK2mB,MAAMzjB,GAHW,GACP,EAE4B6jB,EAAYpF,EAJvD,CAPA,CAYJ,GAAC,CAAAvhB,IAAA,QAAAhD,MACD,SAAM8F,EAASujB,EAAeC,EAAQK,EAAYpF,GACzCze,GAGLlD,KAAKgmB,WAAW/U,KAAK,CACjBiW,cAAe,CACXT,cAAAA,EACAC,OAAAA,EACAS,iBAAiB,GAErBJ,WAAAA,EACA7jB,QAAAA,EACAye,aAAAA,GAER,KAACkE,CAAA,CA5EkB,CAASxP,EAAAA,IA8E1BsO,GAAqB,SAAAyC,IAAAzjB,EAAAA,EAAAA,GAAAghB,EAAAyC,GAAA,IAAAC,GAAAxjB,EAAAA,EAAAA,GAAA8gB,GACvB,SAAAA,EAAYpiB,EAAQ3E,GAAS,IAAA0pB,EAEJ,OAFIvnB,EAAAA,EAAAA,GAAA,KAAA4kB,IACzB2C,EAAAD,EAAAnjB,KAAA,KAAM3B,EAAQ3E,IACT2E,OAASA,EAAO+kB,CACzB,CAGC,OAHAnnB,EAAAA,EAAAA,GAAAwkB,EAAA,EAAAvkB,IAAA,qBAAAhD,MACD,WACI,OAAO4C,KAAKuC,OAAOglB,sBAAsB,EAC7C,KAAC5C,CAAA,CAPsB,CAASkB,IAS9BF,GAAsB,SAAA6B,IAAA7jB,EAAAA,EAAAA,GAAAgiB,EAAA6B,GAAA,IAAAC,GAAA5jB,EAAAA,EAAAA,GAAA8hB,GACxB,SAAAA,EAAYpjB,EAAQ3E,GAAS,OAAAmC,EAAAA,EAAAA,GAAA,KAAA4lB,GAAA8B,EAAAvjB,KAAA,KACnB3B,EAAQ3E,EAClB,CAGC,OAHAuC,EAAAA,EAAAA,GAAAwlB,EAAA,EAAAvlB,IAAA,qBAAAhD,MACD,WACI,OAAO4C,KAAKuC,OAAOglB,sBAAsB,EAC7C,KAAC5B,CAAA,CANuB,CAASE,IAQ/B6B,GAAqB,SAAAC,IAAAhkB,EAAAA,EAAAA,GAAA+jB,EAAAC,GAAA,IAAAC,GAAA/jB,EAAAA,EAAAA,GAAA6jB,GACvB,SAAAA,EAAYnlB,EAAQ3E,GAAS,OAAAmC,EAAAA,EAAAA,GAAA,KAAA2nB,GAAAE,EAAA1jB,KAAA,KACnB3B,EAAQ3E,EAClB,CAIC,OAJAuC,EAAAA,EAAAA,GAAAunB,EAAA,EAAAtnB,IAAA,qBAAAhD,MACD,WACI,IAAIvB,EACJ,OAAgD,QAAxCA,EAAKmE,KAAKuC,OAAO6hB,eAAe,UAAuB,IAAPvoB,EAAgBA,OAAKsG,CACjF,KAACulB,CAAA,CAPsB,CAAS7B,IASpC,SAASrD,GAAoC9c,GACzC,IAAImiB,GAAe,EACnB,OAAO,SAAAtV,GACH,GAAIA,EAAMuV,iBAAiBpK,gBACvB,OAAO,EAEX,GAAImK,EAEA,OADAA,GAAe,GACR,EAEX,IAAMzd,EAAS1E,EAAkBqiB,aAAaxV,EAAOA,EAAMzR,QAC3D,OAAe,OAAXsJ,QAA8B,IAAXA,OAAoB,EAASA,EAAOqL,kBACvDoS,GAAe,GACR,IAEXA,GAAe,GACPzd,EACZ,CACJ,CACA,IAAI4d,GAAmB,SAAAC,IAAAtkB,EAAAA,EAAAA,GAAAqkB,EAAAC,GAAA,IAAAC,GAAArkB,EAAAA,EAAAA,GAAAmkB,GACnB,SAAAA,EAAYpF,EAAM9e,EAAW+e,EAAUC,EAAWllB,EAASolB,EAAsBhf,EAAmB+e,EAAa1B,GAAsB,IAAA8G,GAAApoB,EAAAA,EAAAA,GAAA,KAAAioB,GACnI,IAAAI,EAAoEpF,EAAqBG,eAAekF,GAA2BzqB,GAAlH0qB,EAAWF,EAApBxqB,QAAsB2qB,EAAqBH,EAArBG,sBAAuBC,EAAUJ,EAAVI,WAIhB,OAHrCL,EAAAD,EAAAhkB,KAAA,KAAM0e,EAAM9e,EAAW+e,EAAUC,EAAWwF,IACvCpa,YAAY7K,IAAImlB,GACrBL,EAAKM,UAAY,IAAIC,IAAsBlF,EAAAA,EAAAA,GAAA2E,GAAOvqB,EAAS2qB,EAAuB3qB,EAAQsmB,eAAgBlgB,EAAmB+e,EAAa1B,GAC1I8G,EAAKja,YAAY7K,IAAI8kB,EAAKM,WAAWN,CACzC,CAIC,OAJAhoB,EAAAA,EAAAA,GAAA6nB,EAAA,EAAA5nB,IAAA,gBAAAhD,MACD,SAAcQ,IACV6U,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAsV,EAAAtZ,WAAA,sBAAAxK,KAAA,KAAoBtG,GACpBoC,KAAKyoB,UAAUhE,cAAc7mB,EACjC,KAACoqB,CAAA,CAXkB,CAAqCW,EAAAA,GAa5DX,GAAsBpnB,EAAW,CAC7Ba,EAAQ,EAAGmF,EAAAA,IACXnF,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,KACZiG,IAEH,IAAIY,GAA+B,SAAAC,IAAAllB,EAAAA,EAAAA,GAAAilB,EAAAC,GAAA,IAAAC,GAAAjlB,EAAAA,EAAAA,GAAA+kB,GAC/B,SAAAA,EAAYhG,EAAM9e,EAAW+e,EAAUC,EAAWllB,EAASolB,EAAsBhf,EAAmB+e,EAAa1B,GAAsB,IAAA0H,GAAAhpB,EAAAA,EAAAA,GAAA,KAAA6oB,GACnI,IAAAI,EAAoEhG,EAAqBG,eAAekF,GAA2BzqB,GAAlH0qB,EAAWU,EAApBprB,QAAsB2qB,EAAqBS,EAArBT,sBAAuBC,EAAUQ,EAAVR,WAIhB,OAHrCO,EAAAD,EAAA5kB,KAAA,KAAM0e,EAAM9e,EAAW+e,EAAUC,EAAWwF,IACvCpa,YAAY7K,IAAImlB,GACrBO,EAAKN,UAAY,IAAIC,IAAsBlF,EAAAA,EAAAA,GAAAuF,GAAOnrB,EAAS2qB,EAAuB3qB,EAAQsmB,eAAgBlgB,EAAmB+e,EAAa1B,GAC1I0H,EAAK7a,YAAY7K,IAAI0lB,EAAKN,WAAWM,CACzC,CAOC,OAPA5oB,EAAAA,EAAAA,GAAAyoB,EAAA,EAAAxoB,IAAA,gBAAAhD,MACD,WAA4B,IAAdQ,EAAOsD,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,CAAC,GACrBuR,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAkW,EAAAla,WAAA,sBAAAxK,KAAA,KAAoBtG,GAChBA,EAAQsmB,gBACRlkB,KAAKyoB,UAAUQ,qBAAqBrrB,EAAQsmB,gBAEhDlkB,KAAKyoB,UAAUhE,cAAc7mB,EACjC,KAACgrB,CAAA,CAd8B,CAAiDM,EAAAA,GAgBpFN,GAAkChoB,EAAW,CACzCa,EAAQ,EAAGmF,EAAAA,IACXnF,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,KACZ6G,IAEH,IAAIO,GAAiB,SAAAC,IAAAzlB,EAAAA,EAAAA,GAAAwlB,EAAAC,GAAA,IAAAC,GAAAxlB,EAAAA,EAAAA,GAAAslB,GACjB,SAAAA,EAAYvG,EAAM9e,EAAW+e,EAAUC,EAAWwG,EAAY1rB,EAASolB,EAAsBhf,EAAmB+e,EAAa1B,GAAsB,IAAAkI,GAAAxpB,EAAAA,EAAAA,GAAA,KAAAopB,GAC/I,IAAAK,EAAoExG,EAAqBG,eAAekF,GAA2BzqB,GAAlH0qB,EAAWkB,EAApB5rB,QAAsB2qB,EAAqBiB,EAArBjB,sBAAuBC,EAAUgB,EAAVhB,WAIhB,OAHrCe,EAAAF,EAAAnlB,KAAA,KAAM0e,EAAM9e,EAAW+e,EAAUC,EAAWwG,EAAYhB,IACnDpa,YAAY7K,IAAImlB,GACrBe,EAAKd,UAAY,IAAIC,IAAsBlF,EAAAA,EAAAA,GAAA+F,GAAO3rB,EAAS2qB,EAAuB3qB,EAAQsmB,eAAgBlgB,EAAmB+e,EAAa1B,GAC1IkI,EAAKrb,YAAY7K,IAAIkmB,EAAKd,WAAWc,CACzC,CAOC,OAPAppB,EAAAA,EAAAA,GAAAgpB,EAAA,EAAA/oB,IAAA,gBAAAhD,MACD,WAA4B,IAAdQ,EAAOsD,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,CAAC,GACrBuR,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAyW,EAAAza,WAAA,sBAAAxK,KAAA,KAAoBtG,QACWuE,IAA3BvE,EAAQsmB,gBACRlkB,KAAKyoB,UAAUQ,qBAAqBrrB,EAAQsmB,gBAEhDlkB,KAAKyoB,UAAUhE,cAAc7mB,EACjC,KAACurB,CAAA,CAdgB,CAAmCM,EAAAA,GAgBxDN,GAAoBvoB,EAAW,CAC3Ba,EAAQ,EAAGmF,EAAAA,IACXnF,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,KACZoH,IAEH,IAAIO,GAAsB,SAAAC,IAAAhmB,EAAAA,EAAAA,GAAA+lB,EAAAC,GAAA,IAAAC,GAAA/lB,EAAAA,EAAAA,GAAA6lB,GAEtB,SAAAA,EAAY9G,EAAM9e,EAAW+e,EAAUC,EAAWwG,EAAY1rB,EAASolB,EAAsBhf,EAAmB+e,EAAa1B,GAAsB,IAAAwI,GAAA9pB,EAAAA,EAAAA,GAAA,KAAA2pB,GAC/I,IAAAI,EAAoE9G,EAAqBG,eAAekF,GAA2BzqB,GAAlH0qB,EAAWwB,EAApBlsB,QAAsB2qB,EAAqBuB,EAArBvB,sBAAuBC,EAAUsB,EAAVtB,WAIhB,OAHrCqB,EAAAD,EAAA1lB,KAAA,KAAM0e,EAAM9e,EAAW+e,EAAUC,EAAWwG,EAAYhB,IACnDpa,YAAY7K,IAAImlB,GACrBqB,EAAKpB,UAAY,IAAIC,IAAsBlF,EAAAA,EAAAA,GAAAqG,GAAOjsB,EAAS2qB,EAAuB3qB,EAAQsmB,eAAgBlgB,EAAmB+e,EAAa1B,GAC1IwI,EAAK3b,YAAY7K,IAAIwmB,EAAKpB,WAAWoB,CACzC,CAOC,OAPA1pB,EAAAA,EAAAA,GAAAupB,EAAA,EAAAtpB,IAAA,YAAA0G,IAPD,WAAkB,OAAO9G,KAAKyoB,UAAUxC,SAAW,GAAC,CAAA7lB,IAAA,gBAAAhD,MAQpD,WAA4B,IAAdQ,EAAOsD,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,CAAC,GACrBuR,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAgX,EAAAhb,WAAA,sBAAAxK,KAAA,KAAoBtG,GAChBA,EAAQsmB,gBACRlkB,KAAKyoB,UAAUQ,qBAAqBrrB,EAAQsmB,gBAEhDlkB,KAAKyoB,UAAUhE,cAAc7mB,EACjC,KAAC8rB,CAAA,CAfqB,CAAwCK,EAAAA,GAiBlEL,GAAyB9oB,EAAW,CAChCa,EAAQ,EAAGmF,EAAAA,IACXnF,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,KACZ2H,IAEH,IAAIM,GAAkC,SAAAC,IAAAtmB,EAAAA,EAAAA,GAAAqmB,EAAAC,GAAA,IAAAC,GAAArmB,EAAAA,EAAAA,GAAAmmB,GAClC,SAAAA,EAAYpH,EAAM9e,EAAWqmB,EAAiBC,EAAqBtH,EAAWwG,EAAY1rB,EAASolB,EAAsBhf,EAAmB+e,EAAa1B,GAAsB,IAAAgJ,GAAAtqB,EAAAA,EAAAA,GAAA,KAAAiqB,GAC3K,IAAAM,EAAoEtH,EAAqBG,eAAekF,GAA2BzqB,GAAlH0qB,EAAWgC,EAApB1sB,QAAsB2qB,EAAqB+B,EAArB/B,sBAAuBC,EAAU8B,EAAV9B,WAIhB,OAHrC6B,EAAAH,EAAAhmB,KAAA,KAAM0e,EAAM9e,EAAWqmB,EAAiBC,EAAqBtH,EAAWwG,EAAYhB,IAC/Epa,YAAY7K,IAAImlB,GACrB6B,EAAK5B,UAAY,IAAIC,IAAsBlF,EAAAA,EAAAA,GAAA6G,GAAOzsB,EAAS2qB,EAAuB3qB,EAAQsmB,eAAgBlgB,EAAmB+e,EAAa1B,GAC1IgJ,EAAKnc,YAAY7K,IAAIgnB,EAAK5B,WAAW4B,CACzC,CAIC,OAJAlqB,EAAAA,EAAAA,GAAA6pB,EAAA,EAAA5pB,IAAA,gBAAAhD,MACD,SAAcQ,IACV6U,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAsX,EAAAtb,WAAA,sBAAAxK,KAAA,KAAoBtG,GACpBoC,KAAKyoB,UAAUhE,cAAc7mB,EACjC,KAACosB,CAAA,CAXiC,CAAoDO,EAAAA,GAoB1F,SAASC,GAAuBnJ,GAC5B,IAAMjkB,EAAQikB,EAAqBC,SAASb,IAC5C,GAAc,cAAVrjB,EACA,OAAOqtB,EAAAA,GAAAA,UAEN,GAAc,WAAVrtB,EACL,OAAOqtB,EAAAA,GAAAA,OAEX,IAAMC,EAAkBrJ,EAAqBC,SAASX,IACtD,MAAwB,WAApB+J,GAAoD,cAApBA,EACzBD,EAAAA,GAAAA,UAEkB,WAApBC,EACED,EAAAA,GAAAA,YADN,CAIT,CACA,SAASE,GAA4BtJ,GACjC,IAAMjkB,EAAQikB,EAAqBC,SAAST,IAC5C,MAAc,UAAVzjB,EACOwtB,EAAAA,GAAAA,MAEQ,eAAVxtB,EACEwtB,EAAAA,GAAAA,gBADN,CAIT,CACA,SAASvC,GAA0B/iB,EAAU1H,GACzC,IAAI/B,EACEwlB,EAAuB/b,EAASwB,IAAIib,EAAAA,IACpC8I,EAAqBvlB,EAASwB,IAAIgkB,EAAAA,GAClC9mB,EAAoBsB,EAASwB,IAAIvC,EAAAA,IACjCye,EAAuB1d,EAASwB,IAAIF,EAAAA,IAyBpCqc,OAAsD9gB,IAAhCvE,EAAQqlB,oBAAoCrlB,EAAQqlB,oBAAsB5c,QAAQgb,EAAqBC,SAASd,KAC5IuK,EAA2C/H,EAAqBG,eAAerB,GAAwBlkB,GAAQotB,GAAA9iB,EAAAA,EAAAA,GAAA6iB,EAAA,GAAxG1H,EAAoB2H,EAAA,GAAExC,EAAUwC,EAAA,GACjCC,EAAyBrtB,EAAQqtB,uBACjCC,OAAoD/oB,IAA/BvE,EAAQstB,mBAAmCttB,EAAQstB,mBAAqB7J,EAAqBC,SAASP,IACjI,MAAO,CACHwH,sBA7B0B,WAE1B,IAAM4C,EAAannB,EAAkBonB,mBAAmBjL,GACxD,GAAmB,cAAfgL,EACA,OAAOE,EAAAA,GAAAA,UAEN,GAAmB,YAAfF,EACL,OAAOE,EAAAA,GAAAA,QAIX,IAAoB,IADArnB,EAAkBonB,mBAAmBhL,GAErD,OAAOiL,EAAAA,GAAAA,QAGX,IAAMC,EAAejK,EAAqBC,SAASZ,IACnD,MAAqB,cAAjB4K,EACOD,EAAAA,GAAAA,UAEe,YAAjBC,EACED,EAAAA,GAAAA,aADN,CAIT,EAOI7C,WAAAA,EACA5qB,QAASwD,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAEjCuB,iBAAiB,GAASF,GAAuB,CAAEkI,OAAgE,kBAAjDlK,EAAqBC,SAASR,IAA8BO,EAAqBC,SAASR,SAAiB3e,EAAW+oB,mBAAAA,EAAoB/I,gBAAiB9b,QAAQgb,EAAqBC,SAASN,KAAuBwK,gBAAiBhB,GAAuBnJ,GAAuBoK,qBAAsBd,GAA4BtJ,GAAuB4B,oBAAAA,EAAqBR,aAAcpc,QAAQgb,EAAqBC,SAASV,KAAmBqK,uBAAAA,EAAwBS,gCAAiC9tB,EAAQ8tB,gCAAiCC,yBAAsE,QAA3C9vB,EAAK+B,EAAQ+tB,gCAA6C,IAAP9vB,EAAgBA,EAAwD,gBAAlDwlB,EAAqBC,SAASH,IAAoCpd,oBAAqB8mB,EAAoBe,iBAAkBC,EAAAA,KAE70B,CA3EA7B,GAAqCppB,EAAW,CAC5Ca,EAAQ,EAAGmF,EAAAA,IACXnF,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,GAAIsgB,EAAAA,KACbiI,IAuEH,IAAItB,GAAsB,WAEtB,SAAAA,EAAYoD,EAAMluB,EAAS2qB,EAAuBrE,EAAgBlgB,EAAmB+e,EAAa1B,GAAsB,IAChHxlB,EADgHkwB,EAAA,MAAAhsB,EAAAA,EAAAA,GAAA,KAAA2oB,GAEpH1oB,KAAK8rB,KAAOA,EACZ9rB,KAAKkO,YAAc,GACnBlO,KAAKgE,kBAAoBqc,EAA8Brc,EAAmB8nB,GAC1E9rB,KAAKyjB,wBAA0BnE,EAA2Czc,OAAO7C,KAAKgE,mBACtFhE,KAAKyjB,wBAAwB5jB,KAAyC,IAArCjC,EAAQ8lB,0BACT9D,EAAiC/c,OAAO7C,KAAKgE,mBACrDnE,IAAIwG,QAAQzI,EAAQ+lB,sBAC5C3jB,KAAKgsB,sBAAwBnM,EAA0Bhd,OAAO7C,KAAKgE,mBACnEhE,KAAKgsB,sBAAsBnsB,IAAyC,QAApChE,EAAK+B,EAAQquB,yBAAsC,IAAPpwB,GAAgBA,GAC5FmE,KAAKksB,oBAAsBzM,EAAiC5c,OAAO7C,KAAKgE,mBACxEhE,KAAKmsB,mBAAqBzM,EAA6B7c,OAAO7C,KAAKgE,mBACnEhE,KAAKosB,kBAAoBzM,EAA4B9c,OAAO7C,KAAKgE,mBACjEhE,KAAKqsB,uBAAyBvM,EAAgCjd,OAAO7C,KAAKgE,mBAC1EhE,KAAKssB,qBAAuBvM,EAA8Bld,OAAO7C,KAAKgE,mBACtEhE,KAAKusB,qBAAuBvM,EAA8Bnd,OAAO7C,KAAKgE,mBACtEhE,KAAKwsB,oBAAsBvM,EAA6Bpd,OAAO7C,KAAKgE,mBACpEhE,KAAKysB,aAAevM,EAAsBrd,OAAO7C,KAAKgE,mBACtDhE,KAAK+jB,mCAAqC3C,GAAkCC,GAC5ErhB,KAAKipB,qBAAqB/E,GAC1B,IAAMwI,EAA4B,WAC9B,IAAMrI,EAAQyH,EAAKxH,WAAW,GAC9B,GAAKD,EAAL,CAGA,IAAM5c,EAAOqkB,EAAKa,QAAQtI,GAC1B0H,EAAKM,uBAAuBxsB,IAAI4H,EAAKmlB,cAAgBnlB,EAAKolB,WAC1Dd,EAAKO,qBAAqBzsB,MAAMisB,EAAKgB,iBAAiBzI,IACtD0H,EAAKQ,qBAAqB1sB,IAAI4H,EAAKmlB,aAAenlB,EAAKolB,WACvDd,EAAKS,oBAAoB3sB,MAAMisB,EAAKiB,qBAAqB1I,GALzD,CAMJ,EACM2I,EAAyB,IAAIvkB,IACnCukB,EAAuB3pB,IAAI8c,GAC3B6M,EAAuB3pB,IAAI+c,GAC3BpgB,KAAKkO,YAAY9R,KAAK4D,KAAKgE,kBAAmB+e,EAAYiB,SAAS8H,GAAOA,EAAK3H,sBAAqB,WAChG,IAAM1mB,EAAYquB,EAAK1H,eACjBC,EAAQyH,EAAKxH,WACnByH,EAAK/nB,kBAAkBugB,oBAAmB,WACtCwH,EAAKG,oBAAoBrsB,IAAIpC,EAAUxB,OAAS,GAAKooB,EAAMpoB,OAAS,GACpE8vB,EAAKK,kBAAkBvsB,IAAIpC,EAAUxB,OAAS,GAC9C8vB,EAAKI,mBAAmBtsB,IAAyB,IAArBpC,EAAUxB,OAC1C,GACJ,IAAI6vB,EAAKtH,kBAAiB,WACtB,IAAM/mB,EAAYquB,EAAK1H,eACjBC,EAAQyH,EAAKxH,WACnByH,EAAKG,oBAAoBrsB,IAAIpC,EAAUxB,OAAS,GAAKooB,EAAMpoB,OAAS,GACpEywB,GACJ,IAAIZ,EAAKmB,yBAAyBP,GAA4BZ,EAAKoB,iBAAiBR,GAA4BZ,EAAKqB,0BAAyB,SAAAC,GAAO,OAAIrB,EAAKU,aAAa5sB,IAAIutB,EAAQ,IAAG/L,EAAqBI,0BAAyB,SAAA7lB,GACpO,IAAIyxB,EAAa,CAAC,EAIlB,GAHIzxB,EAAE8lB,qBAAqBpB,KACvByL,EAAKhI,mCAAqC3C,GAAkCC,IAE5EzlB,EAAE8lB,qBAAqBZ,IAAgB,CACvC,IAAMyK,EAASlK,EAAqBC,SAASR,IAC7CuM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAE9B,OAAAA,GAChE,CACA,GAAI3vB,EAAE8lB,qBAAqBX,UAA6D5e,IAA/BvE,EAAQstB,mBAAkC,CAC/F,IAAMA,EAAqB7J,EAAqBC,SAASP,IACzDsM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAEnC,mBAAAA,GAChE,CACA,GAAItvB,EAAE8lB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkB9b,QAAQgb,EAAqBC,SAASN,KAC9DqM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAElL,gBAAAA,GAChE,CACA,GAAIvmB,EAAE8lB,qBAAqBjB,KAA8B7kB,EAAE8lB,qBAAqBf,IAA+B,CAC3G,IAAM6K,EAAkBhB,GAAuBnJ,GAC/CgM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAE7B,gBAAAA,GAChE,CACA,GAAI5vB,EAAE8lB,qBAAqBhB,KAAiC9kB,EAAE8lB,qBAAqBf,IAA+B,CAC9G,IAAM2M,EAAqB/E,IAC3B8E,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAEC,mBAAAA,GAChE,CACA,GAAI1xB,EAAE8lB,qBAAqBb,IAAiC,CACxD,IAAM4K,EAAuBd,GAA4BtJ,GACzDgM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAE5B,qBAAAA,GAChE,CACA,GAAI7vB,EAAE8lB,qBAAqBlB,UAA2Dre,IAAhCvE,EAAQqlB,oBAAmC,CAC7F,IAAMA,EAAsB5c,QAAQgb,EAAqBC,SAASd,KAClE6M,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAEpK,oBAAAA,GAChE,CACA,GAAIrnB,EAAE8lB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAepc,QAAQgb,EAAqBC,SAASV,KAC3DyM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAE5K,aAAAA,GAChE,CAIA,GAHI7mB,EAAE8lB,qBAAqBP,UAAwDhf,IAArCvE,EAAQ+tB,2BAClD0B,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAE1B,yBAA4E,gBAAlDtK,EAAqBC,SAASH,OAEpHvlB,EAAE8lB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClEoM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAEjL,4BAAAA,GAChE,CACA,GAAIxmB,EAAE8lB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5DmM,EAAajsB,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGqL,GAAa,CAAEhL,sBAAAA,GAChE,CACIjhB,OAAOgH,KAAKilB,GAAYpxB,OAAS,GACjC6vB,EAAKrH,cAAc4I,EAE3B,IAAIrtB,KAAKgE,kBAAkBupB,oBAAmB,SAAA3xB,GACtCA,EAAE4xB,YAAYR,IACdlB,EAAKrH,cAAc,CAAE6I,mBAAoB/E,KAEjD,KACAvoB,KAAK0kB,UAAY,IAAIgD,GAAsBoE,EAAM1qB,OAAO4gB,OAAO,CAAEX,qBAAAA,GAAwBzjB,IACzFoC,KAAKkO,YAAY9R,KAAK4D,KAAK0kB,UAC/B,CAWC,OAXAvkB,EAAAA,EAAAA,GAAAuoB,EAAA,EAAAtoB,IAAA,YAAA0G,IA3GD,WAAkB,OAAO9G,KAAK0kB,UAAUuB,SAAW,GAAC,CAAA7lB,IAAA,gBAAAhD,MA4GpD,SAAcQ,QAC+BuE,IAArCvE,EAAQ8lB,0BACR1jB,KAAKyjB,wBAAwB5jB,MAAMjC,EAAQ8lB,yBAEnD,GAAC,CAAAtjB,IAAA,uBAAAhD,MACD,SAAqB8mB,GACjBlkB,KAAK8rB,KAAKjN,MAAMqF,GAAiBW,EAAAA,EAAAA,IAAcX,GAAkBpF,EAAAA,GACrE,GAAC,CAAA1e,IAAA,UAAAhD,MACD,WACI4C,KAAKkO,aAAc1K,EAAAA,EAAAA,IAAQxD,KAAKkO,YACpC,KAACwa,CAAA,CAvHqB,GAyH1BA,GAAyB9nB,EAAW,CAChCa,EAAQ,EAAG8C,EAAAA,IACX9C,EAAQ,EAAG0c,GACX1c,EAAQ,EAAGsgB,EAAAA,KACZ2G,IAC2B7pB,EAAAA,EAAAA,GAAY4uB,EAAAA,GAAAA,eACpBC,sBAAsB,CACxChtB,GAAI,YACJitB,MAAO,EACPC,OAAO9rB,EAAAA,EAAAA,IAAS,8BAA+B,aAC/CgN,KAAM,SACN+e,YAAUC,EAAA,IAAAC,EAAAA,EAAAA,GAAAD,EACLxN,EAAgC,CAC7BxR,KAAM,SACNkf,KAAM,CAAC,UAAW,OAClBC,yBAA0B,EACtBnsB,EAAAA,EAAAA,IAAS,8BAA+B,sEACxCA,EAAAA,EAAAA,IAAS,0BAA2B,iEAExCosB,QAAS,UACTC,aAAarsB,EAAAA,EAAAA,IAAS,CAClB1B,IAAK,sBACLguB,QAAS,CACL,kFACA,2GAEL,0RACNL,EAAAA,EAAAA,GAAAD,EACAvN,GAAqB,CAClBzR,KAAM,SACNkf,KAAM,CAAC,cAAe,eACtBE,QAAS,cACTC,aAAarsB,EAAAA,EAAAA,IAAS,CAClB1B,IAAK,mBACLguB,QAAS,CAAC,wGACX,gLACNL,EAAAA,EAAAA,GAAAD,EACAtN,GAAyB,CACtB1R,KAAM,UACNof,SAAS,EACTC,aAAarsB,EAAAA,EAAAA,IAAS,8BAA+B,sJACxDisB,EAAAA,EAAAA,GAAAD,EACAlN,GAAkB,CACf9R,KAAM,UACNof,SAAS,EACTC,aAAarsB,EAAAA,EAAAA,IAAS,oBAAqB,oEAC9CisB,EAAAA,EAAAA,GAAAD,EACAhN,GAAgB,CACbhS,KAAM,SACNof,QAAS,EACTG,QAAS,EACTC,QAAS,GACTH,aAAarsB,EAAAA,EAAAA,IAAS,sBAAuB,2CAChDisB,EAAAA,EAAAA,GAAAD,EACA/M,GAA4B,CACzBjS,KAAM,SACNkf,KAAM,CAAC,OAAQ,UAAW,UAC1BE,QAAS,UACTC,aAAarsB,EAAAA,EAAAA,IAAS,4BAA6B,6DACtDisB,EAAAA,EAAAA,GAAAD,EACA9M,GAAsB,CACnBlS,KAAM,UACNof,SAAS,EACTC,aAAarsB,EAAAA,EAAAA,IAAS,+BAAgC,8DACzDisB,EAAAA,EAAAA,GAAAD,EACA7M,GAAiC,CAC9BnS,KAAM,SACNof,QAAS,EACTK,qBAAqBzsB,EAAAA,EAAAA,IAAS,iCAAkC,yFACnEisB,EAAAA,EAAAA,GAAAD,EACA5M,GAA2B,CACxBpS,KAAM,SACNof,QAAS,EACTK,qBAAqBzsB,EAAAA,EAAAA,IAAS,0BAA2B,sDAC5DisB,EAAAA,EAAAA,GAAAD,EACArN,GAA4B,CACzB3R,KAAM,SACNkf,KAAM,CAAC,YAAa,UACpBQ,iBAAkB,EACd1sB,EAAAA,EAAAA,IAAS,sCAAuC,mHAChDA,EAAAA,EAAAA,IAAS,mCAAoC,oCAEjDosB,QAAS,YACTC,aAAarsB,EAAAA,EAAAA,IAAS,4BAA6B,2EACtDisB,EAAAA,EAAAA,GAAAD,EACAnN,GAA+B,CAC5B7R,KAAM,SACNkf,KAAM,CAAC,SAAU,YAAa,UAC9BQ,iBAAkB,EACd1sB,EAAAA,EAAAA,IAAS,sCAAuC,mHAChDA,EAAAA,EAAAA,IAAS,yCAA0C,kKACnDA,EAAAA,EAAAA,IAAS,sCAAuC,gHAEpDosB,QAAS,YACTC,aAAarsB,EAAAA,EAAAA,IAAS,+BAAgC,qHACtD2sB,YAAY,EACZC,oBAAoB5sB,EAAAA,EAAAA,IAAS,yCAA0C,oGAC1EisB,EAAAA,EAAAA,GAAAD,EACAjN,GAAiC,CAC9B/R,KAAM,SACNkf,KAAM,CAAC,QAAS,cAChBQ,iBAAkB,EACd1sB,EAAAA,EAAAA,IAAS,uCAAwC,uCACjDA,EAAAA,EAAAA,IAAS,4CAA6C,4CAE1DosB,QAAS,QACTC,aAAarsB,EAAAA,EAAAA,IAAS,iCAAkC,0FAC3DisB,EAAAA,EAAAA,GAAAD,EACA3M,GAAiB,CACdrS,KAAM,SACNkf,KAAM,CAAC,cAAe,eACtBE,QAAS,cACTC,aAAarsB,EAAAA,EAAAA,IAAS,cAAe,yKACxCisB,EAAAA,EAAAA,GAAAD,EACApN,GAA+B,CAC5B5R,KAAM,SACNkf,KAAM,CAAC,YAAa,WACpBE,QAAS,YACTC,aAAarsB,EAAAA,EAAAA,IAAS,qBAAsB,qLAC/CgsB,I,qIC36BEa,E,mGADEC,GAAcrzB,E,QAAAA,IAAgB,eAE3C,SAAWozB,GACPA,EAASA,EAAc,IAAI,GAAK,MAChCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAgB,MAAI,GAAK,OACrC,CAPD,CAOGA,IAAaA,EAAW,CAAC,IACrB,IAAME,EAAoBF,EAASG,KAC7BC,EAAc,SAAA1d,IAAA1N,EAAAA,EAAAA,GAAAorB,EAAA1d,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAAkrB,GACvB,SAAAA,IAAc,IAAA9qB,EAIiD,OAJjDlE,EAAAA,EAAAA,GAAA,KAAAgvB,IACV9qB,EAAAL,EAAAvH,MAAA,KAAS6E,YACJ8tB,MAAQH,EACb5qB,EAAKgrB,qBAAuBhrB,EAAKE,UAAU,IAAIyM,EAAAA,IAC/C3M,EAAKirB,oBAAsBjrB,EAAKgrB,qBAAqB1c,MAAMtO,CAC/D,CAYC,OAZA9D,EAAAA,EAAAA,GAAA4uB,EAAA,EAAA3uB,IAAA,WAAAhD,MACD,SAAS4xB,GACDhvB,KAAKgvB,QAAUA,IACfhvB,KAAKgvB,MAAQA,EACbhvB,KAAKivB,qBAAqBhe,KAAKjR,KAAKgvB,OAE5C,GAAC,CAAA5uB,IAAA,WAAAhD,MACD,WACI,OAAO4C,KAAKgvB,KAChB,GAAC,CAAA5uB,IAAA,gBAAAhD,MACD,SAAc4xB,GACV,OAAOhvB,KAAKgvB,QAAUL,EAASQ,KAAOnvB,KAAKgvB,OAASA,CACxD,KAACD,CAAA,CAlBsB,CAAS1Y,EAAAA,IAoBvB+Y,EAAa,SAAAC,IAAA1rB,EAAAA,EAAAA,GAAAyrB,EAAAC,GAAA,IAAA3qB,GAAAb,EAAAA,EAAAA,GAAAurB,GACtB,SAAAA,IAA0C,IAAAzqB,EAA9B2qB,EAAQpuB,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG2tB,EAEK,OAFY9uB,EAAAA,EAAAA,GAAA,KAAAqvB,IACpCzqB,EAAAD,EAAAR,KAAA,OACKqrB,SAASD,GAAU3qB,CAC5B,CAuBC,OAvBAxE,EAAAA,EAAAA,GAAAivB,EAAA,EAAAhvB,IAAA,QAAAhD,MACD,SAAM8L,GACF,GAAIlJ,KAAKwvB,cAAcb,EAAS3kB,OAAQ,SAAAylB,EAAAnlB,EAAApJ,UAAAjF,OAD1BsO,EAAI,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,EAAA,GAAAvJ,UAAAuJ,IAEdglB,EAAA/jB,SAAQwL,IAAG7a,MAAAozB,EAAA,CAAC,UAAW,cAAevmB,GAAOf,OAAKoC,GACtD,CACJ,GAAC,CAAAnK,IAAA,QAAAhD,MACD,SAAM8L,GACF,GAAIlJ,KAAKwvB,cAAcb,EAASe,OAAQ,SAAAC,EAAAhlB,EAAAzJ,UAAAjF,OAD1BsO,EAAI,IAAAC,MAAAG,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJN,EAAIM,EAAA,GAAA3J,UAAA2J,IAEd8kB,EAAAjkB,SAAQwL,IAAG7a,MAAAszB,EAAA,CAAC,UAAW,gCAAiCzmB,GAAOf,OAAKoC,GACxE,CACJ,GAAC,CAAAnK,IAAA,OAAAhD,MACD,SAAK8L,GACD,GAAIlJ,KAAKwvB,cAAcb,EAASG,MAAO,SAAAc,EAAAC,EAAA3uB,UAAAjF,OAD1BsO,EAAI,IAAAC,MAAAqlB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJvlB,EAAIulB,EAAA,GAAA5uB,UAAA4uB,IAEbF,EAAAlkB,SAAQwL,IAAG7a,MAAAuzB,EAAA,CAAC,UAAW,cAAe1mB,GAAOf,OAAKoC,GACtD,CACJ,GAAC,CAAAnK,IAAA,QAAAhD,MACD,SAAM8L,GACF,GAAIlJ,KAAKwvB,cAAcb,EAASlsB,OAAQ,SAAAstB,EAAAC,EAAA9uB,UAAAjF,OAD1BsO,EAAI,IAAAC,MAAAwlB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ1lB,EAAI0lB,EAAA,GAAA/uB,UAAA+uB,IAEdF,EAAArkB,SAAQwL,IAAG7a,MAAA0zB,EAAA,CAAC,UAAW,cAAe7mB,GAAOf,OAAKoC,GACtD,CACJ,GAAC,CAAAnK,IAAA,UAAAhD,MACD,WACI,KACHgyB,CAAA,CA3BqB,CAASL,GA6BtBmB,EAAe,SAAAC,IAAAxsB,EAAAA,EAAAA,GAAAusB,EAAAC,GAAA,IAAAlL,GAAAphB,EAAAA,EAAAA,GAAAqsB,GACxB,SAAAA,EAAYE,GAAS,IAAAzb,EAKhB,OALgB5U,EAAAA,EAAAA,GAAA,KAAAmwB,IACjBvb,EAAAsQ,EAAA/gB,KAAA,OACKksB,QAAUA,EACXA,EAAQn0B,QACR0Y,EAAK4a,SAASa,EAAQ,GAAGC,YAC5B1b,CACL,CA+BC,OA/BAxU,EAAAA,EAAAA,GAAA+vB,EAAA,EAAA9vB,IAAA,WAAAhD,MACD,SAAS4xB,GAAO,IACqBzwB,EADrBE,GAAA1B,EAAAA,EAAAA,GACSiD,KAAKowB,SAAO,IAAjC,IAAA3xB,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAmC,CAAlBqB,EAAAnB,MACNmyB,SAASP,EACpB,CAAC,OAAAnxB,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,EACD2U,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAwd,EAAAxhB,WAAA,iBAAAxK,KAAA,KAAe8qB,EACnB,GAAC,CAAA5uB,IAAA,QAAAhD,MACD,SAAM8L,GAAkB,QAAAonB,EAAApvB,UAAAjF,OAANsO,EAAI,IAAAC,MAAA8lB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhmB,EAAIgmB,EAAA,GAAArvB,UAAAqvB,GAAA,IACe5xB,EADfM,GAAAlC,EAAAA,EAAAA,GACGiD,KAAKowB,SAAO,IAAjC,IAAAnxB,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAAmC,KAAxBszB,EAAM7xB,EAAAvB,MACbozB,EAAO7kB,MAAKtP,MAAZm0B,EAAM,CAAOtnB,GAAOf,OAAKoC,GAC7B,CAAC,OAAA1M,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACL,GAAC,CAAAsC,IAAA,QAAAhD,MACD,SAAM8L,GAAkB,QAAAunB,EAAAvvB,UAAAjF,OAANsO,EAAI,IAAAC,MAAAimB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJnmB,EAAImmB,EAAA,GAAAxvB,UAAAwvB,GAAA,IACe/zB,EADfG,GAAAC,EAAAA,EAAAA,GACGiD,KAAKowB,SAAO,IAAjC,IAAAtzB,EAAAE,MAAAL,EAAAG,EAAAG,KAAAC,MAAmC,KAAxBszB,EAAM7zB,EAAAS,MACbozB,EAAOG,MAAKt0B,MAAZm0B,EAAM,CAAOtnB,GAAOf,OAAKoC,GAC7B,CAAC,OAAA1M,GAAAf,EAAAlB,EAAAiC,EAAA,SAAAf,EAAAgB,GAAA,CACL,GAAC,CAAAsC,IAAA,OAAAhD,MACD,SAAK8L,GAAkB,QAAA0nB,EAAA1vB,UAAAjF,OAANsO,EAAI,IAAAC,MAAAomB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJtmB,EAAIsmB,EAAA,GAAA3vB,UAAA2vB,GAAA,IACgBvoB,EADhBC,GAAAxL,EAAAA,EAAAA,GACIiD,KAAKowB,SAAO,IAAjC,IAAA7nB,EAAAvL,MAAAsL,EAAAC,EAAAtL,KAAAC,MAAmC,KAAxBszB,EAAMloB,EAAAlL,MACbozB,EAAO5d,KAAIvW,MAAXm0B,EAAM,CAAMtnB,GAAOf,OAAKoC,GAC5B,CAAC,OAAA1M,GAAA0K,EAAA3M,EAAAiC,EAAA,SAAA0K,EAAAzK,GAAA,CACL,GAAC,CAAAsC,IAAA,QAAAhD,MACD,SAAM8L,GAAkB,QAAA4nB,EAAA5vB,UAAAjF,OAANsO,EAAI,IAAAC,MAAAsmB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJxmB,EAAIwmB,EAAA,GAAA7vB,UAAA6vB,GAAA,IACenoB,EADfC,GAAA9L,EAAAA,EAAAA,GACGiD,KAAKowB,SAAO,IAAjC,IAAAvnB,EAAA7L,MAAA4L,EAAAC,EAAA5L,KAAAC,MAAmC,KAAxBszB,EAAM5nB,EAAAxL,MACbozB,EAAOh0B,MAAKH,MAAZm0B,EAAM,CAAOtnB,GAAOf,OAAKoC,GAC7B,CAAC,OAAA1M,GAAAgL,EAAAjN,EAAAiC,EAAA,SAAAgL,EAAA/K,GAAA,CACL,GAAC,CAAAsC,IAAA,UAAAhD,MACD,WAAU,IAC2BqS,EAD3BE,GAAA5S,EAAAA,EAAAA,GACeiD,KAAKowB,SAAO,IAAjC,IAAAzgB,EAAA3S,MAAAyS,EAAAE,EAAA1S,KAAAC,MAAmC,CAAlBuS,EAAArS,MACNoG,SACX,CAAC,OAAA3F,GAAA8R,EAAA/T,EAAAiC,EAAA,SAAA8R,EAAA7R,GAAA,CACL,KAACoyB,CAAA,CAtCuB,CAASnB,E,wICzDxBiC,EAAU,SAAA3f,IAAA1N,EAAAA,EAAAA,GAAAqtB,EAAA3f,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAAmtB,GACnB,SAAAA,EAAYC,GAAkC,IAAAhtB,EAAnBitB,EAAYhwB,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,GAG2C,OAHzCnB,EAAAA,EAAAA,GAAA,KAAAixB,IACxC/sB,EAAAL,EAAAM,KAAA,OACKssB,OAAS,IAAIN,EAAAA,GAAgB,CAACe,GAAa9oB,QAAA7L,EAAAA,EAAAA,GAAK40B,KACrDjtB,EAAKE,UAAU8sB,EAAc/B,qBAAoB,SAAAF,GAAK,OAAI/qB,EAAKsrB,SAASP,EAAM,KAAG/qB,CACrF,CAqBC,OArBA9D,EAAAA,EAAAA,GAAA6wB,EAAA,EAAA5wB,IAAA,sBAAA0G,IACD,WACI,OAAO9G,KAAKwwB,OAAOtB,mBACvB,GAAC,CAAA9uB,IAAA,WAAAhD,MACD,SAAS4xB,GACLhvB,KAAKwwB,OAAOjB,SAASP,EACzB,GAAC,CAAA5uB,IAAA,WAAAhD,MACD,WACI,OAAO4C,KAAKwwB,OAAOH,UACvB,GAAC,CAAAjwB,IAAA,QAAAhD,MACD,SAAM8L,GAAkB,QAAAioB,EAAA7mB,EAAApJ,UAAAjF,OAANsO,EAAI,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,EAAA,GAAAvJ,UAAAuJ,IAClB0mB,EAAAnxB,KAAKwwB,QAAO7kB,MAAKtP,MAAA80B,EAAA,CAACjoB,GAAOf,OAAKoC,GAClC,GAAC,CAAAnK,IAAA,QAAAhD,MACD,SAAM8L,GAAkB,QAAAkoB,EAAAzmB,EAAAzJ,UAAAjF,OAANsO,EAAI,IAAAC,MAAAG,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJN,EAAIM,EAAA,GAAA3J,UAAA2J,IAClBumB,EAAApxB,KAAKwwB,QAAOG,MAAKt0B,MAAA+0B,EAAA,CAACloB,GAAOf,OAAKoC,GAClC,GAAC,CAAAnK,IAAA,OAAAhD,MACD,SAAK8L,GAAkB,QAAAmoB,EAAAxB,EAAA3uB,UAAAjF,OAANsO,EAAI,IAAAC,MAAAqlB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJvlB,EAAIulB,EAAA,GAAA5uB,UAAA4uB,IACjBuB,EAAArxB,KAAKwwB,QAAO5d,KAAIvW,MAAAg1B,EAAA,CAACnoB,GAAOf,OAAKoC,GACjC,GAAC,CAAAnK,IAAA,QAAAhD,MACD,SAAM8L,GAAkB,QAAAooB,EAAAtB,EAAA9uB,UAAAjF,OAANsO,EAAI,IAAAC,MAAAwlB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ1lB,EAAI0lB,EAAA,GAAA/uB,UAAA+uB,IAClBqB,EAAAtxB,KAAKwwB,QAAOh0B,MAAKH,MAAAi1B,EAAA,CAACpoB,GAAOf,OAAKoC,GAClC,KAACymB,CAAA,CA1BkB,CAAS3a,EAAAA,G,gMCKnBkb,EAAqB,IAAI9oB,IAAI,CAAC+oB,EAAAA,GAAAA,SAAkBA,EAAAA,GAAAA,oBAA6BA,EAAAA,GAAAA,YAAqBA,EAAAA,GAAAA,qBACzGC,EAAiB,WACnB,SAAAA,KAAc1xB,EAAAA,EAAAA,GAAA,KAAA0xB,GACVzxB,KAAK0xB,YAAc,IAAIlyB,EAAAA,GACvBQ,KAAK2xB,SAAW,IAAIzxB,GACxB,CA4CC,OA5CAC,EAAAA,EAAAA,GAAAsxB,EAAA,EAAArxB,IAAA,MAAAhD,MACD,SAAIO,EAAUi0B,EAAOx0B,GACjB,IAAIy0B,EAAW7xB,KAAK0xB,YAAY5qB,IAAInJ,GAC/Bk0B,IACDA,EAAW,IAAI3xB,IACfF,KAAK0xB,YAAY7xB,IAAIlC,EAAUk0B,IAEnCA,EAAShyB,IAAI+xB,EAAOx0B,GACpB,IAAI00B,EAAc9xB,KAAK2xB,SAAS7qB,IAAI8qB,GAC/BE,IACDA,EAAc,IAAItyB,EAAAA,GAClBQ,KAAK2xB,SAAS9xB,IAAI+xB,EAAOE,IAE7BA,EAAYjyB,IAAIlC,EAAUP,EAC9B,GAAC,CAAAgD,IAAA,MAAAhD,MACD,SAAIO,EAAUi0B,GACV,IAAMC,EAAW7xB,KAAK0xB,YAAY5qB,IAAInJ,GACtC,OAAoB,OAAbk0B,QAAkC,IAAbA,OAAsB,EAASA,EAAS/qB,IAAI8qB,EAC5E,GAAC,CAAAxxB,IAAA,SAAAhD,MACD,SAAOO,EAAUi0B,GACb,IAAIG,GAAW,EACXC,GAAW,EACTH,EAAW7xB,KAAK0xB,YAAY5qB,IAAInJ,GAClCk0B,IACAE,EAAWF,EAAS7pB,OAAO4pB,IAE/B,IAAME,EAAc9xB,KAAK2xB,SAAS7qB,IAAI8qB,GAItC,GAHIE,IACAE,EAAWF,EAAY9pB,OAAOrK,IAE9Bo0B,IAAaC,EACb,MAAM,IAAIvvB,MAAM,iBAEpB,OAAOsvB,GAAYC,CACvB,GAAC,CAAA5xB,IAAA,SAAAhD,MACD,SAAOgD,GACH,IAAIvE,EAAI8J,EAAIssB,EAAIC,EAChB,MAAmB,kBAAR9xB,EAC0F,QAAzFuF,EAAuC,QAAjC9J,EAAKmE,KAAK2xB,SAAS7qB,IAAI1G,UAAyB,IAAPvE,OAAgB,EAASA,EAAGwE,gBAA6B,IAAPsF,EAAgBA,EAAKwsB,EAAAA,EAAAA,QAE9H30B,EAAAA,EAAAA,MAAU4C,GAC0F,QAA5F8xB,EAA0C,QAApCD,EAAKjyB,KAAK0xB,YAAY5qB,IAAI1G,UAAyB,IAAP6xB,OAAgB,EAASA,EAAG5xB,gBAA6B,IAAP6xB,EAAgBA,EAAKC,EAAAA,EAAAA,QAE9HA,EAAAA,EAAAA,IAAaA,EAAAA,EAAAA,OAAAA,MAAAA,EAAAA,GAAQ71B,EAAAA,EAAAA,GAAW0D,KAAK2xB,SAAStxB,YAAW,SAAAuc,GAAG,OAAIA,EAAI,EAAE,GACjF,KAAC6U,CAAA,CAhDkB,GAkDjBW,EAAW,WACb,SAAAA,EAAY9mB,IAASvL,EAAAA,EAAAA,GAAA,KAAAqyB,GACjBpyB,KAAKqyB,OAAS,EACdryB,KAAKsyB,MAAQ,EACbtyB,KAAKuyB,SAAW,EAChBvyB,KAAKwyB,SAAW,EAChBxyB,KAAKyyB,MAAQ,IAAIjzB,EAAAA,GACjBQ,KAAK0yB,SAAWpnB,EAChBtL,KAAK2yB,cAAgBrnB,EAAQsnB,gBAAgB5yB,KAAK6yB,QAAS7yB,KAC/D,CAgDC,OAhDAG,EAAAA,EAAAA,GAAAiyB,EAAA,EAAAhyB,IAAA,UAAAhD,MACD,WACI4C,KAAK2yB,cAAcnvB,SACvB,GAAC,CAAApD,IAAA,UAAAhD,MACD,SAAQ01B,GAAW,IACiBv0B,EADjBE,GAAA1B,EAAAA,EAAAA,GACQ+1B,GAAS,IAAhC,IAAAr0B,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAkC,KAAvBS,EAAQY,EAAAnB,MACT21B,EAAW/yB,KAAKyyB,MAAM3rB,IAAInJ,GAC5Bo1B,GACA/yB,KAAKgzB,WAAWD,GAEpB,IAAME,EAAWjzB,KAAKkzB,eAAev1B,GACrCqC,KAAKmzB,KAAKF,GACVjzB,KAAKyyB,MAAM5yB,IAAIlC,EAAUs1B,EAC7B,CAAC,OAAAp1B,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,CACL,GAAC,CAAAsC,IAAA,iBAAAhD,MACD,SAAeO,GACX,IAAMyM,EAAS,CAAEioB,OAAQ,EAAGE,SAAU,EAAGD,MAAO,EAAGE,SAAU,GAE7D,GAAIjB,EAAmB3xB,IAAIjC,EAASy1B,QAChC,OAAOhpB,EACV,IAC0DzL,EAD1DM,GAAAlC,EAAAA,EAAAA,GAC0BiD,KAAK0yB,SAASW,KAAK,CAAE11B,SAAAA,KAAW,IAA3D,IAAAsB,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAA6D,KAAhDo2B,EAAQ30B,EAAAvB,MAARk2B,SACLA,IAAaC,EAAAA,GAAAA,MACbnpB,EAAOioB,QAAU,EAEZiB,IAAaC,EAAAA,GAAAA,QAClBnpB,EAAOmoB,UAAY,EAEde,IAAaC,EAAAA,GAAAA,KAClBnpB,EAAOkoB,OAAS,EAGhBloB,EAAOooB,UAAY,CAE3B,CAAC,OAAA30B,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACD,OAAOsM,CACX,GAAC,CAAAhK,IAAA,aAAAhD,MACD,SAAWo2B,GACPxzB,KAAKqyB,QAAUmB,EAAGnB,OAClBryB,KAAKuyB,UAAYiB,EAAGjB,SACpBvyB,KAAKsyB,OAASkB,EAAGlB,MACjBtyB,KAAKwyB,UAAYgB,EAAGhB,QACxB,GAAC,CAAApyB,IAAA,OAAAhD,MACD,SAAKo2B,GACDxzB,KAAKqyB,QAAUmB,EAAGnB,OAClBryB,KAAKuyB,UAAYiB,EAAGjB,SACpBvyB,KAAKsyB,OAASkB,EAAGlB,MACjBtyB,KAAKwyB,UAAYgB,EAAGhB,QACxB,KAACJ,CAAA,CAzDY,GA2DJqB,EAAa,WACtB,SAAAA,KAAc1zB,EAAAA,EAAAA,GAAA,KAAA0zB,GACVzzB,KAAK0zB,iBAAmB,IAAIC,EAAAA,GAAgB,CACxCC,MAAO,EACPC,MAAOJ,EAAcK,SAEzB9zB,KAAK4yB,gBAAkB5yB,KAAK0zB,iBAAiBnhB,MAC7CvS,KAAKyyB,MAAQ,IAAIhB,EACjBzxB,KAAK+zB,OAAS,IAAI3B,EAAYpyB,KAClC,CAqKC,OArKAG,EAAAA,EAAAA,GAAAszB,EAAA,EAAArzB,IAAA,UAAAhD,MACD,WACI4C,KAAK+zB,OAAOvwB,UACZxD,KAAK0zB,iBAAiBlwB,SAC1B,GAAC,CAAApD,IAAA,SAAAhD,MACD,SAAOw0B,EAAOkB,GAAW,IACiBn2B,EADjBG,GAAAC,EAAAA,EAAAA,GACE+1B,GAAa,IAAE,IAAtC,IAAAh2B,EAAAE,MAAAL,EAAAG,EAAAG,KAAAC,MAAwC,KAA7BS,EAAQhB,EAAAS,MACf4C,KAAKg0B,UAAUpC,EAAOj0B,EAAU,GACpC,CAAC,OAAAE,GAAAf,EAAAlB,EAAAiC,EAAA,SAAAf,EAAAgB,GAAA,CACL,GAAC,CAAAsC,IAAA,YAAAhD,MACD,SAAUw0B,EAAOj0B,EAAUs2B,GACvB,IAAIC,EAAAA,EAAAA,IAAeD,GAAa,CAEZj0B,KAAKyyB,MAAMzqB,OAAOrK,EAAUi0B,IAExC5xB,KAAK0zB,iBAAiBziB,KAAK,CAACtT,GAEpC,KACK,CAED,IAC6B2K,EADvB6rB,EAAU,GAAG5rB,GAAAxL,EAAAA,EAAAA,GACAk3B,GAAU,IAA7B,IAAA1rB,EAAAvL,MAAAsL,EAAAC,EAAAtL,KAAAC,MAA+B,KAApBiC,EAAImJ,EAAAlL,MACLg3B,EAASX,EAAcY,UAAUzC,EAAOj0B,EAAUwB,GACpDi1B,GACAD,EAAQ/3B,KAAKg4B,EAErB,CAAC,OAAAv2B,GAAA0K,EAAA3M,EAAAiC,EAAA,SAAA0K,EAAAzK,GAAA,CACDkC,KAAKyyB,MAAM5yB,IAAIlC,EAAUi0B,EAAOuC,GAChCn0B,KAAK0zB,iBAAiBziB,KAAK,CAACtT,GAChC,CACJ,GAAC,CAAAyC,IAAA,YAAAhD,MA0BD,SAAUw0B,EAAOzyB,GACb,IAAMm1B,EAAU,GAEVC,EAAWv0B,KAAKyyB,MAAMpyB,OAAOuxB,GACnC,GAAI2C,EAAU,KACiB3rB,EADjBC,GAAA9L,EAAAA,EAAAA,GACSw3B,GAAQ,IAA3B,IAAA1rB,EAAA7L,MAAA4L,EAAAC,EAAA5L,KAAAC,MAA6B,KAAlBiC,EAAIyJ,EAAAxL,MACL+R,EAAQgjB,EAAAA,EAAAA,MAAehzB,GACzBgQ,IACAmlB,EAAQl4B,KAAK+S,EAAMxR,UACnBqC,KAAKyyB,MAAMzqB,OAAOmH,EAAMxR,SAAUi0B,GAE1C,CAAC,OAAA/zB,GAAAgL,EAAAjN,EAAAiC,EAAA,SAAAgL,EAAA/K,GAAA,CACL,CAEA,IAAI02B,EAAAA,EAAAA,IAAgBr1B,GAAO,CAEvB,IACmDsQ,EAD7CglB,EAAS,IAAIj1B,EAAAA,GAAcmQ,GAAA5S,EAAAA,EAAAA,GACcoC,GAAI,IAAnD,IAAAwQ,EAAA3S,MAAAyS,EAAAE,EAAA1S,KAAAC,MAAqD,KAAA0S,EAAAH,EAAArS,MAAxCO,EAAQiS,EAARjS,SAAkBs2B,EAAUrkB,EAAlBwkB,OACbA,EAASX,EAAcY,UAAUzC,EAAOj0B,EAAUs2B,GACxD,GAAKG,EAAL,CAIA,IAAMM,EAAQD,EAAO3tB,IAAInJ,GACpB+2B,EAKDA,EAAMt4B,KAAKg4B,IAJXK,EAAO50B,IAAIlC,EAAU,CAACy2B,IACtBE,EAAQl4B,KAAKuB,GAJjB,CASJ,CACA,OAAAE,GAAA8R,EAAA/T,EAAAiC,EAAA,SAAA8R,EAAA7R,GAAA,KACsC62B,EADtCC,GAAA73B,EAAAA,EAAAA,GACgC03B,GAAM,IAAtC,IAAAG,EAAA53B,MAAA23B,EAAAC,EAAA33B,KAAAC,MAAwC,KAAA23B,GAAA3sB,EAAAA,EAAAA,GAAAysB,EAAAv3B,MAAA,GAA5BO,EAAQk3B,EAAA,GAAEz3B,EAAKy3B,EAAA,GACvB70B,KAAKyyB,MAAM5yB,IAAIlC,EAAUi0B,EAAOx0B,EACpC,CAAC,OAAAS,GAAA+2B,EAAAh5B,EAAAiC,EAAA,SAAA+2B,EAAA92B,GAAA,CACL,CACIw2B,EAAQr4B,OAAS,GACjB+D,KAAK0zB,iBAAiBziB,KAAKqjB,EAEnC,GAAC,CAAAl0B,IAAA,OAAAhD,MACD,WAAmC,IAA9BgiB,EAAMle,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAGE,OAAOuM,OAAO,MAClBikB,EAAsCxS,EAAtCwS,MAAOj0B,EAA+ByhB,EAA/BzhB,SAAUm3B,EAAqB1V,EAArB0V,WAAYC,EAAS3V,EAAT2V,KAInC,KAHKA,GAAQA,EAAO,KAChBA,GAAQ,GAERnD,GAASj0B,EAAU,CAEnB,IAAMwB,EAAOa,KAAKyyB,MAAM3rB,IAAInJ,EAAUi0B,GACtC,GAAKzyB,EAGA,CACD,IACyB61B,EADnB5qB,EAAS,GAAG6qB,GAAAl4B,EAAAA,EAAAA,GACGoC,GAAI,IAAzB,IAAA81B,EAAAj4B,MAAAg4B,EAAAC,EAAAh4B,KAAAC,MAA2B,KAAhBk3B,EAAMY,EAAA53B,MACb,GAAIq2B,EAAcyB,QAAQd,EAAQU,GAAa,CAC3C,IAAMK,EAAS/qB,EAAOhO,KAAKg4B,GAC3B,GAAIW,EAAO,GAAKI,IAAWJ,EACvB,KAER,CACJ,CAAC,OAAAl3B,GAAAo3B,EAAAr5B,EAAAiC,EAAA,SAAAo3B,EAAAn3B,GAAA,CACD,OAAOsM,CACX,CAbI,MAAO,EAcf,CACK,GAAKwnB,GAAUj0B,EAef,CAED,IAE8By3B,EAFxBC,EAAWr1B,KAAKyyB,MAAMpyB,OAAoB,OAAb1C,QAAkC,IAAbA,EAAsBA,EAAWi0B,GACnFxnB,EAAS,GAAGkrB,GAAAv4B,EAAAA,EAAAA,GACIs4B,GAAQ,IAA9B,IAAAC,EAAAt4B,MAAAo4B,EAAAE,EAAAr4B,KAAAC,MAAgC,KACFq4B,EADnBpB,EAAOiB,EAAAh4B,MAAAo4B,GAAAz4B,EAAAA,EAAAA,GACKo3B,GAAO,IAA1B,IAAAqB,EAAAx4B,MAAAu4B,EAAAC,EAAAv4B,KAAAC,MAA4B,KAAjBiC,EAAIo2B,EAAAn4B,MACX,GAAIq2B,EAAcyB,QAAQ/1B,EAAM21B,GAAa,CACzC,IAAMK,EAAS/qB,EAAOhO,KAAK+C,GAC3B,GAAI41B,EAAO,GAAKI,IAAWJ,EACvB,OAAO3qB,CAEf,CACJ,CAAC,OAAAvM,GAAA23B,EAAA55B,EAAAiC,EAAA,SAAA23B,EAAA13B,GAAA,CACL,CAAC,OAAAD,GAAAy3B,EAAA15B,EAAAiC,EAAA,SAAAy3B,EAAAx3B,GAAA,CACD,OAAOsM,CACX,CA5BI,IACyCqrB,EADnCrrB,EAAS,GAAGsrB,GAAA34B,EAAAA,EAAAA,GACIiD,KAAKyyB,MAAMpyB,UAAQ,IAAzC,IAAAq1B,EAAA14B,MAAAy4B,EAAAC,EAAAz4B,KAAAC,MAA2C,KACby4B,EADnBxB,EAAOsB,EAAAr4B,MAAAw4B,GAAA74B,EAAAA,EAAAA,GACKo3B,GAAO,IAA1B,IAAAyB,EAAA54B,MAAA24B,EAAAC,EAAA34B,KAAAC,MAA4B,KAAjBiC,EAAIw2B,EAAAv4B,MACX,GAAIq2B,EAAcyB,QAAQ/1B,EAAM21B,GAAa,CACzC,IAAMK,EAAS/qB,EAAOhO,KAAK+C,GAC3B,GAAI41B,EAAO,GAAKI,IAAWJ,EACvB,OAAO3qB,CAEf,CACJ,CAAC,OAAAvM,GAAA+3B,EAAAh6B,EAAAiC,EAAA,SAAA+3B,EAAA93B,GAAA,CACL,CAAC,OAAAD,GAAA63B,EAAA95B,EAAAiC,EAAA,SAAA63B,EAAA53B,GAAA,CACD,OAAOsM,CAkBf,IAAC,EAAAhK,IAAA,YAAAhD,MAzHD,SAAiBw0B,EAAOj0B,EAAUwB,GAC9B,IAAM02B,EAAuH12B,EAAvH02B,KAAMvC,EAAiHn0B,EAAjHm0B,SAAUpqB,EAAuG/J,EAAvG+J,QAASoN,EAA8FnX,EAA9FmX,OAAQwf,EAAsF32B,EAAtF22B,gBAAiBC,EAAqE52B,EAArE42B,YAAaC,EAAwD72B,EAAxD62B,cAAeC,EAAyC92B,EAAzC82B,UAAWC,EAA8B/2B,EAA9B+2B,mBAAoBC,EAAUh3B,EAAVg3B,KACnH,GAAKjtB,EAQL,MAAO,CACHvL,SAAAA,EACAi0B,MAAAA,EACAiE,KAAAA,EACAvC,SAAAA,EACApqB,QAAAA,EACAoN,OAAAA,EACAwf,gBAXJA,EAAkBA,EAAkB,EAAIA,EAAkB,EAYtDC,YAXJA,EAAcA,EAAc,EAAIA,EAAc,EAY1CC,cAXJA,EAAgBA,GAAiBF,EAAkBE,EAAgBF,EAY/DG,UAXJA,EAAYA,EAAY,EAAIA,EAAYF,EAYpCG,mBAAAA,EACAC,KAAAA,EAER,GAAC,CAAA/1B,IAAA,UAAAhD,MAkGD,SAAeg3B,EAAQU,GACnB,YAAsB3yB,IAAf2yB,IAA6BA,EAAaV,EAAOd,YAAcc,EAAOd,QACjF,GACA,CAAAlzB,IAAA,SAAAhD,MACA,SAAc2S,GACV,IACuBqmB,EADjBv2B,EAAM,IAAIL,EAAAA,GAAc62B,GAAAt5B,EAAAA,EAAAA,GACVgT,GAAG,IAAvB,IAAAsmB,EAAAr5B,MAAAo5B,EAAAC,EAAAp5B,KAAAC,MAAyB,KACGo5B,EADjB5B,EAAK0B,EAAAh5B,MAAAm5B,GAAAx5B,EAAAA,EAAAA,GACO23B,GAAK,IAAxB,IAAA6B,EAAAv5B,MAAAs5B,EAAAC,EAAAt5B,KAAAC,MAA0B,KAAf0P,EAAI0pB,EAAAl5B,MACXyC,EAAIA,IAAI+M,GAAM,EAClB,CAAC,OAAA/O,GAAA04B,EAAA36B,EAAAiC,EAAA,SAAA04B,EAAAz4B,GAAA,CACL,CAAC,OAAAD,GAAAw4B,EAAAz6B,EAAAiC,EAAA,SAAAw4B,EAAAv4B,GAAA,CACD,OAAO0M,MAAM7C,KAAK9H,EAAIuI,OAC1B,KAACqrB,CAAA,CA9KqB,E,6GClHfF,EAuCAiD,E,iCAtCX,SAAWjD,GACPA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAwB,QAAI,GAAK,UAChDA,EAAeA,EAAsB,MAAI,GAAK,OACjD,CALD,CAKGA,IAAmBA,EAAiB,CAAC,IACxC,SAAWA,GAIPA,EAAekD,QAHf,SAAiBvrB,EAAGC,GAChB,OAAOA,EAAID,CACf,EAEA,IAAMwrB,EAAkBt1B,OAAOuM,OAAO,MACtC+oB,EAAgBnD,EAAe9wB,QAASX,EAAAA,EAAAA,IAAS,YAAa,SAC9D40B,EAAgBnD,EAAeoD,UAAW70B,EAAAA,EAAAA,IAAS,cAAe,WAClE40B,EAAgBnD,EAAezE,OAAQhtB,EAAAA,EAAAA,IAAS,WAAY,QAI5DyxB,EAAetsB,SAHf,SAAkBiE,GACd,OAAOwrB,EAAgBxrB,IAAM,EACjC,EAUAqoB,EAAeqD,aARf,SAAsBtD,GAClB,OAAQA,GACJ,KAAKuD,EAAAA,EAAAA,MAAgB,OAAOtD,EAAe9wB,MAC3C,KAAKo0B,EAAAA,EAAAA,QAAkB,OAAOtD,EAAeoD,QAC7C,KAAKE,EAAAA,EAAAA,KAAe,OAAOtD,EAAezE,KAC1C,KAAK+H,EAAAA,EAAAA,OAAiB,OAAOtD,EAAeuD,KAEpD,EAUAvD,EAAewD,WARf,SAAoBzD,GAChB,OAAQA,GACJ,KAAKC,EAAe9wB,MAAO,OAAOo0B,EAAAA,EAAAA,MAClC,KAAKtD,EAAeoD,QAAS,OAAOE,EAAAA,EAAAA,QACpC,KAAKtD,EAAezE,KAAM,OAAO+H,EAAAA,EAAAA,KACjC,KAAKtD,EAAeuD,KAAM,OAAOD,EAAAA,EAAAA,OAEzC,CAEH,CA/BD,CA+BGtD,IAAmBA,EAAiB,CAAC,IAExC,SAAWiD,GACP,IAAMQ,EAAc,GAKpB,SAASC,EAAuBhD,EAAYiD,GACxC,IAAM9sB,EAAS,CAAC4sB,GAyDhB,OAxDI/C,EAAW3d,OACXlM,EAAOhO,KAAK63B,EAAW3d,OAAO6gB,QAAQ,OAAK,WAG3C/sB,EAAOhO,KAAK46B,GAEZ/C,EAAW4B,KACoB,kBAApB5B,EAAW4B,KAClBzrB,EAAOhO,KAAK63B,EAAW4B,KAAKsB,QAAQ,OAAK,WAGzC/sB,EAAOhO,KAAK63B,EAAW4B,KAAKz4B,MAAM+5B,QAAQ,OAAK,WAInD/sB,EAAOhO,KAAK46B,QAEY70B,IAAxB8xB,EAAWX,UAAkD,OAAxBW,EAAWX,SAChDlpB,EAAOhO,KAAKm3B,EAAetsB,SAASgtB,EAAWX,WAG/ClpB,EAAOhO,KAAK46B,GAIZ/C,EAAW/qB,SAAWguB,EACtB9sB,EAAOhO,KAAK63B,EAAW/qB,QAAQiuB,QAAQ,OAAK,WAG5C/sB,EAAOhO,KAAK46B,QAEmB70B,IAA/B8xB,EAAW6B,iBAAgE,OAA/B7B,EAAW6B,gBACvD1rB,EAAOhO,KAAK63B,EAAW6B,gBAAgB7uB,YAGvCmD,EAAOhO,KAAK46B,QAEe70B,IAA3B8xB,EAAW8B,aAAwD,OAA3B9B,EAAW8B,YACnD3rB,EAAOhO,KAAK63B,EAAW8B,YAAY9uB,YAGnCmD,EAAOhO,KAAK46B,QAEiB70B,IAA7B8xB,EAAW+B,eAA4D,OAA7B/B,EAAW+B,cACrD5rB,EAAOhO,KAAK63B,EAAW+B,cAAc/uB,YAGrCmD,EAAOhO,KAAK46B,QAEa70B,IAAzB8xB,EAAWgC,WAAoD,OAAzBhC,EAAWgC,UACjD7rB,EAAOhO,KAAK63B,EAAWgC,UAAUhvB,YAGjCmD,EAAOhO,KAAK46B,GAEhB5sB,EAAOhO,KAAK46B,GACL5sB,EAAO/B,KAAK,OACvB,CA5DAmuB,EAAYY,QAHZ,SAAiBnD,GACb,OAAOgD,EAAuBhD,GAAY,EAC9C,EA8DAuC,EAAYS,uBAAyBA,CACxC,CAnED,CAmEGT,IAAgBA,EAAc,CAAC,IAC3B,IAAMa,GAAiB97B,EAAAA,EAAAA,IAAgB,gB,wJCjHnCs7B,EAAWS,EAAAA,EACTC,GAAuBh8B,EAAAA,EAAAA,IAAgB,uBACvCi8B,GAAgBr3B,EAAAA,EAAAA,IAAA,SAAAq3B,KAAAz3B,EAAAA,EAAAA,GAAA,KAAAy3B,EAAA,G,oLCAzB52B,EAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIM,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUb,EAAQV,GAAOuB,EAAUb,EAAQV,EAAKsB,EAAa,CACxE,EASI+1B,EAAI,SAAApmB,IAAA1N,EAAAA,EAAAA,GAAA8zB,EAAApmB,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAA4zB,GAuBJ,SAAAA,EAAY3zB,EAAW4zB,GAAoC,IAAAzzB,EACnDpI,EADsB+B,EAAOsD,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGy2B,EAAaz2B,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,GAAApC,EAAAA,EAAAA,GAAA,KAAA03B,IAErDxzB,EAAAL,EAAAM,KAAA,OACKwzB,MAAQA,EACbzzB,EAAK2zB,UAAW,EAChB3zB,EAAK4zB,IAAKC,EAAAA,EAAAA,QAAOh0B,GAAWi0B,EAAAA,EAAAA,GAAE,gBAAiB,CAC3CC,SAAoC,QAAzBn8B,EAAK67B,EAAMM,gBAA6B,IAAPn8B,EAAgBA,EAAK,EACjEo8B,KAAMP,EAAMO,KACZrK,MAAO8J,EAAM9J,OACd8J,EAAMzjB,QACThQ,EAAK4zB,GAAGK,aAAa,OAAQ,UAC7B,IAAMC,EAAiBl0B,EAAKE,UAAU,IAAIi0B,EAAAA,EAAWn0B,EAAK4zB,GAAI,UACxDQ,EAAap0B,EAAKE,UAAU,IAAIi0B,EAAAA,EAAWn0B,EAAK4zB,GAAI,aACpDS,EAAe9lB,EAAAA,GAAAA,MAAY6lB,EAAW9lB,OACvCqK,KAAI,SAAAhhB,GAAC,OAAI,IAAI28B,EAAAA,EAAsB38B,EAAE,IACrCwjB,QAAO,SAAAxjB,GAAC,OAAkB,IAAdA,EAAEwa,OAAa,IAC3B7D,MACCimB,EAAQv0B,EAAKE,UAAU,IAAIi0B,EAAAA,EAAWn0B,EAAK4zB,GAAIY,EAAAA,EAAAA,MAAqBlmB,MAC1EtO,EAAKE,UAAUu0B,EAAAA,EAAAA,UAAkBz0B,EAAK4zB,KACtC,IAAMc,EAASnmB,EAAAA,GAAAA,IAAU2lB,EAAe5lB,MAAO+lB,EAAcE,GAazC,OAZpBv0B,EAAKE,UAAUw0B,GAAO,SAAA/8B,GACbqI,EAAKmpB,UAGVwL,EAAAA,YAAAA,KAAiBh9B,GAAG,IACJ,OAAZgC,QAAgC,IAAZA,OAAqB,EAASA,EAAQi7B,QAC1Dj7B,EAAQi7B,OAAO50B,EAAKyzB,MAAMO,MAG1BN,EAAcmB,KAAK70B,EAAKyzB,MAAMO,KAAM,CAAEc,eAAe,IAE7D,KACA90B,EAAKmpB,SAAU,EAAKnpB,CACxB,CAlCC,OAkCA9D,EAAAA,EAAAA,GAAAs3B,EAAA,EAAAr3B,IAAA,UAAA0G,IAvDD,WACI,OAAO9G,KAAK43B,QAChB,EAAC/3B,IACD,SAAYutB,GACJA,GACAptB,KAAK63B,GAAGK,aAAa,gBAAiB,SACtCl4B,KAAK63B,GAAGG,SAAW,EACnBh4B,KAAK63B,GAAGhZ,MAAMma,cAAgB,OAC9Bh5B,KAAK63B,GAAGhZ,MAAMoa,QAAU,IACxBj5B,KAAK63B,GAAGhZ,MAAMqa,OAAS,UACvBl5B,KAAK43B,UAAW,IAGhB53B,KAAK63B,GAAGK,aAAa,gBAAiB,QACtCl4B,KAAK63B,GAAGG,UAAY,EACpBh4B,KAAK63B,GAAGhZ,MAAMma,cAAgB,OAC9Bh5B,KAAK63B,GAAGhZ,MAAMoa,QAAU,MACxBj5B,KAAK63B,GAAGhZ,MAAMqa,OAAS,UACvBl5B,KAAK43B,UAAW,GAEpB53B,KAAK43B,SAAWxK,CACpB,KAACqK,CAAA,CAtBG,CAAsBphB,EAAAA,IA0D9BohB,EAAO72B,EAAW,CACda,EAAQ,EAAG03B,EAAAA,KACZ1B,E,2JC1EU0B,GAAiB59B,E,QAAAA,IAAgB,iBACvC,SAAS69B,EAAct4B,EAAQsyB,GAClC,OAAI51B,EAAAA,EAAAA,MAAUsD,IACHu4B,EAAAA,EAAAA,IAAiBv4B,EAAOsyB,OAAQA,IAGhCkG,EAAAA,EAAAA,IAAqBx4B,EAAQsyB,EAAS,IAErD,CACO,SAASmG,EAAkBz4B,GAAoB,QAAAwJ,EAAApJ,UAAAjF,OAATu9B,EAAO,IAAAhvB,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAP+uB,EAAO/uB,EAAA,GAAAvJ,UAAAuJ,GAChD,OAAO+uB,EAAQza,MAAK,SAAAqU,GAAM,OAAIgG,EAAct4B,EAAQsyB,EAAO,GAC/D,CAWO,SAAS71B,EAAiBG,GAC7B,IAAID,OAAY0E,EACVs3B,EAAQ,4CAA4CC,KAAKh8B,EAAIi8B,UAUnE,OATIF,IACAh8B,EAAY,CACRq4B,gBAAiB8D,SAASH,EAAM,IAChC1D,YAAa0D,EAAM,GAAKG,SAASH,EAAM,IAAM,EAC7CzD,cAAeyD,EAAM,GAAKG,SAASH,EAAM,SAAMt3B,EAC/C8zB,UAAWwD,EAAM,GAAMA,EAAM,GAAKG,SAASH,EAAM,IAAM,OAAKt3B,GAEhEzE,EAAMA,EAAIm8B,KAAK,CAAEF,SAAU,MAExB,CAAEl8B,UAAAA,EAAWC,IAAAA,EACxB,C,6ICzCao8B,GAAmBv+B,EAAAA,EAAAA,IAAgB,mBAM1Cw+B,GAL6B34B,OAAO44B,OAAO,CAC7CC,MAAK,WAAK,EACVC,OAAM,WAAK,EACXh9B,KAAI,WAAK,IAEC,WACV,SAAA68B,EAAY/rB,IAAUjO,EAAAA,EAAAA,GAAA,KAAAg6B,GAClB/5B,KAAKgO,SAAWA,CACpB,CAIC,OAJA7N,EAAAA,EAAAA,GAAA45B,EAAA,EAAA35B,IAAA,SAAAhD,MACD,SAAOwP,GACH5M,KAAKm6B,OAASvtB,EACd5M,KAAKgO,SAAShO,KAAKm6B,OACvB,KAACJ,CAAA,CAPS,IASdA,EAASK,KAAOh5B,OAAO44B,OAAO,CAAEK,OAAM,WAAK,IAEpC,IAAMC,GAAyB/+B,EAAAA,EAAAA,IAAgB,wB,4DCF3Cg/B,E,iPAZPC,EAAwC,SAAUvsB,EAASwsB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU7mB,EAAS8mB,GAC/C,SAASC,EAAU19B,GAAS,IAAM29B,EAAKJ,EAAUK,KAAK59B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC1F,SAASq/B,EAAS79B,GAAS,IAAM29B,EAAKJ,EAAiB,MAAEv9B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC7F,SAASm/B,EAAK3wB,GAJlB,IAAehN,EAIagN,EAAOlN,KAAO6W,EAAQ3J,EAAOhN,QAJ1CA,EAIyDgN,EAAOhN,MAJhDA,aAAiBs9B,EAAIt9B,EAAQ,IAAIs9B,GAAE,SAAU3mB,GAAWA,EAAQ3W,EAAQ,KAIjB2Y,KAAK+kB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUt+B,MAAM4R,EAASwsB,GAAc,KAAKO,OAClE,GACJ,EAuBA,SAASE,EAAkB9sB,GACvB,IAAMb,EAAYa,EAClB,OAAO5D,MAAMsQ,QAAQvN,EAAU+K,MACnC,CACA,SAAS6iB,EAAmB/sB,GACxB,IAAMb,EAAYa,EAClB,QAASb,EAAU6tB,OAAS7tB,EAAU8tB,2BAA2BT,OACrE,EAzBA,SAAWL,GAIPA,EAAcA,EAAyB,UAAI,GAAK,YAIhDA,EAAcA,EAA4B,aAAI,GAAK,eAInDA,EAAcA,EAA8B,eAAI,GAAK,iBAIrDA,EAAcA,EAA2B,YAAI,GAAK,aACrD,CAjBD,CAiBGA,IAAkBA,EAAgB,CAAC,IAQrC,IACKe,EAAyB,SAAAjqB,IAAA1N,EAAAA,EAAAA,GAAA23B,EAAAjqB,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAAy3B,GAC3B,SAAAA,EAAY5rB,EAAQ9R,GAAS,IAAAqG,EAGF,OAHElE,EAAAA,EAAAA,GAAA,KAAAu7B,IACzBr3B,EAAAL,EAAAM,KAAA,OACKwL,OAASA,EACdzL,EAAKrG,QAAUA,EAAQqG,CAC3B,CAwMC,OAxMA9D,EAAAA,EAAAA,GAAAm7B,EAAA,EAAAl7B,IAAA,UAAAhD,MACD,SAAQm+B,EAAQC,EAAOC,GAAY,IAC3B5/B,EAD2B8I,EAAA,KAEzBuJ,EAAc,IAAIvL,EAAAA,GAExB44B,EAAOG,yBAAmD,QAAvB7/B,EAAKmE,KAAKpC,eAA4B,IAAP/B,OAAgB,EAASA,EAAG6/B,uBAE9FH,EAAOI,aAAeJ,EAAOK,mBAAqBL,EAAOM,cAAgBN,EAAOO,aAAc,EAE9F,IAAIC,OAAW55B,EACT65B,EAAkB9tB,EAAY7K,IAAI,IAAI44B,EAAAA,IACtCC,EAAoB,WAAH,OAAS1B,EAAU71B,OAAM,OAAQ,GAAMw3B,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAloB,EAAA,YAAAwnB,EAAAA,EAAAA,KAAAW,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA/B,MAAA,OAoC5D,GAnCMsB,EAAmBN,EAAgB5+B,MAAQ,IAAIuF,EAAAA,GAExC,OAAbo5B,QAAkC,IAAbA,GAA+BA,EAASv4B,SAAQ,GACrE+3B,EAAO0B,MAAO,EAEdlB,EAAW,IAAImB,EAAAA,EAAwB1B,GAEjCe,EAAaR,EAASP,MACtBgB,EAAcjB,EAAOn+B,MAAMye,OAAO7b,KAAK0P,OAAOzT,QAAQkhC,OACtDV,EAAgBz8B,KAAKo9B,UAAUZ,EAAaF,EAAkBC,EAAYd,GAC1EiB,EAAa,SAACtB,EAAOiC,GACvB,IAAIxhC,EACAyc,EACAglB,OAAan7B,EAQjB,GAPI+4B,EAAkBE,IAClB9iB,EAAQ8iB,EAAM9iB,MACdglB,EAAalC,EAAMmC,QAGnBjlB,EAAQ8iB,EAES,IAAjB9iB,EAAMrc,OAAc,CACpB,GAAIohC,EACA,OAAO,EAEPb,EAAYvgC,OAAS,IAA8B,QAAvBJ,EAAK8Y,EAAK/W,eAA4B,IAAP/B,OAAgB,EAASA,EAAG2hC,iBACvFllB,EAAQ,CAAC3D,EAAK/W,QAAQ4/B,eAE9B,CAKA,OAJAjC,EAAOjjB,MAAQA,EACXglB,IACA/B,EAAOkC,YAAc,CAACH,KAEnB,CACX,EAEsB,OAAlBb,EAAsB,CAAAM,EAAA/B,KAAA,SAAA+B,EAAA/B,KAAA,qBAIjBG,EAAmBsB,GAAgB,CAAFM,EAAA/B,KAAA,SAGtC,OAFI2B,GAAmB,EACnBC,GAAmB,EAAKG,EAAA/B,KAAA,GACtBJ,QAAQ7qB,IAAI,CAKPyqB,EAAU7lB,OAAM,OAAQ,GAAMwnB,EAAAA,EAAAA,KAAAC,MAAE,SAAAsB,IAAA,OAAAvB,EAAAA,EAAAA,KAAAW,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAA3C,MAAA,OACnC,OADmC2C,EAAA3C,KAAA,GAC7B4C,EAAAA,EAAAA,IAAQtC,EAA0BuC,uBAAsB,WAC1DtB,EAAWuB,wBAAyB,CAAFH,EAAA3C,KAAA,eAAA2C,EAAAI,OAAA,iBAGjCnB,IACDD,EAAmBD,EAAWD,EAAcrB,OAAO,IACtD,wBAAAuC,EAAAjzB,OAAA,GAAAgzB,EAAA,KAKElD,EAAU7lB,OAAM,OAAQ,GAAMwnB,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,IAAAC,EAAA7C,EAAA8C,EAAA7C,EAAA8C,EAAAC,EAAAC,EAAA,OAAAlC,EAAAA,EAAAA,KAAAW,MAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAAtD,MAAA,OAGA,OAFnCO,EAAO0B,MAAO,EAAKqB,EAAAtB,KAAA,EAAAsB,EAAAtD,KAAA,EAEsByB,EAAcpB,gBAAe,OAAtC,GAAtB4C,EAAsBK,EAAAC,MACxBhC,EAAWuB,wBAAyB,CAAFQ,EAAAtD,KAAA,eAAAsD,EAAAP,OAAA,iBAIlCG,OAAa/7B,EACb+4B,EAAkBuB,EAAcrB,QAChCA,EAAQqB,EAAcrB,MAAM9iB,MAC5B4lB,EAAazB,EAAcrB,MAAMmC,QAGjCnC,EAAQqB,EAAcrB,MAGtB+C,OAAuBh8B,EACvB+4B,EAAkB+C,IAClB5C,EAAkB4C,EAAuB3lB,MACzC6lB,EAAuBF,EAAuBV,QAG9ClC,EAAkB4C,GAElB5C,EAAgBp/B,OAAS,IAAM0gC,KAO3ByB,OAAqBj8B,EACpB+7B,GAAeC,IACVE,EAA8B9C,EAAOkC,YAAY,MAC4B,IAAhDrC,EAAM/9B,QAAQghC,KAC7CD,EAAqBC,GAG7B3B,EAAW,CACPpkB,MAAO,GAAFnQ,QAAA7L,EAAAA,EAAAA,GAAM8+B,IAAK9+B,EAAAA,EAAAA,GAAK++B,IACrBkC,OAAQW,GAAcC,GAAwBC,KAErD,QAMuB,OANvBE,EAAAtB,KAAA,GAGIT,EAAWuB,0BACZvC,EAAO0B,MAAO,GAElBL,GAAmB,EAAK0B,EAAAE,OAAA,6BAAAF,EAAA5zB,OAAA,GAAAszB,EAAA,yBAGlC,QAAAjB,EAAA/B,KAAA,oBAGKyB,aAAyB7B,QAAO,CAAAmC,EAAA/B,KAAA,SACvC0B,EAAWD,GAAeM,EAAA/B,KAAA,iBAMD,OAFzBO,EAAO0B,MAAO,EAAKF,EAAAC,KAAA,GAAAD,EAAA/B,KAAA,GAEYyB,EAAa,QAAtB,GAAZI,EAAYE,EAAAwB,MACdhC,EAAWuB,wBAAyB,CAAFf,EAAA/B,KAAA,gBAAA+B,EAAAgB,OAAA,kBAGtCrB,EAAWG,GAAc,QAKxB,OALwBE,EAAAC,KAAA,GAGpBT,EAAWuB,0BACZvC,EAAO0B,MAAO,GACjBF,EAAAyB,OAAA,6BAAAzB,EAAAryB,OAAA,GAAA2xB,EAAA,uBAGX,EAqDF,OApDAnuB,EAAY7K,IAAIk4B,EAAOkD,kBAAiB,kBAAMvC,GAAmB,KACjEA,IAEAhuB,EAAY7K,IAAIk4B,EAAOmD,aAAY,SAAAnsB,GAC/B,IAAO3F,GAAP1E,EAAAA,EAAAA,GAAeqzB,EAAOoD,cAAa,GAAxB,GAC8D,oBAApD,OAAT/xB,QAA0B,IAATA,OAAkB,EAASA,EAAKgyB,UACpDrsB,EAAMssB,cACPtD,EAAOuD,OAEXlyB,EAAKgyB,OAAOrD,EAAOwD,QAASxsB,GAEpC,KAEArE,EAAY7K,IAAIk4B,EAAOyD,wBAAuB,SAAAC,GAAA,IAAGnY,EAAMmY,EAANnY,OAAQla,EAAIqyB,EAAJryB,KAAI,OAAO4tB,EAAU71B,OAAM,OAAQ,GAAMw3B,EAAAA,EAAAA,KAAAC,MAAE,SAAA8C,IAAA,IAAAv5B,EAAAssB,EAAAkN,EAAA/0B,EAAAg1B,EAAAr4B,EAAAuR,EAAA+mB,EAAA5B,EAAA6B,EAAA,OAAAnD,EAAAA,EAAAA,KAAAW,MAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAvE,MAAA,UAEpE,oBAAjBpuB,EAAK4yB,QAAsB,CAAAD,EAAAvE,KAAA,SACwG,MAApImE,EAAqG,QAAtFlN,EAA6B,QAAvBtsB,EAAKiH,EAAK6yB,eAA4B,IAAP95B,OAAgB,EAASA,EAAGtI,QAAQypB,UAA4B,IAAPmL,EAAgBA,GAAM,IACtH,GAAC,CAAAsN,EAAAvE,KAAA,SACwC,GACtB,kBAD5B5wB,EAASwC,EAAK4yB,QAAQL,EAAa5D,EAAOwD,UACN,CAAAQ,EAAAvE,KAAA,QAAAuE,EAAAG,GAAIt1B,EAAMm1B,EAAAvE,KAAA,gBAAG,OAAHuE,EAAAvE,KAAA,GAAS5wB,EAAM,QAAAm1B,EAAAG,GAAAH,EAAAhB,KAAA,QAAvD,GAANa,EAAMG,EAAAG,IACRlE,EAAMsC,wBAAyB,CAAFyB,EAAAvE,KAAA,gBAAAuE,EAAAxB,OAAA,kBAAAwB,EAAAI,GAGzBP,EAAMG,EAAAvE,KAAAuE,EAAAI,KACLpF,EAAcqF,UAAS,GAAAL,EAAAI,KAEvBpF,EAAcsF,aAAY,GAAAN,EAAAI,KAG1BpF,EAAcuF,eAAc,GAAAP,EAAAI,KAG5BpF,EAAcwF,YAAW,2BAAAR,EAAAxB,OAAA,oBALZ,OAAdxC,EAAOuD,OAAOS,EAAAxB,OAAA,oBAGM,OAApB7B,IAAoBqD,EAAAxB,OAAA,oBAenB,OAXc,KADTh3B,EAAQw0B,EAAOjjB,MAAMjb,QAAQuP,MAEzB0L,EAAQijB,EAAOjjB,MAAMzM,QACrBwzB,EAAU/mB,EAAM/U,OAAOwD,EAAO,GAC9B02B,EAAclC,EAAOkC,YAAYre,QAAO,SAAAke,GAAU,OAAIA,IAAe+B,EAAQ,EAAE,IAC/EC,EAA2B/D,EAAOyE,mBACxCzE,EAAOyE,oBAAqB,EAC5BzE,EAAOjjB,MAAQA,EACXmlB,IACAlC,EAAOkC,YAAcA,GAEzBlC,EAAOyE,mBAAqBV,GAC/BC,EAAAxB,OAAA,qCAAAwB,EAAA70B,OAAA,GAAAw0B,EAAA,IAMnB,KACKhxB,CACX,KAACotB,CAAA,CA7M0B,CAASjlB,EAAAA,IA+MxCilB,EAA0BuC,sBAAwB,I,0BCtP9Cj9B,EAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIM,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUb,EAAQV,GAAOuB,EAAUb,EAAQV,EAAKsB,EAAa,CACxE,EACI84B,EAAwC,SAAUvsB,EAASwsB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU7mB,EAAS8mB,GAC/C,SAASC,EAAU19B,GAAS,IAAM29B,EAAKJ,EAAUK,KAAK59B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC1F,SAASq/B,EAAS79B,GAAS,IAAM29B,EAAKJ,EAAiB,MAAEv9B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC7F,SAASm/B,EAAK3wB,GAJlB,IAAehN,EAIagN,EAAOlN,KAAO6W,EAAQ3J,EAAOhN,QAJ1CA,EAIyDgN,EAAOhN,MAJhDA,aAAiBs9B,EAAIt9B,EAAQ,IAAIs9B,GAAE,SAAU3mB,GAAWA,EAAQ3W,EAAQ,KAIjB2Y,KAAK+kB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUt+B,MAAM4R,EAASwsB,GAAc,KAAKO,OAClE,GACJ,EAgBIiF,EAAmC,SAAAC,IAAAv8B,EAAAA,EAAAA,GAAAs8B,EAAAC,GAAA,IAAAt8B,GAAAC,EAAAA,EAAAA,GAAAo8B,GACnC,SAAAA,EAAYriC,EAASolB,EAAsBtd,EAAmBy6B,EAAgBC,EAAkBC,GAAe,IAAAp8B,EAQpF,OARoFlE,EAAAA,EAAAA,GAAA,KAAAkgC,IAC3Gh8B,EAAAL,EAAAM,KAAA,KAAM+7B,EAAoCK,OAAQ1iC,IAC7ColB,qBAAuBA,EAC5B/e,EAAKyB,kBAAoBA,EACzBzB,EAAKk8B,eAAiBA,EACtBl8B,EAAKm8B,iBAAmBA,EACxBn8B,EAAKo8B,cAAgBA,EACrBp8B,EAAKs8B,gBAAkBt8B,EAAKE,UAAUF,EAAK+e,qBAAqBwd,eAAeC,IAC/Ex8B,EAAKrG,QAAUA,EAAQqG,CAC3B,CAoHC,OApHA9D,EAAAA,EAAAA,GAAA8/B,EAAA,EAAA7/B,IAAA,YAAAhD,MACD,SAAUgiB,EAAQshB,EAAclF,EAAOC,GACnC,IAAI5/B,EAAI8J,EACR,OAAO60B,EAAUx6B,UAAM,OAAQ,GAAMm8B,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,IAAA2C,EAAAC,EAAAniC,EAAAF,EAAAsiC,EAAAC,EAAAC,EAAAC,EAAAvhC,EAAAwhC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAtjC,EAAA0G,EAAA,YAAAw3B,EAAAA,EAAAA,KAAAW,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA/B,MAAA,OAEX,OAFW+B,EAAA/B,KAAA,EAELh7B,KAAKwhC,gBAAgBhG,GAAM,OAApC,GAAfmF,EAAe5D,EAAAwB,MACjB/C,EAAMsC,wBAAyB,CAAFf,EAAA/B,KAAA,eAAA+B,EAAAgB,OAAA,SACtB,IAAE,OAGP6C,EAAuB,GAAEniC,GAAA1B,EAAAA,EAAAA,GACL4jC,GAAe,IAAzC,IAAAliC,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAWgkC,EAAW3iC,EAAAnB,MACZ0jC,GAAkBW,EAAAA,EAAAA,IAAoBxB,EAAoCyB,YAAYtiB,EAAQ8hB,EAAYjtB,QAC1G8sB,EAAkBG,EAAYS,cAAeF,EAAAA,EAAAA,IAAoBxB,EAAoCyB,YAAYtiB,EAAQ8hB,EAAYS,oBAAiBx/B,EAExJ2+B,GAAmBC,GACnBG,EAAYU,WAAa,CACrB3tB,MAAO6sB,EACPja,OAAQ7mB,KAAKpC,QAAQikC,UAAYd,OAAkB5+B,GAEvDy+B,EAAqBxkC,KAAK8kC,IAGrB9hB,IAAW8hB,EAAYnuB,WAC5B6tB,EAAqBxkC,KAAK8kC,EAGlC,OAAArjC,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,CAEA,IADMkjC,EAAoB,IAAI9gC,IAC9BT,EAAA,EAAAwhC,EAA0BL,EAAoBnhC,EAAAwhC,EAAAhlC,OAAAwD,IAAnCyhC,EAAWD,EAAAxhC,IACZ0hC,EAA0BH,EAAkBl6B,IAAIo6B,EAAYjtB,SAE9DitB,EAAY/S,YAAc+S,EAAYnuB,UACtCouB,EAAwBhT,YAAcgT,EAAwBpuB,WAG9DiuB,EAAkBnhC,IAAIqhC,EAAYjtB,MAAOitB,GAIjDN,EAAqB31B,MAAK,SAAC62B,EAAcC,GACrC,IAAMC,EAAkBr9B,EAAK47B,gBAAgB0B,KAAKH,EAAa/uB,WACzDmvB,EAAkBv9B,EAAK47B,gBAAgB0B,KAAKF,EAAahvB,WAC/D,GAAIivB,GAAmBE,EACnB,OAAOF,EAAkBE,GAAmB,EAAI,EAEpD,GAAIF,EACA,OAAQ,EAEZ,GAAIE,EACA,OAAO,EAEX,GAAIv9B,EAAK/G,QAAQukC,oBAAqB,CAClC,IAAMC,EAAqBz9B,EAAK/G,QAAQukC,oBAAoBviC,IAAIkiC,EAAa/uB,WACvEsvB,EAAqB19B,EAAK/G,QAAQukC,oBAAoBviC,IAAImiC,EAAahvB,WAC7E,GAAIqvB,GAAsBC,EACtB,OAAO,EAEX,GAAID,EACA,OAAQ,EAEZ,GAAIC,EACA,OAAO,CAEf,CAEA,OAAOP,EAAa7tB,MAAMquB,cAAcP,EAAa9tB,MACzD,IACMmtB,EAAe,GACjBC,GAAoB,EACpBC,IAA6BthC,KAAKpC,QAAQukC,oBAAmBZ,GAAApF,EAAAA,EAAAA,KAAAC,MAAA,SAAAmF,IAAA,IAAAL,EAAA7tB,EAAAkvB,EAAA,OAAApG,EAAAA,EAAAA,KAAAW,MAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAAtD,MAAA,OAEvDkG,EAAcN,EAAqB3iC,GACnCoV,EAAa1O,EAAKe,kBAAkBE,iBAAiBs7B,EAAYnuB,WACjEwvB,EAAYlvB,GACdvR,EAAAA,EAAAA,IAAS,qCAAsC,WAAYo/B,EAAYjtB,MAAOZ,EAAWmvB,gBACzFtB,EAAYjtB,MAEN,IAANhW,GAAW0G,EAAK47B,gBAAgB0B,KAAKf,EAAYnuB,aACjDquB,EAAahlC,KAAK,CAAE0S,KAAM,YAAamF,OAAOnS,EAAAA,EAAAA,IAAS,eAAgB,mBACvEu/B,GAAoB,GAGpBC,IAA6B38B,EAAK47B,gBAAgB0B,KAAKf,EAAYnuB,aAA2D,QAA3ClX,EAAK8I,EAAK/G,QAAQukC,2BAAwC,IAAPtmC,OAAgB,EAASA,EAAG+D,IAAIshC,EAAYnuB,cAClLquB,EAAahlC,KAAK,CAAE0S,KAAM,YAAamF,OAAOnS,EAAAA,EAAAA,IAAS,eAAgB,mBACvEu/B,GAAoB,EACpBC,GAA2B,IAG3BD,GAAsB18B,EAAK47B,gBAAgB0B,KAAKf,EAAYnuB,aAA4D,QAA3CpN,EAAKhB,EAAK/G,QAAQukC,2BAAwC,IAAPx8B,OAAgB,EAASA,EAAG/F,IAAIshC,EAAYnuB,cAC5KquB,EAAahlC,KAAK,CAAE0S,KAAM,YAAamF,OAAOnS,EAAAA,EAAAA,IAAS,gBAAiB,oBACxEu/B,GAAoB,GAGxBD,EAAahlC,KAAKgF,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGkf,GAAc,CAAEqB,UAAAA,EAAW1b,OAAQliB,EAAK/G,QAAQikC,WAAaX,EAAYS,eAAiBT,EAAYjtB,MAAQitB,EAAYS,kBAAex/B,EAAWkR,WAAAA,EAAYurB,OAAQ,kBAAMpE,EAAU71B,OAAM,OAAQ,GAAMw3B,EAAAA,EAAAA,KAAAC,MAAE,SAAAsB,IAAA,IAAAzL,EAAA,OAAAkK,EAAAA,EAAAA,KAAAW,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAA3C,MAAA,OAWpP,OARJh7B,KAAKugC,gBAAgBnkC,KAAK8kC,EAAYnuB,WAEtC/S,KAAKogC,iBAAiBnqB,WAAW,0BAA2B,CACxDvV,GAAIwgC,EAAYnuB,UAChBpL,KAAyF,QAAlFsqB,EAAoB,OAAfwJ,QAAsC,IAAfA,OAAwB,EAASA,EAAW9zB,YAAyB,IAAPsqB,EAAgBA,EAAK,eAE1H0L,EAAAX,KAAA,EAAAW,EAAA3C,KAAA,EAEUh7B,KAAKmgC,eAAerqB,eAAeorB,EAAYnuB,WAAU,OAAA4qB,EAAA3C,KAAA,gBAAA2C,EAAAX,KAAA,EAAAW,EAAA+B,GAAA/B,EAAA,UAG1D8E,EAAAA,EAAAA,IAAmB9E,EAAA+B,KACpB1/B,KAAKqgC,cAAc7jC,OAAMsF,EAAAA,EAAAA,IAAS,YAAa,qCAAsCo/B,EAAYjtB,QAAQyuB,EAAAA,EAAAA,GAAc/E,EAAA+B,KAC1H,yBAAA/B,EAAAjzB,OAAA,GAAAgzB,EAAA,iBAEP,KAAK,wBAAAY,EAAA5zB,OAAA,GAAA62B,EAAA,IAzCNtjC,EAAI,EAAC,aAAEA,EAAI2iC,EAAqB3kC,QAAM,CAAA8gC,EAAA/B,KAAA,gBAAA+B,EAAA4F,cAAApB,IAAA,iBAAEtjC,IAAG8+B,EAAA/B,KAAA,wBAAA+B,EAAAgB,OAAA,SA2C7CqD,GAAY,yBAAArE,EAAAryB,OAAA,GAAAszB,EAAA,SAE3B,KAACiC,CAAA,CA9HkC,CAAqD3E,GAgI5F2E,EAAoCK,OAAS,IAC7CL,EAAoCyB,aAAckB,EAAAA,EAAAA,IAAGC,EAAAA,GAAeC,EAAAA,GAAcC,EAAAA,IAClF9C,EAAsCr/B,EAAW,CAC7Ca,EAAQ,EAAGmF,EAAAA,IACXnF,EAAQ,EAAGqV,EAAAA,GACXrV,EAAQ,EAAGuhC,EAAAA,GACXvhC,EAAQ,EAAGwhC,EAAAA,GACXxhC,EAAQ,EAAGnG,EAAAA,IACZ2kC,GAEH,IAAIQ,EAAe,SAAApvB,IAAA1N,EAAAA,EAAAA,GAAA88B,EAAApvB,GAAA,IAAA3M,GAAAb,EAAAA,EAAAA,GAAA48B,GACf,SAAAA,EAAYyC,EAAgB7hB,GAAsB,IAAA1M,EAOrB,OAPqB5U,EAAAA,EAAAA,GAAA,KAAA0gC,IAC9C9rB,EAAAjQ,EAAAR,KAAA,OACKg/B,eAAiBA,EACtBvuB,EAAK0M,qBAAuBA,EAC5B1M,EAAKwuB,gCAAkC,EACvCxuB,EAAKyuB,sBACLzuB,EAAK0uB,OACL1uB,EAAK6M,oBAAoB7M,CAC7B,CAkEC,OAlEAxU,EAAAA,EAAAA,GAAAsgC,EAAA,EAAArgC,IAAA,oBAAAhD,MACD,WAAoB,IAAA6X,EAAA,KAChBjV,KAAKmE,UAAUnE,KAAKqhB,qBAAqBI,0BAAyB,SAAA7lB,GAAC,OAAIqZ,EAAKmuB,oBAAoBxnC,EAAE,IACtG,GAAC,CAAAwE,IAAA,sBAAAhD,MACD,SAAoBxB,GACZA,IAAMA,EAAE8lB,qBAAqB,sCAGjC1hB,KAAKmjC,gCAAkC1C,EAAgB6C,kCAAkCtjC,KAAKqhB,sBAC1Fof,EAAgB8C,OAAS9C,EAAgB8C,MAAMC,QAAUxjC,KAAKmjC,kCAC9D1C,EAAgB8C,MAAMC,MAAQxjC,KAAKmjC,gCACnC1C,EAAgBgD,UAAUzjC,KAAKkjC,iBAEvC,GAAC,CAAA9iC,IAAA,OAAAhD,MACD,WACI,IACIsmC,EADEC,EAAM3jC,KAAKkjC,eAAep8B,IAAI25B,EAAgBmD,eAAgB,GAEpE,GAAID,EACA,IACID,EAAkB7mC,KAAKN,MAAMonC,EACjC,CACA,MAAOnnC,GACH,CAGR,IAAM+mC,EAAQ9C,EAAgB8C,MAAQ,IAAIM,EAAAA,GAAS7jC,KAAKmjC,gCAAiC,GACrFO,IAEIA,EAAgBI,QACNJ,EAAgBrzB,QAGhBqzB,EAAgBrzB,QAAQpF,MAAK,SAACC,EAAGC,GAAC,OAAKD,EAAE9N,MAAQ+N,EAAE/N,KAAK,KAE9D2mC,SAAQ,SAAAC,GAAK,OAAIT,EAAM1jC,IAAImkC,EAAM5jC,IAAK4jC,EAAM5mC,MAAM,IAE9DqjC,EAAgBwD,QAAUjkC,KAAKkjC,eAAegB,UAAUzD,EAAgB0D,iBAAkB,EAA8B1D,EAAgBwD,QAC5I,GAAC,CAAA7jC,IAAA,OAAAhD,MACD,SAAK2V,GACI0tB,EAAgB8C,QAGrB9C,EAAgB8C,MAAM1jC,IAAIkT,EAAW0tB,EAAgBwD,WACrDxD,EAAgBgD,UAAUzjC,KAAKkjC,gBACnC,GAAC,CAAA9iC,IAAA,OAAAhD,MACD,SAAK2V,GACD,IAAIlX,EACJ,OAAwC,QAAhCA,EAAK4kC,EAAgB8C,aAA0B,IAAP1nC,OAAgB,EAASA,EAAGomC,KAAKlvB,EACrF,IAAC,EAAA3S,IAAA,YAAAhD,MACD,SAAiB8lC,GACb,GAAKzC,EAAgB8C,MAArB,CAGA,IAAMG,EAAkB,CAAEI,SAAS,EAAMzzB,QAAS,IAClDowB,EAAgB8C,MAAMQ,SAAQ,SAAC3mC,EAAOgD,GAAG,OAAKsjC,EAAgBrzB,QAAQjU,KAAK,CAAEgE,IAAAA,EAAKhD,MAAAA,GAAQ,IAC1F8lC,EAAekB,MAAM3D,EAAgBmD,eAAgB/mC,KAAKwnC,UAAUX,GAAkB,EAA8B,GACpHR,EAAekB,MAAM3D,EAAgB0D,iBAAkB1D,EAAgBwD,QAAS,EAA8B,EAJ9G,CAKJ,GAAC,CAAA7jC,IAAA,oCAAAhD,MACD,SAAyCikB,GACrC,IAAIxlB,EAAI8J,EAEF2+B,EAA2H,QAAzF3+B,EAAiC,QAA3B9J,EAD/BwlB,EAAqBC,WACsBijB,iBAA8B,IAAP1oC,OAAgB,EAASA,EAAG2oC,sBAAmC,IAAP7+B,OAAgB,EAASA,EAAG8+B,QACrK,MAA8C,kBAAnCH,EACAA,EAEJ7D,EAAgBiE,+BAC3B,KAACjE,CAAA,CA3Ec,CAAiCpqB,EAAAA,IA6EpDoqB,EAAgBiE,gCAAkC,GAClDjE,EAAgBmD,eAAiB,2BACjCnD,EAAgB0D,iBAAmB,6BACnC1D,EAAgBwD,QAAU,EAC1BxD,EAAkB7/B,EAAW,CACzBa,EAAQ,EAAGkjC,EAAAA,IACXljC,EAAQ,EAAGsgB,EAAAA,KACZ0e,E,4JC/PC7/B,EAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIM,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUb,EAAQV,GAAOuB,EAAUb,EAAQV,EAAKsB,EAAa,CACxE,EAOIkjC,EAAuB,WACvB,SAAAA,EAAYC,EAAmBn/B,IAAmB3F,EAAAA,EAAAA,GAAA,KAAA6kC,GAC9C5kC,KAAK6kC,kBAAoBA,EACzB7kC,KAAK0F,kBAAoBA,EACzB1F,KAAK8kC,SAAWjmC,EAAAA,EAAAA,GAAYC,EAAAA,GAAAA,YAChC,CAyCC,OAzCAqB,EAAAA,EAAAA,GAAAykC,EAAA,EAAAxkC,IAAA,UAAAhD,MACD,SAAQm+B,GAAQ,IAAAt3B,EAAA,KACNiK,EAAc,IAAIvL,EAAAA,GAkBxB,OAhBAuL,EAAY7K,IAAIk4B,EAAOmD,aAAY,WAC/B,IAAO9xB,GAAP1E,EAAAA,EAAAA,GAAeqzB,EAAOoD,cAAa,GAAxB,GACP/xB,GACA3I,EAAK4gC,kBAAkBE,YAAYC,KAAKp4B,EAAK8C,OAAQ,CAAEu1B,eAAe,GAE9E,KAGA/2B,EAAY7K,IAAIk4B,EAAOkD,kBAAiB,SAAArhC,GACpC,IAAM8nC,EAAqBjhC,EAAK6gC,SAASK,uBAAuB/nC,EAAMye,OAAO+oB,EAAwBtE,OAAOrkC,SACxGipC,GAAsBA,EAAmBx1B,QAAUw1B,EAAmBx1B,SAAWk1B,EAAwBtE,QACzGr8B,EAAK4gC,kBAAkBE,YAAYC,KAAKE,EAAmBx1B,OAAQ,CAAEu1B,eAAe,GAE5F,KAEA1J,EAAOjjB,MAAQtY,KAAKolC,0BAA0BhmB,QAAO,SAAA5Q,GAAC,OAAIA,EAAEkB,SAAWk1B,EAAwBtE,MAAM,IAC9FpyB,CACX,GAAC,CAAA9N,IAAA,0BAAAhD,MACD,WAA0B,IAAAuH,EAAA,KAKtB,OAJkB3E,KAAK8kC,SAClBM,0BACAn6B,MAAK,SAACo6B,EAAWC,GAAS,OAAKD,EAAU31B,OAAO4yB,cAAcgD,EAAU51B,OAAO,IAC/E61B,SAAQ,SAAAC,GAAQ,OAAI7gC,EAAK8gC,YAAYD,EAAS,GAEvD,GAAC,CAAAplC,IAAA,cAAAhD,MACD,SAAYooC,GAAU,IAAA7wB,EAAA,KAClB,OAAO6wB,EAASE,YAAY9oB,KAAI,SAAA+oB,GAC5B,IAAMj2B,EAASi2B,EAAUj2B,QAAU81B,EAAS91B,OACtCuE,EAAQvE,GAAU,SACxB,MAAO,CACHA,OAAAA,EACAuE,MAAAA,EACAZ,WAAYsyB,EAAU5yB,UAAY4B,EAAKjP,kBAAkBE,iBAAiB+/B,EAAU5yB,gBAAa5Q,EACjGogC,WAAWzgC,EAAAA,EAAAA,IAAS,oBAAqB,WAAYmS,EAAO0xB,EAAUxX,aACtEA,YAAawX,EAAUxX,YAE/B,GACJ,KAACyW,CAAA,CA9CsB,GAgD3BA,EAAwBtE,OAAS,IACjCsE,EAA0BhkC,EAAW,CACjCa,EAAQ,EAAGmkC,EAAAA,IACXnkC,EAAQ,EAAGqV,EAAAA,IACZ8tB,E,0QCnEChkC,EAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIM,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUb,EAAQV,GAAOuB,EAAUb,EAAQV,EAAKsB,EAAa,CACxE,EASImkC,EAAqB,SAAAx0B,IAAA1N,EAAAA,EAAAA,GAAAkiC,EAAAx0B,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAAgiC,GACrB,SAAAA,EAAYhB,EAAmB7hB,GAAsB,IAAA/e,EAOb,OAPalE,EAAAA,EAAAA,GAAA,KAAA8lC,IACjD5hC,EAAAL,EAAAM,KAAA,OACK2gC,kBAAoBA,EACzB5gC,EAAK+e,qBAAuBA,EAC5B/e,EAAK6gC,SAAWjmC,EAAAA,EAAAA,GAAYC,EAAAA,GAAAA,aAC5BmF,EAAK6hC,wBAA0B,IAAI5lC,IACnC+D,EAAK8hC,yBAA2B,IAAI7lC,IACpC+D,EAAK+hC,wBAAqB7jC,EAAU8B,CACxC,CA+JC,OA/JA9D,EAAAA,EAAAA,GAAA0lC,EAAA,EAAAzlC,IAAA,OAAAhD,MACD,WAA0B,IAArBA,EAAK8D,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,GAAItD,EAAOsD,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EACpBnC,KAAKimC,aAAa7oC,GAAO,EAAOQ,EACpC,GAAC,CAAAwC,IAAA,eAAAhD,MACD,SAAaA,EAAO8oC,EAAMtoC,GACtB,IAAI/B,EAEJsqC,EAA+BnmC,KAAKomC,yBAAyBhpC,GAAMipC,GAAAn+B,EAAAA,EAAAA,GAAAi+B,EAAA,GAA5DX,EAAQa,EAAA,GAAEC,EAAUD,EAAA,GAErBL,EAAqBhmC,KAAKgmC,mBAC1BO,EAA2C,OAAvBP,QAAsD,IAAvBA,OAAgC,EAASA,EAAmBM,WACrH,GAAIN,GAAsBM,GAAcC,IAAsBD,EAQ1D,OALIlpC,IAAUkpC,EAAW52B,SAAwB,OAAZ9R,QAAgC,IAAZA,OAAqB,EAASA,EAAQqnC,iBAC3Fe,EAAmBzK,OAAOn+B,MAAQA,QAGtC4C,KAAKwmC,qBAAqBR,EAAmBzK,OAAQ+K,EAAY1oC,GAIrE,GAAI0oC,KAA4B,OAAZ1oC,QAAgC,IAAZA,OAAqB,EAASA,EAAQqnC,eAAgB,CAC1F,IAAIwB,OAAWtkC,EAGf,GAAI6jC,GAAsBO,GAAqBA,IAAsBD,EAAY,CAC7E,IAAMI,EAAiCV,EAAmB5oC,MAAMye,OAAO0qB,EAAkB72B,OAAOzT,QAC5FyqC,IACAD,EAAW,GAAHt+B,OAAMm+B,EAAW52B,QAAMvH,OAAGu+B,GAE1C,CAEA,IAAKD,EAAU,CACX,IAAME,EAAkC,OAAbnB,QAAkC,IAAbA,OAAsB,EAASA,EAASmB,mBACpFA,IAAuBC,EAAAA,GAAAA,KACvBH,EAAWzmC,KAAK+lC,yBAAyBj/B,IAAIw/B,GAEV,kBAAvBK,IACZF,EAAW,GAAHt+B,OAAMm+B,EAAW52B,QAAMvH,OAAGw+B,GAE1C,CACwB,kBAAbF,IACPrpC,EAAQqpC,EAEhB,CAGA,IAAMv4B,EAAc,IAAIvL,EAAAA,GAClB44B,EAASrtB,EAAY7K,IAAIrD,KAAK6kC,kBAAkBgC,mBACtDtL,EAAOn+B,MAAQA,EACf4C,KAAKwmC,qBAAqBjL,EAAQ+K,EAAY1oC,GAC9C29B,EAAOuL,YAA6B,OAAfR,QAAsC,IAAfA,OAAwB,EAASA,EAAWQ,YACxFvL,EAAOwL,cAA4B,OAAZnpC,QAAgC,IAAZA,OAAqB,EAASA,EAAQopC,2BACjFzL,EAAO0L,YAAc1L,EAAOwL,gBAAkBf,GAC4C,kBAAlE,OAAZpoC,QAAgC,IAAZA,OAAqB,EAASA,EAAQspC,kBAA6C,OAAZtpC,QAAgC,IAAZA,OAAqB,EAASA,EAAQopC,+BAC7JzL,EAAO2L,eAAqG,QAAnFrrC,EAAiB,OAAZ+B,QAAgC,IAAZA,OAAqB,EAASA,EAAQspC,sBAAmC,IAAPrrC,EAAgBA,EAAKsrC,EAAAA,GAAAA,QAE7I5L,EAAO6L,WAA4B,OAAfd,QAAsC,IAAfA,OAAwB,EAASA,EAAWc,WACvF7L,EAAO8L,YAAc,SAACjqC,GAAK,OAAKA,EAAM4T,UAAUs1B,EAAaA,EAAW52B,OAAOzT,OAAS,EAAE,GACvE,OAAfqqC,QAAsC,IAAfA,OAAwB,EAASA,EAAWQ,eACnEvL,EAAOgH,UAA2B,OAAf+D,QAAsC,IAAfA,OAAwB,EAASA,EAAWQ,aAI1F,IAAIQ,OAAcnlC,EACd+jC,IACAoB,EAAc,IAAIC,EAAAA,GAClBr5B,EAAY7K,KAAImkC,EAAAA,EAAAA,GAAKjM,EAAOkM,aAAZD,EAA0B,SAAA5rC,GACtCA,EAAE8rC,OACFnM,EAAOuD,MACX,MAGJ5wB,EAAY7K,IAAIrD,KAAK2nC,wBAAwBpM,EAAQiK,EAAUc,EAAYlpC,EAAmB,OAAZQ,QAAgC,IAAZA,OAAqB,EAASA,EAAQgqC,kBAI5I,IAAMC,EAAM35B,EAAY7K,IAAI,IAAI65B,EAAAA,GAoBhC,OAnBIsI,GACAt3B,EAAY7K,IAAImiC,EAASsC,QAAQvM,EAAQsM,EAAIrM,MAAmB,OAAZ59B,QAAgC,IAAZA,OAAqB,EAASA,EAAQgqC,mBAIlHJ,EAAAA,EAAAA,GAAKjM,EAAOwM,UAAZP,EAAuB,WACiB,IAAhCjM,EAAOoD,cAAc1iC,QACrB4rC,EAAIpzB,SAGRvG,EAAY1K,UAEI,OAAhB8jC,QAAwC,IAAhBA,GAAkCA,EAAYU,SAASzM,EAAOoD,cAAc9yB,MAAM,GAC9G,IAIA0vB,EAAOyJ,OAEHkB,EACuB,OAAhBoB,QAAwC,IAAhBA,OAAyB,EAASA,EAAY94B,OADjF,CAGJ,GAAC,CAAApO,IAAA,uBAAAhD,MACD,SAAqBm+B,EAAQ+K,EAAY1oC,GACrC,IAAI/B,EACAosC,EAGAA,GADY,OAAZrqC,QAAgC,IAAZA,OAAqB,EAASA,EAAQqnC,eACzC,CAAC1J,EAAOn+B,MAAMnB,OAAQs/B,EAAOn+B,MAAMnB,QAInC,CAA6F,QAA3FJ,EAAoB,OAAfyqC,QAAsC,IAAfA,OAAwB,EAASA,EAAW52B,OAAOzT,cAA2B,IAAPJ,EAAgBA,EAAK,EAAG0/B,EAAOn+B,MAAMnB,QAE/Js/B,EAAO0M,eAAiBA,CAC5B,GAAC,CAAA7nC,IAAA,0BAAAhD,MACD,SAAwBm+B,EAAQiK,EAAUc,EAAYlpC,EAAOwqC,GAAiB,IAAAjjC,EAAA,KACpEuJ,EAAc,IAAIvL,EAAAA,GAElBqjC,EAAqBhmC,KAAKgmC,mBAAqB,CAAEzK,OAAAA,EAAQ+K,WAAAA,EAAYlpC,MAAAA,GA4B3E,OA3BA8Q,EAAY7K,KAAIC,EAAAA,EAAAA,KAAa,WACrB0iC,IAAuBrhC,EAAKqhC,qBAC5BrhC,EAAKqhC,wBAAqB7jC,EAElC,KAGA+L,EAAY7K,IAAIk4B,EAAOkD,kBAAiB,SAAArhC,GACpC,IAAA8qC,EAA2BvjC,EAAKyhC,yBAAyBhpC,IAAM8K,EAAAA,EAAAA,GAAAggC,EAAA,GAAxC,KACE1C,EACrB7gC,EAAKqgC,KAAK5nC,EAAO,CAEb6nC,eAAe,EAEf2C,gBAAAA,IAIJ5B,EAAmB5oC,MAAQA,CAEnC,KAEIkpC,GACAp4B,EAAY7K,IAAIk4B,EAAOmD,aAAY,WAC/B/5B,EAAKohC,yBAAyBlmC,IAAIymC,EAAY/K,EAAOn+B,MACzD,KAEG8Q,CACX,GAAC,CAAA9N,IAAA,2BAAAhD,MACD,SAAyBA,GACrB,IAAM8nC,EAAqBllC,KAAK8kC,SAASK,uBAAuB/nC,GAChE,IAAK8nC,EACD,MAAO,MAAC/iC,OAAWA,GAEvB,IAAIqjC,EAAWxlC,KAAK8lC,wBAAwBh/B,IAAIo+B,GAKhD,OAJKM,IACDA,EAAWxlC,KAAKgjB,qBAAqBwd,eAAe0E,EAAmBn/B,MACvE/F,KAAK8lC,wBAAwBjmC,IAAIqlC,EAAoBM,IAElD,CAACA,EAAUN,EACtB,KAACW,CAAA,CAxKoB,CAAuCxvB,EAAAA,IA0KhEwvB,EAAwBjlC,EAAW,CAC/Ba,EAAQ,EAAGmkC,EAAAA,IACXnkC,EAAQ,EAAGmF,EAAAA,KACZi/B,G,uQCvLG9N,EAAIoQ,EAAIpQ,EACDqQ,EAAa,SAAA/2B,IAAA1N,EAAAA,EAAAA,GAAAykC,EAAA/2B,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAAukC,GACtB,SAAAA,EAAYC,EAAQC,EAAgBC,GAAc,IAAAtkC,EAiByE,OAjBzElE,EAAAA,EAAAA,GAAA,KAAAqoC,IAC9CnkC,EAAAL,EAAAM,KAAA,OACKmkC,OAASA,EACdpkC,EAAKukC,UAAY,SAACnjC,GACd,OAAO8iC,EAAIM,sBAAsBxkC,EAAKykC,UAAUrkC,SAASskC,aAAcR,EAAIS,UAAUC,UAAU,SAACjtC,GAC5FyJ,EAAQ,IAAIkzB,EAAAA,EAAsB38B,GACtC,GACJ,EACAqI,EAAK6kC,YAAc,SAACzjC,GAChB,OAAO8iC,EAAIM,sBAAsBxkC,EAAKykC,UAAUrkC,SAASskC,aAAcR,EAAIS,UAAUG,YAAY,SAACntC,GAC9FyJ,EAAQ,IAAI2jC,EAAAA,EAAmBptC,GACnC,GACJ,EACAqI,EAAKglC,YAAc,SAAC5jC,GAChB,OAAOpB,EAAKykC,UAAUO,YAAY5jC,EACtC,EACApB,EAAKH,UAAYqkC,EAAIrQ,OAAO7zB,EAAKokC,OAAQtQ,EAAE,qBAC3C9zB,EAAKykC,UAAYzkC,EAAKE,UAAU,IAAIG,EAAAA,EAAUL,EAAKH,eAAW3B,EAAW,CAAE8R,MAAO,GAAIq0B,eAAAA,EAAgBC,aAAAA,KAAiBtkC,CAC3H,CAmEC,OAnEA9D,EAAAA,EAAAA,GAAAioC,EAAA,EAAAhoC,IAAA,QAAA0G,IACD,WACI,OAAO9G,KAAK0oC,UAAUpnB,UAC1B,EAACzhB,IACD,SAAUzC,GACN4C,KAAK0oC,UAAUQ,SAAS9rC,EAC5B,GAAC,CAAAgD,IAAA,SAAAhD,MACD,WAAqB,IAAd+rC,EAAKjoC,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,KACXlB,KAAK0oC,UAAUrkC,SAAS+kC,OAAOD,EACnC,GAAC,CAAA/oC,IAAA,mBAAAhD,MACD,WACI,OAAO4C,KAAK0oC,UAAUrkC,SAASglC,kBACnC,GAAC,CAAAjpC,IAAA,cAAA0G,IACD,WACI,OAAO9G,KAAK0oC,UAAUrkC,SAASskC,aAAaW,aAAa,gBAAkB,EAC/E,EAACzpC,IACD,SAAgBinC,GACZ9mC,KAAK0oC,UAAUrkC,SAASklC,eAAezC,EAC3C,GAAC,CAAA1mC,IAAA,YAAA0G,IACD,WACI,OAAO9G,KAAK0oC,UAAUrkC,SAASm+B,cACnC,EAAC3iC,IACD,SAAc0iC,GACVviC,KAAK0oC,UAAUrkC,SAASmlC,aAAajH,EACzC,GAAC,CAAAniC,IAAA,WAAA0G,IACD,WACI,MAAqD,aAA9C9G,KAAK0oC,UAAUrkC,SAASskC,aAAa75B,IAChD,EAACjP,IACD,SAAa4pC,GACTzpC,KAAK0oC,UAAUrkC,SAASskC,aAAa75B,KAAO26B,EAAW,WAAa,MACxE,GAAC,CAAArpC,IAAA,UAAAP,IACD,SAAYutB,GAMRptB,KAAK0oC,UAAUrkC,SAASskC,aAAae,gBAAgB,YAAatc,EAItE,GAAC,CAAAhtB,IAAA,UAAAP,IACD,SAAY8pC,GACR3pC,KAAK0oC,UAAUkB,qBAAqBD,EACxC,GAAC,CAAAvpC,IAAA,eAAAhD,MACD,SAAaoO,EAAMpO,GACf4C,KAAK0oC,UAAUrkC,SAASskC,aAAazQ,aAAa1sB,EAAMpO,EAC5D,GAAC,CAAAgD,IAAA,kBAAAhD,MACD,SAAgBoO,GACZxL,KAAK0oC,UAAUrkC,SAASskC,aAAakB,gBAAgBr+B,EACzD,GAAC,CAAApL,IAAA,iBAAAhD,MACD,SAAe0sC,GACPA,IAAejT,EAAAA,EAAAA,OACf72B,KAAK0oC,UAAUqB,eAGf/pC,KAAK0oC,UAAUsB,YAAY,CAAEl7B,KAAMg7B,IAAejT,EAAAA,EAAAA,KAAgB,EAA2BiT,IAAejT,EAAAA,EAAAA,QAAmB,EAA8B,EAA2BoT,QAAS,IAEzM,GAAC,CAAA7pC,IAAA,gBAAAhD,MACD,SAAc0sC,GACV,OAAO9pC,KAAK0oC,UAAUrkC,SAAS6lC,cAAcJ,IAAejT,EAAAA,EAAAA,KAAgB,EAA2BiT,IAAejT,EAAAA,EAAAA,QAAmB,EAA8B,EAC3K,GAAC,CAAAz2B,IAAA,WAAAhD,MACD,WACI4C,KAAK0oC,UAAUrkB,OACnB,GAAC,CAAAjkB,IAAA,SAAAhD,MACD,WACI4C,KAAK0oC,UAAUrkC,SAAS8lC,QAC5B,KAAC/B,CAAA,CAtFqB,CAAS/xB,EAAAA,I,2ICE7B+zB,GAAkB,CAAC,EACnBC,GAAqB,IAAIC,GAAAA,EAAY,4BACpC,SAASC,GAAaC,GACzB,GAAKA,EAAL,CAGA,IAAIC,EACErqC,EAAMoqC,EAASE,KAAKzjC,WAU1B,OATImjC,GAAgBhqC,GAChBqqC,EAAYL,GAAgBhqC,IAG5BqqC,EAAYJ,GAAmBM,SAC/BxC,EAAIyC,cAAc,IAADziC,OAAKsiC,EAAS,iBAAAtiC,OAAgBsiC,GAAS,qBAAAtiC,OAAyBggC,EAAI0C,SAASL,EAASM,OAASN,EAASE,QACzHvC,EAAIyC,cAAc,aAADziC,OAAcsiC,EAAS,iBAAAtiC,OAAgBsiC,GAAS,qBAAAtiC,OAAyBggC,EAAI0C,SAASL,EAASE,QAChHN,GAAgBhqC,GAAOqqC,GAEpBA,CAZP,CAaJ,CC5BA,IAAI7pC,GAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIq5B,GAAwC,SAAUvsB,EAASwsB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU7mB,EAAS8mB,GAC/C,SAASC,EAAU19B,GAAS,IAAM29B,EAAKJ,EAAUK,KAAK59B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC1F,SAASq/B,EAAS79B,GAAS,IAAM29B,EAAKJ,EAAiB,MAAEv9B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC7F,SAASm/B,EAAK3wB,GAJlB,IAAehN,EAIagN,EAAOlN,KAAO6W,EAAQ3J,EAAOhN,QAJ1CA,EAIyDgN,EAAOhN,MAJhDA,aAAiBs9B,EAAIt9B,EAAQ,IAAIs9B,GAAE,SAAU3mB,GAAWA,EAAQ3W,EAAQ,KAIjB2Y,KAAK+kB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUt+B,MAAM4R,EAASwsB,GAAc,KAAKO,OAClE,GACJ,EAmBMjD,GAAIoQ,EAAIpQ,EACRgT,GAAW,WAUb,SAAAA,EAAYC,IAAMjrC,EAAAA,EAAAA,GAAA,KAAAgrC,GACd/qC,KAAKirC,QAAS,EACdjrC,KAAKkrC,WAAa,IAAIt6B,EAAAA,GACtB5Q,KAAKmrC,UAAYnrC,KAAKkrC,WAAW34B,MACjCnR,OAAO4gB,OAAOhiB,KAAMgrC,EACxB,CAGC,OAHA7qC,EAAAA,EAAAA,GAAA4qC,EAAA,EAAA3qC,IAAA,UAAA0G,IAdD,WACI,QAAS9G,KAAKorC,QAClB,EAACvrC,IACD,SAAYzC,GACJA,IAAU4C,KAAKorC,WACfprC,KAAKorC,SAAWhuC,EAChB4C,KAAKkrC,WAAWj6B,KAAK7T,GAE7B,GAAC,CAAAgD,IAAA,UAAAhD,MAOD,WACI4C,KAAKkrC,WAAW1nC,SACpB,KAACunC,CAAA,CAlBY,GAoBXM,GAAmB,oBAAAA,KAAAtrC,EAAAA,EAAAA,GAAA,KAAAsrC,EAAA,CA4HpB,OA5HoBlrC,EAAAA,EAAAA,GAAAkrC,EAAA,EAAAjrC,IAAA,aAAA0G,IACrB,WACI,OAAOukC,EAAoBC,EAC/B,GAAC,CAAAlrC,IAAA,iBAAAhD,MACD,SAAe0G,GACX,IAAM3E,EAAOiC,OAAOuM,OAAO,MAC3BxO,EAAKosC,iBAAmB,GACxBpsC,EAAKqsC,kBAAoB,GACzBrsC,EAAK6kC,MAAQmE,EAAIrQ,OAAOh0B,EAAWi0B,GAAE,4BAErC,IAAM9jB,EAAQk0B,EAAIrQ,OAAO34B,EAAK6kC,MAAOjM,GAAE,iCACvC54B,EAAKqsC,kBAAkBpvC,KAAK+rC,EAAIsD,8BAA8Bx3B,EAAOk0B,EAAIS,UAAU8C,OAAO,SAAA9vC,GACjFuD,EAAKwsC,SAASC,cACfhwC,EAAEiwC,gBAEV,KACA1sC,EAAKwsC,SAAWxD,EAAIrQ,OAAO7jB,EAAO8jB,GAAE,oCACpC54B,EAAKwsC,SAAS78B,KAAO,WACrB3P,EAAKqsC,kBAAkBpvC,KAAK+rC,EAAIsD,8BAA8BtsC,EAAKwsC,SAAUxD,EAAIS,UAAUkD,QAAQ,SAAAlwC,GAC/FuD,EAAK+D,QAAQ6oC,QAAU5sC,EAAKwsC,SAASI,OACzC,KAEA,IAAMC,EAAO7D,EAAIrQ,OAAO7jB,EAAO8jB,GAAE,2BAC3BkU,EAAO9D,EAAIrQ,OAAOkU,EAAMjU,GAAE,0BAC1BmU,EAAO/D,EAAIrQ,OAAOkU,EAAMjU,GAAE,0BAEhC54B,EAAK8U,MAAQ,IAAIk4B,EAAAA,EAAUF,EAAM,CAAEG,mBAAmB,EAAMC,8BAA8B,EAAMC,cAAc,IAE9G,IAAMC,EAAsBpE,EAAIrQ,OAAOmU,EAAMlU,GAAE,uCAC/C54B,EAAKkU,WAAa,IAAIm5B,EAAAA,EAAgBD,EAAqBr7B,EAAAA,IAE3D,IAAMu7B,EAAkBtE,EAAIrQ,OAAOoU,EAAMnU,GAAE,iCAQ3C,OAPA54B,EAAK0nB,OAAS,IAAIslB,EAAAA,EAAUM,EAAiB,CAAEL,mBAAmB,EAAME,cAAc,IAEtFntC,EAAKutC,UAAYvE,EAAIrQ,OAAO34B,EAAK6kC,MAAOjM,GAAE,gCAE1C54B,EAAKwtC,UAAY,IAAIC,EAAAA,EAAUztC,EAAK6kC,OACpC7kC,EAAKwtC,UAAUE,QAAQpuB,UAAUpb,IAAI,qCACrClE,EAAKqsC,kBAAkBpvC,KAAK+C,EAAKwtC,WAC1BxtC,CACX,GAAC,CAAAiB,IAAA,gBAAAhD,MACD,SAAc8F,EAAS6D,EAAO5H,GAC1BA,EAAK+D,QAAUA,EACfA,EAAQA,SAAUu+B,EAAAA,EAAAA,IAAoBtiC,EAAK6kC,OAC3C,IAAM8I,EAAW5pC,EAAQ0J,KAAO1J,EAAQ0J,KAAO1J,EAAQwpC,UACvDvtC,EAAKwsC,SAASI,QAAU7oC,EAAQ6oC,QAChC5sC,EAAKosC,iBAAiBnvC,KAAK8G,EAAQioC,WAAU,SAAAY,GAAO,OAAI5sC,EAAKwsC,SAASI,QAAUA,CAAO,KACvF,IAAQjL,EAA6D59B,EAA7D49B,gBAAiBiM,EAA4C7pC,EAA5C6pC,sBAAuBC,EAAqB9pC,EAArB8pC,iBAE1CpvC,EAAUwD,OAAOuM,OAAO,MAC9B/P,EAAQkb,QAAUgoB,GAAmB,GACrCljC,EAAQqvC,iBAAmB/pC,EAAQgqC,gBACnCtvC,EAAQuvC,mBAAqBJ,GAAyB,GAChC,cAAlBD,EAASh+B,MACTlR,EAAQwvC,aAAeN,EAASO,YAChCzvC,EAAQ0vC,OAASR,EAASQ,OAC1B1vC,EAAQ2vC,cAAgBT,EAASS,cACjCpuC,EAAK6kC,MAAMvlB,UAAUrD,OAAO,uCAG5Bjc,EAAK6kC,MAAMvlB,UAAUpb,IAAI,sCAE7BlE,EAAK8U,MAAMu5B,SAAStqC,EAAQuqC,UAAWvqC,EAAQgqC,gBAAiBtvC,GAEhEuB,EAAKkU,WAAWxT,IAAsB,cAAlBitC,EAASh+B,UAAuB3M,EAAY2qC,EAASz5B,YAErEnQ,EAAQwqC,YACRvuC,EAAK0nB,OAAO2mB,SAAStqC,EAAQwqC,gBAAYvrC,EAAW,CAChD2W,QAASk0B,EACTpf,MAAO1qB,EAAQwqC,aAOnBxqC,EAAQ0J,MAAQ1J,EAAQwpC,WAAaxpC,EAAQwpC,UAAUz4B,OACvD9U,EAAKutC,UAAUiB,YAAczqC,EAAQwpC,UAAUz4B,MAC/C9U,EAAKutC,UAAU7tB,MAAM+uB,QAAU,IAG/BzuC,EAAKutC,UAAU7tB,MAAM+uB,QAAU,OAEnCzuC,EAAK6kC,MAAMvlB,UAAUovB,OAAO,sCAAuC3qC,EAAQwpC,WAE3E,IAAMjN,EAAUqN,EAASrN,QACrBA,GAAWA,EAAQxjC,QACnBkD,EAAKwtC,UAAUvwC,KAAKqjC,EAAQ7iB,KAAI,SAACkK,EAAQ/f,GACrC,IAAI+mC,EAAahnB,EAAO2jB,YAAc3jB,EAAO0jB,SAAWD,GAAazjB,EAAO0jB,eAAYroC,GAIxF,OAHI2kB,EAAOinB,gBACPD,EAAaA,EAAa,GAAH3lC,OAAM2lC,EAAU,mBAAoB,kBAExD,CACHptC,GAAI,MAAFyH,OAAQpB,GACVinC,MAAOF,EACP1gB,SAAS,EACTnZ,MAAO,GACPg6B,QAASnnB,EAAOmnB,SAAW,GAC3BC,IAAK,WACiB,cAAlBpB,EAASh+B,KACH5L,EAAQirC,oBAAoB,CAC1BrnB,OAAAA,EACAla,KAAMkgC,IAER5pC,EAAQkrC,6BAA6B,CACnCtnB,OAAAA,EACA4lB,UAAWI,GAEvB,EAER,IAAI,CAAEuB,MAAM,EAAMp6B,OAAO,IACzB9U,EAAK6kC,MAAMvlB,UAAUpb,IAAI,gBAGzBlE,EAAK6kC,MAAMvlB,UAAUrD,OAAO,cAEpC,GAAC,CAAAhb,IAAA,iBAAAhD,MACD,SAAe8F,EAAS6D,EAAO5H,GAC3BA,EAAKosC,kBAAmB/nC,EAAAA,EAAAA,IAAQrE,EAAKosC,kBACrCpsC,EAAKwtC,UAAUl/B,OACnB,GAAC,CAAArN,IAAA,kBAAAhD,MACD,SAAgB+B,GACZA,EAAKosC,kBAAmB/nC,EAAAA,EAAAA,IAAQrE,EAAKosC,kBACrCpsC,EAAKqsC,mBAAoBhoC,EAAAA,EAAAA,IAAQrE,EAAKqsC,kBAC1C,KAACH,CAAA,CA5HoB,GA8HzBA,GAAoBC,GAAK,cAAc,IAa5BgD,GAZLC,GAAmB,oBAAAA,KAAAxuC,EAAAA,EAAAA,GAAA,KAAAwuC,EAAA,CAUpB,OAVoBpuC,EAAAA,EAAAA,GAAAouC,EAAA,EAAAnuC,IAAA,YAAAhD,MACrB,SAAU8F,GACN,OAAKA,EAAQ0J,KAIN1J,EAAQwqC,WAAa,GAAK,GAFtB,EAGf,GAAC,CAAAttC,IAAA,gBAAAhD,MACD,SAAc8F,GACV,OAAOmoC,GAAoBC,EAC/B,KAACiD,CAAA,CAVoB,IAazB,SAAWD,GACPA,EAAoBA,EAA2B,MAAI,GAAK,QACxDA,EAAoBA,EAA4B,OAAI,GAAK,SACzDA,EAAoBA,EAA0B,KAAI,GAAK,OACvDA,EAAoBA,EAA0B,KAAI,GAAK,OACvDA,EAAoBA,EAA8B,SAAI,GAAK,WAC3DA,EAAoBA,EAA8B,SAAI,GAAK,WAC3DA,EAAoBA,EAAkC,aAAI,GAAK,cAClE,CARD,CAQGA,KAAwBA,GAAsB,CAAC,IAC3C,IAAME,GAAc,WACvB,SAAAA,EAAYnG,EAAQ3nC,EAAI9C,GAAS,IAAAqG,EAAA,MAAAlE,EAAAA,EAAAA,GAAA,KAAAyuC,GAC7BxuC,KAAKqoC,OAASA,EACdroC,KAAKpC,QAAUA,EACfoC,KAAKyuC,cAAgB,GACrBzuC,KAAKumB,SAAW,GAChBvmB,KAAK0uC,kBAAoB,IAAIxuC,IAC7BF,KAAK47B,oBAAqB,EAC1B57B,KAAK67B,eAAgB,EACrB77B,KAAK27B,cAAe,EACpB37B,KAAK2uC,iBAAmB,QACxB3uC,KAAK4uC,aAAc,EACnB5uC,KAAK87B,aAAc,EACnB97B,KAAK6uC,4BAA8B,IAAIj+B,EAAAA,GACvC5Q,KAAK8uC,2BAA6B9uC,KAAK6uC,4BAA4Bt8B,MACnEvS,KAAK+uC,uBAAyB,IAAIn+B,EAAAA,GAClC5Q,KAAKgvC,sBAAwBhvC,KAAK+uC,uBAAuBx8B,MACzDvS,KAAKivC,uBAAyB,IAAIr+B,EAAAA,GAClC5Q,KAAKkvC,sBAAwBlvC,KAAKivC,uBAAuB18B,MACzDvS,KAAKmvC,0BAA4B,IAAIv+B,EAAAA,GACrC5Q,KAAKovC,yBAA2BpvC,KAAKmvC,0BAA0B58B,MAC/DvS,KAAKqvC,mBAAqB,IAAIz+B,EAAAA,GAC9B5Q,KAAKsvC,kBAAoBtvC,KAAKqvC,mBAAmB98B,MACjDvS,KAAKuvC,4BAA8B,IAAI3+B,EAAAA,GACvC5Q,KAAKwvC,2BAA6BxvC,KAAKuvC,4BAA4Bh9B,MACnEvS,KAAKyvC,WAAa,IAAI7+B,EAAAA,GACtB5Q,KAAKwoC,UAAYxoC,KAAKyvC,WAAWl9B,MACjCvS,KAAK0vC,SAAW,IAAI9+B,EAAAA,GACpB5Q,KAAK2vC,QAAU3vC,KAAK0vC,SAASn9B,MAC7BvS,KAAK4vC,oBAAqB,EAC1B5vC,KAAK6vC,mBAAqB,GAC1B7vC,KAAKkO,YAAc,GACnBlO,KAAKU,GAAKA,EACVV,KAAK8D,UAAYqkC,EAAIrQ,OAAO93B,KAAKqoC,OAAQtQ,GAAE,sBAC3C,IAAMlV,EAAW,IAAI0rB,GACfuB,EAAwB,IAAIC,GAClC/vC,KAAK8N,KAAOlQ,EAAQoyC,WAAW,aAAchwC,KAAK8D,UAAW+e,EAAU,CAAC,IAAIwoB,IAAwB,CAChG4E,iBAAkB,CAAEC,MAAO,SAAAhtC,GAAO,OAAIA,EAAQuqC,SAAS,GACvD0C,kBAAkB,EAClBzsB,0BAA0B,EAC1BT,qBAAqB,EACrB6sB,sBAAAA,IAEJ9vC,KAAK8N,KAAK0Q,iBAAiB9d,GAAKA,EAChCV,KAAKkO,YAAY9R,KAAK4D,KAAK8N,MAC3B9N,KAAKkO,YAAY9R,KAAK4D,KAAK8N,KAAK06B,WAAU,SAAA5sC,GACtC,IAAM2W,EAAQ,IAAIgmB,EAAAA,EAAsB38B,GACxC,OAAQ2W,EAAM6D,SACV,KAAK,GACDnS,EAAKmsC,iBACL,MACJ,KAAK,IACGl/B,EAAAA,GAAuBtV,EAAEua,QAAUva,EAAEsa,UACrCjS,EAAK6J,KAAKuiC,UAASlH,EAAAA,EAAAA,IAAMllC,EAAK6J,KAAK7R,SAEvC,MACJ,KAAK,GACD,IAAMq0C,EAASrsC,EAAK6J,KAAKwW,WACH,IAAlBgsB,EAAOr0C,QAA8B,IAAdq0C,EAAO,IAC9BrsC,EAAKyrC,SAASz+B,OAElB,MAEJ,KAAK,GACD,IAAMs/B,EAAStsC,EAAK6J,KAAKwW,WACH,IAAlBisB,EAAOt0C,QAAgBs0C,EAAO,KAAOtsC,EAAK6J,KAAK7R,OAAS,GACxDgI,EAAKyrC,SAASz+B,OAK1BhN,EAAKwrC,WAAWx+B,KAAKsB,EACzB,KACAvS,KAAKkO,YAAY9R,KAAK4D,KAAK8N,KAAKg7B,aAAY,SAAAltC,GACV,IAA1BA,EAAE+lB,aAAamF,QAEflrB,EAAE+lB,aAAakqB,gBAEvB,KACA7rC,KAAKkO,YAAY9R,KAAK+rC,EAAIM,sBAAsBzoC,KAAK8D,UAAWqkC,EAAIS,UAAU8C,OAAO,SAAA9vC,IAC7EA,EAAE40C,GAAK50C,EAAE60C,IACTxsC,EAAKyrC,SAASz+B,MAEtB,KACAjR,KAAKkO,YAAY9R,KAAK4D,KAAK8N,KAAK4iC,oBAAmB,SAAA90C,GAC/CqI,EAAKyrC,SAASz+B,MAClB,KACAjR,KAAKkO,YAAY9R,KAAK4D,KAAK8N,KAAK6iC,eAAc,SAAA/0C,GACnB,kBAAZA,EAAEmL,QACTnL,EAAE+lB,aAAakqB,iBAMf5nC,EAAK6J,KAAK8iC,aAAa,CAACh1C,EAAEmL,QAElC,KACA,IAAM8pC,EAAU,IAAIC,EAAAA,GAAiBlzC,EAAQmzC,cAAcnd,OAG3D5zB,KAAKkO,YAAY9R,KAAK4D,KAAK8N,KAAKkjC,aAAY,SAACp1C,GAAC,OAAK4+B,GAAUv2B,OAAM,OAAQ,GAAMk4B,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,IAAAniC,EAAA8I,EAAA,YAAAw3B,EAAAA,EAAAA,KAAAW,MAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAAtD,MAAA,YAI3Ep/B,EAAE+lB,aAAa7gB,kBAAkBmwC,mBAAiB,CAAA3S,EAAAtD,KAAA,QACjC,OAAjB6V,EAAQp8B,SAAS6pB,EAAAP,OAAA,oBAKnBniC,EAAE+lB,aAAauvB,yBAAyBD,oBAEtC9I,EAAIgJ,WAAWv1C,EAAE+lB,aAAauvB,cAAoC,QAApBr1C,EAAKD,EAAEsH,eAA4B,IAAPrH,OAAgB,EAASA,EAAGqH,SAAQ,CAAAo7B,EAAAtD,KAAA,eAAAsD,EAAAP,OAAA,iBAGlH,OAHkHO,EAAAtD,KAAA,EAG5G6V,EAAQrR,SAAQ,kBAAMhF,GAAU71B,OAAM,OAAQ,GAAMw3B,EAAAA,EAAAA,KAAAC,MAAE,SAAAsB,IAAA,OAAAvB,EAAAA,EAAAA,KAAAW,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAA3C,MAAA,OACpDp/B,EAAEsH,SACFlD,KAAKoxC,UAAUx1C,EAAEsH,SACpB,wBAAAy6B,EAAAjzB,OAAA,GAAAgzB,EAAA,SACH,IAAC,wBAAAY,EAAA5zB,OAAA,GAAAszB,EAAA,IACL,KACFh+B,KAAKkO,YAAY9R,KAAK4D,KAAK8N,KAAKujC,YAAW,SAAAz1C,GACvC,IAAIC,EAIAssC,EAAIgJ,WAAWv1C,EAAE+lB,aAAauvB,cAAoC,QAApBr1C,EAAKD,EAAEsH,eAA4B,IAAPrH,OAAgB,EAASA,EAAGqH,UAG1G2tC,EAAQp8B,QACZ,KACAzU,KAAKkO,YAAY9R,KAAK4D,KAAK6uC,4BAA6B7uC,KAAK+uC,uBAAwB/uC,KAAKivC,uBAAwBjvC,KAAKmvC,0BAA2BnvC,KAAKqvC,mBAAoBrvC,KAAKuvC,4BAA6BvvC,KAAK0vC,SAAU1vC,KAAKyvC,WAAYoB,EACjP,CAsZC,OAtZA1wC,EAAAA,EAAAA,GAAAquC,EAAA,EAAApuC,IAAA,mBAAA0G,IACD,WACI,OAAO0L,EAAAA,GAAAA,IAAUxS,KAAK8N,KAAK0W,kBAAkB,SAAA5oB,GAAC,OAAIA,EAAE2qB,SAAS3J,KAAI,SAAAhhB,GAAC,OAAIA,EAAEgR,IAAI,GAAC,GACjF,GAAC,CAAAxM,IAAA,uBAAA0G,IACD,WACI,OAAO0L,EAAAA,GAAAA,IAAUxS,KAAK8N,KAAKqW,sBAAsB,SAAAvoB,GAAC,MAAK,CAAE0c,MAAO1c,EAAE2qB,SAAS3J,KAAI,SAAAhhB,GAAC,OAAIA,EAAEgR,IAAI,IAAG2F,MAAO3W,EAAE+lB,aAAc,GACxH,GAAC,CAAAvhB,IAAA,YAAA0G,IACD,WACI,OAAO9G,KAAK8N,KAAKwjC,SACrB,EAACzxC,IACD,SAAcyxC,GACVtxC,KAAK8N,KAAKwjC,UAAYA,CAC1B,GAAC,CAAAlxC,IAAA,uBAAAhD,MACD,WACI,OAAO4C,KAAKuxC,kBAAkBvxC,KAAKumB,UAAU,EACjD,GAAC,CAAAnmB,IAAA,oBAAAhD,MACD,SAAkBmpB,GACd,IADgD,IAAxBirB,IAAetwC,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,KAAAA,UAAA,GAC9BjD,EAAI,EAAGhB,EAAIspB,EAAStqB,OAAQgC,EAAIhB,EAAGgB,IAAK,CAC7C,IAAMiF,EAAUqjB,EAAStoB,GACzB,IAAKiF,EAAQ+nC,OAAQ,CACjB,IAAK/nC,EAAQ6oC,QACT,OAAO,EAGPyF,GAAkB,CAE1B,CACJ,CACA,OAAOA,CACX,GAAC,CAAApxC,IAAA,kBAAAhD,MACD,WAGI,IAFA,IAAIq0C,EAAQ,EACNlrB,EAAWvmB,KAAKumB,SACbtoB,EAAI,EAAGhB,EAAIspB,EAAStqB,OAAQgC,EAAIhB,EAAGgB,IACpCsoB,EAAStoB,GAAG8tC,SACZ0F,IAGR,OAAOA,CACX,GAAC,CAAArxC,IAAA,kBAAAhD,MACD,WAGI,IAFA,IAAIq0C,EAAQ,EACNlrB,EAAWvmB,KAAKumB,SACbtoB,EAAI,EAAGhB,EAAIspB,EAAStqB,OAAQgC,EAAIhB,EAAGgB,IACnCsoB,EAAStoB,GAAGgtC,QACbwG,IAGR,OAAOA,CACX,GAAC,CAAArxC,IAAA,uBAAAhD,MACD,SAAqB2uC,GACjB,IACI/rC,KAAK4vC,oBAAqB,EAC1B5vC,KAAKumB,SAASwd,SAAQ,SAAA7gC,GACbA,EAAQ+nC,SACT/nC,EAAQ6oC,QAAUA,EAE1B,GACJ,CAAC,QAEG/rC,KAAK4vC,oBAAqB,EAC1B5vC,KAAK0xC,mBACT,CACJ,GAAC,CAAAtxC,IAAA,cAAAhD,MACD,SAAYqxC,GAAe,IAAA95B,EAAA,KACvB3U,KAAK6vC,oBAAqBrsC,EAAAA,EAAAA,IAAQxD,KAAK6vC,oBACvC,IAAM1B,EAAsB,SAAC57B,GAAK,OAAKoC,EAAKw5B,oBAAoB57B,EAAM,EAChE67B,EAA+B,SAAC77B,GAAK,OAAKoC,EAAKy5B,6BAA6B77B,EAAM,EACxFvS,KAAKyuC,cAAgBA,EACrBzuC,KAAKumB,SAAWkoB,EAAckD,QAAO,SAACvnC,EAAQwC,EAAM7F,GAChD,IAAIlL,EAAI8J,EAAIssB,EAIR2f,EAAU1E,EAAiBQ,EAAY5M,EAAiBiM,EAAuBC,EAAkB6E,EAH/FC,EAAW/qC,GAAS0nC,EAAc1nC,EAAQ,GAC1C0mC,EAAY7gC,EAAKqH,MAAQrH,EAAKqH,MAAMkjB,QAAQ,SAAU,KAAO,GAC7D4a,GAAgBC,EAAAA,GAAAA,IAAoBvE,GAAWwE,KAAK9U,OAExC,cAAdvwB,EAAKkC,OACL8iC,EAAWhlC,EAAKslC,MAAQtlC,EAAKslC,KAAK/a,QAAQ,SAAU,KACpD+V,EAAkBtgC,EAAKuhB,aAAevhB,EAAKuhB,YAAYgJ,QAAQ,SAAU,KACzEuW,EAAa9gC,EAAKia,QAAUja,EAAKia,OAAOsQ,QAAQ,SAAU,KAC1D2J,EAA6C,QAA1BjlC,EAAK+Q,EAAKg1B,kBAA+B,IAAP/lC,OAAgB,EAASA,EAAGoY,MACjF84B,EAAmD,QAA1BpnC,EAAKiH,EAAKg1B,kBAA+B,IAAPj8B,OAAgB,EAASA,EAAGwoB,YACvF6e,EAA8C,QAA1B/a,EAAKrlB,EAAKg1B,kBAA+B,IAAP3P,OAAgB,EAASA,EAAGpL,OAClFgrB,EAAcjlC,EAAKqhC,SAEvB,IAKIvB,EALEyF,EAAgBvlC,EAAK21B,WAAa,CAACkL,EAAWP,EAAiBQ,GAChE9wB,KAAI,SAAA5f,GAAC,OAAIo1C,EAAAA,GAAAA,IAAoBp1C,EAAE,IAC/BoiB,QAAO,SAAApiB,GAAC,QAAMA,CAAC,IACfqL,KAAK,MACJgqC,EAAc19B,EAAK0zB,OAAO5pB,UAAUuI,SAAS,mBAEnD,GAAkB,cAAdpa,EAAKkC,KAAsB,CAC3B,IAAKlC,EAAK6yB,QAEN,OAAOr1B,EAEXsiC,EAAY9/B,CAChB,MACSklC,GAA8B,cAAlBA,EAAShjC,OAAyBgjC,EAASrS,UAC5DiN,EAAYoF,GAEhB,IAAM5uC,EAAU,IAAI6nC,GAAY,CAC5BsH,YAAAA,EACAtrC,MAAAA,EACA6F,KAAoB,cAAdA,EAAKkC,KAAuBlC,OAAOzK,EACzCsrC,UAAAA,EACAsE,cAAAA,EACAH,SAAAA,EACAO,cAAAA,EACAjF,gBAAAA,EACAQ,WAAAA,EACAmE,YAAAA,EACA/Q,gBAAAA,EACAiM,sBAAAA,EACAC,iBAAAA,EACAjB,SAAS,EACTW,UAAAA,EACAyB,oBAAAA,EACAC,6BAAAA,IAKJ,OAHAz5B,EAAKk7B,mBAAmBzzC,KAAK8G,GAC7ByR,EAAKk7B,mBAAmBzzC,KAAK8G,EAAQioC,WAAU,kBAAMx2B,EAAK+8B,mBAAmB,KAC7EtnC,EAAOhO,KAAK8G,GACLkH,CACX,GAAG,IACHpK,KAAK0uC,kBAAoB1uC,KAAKumB,SAASorB,QAAO,SAAC/0B,EAAK1Z,EAAS6D,GACzD,IAAIlL,EAEJ,OADA+gB,EAAI/c,IAA4B,QAAvBhE,EAAKqH,EAAQ0J,YAAyB,IAAP/Q,EAAgBA,EAAKqH,EAAQwpC,UAAW3lC,GACzE6V,CACX,GAAG,IAAI1c,KACPF,KAAK8N,KAAKvK,OAAO,EAAGvD,KAAK8N,KAAK7R,QAC9B+D,KAAK8N,KAAKvK,OAAO,EAAGvD,KAAK8N,KAAK7R,OAAQ+D,KAAKumB,UAC3CvmB,KAAKivC,uBAAuBh+B,KAAKjR,KAAKumB,SAAStqB,OACnD,GAAC,CAAAmE,IAAA,qBAAAhD,MACD,WACI,OAAO4C,KAAK8N,KAAKwkC,qBACZ11B,KAAI,SAAAhhB,GAAC,OAAIA,EAAEgR,IAAI,GACxB,GAAC,CAAAxM,IAAA,qBAAAhD,MACD,SAAmBkb,GAAO,IAAArD,EAAA,KAItB,GAHAjV,KAAK8N,KAAKuiC,SAAS/3B,EACd8G,QAAO,SAAAxS,GAAI,OAAIqI,EAAKy5B,kBAAkB9uC,IAAIgN,EAAK,IAC/CgQ,KAAI,SAAAhQ,GAAI,OAAIqI,EAAKy5B,kBAAkB5nC,IAAI8F,EAAK,KAC7C0L,EAAMrc,OAAS,EAAG,CAClB,IAAMs2C,EAAUvyC,KAAK8N,KAAKwW,WAAW,GACd,kBAAZiuB,GACPvyC,KAAK8N,KAAK0kC,OAAOD,EAEzB,CACJ,GAAC,CAAAnyC,IAAA,sBAAAhD,MACD,WACI,OAAO4C,KAAK8N,KAAK0Q,iBAAiB8qB,aAAa,wBACnD,GAAC,CAAAlpC,IAAA,sBAAAhD,MACD,SAAoBkb,GAAO,IAAAqE,EAAA,KACvB3c,KAAK8N,KAAK8iC,aAAat4B,EAClB8G,QAAO,SAAAxS,GAAI,OAAI+P,EAAK+xB,kBAAkB9uC,IAAIgN,EAAK,IAC/CgQ,KAAI,SAAAhQ,GAAI,OAAI+P,EAAK+xB,kBAAkB5nC,IAAI8F,EAAK,IACrD,GAAC,CAAAxM,IAAA,qBAAAhD,MACD,WACI,OAAO4C,KAAKumB,SAASnH,QAAO,SAAAxjB,GAAC,OAAIA,EAAEmwC,OAAO,IACrCnvB,KAAI,SAAAhhB,GAAC,OAAIA,EAAEgR,IAAI,IACfwS,QAAO,SAAAxjB,GAAC,QAAMA,CAAC,GACxB,GAAC,CAAAwE,IAAA,qBAAAhD,MACD,SAAmBkb,GACf,IACItY,KAAK4vC,oBAAqB,EAC1B,IACwBrxC,EADlBwtC,EAAU,IAAItjC,IAAMhK,GAAA1B,EAAAA,EAAAA,GACPub,GAAK,IAAxB,IAAA7Z,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAA0B,KAAf0P,EAAIrO,EAAAnB,MACX2uC,EAAQ1oC,IAAIuJ,EAChB,CAAC,OAAA/O,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,KACkCa,EADlCM,GAAAlC,EAAAA,EAAAA,GACqBiD,KAAKumB,UAAQ,IAAnC,IAAAtnB,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAAqC,KAA1BgG,EAAOvE,EAAAvB,MACd8F,EAAQ6oC,QAAUA,EAAQnsC,IAAIsD,EAAQ0J,KAC1C,CAAC,OAAA/O,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACL,CAAC,QAEGkC,KAAK4vC,oBAAqB,EAC1B5vC,KAAK0xC,mBACT,CACJ,GAAC,CAAAtxC,IAAA,UAAAP,IACD,SAAYzC,GACR4C,KAAK8N,KAAK0Q,iBAAiBK,MAAMma,cAAgB57B,EAAQ,GAAK,MAClE,GAAC,CAAAgD,IAAA,QAAAhD,MACD,SAAMq1C,GACF,GAAKzyC,KAAK8N,KAAK7R,OAAf,CAMA,OAHIw2C,IAASnE,GAAoBoE,QAAU1yC,KAAK8N,KAAK7R,OAAS,IAC1Dw2C,EAAOnE,GAAoBqE,OAEvBF,GACJ,KAAKnE,GAAoBqE,MACrB3yC,KAAK8N,KAAKwjC,UAAY,EACtBtxC,KAAK8N,KAAK8kC,gBAAWzwC,GAAW,SAACvG,GAAC,QAAOA,EAAEgR,IAAI,IAC/C,MACJ,KAAK0hC,GAAoBoE,OACrB1yC,KAAK8N,KAAKwjC,UAAY,EACtBtxC,KAAK8N,KAAK+kC,SAAS,OAAG1wC,GAAW,SAACvG,GAAC,QAAOA,EAAEgR,IAAI,IAChD,MACJ,KAAK0hC,GAAoBwE,KACrB9yC,KAAK8N,KAAKwjC,UAAYtxC,KAAK8N,KAAKilC,aAChC/yC,KAAK8N,KAAKklC,eAAU7wC,GAAW,SAACvG,GAAC,QAAOA,EAAEgR,IAAI,IAC9C,MACJ,KAAK0hC,GAAoB2E,KACrBjzC,KAAK8N,KAAKolC,eAAU/wC,GAAW,OAAMA,GAAW,SAACvG,GAAC,QAAOA,EAAEgR,IAAI,IAC/D,IAAM7F,EAAQ/G,KAAK8N,KAAKwW,WAAW,GACrB,IAAVvd,IAAgB/G,KAAKumB,SAASxf,EAAQ,GAAG6F,MAAQ5M,KAAK8N,KAAKqlC,kBAAoBpsC,EAAQ,GACvF/G,KAAK8N,KAAK0kC,OAAOzrC,EAAQ,GAE7B,MAEJ,KAAKunC,GAAoB8E,SACrBpzC,KAAK8N,KAAKulC,mBAAclxC,GAAW,OAAMA,GAAW,SAACvG,GAAC,QAAOA,EAAEgR,IAAI,IACnE,IAAM7F,EAAQ/G,KAAK8N,KAAKwW,WAAW,GACrB,IAAVvd,IAAgB/G,KAAKumB,SAASxf,EAAQ,GAAG6F,MAAQ5M,KAAK8N,KAAKqlC,kBAAoBpsC,EAAQ,GACvF/G,KAAK8N,KAAK0kC,OAAOzrC,EAAQ,GAE7B,MAEJ,KAAKunC,GAAoBgF,SACrBtzC,KAAK8N,KAAKylC,mBAAcpxC,GAAW,SAACvG,GAAC,QAAOA,EAAEgR,IAAI,IAClD,MACJ,KAAK0hC,GAAoBkF,aACrBxzC,KAAK8N,KAAK2lC,uBAAkBtxC,GAAW,SAACvG,GAAC,QAAOA,EAAEgR,IAAI,IAG9D,IAAM2lC,EAAUvyC,KAAK8N,KAAKwW,WAAW,GACd,kBAAZiuB,GACPvyC,KAAK8N,KAAK0kC,OAAOD,EA1CrB,CA4CJ,GAAC,CAAAnyC,IAAA,aAAAhD,MACD,WACI4C,KAAK8N,KAAKuiC,SAAS,GACvB,GAAC,CAAAjwC,IAAA,WAAAhD,MACD,WACI4C,KAAK8N,KAAK4lC,UACd,GACA,CAAAtzC,IAAA,YAAAhD,MAIA,SAAU8F,GAAS,IACXrH,EAAI8J,EAAIssB,EADGlV,EAAA,KAEX/c,KAAK2zC,aAAe3zC,KAAK2zC,WAAWC,aACwB,QAA3DjuC,GAAM9J,EAAKmE,KAAKpC,QAAQmzC,eAAe8C,sBAAmC,IAAPluC,GAAyBA,EAAGzB,KAAKrI,GAC1E,QAA1Bo2B,EAAKjyB,KAAK2zC,kBAA+B,IAAP1hB,GAAyBA,EAAGzuB,WAE9DN,EAAQA,SAAYA,EAAQ2uC,cAGjC7xC,KAAK2zC,WAAa3zC,KAAKpC,QAAQmzC,cAAcK,UAAU,CACnDnH,QAAS/mC,EAAQ2uC,YACjB/wC,OAAQoC,EAAQA,QAChB4wC,YAAa,SAACC,GACVh3B,EAAKnf,QAAQo2C,mBAAmBD,EACpC,EACAE,aAAa,EACbnwC,UAAW9D,KAAK8D,UAChBowC,cAAe,IAChB,GACP,GAAC,CAAA9zC,IAAA,SAAAhD,MACD,SAAO+2C,GACHn0C,KAAK8N,KAAK0Q,iBAAiBK,MAAMs1B,UAAYA,EAAY,QAAHhsC,OAAwC,GAA7BisC,KAAKC,MAAMF,EAAY,IAAQ,OAAQ,GACxGn0C,KAAK8N,KAAKq8B,QACd,GAAC,CAAA/pC,IAAA,SAAAhD,MACD,SAAOk3C,GAAO,IAAAr3B,EAAA,KACV,KAAMjd,KAAK87B,aAAe97B,KAAK27B,cAAgB37B,KAAK47B,oBAAsB57B,KAAK67B,eAE3E,OADA77B,KAAK8N,KAAKq8B,UACH,EAEX,IAiBQoK,EAjBFC,EAAsBF,GAC5BA,EAAQA,EAAMnX,UAEEn9B,KAAK27B,cAAgB37B,KAAK47B,oBAAsB57B,KAAK67B,eAejE77B,KAAKumB,SAASwd,SAAQ,SAAA7gC,GAClB,IAAI49B,EAEAA,EAD0B,UAA1B7jB,EAAK0xB,iBACa1xB,EAAK0e,cAAe8F,EAAAA,EAAAA,KAAoBgT,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoB9uC,EAAQuqC,kBAAetrC,EAGhH8a,EAAK0e,cAAe8F,EAAAA,EAAAA,IA2H1D,SAAoC6S,EAAOxzC,GACvC,IAAQmxC,EAAsBnxC,EAAtBmxC,KAAMyC,EAAgB5zC,EAAhB4zC,YAEd,IAAKA,GAAsC,IAAvBA,EAAYz4C,OAC5B,OAAO04C,GAAkBL,EAAOrC,GAIpC,IAAM2C,GAAwCC,EAAAA,GAAAA,IAAM5C,EAAM,KACpD6C,EAA0B7C,EAAKh2C,OAAS24C,EAAsC34C,OAE9E6c,EAAU67B,GAAkBL,EAAOM,GAEzC,GAAI97B,EAAS,KACkBxQ,EADlBC,GAAAxL,EAAAA,EAAAA,GACW+b,GAAO,IAA3B,IAAAvQ,EAAAvL,MAAAsL,EAAAC,EAAAtL,KAAAC,MAA6B,KAAlBu8B,EAAKnxB,EAAAlL,MACN23C,EAAaL,EAAYjb,EAAMub,MAAQF,GAAuDA,EACpGrb,EAAMub,OAASD,EACftb,EAAMwb,KAAOF,CACjB,CAAC,OAAAl3C,GAAA0K,EAAA3M,EAAAiC,EAAA,SAAA0K,EAAAzK,GAAA,CACL,CACA,OAAOgb,CACX,CAhJ8Eo8B,CAA2BV,GAAqBxC,EAAAA,GAAAA,IAAoB9uC,EAAQuqC,kBAAetrC,EAEzJ,IAAM4qC,EAAwB9vB,EAAK2e,oBAAqB6F,EAAAA,EAAAA,KAAoBgT,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoB9uC,EAAQgqC,iBAAmB,WAAQ/qC,EAC1J6qC,EAAmB/vB,EAAK4e,eAAgB4F,EAAAA,EAAAA,KAAoBgT,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoB9uC,EAAQwqC,YAAc,WAAQvrC,EAC3IgzC,EAAiBl4B,EAAK2xB,aAAcnN,EAAAA,EAAAA,KAAoBgT,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoB9uC,EAAQ0uC,UAAY,WAAQzvC,EAc3I,GAbI2+B,GAAmBiM,GAAyBC,GAAoBmI,GAChEjyC,EAAQ49B,gBAAkBA,EAC1B59B,EAAQ6pC,sBAAwBA,EAChC7pC,EAAQ8pC,iBAAmBA,EAC3B9pC,EAAQ+nC,QAAS,IAGjB/nC,EAAQ49B,qBAAkB3+B,EAC1Be,EAAQ6pC,2BAAwB5qC,EAChCe,EAAQ8pC,sBAAmB7qC,EAC3Be,EAAQ+nC,QAAS/nC,EAAQ0J,OAAQ1J,EAAQ0J,KAAKwoC,aAG7Cn4B,EAAK6e,YAAa,CACnB,IAAMgW,EAAW5uC,EAAQ6D,OAASkW,EAAKwxB,cAAcvrC,EAAQ6D,MAAQ,IACrEwtC,EAAmBzC,GAA8B,cAAlBA,EAAShjC,KAAuBgjC,EAAWyC,KACjDrxC,EAAQ+nC,SAC7B/nC,EAAQwpC,UAAY6H,EACpBA,OAAmBpyC,EAE3B,CACJ,IA9CAnC,KAAKumB,SAASwd,SAAQ,SAAA7gC,GAClBA,EAAQ49B,qBAAkB3+B,EAC1Be,EAAQ6pC,2BAAwB5qC,EAChCe,EAAQ8pC,sBAAmB7qC,EAC3Be,EAAQ+nC,QAAS,EACjB,IAAM6G,EAAW5uC,EAAQ6D,OAASkW,EAAKwxB,cAAcvrC,EAAQ6D,MAAQ,GACjE7D,EAAQ0J,OACR1J,EAAQwpC,UAAYoF,GAA8B,cAAlBA,EAAShjC,OAAyBgjC,EAASrS,QAAUqS,OAAW3vC,EAExG,IAuCJ,IAAMkzC,EAAgBr1C,KAAKumB,SAASnH,QAAO,SAAAlc,GAAO,OAAKA,EAAQ+nC,MAAM,IAErE,GAAIjrC,KAAK87B,aAAewY,EAAO,CAC3B,IAAMgB,EAAwBhB,EAAM7zC,cACpC40C,EAAcpqC,MAAK,SAACC,EAAGC,GACnB,OAuHhB,SAAwBoqC,EAAUC,EAAUC,GACxC,IAAMC,EAAmBH,EAASzU,iBAAmB,GAC/C6U,EAAmBH,EAAS1U,iBAAmB,GACrD,GAAI4U,EAAiBz5C,SAAW05C,EAAiB15C,OAC7C,OAAQ,EAEZ,IAAKy5C,EAAiBz5C,QAAU05C,EAAiB15C,OAC7C,OAAO,EAEX,GAAgC,IAA5By5C,EAAiBz5C,QAA4C,IAA5B05C,EAAiB15C,OAClD,OAAO,EAEX,OAAO25C,EAAAA,EAAAA,IAAgBL,EAASxD,cAAeyD,EAASzD,cAAe0D,EAC3E,CApIuBI,CAAe3qC,EAAGC,EAAGmqC,EAChC,GACJ,CAWA,OAVAt1C,KAAK0uC,kBAAoB2G,EAAc1D,QAAO,SAAC/0B,EAAK1Z,EAAS6D,GACzD,IAAIlL,EAEJ,OADA+gB,EAAI/c,IAA4B,QAAvBhE,EAAKqH,EAAQ0J,YAAyB,IAAP/Q,EAAgBA,EAAKqH,EAAQwpC,UAAW3lC,GACzE6V,CACX,GAAG,IAAI1c,KACPF,KAAK8N,KAAKvK,OAAO,EAAGvD,KAAK8N,KAAK7R,OAAQo5C,GACtCr1C,KAAK8N,KAAKuiC,SAAS,IACnBrwC,KAAK8N,KAAKq8B,SACVnqC,KAAK6uC,4BAA4B59B,KAAKjR,KAAK81C,wBAC3C91C,KAAKivC,uBAAuBh+B,KAAKokC,EAAcp5C,SACxC,CACX,GAAC,CAAAmE,IAAA,iBAAAhD,MACD,WACI,IACI4C,KAAK4vC,oBAAqB,EAC1B,IAE8BjzC,EAFxB4pB,EAAWvmB,KAAK8N,KAAKwkC,qBACrByD,EAAa/1C,KAAKuxC,kBAAkBhrB,GAAUzpB,GAAAC,EAAAA,EAAAA,GAC9BwpB,GAAQ,IAA9B,IAAAzpB,EAAAE,MAAAL,EAAAG,EAAAG,KAAAC,MAAgC,CAAdP,EAAAS,MACN2uC,SAAWgK,CACvB,CAAC,OAAAl4C,GAAAf,EAAAlB,EAAAiC,EAAA,SAAAf,EAAAgB,GAAA,CACL,CAAC,QAEGkC,KAAK4vC,oBAAqB,EAC1B5vC,KAAK0xC,mBACT,CACJ,GAAC,CAAAtxC,IAAA,UAAAhD,MACD,SAAQwwC,GACJ5tC,KAAK8D,UAAU+a,MAAM+uB,QAAUA,EAAU,GAAK,MAClD,GAAC,CAAAxtC,IAAA,cAAAhD,MACD,WACI,MAAwC,SAAjC4C,KAAK8D,UAAU+a,MAAM+uB,OAChC,GAAC,CAAAxtC,IAAA,UAAAhD,MACD,WACI4C,KAAK6vC,oBAAqBrsC,EAAAA,EAAAA,IAAQxD,KAAK6vC,oBACvC7vC,KAAKkO,aAAc1K,EAAAA,EAAAA,IAAQxD,KAAKkO,YACpC,GAAC,CAAA9N,IAAA,oBAAAhD,MACD,WACQ4C,KAAK4vC,qBACL5vC,KAAK6uC,4BAA4B59B,KAAKjR,KAAK81C,wBAC3C91C,KAAK+uC,uBAAuB99B,KAAKjR,KAAKg2C,mBACtCh2C,KAAKmvC,0BAA0Bl+B,KAAKjR,KAAKi2C,sBAEjD,GAAC,CAAA71C,IAAA,sBAAAhD,MACD,SAAoBmV,GAChBvS,KAAKqvC,mBAAmBp+B,KAAKsB,EACjC,GAAC,CAAAnS,IAAA,+BAAAhD,MACD,SAA6BmV,GACzBvS,KAAKuvC,4BAA4Bt+B,KAAKsB,EAC1C,GAAC,CAAAnS,IAAA,QAAAhD,MACD,SAAMwnB,GACF5kB,KAAK8N,KAAK+Q,MAAM+F,EACpB,GAAC,CAAAxkB,IAAA,cAAAhD,MACD,WAAc,IAAAkqB,EAAA,KAEV,GADgBtnB,KAAK8N,KAAKwkC,qBAAqB,GAClCT,YAIb,IAAI7xC,KAAK2zC,YAAe3zC,KAAK2zC,WAAWC,WAAxC,CAKA,IAAMrB,EAAUvyC,KAAK8N,KAAKwkC,qBAAqB,GAC/C,GAAKC,EAAL,CAGAvyC,KAAKoxC,UAAUmB,GACf,IAAMnO,EAAQ,IAAIzhC,EAAAA,GAClByhC,EAAM/gC,IAAIrD,KAAK8N,KAAK0W,kBAAiB,SAAA5oB,GAC7BA,EAAEs6C,QAAQj6C,QACVqrB,EAAK8pB,UAAUx1C,EAAE2qB,SAAS,GAElC,KACIvmB,KAAK2zC,YACLvP,EAAM/gC,IAAIrD,KAAK2zC,YAEnB3zC,KAAKm2C,aAAe/R,EACpBpkC,KAAK6vC,mBAAmBzzC,KAAK4D,KAAKm2C,aAZlC,CALA,MAFIn2C,KAAK2zC,WAAWnwC,SAoBxB,KAACgrC,CAAA,CA3hBsB,GAyjB3B,SAASmG,GAAkByB,EAAMC,GAC7B,IAAMC,EAAaD,EAAmB51C,cAAcpD,QAAQ+4C,EAAK31C,eACjE,OAAoB,IAAhB61C,EACO,CAAC,CAAEtB,MAAOsB,EAAYrB,IAAKqB,EAAaF,EAAKn6C,SAEjD,IACX,CAlCA2E,GAAW,CACP21C,GAAAA,GACD/H,GAAe9/B,UAAW,mBAAoB,MACjD9N,GAAW,CACP21C,GAAAA,GACD/H,GAAe9/B,UAAW,uBAAwB,MA2CpD,IACKqhC,GAA+B,oBAAAA,KAAAhwC,EAAAA,EAAAA,GAAA,KAAAgwC,EAAA,CAwBhC,OAxBgC5vC,EAAAA,EAAAA,GAAA4vC,EAAA,EAAA3vC,IAAA,qBAAAhD,MACjC,WACI,OAAO0E,EAAAA,EAAAA,IAAS,aAAc,cAClC,GAAC,CAAA1B,IAAA,eAAAhD,MACD,SAAa8F,GACT,IAAIrH,EACJ,OAAqC,QAA5BA,EAAKqH,EAAQwpC,iBAA8B,IAAP7wC,OAAgB,EAASA,EAAGoY,OAAK,GAAA9L,OACrEjF,EAAQivC,cAAa,MAAAhqC,OAAKjF,EAAQwpC,UAAUz4B,OAC/C/Q,EAAQivC,aAClB,GAAC,CAAA/xC,IAAA,gBAAAhD,MACD,WACI,MAAO,SACX,GAAC,CAAAgD,IAAA,UAAAhD,MACD,SAAQ8F,GACJ,OAAOA,EAAQmvC,YAAc,WAAa,QAC9C,GAAC,CAAAjyC,IAAA,YAAAhD,MACD,SAAU8F,GACN,GAAKA,EAAQmvC,YAGb,MAAO,CACHj1C,MAAO8F,EAAQ6oC,QACf9C,YAAa/lC,EAAQioC,UAE7B,KAAC4E,CAAA,CAxBgC,GCzxBjCvV,GAAwC,SAAUvsB,EAASwsB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU7mB,EAAS8mB,GAC/C,SAASC,EAAU19B,GAAS,IAAM29B,EAAKJ,EAAUK,KAAK59B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC1F,SAASq/B,EAAS79B,GAAS,IAAM29B,EAAKJ,EAAiB,MAAEv9B,GAAS,CAAE,MAAOxB,GAAKi/B,EAAOj/B,EAAI,CAAE,CAC7F,SAASm/B,EAAK3wB,GAJlB,IAAehN,EAIagN,EAAOlN,KAAO6W,EAAQ3J,EAAOhN,QAJ1CA,EAIyDgN,EAAOhN,MAJhDA,aAAiBs9B,EAAIt9B,EAAQ,IAAIs9B,GAAE,SAAU3mB,GAAWA,EAAQ3W,EAAQ,KAIjB2Y,KAAK+kB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUt+B,MAAM4R,EAASwsB,GAAc,KAAKO,OAClE,GACJ,EAyBMjD,GAAIoQ,EAAIpQ,EACRye,GAAa,CACf/L,UAAWgM,EAAAA,EAAAA,YAAsBC,EAAAA,EAAAA,gBACjCzI,SAASnsC,EAAAA,EAAAA,IAAS,kBAAmB,QACrC60C,QAAS,GAEPC,GAAU,SAAAvlC,IAAA1N,EAAAA,EAAAA,GAAAizC,EAAAvlC,GAAA,IAAAzN,GAAAC,EAAAA,EAAAA,GAAA+yC,GACZ,SAAAA,EAAYC,GAAI,IAAA5yC,EAiBiC,OAjBjClE,EAAAA,EAAAA,GAAA,KAAA62C,IACZ3yC,EAAAL,EAAAM,KAAA,OACK2yC,GAAKA,EACV5yC,EAAK6yC,SAAU,EACf7yC,EAAK2zB,UAAW,EAChB3zB,EAAK8yC,OAAQ,EACb9yC,EAAK+yC,iBAAkB,EACvB/yC,EAAKgzC,SAAW,GAChBhzC,EAAKizC,gBAAiB,EACtBjzC,EAAKkzC,SAAW,GAChBlzC,EAAKmzC,gBAAiB,EACtBnzC,EAAKozC,oBAAsBT,EAAWU,gBACtCrzC,EAAKszC,UAAY1gB,EAAAA,EAAAA,OACjB5yB,EAAKuzC,0BAA4BvzC,EAAKE,UAAU,IAAIyM,EAAAA,IACpD3M,EAAKwzC,iBAAmBxzC,EAAKE,UAAU,IAAIyM,EAAAA,IAC3C3M,EAAKyzC,iBAAmBzzC,EAAKE,UAAU,IAAIyM,EAAAA,IAC3C3M,EAAK0zC,mBAAqB1zC,EAAKE,UAAU,IAAIxB,EAAAA,IAC7CsB,EAAK8jC,UAAY9jC,EAAKwzC,iBAAiBllC,MAAMtO,CACjD,CA6PC,OA7PA9D,EAAAA,EAAAA,GAAAy2C,EAAA,EAAAx2C,IAAA,QAAA0G,IACD,WACI,OAAO9G,KAAK43C,MAChB,EAAC/3C,IACD,SAAU+tB,GACN5tB,KAAK43C,OAAShqB,EACd5tB,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,cAAA0G,IACD,WACI,OAAO9G,KAAK83C,YAChB,EAACj4C,IACD,SAAgBsuB,GACZnuB,KAAK83C,aAAe3pB,EACpBnuB,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,OAAA0G,IACD,WACI,OAAO9G,KAAK+3C,MAChB,EAACl4C,IACD,SAASk7B,GACL/6B,KAAK+3C,OAAShd,EACd/6B,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,aAAA0G,IACD,WACI,OAAO9G,KAAKg4C,WAChB,EAACn4C,IACD,SAAeo4C,GACXj4C,KAAKg4C,YAAcC,EACnBj4C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,UAAA0G,IACD,WACI,OAAO9G,KAAK43B,QAChB,EAAC/3B,IACD,SAAYutB,GACRptB,KAAK43B,SAAWxK,EAChBptB,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,aAAA0G,IACD,WACI,OAAO9G,KAAKk4C,WAChB,EAACr4C,IACD,SAAeunC,GACXpnC,KAAKk4C,YAAc9Q,EACnBpnC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,OAAA0G,IACD,WACI,OAAO9G,KAAK+2C,KAChB,EAACl3C,IACD,SAASo9B,GACLj9B,KAAK+2C,MAAQ9Z,EACbj9B,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,iBAAA0G,IACD,WACI,OAAO9G,KAAKg3C,eAChB,EAACn3C,IACD,SAAmBs4C,GACf,IAAMC,EAAep4C,KAAKg3C,kBAAoBmB,IAAmBE,EAAAA,GACjEr4C,KAAKg3C,gBAAkBmB,IAAmBE,EAAAA,GACtCD,GACAp4C,KAAK63C,QAEb,GAAC,CAAAz3C,IAAA,UAAA0G,IACD,WACI,OAAO9G,KAAKi3C,QAChB,EAACp3C,IACD,SAAY4/B,GACRz/B,KAAKi3C,SAAWxX,EAChBz/B,KAAKk3C,gBAAiB,EACtBl3C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,UAAA0G,IACD,WACI,OAAO9G,KAAKm3C,QAChB,EAACt3C,IACD,SAAY8pC,GACR3pC,KAAKm3C,SAAuB,OAAZxN,QAAgC,IAAZA,EAAqBA,EAAU,GACnE3pC,KAAKo3C,gBAAiB,EACtBp3C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,oBAAA0G,IACD,WACI,OAAO9G,KAAKs4C,kBAChB,EAACz4C,IACD,SAAsB04C,GAClBv4C,KAAKs4C,mBAAqBC,EAC1Bv4C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,WAAA0G,IACD,WACI,OAAO9G,KAAKu3C,SAChB,EAAC13C,IACD,SAAayzB,GACTtzB,KAAKu3C,UAAYjkB,EACjBtzB,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,OAAAhD,MACD,WAAO,IAAAuH,EAAA,KACC3E,KAAK82C,UAGT92C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAG2B,oBAAmB,SAAA1xB,IACb,IAAlCniB,EAAK86B,QAAQpiC,QAAQypB,IACrBniB,EAAK6yC,0BAA0BvmC,KAAK6V,EAE5C,KACA9mB,KAAK62C,GAAG7R,KAAKhlC,MAEbA,KAAK82C,SAAU,EAEf92C,KAAKy4C,4BAAyBt2C,EAE9BnC,KAAK04C,mBAAgBv2C,EACjBnC,KAAKy/B,QAAQxjC,SAGb+D,KAAKk3C,gBAAiB,GAEtBl3C,KAAK2pC,QAAQ1tC,SAGb+D,KAAKo3C,gBAAiB,GAE1Bp3C,KAAK63C,SACT,GAAC,CAAAz3C,IAAA,OAAAhD,MACD,WACS4C,KAAK82C,SAGV92C,KAAK62C,GAAG/X,MACZ,GAAC,CAAA1+B,IAAA,UAAAhD,MACD,WAA6C,IAArCu7C,EAAMz3C,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG03C,EAAAA,GAAAA,MACb54C,KAAK82C,SAAU,EACf92C,KAAK23C,mBAAmBlqC,QACxBzN,KAAKy3C,iBAAiBxmC,KAAK,CAAE0nC,OAAAA,GACjC,GAAC,CAAAv4C,IAAA,SAAAhD,MACD,WAAS,IACDvB,EAAI8J,EADHgP,EAAA,KAEL,GAAK3U,KAAK82C,QAAV,CAGA,IAAMlpB,EAAQ5tB,KAAK64C,WACfjrB,GAAS5tB,KAAK62C,GAAGjpB,MAAM+f,cAAgB/f,EACvC5tB,KAAK62C,GAAGjpB,MAAM+f,YAAc/f,EAEtBA,GAAqC,WAA5B5tB,KAAK62C,GAAGjpB,MAAMkrB,YAC7B94C,KAAK62C,GAAGjpB,MAAMmrB,UAAY,QAE9B,IAAM5qB,EAAcnuB,KAAKg5C,iBAoBzB,GAnBIh5C,KAAK62C,GAAGoC,aAAatL,cAAgBxf,IACrCnuB,KAAK62C,GAAGoC,aAAatL,YAAcxf,GAEnCnuB,KAAK62C,GAAGqC,aAAavL,cAAgBxf,IACrCnuB,KAAK62C,GAAGqC,aAAavL,YAAcxf,GAEnCnuB,KAAKi9B,OAASj9B,KAAKm5C,YACnBn5C,KAAKm5C,UAAY,IAAI9mC,EAAAA,GACrBrS,KAAKm5C,UAAUC,aAAY,WACnBzkC,EAAKmiC,SACLniC,EAAKkiC,GAAGwC,YAAYC,UAE5B,GAAG,OAEFt5C,KAAKi9B,MAAQj9B,KAAKm5C,YACnBn5C,KAAK62C,GAAGwC,YAAY3uC,OACpB1K,KAAKm5C,UAAU1kC,SACfzU,KAAKm5C,eAAYh3C,GAEjBnC,KAAKk3C,eAAgB,CACrBl3C,KAAKk3C,gBAAiB,EACtBl3C,KAAK62C,GAAG0C,cAAc9rC,QACtB,IAAM+rC,EAAcx5C,KAAKy/B,QAAQrgB,QAAO,SAAA0H,GAAM,OAAIA,IAAW0vB,EAAU,IACvEx2C,KAAK62C,GAAG0C,cAAcn9C,KAAKo9C,EAAY58B,KAAI,SAACkK,EAAQ/f,GAChD,IAAMq4B,EAAS,IAAIqa,EAAAA,GAAO,MAADtxC,OAAOpB,GAAS,GAAI+f,EAAO2jB,WAAaF,GAAazjB,EAAO0jB,WAAW,GAAM,kBAAMhQ,GAAU7lB,OAAM,OAAQ,GAAMwnB,EAAAA,EAAAA,KAAAC,MAAE,SAAAsB,IAAA,OAAAvB,EAAAA,EAAAA,KAAAW,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAA3C,MAAA,OACxIh7B,KAAKw3C,0BAA0BvmC,KAAK6V,GAAQ,wBAAA6W,EAAAjzB,OAAA,GAAAgzB,EAAA,SAC9C,IAEF,OADA0B,EAAO6O,QAAUnnB,EAAOmnB,SAAW,GAC5B7O,CACX,IAAI,CAAEiP,MAAM,EAAMp6B,OAAO,IACzBjU,KAAK62C,GAAG6C,eAAejsC,QACvB,IAAMksC,EAAe35C,KAAKy/B,QAAQrgB,QAAO,SAAA0H,GAAM,OAAIA,IAAW0vB,EAAU,IACxEx2C,KAAK62C,GAAG6C,eAAet9C,KAAKu9C,EAAa/8B,KAAI,SAACkK,EAAQ/f,GAClD,IAAMq4B,EAAS,IAAIqa,EAAAA,GAAO,MAADtxC,OAAOpB,GAAS,GAAI+f,EAAO2jB,WAAaF,GAAazjB,EAAO0jB,WAAW,GAAM,kBAAMhQ,GAAU7lB,OAAM,OAAQ,GAAMwnB,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,OAAA7B,EAAAA,EAAAA,KAAAW,MAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAAtD,MAAA,OACxIh7B,KAAKw3C,0BAA0BvmC,KAAK6V,GAAQ,wBAAAwX,EAAA5zB,OAAA,GAAAszB,EAAA,SAC9C,IAEF,OADAoB,EAAO6O,QAAUnnB,EAAOmnB,SAAW,GAC5B7O,CACX,IAAI,CAAEiP,MAAM,EAAMp6B,OAAO,GAC7B,CACA,GAAIjU,KAAKo3C,eAAgB,CACrBp3C,KAAKo3C,gBAAiB,EAItB,IAAMwC,EAAgI,QAA7Gj0C,EAA6B,QAAvB9J,EAAKmE,KAAK2pC,eAA4B,IAAP9tC,OAAgB,EAASA,EAAGujB,QAAO,SAAAy6B,GAAI,OAAIA,aAAgBC,EAAAA,CAAM,WAAsB,IAAPn0C,EAAgBA,EAAK,GACnK3F,KAAK62C,GAAGxyC,SAASslC,QAAUiQ,CAC/B,CACA55C,KAAK62C,GAAGsB,eAAiBn4C,KAAKm4C,eAC9Bn4C,KAAK62C,GAAGkD,WAAW/5C,KAAKotB,SACxBptB,KAAK62C,GAAGmD,cAAch6C,KAAKonC,YAC3B,IAAMmR,EAAoBv4C,KAAKu4C,mBAAqBv4C,KAAKq3C,oBACrDr3C,KAAKy4C,yBAA2BF,IAChCv4C,KAAKy4C,uBAAyBF,EAC9BpQ,EAAI8R,MAAMj6C,KAAK62C,GAAG3tC,SFjOvB,SAAqCilB,EAAarqB,EAAWo2C,GAChE/R,EAAI8R,MAAMn2C,GACV,IAE+BvF,EAFzB47C,GAASC,EAAAA,GAAAA,GAAgBjsB,GAC3B6J,EAAW,EAAEv5B,GAAA1B,EAAAA,EAAAA,GACEo9C,EAAOE,OAAK,QAAA9Y,EAAA,WAAE,IAAtB95B,EAAIlJ,EAAAnB,MACX,GAAoB,kBAATqK,EACP3D,EAAUg0B,OAAMz7B,MAAhByH,GAASxH,EAAAA,GAAAA,IAAWg+C,EAAAA,GAAAA,GAAqB7yC,SAExC,CACD,IAAImmB,EAAQnmB,EAAKmmB,OACZA,GAASnmB,EAAKwwB,KAAKpqB,WAAW,YAC/B+f,GAAQ9rB,EAAAA,EAAAA,IAAS,iBAAkB,iCAAkC2F,EAAKwwB,KAAKjnB,UAAU,WAAW/U,SAE9F2xB,IACNA,EAAQnmB,EAAKwwB,MAEjB,IAAMsiB,EAASpS,EAAIpQ,EAAE,IAAK,CAAEE,KAAMxwB,EAAKwwB,KAAMrK,MAAAA,EAAOoK,SAAUA,KAAcvwB,EAAKwM,OACjFsmC,EAAO17B,MAAM27B,eAAiB,YAC9B,IAMMC,EAAUP,EAAchsC,YAAY7K,IAAI,IAAI+0B,GAAAA,EAAWmiB,EAAQpS,EAAIS,UAAU8C,QAAQn5B,MACrFmoC,EAAYR,EAAchsC,YAAY7K,IAAI,IAAI+0B,GAAAA,EAAWmiB,EAAQpS,EAAIS,UAAUC,WAAWt2B,MAC1FooC,EAAiBT,EAAchsC,YAAY7K,IAAImP,EAAAA,GAAAA,MAAYkoC,IAAYt7B,QAAO,SAAAxjB,GAChF,IAAM2W,EAAQ,IAAIgmB,EAAAA,EAAsB38B,GACxC,OAAO2W,EAAMqoC,OAAO,KAA2BroC,EAAMqoC,OAAO,EAChE,IAAGroC,MACH2nC,EAAchsC,YAAY7K,IAAIq1B,GAAAA,EAAAA,UAAkB6hB,IAChD,IAAM/hB,EAAQ0hB,EAAchsC,YAAY7K,IAAI,IAAI+0B,GAAAA,EAAWmiB,EAAQM,GAAAA,EAAAA,MAAuBtoC,MAC1FC,EAAAA,GAAAA,IAAUioC,EAASjiB,EAAOmiB,EAA1BnoC,EAdmB,SAAC5W,GACZusC,EAAI2S,YAAYl/C,IAChBusC,EAAIvP,YAAYluB,KAAK9O,GAAG,GAE5Bs+C,EAAclsC,SAASvG,EAAKwwB,KAChC,GASsD,KAAMiiB,EAAchsC,aAC1EpK,EAAUi3C,YAAYR,EAC1B,CACJ,EA/BA,IAAA97C,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAAqkC,GA+BC,OAAA1jC,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,CACL,CE8LYk9C,CAA4BzC,EAAmBv4C,KAAK62C,GAAG3tC,QAAS,CAC5D8E,SAAU,SAACi8B,GACPt1B,EAAKkiC,GAAG7C,mBAAmB/J,EAC/B,EACA/7B,YAAalO,KAAK23C,sBAGtB33C,KAAK04C,gBAAkB14C,KAAKszB,WAC5BtzB,KAAK04C,cAAgB14C,KAAKszB,SAC1BtzB,KAAKi7C,sBAAsBj7C,KAAKszB,UAzEpC,CA2EJ,GAAC,CAAAlzB,IAAA,WAAAhD,MACD,WACI,OAAI4C,KAAK4tB,OAAS5tB,KAAK+6B,KACZ,GAAP5yB,OAAUnI,KAAK4tB,MAAK,MAAAzlB,OAAKnI,KAAKk7C,WAAU,KAExCl7C,KAAK4tB,MACE5tB,KAAK4tB,MAEZ5tB,KAAK+6B,KACE/6B,KAAKk7C,WAET,EACX,GAAC,CAAA96C,IAAA,iBAAAhD,MACD,WACI,OAAO4C,KAAKmuB,aAAe,EAC/B,GAAC,CAAA/tB,IAAA,WAAAhD,MACD,WACI,OAAI4C,KAAK+6B,MAAQ/6B,KAAKi4C,YACXn2C,EAAAA,EAAAA,IAAS,mBAAoB,UAAW9B,KAAK+6B,KAAM/6B,KAAKi4C,YAE/Dj4C,KAAK+6B,KACE1uB,OAAOrM,KAAK+6B,MAEhB,EACX,GAAC,CAAA36B,IAAA,wBAAAhD,MACD,SAAsBk2B,GAElB,GADAtzB,KAAK62C,GAAGxyC,SAAS82C,eAAe7nB,GAC5BA,IAAauD,EAAAA,EAAAA,OAAiB,CAC9B,IAAMjS,EAAS5kB,KAAK62C,GAAGxyC,SAAS6lC,cAAc5W,GAC9CtzB,KAAK62C,GAAG3tC,QAAQ2V,MAAMu8B,MAAQx2B,EAAOy2B,WAAa,GAAHlzC,OAAMyc,EAAOy2B,YAAe,GAC3Er7C,KAAK62C,GAAG3tC,QAAQ2V,MAAMy8B,gBAAkB12B,EAAO22B,WAAa,GAAHpzC,OAAMyc,EAAO22B,YAAe,GACrFv7C,KAAK62C,GAAG3tC,QAAQ2V,MAAM28B,OAAS52B,EAAO42B,OAAS,aAAHrzC,OAAgByc,EAAO42B,QAAW,GAC9Ex7C,KAAK62C,GAAG3tC,QAAQ2V,MAAM48B,aAAe,MACzC,MAEIz7C,KAAK62C,GAAG3tC,QAAQ2V,MAAMu8B,MAAQ,GAC9Bp7C,KAAK62C,GAAG3tC,QAAQ2V,MAAMy8B,gBAAkB,GACxCt7C,KAAK62C,GAAG3tC,QAAQ2V,MAAM28B,OAAS,GAC/Bx7C,KAAK62C,GAAG3tC,QAAQ2V,MAAM48B,aAAe,EAE7C,GAAC,CAAAr7C,IAAA,UAAAhD,MACD,WACI4C,KAAK8+B,OACL9+B,KAAK03C,iBAAiBzmC,QACtBwB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAkkC,EAAAloC,WAAA,gBAAAxK,KAAA,KACJ,KAAC0yC,CAAA,CAhRW,CAASvgC,EAAAA,IAkRzBugC,GAAWU,iBAAkBx1C,EAAAA,EAAAA,IAAS,iBAAkB,6DAA6D,IAC/G45C,GAAS,SAAAC,IAAAh4C,EAAAA,EAAAA,GAAA+3C,EAAAC,GAAA,IAAAj3C,GAAAb,EAAAA,EAAAA,GAAA63C,GACX,SAAAA,IAAc,IAAAzmC,EAuCuE,OAvCvElV,EAAAA,EAAAA,GAAA,KAAA27C,IACVzmC,EAAAvQ,EAAArI,MAAA,KAAS6E,YACJi5B,OAAS,GACdllB,EAAK2mC,wBAA0B3mC,EAAK9Q,UAAU,IAAIyM,EAAAA,IAClDqE,EAAK4mC,oBAAsB5mC,EAAK9Q,UAAU,IAAIyM,EAAAA,IAC9CqE,EAAK6mC,mBAAqB7mC,EAAK9Q,UAAU,IAAIyM,EAAAA,IAC7CqE,EAAK8mC,mBAAqB9mC,EAAK9Q,UAAU,IAAIyM,EAAAA,IAC7CqE,EAAK+mC,OAAS,GACd/mC,EAAKgnC,cAAe,EACpBhnC,EAAKinC,gBAAiB,EACtBjnC,EAAKknC,wBAAyB,EAC9BlnC,EAAKmnC,qBAAsB,EAC3BnnC,EAAKonC,gBAAiB,EACtBpnC,EAAKqnC,eAAgB,EACrBrnC,EAAKsnC,kBAAoB,QACzBtnC,EAAKunC,cAAe,EACpBvnC,EAAKwnC,kBAAmB,EACxBxnC,EAAKynC,qBAAsB,EAC3BznC,EAAK0nC,gBAAkB1nC,EAAK4hC,GAAG+F,0BAA4BzV,EAAAA,GAAAA,KAA6EA,EAAAA,GAAAA,MACxIlyB,EAAK4nC,aAAe,GACpB5nC,EAAK6nC,oBAAqB,EAC1B7nC,EAAK8nC,qBAAuB,GAC5B9nC,EAAK+nC,yBAA2B/nC,EAAK9Q,UAAU,IAAIyM,EAAAA,IACnDqE,EAAKgoC,eAAiB,GACtBhoC,EAAKioC,sBAAuB,EAC5BjoC,EAAKkoC,uBAAyB,GAC9BloC,EAAKmoC,4BAA8BnoC,EAAK9Q,UAAU,IAAIyM,EAAAA,IACtDqE,EAAKooC,8BAAgCpoC,EAAK9Q,UAAU,IAAIyM,EAAAA,IACxDqE,EAAKqoC,mCAAqCroC,EAAK9Q,UAAU,IAAIyM,EAAAA,IAC7DqE,EAAKsoC,uBAAwB,EAC7BtoC,EAAKuoC,IAAM,UACXvoC,EAAKwoC,eAAgB,EACrBxoC,EAAKoyB,YAAc,SAACjqC,GAAK,OAAKA,CAAK,EACnC6X,EAAKwpB,iBAAmBxpB,EAAK2mC,wBAAwBrpC,MACrD0C,EAAKwyB,aAAexyB,EAAK4mC,oBAAoBtpC,MAC7C0C,EAAKypB,YAAczpB,EAAK6mC,mBAAmBvpC,MAC3C0C,EAAKyoC,kBAAoBzoC,EAAK+nC,yBAAyBzqC,MACvD0C,EAAKkP,qBAAuBlP,EAAKmoC,4BAA4B7qC,MAC7D0C,EAAK+pB,uBAAyB/pB,EAAKooC,8BAA8B9qC,MACjE0C,EAAK0oC,4BAA8B1oC,EAAKqoC,mCAAmC/qC,MAAM0C,CACrF,CAufC,OAvfA9U,EAAAA,EAAAA,GAAAu7C,EAAA,EAAAt7C,IAAA,gBAAA0G,IACD,WACI,OAAO9G,KAAK49C,cAChB,EAAC/9C,IACD,SAAkBknC,GACd/mC,KAAK49C,eAAiB7W,EACtB/mC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,QAAA0G,IACD,WACI,OAAO9G,KAAKm6B,MAChB,EAACt6B,IACD,SAAUzC,GACN4C,KAAK69C,WAAWzgD,EACpB,GAAC,CAAAgD,IAAA,aAAAhD,MACD,SAAWA,EAAO0gD,GACd,GAAI99C,KAAKm6B,SAAW/8B,EAAO,CAKvB,GAJA4C,KAAKm6B,OAAS/8B,EACT0gD,GACD99C,KAAK63C,SAEL73C,KAAK82C,QACa92C,KAAK62C,GAAG/oC,KAAKsR,OAAOpf,KAAKqnC,YAAYrnC,KAAKm6B,UAExDn6B,KAAK+9C,iBAGb/9C,KAAK47C,wBAAwB3qC,KAAKjR,KAAKm6B,OAC3C,CACJ,GAAC,CAAA/5B,IAAA,YAAA0G,IAKD,WACI,OAAO9G,KAAKg+C,UAChB,EAACn+C,IAND,SAAc0iC,GACVviC,KAAKg+C,WAAazb,EAClBviC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,cAAA0G,IAID,WACI,OAAO9G,KAAKi+C,YAChB,EAACp+C,IACD,SAAgBinC,GACZ9mC,KAAKi+C,aAAenX,EACpB9mC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,QAAA0G,IACD,WACI,OAAO9G,KAAKg8C,MAChB,EAACn8C,IAOD,SAAUyY,GACNtY,KAAKg8C,OAAS1jC,EACdtY,KAAKi8C,cAAe,EACpBj8C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,YAAA0G,IAVD,WACI,OAAO9G,KAAK62C,GAAG/oC,KAAKwjC,SACxB,EAACzxC,IACD,SAAcyxC,GACVtxC,KAAK62C,GAAG/oC,KAAKwjC,UAAYA,CAC7B,GAAC,CAAAlxC,IAAA,gBAAA0G,IAMD,WACI,OAAO9G,KAAKk8C,cAChB,EAACr8C,IACD,SAAkBq+C,GACdl+C,KAAKk8C,eAAiBgC,EACtBl+C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,wBAAA0G,IACD,WACI,OAAO9G,KAAKm8C,sBAChB,EAACt8C,IACD,SAA0B67B,GACtB17B,KAAKm8C,uBAAyBzgB,CAClC,GAAC,CAAAt7B,IAAA,qBAAA0G,IACD,WACI,OAAO9G,KAAKo8C,mBAChB,EAACv8C,IACD,SAAuB+7B,GACnB57B,KAAKo8C,oBAAsBxgB,EAC3B57B,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,gBAAA0G,IACD,WACI,OAAO9G,KAAKq8C,cAChB,EAACx8C,IACD,SAAkBg8B,GACd77B,KAAKq8C,eAAiBxgB,EACtB77B,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,eAAA0G,IACD,WACI,OAAO9G,KAAKs8C,aAChB,EAACz8C,IACD,SAAiB87B,GACb37B,KAAKs8C,cAAgB3gB,EACrB37B,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,mBAAA0G,IACD,WACI,OAAO9G,KAAKu8C,iBAChB,EAAC18C,IACD,SAAqB8uC,GACjB3uC,KAAKu8C,kBAAoB5N,EACzB3uC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,cAAA0G,IACD,WACI,OAAO9G,KAAKw8C,YAChB,EAAC38C,IACD,SAAgBi8B,GACZ97B,KAAKw8C,aAAe1gB,EACpB97B,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,kBAAA0G,IACD,WACI,OAAO9G,KAAKy8C,gBAChB,EAAC58C,IACD,SAAoBs+C,GAChBn+C,KAAKy8C,iBAAmB0B,EACxBn+C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,qBAAA0G,IACD,WACI,OAAO9G,KAAK08C,mBAChB,EAAC78C,IACD,SAAuBmgC,GACnBhgC,KAAK08C,oBAAsB1c,CAC/B,GAAC,CAAA5/B,IAAA,iBAAA0G,IACD,WACI,OAAO9G,KAAK28C,eAChB,EAAC98C,IACD,SAAmBqnC,GACflnC,KAAK28C,gBAAkBzV,CAC3B,GAAC,CAAA9mC,IAAA,cAAA0G,IACD,WACI,OAAO9G,KAAK68C,YAChB,EAACh9C,IACD,SAAgB49B,GACZz9B,KAAK68C,aAAepf,EACpBz9B,KAAK88C,oBAAqB,EAC1B98C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,gBAAA0G,IACD,WACI,OAAO9G,KAAKi9C,cAChB,EAACp9C,IACD,SAAkB8+B,GACd3+B,KAAKi9C,eAAiBte,EACtB3+B,KAAKk9C,sBAAuB,EAC5Bl9C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,UAAA0G,IACD,WACI,OAAI9G,KAAK49C,eAKEQ,EAAAA,GAEJp+C,KAAK62C,GAAG9X,OACnB,GAAC,CAAA3+B,IAAA,iBAAAP,IACD,SAAmBooC,GACfjoC,KAAKq+C,gBAAkBpW,EACvBjoC,KAAKu9C,uBAAwB,EAC7Bv9C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,eAAA0G,IACD,WACI,OAAO9G,KAAKy9C,aAChB,EAAC59C,IACD,SAAiBy+C,GACbt+C,KAAKy9C,cAAgBa,EACrBt+C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,cAAA0G,IACD,WACI,OAAO9G,KAAKu+C,kBAChB,EAAC1+C,IACD,SAAgBoU,GACZjU,KAAKu+C,mBAAqBtqC,EAC1BjU,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,cAAA0G,IACD,WACI,OAAO9G,KAAKw+C,kBAChB,EAAC3+C,IACD,SAAgB4+C,GACZz+C,KAAKw+C,mBAAqBC,EAC1Bz+C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,KAAA0G,IACD,WACI,OAAO9G,KAAKw9C,GAChB,EAAC39C,IACD,SAAO6+C,GACH1+C,KAAKw9C,IAAMkB,EACX1+C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,YAAA0G,IACD,WACI,QAAS9G,KAAK2+C,UAClB,EAAC9+C,IACD,SAAconC,GACVjnC,KAAK2+C,WAAa1X,EAClBjnC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,iBAAAhD,MACD,WACQ4C,KAAKm+C,kBACAn+C,KAAKk+C,eACNl+C,KAAK62C,GAAG/oC,KAAKuW,MAAMiqB,GAAoBqE,OAGnD,GAAC,CAAAvyC,IAAA,OAAAhD,MACD,WAAO,IAAAuf,EAAA,KACE3c,KAAK82C,UACN92C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAGxyC,SAAS4kC,aAAY,SAAA7rC,GACrDuf,EAAKkhC,WAAWzgD,GAAO,EAC3B,KACA4C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAGxyC,SAASykC,aAAY,SAAAv2B,GAChDoK,EAAKwhC,iBACNxhC,EAAKk6B,GAAG/oC,KAAK8wC,YAErB,KACA5+C,KAAK23C,mBAAmBt0C,KAAKrD,KAAK2+C,WAAa3+C,KAAK62C,GAAG/oC,KAAO9N,KAAK62C,GAAGxyC,UAAUmkC,WAAU,SAACj2B,GACvF,OAAQA,EAAM6D,SACV,KAAK,GACDuG,EAAKk6B,GAAG/oC,KAAKuW,MAAMiqB,GAAoB2E,MACnCt2B,EAAKuhC,eACLvhC,EAAKk6B,GAAG/oC,KAAK4lC,WAEjBvL,EAAIvP,YAAYluB,KAAK6H,GAAO,GAC5B,MACJ,KAAK,GACGoK,EAAKk6B,GAAG/oC,KAAKwkC,qBAAqBr2C,OAClC0gB,EAAKk6B,GAAG/oC,KAAKuW,MAAMiqB,GAAoB8E,UAGvCz2B,EAAKk6B,GAAG/oC,KAAKuW,MAAMiqB,GAAoBwE,MAEvCn2B,EAAKuhC,eACLvhC,EAAKk6B,GAAG/oC,KAAK4lC,WAEjBvL,EAAIvP,YAAYluB,KAAK6H,GAAO,GAC5B,MACJ,KAAK,GACDoK,EAAKk6B,GAAG/oC,KAAKuW,MAAMiqB,GAAoBgF,UACnC32B,EAAKuhC,eACLvhC,EAAKk6B,GAAG/oC,KAAK4lC,WAEjBvL,EAAIvP,YAAYluB,KAAK6H,GAAO,GAC5B,MACJ,KAAK,GACDoK,EAAKk6B,GAAG/oC,KAAKuW,MAAMiqB,GAAoBkF,cACnC72B,EAAKuhC,eACLvhC,EAAKk6B,GAAG/oC,KAAK4lC,WAEjBvL,EAAIvP,YAAYluB,KAAK6H,GAAO,GAC5B,MACJ,KAAK,GACD,IAAKoK,EAAKw/B,uBACN,OAEJ,IAAKx/B,EAAKk6B,GAAGxyC,SAASglC,mBAClB,OAEA1sB,EAAK8gB,YAAY,KACjB9gB,EAAKsgC,eAAiB,CAACtgC,EAAK8gB,YAAY,IACxC9gB,EAAKygC,4BAA4BnsC,KAAK0L,EAAKgiB,eAC3ChiB,EAAKkiC,cAAa,IAEtB,MACJ,KAAK,IACItsC,EAAM2D,UAAW3D,EAAM4D,SAAa5D,EAAMkE,UAAalE,EAAMoE,SAC9DgG,EAAKk6B,GAAG/oC,KAAKuW,MAAMiqB,GAAoBqE,OACvCxK,EAAIvP,YAAYluB,KAAK6H,GAAO,IAEhC,MACJ,KAAK,IACIA,EAAM2D,UAAW3D,EAAM4D,SAAa5D,EAAMkE,UAAalE,EAAMoE,SAC9DgG,EAAKk6B,GAAG/oC,KAAKuW,MAAMiqB,GAAoBwE,MACvC3K,EAAIvP,YAAYluB,KAAK6H,GAAO,IAI5C,KACAvS,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAGnY,aAAY,WACxC/hB,EAAKuhC,cAIAvhC,EAAKk6B,GAAG/oC,KAAKmoC,qBAAqBh6C,SACnC0gB,EAAKsgC,eAAiB,GACtBtgC,EAAKygC,4BAA4BnsC,KAAK0L,EAAKgiB,gBAG1ChiB,EAAK8gB,YAAY,KAEtB9gB,EAAKsgC,eAAiB,CAACtgC,EAAK8gB,YAAY,IACxC9gB,EAAKygC,4BAA4BnsC,KAAK0L,EAAKgiB,gBAE/ChiB,EAAKkiC,cAAa,EACtB,KACA7+C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAGiI,aAAY,WAC5CniC,EAAKo/B,mBAAmB9qC,MAC5B,KACAjR,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAG/oC,KAAK0W,kBAAiB,SAAAu6B,GAClDpiC,EAAKmgC,oBAGLngC,EAAKogC,uBAAyBpgC,EAAKkgC,eAAgBjC,EAAAA,EAAAA,IAAOmE,EAAcpiC,EAAKkgC,cAAc,SAAC3xC,EAAGC,GAAC,OAAKD,IAAMC,CAAC,MAGhHwR,EAAKkgC,aAAekC,EACpBpiC,EAAKqgC,yBAAyB/rC,KAAK8tC,GACvC,KACA/+C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAG/oC,KAAKqW,sBAAqB,SAAA8a,GAAqC,IAA3BN,EAAaM,EAApB3mB,MAAsB/F,EAAK0sB,EAAL1sB,MAC/EoK,EAAKuhC,cACDvf,EAAc1iC,QACd0gB,EAAKk6B,GAAG/oC,KAAKkxC,oBAAoB,IAIrCriC,EAAKwgC,yBAA2BxgC,EAAKsgC,iBAAkBrC,EAAAA,EAAAA,IAAOjc,EAAehiB,EAAKsgC,gBAAgB,SAAC/xC,EAAGC,GAAC,OAAKD,IAAMC,CAAC,MAGvHwR,EAAKsgC,eAAiBte,EACtBhiB,EAAKygC,4BAA4BnsC,KAAK0tB,GAClCA,EAAc1iC,QACd0gB,EAAKkiC,aAAatsC,aAAiB0sC,YAA+B,IAAjB1sC,EAAMuU,QAE/D,KACA9mB,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAG/oC,KAAKshC,0BAAyB,SAAA8P,GACzDviC,EAAKuhC,gBAGNvhC,EAAKwgC,yBAA2BxgC,EAAKsgC,iBAAkBrC,EAAAA,EAAAA,IAAOsE,EAAcviC,EAAKsgC,gBAAgB,SAAC/xC,EAAGC,GAAC,OAAKD,IAAMC,CAAC,MAGtHwR,EAAKsgC,eAAiBiC,EACtBviC,EAAKygC,4BAA4BnsC,KAAKiuC,IAC1C,KACAl/C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAG/oC,KAAKwhC,mBAAkB,SAAA/8B,GAAK,OAAIoK,EAAK0gC,8BAA8BpsC,KAAKsB,EAAM,KAClHvS,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAG/oC,KAAK0hC,4BAA2B,SAAAj9B,GAAK,OAAIoK,EAAK2gC,mCAAmCrsC,KAAKsB,EAAM,KAChIvS,KAAK23C,mBAAmBt0C,IAAIrD,KAAKm/C,2BACjCn/C,KAAKu9C,uBAAwB,IAEjC9qC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAgpC,EAAAhtC,WAAA,aAAAxK,KAAA,KACJ,GAAC,CAAA9D,IAAA,eAAAhD,MACD,SAAayhC,GAET,IAAI6I,GAAO,EACX1nC,KAAK67C,oBAAoB5qC,KAAK,CAAEy2B,KAAM,kBAAMA,GAAO,CAAI,IAElDA,GACD1nC,KAAK87C,mBAAmB7qC,KAAK,CAAE4tB,aAAAA,GAEvC,GAAC,CAAAz+B,IAAA,0BAAAhD,MACD,WAA0B,IAAA2f,EAAA,KACtB,OAAOorB,EAAIM,sBAAsBzoC,KAAK62C,GAAG/yC,UAAWqkC,EAAIS,UAAUwW,QAAQ,SAAAxjD,GACtE,IAAImhB,EAAKmhC,eAAkBnhC,EAAK6gC,eAAhC,CAGA,IAAMyB,EAAgB,IAAI9mB,EAAAA,EAAsB38B,GAC1Cwa,EAAUipC,EAAcjpC,QAET2G,EAAK6gC,eAAe0B,YACCvgC,MAAK,SAAApH,GAC3C,IAAA4nC,EAAkC5nC,EAAE3C,YAAWwqC,GAAAt3C,EAAAA,EAAAA,GAAAq3C,EAAA,GAAxC7rC,EAAU8rC,EAAA,GACjB,OAD8BA,EAAA,KAI1B9rC,EAAW+C,UAAwB,IAAZL,IACnBipC,EAAcnpC,SAAWmpC,EAAc1oC,QAAU0oC,EAAclpC,YAKnEzC,EAAWiD,QAAsB,IAAZP,QAGrB1C,EAAWwC,SAAuB,IAAZE,OAGtB1C,EAAWyC,SAAuB,KAAZC,IAI9B,MAEQ2G,EAAK0gB,YAAY,KACjB1gB,EAAKkgC,eAAiB,CAAClgC,EAAK0gB,YAAY,IACxC1gB,EAAKqgC,4BAA4BnsC,KAAK8L,EAAK4hB,eAC3C5hB,EAAK8hC,cAAa,IAKtB9hC,EAAK6gC,oBAAiBz7C,EApC1B,CAsCJ,GACJ,GAAC,CAAA/B,IAAA,SAAAhD,MACD,WACI,GAAK4C,KAAK82C,QAAV,CAIA,IAAM2I,EAAkBz/C,KAAKggC,mBAAqBhgC,KAAKsxC,UAAY,EAC7DoO,IAAmB1/C,KAAKmuB,YACxBwxB,EAAe,CACjB/xB,QAAS5tB,KAAK4tB,SAAW5tB,KAAK+6B,QAAU/6B,KAAKy/B,QAAQxjC,OACrDkyB,YAAauxB,EACbE,SAAU5/C,KAAKk+C,gBAAkBl+C,KAAK6/C,cACtCC,SAAU9/C,KAAKk+C,cACf75C,UAAWrE,KAAK2+C,WAChBtF,aAAcr5C,KAAK2+C,YAAce,EACjCK,cAAc,EACdtO,MAAOzxC,KAAKk+C,cACZ8B,GAAgB,YAAZhgD,KAAKggD,GAAmBhgD,KAAKk+C,cAAgBl+C,KAAKggD,GACtDlyC,MAAM,EACN5E,UAAWlJ,KAAKu4C,kBAChB0H,aAAcjgD,KAAKigD,cAEvBjgD,KAAK62C,GAAGqJ,gBAAgBP,IACxBltC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAgpC,EAAAhtC,WAAA,eAAAxK,KAAA,MACIlE,KAAK62C,GAAGxyC,SAASjH,QAAU4C,KAAK5C,QAChC4C,KAAK62C,GAAGxyC,SAASjH,MAAQ4C,KAAK5C,OAE9B4C,KAAKu9C,wBACLv9C,KAAKu9C,uBAAwB,EAC7Bv9C,KAAK62C,GAAGxyC,SAAS+kC,OAAOppC,KAAKq+C,iBAAmB,CAAErJ,MAAOh1C,KAAKq+C,gBAAgB,GAAIpJ,IAAKj1C,KAAKq+C,gBAAgB,MAE5Gr+C,KAAK62C,GAAGxyC,SAASyiC,eAAiB9mC,KAAK8mC,aAAe,MACtD9mC,KAAK62C,GAAGxyC,SAASyiC,YAAe9mC,KAAK8mC,aAAe,IAExD,IAAIvE,EAAYviC,KAAKuiC,UAgBrB,GAfKA,IACDA,EAAYviC,KAAK8mC,aAAe4U,EAAUyE,mBAEtCngD,KAAK4tB,QACL2U,GAAa,MAAJp6B,OAAUnI,KAAK4tB,SAG5B5tB,KAAK62C,GAAGxyC,SAASk+B,YAAcA,IAC/BviC,KAAK62C,GAAGxyC,SAASk+B,UAAYA,GAEjCviC,KAAK62C,GAAG/oC,KAAK8tB,mBAAqB57B,KAAK47B,mBACvC57B,KAAK62C,GAAG/oC,KAAK+tB,cAAgB77B,KAAK67B,cAClC77B,KAAK62C,GAAG/oC,KAAK6tB,aAAe37B,KAAK27B,aACjC37B,KAAK62C,GAAG/oC,KAAK6gC,iBAAmB3uC,KAAK2uC,iBACrC3uC,KAAK62C,GAAG/oC,KAAKguB,YAAc97B,KAAK87B,YAC5B97B,KAAKi8C,aAOL,OANAj8C,KAAKi8C,cAAe,EACpBj8C,KAAK62C,GAAG/oC,KAAKsyC,YAAYpgD,KAAKsY,OAC9BtY,KAAK62C,GAAG/oC,KAAKsR,OAAOpf,KAAKqnC,YAAYrnC,KAAK62C,GAAGxyC,SAASjH,QACtD4C,KAAK62C,GAAG+I,SAAS7T,QAAU/rC,KAAK62C,GAAG/oC,KAAKgoC,uBACxC91C,KAAK62C,GAAGkJ,aAAaM,SAASrgD,KAAK62C,GAAG/oC,KAAKwyC,mBAC3CtgD,KAAK62C,GAAGpF,MAAM4O,SAASrgD,KAAK62C,GAAG/oC,KAAKkoC,mBAC5Bh2C,KAAK28C,iBACT,KAAKxV,EAAAA,GAAAA,KACDnnC,KAAK28C,gBAAkBxV,EAAAA,GAAAA,MACvB,MACJ,KAAKA,EAAAA,GAAAA,OACDnnC,KAAK62C,GAAG/oC,KAAKuW,MAAMiqB,GAAoBoE,QACvC1yC,KAAK28C,gBAAkBxV,EAAAA,GAAAA,MACvB,MACJ,KAAKA,EAAAA,GAAAA,KACDnnC,KAAK62C,GAAG/oC,KAAKuW,MAAMiqB,GAAoBwE,MACvC9yC,KAAK28C,gBAAkBxV,EAAAA,GAAAA,MACvB,MACJ,QACInnC,KAAK+9C,iBAIb/9C,KAAK62C,GAAG/yC,UAAU2a,UAAUuI,SAAS,uBAAyBhnB,KAAKk+C,gBAC/Dl+C,KAAKk+C,cACLl+C,KAAK62C,GAAG/oC,KAAK8wC,aAGb5+C,KAAK+9C,kBAGT/9C,KAAK88C,qBACL98C,KAAK88C,oBAAqB,EAC1B98C,KAAK+8C,qBAAuB/8C,KAAK68C,aACjC78C,KAAK62C,GAAG/oC,KAAKyyC,mBAAmBvgD,KAAKy9B,aACjCz9B,KAAK+8C,uBAAyB/8C,KAAK68C,eACnC78C,KAAK+8C,qBAAuB,OAGhC/8C,KAAKk9C,uBACLl9C,KAAKk9C,sBAAuB,EAC5Bl9C,KAAKm9C,uBAAyBn9C,KAAKi9C,eAC/Bj9C,KAAKk+C,cACLl+C,KAAK62C,GAAG/oC,KAAK0yC,mBAAmBxgD,KAAK2+B,eAGrC3+B,KAAK62C,GAAG/oC,KAAKkxC,oBAAoBh/C,KAAK2+B,eAEtC3+B,KAAKm9C,yBAA2Bn9C,KAAKi9C,iBACrCj9C,KAAKm9C,uBAAyB,OAGtCn9C,KAAK62C,GAAGoJ,aAAahsC,MAAQjU,KAAKygD,aAAe,GACjDzgD,KAAK62C,GAAGoJ,aAAa/8C,QAAQ0qB,MAAQ5tB,KAAK0gD,aAAe,GACzD1gD,KAAK62C,GAAG8J,0BAAyB,GAC5BhB,EAAat7C,WAGdrE,KAAK62C,GAAG/oC,KAAK4lC,WAET1zC,KAAKk+C,eACLl+C,KAAK62C,GAAG/oC,KAAKuW,MAAMiqB,GAAoBqE,QAI3C3yC,KAAKggC,qBACLhgC,KAAKsxC,UAAYmO,EAjHrB,CAmHJ,KAAC/D,CAAA,CAhiBU,CAAS9E,IAkiBxB8E,GAAUyE,oBAAqBr+C,EAAAA,EAAAA,IAAS,0BAA2B,gCAAgC,IAC7F8+C,GAAQ,SAAAC,IAAAl9C,EAAAA,EAAAA,GAAAi9C,EAAAC,GAAA,IAAA57B,GAAAphB,EAAAA,EAAAA,GAAA+8C,GACV,SAAAA,IAAc,IAAA3jC,EAQuC,OARvCld,EAAAA,EAAAA,GAAA,KAAA6gD,IACV3jC,EAAAgI,EAAA5oB,MAAA,KAAS6E,YACJi5B,OAAS,GACdld,EAAKsgC,uBAAwB,EAC7BtgC,EAAK6jC,WAAY,EACjB7jC,EAAK8jC,wBAA0B9jC,EAAK9Y,UAAU,IAAIyM,EAAAA,IAClDqM,EAAK6+B,mBAAqB7+B,EAAK9Y,UAAU,IAAIyM,EAAAA,IAC7CqM,EAAKwhB,iBAAmBxhB,EAAK8jC,wBAAwBxuC,MACrD0K,EAAKyhB,YAAczhB,EAAK6+B,mBAAmBvpC,MAAM0K,CACrD,CA6DC,OA7DA9c,EAAAA,EAAAA,GAAAygD,EAAA,EAAAxgD,IAAA,QAAA0G,IACD,WACI,OAAO9G,KAAKm6B,MAChB,EAACt6B,IACD,SAAUzC,GACN4C,KAAKm6B,OAAS/8B,GAAS,GACvB4C,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,cAAA0G,IACD,WACI,OAAO9G,KAAKi+C,YAChB,EAACp+C,IACD,SAAgBinC,GACZ9mC,KAAKi+C,aAAenX,EACpB9mC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,WAAA0G,IACD,WACI,OAAO9G,KAAK8gD,SAChB,EAACjhD,IACD,SAAa4pC,GACTzpC,KAAK8gD,UAAYrX,EACjBzpC,KAAK63C,QACT,GAAC,CAAAz3C,IAAA,OAAAhD,MACD,WAAO,IAAAkqB,EAAA,KACEtnB,KAAK82C,UACN92C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAGxyC,SAAS4kC,aAAY,SAAA7rC,GACjDA,IAAUkqB,EAAKlqB,QAGnBkqB,EAAK6S,OAAS/8B,EACdkqB,EAAKy5B,wBAAwB9vC,KAAK7T,GACtC,KACA4C,KAAK23C,mBAAmBt0C,IAAIrD,KAAK62C,GAAGnY,aAAY,kBAAMpX,EAAKw0B,mBAAmB7qC,MAAM,KACpFjR,KAAKu9C,uBAAwB,IAEjC9qC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAkuC,EAAAlyC,WAAA,aAAAxK,KAAA,KACJ,GAAC,CAAA9D,IAAA,SAAAhD,MACD,WACI,GAAK4C,KAAK82C,QAAV,CAGA92C,KAAK62C,GAAG/yC,UAAU2a,UAAUrD,OAAO,gBACnC,IAAMukC,EAAe,CACjB/xB,QAAS5tB,KAAK4tB,SAAW5tB,KAAK+6B,QAAU/6B,KAAKy/B,QAAQxjC,OACrDkyB,cAAenuB,KAAKmuB,eAAiBnuB,KAAK+6B,KAC1C12B,UAAU,EAAM6E,SAAS,GAE7BlJ,KAAK62C,GAAGqJ,gBAAgBP,IACxBltC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAkuC,EAAAlyC,WAAA,eAAAxK,KAAA,MACIlE,KAAK62C,GAAGxyC,SAASjH,QAAU4C,KAAK5C,QAChC4C,KAAK62C,GAAGxyC,SAASjH,MAAQ4C,KAAK5C,OAE9B4C,KAAKu9C,wBACLv9C,KAAKu9C,uBAAwB,EAC7Bv9C,KAAK62C,GAAGxyC,SAAS+kC,OAAOppC,KAAKq+C,iBAAmB,CAAErJ,MAAOh1C,KAAKq+C,gBAAgB,GAAIpJ,IAAKj1C,KAAKq+C,gBAAgB,MAE5Gr+C,KAAK62C,GAAGxyC,SAASyiC,eAAiB9mC,KAAK8mC,aAAe,MACtD9mC,KAAK62C,GAAGxyC,SAASyiC,YAAe9mC,KAAK8mC,aAAe,IAEpD9mC,KAAK62C,GAAGxyC,SAASolC,WAAazpC,KAAKypC,WACnCzpC,KAAK62C,GAAGxyC,SAASolC,SAAWzpC,KAAKypC,SApBrC,CAsBJ,KAACmX,CAAA,CAvES,CAAShK,IAyEjBoK,GAAoB,SAAAl7B,IAAAniB,EAAAA,EAAAA,GAAAq9C,EAAAl7B,GAAA,IAAAP,GAAA1hB,EAAAA,EAAAA,GAAAm9C,GACtB,SAAAA,EAAYpjD,GAAS,IAAAuqB,EAiBe,OAjBfpoB,EAAAA,EAAAA,GAAA,KAAAihD,IACjB74B,EAAA5C,EAAArhB,KAAA,OACKtG,QAAUA,EACfuqB,EAAK84B,uBAAwB,EAC7B94B,EAAKiF,SAAU,EACfjF,EAAK2zB,mBAAqB3zB,EAAKhkB,UAAU,IAAIyM,EAAAA,IAC7CuX,EAAK4zB,mBAAqB5zB,EAAKhkB,UAAU,IAAIyM,EAAAA,IAC7CuX,EAAKqvB,0BAA4BrvB,EAAKhkB,UAAU,IAAIyM,EAAAA,IACpDuX,EAAK4W,QAAU,CAAEmiB,SAAS,EAAOC,KAAK,GACtCh5B,EAAKi5B,WAAa,KAClBj5B,EAAKk5B,cAAgBl5B,EAAKhkB,UAAU,IAAIyM,EAAAA,IACxCuX,EAAKm5B,OAASn5B,EAAKk5B,cAAc9uC,MACjC4V,EAAKo5B,cAAgBp5B,EAAKhkB,UAAU,IAAIyM,EAAAA,IACxCuX,EAAKq5B,OAASr5B,EAAKo5B,cAAchvC,MACjC4V,EAAKs5B,SAAW7jD,EAAQ6jD,SACxBt5B,EAAKu5B,cAAgB9jD,EAAQkG,UAC7BqkB,EAAKvD,OAAShnB,EAAQgnB,OACtBuD,EAAKw5B,2BAA2Bx5B,CACpC,CAqeC,OAreAhoB,EAAAA,EAAAA,GAAA6gD,EAAA,EAAA5gD,IAAA,2BAAAhD,MACD,WAA2B,IAAA2rB,EAAA,KACjBvb,EAAW,SAAC5R,GACdmtB,EAAKgW,QAAQmiB,QAAUtlD,EAAEsa,SAAWta,EAAEua,QACtC4S,EAAKgW,QAAQoiB,IAAMvlD,EAAE+a,MACzB,EACA3W,KAAKmE,UAAUgkC,EAAIM,sBAAsBmZ,OAAQzZ,EAAIS,UAAUC,SAAUr7B,GAAU,IACnFxN,KAAKmE,UAAUgkC,EAAIM,sBAAsBmZ,OAAQzZ,EAAIS,UAAUwW,OAAQ5xC,GAAU,IACjFxN,KAAKmE,UAAUgkC,EAAIM,sBAAsBmZ,OAAQzZ,EAAIS,UAAUG,WAAYv7B,GAAU,GACzF,GAAC,CAAApN,IAAA,QAAAhD,MACD,WAAQ,IAAAmsB,EAAA,KACJ,GAAIvpB,KAAK62C,GACL,OAAO72C,KAAK62C,GAEhB,IAAM/yC,EAAYqkC,EAAIrQ,OAAO93B,KAAK0hD,cAAe3pB,GAAE,wCACnDj0B,EAAUk0B,UAAY,EACtBl0B,EAAU+a,MAAM+uB,QAAU,OAC1B,IAAMiU,EAAa1Z,EAAIvpB,iBAAiB9a,GAClCg+C,EAAW3Z,EAAIrQ,OAAOh0B,EAAWi0B,GAAE,0BACnCwhB,EAAgBv5C,KAAKmE,UAAU,IAAIyoC,EAAAA,EAAUkV,IACnDvI,EAAc1M,QAAQpuB,UAAUpb,IAAI,+BACpC,IAAMuqB,EAAQua,EAAIrQ,OAAOgqB,EAAU/pB,GAAE,uBAC/B2hB,EAAiB15C,KAAKmE,UAAU,IAAIyoC,EAAAA,EAAUkV,IACpDpI,EAAe7M,QAAQpuB,UAAUpb,IAAI,gCACrC,IAAM41C,EAAe9Q,EAAIrQ,OAAOh0B,EAAWi0B,GAAE,6BACvCgqB,EAAkB5Z,EAAIrQ,OAAOh0B,EAAWi0B,GAAE,wBAC1C6nB,EAAWzX,EAAIrQ,OAAOiqB,EAAiBhqB,GAAE,gCAC/C6nB,EAAS9wC,KAAO,WAChB8wC,EAAS1nB,aAAa,cAAcp2B,EAAAA,EAAAA,IAAS,sBAAuB,0BACpE9B,KAAKmE,UAAUgkC,EAAIsD,8BAA8BmU,EAAUzX,EAAIS,UAAUkD,QAAQ,SAAAlwC,GAC7E,IAAMmwC,EAAU6T,EAAS7T,QACzBj+B,EAAKk0C,qBAAqBjW,EAC9B,KACA/rC,KAAKmE,UAAUgkC,EAAIM,sBAAsBmX,EAAUzX,EAAIS,UAAU8C,OAAO,SAAA9vC,IAChEA,EAAE40C,GAAK50C,EAAE60C,IACTpsC,EAASgsC,UAEjB,KACA,IAAM6I,EAAe/Q,EAAIrQ,OAAOiqB,EAAiBhqB,GAAE,6BAC7CkqB,EAAiB9Z,EAAIrQ,OAAOiqB,EAAiBhqB,GAAE,6BAC/CmqB,EAAkB/Z,EAAIrQ,OAAOmqB,EAAgBlqB,GAAE,wBAC/C1zB,EAAWrE,KAAKmE,UAAU,IAAIikC,EAAc8Z,EAAiBliD,KAAK4kB,OAAOvgB,SAAUrE,KAAK4kB,OAAOipB,SACrGxpC,EAAS6zB,aAAa,mBAAoB,GAAF/vB,OAAKnI,KAAKyhD,SAAQ,YAC1D,IAAMU,EAAwBha,EAAIrQ,OAAOoqB,EAAiBnqB,GAAE,+BAC5DoqB,EAAsBjqB,aAAa,YAAa,UAChDiqB,EAAsBjqB,aAAa,cAAe,QAClD,IAAM6nB,EAAe,IAAIqC,EAAAA,EAAWD,EAAuB,CAAEE,aAAavgD,EAAAA,EAAAA,IAAS,CAAE1B,IAAK,0BAA2BguB,QAAS,CAAC,kKAAoK,gBAAkBpuB,KAAK4kB,OAAO09B,YAC3TC,EAAiBpa,EAAIrQ,OAAOoqB,EAAiBnqB,GAAE,uBACrDwqB,EAAerqB,aAAa,YAAa,UACzC,IAAMuZ,EAAQ,IAAI2Q,EAAAA,EAAWG,EAAgB,CAAEF,aAAavgD,EAAAA,EAAAA,IAAS,CAAE1B,IAAK,2BAA4BguB,QAAS,CAAC,kHAAoH,iBAAmBpuB,KAAK4kB,OAAO09B,YAC/PE,EAAcra,EAAIrQ,OAAOiqB,EAAiBhqB,GAAE,wBAC5CioB,EAAK,IAAIyC,EAAAA,EAAOD,EAAaxiD,KAAK4kB,OAAOkC,QAC/Ck5B,EAAG/rC,OAAQnS,EAAAA,EAAAA,IAAS,KAAM,MAC1B9B,KAAKmE,UAAU67C,EAAG0C,YAAW,SAAA9mD,GACzB2tB,EAAKuyB,mBAAmB7qC,MAC5B,KACA,IAAM0xC,EAAwBxa,EAAIrQ,OAAOiqB,EAAiBhqB,GAAE,wBACtDkoB,EAAe,IAAIwC,EAAAA,EAAOE,EAAuB3iD,KAAK4kB,OAAOkC,QACnEm5B,EAAahsC,OAAQnS,EAAAA,EAAAA,IAAS,SAAU,UACxC9B,KAAKmE,UAAU87C,EAAayC,YAAW,SAAA9mD,GACnC2tB,EAAKwyB,mBAAmB9qC,MAC5B,KACA,IAAM/H,EAAUi/B,EAAIrQ,OAAOmqB,EAAgBlqB,GAAE,IAAD5vB,OAAKnI,KAAKyhD,SAAQ,iCACxDpI,EAAc,IAAIuJ,EAAAA,EAAY9+C,EAAW9D,KAAK4kB,OAAOy0B,aAC3DA,EAAYwJ,eAAepkC,UAAUpb,IAAI,wBACzC,IAAMyK,EAAO9N,KAAKmE,UAAU,IAAIqqC,GAAe1qC,EAAW9D,KAAKyhD,SAAW,OAAQzhD,KAAKpC,UACvFoC,KAAKmE,UAAU2J,EAAKghC,4BAA2B,SAAA/C,GAC3C6T,EAAS7T,QAAUA,CACvB,KACA/rC,KAAKmE,UAAU2J,EAAKohC,uBAAsB,SAAAjuC,GACtC8+C,EAAaM,SAASp/C,EAC1B,KACAjB,KAAKmE,UAAU2J,EAAKkhC,uBAAsB,SAAA/tC,GACtCwwC,EAAM4O,SAASp/C,EACnB,KACAjB,KAAKmE,UAAU2J,EAAK6hC,SAAQ,WAExBmT,YAAW,WACPz+C,EAASgsC,WACL9mB,EAAK63B,sBAAsB1F,IAAanyB,EAAK63B,WAAWlD,eACxDpwC,EAAK8wC,YAEb,GAAG,EACP,KACA5+C,KAAKmE,UAAU2J,EAAK0W,kBAAiB,WAC7B+E,EAAK03B,uBACL13B,EAAKw5B,QAAQ1+C,SAAS6zB,aAAa,wBAAyB3O,EAAKw5B,QAAQj1C,KAAKk1C,uBAAyB,GAE/G,KACA,IAAMC,EAAe9a,EAAI+a,WAAWp/C,GAoGpC,OAnGA9D,KAAKmE,UAAU8+C,GACfjjD,KAAKmE,UAAUgkC,EAAIM,sBAAsB3kC,EAAWqkC,EAAIS,UAAUua,OAAO,SAAAvnD,GACrE2tB,EAAK65B,qBAAuBxnD,EAAEs1C,yBAAyBmS,YAAcznD,EAAEs1C,mBAAgB/uC,CAC3F,IAAG,IACHnC,KAAKmE,UAAU8+C,EAAahgD,WAAU,WAC7BsmB,EAAKw5B,QAAQ5K,gBAAmB5uB,EAAK3rB,QAAQu6C,kBAC9C5uB,EAAKuV,KAAK8Z,EAAAA,GAAAA,MAEdrvB,EAAK65B,0BAAuBjhD,CAChC,KACAnC,KAAKmE,UAAUgkC,EAAIM,sBAAsB3kC,EAAWqkC,EAAIS,UAAUua,OAAO,SAACvnD,GACtEyI,EAASgsC,UACb,KACArwC,KAAKmE,UAAUgkC,EAAIM,sBAAsB3kC,EAAWqkC,EAAIS,UAAUC,UAAU,SAACjtC,GACzE,IAAM2W,EAAQ,IAAIgmB,EAAAA,EAAsB38B,GACxC,OAAQ2W,EAAM6D,SACV,KAAK,EACD+xB,EAAIvP,YAAYluB,KAAK9O,GAAG,GACpB2tB,EAAK6D,SACL7D,EAAKuyB,mBAAmB7qC,OAE5B,MACJ,KAAK,EACDk3B,EAAIvP,YAAYluB,KAAK9O,GAAG,GACxB2tB,EAAKuV,KAAK8Z,EAAAA,GAAAA,SACV,MACJ,KAAK,EACD,IAAKrmC,EAAMoE,SAAWpE,EAAM2D,UAAY3D,EAAM4D,QAAS,CACnD,IAAMmtC,EAAY,CAAC,yBACfx/C,EAAU2a,UAAUuI,SAAS,mBAC7Bs8B,EAAUlnD,KAAK,SAGfknD,EAAUlnD,KAAK,oBAEfmtB,EAAKw5B,QAAQj1C,KAAKy1C,eAClBD,EAAUlnD,KAAK,gBAGfmtB,EAAKw5B,QAAQ75C,SACbo6C,EAAUlnD,KAAK,0BAEnB,IAAMonD,EAAQ1/C,EAAU2/C,iBAAiBH,EAAUj7C,KAAK,OACpDkK,EAAMkE,UAAYlE,EAAMzR,SAAW0iD,EAAM,IACzCrb,EAAIvP,YAAYluB,KAAK9O,GAAG,GACxB4nD,EAAMA,EAAMvnD,OAAS,GAAGooB,SAElB9R,EAAMkE,UAAYlE,EAAMzR,SAAW0iD,EAAMA,EAAMvnD,OAAS,KAC9DksC,EAAIvP,YAAYluB,KAAK9O,GAAG,GACxB4nD,EAAM,GAAGn/B,QAEjB,CACA,MACJ,KAAK,GACG9R,EAAM2D,UACNiyB,EAAIvP,YAAYluB,KAAK9O,GAAG,GACxB2tB,EAAKw5B,QAAQj1C,KAAK41C,eAIlC,KACA1jD,KAAK62C,GAAK,CACN/yC,UAAAA,EACA+9C,WAAAA,EACAtI,cAAAA,EACAuI,SAAAA,EACAl0B,MAAAA,EACAqrB,aAAAA,EACAC,aAAAA,EACAQ,eAAAA,EACAkG,SAAAA,EACAsC,gBAAAA,EACA79C,SAAAA,EACA89C,sBAAAA,EACApC,aAAAA,EACAwC,eAAAA,EACA9Q,MAAAA,EACA+Q,YAAAA,EACAxC,GAAAA,EACA92C,QAAAA,EACAy5C,sBAAAA,EACA1C,aAAAA,EACAnyC,KAAAA,EACAurC,YAAAA,EACA3a,YAAa1+B,KAAK87C,mBAAmBvpC,MACrCusC,YAAa9+C,KAAK+7C,mBAAmBxpC,MACrCimC,mBAAoBx4C,KAAKw3C,0BAA0BjlC,MACnD4lC,gBAAgB,EAChBpZ,QAAS/+B,KAAK++B,QACd6d,wBAAyB,kBAAMrzB,EAAK3rB,QAAQg/C,yBAAyB,EACrE5X,KAAM,SAAAoc,GAAU,OAAI73B,EAAKyb,KAAKoc,EAAW,EACzCtiB,KAAM,kBAAMvV,EAAKuV,MAAM,EACvBohB,gBAAiB,SAAAP,GAAY,OAAIp2B,EAAK22B,gBAAgBP,EAAa,EACnEgB,yBAA0B,SAAAvzB,GAAO,OAAI7D,EAAKo3B,yBAAyBvzB,EAAQ,EAC3E2sB,WAAY,SAAA3sB,GAAO,OAAI7D,EAAKwwB,WAAW3sB,EAAQ,EAC/C4sB,cAAe,SAAA5S,GAAU,OAAI7d,EAAK3rB,QAAQo8C,cAAc5S,EAAW,EACnE4M,mBAAoB,SAAA/J,GAAO,OAAI1gB,EAAK3rB,QAAQo2C,mBAAmB/J,EAAQ,GAE3EjqC,KAAKikB,eACEjkB,KAAK62C,EAChB,GAAC,CAAAz2C,IAAA,OAAAhD,MACD,SAAKg+B,GAAqD,IAAAvR,EAAA,KAA9CjsB,EAAOsD,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGs6B,EAAKt6B,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAGyiD,EAAAA,EAAAA,KAC9B,OAAO,IAAI/oB,SAAQ,SAACgpB,EAAW/oB,GAC3B,IAAI9mB,EAAU,SAAC3J,GACX,IAAIvO,EACJkY,EAAU6vC,EACmB,QAA5B/nD,EAAK+B,EAAQimD,iBAA8B,IAAPhoD,GAAyBA,EAAGqI,KAAKtG,EAASkmD,EAAM/kB,SACrF6kB,EAAUx5C,EACd,EACA,GAAIoxB,EAAMsC,wBACN/pB,OAAQ5R,OADZ,CAIA,IACIm7B,EADEwmB,EAAQj6B,EAAKgd,kBAEb34B,EAAc,CAChB41C,EACAA,EAAMplB,aAAY,WACd,GAAIolB,EAAM5F,cACNnqC,EAAQ+vC,EAAMnlB,cAAc9yB,SAC5Bi4C,EAAMhlB,WAEL,CACD,IAAM10B,EAAS05C,EAAMrmB,YAAY,GAC7BrzB,IACA2J,EAAQ3J,GACR05C,EAAMhlB,OAEd,CACJ,IACAglB,EAAMpG,mBAAkB,SAAAplC,GACpB,IAAMi6B,EAAUj6B,EAAM,GAClBi6B,GAAW30C,EAAQoF,YACnBpF,EAAQoF,WAAWuvC,EAE3B,IACAuR,EAAM3/B,sBAAqB,SAAA7L,GACvB,IAAKwrC,EAAM5F,cAAe,CACtB,IAAM9zC,EAASkO,EAAM,GACjBlO,IACA2J,EAAQ3J,GACR05C,EAAMhlB,OAEd,CACJ,IACAglB,EAAM9kB,wBAAuB,SAAAzsB,GAAK,OAAI3U,EAAQohC,wBAA0BphC,EAAQohC,uBAAuB59B,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGzP,GAAQ,CAAEwxC,WAAY,WACrJ,IAAMh9C,EAAQ+8C,EAAMxrC,MAAMjb,QAAQkV,EAAM3F,MACxC,IAAe,IAAX7F,EAAc,CACd,IAAMuR,EAAQwrC,EAAMxrC,MAAMzM,QACpBwzB,EAAU/mB,EAAM/U,OAAOwD,EAAO,GAC9B02B,EAAcqmB,EAAMrmB,YAAYre,QAAO,SAAAke,GAAU,OAAIA,IAAe+B,EAAQ,EAAE,IAC9EC,EAA2BwkB,EAAM9jB,mBACvC8jB,EAAM9jB,oBAAqB,EAC3B8jB,EAAMxrC,MAAQA,EACVmlB,IACAqmB,EAAMrmB,YAAcA,GAExBqmB,EAAM9jB,mBAAqBV,CAC/B,CACJ,IAAK,IACTwkB,EAAMnG,6BAA4B,SAAAprC,GAAW,IAAI1W,EAAI,OAAsD,QAA9CA,EAAK+B,EAAQ+/C,mCAAgD,IAAP9hD,OAAgB,EAASA,EAAGqI,KAAKtG,EAAS2U,EAAQ,IACrKuxC,EAAMrlB,kBAAiB,SAAArhC,IACfkgC,GAAelgC,GAAuC,IAA7B0mD,EAAMrmB,YAAYxhC,QAAgB6nD,EAAMrmB,YAAY,KAAOH,IACpFwmB,EAAMrmB,YAAc,CAACH,GAE7B,IACA9B,EAAMwoB,yBAAwB,WAC1BF,EAAMhlB,MACV,IACAglB,EAAM/b,WAAU,YACZvkC,EAAAA,EAAAA,IAAQ0K,GACR6F,OAAQ5R,EACZ,KAEJ2hD,EAAMl2B,MAAQhwB,EAAQgwB,MACtBk2B,EAAM5F,gBAAkBtgD,EAAQqmD,YAChCH,EAAMhd,YAAclpC,EAAQsmD,YAC5BJ,EAAM3L,iBAAmBv6C,EAAQumD,gBACjCL,EAAMloB,qBAAuBh+B,EAAQg+B,mBACrCkoB,EAAMjoB,gBAAkBj+B,EAAQi+B,cAChCioB,EAAMnoB,kBAAyCx5B,IAAzBvE,EAAQ+9B,cAA+B/9B,EAAQ+9B,aACrEmoB,EAAM3F,qBAA+Ch8C,IAA5BvE,EAAQugD,iBAAkCvgD,EAAQugD,gBAC3E2F,EAAM/c,cAAgBnpC,EAAQmpC,cAC9B+c,EAAM7c,YAAcrpC,EAAQqpC,UAC5B6c,EAAM1c,WAAaxpC,EAAQwpC,WAC3B0c,EAAM7mB,MAAO,EACbrC,QAAQ7qB,IAAI,CAACqrB,EAAOx9B,EAAQ0/B,aACvBvnB,MAAK,SAAAquC,GAA0B,IAAAC,GAAAn8C,EAAAA,EAAAA,GAAAk8C,EAAA,GAAxB9rC,EAAK+rC,EAAA,GAAEC,EAAWD,EAAA,GAC1B/mB,EAAagnB,EACbR,EAAM7mB,MAAO,EACb6mB,EAAMxrC,MAAQA,EACVwrC,EAAM5F,gBACN4F,EAAMnlB,cAAgBrmB,EAAM8G,QAAO,SAAAxS,GAAI,MAAkB,cAAdA,EAAKkC,MAAwBlC,EAAK23C,MAAM,KAEnFjnB,IACAwmB,EAAMrmB,YAAc,CAACH,GAE7B,IACAwmB,EAAM9e,OACNpK,QAAQ7mB,QAAQqnB,GAAOrlB,UAAK5T,GAAW,SAAAtE,GACnCg9B,EAAOh9B,GACPimD,EAAMhlB,MACV,GA1FA,CA2FJ,GACJ,GAAC,CAAA1+B,IAAA,kBAAAhD,MACD,WACI,IAAMy5C,EAAK72C,KAAK+iD,QAChB,OAAO,IAAIrH,GAAU7E,EACzB,GAAC,CAAAz2C,IAAA,iBAAAhD,MACD,WACI,IAAMy5C,EAAK72C,KAAK+iD,QAChB,OAAO,IAAInC,GAAS/J,EACxB,GAAC,CAAAz2C,IAAA,OAAAhD,MACD,SAAKgkD,GACD,IAAMvK,EAAK72C,KAAK+iD,QAChB/iD,KAAKqhD,cAAcpwC,OACnB,IAAMuzC,EAAgBxkD,KAAKohD,WAC3BphD,KAAKohD,WAAaA,EACA,OAAlBoD,QAA4C,IAAlBA,GAAoCA,EAAcC,UAC5EzkD,KAAK+5C,YAAW,GAChBlD,EAAG0C,cAAc9rC,QACjBopC,EAAGjpB,MAAM+f,YAAc,GACvBkJ,EAAGoC,aAAatL,YAAc,GAC9BkJ,EAAGqC,aAAavL,YAAc,GAC9BkJ,EAAG6C,eAAejsC,QAClBopC,EAAG+I,SAAS7T,SAAU,EAEtB8K,EAAGxyC,SAASyiC,YAAc,GAC1B+P,EAAGxyC,SAASolC,UAAW,EACvBoN,EAAGxyC,SAAS82C,eAAetkB,EAAAA,EAAAA,QAC3BggB,EAAGkJ,aAAaM,SAAS,GACzBxJ,EAAGpF,MAAM4O,SAAS,GAClBlY,EAAI8R,MAAMpD,EAAG3tC,SACb2tC,EAAGwC,YAAY3uC,OACfmsC,EAAG/oC,KAAKsyC,YAAY,IACpBvJ,EAAG/oC,KAAK8tB,oBAAqB,EAC7Bib,EAAG/oC,KAAK+tB,eAAgB,EACxBgb,EAAG/oC,KAAK6tB,cAAe,EACvBkb,EAAG/oC,KAAKguB,aAAc,EACtB+a,EAAGsB,gBAAiB,EACpBn4C,KAAK2gD,0BAAyB,GAC9B9J,EAAGxyC,SAASk+B,UAAY,GACxBsU,EAAGxyC,SAASslC,aAAUxnC,EACtB,IAAMuiD,EAAsB1kD,KAAKpC,QAAQ8mD,sBACzClO,GAAWvI,QAAUyW,GAAsB5iD,EAAAA,EAAAA,IAAS,gCAAiC,aAAc4iD,IAAuB5iD,EAAAA,EAAAA,IAAS,kBAAmB,QACtJ+0C,EAAG/yC,UAAU+a,MAAM+uB,QAAU,GAC7B5tC,KAAK2kD,eACL9N,EAAGxyC,SAASgsC,UAChB,GAAC,CAAAjwC,IAAA,kBAAAhD,MACD,SAAgBuiD,GACZ,IAAM9I,EAAK72C,KAAK+iD,QAChBlM,EAAGjpB,MAAM/O,MAAM+uB,QAAU+R,EAAa/xB,MAAQ,GAAK,OACnDipB,EAAGoC,aAAap6B,MAAM+uB,QAAU+R,EAAaxxB,cAAgBwxB,EAAat7C,UAAYs7C,EAAaC,UAAY,GAAK,OACpH/I,EAAGqC,aAAar6B,MAAM+uB,SAAU+R,EAAaxxB,aAAiBwxB,EAAat7C,UAAYs7C,EAAaC,SAAiB,OAAL,GAChH/I,EAAG+I,SAAS/gC,MAAM+uB,QAAU+R,EAAaC,SAAW,GAAK,OACzD/I,EAAGqL,gBAAgBrjC,MAAM+uB,QAAU+R,EAAat7C,SAAW,GAAK,OAChEwyC,EAAGsL,sBAAsBtjC,MAAM+uB,QAAU+R,EAAaI,aAAe,GAAK,OAC1ElJ,EAAG0L,eAAe1jC,MAAM+uB,QAAU+R,EAAalO,MAAQ,GAAK,OAC5DoF,EAAG2L,YAAY3jC,MAAM+uB,QAAU+R,EAAaK,GAAK,GAAK,OACtDnJ,EAAG8L,sBAAsB9jC,MAAM+uB,QAAU+R,EAAaM,aAAe,GAAK,OAC1EpJ,EAAG3tC,QAAQ2V,MAAM+uB,QAAU+R,EAAaz2C,QAAU,GAAK,OACvD2tC,EAAGwC,YAAYwJ,eAAehkC,MAAM+uB,QAAU+R,EAAatG,YAAc,GAAK,OAC9ExC,EAAG/oC,KAAK8/B,UAAU+R,EAAa7xC,MAC/B+oC,EAAG/yC,UAAU2a,UAAUovB,OAAO,oBAAqB8R,EAAaG,UAChEjJ,EAAG/yC,UAAU2a,UAAUovB,OAAO,gBAAiB8R,EAAat7C,WAAas7C,EAAaxxB,aACtFnuB,KAAK2kD,cACT,GAAC,CAAAvkD,IAAA,2BAAAhD,MACD,SAAyBgwB,GACrB,GAAIA,IAAYptB,KAAKihD,sBAAuB,CACxC,IAAMpK,EAAK72C,KAAK+iD,QAChB/iD,KAAKihD,sBAAwB7zB,EACzBptB,KAAKihD,uBACLpK,EAAGxyC,SAAS6zB,aAAa,OAAQ,YACjC2e,EAAGxyC,SAAS6zB,aAAa,gBAAiB,QAC1C2e,EAAGxyC,SAAS6zB,aAAa,oBAAqB,QAC9C2e,EAAGxyC,SAAS6zB,aAAa,wBAAyB2e,EAAG/oC,KAAKk1C,uBAAyB,MAGnFnM,EAAGxyC,SAASwlC,gBAAgB,QAC5BgN,EAAGxyC,SAASwlC,gBAAgB,iBAC5BgN,EAAGxyC,SAASwlC,gBAAgB,qBAC5BgN,EAAGxyC,SAASwlC,gBAAgB,yBAEpC,CACJ,GAAC,CAAAzpC,IAAA,aAAAhD,MACD,SAAWgwB,GACP,GAAIA,IAAYptB,KAAKotB,QAAS,CAC1BptB,KAAKotB,QAAUA,EAAQ,IACgC7uB,EADhCE,GAAA1B,EAAAA,EAAAA,GACJiD,KAAK+iD,QAAQxJ,cAAcqL,WAAS,IAAvD,IAAAnmD,EAAAzB,MAAAuB,EAAAE,EAAAxB,KAAAC,MAAyD,CAA1CqB,EAAAnB,MACNgiC,OAAOhS,QAAUA,CAC1B,CAAC,OAAAvvB,GAAAY,EAAA7C,EAAAiC,EAAA,SAAAY,EAAAX,GAAA,KACuDa,EADvDM,GAAAlC,EAAAA,EAAAA,GACkBiD,KAAK+iD,QAAQrJ,eAAekL,WAAS,IAAxD,IAAA3lD,EAAAjC,MAAA2B,EAAAM,EAAAhC,KAAAC,MAA0D,CAA3CyB,EAAAvB,MACNgiC,OAAOhS,QAAUA,CAC1B,CAAC,OAAAvvB,GAAAoB,EAAArD,EAAAiC,EAAA,SAAAoB,EAAAnB,GAAA,CACDkC,KAAK+iD,QAAQnD,SAASiF,UAAYz3B,EAClCptB,KAAK+iD,QAAQ1+C,SAAS+oB,QAAUA,EAChCptB,KAAK+iD,QAAQ/C,GAAG5yB,QAAUA,EAC1BptB,KAAK+iD,QAAQj1C,KAAKsf,QAAUA,CAChC,CACJ,GAAC,CAAAhtB,IAAA,OAAAhD,MACD,SAAKu7C,GACD,IAAI98C,EACEulD,EAAaphD,KAAKohD,WACxB,GAAIA,EAAY,CACZ,IAAM0D,IAAoC,QAAlBjpD,EAAKmE,KAAK62C,UAAuB,IAAPh7C,OAAgB,EAASA,EAAGiI,UAAUkjB,SAAS7jB,SAASC,gBAI1G,GAHApD,KAAKohD,WAAa,KAClBphD,KAAKuhD,cAActwC,OACnBjR,KAAK+iD,QAAQj/C,UAAU+a,MAAM+uB,QAAU,QAClCkX,EAAc,CAEf,IADA,IAAIC,EAAiB/kD,KAAKojD,qBACnB2B,IAAmBA,EAAenZ,cACrCmZ,GAAiBtjB,EAAAA,EAAAA,IAAoBsjB,EAAerD,gBAEjC,OAAnBqD,QAA8C,IAAnBA,OAA4B,EAASA,EAAenZ,eAC/EmZ,EAAe1gC,QACfrkB,KAAKojD,0BAAuBjhD,GAG5BnC,KAAKpC,QAAQonD,aAErB,CACA5D,EAAWqD,QAAQ9L,EACvB,CACJ,GAAC,CAAAv4C,IAAA,SAAAhD,MACD,SAAO6nD,EAAWC,GACdllD,KAAKilD,UAAYA,EACjBjlD,KAAKklD,eAAiBA,EACtBllD,KAAK2kD,cACT,GAAC,CAAAvkD,IAAA,eAAAhD,MACD,WACI,GAAI4C,KAAK62C,IAAM72C,KAAKujD,cAAe,CAC/BvjD,KAAK62C,GAAG/yC,UAAU+a,MAAMsmC,IAAM,GAAHh9C,OAAMnI,KAAKklD,eAAc,MACpD,IAAMrmC,EAAQ7e,KAAK62C,GAAG/yC,UAAU+a,MAC1BumC,EAAQhR,KAAKiR,IAA2B,IAAvBrlD,KAAKilD,UAAUG,MAA+BpE,EAAqBsE,WAC1FzmC,EAAMumC,MAAQA,EAAQ,KACtBvmC,EAAM0mC,WAAa,IAAOH,EAAQ,EAAK,KACvCplD,KAAK62C,GAAGxyC,SAAS8lC,SACjBnqC,KAAK62C,GAAG/oC,KAAKq8B,OAAOnqC,KAAKilD,WAAqC,GAAxBjlD,KAAKilD,UAAUO,OACzD,CACJ,GAAC,CAAAplD,IAAA,cAAAhD,MACD,SAAYwnB,GACR5kB,KAAK4kB,OAASA,EACd5kB,KAAKikB,cACT,GAAC,CAAA7jB,IAAA,eAAAhD,MACD,WACI,GAAI4C,KAAK62C,GAAI,CACT,IAAA4O,EAA+GzlD,KAAK4kB,OAAOriB,OAAnHmjD,EAAyBD,EAAzBC,0BAA2BC,EAAoBF,EAApBE,qBAAsBC,EAAoBH,EAApBG,qBAAsBC,EAAYJ,EAAZI,aAAcC,EAAYL,EAAZK,aAC7F9lD,KAAK62C,GAAGiL,SAASjjC,MAAMy8B,gBAAgD,OAA9BoK,QAAoE,IAA9BA,EAAuCA,EAA4B,GAClJ1lD,KAAK62C,GAAG/yC,UAAU+a,MAAMy8B,gBAA2C,OAAzBqK,QAA0D,IAAzBA,EAAkCA,EAAuB,GACpI3lD,KAAK62C,GAAG/yC,UAAU+a,MAAMu8B,MAAiC,OAAzBwK,QAA0D,IAAzBA,EAAkCA,EAAuB,GAC1H5lD,KAAK62C,GAAG/yC,UAAU+a,MAAM28B,OAASqK,EAAe,aAAH19C,OAAgB09C,GAAiB,GAC9E7lD,KAAK62C,GAAG/yC,UAAU+a,MAAMknC,UAAYD,EAAe,eAAH39C,OAAkB29C,GAAiB,GACnF9lD,KAAK62C,GAAG/oC,KAAK+Q,MAAM7e,KAAK4kB,OAAO9W,MAC/B,IAAMm8B,EAAU,GACZjqC,KAAK4kB,OAAOohC,YAAYC,mBACxBhc,EAAQ7tC,KAAK,kEAAD+L,OAAmEnI,KAAK4kB,OAAOohC,YAAYC,kBAAiB,QAExHjmD,KAAK4kB,OAAOohC,YAAYE,uBACxBjc,EAAQ7tC,KAAK,2DAAD+L,OAA4DnI,KAAK4kB,OAAOohC,YAAYE,sBAAqB,QAErHlmD,KAAK4kB,OAAOohC,YAAYE,uBACxBjc,EAAQ7tC,KAAK,mEAAD+L,OAAoEnI,KAAK4kB,OAAOohC,YAAYE,sBAAqB,SAE7HlmD,KAAK4kB,OAAOuhC,gBAAgBC,2BAC5BpmD,KAAK4kB,OAAOuhC,gBAAgBE,uBAC5BrmD,KAAK4kB,OAAOuhC,gBAAgBG,6BAC5BtmD,KAAK4kB,OAAOuhC,gBAAgBI,uBAC5BvmD,KAAK4kB,OAAOuhC,gBAAgBK,6BAC5Bvc,EAAQ7tC,KAAK,mEACT4D,KAAK4kB,OAAOuhC,gBAAgBC,2BAC5Bnc,EAAQ7tC,KAAK,qBAAD+L,OAAsBnI,KAAK4kB,OAAOuhC,gBAAgBC,0BAAyB,MAEvFpmD,KAAK4kB,OAAOuhC,gBAAgBE,uBAE5Bpc,EAAQ7tC,KAAK,iBAAD+L,OAAkBnI,KAAK4kB,OAAOuhC,gBAAgBE,sBAAqB,MAE/ErmD,KAAK4kB,OAAOuhC,gBAAgBG,6BAC5Brc,EAAQ7tC,KAAK,wBAAD+L,OAAyBnI,KAAK4kB,OAAOuhC,gBAAgBG,4BAA2B,MAE5FtmD,KAAK4kB,OAAOuhC,gBAAgBI,uBAC5Btc,EAAQ7tC,KAAK,8BAAD+L,OAA+BnI,KAAK4kB,OAAOuhC,gBAAgBI,sBAAqB,MAE5FvmD,KAAK4kB,OAAOuhC,gBAAgBK,2BAC5Bvc,EAAQ7tC,KAAK,UAAD+L,OAAWnI,KAAK4kB,OAAOuhC,gBAAgBK,0BAAyB,MAEhFvc,EAAQ7tC,KAAK,MAEjB,IAAMqqD,EAAYxc,EAAQ5hC,KAAK,MAC3Bo+C,IAAczmD,KAAK62C,GAAGgL,WAAWlU,cACjC3tC,KAAK62C,GAAGgL,WAAWlU,YAAc8Y,EAEzC,CACJ,GAAC,CAAArmD,IAAA,cAAAhD,MACD,WACI,OAAO4C,KAAK62C,IAA0C,SAApC72C,KAAK62C,GAAG/yC,UAAU+a,MAAM+uB,OAC9C,KAACoT,CAAA,CAxfqB,CAAS3qC,EAAAA,IA0fnC2qC,GAAqBsE,UAAY,ICh6CjC,IAAI1kD,GAA0C,SAAUC,EAAYC,EAAQV,EAAKW,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUjF,OAAQkF,EAAIF,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOK,OAAOC,yBAAyBP,EAAQV,GAAOW,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASV,EAAYC,EAAQV,EAAKW,QACpH,IAAK,IAAI9C,EAAI4C,EAAW5E,OAAS,EAAGgC,GAAK,EAAGA,KAAS+C,EAAIH,EAAW5C,MAAIkD,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEF,EAAQV,EAAKe,GAAKH,EAAEF,EAAQV,KAASe,GAChJ,OAAOF,EAAI,GAAKE,GAAKC,OAAOI,eAAeV,EAAQV,EAAKe,GAAIA,CAChE,EACIM,GAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUb,EAAQV,GAAOuB,EAAUb,EAAQV,EAAKsB,EAAa,CACxE,EAcIglD,GAAiB,SAAAC,IAAAhjD,EAAAA,EAAAA,GAAA+iD,EAAAC,GAAA,IAAA/iD,GAAAC,EAAAA,EAAAA,GAAA6iD,GAcjB,SAAAA,EAAY1jC,EAAsBhf,EAAmB4iD,EAAcC,EAAsBC,GAAe,IAAA7iD,EAQ1E,OAR0ElE,EAAAA,EAAAA,GAAA,KAAA2mD,IACpGziD,EAAAL,EAAAM,KAAA,KAAM0iD,IACD5jC,qBAAuBA,EAC5B/e,EAAKD,kBAAoBA,EACzBC,EAAK4iD,qBAAuBA,EAC5B5iD,EAAK6iD,cAAgBA,EACrB7iD,EAAK8iD,QAAU9iD,EAAKE,UAAU,IAAIyM,EAAAA,IAClC3M,EAAK+iD,QAAU/iD,EAAKE,UAAU,IAAIyM,EAAAA,IAClC3M,EAAKgjD,SAAW,IAAI/mD,IAAM+D,CAC9B,CA6GC,OA7GA9D,EAAAA,EAAAA,GAAAumD,EAAA,EAAAtmD,IAAA,aAAA0G,IAtBD,WAII,OAHK9G,KAAKknD,cACNlnD,KAAKknD,YAAclnD,KAAKmE,UAAUnE,KAAKmnD,qBAEpCnnD,KAAKknD,WAChB,GAAC,CAAA9mD,IAAA,gBAAA0G,IACD,WAAsB,QAAS9G,KAAKknD,WAAa,GAAC,CAAA9mD,IAAA,cAAA0G,IAClD,WAII,OAHK9G,KAAKonD,eACNpnD,KAAKonD,aAAepnD,KAAKmE,UAAUnE,KAAKgjB,qBAAqBwd,eAAeqF,KAEzE7lC,KAAKonD,YAChB,GAAC,CAAAhnD,IAAA,mBAAAhD,MAWD,WAAqD,IAAAuH,EAAA,KAApC0iD,EAAInmD,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAGlB,KAAK8mD,cAAelpD,EAAOsD,UAAAjF,OAAA,EAAAiF,UAAA,QAAAiB,EACzCmlD,EAAiB,CACnB7F,SAAU,cACV39C,UAAWujD,EAAKvjD,UAChBq0C,eAAgB,kBAAM,CAAK,EAC3ByE,wBAAyB,kBAAMj4C,EAAKkiD,qBAAqBjK,yBAAyB,EAClF8H,oBAAqB,WAAe,EACpC1K,cAAe,SAACt5C,GAAE,OAAKiE,EAAKq1C,cAAct5C,EAAG,EAC7CszC,mBAAoB,SAAC/J,GAEjBtlC,EAAKqe,qBAAqBG,gBAAe,SAAA7d,GACfA,EAASwB,IAAIqyB,EAAAA,IACrBL,KAAKmR,EAAS,CAAElR,eAAe,EAAMwuB,iBAAiB,GACxE,GACJ,EACAvC,YAAa,kBAAMqC,EAAKhjC,OAAO,EAC/B2rB,WAAY,SAACptB,EAAM9e,EAAW+e,EAAUC,EAAWllB,GAAO,OAAK+G,EAAKqe,qBAAqBwd,eAAe9d,EAAAA,GAAeE,EAAM9e,EAAW+e,EAAUC,EAAWllB,EAAQ,EACrKmzC,cAAe,CACXK,UAAS,SAACxzC,EAASymB,GAEnB,EACAuP,MAAO,KAEXhP,OAAQ5kB,KAAKwnD,iBAEXpG,EAAaphD,KAAKmE,UAAU,IAAI68C,GAAqB5/C,OAAO4gB,OAAO5gB,OAAO4gB,OAAO,CAAC,EAAGslC,GAAiB1pD,KAa5G,OAZAwjD,EAAWjX,OAAOkd,EAAKpC,UAAWoC,EAAKI,OAAOC,cAE9C1nD,KAAKmE,UAAUkjD,EAAKM,aAAY,SAAA1C,GAAS,OAAI7D,EAAWjX,OAAO8a,EAAWoC,EAAKI,OAAOC,aAAa,KAEnG1nD,KAAKmE,UAAUi9C,EAAWE,QAAO,WAC7B38C,EAAKijD,mBACLjjD,EAAKoiD,QAAQ91C,MACjB,KACAjR,KAAKmE,UAAUi9C,EAAWI,QAAO,WAC7B78C,EAAKijD,mBACLjjD,EAAKqiD,QAAQ/1C,MACjB,KACOmwC,CACX,GAAC,CAAAhhD,IAAA,gBAAAhD,MACD,SAAcsD,GACV,IAAIN,EACAM,KACAN,EAAMJ,KAAKinD,SAASngD,IAAIpG,MAEpBN,EAAM,IAAIyB,EAAAA,GAAcnB,GAAI,GACvBmC,OAAO7C,KAAKgE,mBACjBhE,KAAKinD,SAASpnD,IAAIa,EAAIN,KAG1BA,GAAOA,EAAI0G,QAGf9G,KAAK4nD,mBACG,OAARxnD,QAAwB,IAARA,GAA0BA,EAAIP,KAAI,GACtD,GAAC,CAAAO,IAAA,mBAAAhD,MACD,WACI4C,KAAKinD,SAASljB,SAAQ,SAAA/wB,GACdA,EAAQlM,OACRkM,EAAQinC,OAEhB,GACJ,GAAC,CAAA75C,IAAA,OAAAhD,MACD,SAAKg+B,GAAqD,IAA9Cx9B,EAAOsD,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGs6B,EAAKt6B,UAAAjF,OAAA,QAAAkG,IAAAjB,UAAA,GAAAA,UAAA,GAAGyiD,EAAAA,EAAAA,KAC9B,OAAO3jD,KAAKohD,WAAWlb,KAAK9K,EAAOx9B,EAAS49B,EAChD,GAAC,CAAAp7B,IAAA,kBAAAhD,MACD,WACI,OAAO4C,KAAKohD,WAAWva,iBAC3B,GAAC,CAAAzmC,IAAA,iBAAAhD,MACD,WACI,OAAO4C,KAAKohD,WAAWyG,gBAC3B,GAAC,CAAAznD,IAAA,eAAAhD,MACD,WACQ4C,KAAK8nD,eACL9nD,KAAKohD,WAAW2G,YAAY/nD,KAAKwnD,gBAEzC,GAAC,CAAApnD,IAAA,gBAAAhD,MACD,WACI,MAAO,CACHmF,OAAQ,CACJojD,sBAAsBqC,EAAAA,EAAAA,KAAcrC,EAAAA,KACpCC,sBAAsBoC,EAAAA,EAAAA,KAAcpC,EAAAA,KACpCF,2BAA2BsC,EAAAA,EAAAA,KAActC,EAAAA,KACzCG,cAAcmC,EAAAA,EAAAA,KAAcnC,EAAAA,KAC5BC,cAAckC,EAAAA,EAAAA,KAAclC,EAAAA,KAEhCzhD,SAAU4jD,EAAAA,GACVpa,OAAQqa,EAAAA,GACR5F,WAAY6F,EAAAA,GACZrhC,OAAQshC,EAAAA,GACR/O,YAAagP,EAAAA,GACblC,gBAAiBmC,EAAAA,GACjBx6C,MAAM+W,EAAAA,EAAAA,IAAc,CAChB0jC,eAAgB5C,EAAAA,IAChB6C,oBAAqBC,EAAAA,IACrBC,oBAAqBC,EAAAA,IAErBC,4BAA6BD,EAAAA,IAC7BE,oCAAqCC,EAAAA,IACrCC,4BAA6BN,EAAAA,IAC7BO,iBAAkBC,EAAAA,IAClBC,yBAA0BD,EAAAA,MAE9BjD,YAAa,CACTC,mBAAmB+B,EAAAA,EAAAA,KAAc/B,EAAAA,KACjCC,uBAAuB8B,EAAAA,EAAAA,KAAc9B,EAAAA,MAGjD,KAACQ,CAAA,CApIgB,CAAmCyC,EAAAA,IAsIxDzC,GAAoB9lD,GAAW,CAC3Ba,GAAQ,EAAGmF,EAAAA,IACXnF,GAAQ,EAAG8C,EAAAA,IACX9C,GAAQ,EAAG2nD,EAAAA,IACX3nD,GAAQ,EAAG4nD,EAAAA,GACX5nD,GAAQ,EAAGyc,EAAAA,IACZwoC,G,qFC/JQ9f,E,iEACX,SAAWA,GAIPA,EAA8BA,EAAwC,SAAI,GAAK,WAI/EA,EAA8BA,EAAoC,KAAI,GAAK,MAC9E,CATD,CASGA,IAAkCA,EAAgC,CAAC,IAC/D,IAAM9nC,EAAa,CACtBwqD,YAAa,uCAEJC,EAAmB,WAC5B,SAAAA,KAAcxpD,EAAAA,EAAAA,GAAA,KAAAwpD,GACVvpD,KAAKwpD,UAAY,GACjBxpD,KAAKypD,qBAAkBtnD,CAC3B,CAyBC,OAzBAhC,EAAAA,EAAAA,GAAAopD,EAAA,EAAAnpD,IAAA,8BAAAhD,MACD,SAA4BooC,GAAU,IAAAvhC,EAAA,KAWlC,OAT+B,IAA3BuhC,EAAS91B,OAAOzT,OAChB+D,KAAKypD,gBAAkBjkB,EAGvBxlC,KAAKwpD,UAAUptD,KAAKopC,GAIxBxlC,KAAKwpD,UAAUv+C,MAAK,SAACo6B,EAAWC,GAAS,OAAKA,EAAU51B,OAAOzT,OAASopC,EAAU31B,OAAOzT,MAAM,KACxFqH,EAAAA,EAAAA,KAAa,WAChBW,EAAKulD,UAAUjmD,OAAOU,EAAKulD,UAAUnsD,QAAQmoC,GAAW,GACpDvhC,EAAKwlD,kBAAoBjkB,IACzBvhC,EAAKwlD,qBAAkBtnD,EAE/B,GACJ,GAAC,CAAA/B,IAAA,0BAAAhD,MACD,WACI,OAAOssD,EAAAA,EAAAA,IAAS,CAAC1pD,KAAKypD,iBAAethD,QAAA7L,EAAAA,EAAAA,GAAK0D,KAAKwpD,YACnD,GAAC,CAAAppD,IAAA,yBAAAhD,MACD,SAAuBsS,GAEnB,OADeA,GAAU1P,KAAKwpD,UAAUG,MAAK,SAAAnkB,GAAQ,OAAI91B,EAAO7B,WAAW23B,EAAS91B,OAAO,UAAkBvN,GAC5FnC,KAAKypD,eAC1B,KAACF,CAAA,CA7B2B,GA+BhC1qD,EAAAA,EAAAA,IAAaC,EAAWwqD,YAAa,IAAIC,E,oIC9C9B3Q,EAeAzR,E,gCAhBEiX,EAAc,CAAE8C,SAAS,EAAOC,KAAK,IAElD,SAAWvI,GAIPA,EAAqBA,EAA2B,KAAI,GAAK,OAIzDA,EAAqBA,EAA8B,QAAI,GAAK,UAI5DA,EAAqBA,EAA4B,MAAI,GAAK,OAC7D,CAbD,CAaGA,IAAyBA,EAAuB,CAAC,IAEpD,SAAWzR,GACPA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAuB,OAAI,GAAK,SAC/CA,EAAeA,EAAqB,KAAI,GAAK,MAChD,CALD,CAKGA,IAAmBA,EAAiB,CAAC,IAMG,KALHhnC,EAAAA,EAAAA,IACpC,SAAAypD,EAAYhsD,IAASmC,EAAAA,EAAAA,GAAA,KAAA6pD,GACjB5pD,KAAKpC,QAAUA,CACnB,KAHG,IAOMgoC,GAAqBrqC,EAAAA,EAAAA,IAAgB,oB,sGCfrCsD,EAAW,IAdN,WACd,SAAAgrD,KAAc9pD,EAAAA,EAAAA,GAAA,KAAA8pD,GACV7pD,KAAKb,KAAO,IAAIe,GACpB,CASC,OATAC,EAAAA,EAAAA,GAAA0pD,EAAA,EAAAzpD,IAAA,MAAAhD,MACD,SAAIsD,EAAIvB,GACJ2qD,EAAAA,GAAUC,EAAAA,GAAerpD,IACzBopD,EAAAA,GAAUC,EAAAA,GAAe5qD,IACzB2qD,EAAAA,IAAW9pD,KAAKb,KAAKS,IAAIc,GAAK,8CAC9BV,KAAKb,KAAKU,IAAIa,EAAIvB,EACtB,GAAC,CAAAiB,IAAA,KAAAhD,MACD,SAAGsD,GACC,OAAOV,KAAKb,KAAK2H,IAAIpG,IAAO,IAChC,KAACmpD,CAAA,CAZa,G,4DCEPG,E,iCACX,SAAWA,GAePA,EAAaC,UAdb,SAAmB32B,GACf,OAAQA,GACJ,KAAKuD,EAAAA,EAAAA,OACD,MAAO,mBAAqB4f,EAAAA,EAAAA,YAAsBC,EAAAA,EAAAA,MACtD,KAAK7f,EAAAA,EAAAA,KACD,OAAO4f,EAAAA,EAAAA,YAAsBC,EAAAA,EAAAA,MACjC,KAAK7f,EAAAA,EAAAA,QACD,OAAO4f,EAAAA,EAAAA,YAAsBC,EAAAA,EAAAA,SACjC,KAAK7f,EAAAA,EAAAA,MACD,OAAO4f,EAAAA,EAAAA,YAAsBC,EAAAA,EAAAA,OACjC,QACI,MAAO,GAEnB,CAEH,CAhBD,CAgBGsT,IAAiBA,EAAe,CAAC,G","sources":["../node_modules/monaco-editor/esm/vs/platform/dialogs/common/dialogs.js","../node_modules/monaco-editor/esm/vs/platform/dnd/browser/dnd.js","../node_modules/monaco-editor/esm/vs/platform/editor/common/editor.js","../node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","../node_modules/monaco-editor/esm/vs/platform/files/common/files.js","../node_modules/monaco-editor/esm/vs/platform/history/browser/contextScopedHistoryWidget.js","../node_modules/monaco-editor/esm/vs/platform/history/browser/historyWidgetKeybindingHint.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/descriptors.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/graph.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js","../node_modules/monaco-editor/esm/vs/platform/jsonschemas/common/jsonContributionRegistry.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/abstractKeybindingService.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingResolver.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/resolvedKeybindingItem.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/baseResolvedKeybinding.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/usLayoutResolvedKeybinding.js","../node_modules/monaco-editor/esm/vs/platform/label/common/label.js","../node_modules/monaco-editor/esm/vs/platform/layout/browser/layoutService.js","../node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js","../node_modules/monaco-editor/esm/vs/platform/log/common/log.js","../node_modules/monaco-editor/esm/vs/platform/log/common/logService.js","../node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js","../node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","../node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js","../node_modules/monaco-editor/esm/vs/platform/opener/browser/link.js","../node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js","../node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/pickerQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/commandsQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/helpQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputBox.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputUtils.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputList.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputService.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickInput.js","../node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js","../node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/severityIcon.js"],"sourcesContent":["import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IDialogService = createDecorator('dialogService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { DataTransfers } from '../../../base/browser/dnd.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { parse } from '../../../base/common/marshalling.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { extractSelection } from '../../opener/common/opener.js';\nimport { Registry } from '../../registry/common/platform.js';\n//#region Editor / Resources DND\nexport const CodeDataTransfers = {\n    EDITORS: 'CodeEditors',\n    FILES: 'CodeFiles'\n};\nexport function extractEditorsDropData(e) {\n    var _a;\n    const editors = [];\n    if (e.dataTransfer && e.dataTransfer.types.length > 0) {\n        // Data Transfer: Code Editors\n        const rawEditorsData = e.dataTransfer.getData(CodeDataTransfers.EDITORS);\n        if (rawEditorsData) {\n            try {\n                editors.push(...parse(rawEditorsData));\n            }\n            catch (error) {\n                // Invalid transfer\n            }\n        }\n        // Data Transfer: Resources\n        else {\n            try {\n                const rawResourcesData = e.dataTransfer.getData(DataTransfers.RESOURCES);\n                editors.push(...createDraggedEditorInputFromRawResourcesData(rawResourcesData));\n            }\n            catch (error) {\n                // Invalid transfer\n            }\n        }\n        // Check for native file transfer\n        if ((_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.files) {\n            for (let i = 0; i < e.dataTransfer.files.length; i++) {\n                const file = e.dataTransfer.files[i];\n                if (file && file.path /* Electron only */) {\n                    try {\n                        editors.push({ resource: URI.file(file.path), isExternal: true, allowWorkspaceOpen: true });\n                    }\n                    catch (error) {\n                        // Invalid URI\n                    }\n                }\n            }\n        }\n        // Check for CodeFiles transfer\n        const rawCodeFiles = e.dataTransfer.getData(CodeDataTransfers.FILES);\n        if (rawCodeFiles) {\n            try {\n                const codeFiles = JSON.parse(rawCodeFiles);\n                for (const codeFile of codeFiles) {\n                    editors.push({ resource: URI.file(codeFile), isExternal: true, allowWorkspaceOpen: true });\n                }\n            }\n            catch (error) {\n                // Invalid transfer\n            }\n        }\n        // Workbench contributions\n        const contributions = Registry.as(Extensions.DragAndDropContribution).getAll();\n        for (const contribution of contributions) {\n            const data = e.dataTransfer.getData(contribution.dataFormatKey);\n            if (data) {\n                try {\n                    editors.push(...contribution.getEditorInputs(data));\n                }\n                catch (error) {\n                    // Invalid transfer\n                }\n            }\n        }\n    }\n    // Prevent duplicates: it is possible that we end up with the same\n    // dragged editor multiple times because multiple data transfers\n    // are being used (https://github.com/microsoft/vscode/issues/128925)\n    const coalescedEditors = [];\n    const seen = new ResourceMap();\n    for (const editor of editors) {\n        if (!editor.resource) {\n            coalescedEditors.push(editor);\n        }\n        else if (!seen.has(editor.resource)) {\n            coalescedEditors.push(editor);\n            seen.set(editor.resource, true);\n        }\n    }\n    return coalescedEditors;\n}\nexport function createDraggedEditorInputFromRawResourcesData(rawResourcesData) {\n    const editors = [];\n    if (rawResourcesData) {\n        const resourcesRaw = JSON.parse(rawResourcesData);\n        for (const resourceRaw of resourcesRaw) {\n            if (resourceRaw.indexOf(':') > 0) { // mitigate https://github.com/microsoft/vscode/issues/124946\n                const { selection, uri } = extractSelection(URI.parse(resourceRaw));\n                editors.push({ resource: uri, options: { selection } });\n            }\n        }\n    }\n    return editors;\n}\nclass DragAndDropContributionRegistry {\n    constructor() {\n        this._contributions = new Map();\n    }\n    getAll() {\n        return this._contributions.values();\n    }\n}\nexport const Extensions = {\n    DragAndDropContribution: 'workbench.contributions.dragAndDrop'\n};\nRegistry.add(Extensions.DragAndDropContribution, new DragAndDropContributionRegistry());\n//#endregion\n","export var EditorOpenSource;\n(function (EditorOpenSource) {\n    /**\n     * Default: the editor is opening via a programmatic call\n     * to the editor service API.\n     */\n    EditorOpenSource[EditorOpenSource[\"API\"] = 0] = \"API\";\n    /**\n     * Indicates that a user action triggered the opening, e.g.\n     * via mouse or keyboard use.\n     */\n    EditorOpenSource[EditorOpenSource[\"USER\"] = 1] = \"USER\";\n})(EditorOpenSource || (EditorOpenSource = {}));\n","/**\n * **!Do not construct directly!**\n *\n * **!Only static methods because it gets serialized!**\n *\n * This represents the \"canonical\" version for an extension identifier. Extension ids\n * have to be case-insensitive (due to the marketplace), but we must ensure case\n * preservation because the extension API is already public at this time.\n *\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\n *\n * To make matters more complicated, an extension can optionally have an UUID. When two\n * extensions have the same UUID, they are considered equal even if their identifier is different.\n */\nexport class ExtensionIdentifier {\n    constructor(value) {\n        this.value = value;\n        this._lower = value.toLowerCase();\n    }\n    /**\n     * Gives the value by which to index (for equality).\n     */\n    static toKey(id) {\n        if (typeof id === 'string') {\n            return id.toLowerCase();\n        }\n        return id._lower;\n    }\n}\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../base/browser/ui/findinput/replaceInput.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { KeybindingsRegistry } from '../../keybinding/common/keybindingsRegistry.js';\nimport { localize } from '../../../nls.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nexport const historyNavigationVisible = new RawContextKey('suggestWidgetVisible', false, localize('suggestWidgetVisible', \"Whether suggestion are visible\"));\nconst HistoryNavigationWidgetFocusContext = 'historyNavigationWidgetFocus';\nconst HistoryNavigationForwardsEnablementContext = 'historyNavigationForwardsEnabled';\nconst HistoryNavigationBackwardsEnablementContext = 'historyNavigationBackwardsEnabled';\nlet lastFocusedWidget = undefined;\nconst widgets = [];\nexport function registerAndCreateHistoryNavigationContext(scopedContextKeyService, widget) {\n    if (widgets.includes(widget)) {\n        throw new Error('Cannot register the same widget multiple times');\n    }\n    widgets.push(widget);\n    const disposableStore = new DisposableStore();\n    const historyNavigationWidgetFocus = new RawContextKey(HistoryNavigationWidgetFocusContext, false).bindTo(scopedContextKeyService);\n    const historyNavigationForwardsEnablement = new RawContextKey(HistoryNavigationForwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const historyNavigationBackwardsEnablement = new RawContextKey(HistoryNavigationBackwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const onDidFocus = () => {\n        historyNavigationWidgetFocus.set(true);\n        lastFocusedWidget = widget;\n    };\n    const onDidBlur = () => {\n        historyNavigationWidgetFocus.set(false);\n        if (lastFocusedWidget === widget) {\n            lastFocusedWidget = undefined;\n        }\n    };\n    // Check for currently being focused\n    if (widget.element === document.activeElement) {\n        onDidFocus();\n    }\n    disposableStore.add(widget.onDidFocus(() => onDidFocus()));\n    disposableStore.add(widget.onDidBlur(() => onDidBlur()));\n    disposableStore.add(toDisposable(() => {\n        widgets.splice(widgets.indexOf(widget), 1);\n        onDidBlur();\n    }));\n    return {\n        historyNavigationForwardsEnablement,\n        historyNavigationBackwardsEnablement,\n        dispose() {\n            disposableStore.dispose();\n        }\n    };\n}\nlet ContextScopedFindInput = class ContextScopedFindInput extends FindInput {\n    constructor(container, contextViewProvider, options, contextKeyService) {\n        super(container, contextViewProvider, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedFindInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedFindInput);\nexport { ContextScopedFindInput };\nlet ContextScopedReplaceInput = class ContextScopedReplaceInput extends ReplaceInput {\n    constructor(container, contextViewProvider, options, contextKeyService, showReplaceOptions = false) {\n        super(container, contextViewProvider, showReplaceOptions, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedReplaceInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedReplaceInput);\nexport { ContextScopedReplaceInput };\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showPrevious',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationBackwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 16 /* KeyCode.UpArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showPreviousValue();\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showNext',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationForwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 18 /* KeyCode.DownArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showNextValue();\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function showHistoryKeybindingHint(keybindingService) {\n    var _a, _b;\n    return ((_a = keybindingService.lookupKeybinding('history.showPrevious')) === null || _a === void 0 ? void 0 : _a.getElectronAccelerator()) === 'Up' && ((_b = keybindingService.lookupKeybinding('history.showNext')) === null || _b === void 0 ? void 0 : _b.getElectronAccelerator()) === 'Down';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class SyncDescriptor {\n    constructor(ctor, staticArguments = [], supportsDelayedInstantiation = false) {\n        this.ctor = ctor;\n        this.staticArguments = staticArguments;\n        this.supportsDelayedInstantiation = supportsDelayedInstantiation;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SyncDescriptor } from './descriptors.js';\nconst _registry = [];\nexport function registerSingleton(id, ctorOrDescriptor, supportsDelayedInstantiation) {\n    if (!(ctorOrDescriptor instanceof SyncDescriptor)) {\n        ctorOrDescriptor = new SyncDescriptor(ctorOrDescriptor, [], Boolean(supportsDelayedInstantiation));\n    }\n    _registry.push([id, ctorOrDescriptor]);\n}\nexport function getSingletonServiceDescriptors() {\n    return _registry;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n(function (_util) {\n    _util.serviceIds = new Map();\n    _util.DI_TARGET = '$di$target';\n    _util.DI_DEPENDENCIES = '$di$dependencies';\n    function getServiceDependencies(ctor) {\n        return ctor[_util.DI_DEPENDENCIES] || [];\n    }\n    _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\nexport const IInstantiationService = createDecorator('instantiationService');\nfunction storeServiceDependency(id, target, index) {\n    if (target[_util.DI_TARGET] === target) {\n        target[_util.DI_DEPENDENCIES].push({ id, index });\n    }\n    else {\n        target[_util.DI_DEPENDENCIES] = [{ id, index }];\n        target[_util.DI_TARGET] = target;\n    }\n}\n/**\n * The *only* valid way to create a {{ServiceIdentifier}}.\n */\nexport function createDecorator(serviceId) {\n    if (_util.serviceIds.has(serviceId)) {\n        return _util.serviceIds.get(serviceId);\n    }\n    const id = function (target, key, index) {\n        if (arguments.length !== 3) {\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n        }\n        storeServiceDependency(id, target, index);\n    };\n    id.toString = () => serviceId;\n    _util.serviceIds.set(serviceId, id);\n    return id;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Node {\n    constructor(key, data) {\n        this.key = key;\n        this.data = data;\n        this.incoming = new Map();\n        this.outgoing = new Map();\n    }\n}\nexport class Graph {\n    constructor(_hashFn) {\n        this._hashFn = _hashFn;\n        this._nodes = new Map();\n        // empty\n    }\n    roots() {\n        const ret = [];\n        for (const node of this._nodes.values()) {\n            if (node.outgoing.size === 0) {\n                ret.push(node);\n            }\n        }\n        return ret;\n    }\n    insertEdge(from, to) {\n        const fromNode = this.lookupOrInsertNode(from);\n        const toNode = this.lookupOrInsertNode(to);\n        fromNode.outgoing.set(toNode.key, toNode);\n        toNode.incoming.set(fromNode.key, fromNode);\n    }\n    removeNode(data) {\n        const key = this._hashFn(data);\n        this._nodes.delete(key);\n        for (const node of this._nodes.values()) {\n            node.outgoing.delete(key);\n            node.incoming.delete(key);\n        }\n    }\n    lookupOrInsertNode(data) {\n        const key = this._hashFn(data);\n        let node = this._nodes.get(key);\n        if (!node) {\n            node = new Node(key, data);\n            this._nodes.set(key, node);\n        }\n        return node;\n    }\n    isEmpty() {\n        return this._nodes.size === 0;\n    }\n    toString() {\n        const data = [];\n        for (const [key, value] of this._nodes) {\n            data.push(`${key}\\n\\t(-> incoming)[${[...value.incoming.keys()].join(', ')}]\\n\\t(outgoing ->)[${[...value.outgoing.keys()].join(',')}]\\n`);\n        }\n        return data.join('\\n');\n    }\n    /**\n     * This is brute force and slow and **only** be used\n     * to trouble shoot.\n     */\n    findCycleSlow() {\n        for (const [id, node] of this._nodes) {\n            const seen = new Set([id]);\n            const res = this._findCycle(node, seen);\n            if (res) {\n                return res;\n            }\n        }\n        return undefined;\n    }\n    _findCycle(node, seen) {\n        for (const [id, outgoing] of node.outgoing) {\n            if (seen.has(id)) {\n                return [...seen, id].join(' -> ');\n            }\n            seen.add(id);\n            const value = this._findCycle(outgoing, seen);\n            if (value) {\n                return value;\n            }\n            seen.delete(id);\n        }\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IdleValue } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { Graph } from './graph.js';\nimport { IInstantiationService, _util } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n// TRACING\nconst _enableAllTracing = false;\nclass CyclicDependencyError extends Error {\n    constructor(graph) {\n        var _a;\n        super('cyclic dependency between services');\n        this.message = (_a = graph.findCycleSlow()) !== null && _a !== void 0 ? _a : `UNABLE to detect cycle, dumping graph: \\n${graph.toString()}`;\n    }\n}\nexport class InstantiationService {\n    constructor(_services = new ServiceCollection(), _strict = false, _parent, _enableTracing = _enableAllTracing) {\n        var _a;\n        this._services = _services;\n        this._strict = _strict;\n        this._parent = _parent;\n        this._enableTracing = _enableTracing;\n        this._activeInstantiations = new Set();\n        this._services.set(IInstantiationService, this);\n        this._globalGraph = _enableTracing ? (_a = _parent === null || _parent === void 0 ? void 0 : _parent._globalGraph) !== null && _a !== void 0 ? _a : new Graph(e => e) : undefined;\n    }\n    createChild(services) {\n        return new InstantiationService(services, this._strict, this, this._enableTracing);\n    }\n    invokeFunction(fn, ...args) {\n        const _trace = Trace.traceInvocation(this._enableTracing, fn);\n        let _done = false;\n        try {\n            const accessor = {\n                get: (id) => {\n                    if (_done) {\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\n                    }\n                    const result = this._getOrCreateServiceInstance(id, _trace);\n                    if (!result) {\n                        throw new Error(`[invokeFunction] unknown service '${id}'`);\n                    }\n                    return result;\n                }\n            };\n            return fn(accessor, ...args);\n        }\n        finally {\n            _done = true;\n            _trace.stop();\n        }\n    }\n    createInstance(ctorOrDescriptor, ...rest) {\n        let _trace;\n        let result;\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor.ctor);\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n        }\n        else {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor);\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\n        }\n        _trace.stop();\n        return result;\n    }\n    _createInstance(ctor, args = [], _trace) {\n        // arguments defined by service decorators\n        const serviceDependencies = _util.getServiceDependencies(ctor).sort((a, b) => a.index - b.index);\n        const serviceArgs = [];\n        for (const dependency of serviceDependencies) {\n            const service = this._getOrCreateServiceInstance(dependency.id, _trace);\n            if (!service) {\n                this._throwIfStrict(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`, false);\n            }\n            serviceArgs.push(service);\n        }\n        const firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n        // check for argument mismatches, adjust static args if needed\n        if (args.length !== firstServiceArgPos) {\n            console.trace(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos + 1} conflicts with ${args.length} static arguments`);\n            const delta = firstServiceArgPos - args.length;\n            if (delta > 0) {\n                args = args.concat(new Array(delta));\n            }\n            else {\n                args = args.slice(0, firstServiceArgPos);\n            }\n        }\n        // now create the instance\n        return Reflect.construct(ctor, args.concat(serviceArgs));\n    }\n    _setServiceInstance(id, instance) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            this._services.set(id, instance);\n        }\n        else if (this._parent) {\n            this._parent._setServiceInstance(id, instance);\n        }\n        else {\n            throw new Error('illegalState - setting UNKNOWN service instance');\n        }\n    }\n    _getServiceInstanceOrDescriptor(id) {\n        const instanceOrDesc = this._services.get(id);\n        if (!instanceOrDesc && this._parent) {\n            return this._parent._getServiceInstanceOrDescriptor(id);\n        }\n        else {\n            return instanceOrDesc;\n        }\n    }\n    _getOrCreateServiceInstance(id, _trace) {\n        if (this._globalGraph && this._globalGraphImplicitDependency) {\n            this._globalGraph.insertEdge(this._globalGraphImplicitDependency, String(id));\n        }\n        const thing = this._getServiceInstanceOrDescriptor(id);\n        if (thing instanceof SyncDescriptor) {\n            return this._safeCreateAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n        }\n        else {\n            _trace.branch(id, false);\n            return thing;\n        }\n    }\n    _safeCreateAndCacheServiceInstance(id, desc, _trace) {\n        if (this._activeInstantiations.has(id)) {\n            throw new Error(`illegal state - RECURSIVELY instantiating service '${id}'`);\n        }\n        this._activeInstantiations.add(id);\n        try {\n            return this._createAndCacheServiceInstance(id, desc, _trace);\n        }\n        finally {\n            this._activeInstantiations.delete(id);\n        }\n    }\n    _createAndCacheServiceInstance(id, desc, _trace) {\n        var _a;\n        const graph = new Graph(data => data.id.toString());\n        let cycleCount = 0;\n        const stack = [{ id, desc, _trace }];\n        while (stack.length) {\n            const item = stack.pop();\n            graph.lookupOrInsertNode(item);\n            // a weak but working heuristic for cycle checks\n            if (cycleCount++ > 1000) {\n                throw new CyclicDependencyError(graph);\n            }\n            // check all dependencies for existence and if they need to be created first\n            for (const dependency of _util.getServiceDependencies(item.desc.ctor)) {\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n                if (!instanceOrDesc) {\n                    this._throwIfStrict(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`, true);\n                }\n                // take note of all service dependencies\n                (_a = this._globalGraph) === null || _a === void 0 ? void 0 : _a.insertEdge(String(item.id), String(dependency.id));\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    const d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\n                    graph.insertEdge(item, d);\n                    stack.push(d);\n                }\n            }\n        }\n        while (true) {\n            const roots = graph.roots();\n            // if there is no more roots but still\n            // nodes in the graph we have a cycle\n            if (roots.length === 0) {\n                if (!graph.isEmpty()) {\n                    throw new CyclicDependencyError(graph);\n                }\n                break;\n            }\n            for (const { data } of roots) {\n                // Repeat the check for this still being a service sync descriptor. That's because\n                // instantiating a dependency might have side-effect and recursively trigger instantiation\n                // so that some dependencies are now fullfilled already.\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(data.id);\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    // create instance and overwrite the service collections\n                    const instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n                    this._setServiceInstance(data.id, instance);\n                }\n                graph.removeNode(data);\n            }\n        }\n        return this._getServiceInstanceOrDescriptor(id);\n    }\n    _createServiceInstanceWithOwner(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            return this._createServiceInstance(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else if (this._parent) {\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else {\n            throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`);\n        }\n    }\n    _createServiceInstance(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (!supportsDelayedInstantiation) {\n            // eager instantiation\n            return this._createInstance(ctor, args, _trace);\n        }\n        else {\n            const child = new InstantiationService(undefined, this._strict, this, this._enableTracing);\n            child._globalGraphImplicitDependency = String(id);\n            // Return a proxy object that's backed by an idle value. That\n            // strategy is to instantiate services in our idle time or when actually\n            // needed but not when injected into a consumer\n            // return \"empty events\" when the service isn't instantiated yet\n            const earlyListeners = new Map();\n            const idle = new IdleValue(() => {\n                const result = child._createInstance(ctor, args, _trace);\n                // early listeners that we kept are now being subscribed to\n                // the real service\n                for (const [key, values] of earlyListeners) {\n                    const candidate = result[key];\n                    if (typeof candidate === 'function') {\n                        for (const listener of values) {\n                            candidate.apply(result, listener);\n                        }\n                    }\n                }\n                earlyListeners.clear();\n                return result;\n            });\n            return new Proxy(Object.create(null), {\n                get(target, key) {\n                    if (!idle.isInitialized) {\n                        // looks like an event\n                        if (typeof key === 'string' && (key.startsWith('onDid') || key.startsWith('onWill'))) {\n                            let list = earlyListeners.get(key);\n                            if (!list) {\n                                list = new LinkedList();\n                                earlyListeners.set(key, list);\n                            }\n                            const event = (callback, thisArg, disposables) => {\n                                const rm = list.push([callback, thisArg, disposables]);\n                                return toDisposable(rm);\n                            };\n                            return event;\n                        }\n                    }\n                    // value already exists\n                    if (key in target) {\n                        return target[key];\n                    }\n                    // create value\n                    const obj = idle.value;\n                    let prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set(_target, p, value) {\n                    idle.value[p] = value;\n                    return true;\n                },\n                getPrototypeOf(_target) {\n                    return ctor.prototype;\n                }\n            });\n        }\n    }\n    _throwIfStrict(msg, printWarning) {\n        if (printWarning) {\n            console.warn(msg);\n        }\n        if (this._strict) {\n            throw new Error(msg);\n        }\n    }\n}\nclass Trace {\n    static traceInvocation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(2 /* TraceType.Invocation */, ctor.name || new Error().stack.split('\\n').slice(3, 4).join('\\n'));\n    }\n    static traceCreation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(1 /* TraceType.Creation */, ctor.name);\n    }\n    constructor(type, name) {\n        this.type = type;\n        this.name = name;\n        this._start = Date.now();\n        this._dep = [];\n    }\n    branch(id, first) {\n        const child = new Trace(3 /* TraceType.Branch */, id.toString());\n        this._dep.push([id, first, child]);\n        return child;\n    }\n    stop() {\n        const dur = Date.now() - this._start;\n        Trace._totals += dur;\n        let causedCreation = false;\n        function printChild(n, trace) {\n            const res = [];\n            const prefix = new Array(n + 1).join('\\t');\n            for (const [id, first, child] of trace._dep) {\n                if (first && child) {\n                    causedCreation = true;\n                    res.push(`${prefix}CREATES -> ${id}`);\n                    const nested = printChild(n + 1, child);\n                    if (nested) {\n                        res.push(nested);\n                    }\n                }\n                else {\n                    res.push(`${prefix}uses -> ${id}`);\n                }\n            }\n            return res.join('\\n');\n        }\n        const lines = [\n            `${this.type === 1 /* TraceType.Creation */ ? 'CREATE' : 'CALL'} ${this.name}`,\n            `${printChild(1, this)}`,\n            `DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`\n        ];\n        if (dur > 2 || causedCreation) {\n            Trace.all.add(lines.join('\\n'));\n        }\n    }\n}\nTrace.all = new Set();\nTrace._None = new class extends Trace {\n    constructor() { super(0 /* TraceType.None */, null); }\n    stop() { }\n    branch() { return this; }\n};\nTrace._totals = 0;\nexport { Trace };\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ServiceCollection {\n    constructor(...entries) {\n        this._entries = new Map();\n        for (const [id, service] of entries) {\n            this.set(id, service);\n        }\n    }\n    set(id, instanceOrDescriptor) {\n        const result = this._entries.get(id);\n        this._entries.set(id, instanceOrDescriptor);\n        return result;\n    }\n    get(id) {\n        return this._entries.get(id);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport * as platform from '../../registry/common/platform.js';\nexport const Extensions = {\n    JSONContribution: 'base.contributions.json'\n};\nfunction normalizeId(id) {\n    if (id.length > 0 && id.charAt(id.length - 1) === '#') {\n        return id.substring(0, id.length - 1);\n    }\n    return id;\n}\nclass JSONContributionRegistry {\n    constructor() {\n        this._onDidChangeSchema = new Emitter();\n        this.schemasById = {};\n    }\n    registerSchema(uri, unresolvedSchemaContent) {\n        this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\n        this._onDidChangeSchema.fire(uri);\n    }\n    notifySchemaChanged(uri) {\n        this._onDidChangeSchema.fire(uri);\n    }\n}\nconst jsonContributionRegistry = new JSONContributionRegistry();\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IntervalTimer, TimeoutTimer } from '../../../base/common/async.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as nls from '../../../nls.js';\nimport { IME } from '../../../base/common/ime.js';\nconst HIGH_FREQ_COMMANDS = /^(cursor|delete|undo|redo|tab|editor\\.action\\.clipboard)/;\nexport class AbstractKeybindingService extends Disposable {\n    get onDidUpdateKeybindings() {\n        return this._onDidUpdateKeybindings ? this._onDidUpdateKeybindings.event : Event.None; // Sinon stubbing walks properties on prototype\n    }\n    constructor(_contextKeyService, _commandService, _telemetryService, _notificationService, _logService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._commandService = _commandService;\n        this._telemetryService = _telemetryService;\n        this._notificationService = _notificationService;\n        this._logService = _logService;\n        this._onDidUpdateKeybindings = this._register(new Emitter());\n        this._currentChord = null;\n        this._currentChordChecker = new IntervalTimer();\n        this._currentChordStatusMessage = null;\n        this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n        this._currentSingleModifier = null;\n        this._currentSingleModifierClearTimeout = new TimeoutTimer();\n        this._logging = false;\n    }\n    dispose() {\n        super.dispose();\n    }\n    _log(str) {\n        if (this._logging) {\n            this._logService.info(`[KeybindingService]: ${str}`);\n        }\n    }\n    getKeybindings() {\n        return this._getResolver().getKeybindings();\n    }\n    lookupKeybinding(commandId, context) {\n        const result = this._getResolver().lookupPrimaryKeybinding(commandId, context || this._contextKeyService);\n        if (!result) {\n            return undefined;\n        }\n        return result.resolvedKeybinding;\n    }\n    dispatchEvent(e, target) {\n        return this._dispatch(e, target);\n    }\n    softDispatch(e, target) {\n        this._log(`/ Soft dispatching keyboard event`);\n        const keybinding = this.resolveKeyboardEvent(e);\n        if (keybinding.hasMultipleChords()) {\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return null;\n        }\n        const [firstChord,] = keybinding.getDispatchChords();\n        if (firstChord === null) {\n            // cannot be dispatched, probably only modifier keys\n            this._log(`\\\\ Keyboard event cannot be dispatched`);\n            return null;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const currentChord = this._currentChord ? this._currentChord.keypress : null;\n        return this._getResolver().resolve(contextValue, currentChord, firstChord);\n    }\n    _enterMultiChordMode(firstChord, keypressLabel) {\n        this._currentChord = {\n            keypress: firstChord,\n            label: keypressLabel\n        };\n        this._currentChordStatusMessage = this._notificationService.status(nls.localize('first.chord', \"({0}) was pressed. Waiting for second key of chord...\", keypressLabel));\n        const chordEnterTime = Date.now();\n        this._currentChordChecker.cancelAndSet(() => {\n            if (!this._documentHasFocus()) {\n                // Focus has been lost => leave chord mode\n                this._leaveChordMode();\n                return;\n            }\n            if (Date.now() - chordEnterTime > 5000) {\n                // 5 seconds elapsed => leave chord mode\n                this._leaveChordMode();\n            }\n        }, 500);\n        IME.disable();\n    }\n    _leaveChordMode() {\n        if (this._currentChordStatusMessage) {\n            this._currentChordStatusMessage.dispose();\n            this._currentChordStatusMessage = null;\n        }\n        this._currentChordChecker.cancel();\n        this._currentChord = null;\n        IME.enable();\n    }\n    _dispatch(e, target) {\n        return this._doDispatch(this.resolveKeyboardEvent(e), target, /*isSingleModiferChord*/ false);\n    }\n    _singleModifierDispatch(e, target) {\n        const keybinding = this.resolveKeyboardEvent(e);\n        const [singleModifier,] = keybinding.getSingleModifierDispatchChords();\n        if (singleModifier) {\n            if (this._ignoreSingleModifiers.has(singleModifier)) {\n                this._log(`+ Ignoring single modifier ${singleModifier} due to it being pressed together with other keys.`);\n                this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return false;\n            }\n            this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n            if (this._currentSingleModifier === null) {\n                // we have a valid `singleModifier`, store it for the next keyup, but clear it in 300ms\n                this._log(`+ Storing single modifier for possible chord ${singleModifier}.`);\n                this._currentSingleModifier = singleModifier;\n                this._currentSingleModifierClearTimeout.cancelAndSet(() => {\n                    this._log(`+ Clearing single modifier due to 300ms elapsed.`);\n                    this._currentSingleModifier = null;\n                }, 300);\n                return false;\n            }\n            if (singleModifier === this._currentSingleModifier) {\n                // bingo!\n                this._log(`/ Dispatching single modifier chord ${singleModifier} ${singleModifier}`);\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return this._doDispatch(keybinding, target, /*isSingleModiferChord*/ true);\n            }\n            this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${singleModifier}`);\n            this._currentSingleModifierClearTimeout.cancel();\n            this._currentSingleModifier = null;\n            return false;\n        }\n        // When pressing a modifier and holding it pressed with any other modifier or key combination,\n        // the pressed modifiers should no longer be considered for single modifier dispatch.\n        const [firstChord,] = keybinding.getChords();\n        this._ignoreSingleModifiers = new KeybindingModifierSet(firstChord);\n        if (this._currentSingleModifier !== null) {\n            this._log(`+ Clearing single modifier due to other key up.`);\n        }\n        this._currentSingleModifierClearTimeout.cancel();\n        this._currentSingleModifier = null;\n        return false;\n    }\n    _doDispatch(keybinding, target, isSingleModiferChord = false) {\n        let shouldPreventDefault = false;\n        if (keybinding.hasMultipleChords()) {\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return false;\n        }\n        let firstChord = null; // the first keybinding i.e. Ctrl+K\n        let currentChord = null; // the \"second\" keybinding i.e. Ctrl+K \"Ctrl+D\"\n        if (isSingleModiferChord) {\n            const [dispatchKeyname,] = keybinding.getSingleModifierDispatchChords();\n            firstChord = dispatchKeyname;\n            currentChord = dispatchKeyname;\n        }\n        else {\n            [firstChord,] = keybinding.getDispatchChords();\n            currentChord = this._currentChord ? this._currentChord.keypress : null;\n        }\n        if (firstChord === null) {\n            this._log(`\\\\ Keyboard event cannot be dispatched in keydown phase.`);\n            // cannot be dispatched, probably only modifier keys\n            return shouldPreventDefault;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const keypressLabel = keybinding.getLabel();\n        const resolveResult = this._getResolver().resolve(contextValue, currentChord, firstChord);\n        this._logService.trace('KeybindingService#dispatch', keypressLabel, resolveResult === null || resolveResult === void 0 ? void 0 : resolveResult.commandId);\n        if (resolveResult && resolveResult.enterMultiChord) {\n            shouldPreventDefault = true;\n            this._enterMultiChordMode(firstChord, keypressLabel);\n            this._log(`+ Entering chord mode...`);\n            return shouldPreventDefault;\n        }\n        if (this._currentChord) {\n            if (!resolveResult || !resolveResult.commandId) {\n                this._log(`+ Leaving chord mode: Nothing bound to \"${this._currentChord.label} ${keypressLabel}\".`);\n                this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", this._currentChord.label, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                shouldPreventDefault = true;\n            }\n        }\n        this._leaveChordMode();\n        if (resolveResult && resolveResult.commandId) {\n            if (!resolveResult.bubble) {\n                shouldPreventDefault = true;\n            }\n            this._log(`+ Invoking command ${resolveResult.commandId}.`);\n            if (typeof resolveResult.commandArgs === 'undefined') {\n                this._commandService.executeCommand(resolveResult.commandId).then(undefined, err => this._notificationService.warn(err));\n            }\n            else {\n                this._commandService.executeCommand(resolveResult.commandId, resolveResult.commandArgs).then(undefined, err => this._notificationService.warn(err));\n            }\n            if (!HIGH_FREQ_COMMANDS.test(resolveResult.commandId)) {\n                this._telemetryService.publicLog2('workbenchActionExecuted', { id: resolveResult.commandId, from: 'keybinding' });\n            }\n        }\n        return shouldPreventDefault;\n    }\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey) {\n            // ignore ctrl/cmd-combination but not shift/alt-combinatios\n            return false;\n        }\n        // weak check for certain ranges. this is properly implemented in a subclass\n        // with access to the KeyboardMapperFactory.\n        if ((event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)) {\n            return true;\n        }\n        return false;\n    }\n}\nclass KeybindingModifierSet {\n    constructor(source) {\n        this._ctrlKey = source ? source.ctrlKey : false;\n        this._shiftKey = source ? source.shiftKey : false;\n        this._altKey = source ? source.altKey : false;\n        this._metaKey = source ? source.metaKey : false;\n    }\n    has(modifier) {\n        switch (modifier) {\n            case 'ctrl': return this._ctrlKey;\n            case 'shift': return this._shiftKey;\n            case 'alt': return this._altKey;\n            case 'meta': return this._metaKey;\n        }\n    }\n}\nKeybindingModifierSet.EMPTY = new KeybindingModifierSet(null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IKeybindingService = createDecorator('keybindingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { implies, expressionsAreEqualWithConstantSubstitution } from '../../contextkey/common/contextkey.js';\nexport class KeybindingResolver {\n    constructor(defaultKeybindings, overrides, log) {\n        this._log = log;\n        this._defaultKeybindings = defaultKeybindings;\n        this._defaultBoundCommands = new Map();\n        for (const defaultKeybinding of defaultKeybindings) {\n            const command = defaultKeybinding.command;\n            if (command && command.charAt(0) !== '-') {\n                this._defaultBoundCommands.set(command, true);\n            }\n        }\n        this._map = new Map();\n        this._lookupMap = new Map();\n        this._keybindings = KeybindingResolver.handleRemovals([].concat(defaultKeybindings).concat(overrides));\n        for (let i = 0, len = this._keybindings.length; i < len; i++) {\n            const k = this._keybindings[i];\n            if (k.chords.length === 0) {\n                // unbound\n                continue;\n            }\n            if (k.when && k.when.type === 0 /* ContextKeyExprType.False */) {\n                // when condition is false\n                continue;\n            }\n            // TODO@chords\n            this._addKeyPress(k.chords[0], k);\n        }\n    }\n    static _isTargetedForRemoval(defaultKb, keypressFirstPart, keypressChordPart, when) {\n        // TODO@chords\n        if (keypressFirstPart && defaultKb.chords[0] !== keypressFirstPart) {\n            return false;\n        }\n        // TODO@chords\n        if (keypressChordPart && defaultKb.chords[1] !== keypressChordPart) {\n            return false;\n        }\n        // `true` means always, as does `undefined`\n        // so we will treat `true` === `undefined`\n        if (when && when.type !== 1 /* ContextKeyExprType.True */) {\n            if (!defaultKb.when) {\n                return false;\n            }\n            if (!expressionsAreEqualWithConstantSubstitution(when, defaultKb.when)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Looks for rules containing \"-commandId\" and removes them.\n     */\n    static handleRemovals(rules) {\n        // Do a first pass and construct a hash-map for removals\n        const removals = new Map();\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (rule.command && rule.command.charAt(0) === '-') {\n                const command = rule.command.substring(1);\n                if (!removals.has(command)) {\n                    removals.set(command, [rule]);\n                }\n                else {\n                    removals.get(command).push(rule);\n                }\n            }\n        }\n        if (removals.size === 0) {\n            // There are no removals\n            return rules;\n        }\n        // Do a second pass and keep only non-removed keybindings\n        const result = [];\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (!rule.command || rule.command.length === 0) {\n                result.push(rule);\n                continue;\n            }\n            if (rule.command.charAt(0) === '-') {\n                continue;\n            }\n            const commandRemovals = removals.get(rule.command);\n            if (!commandRemovals || !rule.isDefault) {\n                result.push(rule);\n                continue;\n            }\n            let isRemoved = false;\n            for (const commandRemoval of commandRemovals) {\n                // TODO@chords\n                const keypressFirstChord = commandRemoval.chords[0];\n                const keypressSecondChord = commandRemoval.chords[1];\n                const when = commandRemoval.when;\n                if (this._isTargetedForRemoval(rule, keypressFirstChord, keypressSecondChord, when)) {\n                    isRemoved = true;\n                    break;\n                }\n            }\n            if (!isRemoved) {\n                result.push(rule);\n                continue;\n            }\n        }\n        return result;\n    }\n    _addKeyPress(keypress, item) {\n        const conflicts = this._map.get(keypress);\n        if (typeof conflicts === 'undefined') {\n            // There is no conflict so far\n            this._map.set(keypress, [item]);\n            this._addToLookupMap(item);\n            return;\n        }\n        for (let i = conflicts.length - 1; i >= 0; i--) {\n            const conflict = conflicts[i];\n            if (conflict.command === item.command) {\n                continue;\n            }\n            const conflictHasMultipleChords = (conflict.chords.length > 1);\n            const itemHasMultipleChords = (item.chords.length > 1);\n            // TODO@chords\n            if (conflictHasMultipleChords && itemHasMultipleChords && conflict.chords[1] !== item.chords[1]) {\n                // The conflict only shares the first chord with this command\n                continue;\n            }\n            if (KeybindingResolver.whenIsEntirelyIncluded(conflict.when, item.when)) {\n                // `item` completely overwrites `conflict`\n                // Remove conflict from the lookupMap\n                this._removeFromLookupMap(conflict);\n            }\n        }\n        conflicts.push(item);\n        this._addToLookupMap(item);\n    }\n    _addToLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        let arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            arr = [item];\n            this._lookupMap.set(item.command, arr);\n        }\n        else {\n            arr.push(item);\n        }\n    }\n    _removeFromLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        const arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            return;\n        }\n        for (let i = 0, len = arr.length; i < len; i++) {\n            if (arr[i] === item) {\n                arr.splice(i, 1);\n                return;\n            }\n        }\n    }\n    /**\n     * Returns true if it is provable `a` implies `b`.\n     */\n    static whenIsEntirelyIncluded(a, b) {\n        if (!b || b.type === 1 /* ContextKeyExprType.True */) {\n            return true;\n        }\n        if (!a || a.type === 1 /* ContextKeyExprType.True */) {\n            return false;\n        }\n        return implies(a, b);\n    }\n    getKeybindings() {\n        return this._keybindings;\n    }\n    lookupPrimaryKeybinding(commandId, context) {\n        const items = this._lookupMap.get(commandId);\n        if (typeof items === 'undefined' || items.length === 0) {\n            return null;\n        }\n        if (items.length === 1) {\n            return items[0];\n        }\n        for (let i = items.length - 1; i >= 0; i--) {\n            const item = items[i];\n            if (context.contextMatchesRules(item.when)) {\n                return item;\n            }\n        }\n        return items[items.length - 1];\n    }\n    resolve(context, currentChord, keypress) {\n        this._log(`| Resolving ${keypress}${currentChord ? ` chorded from ${currentChord}` : ``}`);\n        let lookupMap = null;\n        if (currentChord !== null) {\n            // Fetch all chord bindings for `currentChord`\n            const candidates = this._map.get(currentChord);\n            if (typeof candidates === 'undefined') {\n                // No chords starting with `currentChord`\n                this._log(`\\\\ No keybinding entries.`);\n                return null;\n            }\n            lookupMap = [];\n            for (let i = 0, len = candidates.length; i < len; i++) {\n                const candidate = candidates[i];\n                // TODO@chords\n                if (candidate.chords[1] === keypress) {\n                    lookupMap.push(candidate);\n                }\n            }\n        }\n        else {\n            const candidates = this._map.get(keypress);\n            if (typeof candidates === 'undefined') {\n                // No bindings with `keypress`\n                this._log(`\\\\ No keybinding entries.`);\n                return null;\n            }\n            lookupMap = candidates;\n        }\n        const result = this._findCommand(context, lookupMap);\n        if (!result) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, no when clauses matched the context.`);\n            return null;\n        }\n        // TODO@chords\n        if (currentChord === null && result.chords.length > 1 && result.chords[1] !== null) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched chord, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n            return {\n                enterMultiChord: true,\n                leaveMultiChord: false,\n                commandId: null,\n                commandArgs: null,\n                bubble: false\n            };\n        }\n        this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched ${result.command}, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n        return {\n            enterMultiChord: false,\n            leaveMultiChord: result.chords.length > 1,\n            commandId: result.command,\n            commandArgs: result.commandArgs,\n            bubble: result.bubble\n        };\n    }\n    _findCommand(context, matches) {\n        for (let i = matches.length - 1; i >= 0; i--) {\n            const k = matches[i];\n            if (!KeybindingResolver._contextMatchesRules(context, k.when)) {\n                continue;\n            }\n            return k;\n        }\n        return null;\n    }\n    static _contextMatchesRules(context, rules) {\n        if (!rules) {\n            return true;\n        }\n        return rules.evaluate(context);\n    }\n}\nfunction printWhenExplanation(when) {\n    if (!when) {\n        return `no when condition`;\n    }\n    return `${when.serialize()}`;\n}\nfunction printSourceExplanation(kb) {\n    return (kb.extensionId\n        ? (kb.isBuiltinExtension ? `built-in extension ${kb.extensionId}` : `user extension ${kb.extensionId}`)\n        : (kb.isDefault ? `built-in` : `user`));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { decodeKeybinding } from '../../../base/common/keybindings.js';\nimport { OS } from '../../../base/common/platform.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { combinedDisposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nclass KeybindingsRegistryImpl {\n    constructor() {\n        this._coreKeybindings = new LinkedList();\n        this._extensionKeybindings = [];\n        this._cachedMergedKeybindings = null;\n    }\n    /**\n     * Take current platform into account and reduce to primary & secondary.\n     */\n    static bindToCurrentPlatform(kb) {\n        if (OS === 1 /* OperatingSystem.Windows */) {\n            if (kb && kb.win) {\n                return kb.win;\n            }\n        }\n        else if (OS === 2 /* OperatingSystem.Macintosh */) {\n            if (kb && kb.mac) {\n                return kb.mac;\n            }\n        }\n        else {\n            if (kb && kb.linux) {\n                return kb.linux;\n            }\n        }\n        return kb;\n    }\n    registerKeybindingRule(rule) {\n        const actualKb = KeybindingsRegistryImpl.bindToCurrentPlatform(rule);\n        const result = new DisposableStore();\n        if (actualKb && actualKb.primary) {\n            const kk = decodeKeybinding(actualKb.primary, OS);\n            if (kk) {\n                result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, 0, rule.when));\n            }\n        }\n        if (actualKb && Array.isArray(actualKb.secondary)) {\n            for (let i = 0, len = actualKb.secondary.length; i < len; i++) {\n                const k = actualKb.secondary[i];\n                const kk = decodeKeybinding(k, OS);\n                if (kk) {\n                    result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, -i - 1, rule.when));\n                }\n            }\n        }\n        return result;\n    }\n    registerCommandAndKeybindingRule(desc) {\n        return combinedDisposable(this.registerKeybindingRule(desc), CommandsRegistry.registerCommand(desc));\n    }\n    _registerDefaultKeybinding(keybinding, commandId, commandArgs, weight1, weight2, when) {\n        const remove = this._coreKeybindings.push({\n            keybinding: keybinding,\n            command: commandId,\n            commandArgs: commandArgs,\n            when: when,\n            weight1: weight1,\n            weight2: weight2,\n            extensionId: null,\n            isBuiltinExtension: false\n        });\n        this._cachedMergedKeybindings = null;\n        return toDisposable(() => {\n            remove();\n            this._cachedMergedKeybindings = null;\n        });\n    }\n    getDefaultKeybindings() {\n        if (!this._cachedMergedKeybindings) {\n            this._cachedMergedKeybindings = Array.from(this._coreKeybindings).concat(this._extensionKeybindings);\n            this._cachedMergedKeybindings.sort(sorter);\n        }\n        return this._cachedMergedKeybindings.slice(0);\n    }\n}\nexport const KeybindingsRegistry = new KeybindingsRegistryImpl();\n// Define extension point ids\nexport const Extensions = {\n    EditorModes: 'platform.keybindingsRegistry'\n};\nRegistry.add(Extensions.EditorModes, KeybindingsRegistry);\nfunction sorter(a, b) {\n    if (a.weight1 !== b.weight1) {\n        return a.weight1 - b.weight1;\n    }\n    if (a.command && b.command) {\n        if (a.command < b.command) {\n            return -1;\n        }\n        if (a.command > b.command) {\n            return 1;\n        }\n    }\n    return a.weight2 - b.weight2;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ResolvedKeybindingItem {\n    constructor(resolvedKeybinding, command, commandArgs, when, isDefault, extensionId, isBuiltinExtension) {\n        this._resolvedKeybindingItemBrand = undefined;\n        this.resolvedKeybinding = resolvedKeybinding;\n        this.chords = resolvedKeybinding ? toEmptyArrayIfContainsNull(resolvedKeybinding.getDispatchChords()) : [];\n        if (resolvedKeybinding && this.chords.length === 0) {\n            // handle possible single modifier chord keybindings\n            this.chords = toEmptyArrayIfContainsNull(resolvedKeybinding.getSingleModifierDispatchChords());\n        }\n        this.bubble = (command ? command.charCodeAt(0) === 94 /* CharCode.Caret */ : false);\n        this.command = this.bubble ? command.substr(1) : command;\n        this.commandArgs = commandArgs;\n        this.when = when;\n        this.isDefault = isDefault;\n        this.extensionId = extensionId;\n        this.isBuiltinExtension = isBuiltinExtension;\n    }\n}\nexport function toEmptyArrayIfContainsNull(arr) {\n    const result = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const element = arr[i];\n        if (!element) {\n            return [];\n        }\n        result.push(element);\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { AriaLabelProvider, ElectronAcceleratorLabelProvider, UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { ResolvedKeybinding, ResolvedChord } from '../../../base/common/keybindings.js';\nexport class BaseResolvedKeybinding extends ResolvedKeybinding {\n    constructor(os, chords) {\n        super();\n        if (chords.length === 0) {\n            throw illegalArgument(`chords`);\n        }\n        this._os = os;\n        this._chords = chords;\n    }\n    getLabel() {\n        return UILabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getLabel(keybinding));\n    }\n    getAriaLabel() {\n        return AriaLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getAriaLabel(keybinding));\n    }\n    getElectronAccelerator() {\n        if (this._chords.length > 1) {\n            // [Electron Accelerators] Electron cannot handle chords\n            return null;\n        }\n        if (this._chords[0].isDuplicateModifierCase()) {\n            // [Electron Accelerators] Electron cannot handle modifier only keybindings\n            // e.g. \"shift shift\"\n            return null;\n        }\n        return ElectronAcceleratorLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getElectronAccelerator(keybinding));\n    }\n    hasMultipleChords() {\n        return (this._chords.length > 1);\n    }\n    getChords() {\n        return this._chords.map((keybinding) => this._getChord(keybinding));\n    }\n    _getChord(keybinding) {\n        return new ResolvedChord(keybinding.ctrlKey, keybinding.shiftKey, keybinding.altKey, keybinding.metaKey, this._getLabel(keybinding), this._getAriaLabel(keybinding));\n    }\n    getDispatchChords() {\n        return this._chords.map((keybinding) => this._getChordDispatch(keybinding));\n    }\n    getSingleModifierDispatchChords() {\n        return this._chords.map((keybinding) => this._getSingleModifierChordDispatch(keybinding));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { KeyCodeUtils, IMMUTABLE_CODE_TO_KEY_CODE } from '../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../base/common/keybindings.js';\nimport { BaseResolvedKeybinding } from './baseResolvedKeybinding.js';\nimport { toEmptyArrayIfContainsNull } from './resolvedKeybindingItem.js';\n/**\n * Do not instantiate. Use KeybindingService to get a ResolvedKeybinding seeded with information about the current kb layout.\n */\nexport class USLayoutResolvedKeybinding extends BaseResolvedKeybinding {\n    constructor(chords, os) {\n        super(os, chords);\n    }\n    _keyCodeToUILabel(keyCode) {\n        if (this._os === 2 /* OperatingSystem.Macintosh */) {\n            switch (keyCode) {\n                case 15 /* KeyCode.LeftArrow */:\n                    return '';\n                case 16 /* KeyCode.UpArrow */:\n                    return '';\n                case 17 /* KeyCode.RightArrow */:\n                    return '';\n                case 18 /* KeyCode.DownArrow */:\n                    return '';\n            }\n        }\n        return KeyCodeUtils.toString(keyCode);\n    }\n    _getLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return this._keyCodeToUILabel(chord.keyCode);\n    }\n    _getAriaLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return KeyCodeUtils.toString(chord.keyCode);\n    }\n    _getElectronAccelerator(chord) {\n        return KeyCodeUtils.toElectronAccelerator(chord.keyCode);\n    }\n    _getChordDispatch(chord) {\n        return USLayoutResolvedKeybinding.getDispatchStr(chord);\n    }\n    static getDispatchStr(chord) {\n        if (chord.isModifierKey()) {\n            return null;\n        }\n        let result = '';\n        if (chord.ctrlKey) {\n            result += 'ctrl+';\n        }\n        if (chord.shiftKey) {\n            result += 'shift+';\n        }\n        if (chord.altKey) {\n            result += 'alt+';\n        }\n        if (chord.metaKey) {\n            result += 'meta+';\n        }\n        result += KeyCodeUtils.toString(chord.keyCode);\n        return result;\n    }\n    _getSingleModifierChordDispatch(keybinding) {\n        if (keybinding.keyCode === 5 /* KeyCode.Ctrl */ && !keybinding.shiftKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'ctrl';\n        }\n        if (keybinding.keyCode === 4 /* KeyCode.Shift */ && !keybinding.ctrlKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'shift';\n        }\n        if (keybinding.keyCode === 6 /* KeyCode.Alt */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.metaKey) {\n            return 'alt';\n        }\n        if (keybinding.keyCode === 57 /* KeyCode.Meta */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.altKey) {\n            return 'meta';\n        }\n        return null;\n    }\n    /**\n     * *NOTE*: Check return value for `KeyCode.Unknown`.\n     */\n    static _scanCodeToKeyCode(scanCode) {\n        const immutableKeyCode = IMMUTABLE_CODE_TO_KEY_CODE[scanCode];\n        if (immutableKeyCode !== -1 /* KeyCode.DependsOnKbLayout */) {\n            return immutableKeyCode;\n        }\n        switch (scanCode) {\n            case 10 /* ScanCode.KeyA */: return 31 /* KeyCode.KeyA */;\n            case 11 /* ScanCode.KeyB */: return 32 /* KeyCode.KeyB */;\n            case 12 /* ScanCode.KeyC */: return 33 /* KeyCode.KeyC */;\n            case 13 /* ScanCode.KeyD */: return 34 /* KeyCode.KeyD */;\n            case 14 /* ScanCode.KeyE */: return 35 /* KeyCode.KeyE */;\n            case 15 /* ScanCode.KeyF */: return 36 /* KeyCode.KeyF */;\n            case 16 /* ScanCode.KeyG */: return 37 /* KeyCode.KeyG */;\n            case 17 /* ScanCode.KeyH */: return 38 /* KeyCode.KeyH */;\n            case 18 /* ScanCode.KeyI */: return 39 /* KeyCode.KeyI */;\n            case 19 /* ScanCode.KeyJ */: return 40 /* KeyCode.KeyJ */;\n            case 20 /* ScanCode.KeyK */: return 41 /* KeyCode.KeyK */;\n            case 21 /* ScanCode.KeyL */: return 42 /* KeyCode.KeyL */;\n            case 22 /* ScanCode.KeyM */: return 43 /* KeyCode.KeyM */;\n            case 23 /* ScanCode.KeyN */: return 44 /* KeyCode.KeyN */;\n            case 24 /* ScanCode.KeyO */: return 45 /* KeyCode.KeyO */;\n            case 25 /* ScanCode.KeyP */: return 46 /* KeyCode.KeyP */;\n            case 26 /* ScanCode.KeyQ */: return 47 /* KeyCode.KeyQ */;\n            case 27 /* ScanCode.KeyR */: return 48 /* KeyCode.KeyR */;\n            case 28 /* ScanCode.KeyS */: return 49 /* KeyCode.KeyS */;\n            case 29 /* ScanCode.KeyT */: return 50 /* KeyCode.KeyT */;\n            case 30 /* ScanCode.KeyU */: return 51 /* KeyCode.KeyU */;\n            case 31 /* ScanCode.KeyV */: return 52 /* KeyCode.KeyV */;\n            case 32 /* ScanCode.KeyW */: return 53 /* KeyCode.KeyW */;\n            case 33 /* ScanCode.KeyX */: return 54 /* KeyCode.KeyX */;\n            case 34 /* ScanCode.KeyY */: return 55 /* KeyCode.KeyY */;\n            case 35 /* ScanCode.KeyZ */: return 56 /* KeyCode.KeyZ */;\n            case 36 /* ScanCode.Digit1 */: return 22 /* KeyCode.Digit1 */;\n            case 37 /* ScanCode.Digit2 */: return 23 /* KeyCode.Digit2 */;\n            case 38 /* ScanCode.Digit3 */: return 24 /* KeyCode.Digit3 */;\n            case 39 /* ScanCode.Digit4 */: return 25 /* KeyCode.Digit4 */;\n            case 40 /* ScanCode.Digit5 */: return 26 /* KeyCode.Digit5 */;\n            case 41 /* ScanCode.Digit6 */: return 27 /* KeyCode.Digit6 */;\n            case 42 /* ScanCode.Digit7 */: return 28 /* KeyCode.Digit7 */;\n            case 43 /* ScanCode.Digit8 */: return 29 /* KeyCode.Digit8 */;\n            case 44 /* ScanCode.Digit9 */: return 30 /* KeyCode.Digit9 */;\n            case 45 /* ScanCode.Digit0 */: return 21 /* KeyCode.Digit0 */;\n            case 51 /* ScanCode.Minus */: return 83 /* KeyCode.Minus */;\n            case 52 /* ScanCode.Equal */: return 81 /* KeyCode.Equal */;\n            case 53 /* ScanCode.BracketLeft */: return 87 /* KeyCode.BracketLeft */;\n            case 54 /* ScanCode.BracketRight */: return 89 /* KeyCode.BracketRight */;\n            case 55 /* ScanCode.Backslash */: return 88 /* KeyCode.Backslash */;\n            case 56 /* ScanCode.IntlHash */: return 0 /* KeyCode.Unknown */; // missing\n            case 57 /* ScanCode.Semicolon */: return 80 /* KeyCode.Semicolon */;\n            case 58 /* ScanCode.Quote */: return 90 /* KeyCode.Quote */;\n            case 59 /* ScanCode.Backquote */: return 86 /* KeyCode.Backquote */;\n            case 60 /* ScanCode.Comma */: return 82 /* KeyCode.Comma */;\n            case 61 /* ScanCode.Period */: return 84 /* KeyCode.Period */;\n            case 62 /* ScanCode.Slash */: return 85 /* KeyCode.Slash */;\n            case 106 /* ScanCode.IntlBackslash */: return 92 /* KeyCode.IntlBackslash */;\n        }\n        return 0 /* KeyCode.Unknown */;\n    }\n    static _toKeyCodeChord(chord) {\n        if (!chord) {\n            return null;\n        }\n        if (chord instanceof KeyCodeChord) {\n            return chord;\n        }\n        const keyCode = this._scanCodeToKeyCode(chord.scanCode);\n        if (keyCode === 0 /* KeyCode.Unknown */) {\n            return null;\n        }\n        return new KeyCodeChord(chord.ctrlKey, chord.shiftKey, chord.altKey, chord.metaKey, keyCode);\n    }\n    static resolveKeybinding(keybinding, os) {\n        const chords = toEmptyArrayIfContainsNull(keybinding.chords.map(chord => this._toKeyCodeChord(chord)));\n        if (chords.length > 0) {\n            return [new USLayoutResolvedKeybinding(chords, os)];\n        }\n        return [];\n    }\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILabelService = createDecorator('labelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILayoutService = createDecorator('layoutService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createStyleSheet } from '../../../base/browser/dom.js';\nimport { PagedList } from '../../../base/browser/ui/list/listPaging.js';\nimport { DefaultStyleController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent, List, TypeNavigationMode } from '../../../base/browser/ui/list/listWidget.js';\nimport { Table } from '../../../base/browser/ui/table/tableWidget.js';\nimport { TreeFindMode, TreeFindMatchType } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { AsyncDataTree, CompressibleAsyncDataTree } from '../../../base/browser/ui/tree/asyncDataTree.js';\nimport { DataTree } from '../../../base/browser/ui/tree/dataTree.js';\nimport { CompressibleObjectTree, ObjectTree } from '../../../base/browser/ui/tree/objectTree.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { combinedDisposable, Disposable, DisposableStore, dispose, toDisposable } from '../../../base/common/lifecycle.js';\nimport { localize } from '../../../nls.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { Extensions as ConfigurationExtensions } from '../../configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../contextkey/common/contextkeys.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { defaultFindWidgetStyles, defaultListStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nexport const IListService = createDecorator('listService');\nexport class ListService {\n    get lastFocusedList() {\n        return this._lastFocusedWidget;\n    }\n    constructor() {\n        this.disposables = new DisposableStore();\n        this.lists = [];\n        this._lastFocusedWidget = undefined;\n        this._hasCreatedStyleController = false;\n    }\n    setLastFocusedList(widget) {\n        var _a, _b;\n        if (widget === this._lastFocusedWidget) {\n            return;\n        }\n        (_a = this._lastFocusedWidget) === null || _a === void 0 ? void 0 : _a.getHTMLElement().classList.remove('last-focused');\n        this._lastFocusedWidget = widget;\n        (_b = this._lastFocusedWidget) === null || _b === void 0 ? void 0 : _b.getHTMLElement().classList.add('last-focused');\n    }\n    register(widget, extraContextKeys) {\n        if (!this._hasCreatedStyleController) {\n            this._hasCreatedStyleController = true;\n            // create a shared default tree style sheet for performance reasons\n            const styleController = new DefaultStyleController(createStyleSheet(), '');\n            styleController.style(defaultListStyles);\n        }\n        if (this.lists.some(l => l.widget === widget)) {\n            throw new Error('Cannot register the same widget multiple times');\n        }\n        // Keep in our lists list\n        const registeredList = { widget, extraContextKeys };\n        this.lists.push(registeredList);\n        // Check for currently being focused\n        if (widget.getHTMLElement() === document.activeElement) {\n            this.setLastFocusedList(widget);\n        }\n        return combinedDisposable(widget.onDidFocus(() => this.setLastFocusedList(widget)), toDisposable(() => this.lists.splice(this.lists.indexOf(registeredList), 1)), widget.onDidDispose(() => {\n            this.lists = this.lists.filter(l => l !== registeredList);\n            if (this._lastFocusedWidget === widget) {\n                this.setLastFocusedList(undefined);\n            }\n        }));\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport const RawWorkbenchListFocusContextKey = new RawContextKey('listFocus', true);\nexport const WorkbenchListSupportsMultiSelectContextKey = new RawContextKey('listSupportsMultiselect', true);\nexport const WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey));\nexport const WorkbenchListHasSelectionOrFocus = new RawContextKey('listHasSelectionOrFocus', false);\nexport const WorkbenchListDoubleSelection = new RawContextKey('listDoubleSelection', false);\nexport const WorkbenchListMultiSelection = new RawContextKey('listMultiSelection', false);\nexport const WorkbenchListSelectionNavigation = new RawContextKey('listSelectionNavigation', false);\nexport const WorkbenchListSupportsFind = new RawContextKey('listSupportsFind', true);\nexport const WorkbenchTreeElementCanCollapse = new RawContextKey('treeElementCanCollapse', false);\nexport const WorkbenchTreeElementHasParent = new RawContextKey('treeElementHasParent', false);\nexport const WorkbenchTreeElementCanExpand = new RawContextKey('treeElementCanExpand', false);\nexport const WorkbenchTreeElementHasChild = new RawContextKey('treeElementHasChild', false);\nexport const WorkbenchTreeFindOpen = new RawContextKey('treeFindOpen', false);\nconst WorkbenchListTypeNavigationModeKey = 'listTypeNavigationMode';\n/**\n * @deprecated in favor of WorkbenchListTypeNavigationModeKey\n */\nconst WorkbenchListAutomaticKeyboardNavigationLegacyKey = 'listAutomaticKeyboardNavigation';\nfunction createScopedContextKeyService(contextKeyService, widget) {\n    const result = contextKeyService.createScoped(widget.getHTMLElement());\n    RawWorkbenchListFocusContextKey.bindTo(result);\n    return result;\n}\nconst multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\nconst openModeSettingKey = 'workbench.list.openMode';\nconst horizontalScrollingKey = 'workbench.list.horizontalScrolling';\nconst defaultFindModeSettingKey = 'workbench.list.defaultFindMode';\nconst typeNavigationModeSettingKey = 'workbench.list.typeNavigationMode';\n/** @deprecated in favor of `workbench.list.defaultFindMode` and `workbench.list.typeNavigationMode` */\nconst keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\nconst scrollByPageKey = 'workbench.list.scrollByPage';\nconst defaultFindMatchTypeSettingKey = 'workbench.list.defaultFindMatchType';\nconst treeIndentKey = 'workbench.tree.indent';\nconst treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\nconst listSmoothScrolling = 'workbench.list.smoothScrolling';\nconst mouseWheelScrollSensitivityKey = 'workbench.list.mouseWheelScrollSensitivity';\nconst fastScrollSensitivityKey = 'workbench.list.fastScrollSensitivity';\nconst treeExpandMode = 'workbench.tree.expandMode';\nfunction useAltAsMultipleSelectionModifier(configurationService) {\n    return configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\n}\nclass MultipleSelectionController extends Disposable {\n    constructor(configurationService) {\n        super();\n        this.configurationService = configurationService;\n        this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(this.configurationService);\n            }\n        }));\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (this.useAltAsMultipleSelectionModifier) {\n            return event.browserEvent.altKey;\n        }\n        return isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        return isSelectionRangeChangeEvent(event);\n    }\n}\nfunction toWorkbenchListOptions(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const keybindingService = accessor.get(IKeybindingService);\n    const disposables = new DisposableStore();\n    const result = Object.assign(Object.assign({}, options), { keyboardNavigationDelegate: { mightProducePrintableCharacter(e) { return keybindingService.mightProducePrintableCharacter(e); } }, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), mouseWheelScrollSensitivity: configurationService.getValue(mouseWheelScrollSensitivityKey), fastScrollSensitivity: configurationService.getValue(fastScrollSensitivityKey), multipleSelectionController: (_a = options.multipleSelectionController) !== null && _a !== void 0 ? _a : disposables.add(new MultipleSelectionController(configurationService)), keyboardNavigationEventFilter: createKeyboardNavigationEventFilter(keybindingService), scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)) });\n    return [result, disposables];\n}\nlet WorkbenchList = class WorkbenchList extends List {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n};\nWorkbenchList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchList);\nexport { WorkbenchList };\nlet WorkbenchPagedList = class WorkbenchPagedList extends PagedList {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables = new DisposableStore();\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchPagedList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchPagedList);\nexport { WorkbenchPagedList };\nlet WorkbenchTable = class WorkbenchTable extends Table {\n    constructor(user, container, delegate, columns, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, columns, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new TableResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchTable = __decorate([\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService),\n    __param(9, IInstantiationService)\n], WorkbenchTable);\nexport { WorkbenchTable };\nclass ResourceNavigator extends Disposable {\n    constructor(widget, options) {\n        var _a;\n        super();\n        this.widget = widget;\n        this._onDidOpen = this._register(new Emitter());\n        this.onDidOpen = this._onDidOpen.event;\n        this._register(Event.filter(this.widget.onDidChangeSelection, e => e.browserEvent instanceof KeyboardEvent)(e => this.onSelectionFromKeyboard(e)));\n        this._register(this.widget.onPointer((e) => this.onPointer(e.element, e.browserEvent)));\n        this._register(this.widget.onMouseDblClick((e) => this.onMouseDblClick(e.element, e.browserEvent)));\n        if (typeof (options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== 'boolean' && (options === null || options === void 0 ? void 0 : options.configurationService)) {\n            this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n            this._register(options === null || options === void 0 ? void 0 : options.configurationService.onDidChangeConfiguration(e => {\n                if (e.affectsConfiguration(openModeSettingKey)) {\n                    this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n                }\n            }));\n        }\n        else {\n            this.openOnSingleClick = (_a = options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== null && _a !== void 0 ? _a : true;\n        }\n    }\n    onSelectionFromKeyboard(event) {\n        if (event.elements.length !== 1) {\n            return;\n        }\n        const selectionKeyboardEvent = event.browserEvent;\n        const preserveFocus = typeof selectionKeyboardEvent.preserveFocus === 'boolean' ? selectionKeyboardEvent.preserveFocus : true;\n        const pinned = typeof selectionKeyboardEvent.pinned === 'boolean' ? selectionKeyboardEvent.pinned : !preserveFocus;\n        const sideBySide = false;\n        this._open(this.getSelectedElement(), preserveFocus, pinned, sideBySide, event.browserEvent);\n    }\n    onPointer(element, browserEvent) {\n        if (!this.openOnSingleClick) {\n            return;\n        }\n        const isDoubleClick = browserEvent.detail === 2;\n        if (isDoubleClick) {\n            return;\n        }\n        const isMiddleClick = browserEvent.button === 1;\n        const preserveFocus = true;\n        const pinned = isMiddleClick;\n        const sideBySide = browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey;\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    onMouseDblClick(element, browserEvent) {\n        if (!browserEvent) {\n            return;\n        }\n        // copied from AbstractTree\n        const target = browserEvent.target;\n        const onTwistie = target.classList.contains('monaco-tl-twistie')\n            || (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && browserEvent.offsetX < 16);\n        if (onTwistie) {\n            return;\n        }\n        const preserveFocus = false;\n        const pinned = true;\n        const sideBySide = (browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey);\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    _open(element, preserveFocus, pinned, sideBySide, browserEvent) {\n        if (!element) {\n            return;\n        }\n        this._onDidOpen.fire({\n            editorOptions: {\n                preserveFocus,\n                pinned,\n                revealIfVisible: true\n            },\n            sideBySide,\n            element,\n            browserEvent\n        });\n    }\n}\nclass ListResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n        this.widget = widget;\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TableResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TreeResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        var _a;\n        return (_a = this.widget.getSelection()[0]) !== null && _a !== void 0 ? _a : undefined;\n    }\n}\nfunction createKeyboardNavigationEventFilter(keybindingService) {\n    let inMultiChord = false;\n    return event => {\n        if (event.toKeyCodeChord().isModifierKey()) {\n            return false;\n        }\n        if (inMultiChord) {\n            inMultiChord = false;\n            return false;\n        }\n        const result = keybindingService.softDispatch(event, event.target);\n        if (result === null || result === void 0 ? void 0 : result.enterMultiChord) {\n            inMultiChord = true;\n            return false;\n        }\n        inMultiChord = false;\n        return !result;\n    };\n}\nlet WorkbenchObjectTree = class WorkbenchObjectTree extends ObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchObjectTree);\nexport { WorkbenchObjectTree };\nlet WorkbenchCompressibleObjectTree = class WorkbenchCompressibleObjectTree extends CompressibleObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchCompressibleObjectTree);\nexport { WorkbenchCompressibleObjectTree };\nlet WorkbenchDataTree = class WorkbenchDataTree extends DataTree {\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchDataTree);\nexport { WorkbenchDataTree };\nlet WorkbenchAsyncDataTree = class WorkbenchAsyncDataTree extends AsyncDataTree {\n    get onDidOpen() { return this.internals.onDidOpen; }\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchAsyncDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchAsyncDataTree);\nexport { WorkbenchAsyncDataTree };\nlet WorkbenchCompressibleAsyncDataTree = class WorkbenchCompressibleAsyncDataTree extends CompressibleAsyncDataTree {\n    constructor(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleAsyncDataTree = __decorate([\n    __param(7, IInstantiationService),\n    __param(8, IContextKeyService),\n    __param(9, IListService),\n    __param(10, IConfigurationService)\n], WorkbenchCompressibleAsyncDataTree);\nexport { WorkbenchCompressibleAsyncDataTree };\nfunction getDefaultTreeFindMode(configurationService) {\n    const value = configurationService.getValue(defaultFindModeSettingKey);\n    if (value === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (value === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    const deprecatedValue = configurationService.getValue(keyboardNavigationSettingKey);\n    if (deprecatedValue === 'simple' || deprecatedValue === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (deprecatedValue === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    return undefined;\n}\nfunction getDefaultTreeFindMatchType(configurationService) {\n    const value = configurationService.getValue(defaultFindMatchTypeSettingKey);\n    if (value === 'fuzzy') {\n        return TreeFindMatchType.Fuzzy;\n    }\n    else if (value === 'contiguous') {\n        return TreeFindMatchType.Contiguous;\n    }\n    return undefined;\n}\nfunction workbenchTreeDataPreamble(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const contextViewService = accessor.get(IContextViewService);\n    const contextKeyService = accessor.get(IContextKeyService);\n    const instantiationService = accessor.get(IInstantiationService);\n    const getTypeNavigationMode = () => {\n        // give priority to the context key value to specify a value\n        const modeString = contextKeyService.getContextKeyValue(WorkbenchListTypeNavigationModeKey);\n        if (modeString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (modeString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        // also check the deprecated context key to set the mode to 'trigger'\n        const modeBoolean = contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        if (modeBoolean === false) {\n            return TypeNavigationMode.Trigger;\n        }\n        // finally, check the setting\n        const configString = configurationService.getValue(typeNavigationModeSettingKey);\n        if (configString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (configString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        return undefined;\n    };\n    const horizontalScrolling = options.horizontalScrolling !== undefined ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n    const [workbenchListOptions, disposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n    const additionalScrollHeight = options.additionalScrollHeight;\n    const renderIndentGuides = options.renderIndentGuides !== undefined ? options.renderIndentGuides : configurationService.getValue(treeRenderIndentGuidesKey);\n    return {\n        getTypeNavigationMode,\n        disposable,\n        options: Object.assign(Object.assign({ \n            // ...options, // TODO@Joao why is this not splatted here?\n            keyboardSupport: false }, workbenchListOptions), { indent: typeof configurationService.getValue(treeIndentKey) === 'number' ? configurationService.getValue(treeIndentKey) : undefined, renderIndentGuides, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), defaultFindMode: getDefaultTreeFindMode(configurationService), defaultFindMatchType: getDefaultTreeFindMatchType(configurationService), horizontalScrolling, scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)), additionalScrollHeight, hideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements, expandOnlyOnTwistieClick: (_a = options.expandOnlyOnTwistieClick) !== null && _a !== void 0 ? _a : (configurationService.getValue(treeExpandMode) === 'doubleClick'), contextViewProvider: contextViewService, findWidgetStyles: defaultFindWidgetStyles })\n    };\n}\nlet WorkbenchTreeInternals = class WorkbenchTreeInternals {\n    get onDidOpen() { return this.navigator.onDidOpen; }\n    constructor(tree, options, getTypeNavigationMode, overrideStyles, contextKeyService, listService, configurationService) {\n        var _a;\n        this.tree = tree;\n        this.disposables = [];\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listSupportFindWidget = WorkbenchListSupportsFind.bindTo(this.contextKeyService);\n        this.listSupportFindWidget.set((_a = options.findWidgetEnabled) !== null && _a !== void 0 ? _a : true);\n        this.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.treeElementCanCollapse = WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService);\n        this.treeElementHasParent = WorkbenchTreeElementHasParent.bindTo(this.contextKeyService);\n        this.treeElementCanExpand = WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService);\n        this.treeElementHasChild = WorkbenchTreeElementHasChild.bindTo(this.contextKeyService);\n        this.treeFindOpen = WorkbenchTreeFindOpen.bindTo(this.contextKeyService);\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.updateStyleOverrides(overrideStyles);\n        const updateCollapseContextKeys = () => {\n            const focus = tree.getFocus()[0];\n            if (!focus) {\n                return;\n            }\n            const node = tree.getNode(focus);\n            this.treeElementCanCollapse.set(node.collapsible && !node.collapsed);\n            this.treeElementHasParent.set(!!tree.getParentElement(focus));\n            this.treeElementCanExpand.set(node.collapsible && node.collapsed);\n            this.treeElementHasChild.set(!!tree.getFirstElementChild(focus));\n        };\n        const interestingContextKeys = new Set();\n        interestingContextKeys.add(WorkbenchListTypeNavigationModeKey);\n        interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        this.disposables.push(this.contextKeyService, listService.register(tree), tree.onDidChangeSelection(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.hasMultiSelection.set(selection.length > 1);\n                this.hasDoubleSelection.set(selection.length === 2);\n            });\n        }), tree.onDidChangeFocus(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n            updateCollapseContextKeys();\n        }), tree.onDidChangeCollapseState(updateCollapseContextKeys), tree.onDidChangeModel(updateCollapseContextKeys), tree.onDidChangeFindOpenState(enabled => this.treeFindOpen.set(enabled)), configurationService.onDidChangeConfiguration(e => {\n            let newOptions = {};\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            if (e.affectsConfiguration(treeIndentKey)) {\n                const indent = configurationService.getValue(treeIndentKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { indent });\n            }\n            if (e.affectsConfiguration(treeRenderIndentGuidesKey) && options.renderIndentGuides === undefined) {\n                const renderIndentGuides = configurationService.getValue(treeRenderIndentGuidesKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { renderIndentGuides });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                newOptions = Object.assign(Object.assign({}, newOptions), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(defaultFindModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const defaultFindMode = getDefaultTreeFindMode(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMode });\n            }\n            if (e.affectsConfiguration(typeNavigationModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const typeNavigationMode = getTypeNavigationMode();\n                newOptions = Object.assign(Object.assign({}, newOptions), { typeNavigationMode });\n            }\n            if (e.affectsConfiguration(defaultFindMatchTypeSettingKey)) {\n                const defaultFindMatchType = getDefaultTreeFindMatchType(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMatchType });\n            }\n            if (e.affectsConfiguration(horizontalScrollingKey) && options.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { scrollByPage });\n            }\n            if (e.affectsConfiguration(treeExpandMode) && options.expandOnlyOnTwistieClick === undefined) {\n                newOptions = Object.assign(Object.assign({}, newOptions), { expandOnlyOnTwistieClick: configurationService.getValue(treeExpandMode) === 'doubleClick' });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { fastScrollSensitivity });\n            }\n            if (Object.keys(newOptions).length > 0) {\n                tree.updateOptions(newOptions);\n            }\n        }), this.contextKeyService.onDidChangeContext(e => {\n            if (e.affectsSome(interestingContextKeys)) {\n                tree.updateOptions({ typeNavigationMode: getTypeNavigationMode() });\n            }\n        }));\n        this.navigator = new TreeResourceNavigator(tree, Object.assign({ configurationService }, options));\n        this.disposables.push(this.navigator);\n    }\n    updateOptions(options) {\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyleOverrides(overrideStyles) {\n        this.tree.style(overrideStyles ? getListStyles(overrideStyles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables = dispose(this.disposables);\n    }\n};\nWorkbenchTreeInternals = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, IListService),\n    __param(6, IConfigurationService)\n], WorkbenchTreeInternals);\nconst configurationRegistry = Registry.as(ConfigurationExtensions.Configuration);\nconfigurationRegistry.registerConfiguration({\n    id: 'workbench',\n    order: 7,\n    title: localize('workbenchConfigurationTitle', \"Workbench\"),\n    type: 'object',\n    properties: {\n        [multiSelectModifierSettingKey]: {\n            type: 'string',\n            enum: ['ctrlCmd', 'alt'],\n            markdownEnumDescriptions: [\n                localize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n                localize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n            ],\n            default: 'ctrlCmd',\n            description: localize({\n                key: 'multiSelectModifier',\n                comment: [\n                    '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n                    '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n                ]\n            }, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\n        },\n        [openModeSettingKey]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize({\n                key: 'openModeModifier',\n                comment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\n            }, \"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.\")\n        },\n        [horizontalScrollingKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.\")\n        },\n        [scrollByPageKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list.scrollByPage', \"Controls whether clicks in the scrollbar scroll page by page.\")\n        },\n        [treeIndentKey]: {\n            type: 'number',\n            default: 8,\n            minimum: 4,\n            maximum: 40,\n            description: localize('tree indent setting', \"Controls tree indentation in pixels.\")\n        },\n        [treeRenderIndentGuidesKey]: {\n            type: 'string',\n            enum: ['none', 'onHover', 'always'],\n            default: 'onHover',\n            description: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\n        },\n        [listSmoothScrolling]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list smoothScrolling setting', \"Controls whether lists and trees have smooth scrolling.\"),\n        },\n        [mouseWheelScrollSensitivityKey]: {\n            type: 'number',\n            default: 1,\n            markdownDescription: localize('Mouse Wheel Scroll Sensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\")\n        },\n        [fastScrollSensitivityKey]: {\n            type: 'number',\n            default: 5,\n            markdownDescription: localize('Fast Scroll Sensitivity', \"Scrolling speed multiplier when pressing `Alt`.\")\n        },\n        [defaultFindModeSettingKey]: {\n            type: 'string',\n            enum: ['highlight', 'filter'],\n            enumDescriptions: [\n                localize('defaultFindModeSettingKey.highlight', \"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('defaultFindModeSettingKey.filter', \"Filter elements when searching.\")\n            ],\n            default: 'highlight',\n            description: localize('defaultFindModeSettingKey', \"Controls the default find mode for lists and trees in the workbench.\")\n        },\n        [keyboardNavigationSettingKey]: {\n            type: 'string',\n            enum: ['simple', 'highlight', 'filter'],\n            enumDescriptions: [\n                localize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\n                localize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\n            ],\n            default: 'highlight',\n            description: localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\"),\n            deprecated: true,\n            deprecationMessage: localize('keyboardNavigationSettingKeyDeprecated', \"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.\")\n        },\n        [defaultFindMatchTypeSettingKey]: {\n            type: 'string',\n            enum: ['fuzzy', 'contiguous'],\n            enumDescriptions: [\n                localize('defaultFindMatchTypeSettingKey.fuzzy', \"Use fuzzy matching when searching.\"),\n                localize('defaultFindMatchTypeSettingKey.contiguous', \"Use contiguous matching when searching.\")\n            ],\n            default: 'fuzzy',\n            description: localize('defaultFindMatchTypeSettingKey', \"Controls the type of matching used when searching lists and trees in the workbench.\")\n        },\n        [treeExpandMode]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize('expand mode', \"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.\"),\n        },\n        [typeNavigationModeSettingKey]: {\n            type: 'string',\n            enum: ['automatic', 'trigger'],\n            default: 'automatic',\n            description: localize('typeNavigationMode', \"Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.\"),\n        }\n    }\n});\n","import { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILogService = createDecorator('logService');\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Off\"] = 0] = \"Off\";\n    LogLevel[LogLevel[\"Trace\"] = 1] = \"Trace\";\n    LogLevel[LogLevel[\"Debug\"] = 2] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 4] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 5] = \"Error\";\n})(LogLevel || (LogLevel = {}));\nexport const DEFAULT_LOG_LEVEL = LogLevel.Info;\nexport class AbstractLogger extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.level = DEFAULT_LOG_LEVEL;\n        this._onDidChangeLogLevel = this._register(new Emitter());\n        this.onDidChangeLogLevel = this._onDidChangeLogLevel.event;\n    }\n    setLevel(level) {\n        if (this.level !== level) {\n            this.level = level;\n            this._onDidChangeLogLevel.fire(this.level);\n        }\n    }\n    getLevel() {\n        return this.level;\n    }\n    checkLogLevel(level) {\n        return this.level !== LogLevel.Off && this.level <= level;\n    }\n}\nexport class ConsoleLogger extends AbstractLogger {\n    constructor(logLevel = DEFAULT_LOG_LEVEL) {\n        super();\n        this.setLevel(logLevel);\n    }\n    trace(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Trace)) {\n            console.log('%cTRACE', 'color: #888', message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Debug)) {\n            console.log('%cDEBUG', 'background: #eee; color: #888', message, ...args);\n        }\n    }\n    info(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Info)) {\n            console.log('%c INFO', 'color: #33f', message, ...args);\n        }\n    }\n    error(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Error)) {\n            console.log('%c  ERR', 'color: #f33', message, ...args);\n        }\n    }\n    dispose() {\n        // noop\n    }\n}\nexport class MultiplexLogger extends AbstractLogger {\n    constructor(loggers) {\n        super();\n        this.loggers = loggers;\n        if (loggers.length) {\n            this.setLevel(loggers[0].getLevel());\n        }\n    }\n    setLevel(level) {\n        for (const logger of this.loggers) {\n            logger.setLevel(level);\n        }\n        super.setLevel(level);\n    }\n    trace(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.trace(message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.debug(message, ...args);\n        }\n    }\n    info(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.info(message, ...args);\n        }\n    }\n    error(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.error(message, ...args);\n        }\n    }\n    dispose() {\n        for (const logger of this.loggers) {\n            logger.dispose();\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { MultiplexLogger } from './log.js';\nexport class LogService extends Disposable {\n    constructor(primaryLogger, otherLoggers = []) {\n        super();\n        this.logger = new MultiplexLogger([primaryLogger, ...otherLoggers]);\n        this._register(primaryLogger.onDidChangeLogLevel(level => this.setLevel(level)));\n    }\n    get onDidChangeLogLevel() {\n        return this.logger.onDidChangeLogLevel;\n    }\n    setLevel(level) {\n        this.logger.setLevel(level);\n    }\n    getLevel() {\n        return this.logger.getLevel();\n    }\n    trace(message, ...args) {\n        this.logger.trace(message, ...args);\n    }\n    debug(message, ...args) {\n        this.logger.debug(message, ...args);\n    }\n    info(message, ...args) {\n        this.logger.info(message, ...args);\n    }\n    error(message, ...args) {\n        this.logger.error(message, ...args);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport const unsupportedSchemas = new Set([Schemas.inMemory, Schemas.vscodeSourceControl, Schemas.walkThrough, Schemas.walkThroughSnippet]);\nclass DoubleResourceMap {\n    constructor() {\n        this._byResource = new ResourceMap();\n        this._byOwner = new Map();\n    }\n    set(resource, owner, value) {\n        let ownerMap = this._byResource.get(resource);\n        if (!ownerMap) {\n            ownerMap = new Map();\n            this._byResource.set(resource, ownerMap);\n        }\n        ownerMap.set(owner, value);\n        let resourceMap = this._byOwner.get(owner);\n        if (!resourceMap) {\n            resourceMap = new ResourceMap();\n            this._byOwner.set(owner, resourceMap);\n        }\n        resourceMap.set(resource, value);\n    }\n    get(resource, owner) {\n        const ownerMap = this._byResource.get(resource);\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n    delete(resource, owner) {\n        let removedA = false;\n        let removedB = false;\n        const ownerMap = this._byResource.get(resource);\n        if (ownerMap) {\n            removedA = ownerMap.delete(owner);\n        }\n        const resourceMap = this._byOwner.get(owner);\n        if (resourceMap) {\n            removedB = resourceMap.delete(resource);\n        }\n        if (removedA !== removedB) {\n            throw new Error('illegal state');\n        }\n        return removedA && removedB;\n    }\n    values(key) {\n        var _a, _b, _c, _d;\n        if (typeof key === 'string') {\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n        }\n        if (URI.isUri(key)) {\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n        }\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n    }\n}\nclass MarkerStats {\n    constructor(service) {\n        this.errors = 0;\n        this.infos = 0;\n        this.warnings = 0;\n        this.unknowns = 0;\n        this._data = new ResourceMap();\n        this._service = service;\n        this._subscription = service.onMarkerChanged(this._update, this);\n    }\n    dispose() {\n        this._subscription.dispose();\n    }\n    _update(resources) {\n        for (const resource of resources) {\n            const oldStats = this._data.get(resource);\n            if (oldStats) {\n                this._substract(oldStats);\n            }\n            const newStats = this._resourceStats(resource);\n            this._add(newStats);\n            this._data.set(resource, newStats);\n        }\n    }\n    _resourceStats(resource) {\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\n        // TODO this is a hack\n        if (unsupportedSchemas.has(resource.scheme)) {\n            return result;\n        }\n        for (const { severity } of this._service.read({ resource })) {\n            if (severity === MarkerSeverity.Error) {\n                result.errors += 1;\n            }\n            else if (severity === MarkerSeverity.Warning) {\n                result.warnings += 1;\n            }\n            else if (severity === MarkerSeverity.Info) {\n                result.infos += 1;\n            }\n            else {\n                result.unknowns += 1;\n            }\n        }\n        return result;\n    }\n    _substract(op) {\n        this.errors -= op.errors;\n        this.warnings -= op.warnings;\n        this.infos -= op.infos;\n        this.unknowns -= op.unknowns;\n    }\n    _add(op) {\n        this.errors += op.errors;\n        this.warnings += op.warnings;\n        this.infos += op.infos;\n        this.unknowns += op.unknowns;\n    }\n}\nexport class MarkerService {\n    constructor() {\n        this._onMarkerChanged = new DebounceEmitter({\n            delay: 0,\n            merge: MarkerService._merge\n        });\n        this.onMarkerChanged = this._onMarkerChanged.event;\n        this._data = new DoubleResourceMap();\n        this._stats = new MarkerStats(this);\n    }\n    dispose() {\n        this._stats.dispose();\n        this._onMarkerChanged.dispose();\n    }\n    remove(owner, resources) {\n        for (const resource of resources || []) {\n            this.changeOne(owner, resource, []);\n        }\n    }\n    changeOne(owner, resource, markerData) {\n        if (isFalsyOrEmpty(markerData)) {\n            // remove marker for this (owner,resource)-tuple\n            const removed = this._data.delete(resource, owner);\n            if (removed) {\n                this._onMarkerChanged.fire([resource]);\n            }\n        }\n        else {\n            // insert marker for this (owner,resource)-tuple\n            const markers = [];\n            for (const data of markerData) {\n                const marker = MarkerService._toMarker(owner, resource, data);\n                if (marker) {\n                    markers.push(marker);\n                }\n            }\n            this._data.set(resource, owner, markers);\n            this._onMarkerChanged.fire([resource]);\n        }\n    }\n    static _toMarker(owner, resource, data) {\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\n        if (!message) {\n            return undefined;\n        }\n        // santize data\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n        startColumn = startColumn > 0 ? startColumn : 1;\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n        endColumn = endColumn > 0 ? endColumn : startColumn;\n        return {\n            resource,\n            owner,\n            code,\n            severity,\n            message,\n            source,\n            startLineNumber,\n            startColumn,\n            endLineNumber,\n            endColumn,\n            relatedInformation,\n            tags,\n        };\n    }\n    changeAll(owner, data) {\n        const changes = [];\n        // remove old marker\n        const existing = this._data.values(owner);\n        if (existing) {\n            for (const data of existing) {\n                const first = Iterable.first(data);\n                if (first) {\n                    changes.push(first.resource);\n                    this._data.delete(first.resource, owner);\n                }\n            }\n        }\n        // add new markers\n        if (isNonEmptyArray(data)) {\n            // group by resource\n            const groups = new ResourceMap();\n            for (const { resource, marker: markerData } of data) {\n                const marker = MarkerService._toMarker(owner, resource, markerData);\n                if (!marker) {\n                    // filter bad markers\n                    continue;\n                }\n                const array = groups.get(resource);\n                if (!array) {\n                    groups.set(resource, [marker]);\n                    changes.push(resource);\n                }\n                else {\n                    array.push(marker);\n                }\n            }\n            // insert all\n            for (const [resource, value] of groups) {\n                this._data.set(resource, owner, value);\n            }\n        }\n        if (changes.length > 0) {\n            this._onMarkerChanged.fire(changes);\n        }\n    }\n    read(filter = Object.create(null)) {\n        let { owner, resource, severities, take } = filter;\n        if (!take || take < 0) {\n            take = -1;\n        }\n        if (owner && resource) {\n            // exactly one owner AND resource\n            const data = this._data.get(resource, owner);\n            if (!data) {\n                return [];\n            }\n            else {\n                const result = [];\n                for (const marker of data) {\n                    if (MarkerService._accept(marker, severities)) {\n                        const newLen = result.push(marker);\n                        if (take > 0 && newLen === take) {\n                            break;\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n        else if (!owner && !resource) {\n            // all\n            const result = [];\n            for (const markers of this._data.values()) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        else {\n            // of one resource OR owner\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n            const result = [];\n            for (const markers of iterable) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n    static _accept(marker, severities) {\n        return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n    static _merge(all) {\n        const set = new ResourceMap();\n        for (const array of all) {\n            for (const item of array) {\n                set.set(item, true);\n            }\n        }\n        return Array.from(set.keys());\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('', '\\\\'));\n            }\n            else {\n                result.push(markerData.code.value.replace('', '\\\\'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n","import BaseSeverity from '../../../base/common/severity.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var Severity = BaseSeverity;\nexport const INotificationService = createDecorator('notificationService');\nexport class NoOpNotification {\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { $, append, EventHelper } from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../../base/browser/touch.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IOpenerService } from '../common/opener.js';\nimport './link.css';\nlet Link = class Link extends Disposable {\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        if (enabled) {\n            this.el.setAttribute('aria-disabled', 'false');\n            this.el.tabIndex = 0;\n            this.el.style.pointerEvents = 'auto';\n            this.el.style.opacity = '1';\n            this.el.style.cursor = 'pointer';\n            this._enabled = false;\n        }\n        else {\n            this.el.setAttribute('aria-disabled', 'true');\n            this.el.tabIndex = -1;\n            this.el.style.pointerEvents = 'none';\n            this.el.style.opacity = '0.4';\n            this.el.style.cursor = 'default';\n            this._enabled = true;\n        }\n        this._enabled = enabled;\n    }\n    constructor(container, _link, options = {}, openerService) {\n        var _a;\n        super();\n        this._link = _link;\n        this._enabled = true;\n        this.el = append(container, $('a.monaco-link', {\n            tabIndex: (_a = _link.tabIndex) !== null && _a !== void 0 ? _a : 0,\n            href: _link.href,\n            title: _link.title\n        }, _link.label));\n        this.el.setAttribute('role', 'button');\n        const onClickEmitter = this._register(new DomEmitter(this.el, 'click'));\n        const onKeyPress = this._register(new DomEmitter(this.el, 'keypress'));\n        const onEnterPress = Event.chain(onKeyPress.event)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 3 /* KeyCode.Enter */)\n            .event;\n        const onTap = this._register(new DomEmitter(this.el, TouchEventType.Tap)).event;\n        this._register(Gesture.addTarget(this.el));\n        const onOpen = Event.any(onClickEmitter.event, onEnterPress, onTap);\n        this._register(onOpen(e => {\n            if (!this.enabled) {\n                return;\n            }\n            EventHelper.stop(e, true);\n            if (options === null || options === void 0 ? void 0 : options.opener) {\n                options.opener(this._link.href);\n            }\n            else {\n                openerService.open(this._link.href, { allowCommands: true });\n            }\n        }));\n        this.enabled = true;\n    }\n};\nLink = __decorate([\n    __param(3, IOpenerService)\n], Link);\nexport { Link };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { equalsIgnoreCase, startsWithIgnoreCase } from '../../../base/common/strings.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IOpenerService = createDecorator('openerService');\nexport function matchesScheme(target, scheme) {\n    if (URI.isUri(target)) {\n        return equalsIgnoreCase(target.scheme, scheme);\n    }\n    else {\n        return startsWithIgnoreCase(target, scheme + ':');\n    }\n}\nexport function matchesSomeScheme(target, ...schemes) {\n    return schemes.some(scheme => matchesScheme(target, scheme));\n}\n/**\n * file:///some/file.js#73\n * file:///some/file.js#L73\n * file:///some/file.js#73,84\n * file:///some/file.js#L73,84\n * file:///some/file.js#73-83\n * file:///some/file.js#L73-L83\n * file:///some/file.js#73,84-83,52\n * file:///some/file.js#L73,84-L83,52\n */\nexport function extractSelection(uri) {\n    let selection = undefined;\n    const match = /^L?(\\d+)(?:,(\\d+))?(-L?(\\d+)(?:,(\\d+))?)?/.exec(uri.fragment);\n    if (match) {\n        selection = {\n            startLineNumber: parseInt(match[1]),\n            startColumn: match[2] ? parseInt(match[2]) : 1,\n            endLineNumber: match[4] ? parseInt(match[4]) : undefined,\n            endColumn: match[4] ? (match[5] ? parseInt(match[5]) : 1) : undefined\n        };\n        uri = uri.with({ fragment: '' });\n    }\n    return { selection, uri };\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n    total() { },\n    worked() { },\n    done() { }\n});\nclass Progress {\n    constructor(callback) {\n        this.callback = callback;\n    }\n    report(item) {\n        this._value = item;\n        this.callback(this._value);\n    }\n}\nProgress.None = Object.freeze({ report() { } });\nexport { Progress };\nexport const IEditorProgressService = createDecorator('editorProgressService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { timeout } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nexport var TriggerAction;\n(function (TriggerAction) {\n    /**\n     * Do nothing after the button was clicked.\n     */\n    TriggerAction[TriggerAction[\"NO_ACTION\"] = 0] = \"NO_ACTION\";\n    /**\n     * Close the picker.\n     */\n    TriggerAction[TriggerAction[\"CLOSE_PICKER\"] = 1] = \"CLOSE_PICKER\";\n    /**\n     * Update the results of the picker.\n     */\n    TriggerAction[TriggerAction[\"REFRESH_PICKER\"] = 2] = \"REFRESH_PICKER\";\n    /**\n     * Remove the item from the picker.\n     */\n    TriggerAction[TriggerAction[\"REMOVE_ITEM\"] = 3] = \"REMOVE_ITEM\";\n})(TriggerAction || (TriggerAction = {}));\nfunction isPicksWithActive(obj) {\n    const candidate = obj;\n    return Array.isArray(candidate.items);\n}\nfunction isFastAndSlowPicks(obj) {\n    const candidate = obj;\n    return !!candidate.picks && candidate.additionalPicks instanceof Promise;\n}\nclass PickerQuickAccessProvider extends Disposable {\n    constructor(prefix, options) {\n        super();\n        this.prefix = prefix;\n        this.options = options;\n    }\n    provide(picker, token, runOptions) {\n        var _a;\n        const disposables = new DisposableStore();\n        // Apply options if any\n        picker.canAcceptInBackground = !!((_a = this.options) === null || _a === void 0 ? void 0 : _a.canAcceptInBackground);\n        // Disable filtering & sorting, we control the results\n        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;\n        // Set initial picks and update on type\n        let picksCts = undefined;\n        const picksDisposable = disposables.add(new MutableDisposable());\n        const updatePickerItems = () => __awaiter(this, void 0, void 0, function* () {\n            const picksDisposables = picksDisposable.value = new DisposableStore();\n            // Cancel any previous ask for picks and busy\n            picksCts === null || picksCts === void 0 ? void 0 : picksCts.dispose(true);\n            picker.busy = false;\n            // Create new cancellation source for this run\n            picksCts = new CancellationTokenSource(token);\n            // Collect picks and support both long running and short or combined\n            const picksToken = picksCts.token;\n            const picksFilter = picker.value.substr(this.prefix.length).trim();\n            const providedPicks = this._getPicks(picksFilter, picksDisposables, picksToken, runOptions);\n            const applyPicks = (picks, skipEmpty) => {\n                var _a;\n                let items;\n                let activeItem = undefined;\n                if (isPicksWithActive(picks)) {\n                    items = picks.items;\n                    activeItem = picks.active;\n                }\n                else {\n                    items = picks;\n                }\n                if (items.length === 0) {\n                    if (skipEmpty) {\n                        return false;\n                    }\n                    if (picksFilter.length > 0 && ((_a = this.options) === null || _a === void 0 ? void 0 : _a.noResultsPick)) {\n                        items = [this.options.noResultsPick];\n                    }\n                }\n                picker.items = items;\n                if (activeItem) {\n                    picker.activeItems = [activeItem];\n                }\n                return true;\n            };\n            // No Picks\n            if (providedPicks === null) {\n                // Ignore\n            }\n            // Fast and Slow Picks\n            else if (isFastAndSlowPicks(providedPicks)) {\n                let fastPicksApplied = false;\n                let slowPicksApplied = false;\n                yield Promise.all([\n                    // Fast Picks: to reduce amount of flicker, we race against\n                    // the slow picks over 500ms and then set the fast picks.\n                    // If the slow picks are faster, we reduce the flicker by\n                    // only setting the items once.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        yield timeout(PickerQuickAccessProvider.FAST_PICKS_RACE_DELAY);\n                        if (picksToken.isCancellationRequested) {\n                            return;\n                        }\n                        if (!slowPicksApplied) {\n                            fastPicksApplied = applyPicks(providedPicks.picks, true /* skip over empty to reduce flicker */);\n                        }\n                    }))(),\n                    // Slow Picks: we await the slow picks and then set them at\n                    // once together with the fast picks, but only if we actually\n                    // have additional results.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        picker.busy = true;\n                        try {\n                            const awaitedAdditionalPicks = yield providedPicks.additionalPicks;\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                            let picks;\n                            let activePick = undefined;\n                            if (isPicksWithActive(providedPicks.picks)) {\n                                picks = providedPicks.picks.items;\n                                activePick = providedPicks.picks.active;\n                            }\n                            else {\n                                picks = providedPicks.picks;\n                            }\n                            let additionalPicks;\n                            let additionalActivePick = undefined;\n                            if (isPicksWithActive(awaitedAdditionalPicks)) {\n                                additionalPicks = awaitedAdditionalPicks.items;\n                                additionalActivePick = awaitedAdditionalPicks.active;\n                            }\n                            else {\n                                additionalPicks = awaitedAdditionalPicks;\n                            }\n                            if (additionalPicks.length > 0 || !fastPicksApplied) {\n                                // If we do not have any activePick or additionalActivePick\n                                // we try to preserve the currently active pick from the\n                                // fast results. This fixes an issue where the user might\n                                // have made a pick active before the additional results\n                                // kick in.\n                                // See https://github.com/microsoft/vscode/issues/102480\n                                let fallbackActivePick = undefined;\n                                if (!activePick && !additionalActivePick) {\n                                    const fallbackActivePickCandidate = picker.activeItems[0];\n                                    if (fallbackActivePickCandidate && picks.indexOf(fallbackActivePickCandidate) !== -1) {\n                                        fallbackActivePick = fallbackActivePickCandidate;\n                                    }\n                                }\n                                applyPicks({\n                                    items: [...picks, ...additionalPicks],\n                                    active: activePick || additionalActivePick || fallbackActivePick\n                                });\n                            }\n                        }\n                        finally {\n                            if (!picksToken.isCancellationRequested) {\n                                picker.busy = false;\n                            }\n                            slowPicksApplied = true;\n                        }\n                    }))()\n                ]);\n            }\n            // Fast Picks\n            else if (!(providedPicks instanceof Promise)) {\n                applyPicks(providedPicks);\n            }\n            // Slow Picks\n            else {\n                picker.busy = true;\n                try {\n                    const awaitedPicks = yield providedPicks;\n                    if (picksToken.isCancellationRequested) {\n                        return;\n                    }\n                    applyPicks(awaitedPicks);\n                }\n                finally {\n                    if (!picksToken.isCancellationRequested) {\n                        picker.busy = false;\n                    }\n                }\n            }\n        });\n        disposables.add(picker.onDidChangeValue(() => updatePickerItems()));\n        updatePickerItems();\n        // Accept the pick on accept and hide picker\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (typeof (item === null || item === void 0 ? void 0 : item.accept) === 'function') {\n                if (!event.inBackground) {\n                    picker.hide(); // hide picker unless we accept in background\n                }\n                item.accept(picker.keyMods, event);\n            }\n        }));\n        // Trigger the pick with button index if button triggered\n        disposables.add(picker.onDidTriggerItemButton(({ button, item }) => __awaiter(this, void 0, void 0, function* () {\n            var _b, _c;\n            if (typeof item.trigger === 'function') {\n                const buttonIndex = (_c = (_b = item.buttons) === null || _b === void 0 ? void 0 : _b.indexOf(button)) !== null && _c !== void 0 ? _c : -1;\n                if (buttonIndex >= 0) {\n                    const result = item.trigger(buttonIndex, picker.keyMods);\n                    const action = (typeof result === 'number') ? result : yield result;\n                    if (token.isCancellationRequested) {\n                        return;\n                    }\n                    switch (action) {\n                        case TriggerAction.NO_ACTION:\n                            break;\n                        case TriggerAction.CLOSE_PICKER:\n                            picker.hide();\n                            break;\n                        case TriggerAction.REFRESH_PICKER:\n                            updatePickerItems();\n                            break;\n                        case TriggerAction.REMOVE_ITEM: {\n                            const index = picker.items.indexOf(item);\n                            if (index !== -1) {\n                                const items = picker.items.slice();\n                                const removed = items.splice(index, 1);\n                                const activeItems = picker.activeItems.filter(activeItem => activeItem !== removed[0]);\n                                const keepScrollPositionBefore = picker.keepScrollPosition;\n                                picker.keepScrollPosition = true;\n                                picker.items = items;\n                                if (activeItems) {\n                                    picker.activeItems = activeItems;\n                                }\n                                picker.keepScrollPosition = keepScrollPositionBefore;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        })));\n        return disposables;\n    }\n}\nPickerQuickAccessProvider.FAST_PICKS_RACE_DELAY = 200; // timeout before we accept fast results before slow results are present\nexport { PickerQuickAccessProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { toErrorMessage } from '../../../base/common/errorMessage.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { matchesContiguousSubString, matchesPrefix, matchesWords, or } from '../../../base/common/filters.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport { localize } from '../../../nls.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IDialogService } from '../../dialogs/common/dialogs.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { PickerQuickAccessProvider } from './pickerQuickAccess.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nlet AbstractCommandsQuickAccessProvider = class AbstractCommandsQuickAccessProvider extends PickerQuickAccessProvider {\n    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService) {\n        super(AbstractCommandsQuickAccessProvider.PREFIX, options);\n        this.instantiationService = instantiationService;\n        this.keybindingService = keybindingService;\n        this.commandService = commandService;\n        this.telemetryService = telemetryService;\n        this.dialogService = dialogService;\n        this.commandsHistory = this._register(this.instantiationService.createInstance(CommandsHistory));\n        this.options = options;\n    }\n    _getPicks(filter, _disposables, token, runOptions) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            // Ask subclass for all command picks\n            const allCommandPicks = yield this.getCommandPicks(token);\n            if (token.isCancellationRequested) {\n                return [];\n            }\n            // Filter\n            const filteredCommandPicks = [];\n            for (const commandPick of allCommandPicks) {\n                const labelHighlights = withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.label));\n                const aliasHighlights = commandPick.commandAlias ? withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.commandAlias)) : undefined;\n                // Add if matching in label or alias\n                if (labelHighlights || aliasHighlights) {\n                    commandPick.highlights = {\n                        label: labelHighlights,\n                        detail: this.options.showAlias ? aliasHighlights : undefined\n                    };\n                    filteredCommandPicks.push(commandPick);\n                }\n                // Also add if we have a 100% command ID match\n                else if (filter === commandPick.commandId) {\n                    filteredCommandPicks.push(commandPick);\n                }\n            }\n            // Add description to commands that have duplicate labels\n            const mapLabelToCommand = new Map();\n            for (const commandPick of filteredCommandPicks) {\n                const existingCommandForLabel = mapLabelToCommand.get(commandPick.label);\n                if (existingCommandForLabel) {\n                    commandPick.description = commandPick.commandId;\n                    existingCommandForLabel.description = existingCommandForLabel.commandId;\n                }\n                else {\n                    mapLabelToCommand.set(commandPick.label, commandPick);\n                }\n            }\n            // Sort by MRU order and fallback to name otherwise\n            filteredCommandPicks.sort((commandPickA, commandPickB) => {\n                const commandACounter = this.commandsHistory.peek(commandPickA.commandId);\n                const commandBCounter = this.commandsHistory.peek(commandPickB.commandId);\n                if (commandACounter && commandBCounter) {\n                    return commandACounter > commandBCounter ? -1 : 1; // use more recently used command before older\n                }\n                if (commandACounter) {\n                    return -1; // first command was used, so it wins over the non used one\n                }\n                if (commandBCounter) {\n                    return 1; // other command was used so it wins over the command\n                }\n                if (this.options.suggestedCommandIds) {\n                    const commandASuggestion = this.options.suggestedCommandIds.has(commandPickA.commandId);\n                    const commandBSuggestion = this.options.suggestedCommandIds.has(commandPickB.commandId);\n                    if (commandASuggestion && commandBSuggestion) {\n                        return 0; // honor the order of the array\n                    }\n                    if (commandASuggestion) {\n                        return -1; // first command was suggested, so it wins over the non suggested one\n                    }\n                    if (commandBSuggestion) {\n                        return 1; // other command was suggested so it wins over the command\n                    }\n                }\n                // both commands were never used, so we sort by name\n                return commandPickA.label.localeCompare(commandPickB.label);\n            });\n            const commandPicks = [];\n            let addOtherSeparator = false;\n            let addCommonlyUsedSeparator = !!this.options.suggestedCommandIds;\n            for (let i = 0; i < filteredCommandPicks.length; i++) {\n                const commandPick = filteredCommandPicks[i];\n                const keybinding = this.keybindingService.lookupKeybinding(commandPick.commandId);\n                const ariaLabel = keybinding ?\n                    localize('commandPickAriaLabelWithKeybinding', \"{0}, {1}\", commandPick.label, keybinding.getAriaLabel()) :\n                    commandPick.label;\n                // Separator: recently used\n                if (i === 0 && this.commandsHistory.peek(commandPick.commandId)) {\n                    commandPicks.push({ type: 'separator', label: localize('recentlyUsed', \"recently used\") });\n                    addOtherSeparator = true;\n                }\n                // Separator: commonly used\n                if (addCommonlyUsedSeparator && !this.commandsHistory.peek(commandPick.commandId) && ((_a = this.options.suggestedCommandIds) === null || _a === void 0 ? void 0 : _a.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('commonlyUsed', \"commonly used\") });\n                    addOtherSeparator = true;\n                    addCommonlyUsedSeparator = false;\n                }\n                // Separator: other commands\n                if (addOtherSeparator && !this.commandsHistory.peek(commandPick.commandId) && !((_b = this.options.suggestedCommandIds) === null || _b === void 0 ? void 0 : _b.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('morecCommands', \"other commands\") });\n                    addOtherSeparator = false;\n                }\n                // Command\n                commandPicks.push(Object.assign(Object.assign({}, commandPick), { ariaLabel, detail: this.options.showAlias && commandPick.commandAlias !== commandPick.label ? commandPick.commandAlias : undefined, keybinding, accept: () => __awaiter(this, void 0, void 0, function* () {\n                        var _c;\n                        // Add to history\n                        this.commandsHistory.push(commandPick.commandId);\n                        // Telementry\n                        this.telemetryService.publicLog2('workbenchActionExecuted', {\n                            id: commandPick.commandId,\n                            from: (_c = runOptions === null || runOptions === void 0 ? void 0 : runOptions.from) !== null && _c !== void 0 ? _c : 'quick open'\n                        });\n                        // Run\n                        try {\n                            yield this.commandService.executeCommand(commandPick.commandId);\n                        }\n                        catch (error) {\n                            if (!isCancellationError(error)) {\n                                this.dialogService.error(localize('canNotRun', \"Command '{0}' resulted in an error\", commandPick.label), toErrorMessage(error));\n                            }\n                        }\n                    }) }));\n            }\n            return commandPicks;\n        });\n    }\n};\nAbstractCommandsQuickAccessProvider.PREFIX = '>';\nAbstractCommandsQuickAccessProvider.WORD_FILTER = or(matchesPrefix, matchesWords, matchesContiguousSubString);\nAbstractCommandsQuickAccessProvider = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService),\n    __param(3, ICommandService),\n    __param(4, ITelemetryService),\n    __param(5, IDialogService)\n], AbstractCommandsQuickAccessProvider);\nexport { AbstractCommandsQuickAccessProvider };\nlet CommandsHistory = class CommandsHistory extends Disposable {\n    constructor(storageService, configurationService) {\n        super();\n        this.storageService = storageService;\n        this.configurationService = configurationService;\n        this.configuredCommandsHistoryLength = 0;\n        this.updateConfiguration();\n        this.load();\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => this.updateConfiguration(e)));\n    }\n    updateConfiguration(e) {\n        if (e && !e.affectsConfiguration('workbench.commandPalette.history')) {\n            return;\n        }\n        this.configuredCommandsHistoryLength = CommandsHistory.getConfiguredCommandHistoryLength(this.configurationService);\n        if (CommandsHistory.cache && CommandsHistory.cache.limit !== this.configuredCommandsHistoryLength) {\n            CommandsHistory.cache.limit = this.configuredCommandsHistoryLength;\n            CommandsHistory.saveState(this.storageService);\n        }\n    }\n    load() {\n        const raw = this.storageService.get(CommandsHistory.PREF_KEY_CACHE, 0 /* StorageScope.PROFILE */);\n        let serializedCache;\n        if (raw) {\n            try {\n                serializedCache = JSON.parse(raw);\n            }\n            catch (error) {\n                // invalid data\n            }\n        }\n        const cache = CommandsHistory.cache = new LRUCache(this.configuredCommandsHistoryLength, 1);\n        if (serializedCache) {\n            let entries;\n            if (serializedCache.usesLRU) {\n                entries = serializedCache.entries;\n            }\n            else {\n                entries = serializedCache.entries.sort((a, b) => a.value - b.value);\n            }\n            entries.forEach(entry => cache.set(entry.key, entry.value));\n        }\n        CommandsHistory.counter = this.storageService.getNumber(CommandsHistory.PREF_KEY_COUNTER, 0 /* StorageScope.PROFILE */, CommandsHistory.counter);\n    }\n    push(commandId) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        CommandsHistory.cache.set(commandId, CommandsHistory.counter++); // set counter to command\n        CommandsHistory.saveState(this.storageService);\n    }\n    peek(commandId) {\n        var _a;\n        return (_a = CommandsHistory.cache) === null || _a === void 0 ? void 0 : _a.peek(commandId);\n    }\n    static saveState(storageService) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        const serializedCache = { usesLRU: true, entries: [] };\n        CommandsHistory.cache.forEach((value, key) => serializedCache.entries.push({ key, value }));\n        storageService.store(CommandsHistory.PREF_KEY_CACHE, JSON.stringify(serializedCache), 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        storageService.store(CommandsHistory.PREF_KEY_COUNTER, CommandsHistory.counter, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n    }\n    static getConfiguredCommandHistoryLength(configurationService) {\n        var _a, _b;\n        const config = configurationService.getValue();\n        const configuredCommandHistoryLength = (_b = (_a = config.workbench) === null || _a === void 0 ? void 0 : _a.commandPalette) === null || _b === void 0 ? void 0 : _b.history;\n        if (typeof configuredCommandHistoryLength === 'number') {\n            return configuredCommandHistoryLength;\n        }\n        return CommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH;\n    }\n};\nCommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH = 50;\nCommandsHistory.PREF_KEY_CACHE = 'commandPalette.mru.cache';\nCommandsHistory.PREF_KEY_COUNTER = 'commandPalette.mru.counter';\nCommandsHistory.counter = 1;\nCommandsHistory = __decorate([\n    __param(0, IStorageService),\n    __param(1, IConfigurationService)\n], CommandsHistory);\nexport { CommandsHistory };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { localize } from '../../../nls.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService } from '../common/quickInput.js';\nlet HelpQuickAccessProvider = class HelpQuickAccessProvider {\n    constructor(quickInputService, keybindingService) {\n        this.quickInputService = quickInputService;\n        this.keybindingService = keybindingService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n    }\n    provide(picker) {\n        const disposables = new DisposableStore();\n        // Open a picker with the selected value if picked\n        disposables.add(picker.onDidAccept(() => {\n            const [item] = picker.selectedItems;\n            if (item) {\n                this.quickInputService.quickAccess.show(item.prefix, { preserveValue: true });\n            }\n        }));\n        // Also open a picker when we detect the user typed the exact\n        // name of a provider (e.g. `?term` for terminals)\n        disposables.add(picker.onDidChangeValue(value => {\n            const providerDescriptor = this.registry.getQuickAccessProvider(value.substr(HelpQuickAccessProvider.PREFIX.length));\n            if (providerDescriptor && providerDescriptor.prefix && providerDescriptor.prefix !== HelpQuickAccessProvider.PREFIX) {\n                this.quickInputService.quickAccess.show(providerDescriptor.prefix, { preserveValue: true });\n            }\n        }));\n        // Fill in all providers\n        picker.items = this.getQuickAccessProviders().filter(p => p.prefix !== HelpQuickAccessProvider.PREFIX);\n        return disposables;\n    }\n    getQuickAccessProviders() {\n        const providers = this.registry\n            .getQuickAccessProviders()\n            .sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))\n            .flatMap(provider => this.createPicks(provider));\n        return providers;\n    }\n    createPicks(provider) {\n        return provider.helpEntries.map(helpEntry => {\n            const prefix = helpEntry.prefix || provider.prefix;\n            const label = prefix || '\\u2026' /* ... */;\n            return {\n                prefix,\n                label,\n                keybinding: helpEntry.commandId ? this.keybindingService.lookupKeybinding(helpEntry.commandId) : undefined,\n                ariaLabel: localize('helpPickAriaLabel', \"{0}, {1}\", label, helpEntry.description),\n                description: helpEntry.description\n            };\n        });\n    }\n};\nHelpQuickAccessProvider.PREFIX = '?';\nHelpQuickAccessProvider = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IKeybindingService)\n], HelpQuickAccessProvider);\nexport { HelpQuickAccessProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { once } from '../../../base/common/functional.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { DefaultQuickAccessFilterValue, Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService, ItemActivation } from '../common/quickInput.js';\nimport { Registry } from '../../registry/common/platform.js';\nlet QuickAccessController = class QuickAccessController extends Disposable {\n    constructor(quickInputService, instantiationService) {\n        super();\n        this.quickInputService = quickInputService;\n        this.instantiationService = instantiationService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n        this.mapProviderToDescriptor = new Map();\n        this.lastAcceptedPickerValues = new Map();\n        this.visibleQuickAccess = undefined;\n    }\n    show(value = '', options) {\n        this.doShowOrPick(value, false, options);\n    }\n    doShowOrPick(value, pick, options) {\n        var _a;\n        // Find provider for the value to show\n        const [provider, descriptor] = this.getOrInstantiateProvider(value);\n        // Return early if quick access is already showing on that same prefix\n        const visibleQuickAccess = this.visibleQuickAccess;\n        const visibleDescriptor = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.descriptor;\n        if (visibleQuickAccess && descriptor && visibleDescriptor === descriptor) {\n            // Apply value only if it is more specific than the prefix\n            // from the provider and we are not instructed to preserve\n            if (value !== descriptor.prefix && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n                visibleQuickAccess.picker.value = value;\n            }\n            // Always adjust selection\n            this.adjustValueSelection(visibleQuickAccess.picker, descriptor, options);\n            return;\n        }\n        // Rewrite the filter value based on certain rules unless disabled\n        if (descriptor && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n            let newValue = undefined;\n            // If we have a visible provider with a value, take it's filter value but\n            // rewrite to new provider prefix in case they differ\n            if (visibleQuickAccess && visibleDescriptor && visibleDescriptor !== descriptor) {\n                const newValueCandidateWithoutPrefix = visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);\n                if (newValueCandidateWithoutPrefix) {\n                    newValue = `${descriptor.prefix}${newValueCandidateWithoutPrefix}`;\n                }\n            }\n            // Otherwise, take a default value as instructed\n            if (!newValue) {\n                const defaultFilterValue = provider === null || provider === void 0 ? void 0 : provider.defaultFilterValue;\n                if (defaultFilterValue === DefaultQuickAccessFilterValue.LAST) {\n                    newValue = this.lastAcceptedPickerValues.get(descriptor);\n                }\n                else if (typeof defaultFilterValue === 'string') {\n                    newValue = `${descriptor.prefix}${defaultFilterValue}`;\n                }\n            }\n            if (typeof newValue === 'string') {\n                value = newValue;\n            }\n        }\n        // Create a picker for the provider to use with the initial value\n        // and adjust the filtering to exclude the prefix from filtering\n        const disposables = new DisposableStore();\n        const picker = disposables.add(this.quickInputService.createQuickPick());\n        picker.value = value;\n        this.adjustValueSelection(picker, descriptor, options);\n        picker.placeholder = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        picker.quickNavigate = options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration;\n        picker.hideInput = !!picker.quickNavigate && !visibleQuickAccess; // only hide input if there was no picker opened already\n        if (typeof (options === null || options === void 0 ? void 0 : options.itemActivation) === 'number' || (options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration)) {\n            picker.itemActivation = (_a = options === null || options === void 0 ? void 0 : options.itemActivation) !== null && _a !== void 0 ? _a : ItemActivation.SECOND /* quick nav is always second */;\n        }\n        picker.contextKey = descriptor === null || descriptor === void 0 ? void 0 : descriptor.contextKey;\n        picker.filterValue = (value) => value.substring(descriptor ? descriptor.prefix.length : 0);\n        if (descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder) {\n            picker.ariaLabel = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        }\n        // Pick mode: setup a promise that can be resolved\n        // with the selected items and prevent execution\n        let pickPromise = undefined;\n        if (pick) {\n            pickPromise = new DeferredPromise();\n            disposables.add(once(picker.onWillAccept)(e => {\n                e.veto();\n                picker.hide();\n            }));\n        }\n        // Register listeners\n        disposables.add(this.registerPickerListeners(picker, provider, descriptor, value, options === null || options === void 0 ? void 0 : options.providerOptions));\n        // Ask provider to fill the picker as needed if we have one\n        // and pass over a cancellation token that will indicate when\n        // the picker is hiding without a pick being made.\n        const cts = disposables.add(new CancellationTokenSource());\n        if (provider) {\n            disposables.add(provider.provide(picker, cts.token, options === null || options === void 0 ? void 0 : options.providerOptions));\n        }\n        // Finally, trigger disposal and cancellation when the picker\n        // hides depending on items selected or not.\n        once(picker.onDidHide)(() => {\n            if (picker.selectedItems.length === 0) {\n                cts.cancel();\n            }\n            // Start to dispose once picker hides\n            disposables.dispose();\n            // Resolve pick promise with selected items\n            pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.complete(picker.selectedItems.slice(0));\n        });\n        // Finally, show the picker. This is important because a provider\n        // may not call this and then our disposables would leak that rely\n        // on the onDidHide event.\n        picker.show();\n        // Pick mode: return with promise\n        if (pick) {\n            return pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.p;\n        }\n    }\n    adjustValueSelection(picker, descriptor, options) {\n        var _a;\n        let valueSelection;\n        // Preserve: just always put the cursor at the end\n        if (options === null || options === void 0 ? void 0 : options.preserveValue) {\n            valueSelection = [picker.value.length, picker.value.length];\n        }\n        // Otherwise: select the value up until the prefix\n        else {\n            valueSelection = [(_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.prefix.length) !== null && _a !== void 0 ? _a : 0, picker.value.length];\n        }\n        picker.valueSelection = valueSelection;\n    }\n    registerPickerListeners(picker, provider, descriptor, value, providerOptions) {\n        const disposables = new DisposableStore();\n        // Remember as last visible picker and clean up once picker get's disposed\n        const visibleQuickAccess = this.visibleQuickAccess = { picker, descriptor, value };\n        disposables.add(toDisposable(() => {\n            if (visibleQuickAccess === this.visibleQuickAccess) {\n                this.visibleQuickAccess = undefined;\n            }\n        }));\n        // Whenever the value changes, check if the provider has\n        // changed and if so - re-create the picker from the beginning\n        disposables.add(picker.onDidChangeValue(value => {\n            const [providerForValue] = this.getOrInstantiateProvider(value);\n            if (providerForValue !== provider) {\n                this.show(value, {\n                    // do not rewrite value from user typing!\n                    preserveValue: true,\n                    // persist the value of the providerOptions from the original showing\n                    providerOptions\n                });\n            }\n            else {\n                visibleQuickAccess.value = value; // remember the value in our visible one\n            }\n        }));\n        // Remember picker input for future use when accepting\n        if (descriptor) {\n            disposables.add(picker.onDidAccept(() => {\n                this.lastAcceptedPickerValues.set(descriptor, picker.value);\n            }));\n        }\n        return disposables;\n    }\n    getOrInstantiateProvider(value) {\n        const providerDescriptor = this.registry.getQuickAccessProvider(value);\n        if (!providerDescriptor) {\n            return [undefined, undefined];\n        }\n        let provider = this.mapProviderToDescriptor.get(providerDescriptor);\n        if (!provider) {\n            provider = this.instantiationService.createInstance(providerDescriptor.ctor);\n            this.mapProviderToDescriptor.set(providerDescriptor, provider);\n        }\n        return [provider, providerDescriptor];\n    }\n};\nQuickAccessController = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IInstantiationService)\n], QuickAccessController);\nexport { QuickAccessController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport './media/quickInput.css';\nconst $ = dom.$;\nexport class QuickInputBox extends Disposable {\n    constructor(parent, inputBoxStyles, toggleStyles) {\n        super();\n        this.parent = parent;\n        this.onKeyDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.KEY_DOWN, (e) => {\n                handler(new StandardKeyboardEvent(e));\n            });\n        };\n        this.onMouseDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.MOUSE_DOWN, (e) => {\n                handler(new StandardMouseEvent(e));\n            });\n        };\n        this.onDidChange = (handler) => {\n            return this.findInput.onDidChange(handler);\n        };\n        this.container = dom.append(this.parent, $('.quick-input-box'));\n        this.findInput = this._register(new FindInput(this.container, undefined, { label: '', inputBoxStyles, toggleStyles }));\n    }\n    get value() {\n        return this.findInput.getValue();\n    }\n    set value(value) {\n        this.findInput.setValue(value);\n    }\n    select(range = null) {\n        this.findInput.inputBox.select(range);\n    }\n    isSelectionAtEnd() {\n        return this.findInput.inputBox.isSelectionAtEnd();\n    }\n    get placeholder() {\n        return this.findInput.inputBox.inputElement.getAttribute('placeholder') || '';\n    }\n    set placeholder(placeholder) {\n        this.findInput.inputBox.setPlaceHolder(placeholder);\n    }\n    get ariaLabel() {\n        return this.findInput.inputBox.getAriaLabel();\n    }\n    set ariaLabel(ariaLabel) {\n        this.findInput.inputBox.setAriaLabel(ariaLabel);\n    }\n    get password() {\n        return this.findInput.inputBox.inputElement.type === 'password';\n    }\n    set password(password) {\n        this.findInput.inputBox.inputElement.type = password ? 'password' : 'text';\n    }\n    set enabled(enabled) {\n        // We can't disable the input box because it is still used for\n        // navigating the list. Instead, we disable the list and the OK\n        // so that nothing can be selected.\n        // TODO: should this be what we do for all find inputs? Or maybe some _other_ API\n        // on findInput to change it to readonly?\n        this.findInput.inputBox.inputElement.toggleAttribute('readonly', !enabled);\n        // TODO: styles of the quick pick need to be moved to the CSS instead of being in line\n        // so things like this can be done in CSS\n        // this.findInput.inputBox.inputElement.classList.toggle('disabled', !enabled);\n    }\n    set toggles(toggles) {\n        this.findInput.setAdditionalToggles(toggles);\n    }\n    setAttribute(name, value) {\n        this.findInput.inputBox.inputElement.setAttribute(name, value);\n    }\n    removeAttribute(name) {\n        this.findInput.inputBox.inputElement.removeAttribute(name);\n    }\n    showDecoration(decoration) {\n        if (decoration === Severity.Ignore) {\n            this.findInput.clearMessage();\n        }\n        else {\n            this.findInput.showMessage({ type: decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */, content: '' });\n        }\n    }\n    stylesForType(decoration) {\n        return this.findInput.inputBox.stylesForType(decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */);\n    }\n    setFocus() {\n        this.findInput.focus();\n    }\n    layout() {\n        this.findInput.inputBox.layout();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { Event } from '../../../base/common/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Gesture, EventType as GestureEventType } from '../../../base/browser/touch.js';\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { parseLinkedText } from '../../../base/common/linkedText.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nconst iconPathToClass = {};\nconst iconClassGenerator = new IdGenerator('quick-input-button-icon-');\nexport function getIconClass(iconPath) {\n    if (!iconPath) {\n        return undefined;\n    }\n    let iconClass;\n    const key = iconPath.dark.toString();\n    if (iconPathToClass[key]) {\n        iconClass = iconPathToClass[key];\n    }\n    else {\n        iconClass = iconClassGenerator.nextId();\n        dom.createCSSRule(`.${iconClass}, .hc-light .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.light || iconPath.dark)}`);\n        dom.createCSSRule(`.vs-dark .${iconClass}, .hc-black .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.dark)}`);\n        iconPathToClass[key] = iconClass;\n    }\n    return iconClass;\n}\nexport function renderQuickInputDescription(description, container, actionHandler) {\n    dom.reset(container);\n    const parsed = parseLinkedText(description);\n    let tabIndex = 0;\n    for (const node of parsed.nodes) {\n        if (typeof node === 'string') {\n            container.append(...renderLabelWithIcons(node));\n        }\n        else {\n            let title = node.title;\n            if (!title && node.href.startsWith('command:')) {\n                title = localize('executeCommand', \"Click to execute command '{0}'\", node.href.substring('command:'.length));\n            }\n            else if (!title) {\n                title = node.href;\n            }\n            const anchor = dom.$('a', { href: node.href, title, tabIndex: tabIndex++ }, node.label);\n            anchor.style.textDecoration = 'underline';\n            const handleOpen = (e) => {\n                if (dom.isEventLike(e)) {\n                    dom.EventHelper.stop(e, true);\n                }\n                actionHandler.callback(node.href);\n            };\n            const onClick = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.CLICK)).event;\n            const onKeydown = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.KEY_DOWN)).event;\n            const onSpaceOrEnter = actionHandler.disposables.add(Event.chain(onKeydown)).filter(e => {\n                const event = new StandardKeyboardEvent(e);\n                return event.equals(10 /* KeyCode.Space */) || event.equals(3 /* KeyCode.Enter */);\n            }).event;\n            actionHandler.disposables.add(Gesture.addTarget(anchor));\n            const onTap = actionHandler.disposables.add(new DomEmitter(anchor, GestureEventType.Tap)).event;\n            Event.any(onClick, onTap, onSpaceOrEnter)(handleOpen, null, actionHandler.disposables);\n            container.appendChild(anchor);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { range } from '../../../base/common/arrays.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { getIconClass } from './quickInputUtils.js';\nconst $ = dom.$;\nclass ListElement {\n    get checked() {\n        return !!this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire(value);\n        }\n    }\n    constructor(init) {\n        this.hidden = false;\n        this._onChecked = new Emitter();\n        this.onChecked = this._onChecked.event;\n        Object.assign(this, init);\n    }\n    dispose() {\n        this._onChecked.dispose();\n    }\n}\nclass ListElementRenderer {\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true });\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        data.element = element;\n        element.element = withNullAsUndefined(data.entry);\n        const mainItem = element.item ? element.item : element.separator;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Label\n        const options = Object.create(null);\n        options.matches = labelHighlights || [];\n        options.descriptionTitle = element.saneDescription;\n        options.descriptionMatches = descriptionHighlights || [];\n        if (mainItem.type !== 'separator') {\n            options.extraClasses = mainItem.iconClasses;\n            options.italic = mainItem.italic;\n            options.strikethrough = mainItem.strikethrough;\n            data.entry.classList.remove('quick-input-list-separator-as-item');\n        }\n        else {\n            data.entry.classList.add('quick-input-list-separator-as-item');\n        }\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(mainItem.type === 'separator' ? undefined : mainItem.keybinding);\n        // Meta\n        if (element.saneDetail) {\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title: element.saneDetail\n            });\n        } /* else {\n            // TODO investigate potential detail bleeding into next quickpicks\n            data.detail.setLabel('');\n        } */\n        // Separator\n        if (element.item && element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                return {\n                    id: `id-${index}`,\n                    class: cssClasses,\n                    enabled: true,\n                    label: '',\n                    tooltip: button.tooltip || '',\n                    run: () => {\n                        mainItem.type !== 'separator'\n                            ? element.fireButtonTriggered({\n                                button,\n                                item: mainItem\n                            })\n                            : element.fireSeparatorButtonTriggered({\n                                button,\n                                separator: mainItem\n                            });\n                    }\n                };\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.actionBar.clear();\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        if (!element.item) {\n            // must be a separator\n            return 24;\n        }\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options) {\n        this.parent = parent;\n        this.options = options;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnLabelMode = 'fuzzy';\n        this.matchOnMeta = true;\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onSeparatorButtonTriggered = new Emitter();\n        this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n            identityProvider: { getId: element => element.saneLabel },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        const delayer = new ThrottledDelayer(options.hoverDelegate.delay);\n        // onMouseOver triggers every time a new element has been moused over\n        // even if it's on the same list item.\n        this.disposables.push(this.list.onMouseOver((e) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            // If we hover over an anchor element, we don't want to show the hover because\n            // the anchor may have a tooltip that we want to show instead.\n            if (e.browserEvent.target instanceof HTMLAnchorElement) {\n                delayer.cancel();\n                return;\n            }\n            if (\n            // anchors are an exception as called out above so we skip them here\n            !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                // check if the mouse is still over the same element\n                dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            yield delayer.trigger(() => __awaiter(this, void 0, void 0, function* () {\n                if (e.element) {\n                    this.showHover(e.element);\n                }\n            }));\n        })));\n        this.disposables.push(this.list.onMouseOut(e => {\n            var _a;\n            // onMouseOut triggers every time a new element has been moused over\n            // even if it's on the same list item. We only want one event, so we\n            // check if the mouse is still over the same element.\n            if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            delayer.cancel();\n        }));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onSeparatorButtonTriggered, this._onLeave, this._onKeyDown, delayer);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        const fireSeparatorButtonTriggered = (event) => this.fireSeparatorButtonTriggered(event);\n        this.inputElements = inputElements;\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a, _b, _c;\n            const previous = index && inputElements[index - 1];\n            const saneLabel = item.label ? item.label.replace(/\\r?\\n/g, ' ') : '';\n            const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n            let saneMeta, saneDescription, saneDetail, labelHighlights, descriptionHighlights, detailHighlights, saneTooltip;\n            if (item.type !== 'separator') {\n                saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n                saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n                saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n                labelHighlights = (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n                descriptionHighlights = (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n                detailHighlights = (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n                saneTooltip = item.tooltip;\n            }\n            const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail]\n                .map(s => getCodiconAriaLabel(s))\n                .filter(s => !!s)\n                .join(', ');\n            const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n            let separator;\n            if (item.type === 'separator') {\n                if (!item.buttons) {\n                    // This separator will be rendered as a part of the list item\n                    return result;\n                }\n                separator = item;\n            }\n            else if (previous && previous.type === 'separator' && !previous.buttons) {\n                separator = previous;\n            }\n            const element = new ListElement({\n                hasCheckbox,\n                index,\n                item: item.type !== 'separator' ? item : undefined,\n                saneLabel,\n                saneSortLabel,\n                saneMeta,\n                saneAriaLabel,\n                saneDescription,\n                saneDetail,\n                saneTooltip,\n                labelHighlights,\n                descriptionHighlights,\n                detailHighlights,\n                checked: false,\n                separator,\n                fireButtonTriggered,\n                fireSeparatorButtonTriggered\n            });\n            this.elementDisposables.push(element);\n            this.elementDisposables.push(element.onChecked(() => this.fireCheckedEvents()));\n            result.push(element);\n            return result;\n        }, []);\n        this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item)\n            .filter(e => !!e);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.scrollTop = 0;\n                this.list.focusFirst(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Second:\n                this.list.scrollTop = 0;\n                this.list.focusNth(1, undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.scrollTop = this.list.scrollHeight;\n                this.list.focusLast(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Next: {\n                this.list.focusNext(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.Previous: {\n                this.list.focusPrevious(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage(undefined, (e) => !!e.item);\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n    showHover(element) {\n        var _a, _b, _c;\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            (_b = (_a = this.options.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n        }\n        if (!element.element || !element.saneTooltip) {\n            return;\n        }\n        this._lastHover = this.options.hoverDelegate.showHover({\n            content: element.saneTooltip,\n            target: element.element,\n            linkHandler: (url) => {\n                this.options.linkOpenerDelegate(url);\n            },\n            showPointer: true,\n            container: this.container,\n            hoverPosition: 1 /* HoverPosition.RIGHT */\n        }, false);\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                if (element.item) {\n                    element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n                }\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n                const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = element.item ? !element.item.alwaysShow : true;\n                }\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    fireSeparatorButtonTriggered(event) {\n        this._onSeparatorButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    toggleHover() {\n        const element = this.list.getFocusedElements()[0];\n        if (!element.saneTooltip) {\n            return;\n        }\n        // if there's a hover already, hide it (toggle off)\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            this._lastHover.dispose();\n            return;\n        }\n        // If there is no hover, show it (toggle on)\n        const focused = this.list.getFocusedElements()[0];\n        if (!focused) {\n            return;\n        }\n        this.showHover(focused);\n        const store = new DisposableStore();\n        store.add(this.list.onDidChangeFocus(e => {\n            if (e.indexes.length) {\n                this.showHover(e.elements[0]);\n            }\n        }));\n        if (this._lastHover) {\n            store.add(this._lastHover);\n        }\n        this._toggleHover = store;\n        this.elementDisposables.push(this._toggleHover);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nfunction matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox) {\n            return undefined;\n        }\n        return {\n            value: element.checked,\n            onDidChange: element.onChecked\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { Button } from '../../../base/browser/ui/button/button.js';\nimport { CountBadge } from '../../../base/browser/ui/countBadge/countBadge.js';\nimport { ProgressBar } from '../../../base/browser/ui/progressbar/progressbar.js';\nimport { Toggle } from '../../../base/browser/ui/toggle/toggle.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { equals } from '../../../base/common/arrays.js';\nimport { TimeoutTimer } from '../../../base/common/async.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../base/common/platform.js';\nimport Severity from '../../../base/common/severity.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { ItemActivation, NO_KEY_MODS, QuickInputHideReason } from '../common/quickInput.js';\nimport { QuickInputBox } from './quickInputBox.js';\nimport { QuickInputList, QuickInputListFocus } from './quickInputList.js';\nimport { getIconClass, renderQuickInputDescription } from './quickInputUtils.js';\nconst $ = dom.$;\nconst backButton = {\n    iconClass: ThemeIcon.asClassName(Codicon.quickInputBack),\n    tooltip: localize('quickInput.back', \"Back\"),\n    handle: -1 // TODO\n};\nclass QuickInput extends Disposable {\n    constructor(ui) {\n        super();\n        this.ui = ui;\n        this.visible = false;\n        this._enabled = true;\n        this._busy = false;\n        this._ignoreFocusOut = false;\n        this._buttons = [];\n        this.buttonsUpdated = false;\n        this._toggles = [];\n        this.togglesUpdated = false;\n        this.noValidationMessage = QuickInput.noPromptMessage;\n        this._severity = Severity.Ignore;\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.onDidHideEmitter = this._register(new Emitter());\n        this.onDisposeEmitter = this._register(new Emitter());\n        this.visibleDisposables = this._register(new DisposableStore());\n        this.onDidHide = this.onDidHideEmitter.event;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(title) {\n        this._title = title;\n        this.update();\n    }\n    get description() {\n        return this._description;\n    }\n    set description(description) {\n        this._description = description;\n        this.update();\n    }\n    get step() {\n        return this._steps;\n    }\n    set step(step) {\n        this._steps = step;\n        this.update();\n    }\n    get totalSteps() {\n        return this._totalSteps;\n    }\n    set totalSteps(totalSteps) {\n        this._totalSteps = totalSteps;\n        this.update();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        this._enabled = enabled;\n        this.update();\n    }\n    get contextKey() {\n        return this._contextKey;\n    }\n    set contextKey(contextKey) {\n        this._contextKey = contextKey;\n        this.update();\n    }\n    get busy() {\n        return this._busy;\n    }\n    set busy(busy) {\n        this._busy = busy;\n        this.update();\n    }\n    get ignoreFocusOut() {\n        return this._ignoreFocusOut;\n    }\n    set ignoreFocusOut(ignoreFocusOut) {\n        const shouldUpdate = this._ignoreFocusOut !== ignoreFocusOut && !isIOS;\n        this._ignoreFocusOut = ignoreFocusOut && !isIOS;\n        if (shouldUpdate) {\n            this.update();\n        }\n    }\n    get buttons() {\n        return this._buttons;\n    }\n    set buttons(buttons) {\n        this._buttons = buttons;\n        this.buttonsUpdated = true;\n        this.update();\n    }\n    get toggles() {\n        return this._toggles;\n    }\n    set toggles(toggles) {\n        this._toggles = toggles !== null && toggles !== void 0 ? toggles : [];\n        this.togglesUpdated = true;\n        this.update();\n    }\n    get validationMessage() {\n        return this._validationMessage;\n    }\n    set validationMessage(validationMessage) {\n        this._validationMessage = validationMessage;\n        this.update();\n    }\n    get severity() {\n        return this._severity;\n    }\n    set severity(severity) {\n        this._severity = severity;\n        this.update();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        this.visibleDisposables.add(this.ui.onDidTriggerButton(button => {\n            if (this.buttons.indexOf(button) !== -1) {\n                this.onDidTriggerButtonEmitter.fire(button);\n            }\n        }));\n        this.ui.show(this);\n        // update properties in the controller that get reset in the ui.show() call\n        this.visible = true;\n        // This ensures the message/prompt gets rendered\n        this._lastValidationMessage = undefined;\n        // This ensures the input box has the right severity applied\n        this._lastSeverity = undefined;\n        if (this.buttons.length) {\n            // if there are buttons, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.buttonsUpdated = true;\n        }\n        if (this.toggles.length) {\n            // if there are toggles, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.togglesUpdated = true;\n        }\n        this.update();\n    }\n    hide() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.hide();\n    }\n    didHide(reason = QuickInputHideReason.Other) {\n        this.visible = false;\n        this.visibleDisposables.clear();\n        this.onDidHideEmitter.fire({ reason });\n    }\n    update() {\n        var _a, _b;\n        if (!this.visible) {\n            return;\n        }\n        const title = this.getTitle();\n        if (title && this.ui.title.textContent !== title) {\n            this.ui.title.textContent = title;\n        }\n        else if (!title && this.ui.title.innerHTML !== '&nbsp;') {\n            this.ui.title.innerText = '\\u00a0';\n        }\n        const description = this.getDescription();\n        if (this.ui.description1.textContent !== description) {\n            this.ui.description1.textContent = description;\n        }\n        if (this.ui.description2.textContent !== description) {\n            this.ui.description2.textContent = description;\n        }\n        if (this.busy && !this.busyDelay) {\n            this.busyDelay = new TimeoutTimer();\n            this.busyDelay.setIfNotSet(() => {\n                if (this.visible) {\n                    this.ui.progressBar.infinite();\n                }\n            }, 800);\n        }\n        if (!this.busy && this.busyDelay) {\n            this.ui.progressBar.stop();\n            this.busyDelay.cancel();\n            this.busyDelay = undefined;\n        }\n        if (this.buttonsUpdated) {\n            this.buttonsUpdated = false;\n            this.ui.leftActionBar.clear();\n            const leftButtons = this.buttons.filter(button => button === backButton);\n            this.ui.leftActionBar.push(leftButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            this.ui.rightActionBar.clear();\n            const rightButtons = this.buttons.filter(button => button !== backButton);\n            this.ui.rightActionBar.push(rightButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n        }\n        if (this.togglesUpdated) {\n            this.togglesUpdated = false;\n            // HACK: Filter out toggles here that are not concrete Toggle objects. This is to workaround\n            // a layering issue as quick input's interface is in common but Toggle is in browser and\n            // it requires a HTMLElement on its interface\n            const concreteToggles = (_b = (_a = this.toggles) === null || _a === void 0 ? void 0 : _a.filter(opts => opts instanceof Toggle)) !== null && _b !== void 0 ? _b : [];\n            this.ui.inputBox.toggles = concreteToggles;\n        }\n        this.ui.ignoreFocusOut = this.ignoreFocusOut;\n        this.ui.setEnabled(this.enabled);\n        this.ui.setContextKey(this.contextKey);\n        const validationMessage = this.validationMessage || this.noValidationMessage;\n        if (this._lastValidationMessage !== validationMessage) {\n            this._lastValidationMessage = validationMessage;\n            dom.reset(this.ui.message);\n            renderQuickInputDescription(validationMessage, this.ui.message, {\n                callback: (content) => {\n                    this.ui.linkOpenerDelegate(content);\n                },\n                disposables: this.visibleDisposables,\n            });\n        }\n        if (this._lastSeverity !== this.severity) {\n            this._lastSeverity = this.severity;\n            this.showMessageDecoration(this.severity);\n        }\n    }\n    getTitle() {\n        if (this.title && this.step) {\n            return `${this.title} (${this.getSteps()})`;\n        }\n        if (this.title) {\n            return this.title;\n        }\n        if (this.step) {\n            return this.getSteps();\n        }\n        return '';\n    }\n    getDescription() {\n        return this.description || '';\n    }\n    getSteps() {\n        if (this.step && this.totalSteps) {\n            return localize('quickInput.steps', \"{0}/{1}\", this.step, this.totalSteps);\n        }\n        if (this.step) {\n            return String(this.step);\n        }\n        return '';\n    }\n    showMessageDecoration(severity) {\n        this.ui.inputBox.showDecoration(severity);\n        if (severity !== Severity.Ignore) {\n            const styles = this.ui.inputBox.stylesForType(severity);\n            this.ui.message.style.color = styles.foreground ? `${styles.foreground}` : '';\n            this.ui.message.style.backgroundColor = styles.background ? `${styles.background}` : '';\n            this.ui.message.style.border = styles.border ? `1px solid ${styles.border}` : '';\n            this.ui.message.style.marginBottom = '-2px';\n        }\n        else {\n            this.ui.message.style.color = '';\n            this.ui.message.style.backgroundColor = '';\n            this.ui.message.style.border = '';\n            this.ui.message.style.marginBottom = '';\n        }\n    }\n    dispose() {\n        this.hide();\n        this.onDisposeEmitter.fire();\n        super.dispose();\n    }\n}\nQuickInput.noPromptMessage = localize('inputModeEntry', \"Press 'Enter' to confirm your input or 'Escape' to cancel\");\nclass QuickPick extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.onDidChangeValueEmitter = this._register(new Emitter());\n        this.onWillAcceptEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this._items = [];\n        this.itemsUpdated = false;\n        this._canSelectMany = false;\n        this._canAcceptInBackground = false;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._autoFocusOnList = true;\n        this._keepScrollPosition = false;\n        this._itemActivation = this.ui.isScreenReaderOptimized() ? ItemActivation.NONE /* https://github.com/microsoft/vscode/issues/57501 */ : ItemActivation.FIRST;\n        this._activeItems = [];\n        this.activeItemsUpdated = false;\n        this.activeItemsToConfirm = [];\n        this.onDidChangeActiveEmitter = this._register(new Emitter());\n        this._selectedItems = [];\n        this.selectedItemsUpdated = false;\n        this.selectedItemsToConfirm = [];\n        this.onDidChangeSelectionEmitter = this._register(new Emitter());\n        this.onDidTriggerItemButtonEmitter = this._register(new Emitter());\n        this.onDidTriggerSeparatorButtonEmitter = this._register(new Emitter());\n        this.valueSelectionUpdated = true;\n        this._ok = 'default';\n        this._customButton = false;\n        this.filterValue = (value) => value;\n        this.onDidChangeValue = this.onDidChangeValueEmitter.event;\n        this.onWillAccept = this.onWillAcceptEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;\n        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n        this.onDidTriggerItemButton = this.onDidTriggerItemButtonEmitter.event;\n        this.onDidTriggerSeparatorButton = this.onDidTriggerSeparatorButtonEmitter.event;\n    }\n    get quickNavigate() {\n        return this._quickNavigate;\n    }\n    set quickNavigate(quickNavigate) {\n        this._quickNavigate = quickNavigate;\n        this.update();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this.doSetValue(value);\n    }\n    doSetValue(value, skipUpdate) {\n        if (this._value !== value) {\n            this._value = value;\n            if (!skipUpdate) {\n                this.update();\n            }\n            if (this.visible) {\n                const didFilter = this.ui.list.filter(this.filterValue(this._value));\n                if (didFilter) {\n                    this.trySelectFirst();\n                }\n            }\n            this.onDidChangeValueEmitter.fire(this._value);\n        }\n    }\n    set ariaLabel(ariaLabel) {\n        this._ariaLabel = ariaLabel;\n        this.update();\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get items() {\n        return this._items;\n    }\n    get scrollTop() {\n        return this.ui.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.ui.list.scrollTop = scrollTop;\n    }\n    set items(items) {\n        this._items = items;\n        this.itemsUpdated = true;\n        this.update();\n    }\n    get canSelectMany() {\n        return this._canSelectMany;\n    }\n    set canSelectMany(canSelectMany) {\n        this._canSelectMany = canSelectMany;\n        this.update();\n    }\n    get canAcceptInBackground() {\n        return this._canAcceptInBackground;\n    }\n    set canAcceptInBackground(canAcceptInBackground) {\n        this._canAcceptInBackground = canAcceptInBackground;\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(matchOnDescription) {\n        this._matchOnDescription = matchOnDescription;\n        this.update();\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(matchOnDetail) {\n        this._matchOnDetail = matchOnDetail;\n        this.update();\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(matchOnLabel) {\n        this._matchOnLabel = matchOnLabel;\n        this.update();\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(matchOnLabelMode) {\n        this._matchOnLabelMode = matchOnLabelMode;\n        this.update();\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(sortByLabel) {\n        this._sortByLabel = sortByLabel;\n        this.update();\n    }\n    get autoFocusOnList() {\n        return this._autoFocusOnList;\n    }\n    set autoFocusOnList(autoFocusOnList) {\n        this._autoFocusOnList = autoFocusOnList;\n        this.update();\n    }\n    get keepScrollPosition() {\n        return this._keepScrollPosition;\n    }\n    set keepScrollPosition(keepScrollPosition) {\n        this._keepScrollPosition = keepScrollPosition;\n    }\n    get itemActivation() {\n        return this._itemActivation;\n    }\n    set itemActivation(itemActivation) {\n        this._itemActivation = itemActivation;\n    }\n    get activeItems() {\n        return this._activeItems;\n    }\n    set activeItems(activeItems) {\n        this._activeItems = activeItems;\n        this.activeItemsUpdated = true;\n        this.update();\n    }\n    get selectedItems() {\n        return this._selectedItems;\n    }\n    set selectedItems(selectedItems) {\n        this._selectedItems = selectedItems;\n        this.selectedItemsUpdated = true;\n        this.update();\n    }\n    get keyMods() {\n        if (this._quickNavigate) {\n            // Disable keyMods when quick navigate is enabled\n            // because in this model the interaction is purely\n            // keyboard driven and Ctrl/Alt are typically\n            // pressed and hold during this interaction.\n            return NO_KEY_MODS;\n        }\n        return this.ui.keyMods;\n    }\n    set valueSelection(valueSelection) {\n        this._valueSelection = valueSelection;\n        this.valueSelectionUpdated = true;\n        this.update();\n    }\n    get customButton() {\n        return this._customButton;\n    }\n    set customButton(showCustomButton) {\n        this._customButton = showCustomButton;\n        this.update();\n    }\n    get customLabel() {\n        return this._customButtonLabel;\n    }\n    set customLabel(label) {\n        this._customButtonLabel = label;\n        this.update();\n    }\n    get customHover() {\n        return this._customButtonHover;\n    }\n    set customHover(hover) {\n        this._customButtonHover = hover;\n        this.update();\n    }\n    get ok() {\n        return this._ok;\n    }\n    set ok(showOkButton) {\n        this._ok = showOkButton;\n        this.update();\n    }\n    get hideInput() {\n        return !!this._hideInput;\n    }\n    set hideInput(hideInput) {\n        this._hideInput = hideInput;\n        this.update();\n    }\n    trySelectFirst() {\n        if (this.autoFocusOnList) {\n            if (!this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                this.doSetValue(value, true /* skip update since this originates from the UI */);\n            }));\n            this.visibleDisposables.add(this.ui.inputBox.onMouseDown(event => {\n                if (!this.autoFocusOnList) {\n                    this.ui.list.clearFocus();\n                }\n            }));\n            this.visibleDisposables.add((this._hideInput ? this.ui.list : this.ui.inputBox).onKeyDown((event) => {\n                switch (event.keyCode) {\n                    case 18 /* KeyCode.DownArrow */:\n                        this.ui.list.focus(QuickInputListFocus.Next);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 16 /* KeyCode.UpArrow */:\n                        if (this.ui.list.getFocusedElements().length) {\n                            this.ui.list.focus(QuickInputListFocus.Previous);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 12 /* KeyCode.PageDown */:\n                        this.ui.list.focus(QuickInputListFocus.NextPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 11 /* KeyCode.PageUp */:\n                        this.ui.list.focus(QuickInputListFocus.PreviousPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 17 /* KeyCode.RightArrow */:\n                        if (!this._canAcceptInBackground) {\n                            return; // needs to be enabled\n                        }\n                        if (!this.ui.inputBox.isSelectionAtEnd()) {\n                            return; // ensure input box selection at end\n                        }\n                        if (this.activeItems[0]) {\n                            this._selectedItems = [this.activeItems[0]];\n                            this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                            this.handleAccept(true);\n                        }\n                        break;\n                    case 14 /* KeyCode.Home */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.First);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                    case 13 /* KeyCode.End */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                }\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => {\n                if (this.canSelectMany) {\n                    // if there are no checked elements, it means that an onDidChangeSelection never fired to overwrite\n                    // `_selectedItems`. In that case, we should emit one with an empty array to ensure that\n                    // `.selectedItems` is up to date.\n                    if (!this.ui.list.getCheckedElements().length) {\n                        this._selectedItems = [];\n                        this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    }\n                }\n                else if (this.activeItems[0]) {\n                    // For single-select, we set `selectedItems` to the item that was accepted.\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                }\n                this.handleAccept(false);\n            }));\n            this.visibleDisposables.add(this.ui.onDidCustom(() => {\n                this.onDidCustomEmitter.fire();\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems => {\n                if (this.activeItemsUpdated) {\n                    return; // Expect another event.\n                }\n                if (this.activeItemsToConfirm !== this._activeItems && equals(focusedItems, this._activeItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._activeItems = focusedItems;\n                this.onDidChangeActiveEmitter.fire(focusedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({ items: selectedItems, event }) => {\n                if (this.canSelectMany) {\n                    if (selectedItems.length) {\n                        this.ui.list.setSelectedElements([]);\n                    }\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(selectedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = selectedItems;\n                this.onDidChangeSelectionEmitter.fire(selectedItems);\n                if (selectedItems.length) {\n                    this.handleAccept(event instanceof MouseEvent && event.button === 1 /* mouse middle click */);\n                }\n            }));\n            this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems => {\n                if (!this.canSelectMany) {\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(checkedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = checkedItems;\n                this.onDidChangeSelectionEmitter.fire(checkedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onButtonTriggered(event => this.onDidTriggerItemButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(event => this.onDidTriggerSeparatorButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.registerQuickNavigation());\n            this.valueSelectionUpdated = true;\n        }\n        super.show(); // TODO: Why have show() bubble up while update() trickles down? (Could move setComboboxAccessibility() here.)\n    }\n    handleAccept(inBackground) {\n        // Figure out veto via `onWillAccept` event\n        let veto = false;\n        this.onWillAcceptEmitter.fire({ veto: () => veto = true });\n        // Continue with `onDidAccept` if no veto\n        if (!veto) {\n            this.onDidAcceptEmitter.fire({ inBackground });\n        }\n    }\n    registerQuickNavigation() {\n        return dom.addDisposableListener(this.ui.container, dom.EventType.KEY_UP, e => {\n            if (this.canSelectMany || !this._quickNavigate) {\n                return;\n            }\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            const keyCode = keyboardEvent.keyCode;\n            // Select element when keys are pressed that signal it\n            const quickNavKeys = this._quickNavigate.keybindings;\n            const wasTriggerKeyPressed = quickNavKeys.some(k => {\n                const [firstChord, secondChord] = k.getChords(); // TODO@chords\n                if (secondChord) {\n                    return false;\n                }\n                if (firstChord.shiftKey && keyCode === 4 /* KeyCode.Shift */) {\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick input\n                    }\n                    return true;\n                }\n                if (firstChord.altKey && keyCode === 6 /* KeyCode.Alt */) {\n                    return true;\n                }\n                if (firstChord.ctrlKey && keyCode === 5 /* KeyCode.Ctrl */) {\n                    return true;\n                }\n                if (firstChord.metaKey && keyCode === 57 /* KeyCode.Meta */) {\n                    return true;\n                }\n                return false;\n            });\n            if (wasTriggerKeyPressed) {\n                if (this.activeItems[0]) {\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    this.handleAccept(false);\n                }\n                // Unset quick navigate after press. It is only valid once\n                // and should not result in any behaviour change afterwards\n                // if the picker remains open because there was no active item\n                this._quickNavigate = undefined;\n            }\n        });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        // store the scrollTop before it is reset\n        const scrollTopBefore = this.keepScrollPosition ? this.scrollTop : 0;\n        const hasDescription = !!this.description;\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: hasDescription,\n            checkAll: this.canSelectMany && !this._hideCheckAll,\n            checkBox: this.canSelectMany,\n            inputBox: !this._hideInput,\n            progressBar: !this._hideInput || hasDescription,\n            visibleCount: true,\n            count: this.canSelectMany,\n            ok: this.ok === 'default' ? this.canSelectMany : this.ok,\n            list: true,\n            message: !!this.validationMessage,\n            customButton: this.customButton\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        let ariaLabel = this.ariaLabel;\n        if (!ariaLabel) {\n            ariaLabel = this.placeholder || QuickPick.DEFAULT_ARIA_LABEL;\n            // If we have a title, include it in the aria label.\n            if (this.title) {\n                ariaLabel += ` - ${this.title}`;\n            }\n        }\n        if (this.ui.inputBox.ariaLabel !== ariaLabel) {\n            this.ui.inputBox.ariaLabel = ariaLabel;\n        }\n        this.ui.list.matchOnDescription = this.matchOnDescription;\n        this.ui.list.matchOnDetail = this.matchOnDetail;\n        this.ui.list.matchOnLabel = this.matchOnLabel;\n        this.ui.list.matchOnLabelMode = this.matchOnLabelMode;\n        this.ui.list.sortByLabel = this.sortByLabel;\n        if (this.itemsUpdated) {\n            this.itemsUpdated = false;\n            this.ui.list.setElements(this.items);\n            this.ui.list.filter(this.filterValue(this.ui.inputBox.value));\n            this.ui.checkAll.checked = this.ui.list.getAllVisibleChecked();\n            this.ui.visibleCount.setCount(this.ui.list.getVisibleCount());\n            this.ui.count.setCount(this.ui.list.getCheckedCount());\n            switch (this._itemActivation) {\n                case ItemActivation.NONE:\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.SECOND:\n                    this.ui.list.focus(QuickInputListFocus.Second);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.LAST:\n                    this.ui.list.focus(QuickInputListFocus.Last);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                default:\n                    this.trySelectFirst();\n                    break;\n            }\n        }\n        if (this.ui.container.classList.contains('show-checkboxes') !== !!this.canSelectMany) {\n            if (this.canSelectMany) {\n                this.ui.list.clearFocus();\n            }\n            else {\n                this.trySelectFirst();\n            }\n        }\n        if (this.activeItemsUpdated) {\n            this.activeItemsUpdated = false;\n            this.activeItemsToConfirm = this._activeItems;\n            this.ui.list.setFocusedElements(this.activeItems);\n            if (this.activeItemsToConfirm === this._activeItems) {\n                this.activeItemsToConfirm = null;\n            }\n        }\n        if (this.selectedItemsUpdated) {\n            this.selectedItemsUpdated = false;\n            this.selectedItemsToConfirm = this._selectedItems;\n            if (this.canSelectMany) {\n                this.ui.list.setCheckedElements(this.selectedItems);\n            }\n            else {\n                this.ui.list.setSelectedElements(this.selectedItems);\n            }\n            if (this.selectedItemsToConfirm === this._selectedItems) {\n                this.selectedItemsToConfirm = null;\n            }\n        }\n        this.ui.customButton.label = this.customLabel || '';\n        this.ui.customButton.element.title = this.customHover || '';\n        this.ui.setComboboxAccessibility(true);\n        if (!visibilities.inputBox) {\n            // we need to move focus into the tree to detect keybindings\n            // properly when the input box is not visible (quick nav)\n            this.ui.list.domFocus();\n            // Focus the first element in the list if multiselect is enabled\n            if (this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n        // Set the scroll position to what it was before updating the items\n        if (this.keepScrollPosition) {\n            this.scrollTop = scrollTopBefore;\n        }\n    }\n}\nQuickPick.DEFAULT_ARIA_LABEL = localize('quickInputBox.ariaLabel', \"Type to narrow down results.\");\nclass InputBox extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.valueSelectionUpdated = true;\n        this._password = false;\n        this.onDidValueChangeEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidChangeValue = this.onDidValueChangeEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._value = value || '';\n        this.update();\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get password() {\n        return this._password;\n    }\n    set password(password) {\n        this._password = password;\n        this.update();\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                if (value === this.value) {\n                    return;\n                }\n                this._value = value;\n                this.onDidValueChangeEmitter.fire(value);\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => this.onDidAcceptEmitter.fire()));\n            this.valueSelectionUpdated = true;\n        }\n        super.show();\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.container.classList.remove('hidden-input');\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: !!this.description || !!this.step,\n            inputBox: true, message: true\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        if (this.ui.inputBox.password !== this.password) {\n            this.ui.inputBox.password = this.password;\n        }\n    }\n}\nclass QuickInputController extends Disposable {\n    constructor(options) {\n        super();\n        this.options = options;\n        this.comboboxAccessibility = false;\n        this.enabled = true;\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.keyMods = { ctrlCmd: false, alt: false };\n        this.controller = null;\n        this.onShowEmitter = this._register(new Emitter());\n        this.onShow = this.onShowEmitter.event;\n        this.onHideEmitter = this._register(new Emitter());\n        this.onHide = this.onHideEmitter.event;\n        this.idPrefix = options.idPrefix;\n        this.parentElement = options.container;\n        this.styles = options.styles;\n        this.registerKeyModsListeners();\n    }\n    registerKeyModsListeners() {\n        const listener = (e) => {\n            this.keyMods.ctrlCmd = e.ctrlKey || e.metaKey;\n            this.keyMods.alt = e.altKey;\n        };\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_DOWN, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_UP, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.MOUSE_DOWN, listener, true));\n    }\n    getUI() {\n        if (this.ui) {\n            return this.ui;\n        }\n        const container = dom.append(this.parentElement, $('.quick-input-widget.show-file-icons'));\n        container.tabIndex = -1;\n        container.style.display = 'none';\n        const styleSheet = dom.createStyleSheet(container);\n        const titleBar = dom.append(container, $('.quick-input-titlebar'));\n        const leftActionBar = this._register(new ActionBar(titleBar));\n        leftActionBar.domNode.classList.add('quick-input-left-action-bar');\n        const title = dom.append(titleBar, $('.quick-input-title'));\n        const rightActionBar = this._register(new ActionBar(titleBar));\n        rightActionBar.domNode.classList.add('quick-input-right-action-bar');\n        const description1 = dom.append(container, $('.quick-input-description'));\n        const headerContainer = dom.append(container, $('.quick-input-header'));\n        const checkAll = dom.append(headerContainer, $('input.quick-input-check-all'));\n        checkAll.type = 'checkbox';\n        checkAll.setAttribute('aria-label', localize('quickInput.checkAll', \"Toggle all checkboxes\"));\n        this._register(dom.addStandardDisposableListener(checkAll, dom.EventType.CHANGE, e => {\n            const checked = checkAll.checked;\n            list.setAllVisibleChecked(checked);\n        }));\n        this._register(dom.addDisposableListener(checkAll, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space'...\n                inputBox.setFocus();\n            }\n        }));\n        const description2 = dom.append(headerContainer, $('.quick-input-description'));\n        const extraContainer = dom.append(headerContainer, $('.quick-input-and-message'));\n        const filterContainer = dom.append(extraContainer, $('.quick-input-filter'));\n        const inputBox = this._register(new QuickInputBox(filterContainer, this.styles.inputBox, this.styles.toggle));\n        inputBox.setAttribute('aria-describedby', `${this.idPrefix}message`);\n        const visibleCountContainer = dom.append(filterContainer, $('.quick-input-visible-count'));\n        visibleCountContainer.setAttribute('aria-live', 'polite');\n        visibleCountContainer.setAttribute('aria-atomic', 'true');\n        const visibleCount = new CountBadge(visibleCountContainer, { countFormat: localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\") }, this.styles.countBadge);\n        const countContainer = dom.append(filterContainer, $('.quick-input-count'));\n        countContainer.setAttribute('aria-live', 'polite');\n        const count = new CountBadge(countContainer, { countFormat: localize({ key: 'quickInput.countSelected', comment: ['This tells the user how many items are selected in a list of items to select from. The items can be anything.'] }, \"{0} Selected\") }, this.styles.countBadge);\n        const okContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const ok = new Button(okContainer, this.styles.button);\n        ok.label = localize('ok', \"OK\");\n        this._register(ok.onDidClick(e => {\n            this.onDidAcceptEmitter.fire();\n        }));\n        const customButtonContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const customButton = new Button(customButtonContainer, this.styles.button);\n        customButton.label = localize('custom', \"Custom\");\n        this._register(customButton.onDidClick(e => {\n            this.onDidCustomEmitter.fire();\n        }));\n        const message = dom.append(extraContainer, $(`#${this.idPrefix}message.quick-input-message`));\n        const progressBar = new ProgressBar(container, this.styles.progressBar);\n        progressBar.getContainer().classList.add('quick-input-progress');\n        const list = this._register(new QuickInputList(container, this.idPrefix + 'list', this.options));\n        this._register(list.onChangedAllVisibleChecked(checked => {\n            checkAll.checked = checked;\n        }));\n        this._register(list.onChangedVisibleCount(c => {\n            visibleCount.setCount(c);\n        }));\n        this._register(list.onChangedCheckedCount(c => {\n            count.setCount(c);\n        }));\n        this._register(list.onLeave(() => {\n            // Defer to avoid the input field reacting to the triggering key.\n            setTimeout(() => {\n                inputBox.setFocus();\n                if (this.controller instanceof QuickPick && this.controller.canSelectMany) {\n                    list.clearFocus();\n                }\n            }, 0);\n        }));\n        this._register(list.onDidChangeFocus(() => {\n            if (this.comboboxAccessibility) {\n                this.getUI().inputBox.setAttribute('aria-activedescendant', this.getUI().list.getActiveDescendant() || '');\n            }\n        }));\n        const focusTracker = dom.trackFocus(container);\n        this._register(focusTracker);\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, e => {\n            this.previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n        }, true));\n        this._register(focusTracker.onDidBlur(() => {\n            if (!this.getUI().ignoreFocusOut && !this.options.ignoreFocusOut()) {\n                this.hide(QuickInputHideReason.Blur);\n            }\n            this.previousFocusElement = undefined;\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, (e) => {\n            inputBox.setFocus();\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 3 /* KeyCode.Enter */:\n                    dom.EventHelper.stop(e, true);\n                    if (this.enabled) {\n                        this.onDidAcceptEmitter.fire();\n                    }\n                    break;\n                case 9 /* KeyCode.Escape */:\n                    dom.EventHelper.stop(e, true);\n                    this.hide(QuickInputHideReason.Gesture);\n                    break;\n                case 2 /* KeyCode.Tab */:\n                    if (!event.altKey && !event.ctrlKey && !event.metaKey) {\n                        const selectors = ['.action-label.codicon'];\n                        if (container.classList.contains('show-checkboxes')) {\n                            selectors.push('input');\n                        }\n                        else {\n                            selectors.push('input[type=text]');\n                        }\n                        if (this.getUI().list.isDisplayed()) {\n                            selectors.push('.monaco-list');\n                        }\n                        // focus links if there are any\n                        if (this.getUI().message) {\n                            selectors.push('.quick-input-message a');\n                        }\n                        const stops = container.querySelectorAll(selectors.join(', '));\n                        if (event.shiftKey && event.target === stops[0]) {\n                            dom.EventHelper.stop(e, true);\n                            stops[stops.length - 1].focus();\n                        }\n                        else if (!event.shiftKey && event.target === stops[stops.length - 1]) {\n                            dom.EventHelper.stop(e, true);\n                            stops[0].focus();\n                        }\n                    }\n                    break;\n                case 10 /* KeyCode.Space */:\n                    if (event.ctrlKey) {\n                        dom.EventHelper.stop(e, true);\n                        this.getUI().list.toggleHover();\n                    }\n                    break;\n            }\n        }));\n        this.ui = {\n            container,\n            styleSheet,\n            leftActionBar,\n            titleBar,\n            title,\n            description1,\n            description2,\n            rightActionBar,\n            checkAll,\n            filterContainer,\n            inputBox,\n            visibleCountContainer,\n            visibleCount,\n            countContainer,\n            count,\n            okContainer,\n            ok,\n            message,\n            customButtonContainer,\n            customButton,\n            list,\n            progressBar,\n            onDidAccept: this.onDidAcceptEmitter.event,\n            onDidCustom: this.onDidCustomEmitter.event,\n            onDidTriggerButton: this.onDidTriggerButtonEmitter.event,\n            ignoreFocusOut: false,\n            keyMods: this.keyMods,\n            isScreenReaderOptimized: () => this.options.isScreenReaderOptimized(),\n            show: controller => this.show(controller),\n            hide: () => this.hide(),\n            setVisibilities: visibilities => this.setVisibilities(visibilities),\n            setComboboxAccessibility: enabled => this.setComboboxAccessibility(enabled),\n            setEnabled: enabled => this.setEnabled(enabled),\n            setContextKey: contextKey => this.options.setContextKey(contextKey),\n            linkOpenerDelegate: content => this.options.linkOpenerDelegate(content)\n        };\n        this.updateStyles();\n        return this.ui;\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return new Promise((doResolve, reject) => {\n            let resolve = (result) => {\n                var _a;\n                resolve = doResolve;\n                (_a = options.onKeyMods) === null || _a === void 0 ? void 0 : _a.call(options, input.keyMods);\n                doResolve(result);\n            };\n            if (token.isCancellationRequested) {\n                resolve(undefined);\n                return;\n            }\n            const input = this.createQuickPick();\n            let activeItem;\n            const disposables = [\n                input,\n                input.onDidAccept(() => {\n                    if (input.canSelectMany) {\n                        resolve(input.selectedItems.slice());\n                        input.hide();\n                    }\n                    else {\n                        const result = input.activeItems[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidChangeActive(items => {\n                    const focused = items[0];\n                    if (focused && options.onDidFocus) {\n                        options.onDidFocus(focused);\n                    }\n                }),\n                input.onDidChangeSelection(items => {\n                    if (!input.canSelectMany) {\n                        const result = items[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidTriggerItemButton(event => options.onDidTriggerItemButton && options.onDidTriggerItemButton(Object.assign(Object.assign({}, event), { removeItem: () => {\n                        const index = input.items.indexOf(event.item);\n                        if (index !== -1) {\n                            const items = input.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = input.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = input.keepScrollPosition;\n                            input.keepScrollPosition = true;\n                            input.items = items;\n                            if (activeItems) {\n                                input.activeItems = activeItems;\n                            }\n                            input.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                    } }))),\n                input.onDidTriggerSeparatorButton(event => { var _a; return (_a = options.onDidTriggerSeparatorButton) === null || _a === void 0 ? void 0 : _a.call(options, event); }),\n                input.onDidChangeValue(value => {\n                    if (activeItem && !value && (input.activeItems.length !== 1 || input.activeItems[0] !== activeItem)) {\n                        input.activeItems = [activeItem];\n                    }\n                }),\n                token.onCancellationRequested(() => {\n                    input.hide();\n                }),\n                input.onDidHide(() => {\n                    dispose(disposables);\n                    resolve(undefined);\n                }),\n            ];\n            input.title = options.title;\n            input.canSelectMany = !!options.canPickMany;\n            input.placeholder = options.placeHolder;\n            input.ignoreFocusOut = !!options.ignoreFocusLost;\n            input.matchOnDescription = !!options.matchOnDescription;\n            input.matchOnDetail = !!options.matchOnDetail;\n            input.matchOnLabel = (options.matchOnLabel === undefined) || options.matchOnLabel; // default to true\n            input.autoFocusOnList = (options.autoFocusOnList === undefined) || options.autoFocusOnList; // default to true\n            input.quickNavigate = options.quickNavigate;\n            input.hideInput = !!options.hideInput;\n            input.contextKey = options.contextKey;\n            input.busy = true;\n            Promise.all([picks, options.activeItem])\n                .then(([items, _activeItem]) => {\n                activeItem = _activeItem;\n                input.busy = false;\n                input.items = items;\n                if (input.canSelectMany) {\n                    input.selectedItems = items.filter(item => item.type !== 'separator' && item.picked);\n                }\n                if (activeItem) {\n                    input.activeItems = [activeItem];\n                }\n            });\n            input.show();\n            Promise.resolve(picks).then(undefined, err => {\n                reject(err);\n                input.hide();\n            });\n        });\n    }\n    createQuickPick() {\n        const ui = this.getUI();\n        return new QuickPick(ui);\n    }\n    createInputBox() {\n        const ui = this.getUI();\n        return new InputBox(ui);\n    }\n    show(controller) {\n        const ui = this.getUI();\n        this.onShowEmitter.fire();\n        const oldController = this.controller;\n        this.controller = controller;\n        oldController === null || oldController === void 0 ? void 0 : oldController.didHide();\n        this.setEnabled(true);\n        ui.leftActionBar.clear();\n        ui.title.textContent = '';\n        ui.description1.textContent = '';\n        ui.description2.textContent = '';\n        ui.rightActionBar.clear();\n        ui.checkAll.checked = false;\n        // ui.inputBox.value = ''; Avoid triggering an event.\n        ui.inputBox.placeholder = '';\n        ui.inputBox.password = false;\n        ui.inputBox.showDecoration(Severity.Ignore);\n        ui.visibleCount.setCount(0);\n        ui.count.setCount(0);\n        dom.reset(ui.message);\n        ui.progressBar.stop();\n        ui.list.setElements([]);\n        ui.list.matchOnDescription = false;\n        ui.list.matchOnDetail = false;\n        ui.list.matchOnLabel = true;\n        ui.list.sortByLabel = true;\n        ui.ignoreFocusOut = false;\n        this.setComboboxAccessibility(false);\n        ui.inputBox.ariaLabel = '';\n        ui.inputBox.toggles = undefined;\n        const backKeybindingLabel = this.options.backKeybindingLabel();\n        backButton.tooltip = backKeybindingLabel ? localize('quickInput.backWithKeybinding', \"Back ({0})\", backKeybindingLabel) : localize('quickInput.back', \"Back\");\n        ui.container.style.display = '';\n        this.updateLayout();\n        ui.inputBox.setFocus();\n    }\n    setVisibilities(visibilities) {\n        const ui = this.getUI();\n        ui.title.style.display = visibilities.title ? '' : 'none';\n        ui.description1.style.display = visibilities.description && (visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.description2.style.display = visibilities.description && !(visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.checkAll.style.display = visibilities.checkAll ? '' : 'none';\n        ui.filterContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.visibleCountContainer.style.display = visibilities.visibleCount ? '' : 'none';\n        ui.countContainer.style.display = visibilities.count ? '' : 'none';\n        ui.okContainer.style.display = visibilities.ok ? '' : 'none';\n        ui.customButtonContainer.style.display = visibilities.customButton ? '' : 'none';\n        ui.message.style.display = visibilities.message ? '' : 'none';\n        ui.progressBar.getContainer().style.display = visibilities.progressBar ? '' : 'none';\n        ui.list.display(!!visibilities.list);\n        ui.container.classList.toggle('show-checkboxes', !!visibilities.checkBox);\n        ui.container.classList.toggle('hidden-input', !visibilities.inputBox && !visibilities.description);\n        this.updateLayout(); // TODO\n    }\n    setComboboxAccessibility(enabled) {\n        if (enabled !== this.comboboxAccessibility) {\n            const ui = this.getUI();\n            this.comboboxAccessibility = enabled;\n            if (this.comboboxAccessibility) {\n                ui.inputBox.setAttribute('role', 'combobox');\n                ui.inputBox.setAttribute('aria-haspopup', 'true');\n                ui.inputBox.setAttribute('aria-autocomplete', 'list');\n                ui.inputBox.setAttribute('aria-activedescendant', ui.list.getActiveDescendant() || '');\n            }\n            else {\n                ui.inputBox.removeAttribute('role');\n                ui.inputBox.removeAttribute('aria-haspopup');\n                ui.inputBox.removeAttribute('aria-autocomplete');\n                ui.inputBox.removeAttribute('aria-activedescendant');\n            }\n        }\n    }\n    setEnabled(enabled) {\n        if (enabled !== this.enabled) {\n            this.enabled = enabled;\n            for (const item of this.getUI().leftActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            for (const item of this.getUI().rightActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            this.getUI().checkAll.disabled = !enabled;\n            this.getUI().inputBox.enabled = enabled;\n            this.getUI().ok.enabled = enabled;\n            this.getUI().list.enabled = enabled;\n        }\n    }\n    hide(reason) {\n        var _a;\n        const controller = this.controller;\n        if (controller) {\n            const focusChanged = !((_a = this.ui) === null || _a === void 0 ? void 0 : _a.container.contains(document.activeElement));\n            this.controller = null;\n            this.onHideEmitter.fire();\n            this.getUI().container.style.display = 'none';\n            if (!focusChanged) {\n                let currentElement = this.previousFocusElement;\n                while (currentElement && !currentElement.offsetParent) {\n                    currentElement = withNullAsUndefined(currentElement.parentElement);\n                }\n                if (currentElement === null || currentElement === void 0 ? void 0 : currentElement.offsetParent) {\n                    currentElement.focus();\n                    this.previousFocusElement = undefined;\n                }\n                else {\n                    this.options.returnFocus();\n                }\n            }\n            controller.didHide(reason);\n        }\n    }\n    layout(dimension, titleBarOffset) {\n        this.dimension = dimension;\n        this.titleBarOffset = titleBarOffset;\n        this.updateLayout();\n    }\n    updateLayout() {\n        if (this.ui && this.isDisplayed()) {\n            this.ui.container.style.top = `${this.titleBarOffset}px`;\n            const style = this.ui.container.style;\n            const width = Math.min(this.dimension.width * 0.62 /* golden cut */, QuickInputController.MAX_WIDTH);\n            style.width = width + 'px';\n            style.marginLeft = '-' + (width / 2) + 'px';\n            this.ui.inputBox.layout();\n            this.ui.list.layout(this.dimension && this.dimension.height * 0.4);\n        }\n    }\n    applyStyles(styles) {\n        this.styles = styles;\n        this.updateStyles();\n    }\n    updateStyles() {\n        if (this.ui) {\n            const { quickInputTitleBackground, quickInputBackground, quickInputForeground, widgetBorder, widgetShadow, } = this.styles.widget;\n            this.ui.titleBar.style.backgroundColor = quickInputTitleBackground !== null && quickInputTitleBackground !== void 0 ? quickInputTitleBackground : '';\n            this.ui.container.style.backgroundColor = quickInputBackground !== null && quickInputBackground !== void 0 ? quickInputBackground : '';\n            this.ui.container.style.color = quickInputForeground !== null && quickInputForeground !== void 0 ? quickInputForeground : '';\n            this.ui.container.style.border = widgetBorder ? `1px solid ${widgetBorder}` : '';\n            this.ui.container.style.boxShadow = widgetShadow ? `0 0 8px 2px ${widgetShadow}` : '';\n            this.ui.list.style(this.styles.list);\n            const content = [];\n            if (this.styles.pickerGroup.pickerGroupBorder) {\n                content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.keybindingLabel.keybindingLabelBackground ||\n                this.styles.keybindingLabel.keybindingLabelBorder ||\n                this.styles.keybindingLabel.keybindingLabelBottomBorder ||\n                this.styles.keybindingLabel.keybindingLabelShadow ||\n                this.styles.keybindingLabel.keybindingLabelForeground) {\n                content.push('.quick-input-list .monaco-keybinding > .monaco-keybinding-key {');\n                if (this.styles.keybindingLabel.keybindingLabelBackground) {\n                    content.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBorder) {\n                    // Order matters here. `border-color` must come before `border-bottom-color`.\n                    content.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBottomBorder) {\n                    content.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelShadow) {\n                    content.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelForeground) {\n                    content.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);\n                }\n                content.push('}');\n            }\n            const newStyles = content.join('\\n');\n            if (newStyles !== this.ui.styleSheet.textContent) {\n                this.ui.styleSheet.textContent = newStyles;\n            }\n        }\n    }\n    isDisplayed() {\n        return this.ui && this.ui.container.style.display !== 'none';\n    }\n}\nQuickInputController.MAX_WIDTH = 600; // Max total width of quick input widget\nexport { QuickInputController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { IOpenerService } from '../../opener/common/opener.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { defaultButtonStyles, defaultCountBadgeStyles, defaultInputBoxStyles, defaultKeybindingLabelStyles, defaultProgressBarStyles, defaultToggleStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nimport { activeContrastBorder, asCssVariable, pickerGroupBorder, pickerGroupForeground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetBorder, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nimport { QuickInputController } from './quickInput.js';\nlet QuickInputService = class QuickInputService extends Themable {\n    get controller() {\n        if (!this._controller) {\n            this._controller = this._register(this.createController());\n        }\n        return this._controller;\n    }\n    get hasController() { return !!this._controller; }\n    get quickAccess() {\n        if (!this._quickAccess) {\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n        }\n        return this._quickAccess;\n    }\n    constructor(instantiationService, contextKeyService, themeService, accessibilityService, layoutService) {\n        super(themeService);\n        this.instantiationService = instantiationService;\n        this.contextKeyService = contextKeyService;\n        this.accessibilityService = accessibilityService;\n        this.layoutService = layoutService;\n        this._onShow = this._register(new Emitter());\n        this._onHide = this._register(new Emitter());\n        this.contexts = new Map();\n    }\n    createController(host = this.layoutService, options) {\n        const defaultOptions = {\n            idPrefix: 'quickInput_',\n            container: host.container,\n            ignoreFocusOut: () => false,\n            isScreenReaderOptimized: () => this.accessibilityService.isScreenReaderOptimized(),\n            backKeybindingLabel: () => undefined,\n            setContextKey: (id) => this.setContextKey(id),\n            linkOpenerDelegate: (content) => {\n                // HACK: https://github.com/microsoft/vscode/issues/173691\n                this.instantiationService.invokeFunction(accessor => {\n                    const openerService = accessor.get(IOpenerService);\n                    openerService.open(content, { allowCommands: true, fromUserGesture: true });\n                });\n            },\n            returnFocus: () => host.focus(),\n            createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\n            hoverDelegate: {\n                showHover(options, focus) {\n                    return undefined;\n                },\n                delay: 200\n            },\n            styles: this.computeStyles()\n        };\n        const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\n        controller.layout(host.dimension, host.offset.quickPickTop);\n        // Layout changes\n        this._register(host.onDidLayout(dimension => controller.layout(dimension, host.offset.quickPickTop)));\n        // Context keys\n        this._register(controller.onShow(() => {\n            this.resetContextKeys();\n            this._onShow.fire();\n        }));\n        this._register(controller.onHide(() => {\n            this.resetContextKeys();\n            this._onHide.fire();\n        }));\n        return controller;\n    }\n    setContextKey(id) {\n        let key;\n        if (id) {\n            key = this.contexts.get(id);\n            if (!key) {\n                key = new RawContextKey(id, false)\n                    .bindTo(this.contextKeyService);\n                this.contexts.set(id, key);\n            }\n        }\n        if (key && key.get()) {\n            return; // already active context\n        }\n        this.resetContextKeys();\n        key === null || key === void 0 ? void 0 : key.set(true);\n    }\n    resetContextKeys() {\n        this.contexts.forEach(context => {\n            if (context.get()) {\n                context.reset();\n            }\n        });\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.controller.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.controller.createQuickPick();\n    }\n    createInputBox() {\n        return this.controller.createInputBox();\n    }\n    updateStyles() {\n        if (this.hasController) {\n            this.controller.applyStyles(this.computeStyles());\n        }\n    }\n    computeStyles() {\n        return {\n            widget: {\n                quickInputBackground: asCssVariable(quickInputBackground),\n                quickInputForeground: asCssVariable(quickInputForeground),\n                quickInputTitleBackground: asCssVariable(quickInputTitleBackground),\n                widgetBorder: asCssVariable(widgetBorder),\n                widgetShadow: asCssVariable(widgetShadow),\n            },\n            inputBox: defaultInputBoxStyles,\n            toggle: defaultToggleStyles,\n            countBadge: defaultCountBadgeStyles,\n            button: defaultButtonStyles,\n            progressBar: defaultProgressBarStyles,\n            keybindingLabel: defaultKeybindingLabelStyles,\n            list: getListStyles({\n                listBackground: quickInputBackground,\n                listFocusBackground: quickInputListFocusBackground,\n                listFocusForeground: quickInputListFocusForeground,\n                // Look like focused when inactive.\n                listInactiveFocusForeground: quickInputListFocusForeground,\n                listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n                listInactiveFocusBackground: quickInputListFocusBackground,\n                listFocusOutline: activeContrastBorder,\n                listInactiveFocusOutline: activeContrastBorder,\n            }),\n            pickerGroup: {\n                pickerGroupBorder: asCssVariable(pickerGroupBorder),\n                pickerGroupForeground: asCssVariable(pickerGroupForeground),\n            }\n        };\n    }\n};\nQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, IContextKeyService),\n    __param(2, IThemeService),\n    __param(3, IAccessibilityService),\n    __param(4, ILayoutService)\n], QuickInputService);\nexport { QuickInputService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport var DefaultQuickAccessFilterValue;\n(function (DefaultQuickAccessFilterValue) {\n    /**\n     * Keep the value as it is given to quick access.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\n    /**\n     * Use the value that was used last time something was accepted from the picker.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\nexport const Extensions = {\n    Quickaccess: 'workbench.contributions.quickaccess'\n};\nexport class QuickAccessRegistry {\n    constructor() {\n        this.providers = [];\n        this.defaultProvider = undefined;\n    }\n    registerQuickAccessProvider(provider) {\n        // Extract the default provider when no prefix is present\n        if (provider.prefix.length === 0) {\n            this.defaultProvider = provider;\n        }\n        else {\n            this.providers.push(provider);\n        }\n        // sort the providers by decreasing prefix length, such that longer\n        // prefixes take priority: 'ext' vs 'ext install' - the latter should win\n        this.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\n        return toDisposable(() => {\n            this.providers.splice(this.providers.indexOf(provider), 1);\n            if (this.defaultProvider === provider) {\n                this.defaultProvider = undefined;\n            }\n        });\n    }\n    getQuickAccessProviders() {\n        return coalesce([this.defaultProvider, ...this.providers]);\n    }\n    getQuickAccessProvider(prefix) {\n        const result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\n        return result || this.defaultProvider;\n    }\n}\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const NO_KEY_MODS = { ctrlCmd: false, alt: false };\nexport var QuickInputHideReason;\n(function (QuickInputHideReason) {\n    /**\n     * Focus moved away from the quick input.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Blur\"] = 1] = \"Blur\";\n    /**\n     * An explicit user gesture, e.g. pressing Escape key.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Gesture\"] = 2] = \"Gesture\";\n    /**\n     * Anything else.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Other\"] = 3] = \"Other\";\n})(QuickInputHideReason || (QuickInputHideReason = {}));\nexport var ItemActivation;\n(function (ItemActivation) {\n    ItemActivation[ItemActivation[\"NONE\"] = 0] = \"NONE\";\n    ItemActivation[ItemActivation[\"FIRST\"] = 1] = \"FIRST\";\n    ItemActivation[ItemActivation[\"SECOND\"] = 2] = \"SECOND\";\n    ItemActivation[ItemActivation[\"LAST\"] = 3] = \"LAST\";\n})(ItemActivation || (ItemActivation = {}));\nexport class QuickPickItemScorerAccessor {\n    constructor(options) {\n        this.options = options;\n    }\n}\nexport const quickPickItemScorerAccessor = new QuickPickItemScorerAccessor();\n//#endregion\nexport const IQuickInputService = createDecorator('quickInputService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Assert from '../../../base/common/assert.js';\nimport * as Types from '../../../base/common/types.js';\nclass RegistryImpl {\n    constructor() {\n        this.data = new Map();\n    }\n    add(id, data) {\n        Assert.ok(Types.isString(id));\n        Assert.ok(Types.isObject(data));\n        Assert.ok(!this.data.has(id), 'There is already an extension with this id');\n        this.data.set(id, data);\n    }\n    as(id) {\n        return this.data.get(id) || null;\n    }\n}\nexport const Registry = new RegistryImpl();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './media/severityIcon.css';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport Severity from '../../../base/common/severity.js';\nexport var SeverityIcon;\n(function (SeverityIcon) {\n    function className(severity) {\n        switch (severity) {\n            case Severity.Ignore:\n                return 'severity-ignore ' + ThemeIcon.asClassName(Codicon.info);\n            case Severity.Info:\n                return ThemeIcon.asClassName(Codicon.info);\n            case Severity.Warning:\n                return ThemeIcon.asClassName(Codicon.warning);\n            case Severity.Error:\n                return ThemeIcon.asClassName(Codicon.error);\n            default:\n                return '';\n        }\n    }\n    SeverityIcon.className = className;\n})(SeverityIcon || (SeverityIcon = {}));\n"],"names":["IDialogService","createDecorator","CodeDataTransfers","EDITORS","FILES","extractEditorsDropData","e","_a","editors","dataTransfer","types","length","rawEditorsData","getData","push","apply","_toConsumableArray","parse","error","rawResourcesData","DataTransfers","_step3","resourcesRaw","JSON","_iterator3","_createForOfIteratorHelper","s","n","done","resourceRaw","value","indexOf","_extractSelection","extractSelection","URI","selection","uri","resource","options","err","f","createDraggedEditorInputFromRawResourcesData","files","i","file","path","isExternal","allowWorkspaceOpen","rawCodeFiles","_step","codeFiles","_iterator","codeFile","_step2","contributions","Registry","Extensions","DragAndDropContribution","getAll","_iterator2","contribution","data","dataFormatKey","getEditorInputs","coalescedEditors","seen","ResourceMap","_i","_editors","editor","has","set","DragAndDropContributionRegistry","_classCallCheck","this","_contributions","Map","_createClass","key","values","EditorOpenSource","ExtensionIdentifier","_lower","toLowerCase","id","FileKind","__decorate","decorators","target","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","historyNavigationVisible","RawContextKey","localize","HistoryNavigationWidgetFocusContext","HistoryNavigationForwardsEnablementContext","HistoryNavigationBackwardsEnablementContext","lastFocusedWidget","undefined","widgets","registerAndCreateHistoryNavigationContext","scopedContextKeyService","widget","includes","Error","disposableStore","DisposableStore","historyNavigationWidgetFocus","bindTo","historyNavigationForwardsEnablement","historyNavigationBackwardsEnablement","onDidFocus","onDidBlur","element","document","activeElement","add","toDisposable","splice","dispose","ContextScopedFindInput","_FindInput","_inherits","_super","_createSuper","container","contextViewProvider","contextKeyService","_this","call","_register","createScoped","inputBox","FindInput","IContextKeyService","ContextScopedReplaceInput","_ReplaceInput","_super2","_this2","showReplaceOptions","ReplaceInput","KeybindingsRegistry","weight","when","ContextKeyExpr","isEqualTo","primary","secondary","handler","accessor","showPreviousValue","showNextValue","showHistoryKeybindingHint","keybindingService","_b","lookupKeybinding","getElectronAccelerator","SyncDescriptor","ctor","staticArguments","supportsDelayedInstantiation","_registry","registerSingleton","ctorOrDescriptor","Boolean","getSingletonServiceDescriptors","_util","serviceIds","DI_TARGET","DI_DEPENDENCIES","getServiceDependencies","IInstantiationService","serviceId","get","index","storeServiceDependency","toString","Node","incoming","outgoing","Graph","_hashFn","_nodes","ret","node","size","from","to","fromNode","lookupOrInsertNode","toNode","delete","_step3$value","_slicedToArray","concat","keys","join","_step4","_iterator4","_step4$value","Set","res","_findCycle","_step5","_iterator5","_step5$value","CyclicDependencyError","_Error","graph","message","findCycleSlow","_wrapNativeSuper","InstantiationService","_services","ServiceCollection","_strict","_parent","_enableTracing","_activeInstantiations","_globalGraph","services","fn","_trace","Trace","traceInvocation","_done","illegalState","result","_getOrCreateServiceInstance","_len","args","Array","_key","stop","_len2","rest","_key2","traceCreation","_createInstance","serviceDependencies","sort","a","b","serviceArgs","dependency","service","_throwIfStrict","name","firstServiceArgPos","console","trace","delta","slice","construct","instance","_setServiceInstance","instanceOrDesc","_getServiceInstanceOrDescriptor","_globalGraphImplicitDependency","insertEdge","String","thing","_safeCreateAndCacheServiceInstance","branch","_createAndCacheServiceInstance","cycleCount","stack","item","pop","roots","isEmpty","_createServiceInstanceWithOwner","removeNode","_createServiceInstance","child","earlyListeners","idle","IdleValue","candidate","listener","clear","Proxy","create","isInitialized","startsWith","list","LinkedList","callback","thisArg","disposables","rm","obj","prop","bind","_target","p","getPrototypeOf","prototype","msg","printWarning","warn","type","_start","Date","now","_dep","first","dur","_totals","causedCreation","lines","printChild","_step6","prefix","_iterator6","_step6$value","nested","toFixed","all","split","_None","_Trace","_class","_entries","entries","_entries$_i","instanceOrDescriptor","JSONContribution","jsonContributionRegistry","JSONContributionRegistry","_onDidChangeSchema","Emitter","schemasById","unresolvedSchemaContent","charAt","substring","fire","platform","HIGH_FREQ_COMMANDS","AbstractKeybindingService","_Disposable","_contextKeyService","_commandService","_telemetryService","_notificationService","_logService","_onDidUpdateKeybindings","_currentChord","_currentChordChecker","IntervalTimer","_currentChordStatusMessage","_ignoreSingleModifiers","KeybindingModifierSet","EMPTY","_currentSingleModifier","_currentSingleModifierClearTimeout","TimeoutTimer","_logging","event","Event","_get","_getPrototypeOf","str","info","_getResolver","getKeybindings","commandId","context","lookupPrimaryKeybinding","resolvedKeybinding","_dispatch","_log","keybinding","resolveKeyboardEvent","hasMultipleChords","_keybinding$getDispat","getDispatchChords","firstChord","contextValue","getContext","currentChord","keypress","resolve","keypressLabel","label","status","nls","chordEnterTime","cancelAndSet","_documentHasFocus","_leaveChordMode","IME","cancel","_doDispatch","_this3","_keybinding$getSingle","getSingleModifierDispatchChords","singleModifier","_keybinding$getChords","getChords","_this4","isSingleModiferChord","shouldPreventDefault","_keybinding$getSingle3","dispatchKeyname","_keybinding$getDispat3","getLabel","resolveResult","enterMultiChord","_enterMultiChordMode","hideAfter","bubble","commandArgs","executeCommand","then","test","publicLog2","ctrlKey","metaKey","keyCode","Disposable","source","_ctrlKey","_shiftKey","shiftKey","_altKey","altKey","_metaKey","modifier","IKeybindingService","KeybindingResolver","defaultKeybindings","overrides","log","_defaultKeybindings","_defaultBoundCommands","command","_map","_lookupMap","_keybindings","handleRemovals","len","k","chords","_addKeyPress","conflicts","_addToLookupMap","conflict","conflictHasMultipleChords","itemHasMultipleChords","whenIsEntirelyIncluded","_removeFromLookupMap","arr","items","contextMatchesRules","lookupMap","candidates","_findCommand","printWhenExplanation","printSourceExplanation","leaveMultiChord","matches","_contextMatchesRules","defaultKb","keypressFirstPart","keypressChordPart","expressionsAreEqualWithConstantSubstitution","rules","removals","rule","commandRemovals","isDefault","isRemoved","commandRemoval","keypressFirstChord","keypressSecondChord","_isTargetedForRemoval","implies","evaluate","serialize","kb","extensionId","isBuiltinExtension","KeybindingsRegistryImpl","_coreKeybindings","_extensionKeybindings","_cachedMergedKeybindings","actualKb","bindToCurrentPlatform","kk","decodeKeybinding","OS","_registerDefaultKeybinding","isArray","combinedDisposable","registerKeybindingRule","CommandsRegistry","weight1","weight2","remove","sorter","win","mac","linux","ResolvedKeybindingItem","_resolvedKeybindingItemBrand","toEmptyArrayIfContainsNull","charCodeAt","substr","BaseResolvedKeybinding","_ResolvedKeybinding","os","illegalArgument","_os","_chords","UILabelProvider","_getLabel","AriaLabelProvider","_getAriaLabel","isDuplicateModifierCase","ElectronAcceleratorLabelProvider","_getElectronAccelerator","_this5","map","_getChord","ResolvedChord","_this6","_getChordDispatch","_this7","_getSingleModifierChordDispatch","ResolvedKeybinding","USLayoutResolvedKeybinding","_BaseResolvedKeybindi","KeyCodeUtils","chord","_keyCodeToUILabel","getDispatchStr","isModifierKey","scanCode","immutableKeyCode","IMMUTABLE_CODE_TO_KEY_CODE","KeyCodeChord","_scanCodeToKeyCode","_toKeyCodeChord","ILabelService","ILayoutService","IListService","ListService","lists","_lastFocusedWidget","_hasCreatedStyleController","getHTMLElement","classList","extraContextKeys","DefaultStyleController","createStyleSheet","style","defaultListStyles","some","l","registeredList","setLastFocusedList","onDidDispose","filter","RawWorkbenchListFocusContextKey","WorkbenchListSupportsMultiSelectContextKey","WorkbenchListFocusContextKey","InputFocusedContextKey","WorkbenchListHasSelectionOrFocus","WorkbenchListDoubleSelection","WorkbenchListMultiSelection","WorkbenchListSelectionNavigation","WorkbenchListSupportsFind","WorkbenchTreeElementCanCollapse","WorkbenchTreeElementHasParent","WorkbenchTreeElementCanExpand","WorkbenchTreeElementHasChild","WorkbenchTreeFindOpen","WorkbenchListTypeNavigationModeKey","WorkbenchListAutomaticKeyboardNavigationLegacyKey","createScopedContextKeyService","multiSelectModifierSettingKey","openModeSettingKey","horizontalScrollingKey","defaultFindModeSettingKey","typeNavigationModeSettingKey","keyboardNavigationSettingKey","scrollByPageKey","defaultFindMatchTypeSettingKey","treeIndentKey","treeRenderIndentGuidesKey","listSmoothScrolling","mouseWheelScrollSensitivityKey","fastScrollSensitivityKey","treeExpandMode","useAltAsMultipleSelectionModifier","configurationService","getValue","MultipleSelectionController","registerListeners","onDidChangeConfiguration","affectsConfiguration","browserEvent","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","toWorkbenchListOptions","IConfigurationService","assign","keyboardNavigationDelegate","mightProducePrintableCharacter","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","multipleSelectionController","keyboardNavigationEventFilter","createKeyboardNavigationEventFilter","scrollByPage","WorkbenchList","_List","user","delegate","renderers","listService","instantiationService","horizontalScrolling","_instantiationService","invokeFunction","_instantiationService2","workbenchListOptions","workbenchListOptionsDisposable","keyboardSupport","_assertThisInitialized","listSupportsMultiSelect","multipleSelectionSupport","selectionNavigation","listHasSelectionOrFocus","listDoubleSelection","listMultiSelection","_useAltAsMultipleSelectionModifier","register","updateStyles","overrideStyles","onDidChangeSelection","getSelection","focus","getFocus","bufferChangeEvents","onDidChangeFocus","updateOptions","navigator","ListResourceNavigator","styles","getListStyles","List","WorkbenchPagedList","_PagedList","_super3","_instantiationService3","_instantiationService4","PagedList","WorkbenchTable","_Table","_super4","columns","_instantiationService5","_instantiationService6","TableResourceNavigator","Table","ResourceNavigator","_Disposable2","_super5","_onDidOpen","onDidOpen","KeyboardEvent","onSelectionFromKeyboard","onPointer","onMouseDblClick","openOnSingleClick","elements","selectionKeyboardEvent","preserveFocus","pinned","_open","getSelectedElement","detail","button","sideBySide","contains","offsetX","editorOptions","revealIfVisible","_ResourceNavigator","_super6","_this8","getSelectedElements","_ResourceNavigator2","_super7","TreeResourceNavigator","_ResourceNavigator3","_super8","inMultiChord","toKeyCodeChord","softDispatch","WorkbenchObjectTree","_ObjectTree","_super9","_this9","_instantiationService7","workbenchTreeDataPreamble","treeOptions","getTypeNavigationMode","disposable","internals","WorkbenchTreeInternals","ObjectTree","WorkbenchCompressibleObjectTree","_CompressibleObjectTr","_super10","_this10","_instantiationService8","updateStyleOverrides","CompressibleObjectTree","WorkbenchDataTree","_DataTree","_super11","dataSource","_this11","_instantiationService9","DataTree","WorkbenchAsyncDataTree","_AsyncDataTree","_super12","_this12","_instantiationService10","AsyncDataTree","WorkbenchCompressibleAsyncDataTree","_CompressibleAsyncDat","_super13","virtualDelegate","compressionDelegate","_this13","_instantiationService11","CompressibleAsyncDataTree","getDefaultTreeFindMode","TreeFindMode","deprecatedValue","getDefaultTreeFindMatchType","TreeFindMatchType","contextViewService","IContextViewService","_instantiationService12","_instantiationService13","additionalScrollHeight","renderIndentGuides","modeString","getContextKeyValue","TypeNavigationMode","configString","indent","defaultFindMode","defaultFindMatchType","hideTwistiesOfChildlessElements","expandOnlyOnTwistieClick","findWidgetStyles","defaultFindWidgetStyles","tree","_this14","listSupportFindWidget","findWidgetEnabled","hasSelectionOrFocus","hasDoubleSelection","hasMultiSelection","treeElementCanCollapse","treeElementHasParent","treeElementCanExpand","treeElementHasChild","treeFindOpen","updateCollapseContextKeys","getNode","collapsible","collapsed","getParentElement","getFirstElementChild","interestingContextKeys","onDidChangeCollapseState","onDidChangeModel","onDidChangeFindOpenState","enabled","newOptions","typeNavigationMode","onDidChangeContext","affectsSome","ConfigurationExtensions","registerConfiguration","order","title","properties","_properties","_defineProperty","enum","markdownEnumDescriptions","default","description","comment","minimum","maximum","markdownDescription","enumDescriptions","deprecated","deprecationMessage","LogLevel","ILogService","DEFAULT_LOG_LEVEL","Info","AbstractLogger","level","_onDidChangeLogLevel","onDidChangeLogLevel","Off","ConsoleLogger","_AbstractLogger","logLevel","setLevel","checkLogLevel","_console","Debug","_console2","_console3","_len3","_key3","_console4","_len4","_key4","MultiplexLogger","_AbstractLogger2","loggers","getLevel","_len5","_key5","logger","_len6","_key6","debug","_len7","_key7","_len8","_key8","LogService","primaryLogger","otherLoggers","_this$logger","_this$logger2","_this$logger3","_this$logger4","unsupportedSchemas","Schemas","DoubleResourceMap","_byResource","_byOwner","owner","ownerMap","resourceMap","removedA","removedB","_c","_d","Iterable","MarkerStats","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","resources","oldStats","_substract","newStats","_resourceStats","_add","scheme","read","severity","MarkerSeverity","op","MarkerService","_onMarkerChanged","DebounceEmitter","delay","merge","_merge","_stats","changeOne","markerData","isFalsyOrEmpty","markers","marker","_toMarker","changes","existing","isNonEmptyArray","groups","array","_step7","_iterator7","_step7$value","severities","take","_step8","_iterator8","_accept","newLen","_step11","iterable","_iterator11","_step12","_iterator12","_step9","_iterator9","_step10","_iterator10","code","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","_step13","_iterator13","_step14","_iterator14","IMarkerData","compare","_displayStrings","Warning","fromSeverity","Severity","Hint","toSeverity","emptyString","makeKeyOptionalMessage","useMessage","replace","makeKey","IMarkerService","BaseSeverity","INotificationService","NoOpNotification","Link","_link","openerService","_enabled","el","append","$","tabIndex","href","setAttribute","onClickEmitter","DomEmitter","onKeyPress","onEnterPress","StandardKeyboardEvent","onTap","TouchEventType","Gesture","onOpen","EventHelper","opener","open","allowCommands","pointerEvents","opacity","cursor","IOpenerService","matchesScheme","equalsIgnoreCase","startsWithIgnoreCase","matchesSomeScheme","schemes","match","exec","fragment","parseInt","with","IProgressService","Progress","freeze","total","worked","_value","None","report","IEditorProgressService","TriggerAction","__awaiter","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","isPicksWithActive","isFastAndSlowPicks","picks","additionalPicks","PickerQuickAccessProvider","picker","token","runOptions","canAcceptInBackground","matchOnLabel","matchOnDescription","matchOnDetail","sortByLabel","picksCts","picksDisposable","MutableDisposable","updatePickerItems","_regeneratorRuntime","mark","_callee3","picksDisposables","picksToken","picksFilter","providedPicks","applyPicks","fastPicksApplied","slowPicksApplied","awaitedPicks","wrap","_context3","prev","busy","CancellationTokenSource","trim","_getPicks","skipEmpty","activeItem","active","noResultsPick","activeItems","_callee","_context","timeout","FAST_PICKS_RACE_DELAY","isCancellationRequested","abrupt","_callee2","awaitedAdditionalPicks","activePick","additionalActivePick","fallbackActivePick","fallbackActivePickCandidate","_context2","sent","finish","onDidChangeValue","onDidAccept","selectedItems","accept","inBackground","hide","keyMods","onDidTriggerItemButton","_ref","_callee4","buttonIndex","action","removed","keepScrollPositionBefore","_context4","trigger","buttons","t0","t1","NO_ACTION","CLOSE_PICKER","REFRESH_PICKER","REMOVE_ITEM","keepScrollPosition","AbstractCommandsQuickAccessProvider","_PickerQuickAccessPro","commandService","telemetryService","dialogService","PREFIX","commandsHistory","createInstance","CommandsHistory","_disposables","allCommandPicks","filteredCommandPicks","_commandPick","labelHighlights","aliasHighlights","mapLabelToCommand","_filteredCommandPicks","commandPick","existingCommandForLabel","commandPicks","addOtherSeparator","addCommonlyUsedSeparator","_loop","getCommandPicks","withNullAsUndefined","WORD_FILTER","commandAlias","highlights","showAlias","commandPickA","commandPickB","commandACounter","peek","commandBCounter","suggestedCommandIds","commandASuggestion","commandBSuggestion","localeCompare","ariaLabel","getAriaLabel","isCancellationError","toErrorMessage","delegateYield","or","matchesPrefix","matchesWords","matchesContiguousSubString","ICommandService","ITelemetryService","storageService","configuredCommandsHistoryLength","updateConfiguration","load","getConfiguredCommandHistoryLength","cache","limit","saveState","serializedCache","raw","PREF_KEY_CACHE","LRUCache","usesLRU","forEach","entry","counter","getNumber","PREF_KEY_COUNTER","store","stringify","configuredCommandHistoryLength","workbench","commandPalette","history","DEFAULT_COMMANDS_HISTORY_LENGTH","IStorageService","HelpQuickAccessProvider","quickInputService","registry","quickAccess","show","preserveValue","providerDescriptor","getQuickAccessProvider","getQuickAccessProviders","providerA","providerB","flatMap","provider","createPicks","helpEntries","helpEntry","IQuickInputService","QuickAccessController","mapProviderToDescriptor","lastAcceptedPickerValues","visibleQuickAccess","doShowOrPick","pick","_this$getOrInstantiat","getOrInstantiateProvider","_this$getOrInstantiat2","descriptor","visibleDescriptor","adjustValueSelection","newValue","newValueCandidateWithoutPrefix","defaultFilterValue","DefaultQuickAccessFilterValue","createQuickPick","placeholder","quickNavigate","quickNavigateConfiguration","hideInput","itemActivation","ItemActivation","contextKey","filterValue","pickPromise","DeferredPromise","once","onWillAccept","veto","registerPickerListeners","providerOptions","cts","provide","onDidHide","complete","valueSelection","_this2$getOrInstantia","dom","QuickInputBox","parent","inputBoxStyles","toggleStyles","onKeyDown","addDisposableListener","findInput","inputElement","EventType","KEY_DOWN","onMouseDown","MOUSE_DOWN","StandardMouseEvent","onDidChange","setValue","range","select","isSelectionAtEnd","getAttribute","setPlaceHolder","setAriaLabel","password","toggleAttribute","toggles","setAdditionalToggles","removeAttribute","decoration","clearMessage","showMessage","content","stylesForType","layout","iconPathToClass","iconClassGenerator","IdGenerator","getIconClass","iconPath","iconClass","dark","nextId","createCSSRule","asCSSUrl","light","ListElement","init","hidden","_onChecked","onChecked","_checked","ListElementRenderer","ID","toDisposeElement","toDisposeTemplate","addStandardDisposableListener","CLICK","checkbox","offsetParent","preventDefault","CHANGE","checked","rows","row1","row2","IconLabel","supportHighlights","supportDescriptionHighlights","supportIcons","keybindingContainer","KeybindingLabel","detailContainer","separator","actionBar","ActionBar","domNode","mainItem","descriptionHighlights","detailHighlights","descriptionTitle","saneDescription","descriptionMatches","extraClasses","iconClasses","italic","strikethrough","setLabel","saneLabel","saneDetail","textContent","display","toggle","cssClasses","alwaysVisible","class","tooltip","run","fireButtonTriggered","fireSeparatorButtonTriggered","icon","QuickInputListFocus","ListElementDelegate","QuickInputList","inputElements","elementsToIndexes","matchOnLabelMode","matchOnMeta","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onSeparatorButtonTriggered","onSeparatorButtonTriggered","_onKeyDown","_onLeave","onLeave","_fireCheckedEvents","elementDisposables","accessibilityProvider","QuickInputAccessibilityProvider","createList","identityProvider","getId","setRowLineHeight","toggleCheckbox","setFocus","focus1","focus2","x","y","onMouseMiddleClick","onContextMenu","setSelection","delayer","ThrottledDelayer","hoverDelegate","onMouseOver","HTMLAnchorElement","relatedTarget","isAncestor","showHover","onMouseOut","scrollTop","allVisibleChecked","whenNoneVisible","count","fireCheckedEvents","reduce","saneMeta","saneTooltip","previous","saneSortLabel","parseLabelWithIcons","text","meta","saneAriaLabel","getCodiconAriaLabel","hasCheckbox","getFocusedElements","focused","reveal","what","Second","First","focusFirst","focusNth","Last","scrollHeight","focusLast","Next","focusNext","firstVisibleIndex","Previous","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","domFocus","_lastHover","isDisposed","onDidHideHover","linkHandler","url","linkOpenerDelegate","showPointer","hoverPosition","maxHeight","Math","floor","query","currentSeparator","queryWithWhitespace","matchesFuzzyIconAware","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","ltrim","leadingWhitespaceOffset","iconOffset","start","end","matchesContiguousIconAware","metaHighlights","alwaysShow","shownElements","normalizedSearchValue","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","compareAnything","compareEntries","getAllVisibleChecked","allChecked","getCheckedCount","getCheckedElements","indexes","_toggleHover","word","wordToMatchAgainst","matchIndex","memoize","backButton","ThemeIcon","Codicon","handle","QuickInput","ui","visible","_busy","_ignoreFocusOut","_buttons","buttonsUpdated","_toggles","togglesUpdated","noValidationMessage","noPromptMessage","_severity","onDidTriggerButtonEmitter","onDidHideEmitter","onDisposeEmitter","visibleDisposables","_title","update","_description","_steps","_totalSteps","totalSteps","_contextKey","ignoreFocusOut","shouldUpdate","isIOS","_validationMessage","validationMessage","onDidTriggerButton","_lastValidationMessage","_lastSeverity","reason","QuickInputHideReason","getTitle","innerHTML","innerText","getDescription","description1","description2","busyDelay","setIfNotSet","progressBar","infinite","leftActionBar","leftButtons","Action","rightActionBar","rightButtons","concreteToggles","opts","Toggle","setEnabled","setContextKey","reset","actionHandler","parsed","parseLinkedText","nodes","renderLabelWithIcons","anchor","textDecoration","onClick","onKeydown","onSpaceOrEnter","equals","GestureEventType","isEventLike","appendChild","renderQuickInputDescription","showMessageDecoration","getSteps","showDecoration","color","foreground","backgroundColor","background","border","marginBottom","QuickPick","_QuickInput","onDidChangeValueEmitter","onWillAcceptEmitter","onDidAcceptEmitter","onDidCustomEmitter","_items","itemsUpdated","_canSelectMany","_canAcceptInBackground","_matchOnDescription","_matchOnDetail","_matchOnLabel","_matchOnLabelMode","_sortByLabel","_autoFocusOnList","_keepScrollPosition","_itemActivation","isScreenReaderOptimized","_activeItems","activeItemsUpdated","activeItemsToConfirm","onDidChangeActiveEmitter","_selectedItems","selectedItemsUpdated","selectedItemsToConfirm","onDidChangeSelectionEmitter","onDidTriggerItemButtonEmitter","onDidTriggerSeparatorButtonEmitter","valueSelectionUpdated","_ok","_customButton","onDidChangeActive","onDidTriggerSeparatorButton","_quickNavigate","doSetValue","skipUpdate","trySelectFirst","_ariaLabel","_placeholder","canSelectMany","autoFocusOnList","NO_KEY_MODS","_valueSelection","showCustomButton","_customButtonLabel","_customButtonHover","hover","showOkButton","_hideInput","clearFocus","handleAccept","onDidCustom","focusedItems","setSelectedElements","MouseEvent","checkedItems","registerQuickNavigation","KEY_UP","keyboardEvent","keybindings","_k$getChords","_k$getChords2","scrollTopBefore","hasDescription","visibilities","checkAll","_hideCheckAll","checkBox","visibleCount","ok","customButton","setVisibilities","DEFAULT_ARIA_LABEL","setElements","setCount","getVisibleCount","setFocusedElements","setCheckedElements","customLabel","customHover","setComboboxAccessibility","InputBox","_QuickInput2","_password","onDidValueChangeEmitter","QuickInputController","comboboxAccessibility","ctrlCmd","alt","controller","onShowEmitter","onShow","onHideEmitter","onHide","idPrefix","parentElement","registerKeyModsListeners","window","styleSheet","titleBar","headerContainer","setAllVisibleChecked","extraContainer","filterContainer","visibleCountContainer","CountBadge","countFormat","countBadge","countContainer","okContainer","Button","onDidClick","customButtonContainer","ProgressBar","getContainer","setTimeout","getUI","getActiveDescendant","focusTracker","trackFocus","FOCUS","previousFocusElement","HTMLElement","selectors","isDisplayed","stops","querySelectorAll","toggleHover","CancellationToken","doResolve","onKeyMods","input","removeItem","onCancellationRequested","canPickMany","placeHolder","ignoreFocusLost","_ref2","_ref3","_activeItem","picked","oldController","didHide","backKeybindingLabel","updateLayout","viewItems","disabled","focusChanged","currentElement","returnFocus","dimension","titleBarOffset","top","width","min","MAX_WIDTH","marginLeft","height","_this$styles$widget","quickInputTitleBackground","quickInputBackground","quickInputForeground","widgetBorder","widgetShadow","boxShadow","pickerGroup","pickerGroupBorder","pickerGroupForeground","keybindingLabel","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","keybindingLabelForeground","newStyles","QuickInputService","_Themable","themeService","accessibilityService","layoutService","_onShow","_onHide","contexts","_controller","createController","_quickAccess","host","defaultOptions","fromUserGesture","computeStyles","offset","quickPickTop","onDidLayout","resetContextKeys","createInputBox","hasController","applyStyles","asCssVariable","defaultInputBoxStyles","defaultToggleStyles","defaultCountBadgeStyles","defaultButtonStyles","defaultProgressBarStyles","defaultKeybindingLabelStyles","listBackground","listFocusBackground","quickInputListFocusBackground","listFocusForeground","quickInputListFocusForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","quickInputListFocusIconForeground","listInactiveFocusBackground","listFocusOutline","activeContrastBorder","listInactiveFocusOutline","Themable","IThemeService","IAccessibilityService","Quickaccess","QuickAccessRegistry","providers","defaultProvider","coalesce","find","QuickPickItemScorerAccessor","RegistryImpl","Assert","Types","SeverityIcon","className"],"sourceRoot":""}