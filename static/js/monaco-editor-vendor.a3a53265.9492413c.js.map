{"version":3,"file":"static/js/monaco-editor-vendor.a3a53265.9492413c.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/base/browser/fastDomNode.js","../node_modules/monaco-editor/esm/vs/base/browser/formattedTextRenderer.js","../node_modules/monaco-editor/esm/vs/base/browser/globalPointerMoveMonitor.js","../node_modules/monaco-editor/esm/vs/base/browser/keyboardEvent.js","../node_modules/monaco-editor/esm/vs/base/browser/markdownRenderer.js","../node_modules/monaco-editor/esm/vs/base/browser/iframe.js","../node_modules/monaco-editor/esm/vs/base/browser/mouseEvent.js","../node_modules/monaco-editor/esm/vs/base/browser/performance.js","../node_modules/monaco-editor/esm/vs/base/browser/touch.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionViewItems.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/button/button.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/contextview/contextview.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdown.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputToggles.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabelHover.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabels.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listPaging.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rangeMap.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rowCache.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/splice.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/list.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/menu/menu.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class FastDomNode {\n    constructor(domNode) {\n        this.domNode = domNode;\n        this._maxWidth = '';\n        this._width = '';\n        this._height = '';\n        this._top = '';\n        this._left = '';\n        this._bottom = '';\n        this._right = '';\n        this._paddingLeft = '';\n        this._fontFamily = '';\n        this._fontWeight = '';\n        this._fontSize = '';\n        this._fontStyle = '';\n        this._fontFeatureSettings = '';\n        this._fontVariationSettings = '';\n        this._textDecoration = '';\n        this._lineHeight = '';\n        this._letterSpacing = '';\n        this._className = '';\n        this._display = '';\n        this._position = '';\n        this._visibility = '';\n        this._color = '';\n        this._backgroundColor = '';\n        this._layerHint = false;\n        this._contain = 'none';\n        this._boxShadow = '';\n    }\n    setMaxWidth(_maxWidth) {\n        const maxWidth = numberAsPixels(_maxWidth);\n        if (this._maxWidth === maxWidth) {\n            return;\n        }\n        this._maxWidth = maxWidth;\n        this.domNode.style.maxWidth = this._maxWidth;\n    }\n    setWidth(_width) {\n        const width = numberAsPixels(_width);\n        if (this._width === width) {\n            return;\n        }\n        this._width = width;\n        this.domNode.style.width = this._width;\n    }\n    setHeight(_height) {\n        const height = numberAsPixels(_height);\n        if (this._height === height) {\n            return;\n        }\n        this._height = height;\n        this.domNode.style.height = this._height;\n    }\n    setTop(_top) {\n        const top = numberAsPixels(_top);\n        if (this._top === top) {\n            return;\n        }\n        this._top = top;\n        this.domNode.style.top = this._top;\n    }\n    setLeft(_left) {\n        const left = numberAsPixels(_left);\n        if (this._left === left) {\n            return;\n        }\n        this._left = left;\n        this.domNode.style.left = this._left;\n    }\n    setBottom(_bottom) {\n        const bottom = numberAsPixels(_bottom);\n        if (this._bottom === bottom) {\n            return;\n        }\n        this._bottom = bottom;\n        this.domNode.style.bottom = this._bottom;\n    }\n    setRight(_right) {\n        const right = numberAsPixels(_right);\n        if (this._right === right) {\n            return;\n        }\n        this._right = right;\n        this.domNode.style.right = this._right;\n    }\n    setPaddingLeft(_paddingLeft) {\n        const paddingLeft = numberAsPixels(_paddingLeft);\n        if (this._paddingLeft === paddingLeft) {\n            return;\n        }\n        this._paddingLeft = paddingLeft;\n        this.domNode.style.paddingLeft = this._paddingLeft;\n    }\n    setFontFamily(fontFamily) {\n        if (this._fontFamily === fontFamily) {\n            return;\n        }\n        this._fontFamily = fontFamily;\n        this.domNode.style.fontFamily = this._fontFamily;\n    }\n    setFontWeight(fontWeight) {\n        if (this._fontWeight === fontWeight) {\n            return;\n        }\n        this._fontWeight = fontWeight;\n        this.domNode.style.fontWeight = this._fontWeight;\n    }\n    setFontSize(_fontSize) {\n        const fontSize = numberAsPixels(_fontSize);\n        if (this._fontSize === fontSize) {\n            return;\n        }\n        this._fontSize = fontSize;\n        this.domNode.style.fontSize = this._fontSize;\n    }\n    setFontStyle(fontStyle) {\n        if (this._fontStyle === fontStyle) {\n            return;\n        }\n        this._fontStyle = fontStyle;\n        this.domNode.style.fontStyle = this._fontStyle;\n    }\n    setFontFeatureSettings(fontFeatureSettings) {\n        if (this._fontFeatureSettings === fontFeatureSettings) {\n            return;\n        }\n        this._fontFeatureSettings = fontFeatureSettings;\n        this.domNode.style.fontFeatureSettings = this._fontFeatureSettings;\n    }\n    setFontVariationSettings(fontVariationSettings) {\n        if (this._fontVariationSettings === fontVariationSettings) {\n            return;\n        }\n        this._fontVariationSettings = fontVariationSettings;\n        this.domNode.style.fontVariationSettings = this._fontVariationSettings;\n    }\n    setTextDecoration(textDecoration) {\n        if (this._textDecoration === textDecoration) {\n            return;\n        }\n        this._textDecoration = textDecoration;\n        this.domNode.style.textDecoration = this._textDecoration;\n    }\n    setLineHeight(_lineHeight) {\n        const lineHeight = numberAsPixels(_lineHeight);\n        if (this._lineHeight === lineHeight) {\n            return;\n        }\n        this._lineHeight = lineHeight;\n        this.domNode.style.lineHeight = this._lineHeight;\n    }\n    setLetterSpacing(_letterSpacing) {\n        const letterSpacing = numberAsPixels(_letterSpacing);\n        if (this._letterSpacing === letterSpacing) {\n            return;\n        }\n        this._letterSpacing = letterSpacing;\n        this.domNode.style.letterSpacing = this._letterSpacing;\n    }\n    setClassName(className) {\n        if (this._className === className) {\n            return;\n        }\n        this._className = className;\n        this.domNode.className = this._className;\n    }\n    toggleClassName(className, shouldHaveIt) {\n        this.domNode.classList.toggle(className, shouldHaveIt);\n        this._className = this.domNode.className;\n    }\n    setDisplay(display) {\n        if (this._display === display) {\n            return;\n        }\n        this._display = display;\n        this.domNode.style.display = this._display;\n    }\n    setPosition(position) {\n        if (this._position === position) {\n            return;\n        }\n        this._position = position;\n        this.domNode.style.position = this._position;\n    }\n    setVisibility(visibility) {\n        if (this._visibility === visibility) {\n            return;\n        }\n        this._visibility = visibility;\n        this.domNode.style.visibility = this._visibility;\n    }\n    setColor(color) {\n        if (this._color === color) {\n            return;\n        }\n        this._color = color;\n        this.domNode.style.color = this._color;\n    }\n    setBackgroundColor(backgroundColor) {\n        if (this._backgroundColor === backgroundColor) {\n            return;\n        }\n        this._backgroundColor = backgroundColor;\n        this.domNode.style.backgroundColor = this._backgroundColor;\n    }\n    setLayerHinting(layerHint) {\n        if (this._layerHint === layerHint) {\n            return;\n        }\n        this._layerHint = layerHint;\n        this.domNode.style.transform = this._layerHint ? 'translate3d(0px, 0px, 0px)' : '';\n    }\n    setBoxShadow(boxShadow) {\n        if (this._boxShadow === boxShadow) {\n            return;\n        }\n        this._boxShadow = boxShadow;\n        this.domNode.style.boxShadow = boxShadow;\n    }\n    setContain(contain) {\n        if (this._contain === contain) {\n            return;\n        }\n        this._contain = contain;\n        this.domNode.style.contain = this._contain;\n    }\n    setAttribute(name, value) {\n        this.domNode.setAttribute(name, value);\n    }\n    removeAttribute(name) {\n        this.domNode.removeAttribute(name);\n    }\n    appendChild(child) {\n        this.domNode.appendChild(child.domNode);\n    }\n    removeChild(child) {\n        this.domNode.removeChild(child.domNode);\n    }\n}\nfunction numberAsPixels(value) {\n    return (typeof value === 'number' ? `${value}px` : value);\n}\nexport function createFastDomNode(domNode) {\n    return new FastDomNode(domNode);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nexport function renderText(text, options = {}) {\n    const element = createElement(options);\n    element.textContent = text;\n    return element;\n}\nexport function renderFormattedText(formattedText, options = {}) {\n    const element = createElement(options);\n    _renderFormattedText(element, parseFormattedText(formattedText, !!options.renderCodeSegments), options.actionHandler, options.renderCodeSegments);\n    return element;\n}\nexport function createElement(options) {\n    const tagName = options.inline ? 'span' : 'div';\n    const element = document.createElement(tagName);\n    if (options.className) {\n        element.className = options.className;\n    }\n    return element;\n}\nclass StringStream {\n    constructor(source) {\n        this.source = source;\n        this.index = 0;\n    }\n    eos() {\n        return this.index >= this.source.length;\n    }\n    next() {\n        const next = this.peek();\n        this.advance();\n        return next;\n    }\n    peek() {\n        return this.source[this.index];\n    }\n    advance() {\n        this.index++;\n    }\n}\nfunction _renderFormattedText(element, treeNode, actionHandler, renderCodeSegments) {\n    let child;\n    if (treeNode.type === 2 /* FormatType.Text */) {\n        child = document.createTextNode(treeNode.content || '');\n    }\n    else if (treeNode.type === 3 /* FormatType.Bold */) {\n        child = document.createElement('b');\n    }\n    else if (treeNode.type === 4 /* FormatType.Italics */) {\n        child = document.createElement('i');\n    }\n    else if (treeNode.type === 7 /* FormatType.Code */ && renderCodeSegments) {\n        child = document.createElement('code');\n    }\n    else if (treeNode.type === 5 /* FormatType.Action */ && actionHandler) {\n        const a = document.createElement('a');\n        actionHandler.disposables.add(DOM.addStandardDisposableListener(a, 'click', (event) => {\n            actionHandler.callback(String(treeNode.index), event);\n        }));\n        child = a;\n    }\n    else if (treeNode.type === 8 /* FormatType.NewLine */) {\n        child = document.createElement('br');\n    }\n    else if (treeNode.type === 1 /* FormatType.Root */) {\n        child = element;\n    }\n    if (child && element !== child) {\n        element.appendChild(child);\n    }\n    if (child && Array.isArray(treeNode.children)) {\n        treeNode.children.forEach((nodeChild) => {\n            _renderFormattedText(child, nodeChild, actionHandler, renderCodeSegments);\n        });\n    }\n}\nfunction parseFormattedText(content, parseCodeSegments) {\n    const root = {\n        type: 1 /* FormatType.Root */,\n        children: []\n    };\n    let actionViewItemIndex = 0;\n    let current = root;\n    const stack = [];\n    const stream = new StringStream(content);\n    while (!stream.eos()) {\n        let next = stream.next();\n        const isEscapedFormatType = (next === '\\\\' && formatTagType(stream.peek(), parseCodeSegments) !== 0 /* FormatType.Invalid */);\n        if (isEscapedFormatType) {\n            next = stream.next(); // unread the backslash if it escapes a format tag type\n        }\n        if (!isEscapedFormatType && isFormatTag(next, parseCodeSegments) && next === stream.peek()) {\n            stream.advance();\n            if (current.type === 2 /* FormatType.Text */) {\n                current = stack.pop();\n            }\n            const type = formatTagType(next, parseCodeSegments);\n            if (current.type === type || (current.type === 5 /* FormatType.Action */ && type === 6 /* FormatType.ActionClose */)) {\n                current = stack.pop();\n            }\n            else {\n                const newCurrent = {\n                    type: type,\n                    children: []\n                };\n                if (type === 5 /* FormatType.Action */) {\n                    newCurrent.index = actionViewItemIndex;\n                    actionViewItemIndex++;\n                }\n                current.children.push(newCurrent);\n                stack.push(current);\n                current = newCurrent;\n            }\n        }\n        else if (next === '\\n') {\n            if (current.type === 2 /* FormatType.Text */) {\n                current = stack.pop();\n            }\n            current.children.push({\n                type: 8 /* FormatType.NewLine */\n            });\n        }\n        else {\n            if (current.type !== 2 /* FormatType.Text */) {\n                const textCurrent = {\n                    type: 2 /* FormatType.Text */,\n                    content: next\n                };\n                current.children.push(textCurrent);\n                stack.push(current);\n                current = textCurrent;\n            }\n            else {\n                current.content += next;\n            }\n        }\n    }\n    if (current.type === 2 /* FormatType.Text */) {\n        current = stack.pop();\n    }\n    if (stack.length) {\n        // incorrectly formatted string literal\n    }\n    return root;\n}\nfunction isFormatTag(char, supportCodeSegments) {\n    return formatTagType(char, supportCodeSegments) !== 0 /* FormatType.Invalid */;\n}\nfunction formatTagType(char, supportCodeSegments) {\n    switch (char) {\n        case '*':\n            return 3 /* FormatType.Bold */;\n        case '_':\n            return 4 /* FormatType.Italics */;\n        case '[':\n            return 5 /* FormatType.Action */;\n        case ']':\n            return 6 /* FormatType.ActionClose */;\n        case '`':\n            return supportCodeSegments ? 7 /* FormatType.Code */ : 0 /* FormatType.Invalid */;\n        default:\n            return 0 /* FormatType.Invalid */;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from './dom.js';\nimport { DisposableStore, toDisposable } from '../common/lifecycle.js';\nexport class GlobalPointerMoveMonitor {\n    constructor() {\n        this._hooks = new DisposableStore();\n        this._pointerMoveCallback = null;\n        this._onStopCallback = null;\n    }\n    dispose() {\n        this.stopMonitoring(false);\n        this._hooks.dispose();\n    }\n    stopMonitoring(invokeStopCallback, browserEvent) {\n        if (!this.isMonitoring()) {\n            // Not monitoring\n            return;\n        }\n        // Unhook\n        this._hooks.clear();\n        this._pointerMoveCallback = null;\n        const onStopCallback = this._onStopCallback;\n        this._onStopCallback = null;\n        if (invokeStopCallback && onStopCallback) {\n            onStopCallback(browserEvent);\n        }\n    }\n    isMonitoring() {\n        return !!this._pointerMoveCallback;\n    }\n    startMonitoring(initialElement, pointerId, initialButtons, pointerMoveCallback, onStopCallback) {\n        if (this.isMonitoring()) {\n            this.stopMonitoring(false);\n        }\n        this._pointerMoveCallback = pointerMoveCallback;\n        this._onStopCallback = onStopCallback;\n        let eventSource = initialElement;\n        try {\n            initialElement.setPointerCapture(pointerId);\n            this._hooks.add(toDisposable(() => {\n                try {\n                    initialElement.releasePointerCapture(pointerId);\n                }\n                catch (err) {\n                    // See https://github.com/microsoft/vscode/issues/161731\n                    //\n                    // `releasePointerCapture` sometimes fails when being invoked with the exception:\n                    //     DOMException: Failed to execute 'releasePointerCapture' on 'Element':\n                    //     No active pointer with the given id is found.\n                    //\n                    // There's no need to do anything in case of failure\n                }\n            }));\n        }\n        catch (err) {\n            // See https://github.com/microsoft/vscode/issues/144584\n            // See https://github.com/microsoft/vscode/issues/146947\n            // `setPointerCapture` sometimes fails when being invoked\n            // from a `mousedown` listener on macOS and Windows\n            // and it always fails on Linux with the exception:\n            //     DOMException: Failed to execute 'setPointerCapture' on 'Element':\n            //     No active pointer with the given id is found.\n            // In case of failure, we bind the listeners on the window\n            eventSource = window;\n        }\n        this._hooks.add(dom.addDisposableListener(eventSource, dom.EventType.POINTER_MOVE, (e) => {\n            if (e.buttons !== initialButtons) {\n                // Buttons state has changed in the meantime\n                this.stopMonitoring(true);\n                return;\n            }\n            e.preventDefault();\n            this._pointerMoveCallback(e);\n        }));\n        this._hooks.add(dom.addDisposableListener(eventSource, dom.EventType.POINTER_UP, (e) => this.stopMonitoring(true)));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { EVENT_KEY_CODE_MAP, KeyCodeUtils } from '../common/keyCodes.js';\nimport { KeyCodeChord } from '../common/keybindings.js';\nimport * as platform from '../common/platform.js';\nfunction extractKeyCode(e) {\n    if (e.charCode) {\n        // \"keypress\" events mostly\n        const char = String.fromCharCode(e.charCode).toUpperCase();\n        return KeyCodeUtils.fromString(char);\n    }\n    const keyCode = e.keyCode;\n    // browser quirks\n    if (keyCode === 3) {\n        return 7 /* KeyCode.PauseBreak */;\n    }\n    else if (browser.isFirefox) {\n        if (keyCode === 59) {\n            return 80 /* KeyCode.Semicolon */;\n        }\n        else if (keyCode === 107) {\n            return 81 /* KeyCode.Equal */;\n        }\n        else if (keyCode === 109) {\n            return 83 /* KeyCode.Minus */;\n        }\n        else if (platform.isMacintosh && keyCode === 224) {\n            return 57 /* KeyCode.Meta */;\n        }\n    }\n    else if (browser.isWebKit) {\n        if (keyCode === 91) {\n            return 57 /* KeyCode.Meta */;\n        }\n        else if (platform.isMacintosh && keyCode === 93) {\n            // the two meta keys in the Mac have different key codes (91 and 93)\n            return 57 /* KeyCode.Meta */;\n        }\n        else if (!platform.isMacintosh && keyCode === 92) {\n            return 57 /* KeyCode.Meta */;\n        }\n    }\n    // cross browser keycodes:\n    return EVENT_KEY_CODE_MAP[keyCode] || 0 /* KeyCode.Unknown */;\n}\nconst ctrlKeyMod = (platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */);\nconst altKeyMod = 512 /* KeyMod.Alt */;\nconst shiftKeyMod = 1024 /* KeyMod.Shift */;\nconst metaKeyMod = (platform.isMacintosh ? 2048 /* KeyMod.CtrlCmd */ : 256 /* KeyMod.WinCtrl */);\nexport class StandardKeyboardEvent {\n    constructor(source) {\n        this._standardKeyboardEventBrand = true;\n        const e = source;\n        this.browserEvent = e;\n        this.target = e.target;\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        this.altGraphKey = e.getModifierState('AltGraph');\n        this.keyCode = extractKeyCode(e);\n        this.code = e.code;\n        // console.info(e.type + \": keyCode: \" + e.keyCode + \", which: \" + e.which + \", charCode: \" + e.charCode + \", detail: \" + e.detail + \" ====> \" + this.keyCode + ' -- ' + KeyCode[this.keyCode]);\n        this.ctrlKey = this.ctrlKey || this.keyCode === 5 /* KeyCode.Ctrl */;\n        this.altKey = this.altKey || this.keyCode === 6 /* KeyCode.Alt */;\n        this.shiftKey = this.shiftKey || this.keyCode === 4 /* KeyCode.Shift */;\n        this.metaKey = this.metaKey || this.keyCode === 57 /* KeyCode.Meta */;\n        this._asKeybinding = this._computeKeybinding();\n        this._asKeyCodeChord = this._computeKeyCodeChord();\n        // console.log(`code: ${e.code}, keyCode: ${e.keyCode}, key: ${e.key}`);\n    }\n    preventDefault() {\n        if (this.browserEvent && this.browserEvent.preventDefault) {\n            this.browserEvent.preventDefault();\n        }\n    }\n    stopPropagation() {\n        if (this.browserEvent && this.browserEvent.stopPropagation) {\n            this.browserEvent.stopPropagation();\n        }\n    }\n    toKeyCodeChord() {\n        return this._asKeyCodeChord;\n    }\n    equals(other) {\n        return this._asKeybinding === other;\n    }\n    _computeKeybinding() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        let result = 0;\n        if (this.ctrlKey) {\n            result |= ctrlKeyMod;\n        }\n        if (this.altKey) {\n            result |= altKeyMod;\n        }\n        if (this.shiftKey) {\n            result |= shiftKeyMod;\n        }\n        if (this.metaKey) {\n            result |= metaKeyMod;\n        }\n        result |= key;\n        return result;\n    }\n    _computeKeyCodeChord() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        return new KeyCodeChord(this.ctrlKey, this.shiftKey, this.altKey, this.metaKey, key);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nimport * as dompurify from './dompurify/dompurify.js';\nimport { DomEmitter } from './event.js';\nimport { createElement } from './formattedTextRenderer.js';\nimport { StandardKeyboardEvent } from './keyboardEvent.js';\nimport { StandardMouseEvent } from './mouseEvent.js';\nimport { renderLabelWithIcons } from './ui/iconLabel/iconLabels.js';\nimport { onUnexpectedError } from '../common/errors.js';\nimport { Event } from '../common/event.js';\nimport { escapeDoubleQuotes, parseHrefAndDimensions, removeMarkdownEscapes } from '../common/htmlContent.js';\nimport { markdownEscapeEscapedIcons } from '../common/iconLabels.js';\nimport { defaultGenerator } from '../common/idGenerator.js';\nimport { Lazy } from '../common/lazy.js';\nimport { DisposableStore } from '../common/lifecycle.js';\nimport { marked } from '../common/marked/marked.js';\nimport { parse } from '../common/marshalling.js';\nimport { FileAccess, Schemas } from '../common/network.js';\nimport { cloneAndChange } from '../common/objects.js';\nimport { dirname, resolvePath } from '../common/resources.js';\nimport { escape } from '../common/strings.js';\nimport { URI } from '../common/uri.js';\nconst defaultMarkedRenderers = Object.freeze({\n    image: (href, title, text) => {\n        let dimensions = [];\n        let attributes = [];\n        if (href) {\n            ({ href, dimensions } = parseHrefAndDimensions(href));\n            attributes.push(`src=\"${escapeDoubleQuotes(href)}\"`);\n        }\n        if (text) {\n            attributes.push(`alt=\"${escapeDoubleQuotes(text)}\"`);\n        }\n        if (title) {\n            attributes.push(`title=\"${escapeDoubleQuotes(title)}\"`);\n        }\n        if (dimensions.length) {\n            attributes = attributes.concat(dimensions);\n        }\n        return '<img ' + attributes.join(' ') + '>';\n    },\n    paragraph: (text) => {\n        return `<p>${text}</p>`;\n    },\n    link: (href, title, text) => {\n        if (typeof href !== 'string') {\n            return '';\n        }\n        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829\n        if (href === text) { // raw link case\n            text = removeMarkdownEscapes(text);\n        }\n        title = typeof title === 'string' ? escapeDoubleQuotes(removeMarkdownEscapes(title)) : '';\n        href = removeMarkdownEscapes(href);\n        // HTML Encode href\n        href = href.replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;');\n        return `<a href=\"${href}\" title=\"${title || href}\">${text}</a>`;\n    },\n});\n/**\n * Low-level way create a html element from a markdown string.\n *\n * **Note** that for most cases you should be using [`MarkdownRenderer`](./src/vs/editor/contrib/markdownRenderer/browser/markdownRenderer.ts)\n * which comes with support for pretty code block rendering and which uses the default way of handling links.\n */\nexport function renderMarkdown(markdown, options = {}, markedOptions = {}) {\n    var _a;\n    const disposables = new DisposableStore();\n    let isDisposed = false;\n    const element = createElement(options);\n    const _uriMassage = function (part) {\n        let data;\n        try {\n            data = parse(decodeURIComponent(part));\n        }\n        catch (e) {\n            // ignore\n        }\n        if (!data) {\n            return part;\n        }\n        data = cloneAndChange(data, value => {\n            if (markdown.uris && markdown.uris[value]) {\n                return URI.revive(markdown.uris[value]);\n            }\n            else {\n                return undefined;\n            }\n        });\n        return encodeURIComponent(JSON.stringify(data));\n    };\n    const _href = function (href, isDomUri) {\n        const data = markdown.uris && markdown.uris[href];\n        let uri = URI.revive(data);\n        if (isDomUri) {\n            if (href.startsWith(Schemas.data + ':')) {\n                return href;\n            }\n            if (!uri) {\n                uri = URI.parse(href);\n            }\n            // this URI will end up as \"src\"-attribute of a dom node\n            // and because of that special rewriting needs to be done\n            // so that the URI uses a protocol that's understood by\n            // browsers (like http or https)\n            return FileAccess.uriToBrowserUri(uri).toString(true);\n        }\n        if (!uri) {\n            return href;\n        }\n        if (URI.parse(href).toString() === uri.toString()) {\n            return href; // no transformation performed\n        }\n        if (uri.query) {\n            uri = uri.with({ query: _uriMassage(uri.query) });\n        }\n        return uri.toString();\n    };\n    const renderer = new marked.Renderer();\n    renderer.image = defaultMarkedRenderers.image;\n    renderer.link = defaultMarkedRenderers.link;\n    renderer.paragraph = defaultMarkedRenderers.paragraph;\n    // Will collect [id, renderedElement] tuples\n    const codeBlocks = [];\n    if (options.codeBlockRenderer) {\n        renderer.code = (code, lang) => {\n            const id = defaultGenerator.nextId();\n            const value = options.codeBlockRenderer(postProcessCodeBlockLanguageId(lang), code);\n            codeBlocks.push(value.then(element => [id, element]));\n            return `<div class=\"code\" data-code=\"${id}\">${escape(code)}</div>`;\n        };\n    }\n    if (options.actionHandler) {\n        const _activateLink = function (event) {\n            let target = event.target;\n            if (target.tagName !== 'A') {\n                target = target.parentElement;\n                if (!target || target.tagName !== 'A') {\n                    return;\n                }\n            }\n            try {\n                let href = target.dataset['href'];\n                if (href) {\n                    if (markdown.baseUri) {\n                        href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                    }\n                    options.actionHandler.callback(href, event);\n                }\n            }\n            catch (err) {\n                onUnexpectedError(err);\n            }\n            finally {\n                event.preventDefault();\n            }\n        };\n        const onClick = options.actionHandler.disposables.add(new DomEmitter(element, 'click'));\n        const onAuxClick = options.actionHandler.disposables.add(new DomEmitter(element, 'auxclick'));\n        options.actionHandler.disposables.add(Event.any(onClick.event, onAuxClick.event)(e => {\n            const mouseEvent = new StandardMouseEvent(e);\n            if (!mouseEvent.leftButton && !mouseEvent.middleButton) {\n                return;\n            }\n            _activateLink(mouseEvent);\n        }));\n        options.actionHandler.disposables.add(DOM.addDisposableListener(element, 'keydown', (e) => {\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            if (!keyboardEvent.equals(10 /* KeyCode.Space */) && !keyboardEvent.equals(3 /* KeyCode.Enter */)) {\n                return;\n            }\n            _activateLink(keyboardEvent);\n        }));\n    }\n    if (!markdown.supportHtml) {\n        // TODO: Can we deprecated this in favor of 'supportHtml'?\n        // Use our own sanitizer so that we can let through only spans.\n        // Otherwise, we'd be letting all html be rendered.\n        // If we want to allow markdown permitted tags, then we can delete sanitizer and sanitize.\n        // We always pass the output through dompurify after this so that we don't rely on\n        // marked for sanitization.\n        markedOptions.sanitizer = (html) => {\n            const match = markdown.isTrusted ? html.match(/^(<span[^>]+>)|(<\\/\\s*span>)$/) : undefined;\n            return match ? html : '';\n        };\n        markedOptions.sanitize = true;\n        markedOptions.silent = true;\n    }\n    markedOptions.renderer = renderer;\n    // values that are too long will freeze the UI\n    let value = (_a = markdown.value) !== null && _a !== void 0 ? _a : '';\n    if (value.length > 100000) {\n        value = `${value.substr(0, 100000)}`;\n    }\n    // escape theme icons\n    if (markdown.supportThemeIcons) {\n        value = markdownEscapeEscapedIcons(value);\n    }\n    let renderedMarkdown = marked.parse(value, markedOptions);\n    // Rewrite theme icons\n    if (markdown.supportThemeIcons) {\n        const elements = renderLabelWithIcons(renderedMarkdown);\n        renderedMarkdown = elements.map(e => typeof e === 'string' ? e : e.outerHTML).join('');\n    }\n    const htmlParser = new DOMParser();\n    const markdownHtmlDoc = htmlParser.parseFromString(sanitizeRenderedMarkdown(markdown, renderedMarkdown), 'text/html');\n    markdownHtmlDoc.body.querySelectorAll('img')\n        .forEach(img => {\n        const src = img.getAttribute('src'); // Get the raw 'src' attribute value as text, not the resolved 'src'\n        if (src) {\n            let href = src;\n            try {\n                if (markdown.baseUri) { // absolute or relative local path, or file: uri\n                    href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                }\n            }\n            catch (err) { }\n            img.src = _href(href, true);\n        }\n    });\n    markdownHtmlDoc.body.querySelectorAll('a')\n        .forEach(a => {\n        const href = a.getAttribute('href'); // Get the raw 'href' attribute value as text, not the resolved 'href'\n        a.setAttribute('href', ''); // Clear out href. We use the `data-href` for handling clicks instead\n        if (!href\n            || /^data:|javascript:/i.test(href)\n            || (/^command:/i.test(href) && !markdown.isTrusted)\n            || /^command:(\\/\\/\\/)?_workbench\\.downloadResource/i.test(href)) {\n            // drop the link\n            a.replaceWith(...a.childNodes);\n        }\n        else {\n            let resolvedHref = _href(href, false);\n            if (markdown.baseUri) {\n                resolvedHref = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n            }\n            a.dataset.href = resolvedHref;\n        }\n    });\n    element.innerHTML = sanitizeRenderedMarkdown(markdown, markdownHtmlDoc.body.innerHTML);\n    if (codeBlocks.length > 0) {\n        Promise.all(codeBlocks).then((tuples) => {\n            var _a, _b;\n            if (isDisposed) {\n                return;\n            }\n            const renderedElements = new Map(tuples);\n            const placeholderElements = element.querySelectorAll(`div[data-code]`);\n            for (const placeholderElement of placeholderElements) {\n                const renderedElement = renderedElements.get((_a = placeholderElement.dataset['code']) !== null && _a !== void 0 ? _a : '');\n                if (renderedElement) {\n                    DOM.reset(placeholderElement, renderedElement);\n                }\n            }\n            (_b = options.asyncRenderCallback) === null || _b === void 0 ? void 0 : _b.call(options);\n        });\n    }\n    // signal size changes for image tags\n    if (options.asyncRenderCallback) {\n        for (const img of element.getElementsByTagName('img')) {\n            const listener = disposables.add(DOM.addDisposableListener(img, 'load', () => {\n                listener.dispose();\n                options.asyncRenderCallback();\n            }));\n        }\n    }\n    return {\n        element,\n        dispose: () => {\n            isDisposed = true;\n            disposables.dispose();\n        }\n    };\n}\nfunction postProcessCodeBlockLanguageId(lang) {\n    if (!lang) {\n        return '';\n    }\n    const parts = lang.split(/[\\s+|:|,|\\{|\\?]/, 1);\n    if (parts.length) {\n        return parts[0];\n    }\n    return lang;\n}\nfunction resolveWithBaseUri(baseUri, href) {\n    const hasScheme = /^\\w[\\w\\d+.-]*:/.test(href);\n    if (hasScheme) {\n        return href;\n    }\n    if (baseUri.path.endsWith('/')) {\n        return resolvePath(baseUri, href).toString();\n    }\n    else {\n        return resolvePath(dirname(baseUri), href).toString();\n    }\n}\nfunction sanitizeRenderedMarkdown(options, renderedMarkdown) {\n    const { config, allowedSchemes } = getSanitizerOptions(options);\n    dompurify.addHook('uponSanitizeAttribute', (element, e) => {\n        if (e.attrName === 'style' || e.attrName === 'class') {\n            if (element.tagName === 'SPAN') {\n                if (e.attrName === 'style') {\n                    e.keepAttr = /^(color\\:#[0-9a-fA-F]+;)?(background-color\\:#[0-9a-fA-F]+;)?$/.test(e.attrValue);\n                    return;\n                }\n                else if (e.attrName === 'class') {\n                    e.keepAttr = /^codicon codicon-[a-z\\-]+( codicon-modifier-[a-z\\-]+)?$/.test(e.attrValue);\n                    return;\n                }\n            }\n            e.keepAttr = false;\n            return;\n        }\n    });\n    const hook = DOM.hookDomPurifyHrefAndSrcSanitizer(allowedSchemes);\n    try {\n        return dompurify.sanitize(renderedMarkdown, Object.assign(Object.assign({}, config), { RETURN_TRUSTED_TYPE: true }));\n    }\n    finally {\n        dompurify.removeHook('uponSanitizeAttribute');\n        hook.dispose();\n    }\n}\nexport const allowedMarkdownAttr = [\n    'align',\n    'autoplay',\n    'alt',\n    'class',\n    'controls',\n    'data-code',\n    'data-href',\n    'height',\n    'href',\n    'loop',\n    'muted',\n    'playsinline',\n    'poster',\n    'src',\n    'style',\n    'target',\n    'title',\n    'width',\n    'start',\n];\nfunction getSanitizerOptions(options) {\n    const allowedSchemes = [\n        Schemas.http,\n        Schemas.https,\n        Schemas.mailto,\n        Schemas.data,\n        Schemas.file,\n        Schemas.vscodeFileResource,\n        Schemas.vscodeRemote,\n        Schemas.vscodeRemoteResource,\n    ];\n    if (options.isTrusted) {\n        allowedSchemes.push(Schemas.command);\n    }\n    return {\n        config: {\n            // allowedTags should included everything that markdown renders to.\n            // Since we have our own sanitize function for marked, it's possible we missed some tag so let dompurify make sure.\n            // HTML tags that can result from markdown are from reading https://spec.commonmark.org/0.29/\n            // HTML table tags that can result from markdown are from https://github.github.com/gfm/#tables-extension-\n            ALLOWED_TAGS: [...DOM.basicMarkupHtmlTags],\n            ALLOWED_ATTR: allowedMarkdownAttr,\n            ALLOW_UNKNOWN_PROTOCOLS: true,\n        },\n        allowedSchemes\n    };\n}\nconst unescapeInfo = new Map([\n    ['&quot;', '\"'],\n    ['&nbsp;', ' '],\n    ['&amp;', '&'],\n    ['&#39;', '\\''],\n    ['&lt;', '<'],\n    ['&gt;', '>'],\n]);\nconst plainTextRenderer = new Lazy(() => {\n    const renderer = new marked.Renderer();\n    renderer.code = (code) => {\n        return code;\n    };\n    renderer.blockquote = (quote) => {\n        return quote;\n    };\n    renderer.html = (_html) => {\n        return '';\n    };\n    renderer.heading = (text, _level, _raw) => {\n        return text + '\\n';\n    };\n    renderer.hr = () => {\n        return '';\n    };\n    renderer.list = (body, _ordered) => {\n        return body;\n    };\n    renderer.listitem = (text) => {\n        return text + '\\n';\n    };\n    renderer.paragraph = (text) => {\n        return text + '\\n';\n    };\n    renderer.table = (header, body) => {\n        return header + body + '\\n';\n    };\n    renderer.tablerow = (content) => {\n        return content;\n    };\n    renderer.tablecell = (content, _flags) => {\n        return content + ' ';\n    };\n    renderer.strong = (text) => {\n        return text;\n    };\n    renderer.em = (text) => {\n        return text;\n    };\n    renderer.codespan = (code) => {\n        return code;\n    };\n    renderer.br = () => {\n        return '\\n';\n    };\n    renderer.del = (text) => {\n        return text;\n    };\n    renderer.image = (_href, _title, _text) => {\n        return '';\n    };\n    renderer.text = (text) => {\n        return text;\n    };\n    renderer.link = (_href, _title, text) => {\n        return text;\n    };\n    return renderer;\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet hasDifferentOriginAncestorFlag = false;\nlet sameOriginWindowChainCache = null;\nfunction getParentWindowIfSameOrigin(w) {\n    if (!w.parent || w.parent === w) {\n        return null;\n    }\n    // Cannot really tell if we have access to the parent window unless we try to access something in it\n    try {\n        const location = w.location;\n        const parentLocation = w.parent.location;\n        if (location.origin !== 'null' && parentLocation.origin !== 'null' && location.origin !== parentLocation.origin) {\n            hasDifferentOriginAncestorFlag = true;\n            return null;\n        }\n    }\n    catch (e) {\n        hasDifferentOriginAncestorFlag = true;\n        return null;\n    }\n    return w.parent;\n}\nexport class IframeUtils {\n    /**\n     * Returns a chain of embedded windows with the same origin (which can be accessed programmatically).\n     * Having a chain of length 1 might mean that the current execution environment is running outside of an iframe or inside an iframe embedded in a window with a different origin.\n     * To distinguish if at one point the current execution environment is running inside a window with a different origin, see hasDifferentOriginAncestor()\n     */\n    static getSameOriginWindowChain() {\n        if (!sameOriginWindowChainCache) {\n            sameOriginWindowChainCache = [];\n            let w = window;\n            let parent;\n            do {\n                parent = getParentWindowIfSameOrigin(w);\n                if (parent) {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: w.frameElement || null\n                    });\n                }\n                else {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: null\n                    });\n                }\n                w = parent;\n            } while (w);\n        }\n        return sameOriginWindowChainCache.slice(0);\n    }\n    /**\n     * Returns the position of `childWindow` relative to `ancestorWindow`\n     */\n    static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {\n        if (!ancestorWindow || childWindow === ancestorWindow) {\n            return {\n                top: 0,\n                left: 0\n            };\n        }\n        let top = 0, left = 0;\n        const windowChain = this.getSameOriginWindowChain();\n        for (const windowChainEl of windowChain) {\n            top += windowChainEl.window.scrollY;\n            left += windowChainEl.window.scrollX;\n            if (windowChainEl.window === ancestorWindow) {\n                break;\n            }\n            if (!windowChainEl.iframeElement) {\n                break;\n            }\n            const boundingRect = windowChainEl.iframeElement.getBoundingClientRect();\n            top += boundingRect.top;\n            left += boundingRect.left;\n        }\n        return {\n            top: top,\n            left: left\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { IframeUtils } from './iframe.js';\nimport * as platform from '../common/platform.js';\nexport class StandardMouseEvent {\n    constructor(e) {\n        this.timestamp = Date.now();\n        this.browserEvent = e;\n        this.leftButton = e.button === 0;\n        this.middleButton = e.button === 1;\n        this.rightButton = e.button === 2;\n        this.buttons = e.buttons;\n        this.target = e.target;\n        this.detail = e.detail || 1;\n        if (e.type === 'dblclick') {\n            this.detail = 2;\n        }\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        if (typeof e.pageX === 'number') {\n            this.posx = e.pageX;\n            this.posy = e.pageY;\n        }\n        else {\n            // Probably hit by MSGestureEvent\n            this.posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n            this.posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        // Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n        const iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self, e.view);\n        this.posx -= iframeOffsets.left;\n        this.posy -= iframeOffsets.top;\n    }\n    preventDefault() {\n        this.browserEvent.preventDefault();\n    }\n    stopPropagation() {\n        this.browserEvent.stopPropagation();\n    }\n}\nexport class StandardWheelEvent {\n    constructor(e, deltaX = 0, deltaY = 0) {\n        this.browserEvent = e || null;\n        this.target = e ? (e.target || e.targetNode || e.srcElement) : null;\n        this.deltaY = deltaY;\n        this.deltaX = deltaX;\n        if (e) {\n            // Old (deprecated) wheel events\n            const e1 = e;\n            const e2 = e;\n            // vertical delta scroll\n            if (typeof e1.wheelDeltaY !== 'undefined') {\n                this.deltaY = e1.wheelDeltaY / 120;\n            }\n            else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n                this.deltaY = -e2.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaY = -e.deltaY / 3;\n                    }\n                    else {\n                        this.deltaY = -e.deltaY;\n                    }\n                }\n                else {\n                    this.deltaY = -e.deltaY / 40;\n                }\n            }\n            // horizontal delta scroll\n            if (typeof e1.wheelDeltaX !== 'undefined') {\n                if (browser.isSafari && platform.isWindows) {\n                    this.deltaX = -(e1.wheelDeltaX / 120);\n                }\n                else {\n                    this.deltaX = e1.wheelDeltaX / 120;\n                }\n            }\n            else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n                this.deltaX = -e.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaX = -e.deltaX / 3;\n                    }\n                    else {\n                        this.deltaX = -e.deltaX;\n                    }\n                }\n                else {\n                    this.deltaX = -e.deltaX / 40;\n                }\n            }\n            // Assume a vertical scroll if nothing else worked\n            if (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n                this.deltaY = e.wheelDelta / 120;\n            }\n        }\n    }\n    preventDefault() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.preventDefault();\n    }\n    stopPropagation() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var inputLatency;\n(function (inputLatency) {\n    const totalKeydownTime = { total: 0, min: Number.MAX_VALUE, max: 0 };\n    const totalInputTime = Object.assign({}, totalKeydownTime);\n    const totalRenderTime = Object.assign({}, totalKeydownTime);\n    const totalInputLatencyTime = Object.assign({}, totalKeydownTime);\n    let measurementsCount = 0;\n    const state = {\n        keydown: 0 /* EventPhase.Before */,\n        input: 0 /* EventPhase.Before */,\n        render: 0 /* EventPhase.Before */,\n    };\n    /**\n     * Record the start of the keydown event.\n     */\n    function onKeyDown() {\n        /** Direct Check C. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n        performance.mark('inputlatency/start');\n        performance.mark('keydown/start');\n        state.keydown = 1 /* EventPhase.InProgress */;\n        queueMicrotask(markKeyDownEnd);\n    }\n    inputLatency.onKeyDown = onKeyDown;\n    /**\n     * Mark the end of the keydown event.\n     */\n    function markKeyDownEnd() {\n        if (state.keydown === 1 /* EventPhase.InProgress */) {\n            performance.mark('keydown/end');\n            state.keydown = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the beforeinput event.\n     */\n    function onBeforeInput() {\n        performance.mark('input/start');\n        state.input = 1 /* EventPhase.InProgress */;\n        /** Schedule Task A. See explanation in {@link recordIfFinished} */\n        scheduleRecordIfFinishedTask();\n    }\n    inputLatency.onBeforeInput = onBeforeInput;\n    /**\n     * Record the start of the input event.\n     */\n    function onInput() {\n        if (state.input === 0 /* EventPhase.Before */) {\n            // it looks like we didn't receive a `beforeinput`\n            onBeforeInput();\n        }\n        queueMicrotask(markInputEnd);\n    }\n    inputLatency.onInput = onInput;\n    function markInputEnd() {\n        if (state.input === 1 /* EventPhase.InProgress */) {\n            performance.mark('input/end');\n            state.input = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the keyup event.\n     */\n    function onKeyUp() {\n        /** Direct Check D. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onKeyUp = onKeyUp;\n    /**\n     * Record the start of the selectionchange event.\n     */\n    function onSelectionChange() {\n        /** Direct Check E. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onSelectionChange = onSelectionChange;\n    /**\n     * Record the start of the animation frame performing the rendering.\n     */\n    function onRenderStart() {\n        // Render may be triggered during input, but we only measure the following animation frame\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 0 /* EventPhase.Before */) {\n            // Only measure the first render after keyboard input\n            performance.mark('render/start');\n            state.render = 1 /* EventPhase.InProgress */;\n            queueMicrotask(markRenderEnd);\n            /** Schedule Task B. See explanation in {@link recordIfFinished} */\n            scheduleRecordIfFinishedTask();\n        }\n    }\n    inputLatency.onRenderStart = onRenderStart;\n    /**\n     * Mark the end of the animation frame performing the rendering.\n     */\n    function markRenderEnd() {\n        if (state.render === 1 /* EventPhase.InProgress */) {\n            performance.mark('render/end');\n            state.render = 2 /* EventPhase.Finished */;\n        }\n    }\n    function scheduleRecordIfFinishedTask() {\n        // Here we can safely assume that the `setTimeout` will not be\n        // artificially delayed by 4ms because we schedule it from\n        // event handlers\n        setTimeout(recordIfFinished);\n    }\n    /**\n     * Record the input latency sample if input handling and rendering are finished.\n     *\n     * The challenge here is that we want to record the latency in such a way that it includes\n     * also the layout and painting work the browser does during the animation frame task.\n     *\n     * Simply scheduling a new task (via `setTimeout`) from the animation frame task would\n     * schedule the new task at the end of the task queue (after other code that uses `setTimeout`),\n     * so we need to use multiple strategies to make sure our task runs before others:\n     *\n     * We schedule tasks (A and B):\n     *    - we schedule a task A (via a `setTimeout` call) when the input starts in `markInputStart`.\n     *      If the animation frame task is scheduled quickly by the browser, then task A has a very good\n     *      chance of being the very first task after the animation frame and thus will record the input latency.\n     *    - however, if the animation frame task is scheduled a bit later, then task A might execute\n     *      before the animation frame task. We therefore schedule another task B from `markRenderStart`.\n     *\n     * We do direct checks in browser event handlers (C, D, E):\n     *    - if the browser has multiple keydown events queued up, they will be scheduled before the `setTimeout` tasks,\n     *      so we do a direct check in the keydown event handler (C).\n     *    - depending on timing, sometimes the animation frame is scheduled even before the `keyup` event, so we\n     *      do a direct check there too (E).\n     *    - the browser oftentimes emits a `selectionchange` event after an `input`, so we do a direct check there (D).\n     */\n    function recordIfFinished() {\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 2 /* EventPhase.Finished */) {\n            performance.mark('inputlatency/end');\n            performance.measure('keydown', 'keydown/start', 'keydown/end');\n            performance.measure('input', 'input/start', 'input/end');\n            performance.measure('render', 'render/start', 'render/end');\n            performance.measure('inputlatency', 'inputlatency/start', 'inputlatency/end');\n            addMeasure('keydown', totalKeydownTime);\n            addMeasure('input', totalInputTime);\n            addMeasure('render', totalRenderTime);\n            addMeasure('inputlatency', totalInputLatencyTime);\n            // console.info(\n            // \t`input latency=${performance.getEntriesByName('inputlatency')[0].duration.toFixed(1)} [` +\n            // \t`keydown=${performance.getEntriesByName('keydown')[0].duration.toFixed(1)}, ` +\n            // \t`input=${performance.getEntriesByName('input')[0].duration.toFixed(1)}, ` +\n            // \t`render=${performance.getEntriesByName('render')[0].duration.toFixed(1)}` +\n            // \t`]`\n            // );\n            measurementsCount++;\n            reset();\n        }\n    }\n    function addMeasure(entryName, cumulativeMeasurement) {\n        const duration = performance.getEntriesByName(entryName)[0].duration;\n        cumulativeMeasurement.total += duration;\n        cumulativeMeasurement.min = Math.min(cumulativeMeasurement.min, duration);\n        cumulativeMeasurement.max = Math.max(cumulativeMeasurement.max, duration);\n    }\n    /**\n     * Clear the current sample.\n     */\n    function reset() {\n        performance.clearMarks('keydown/start');\n        performance.clearMarks('keydown/end');\n        performance.clearMarks('input/start');\n        performance.clearMarks('input/end');\n        performance.clearMarks('render/start');\n        performance.clearMarks('render/end');\n        performance.clearMarks('inputlatency/start');\n        performance.clearMarks('inputlatency/end');\n        performance.clearMeasures('keydown');\n        performance.clearMeasures('input');\n        performance.clearMeasures('render');\n        performance.clearMeasures('inputlatency');\n        state.keydown = 0 /* EventPhase.Before */;\n        state.input = 0 /* EventPhase.Before */;\n        state.render = 0 /* EventPhase.Before */;\n    }\n    /**\n     * Gets all input latency samples and clears the internal buffers to start recording a new set\n     * of samples.\n     */\n    function getAndClearMeasurements() {\n        if (measurementsCount === 0) {\n            return undefined;\n        }\n        // Assemble the result\n        const result = {\n            keydown: cumulativeToFinalMeasurement(totalKeydownTime),\n            input: cumulativeToFinalMeasurement(totalInputTime),\n            render: cumulativeToFinalMeasurement(totalRenderTime),\n            total: cumulativeToFinalMeasurement(totalInputLatencyTime),\n            sampleCount: measurementsCount\n        };\n        // Clear the cumulative measurements\n        clearCumulativeMeasurement(totalKeydownTime);\n        clearCumulativeMeasurement(totalInputTime);\n        clearCumulativeMeasurement(totalRenderTime);\n        clearCumulativeMeasurement(totalInputLatencyTime);\n        measurementsCount = 0;\n        return result;\n    }\n    inputLatency.getAndClearMeasurements = getAndClearMeasurements;\n    function cumulativeToFinalMeasurement(cumulative) {\n        return {\n            average: cumulative.total / measurementsCount,\n            max: cumulative.max,\n            min: cumulative.min,\n        };\n    }\n    function clearCumulativeMeasurement(cumulative) {\n        cumulative.total = 0;\n        cumulative.min = Number.MAX_VALUE;\n        cumulative.max = 0;\n    }\n})(inputLatency || (inputLatency = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport * as DomUtils from './dom.js';\nimport * as arrays from '../common/arrays.js';\nimport { memoize } from '../common/decorators.js';\nimport { Disposable, toDisposable } from '../common/lifecycle.js';\nimport { LinkedList } from '../common/linkedList.js';\nexport var EventType;\n(function (EventType) {\n    EventType.Tap = '-monaco-gesturetap';\n    EventType.Change = '-monaco-gesturechange';\n    EventType.Start = '-monaco-gesturestart';\n    EventType.End = '-monaco-gesturesend';\n    EventType.Contextmenu = '-monaco-gesturecontextmenu';\n})(EventType || (EventType = {}));\nclass Gesture extends Disposable {\n    constructor() {\n        super();\n        this.dispatched = false;\n        this.targets = new LinkedList();\n        this.ignoreTargets = new LinkedList();\n        this.activeTouches = {};\n        this.handle = null;\n        this._lastSetTapCountTime = 0;\n        this._register(DomUtils.addDisposableListener(document, 'touchstart', (e) => this.onTouchStart(e), { passive: false }));\n        this._register(DomUtils.addDisposableListener(document, 'touchend', (e) => this.onTouchEnd(e)));\n        this._register(DomUtils.addDisposableListener(document, 'touchmove', (e) => this.onTouchMove(e), { passive: false }));\n    }\n    static addTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = new Gesture();\n        }\n        const remove = Gesture.INSTANCE.targets.push(element);\n        return toDisposable(remove);\n    }\n    static ignoreTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = new Gesture();\n        }\n        const remove = Gesture.INSTANCE.ignoreTargets.push(element);\n        return toDisposable(remove);\n    }\n    static isTouchDevice() {\n        // `'ontouchstart' in window` always evaluates to true with typescript's modern typings. This causes `window` to be\n        // `never` later in `window.navigator`. That's why we need the explicit `window as Window` cast\n        return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    }\n    dispose() {\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        super.dispose();\n    }\n    onTouchStart(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        for (let i = 0, len = e.targetTouches.length; i < len; i++) {\n            const touch = e.targetTouches.item(i);\n            this.activeTouches[touch.identifier] = {\n                id: touch.identifier,\n                initialTarget: touch.target,\n                initialTimeStamp: timestamp,\n                initialPageX: touch.pageX,\n                initialPageY: touch.pageY,\n                rollingTimestamps: [timestamp],\n                rollingPageX: [touch.pageX],\n                rollingPageY: [touch.pageY]\n            };\n            const evt = this.newGestureEvent(EventType.Start, touch.target);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    onTouchEnd(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        const activeTouchCount = Object.keys(this.activeTouches).length;\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('move of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier], holdTime = Date.now() - data.initialTimeStamp;\n            if (holdTime < Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Tap, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (holdTime >= Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Contextmenu, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (activeTouchCount === 1) {\n                const finalX = arrays.tail(data.rollingPageX);\n                const finalY = arrays.tail(data.rollingPageY);\n                const deltaT = arrays.tail(data.rollingTimestamps) - data.rollingTimestamps[0];\n                const deltaX = finalX - data.rollingPageX[0];\n                const deltaY = finalY - data.rollingPageY[0];\n                // We need to get all the dispatch targets on the start of the inertia event\n                const dispatchTo = [...this.targets].filter(t => data.initialTarget instanceof Node && t.contains(data.initialTarget));\n                this.inertia(dispatchTo, timestamp, // time now\n                Math.abs(deltaX) / deltaT, // speed\n                deltaX > 0 ? 1 : -1, // x direction\n                finalX, // x now\n                Math.abs(deltaY) / deltaT, // y speed\n                deltaY > 0 ? 1 : -1, // y direction\n                finalY // y now\n                );\n            }\n            this.dispatchEvent(this.newGestureEvent(EventType.End, data.initialTarget));\n            // forget about this touch\n            delete this.activeTouches[touch.identifier];\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    newGestureEvent(type, initialTarget) {\n        const event = document.createEvent('CustomEvent');\n        event.initEvent(type, false, true);\n        event.initialTarget = initialTarget;\n        event.tapCount = 0;\n        return event;\n    }\n    dispatchEvent(event) {\n        if (event.type === EventType.Tap) {\n            const currentTime = (new Date()).getTime();\n            let setTapCount = 0;\n            if (currentTime - this._lastSetTapCountTime > Gesture.CLEAR_TAP_COUNT_TIME) {\n                setTapCount = 1;\n            }\n            else {\n                setTapCount = 2;\n            }\n            this._lastSetTapCountTime = currentTime;\n            event.tapCount = setTapCount;\n        }\n        else if (event.type === EventType.Change || event.type === EventType.Contextmenu) {\n            // tap is canceled by scrolling or context menu\n            this._lastSetTapCountTime = 0;\n        }\n        if (event.initialTarget instanceof Node) {\n            for (const ignoreTarget of this.ignoreTargets) {\n                if (ignoreTarget.contains(event.initialTarget)) {\n                    return;\n                }\n            }\n            for (const target of this.targets) {\n                if (target.contains(event.initialTarget)) {\n                    target.dispatchEvent(event);\n                    this.dispatched = true;\n                }\n            }\n        }\n    }\n    inertia(dispatchTo, t1, vX, dirX, x, vY, dirY, y) {\n        this.handle = DomUtils.scheduleAtNextAnimationFrame(() => {\n            const now = Date.now();\n            // velocity: old speed + accel_over_time\n            const deltaT = now - t1;\n            let delta_pos_x = 0, delta_pos_y = 0;\n            let stopped = true;\n            vX += Gesture.SCROLL_FRICTION * deltaT;\n            vY += Gesture.SCROLL_FRICTION * deltaT;\n            if (vX > 0) {\n                stopped = false;\n                delta_pos_x = dirX * vX * deltaT;\n            }\n            if (vY > 0) {\n                stopped = false;\n                delta_pos_y = dirY * vY * deltaT;\n            }\n            // dispatch translation event\n            const evt = this.newGestureEvent(EventType.Change);\n            evt.translationX = delta_pos_x;\n            evt.translationY = delta_pos_y;\n            dispatchTo.forEach(d => d.dispatchEvent(evt));\n            if (!stopped) {\n                this.inertia(dispatchTo, now, vX, dirX, x + delta_pos_x, vY, dirY, y + delta_pos_y);\n            }\n        });\n    }\n    onTouchMove(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('end of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier];\n            const evt = this.newGestureEvent(EventType.Change, data.initialTarget);\n            evt.translationX = touch.pageX - arrays.tail(data.rollingPageX);\n            evt.translationY = touch.pageY - arrays.tail(data.rollingPageY);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n            // only keep a few data points, to average the final speed\n            if (data.rollingPageX.length > 3) {\n                data.rollingPageX.shift();\n                data.rollingPageY.shift();\n                data.rollingTimestamps.shift();\n            }\n            data.rollingPageX.push(touch.pageX);\n            data.rollingPageY.push(touch.pageY);\n            data.rollingTimestamps.push(timestamp);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n}\nGesture.SCROLL_FRICTION = -0.005;\nGesture.HOLD_DELAY = 700;\nGesture.CLEAR_TAP_COUNT_TIME = 400; // ms\n__decorate([\n    memoize\n], Gesture, \"isTouchDevice\", null);\nexport { Gesture };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { setupCustomHover } from '../iconLabel/iconLabelHover.js';\nimport { SelectBox } from '../selectBox/selectBox.js';\nimport { Action, ActionRunner, Separator } from '../../../common/actions.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nimport * as nls from '../../../../nls.js';\nexport class BaseActionViewItem extends Disposable {\n    get action() {\n        return this._action;\n    }\n    constructor(context, action, options = {}) {\n        super();\n        this.options = options;\n        this._context = context || this;\n        this._action = action;\n        if (action instanceof Action) {\n            this._register(action.onDidChange(event => {\n                if (!this.element) {\n                    // we have not been rendered yet, so there\n                    // is no point in updating the UI\n                    return;\n                }\n                this.handleActionChangeEvent(event);\n            }));\n        }\n    }\n    handleActionChangeEvent(event) {\n        if (event.enabled !== undefined) {\n            this.updateEnabled();\n        }\n        if (event.checked !== undefined) {\n            this.updateChecked();\n        }\n        if (event.class !== undefined) {\n            this.updateClass();\n        }\n        if (event.label !== undefined) {\n            this.updateLabel();\n            this.updateTooltip();\n        }\n        if (event.tooltip !== undefined) {\n            this.updateTooltip();\n        }\n    }\n    get actionRunner() {\n        if (!this._actionRunner) {\n            this._actionRunner = this._register(new ActionRunner());\n        }\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n    }\n    isEnabled() {\n        return this._action.enabled;\n    }\n    setActionContext(newContext) {\n        this._context = newContext;\n    }\n    render(container) {\n        const element = this.element = container;\n        this._register(Gesture.addTarget(container));\n        const enableDragging = this.options && this.options.draggable;\n        if (enableDragging) {\n            container.draggable = true;\n            if (isFirefox) {\n                // Firefox: requires to set a text data transfer to get going\n                this._register(addDisposableListener(container, EventType.DRAG_START, e => { var _a; return (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData(DataTransfers.TEXT, this._action.label); }));\n            }\n        }\n        this._register(addDisposableListener(element, TouchEventType.Tap, e => this.onClick(e, true))); // Preserve focus on tap #125470\n        this._register(addDisposableListener(element, EventType.MOUSE_DOWN, e => {\n            if (!enableDragging) {\n                EventHelper.stop(e, true); // do not run when dragging is on because that would disable it\n            }\n            if (this._action.enabled && e.button === 0) {\n                element.classList.add('active');\n            }\n        }));\n        if (platform.isMacintosh) {\n            // macOS: allow to trigger the button when holding Ctrl+key and pressing the\n            // main mouse button. This is for scenarios where e.g. some interaction forces\n            // the Ctrl+key to be pressed and hold but the user still wants to interact\n            // with the actions (for example quick access in quick navigation mode).\n            this._register(addDisposableListener(element, EventType.CONTEXT_MENU, e => {\n                if (e.button === 0 && e.ctrlKey === true) {\n                    this.onClick(e);\n                }\n            }));\n        }\n        this._register(addDisposableListener(element, EventType.CLICK, e => {\n            EventHelper.stop(e, true);\n            // menus do not use the click event\n            if (!(this.options && this.options.isMenu)) {\n                this.onClick(e);\n            }\n        }));\n        this._register(addDisposableListener(element, EventType.DBLCLICK, e => {\n            EventHelper.stop(e, true);\n        }));\n        [EventType.MOUSE_UP, EventType.MOUSE_OUT].forEach(event => {\n            this._register(addDisposableListener(element, event, e => {\n                EventHelper.stop(e);\n                element.classList.remove('active');\n            }));\n        });\n    }\n    onClick(event, preserveFocus = false) {\n        var _a;\n        EventHelper.stop(event, true);\n        const context = types.isUndefinedOrNull(this._context) ? ((_a = this.options) === null || _a === void 0 ? void 0 : _a.useEventAsContext) ? event : { preserveFocus } : this._context;\n        this.actionRunner.run(this._action, context);\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.element) {\n            this.element.tabIndex = 0;\n            this.element.focus();\n            this.element.classList.add('focused');\n        }\n    }\n    blur() {\n        if (this.element) {\n            this.element.blur();\n            this.element.tabIndex = -1;\n            this.element.classList.remove('focused');\n        }\n    }\n    setFocusable(focusable) {\n        if (this.element) {\n            this.element.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    get trapsArrowNavigation() {\n        return false;\n    }\n    updateEnabled() {\n        // implement in subclass\n    }\n    updateLabel() {\n        // implement in subclass\n    }\n    getTooltip() {\n        return this.action.tooltip;\n    }\n    updateTooltip() {\n        var _a;\n        if (!this.element) {\n            return;\n        }\n        const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n        this.updateAriaLabel();\n        if (!this.options.hoverDelegate) {\n            this.element.title = title;\n        }\n        else {\n            this.element.title = '';\n            if (!this.customHover) {\n                this.customHover = setupCustomHover(this.options.hoverDelegate, this.element, title);\n                this._store.add(this.customHover);\n            }\n            else {\n                this.customHover.update(title);\n            }\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.element) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.element.setAttribute('aria-label', title);\n        }\n    }\n    updateClass() {\n        // implement in subclass\n    }\n    updateChecked() {\n        // implement in subclass\n    }\n    dispose() {\n        if (this.element) {\n            this.element.remove();\n            this.element = undefined;\n        }\n        this._context = undefined;\n        super.dispose();\n    }\n}\nexport class ActionViewItem extends BaseActionViewItem {\n    constructor(context, action, options) {\n        super(context, action, options);\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n    }\n    render(container) {\n        super.render(container);\n        if (this.element) {\n            this.label = append(this.element, $('a.action-label'));\n        }\n        if (this.label) {\n            if (this._action.id === Separator.ID) {\n                this.label.setAttribute('role', 'presentation'); // A separator is a presentation item\n            }\n            else {\n                if (this.options.isMenu) {\n                    this.label.setAttribute('role', 'menuitem');\n                }\n                else {\n                    this.label.setAttribute('role', 'button');\n                }\n            }\n        }\n        if (this.options.label && this.options.keybinding && this.element) {\n            append(this.element, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.label) {\n            this.label.tabIndex = 0;\n            this.label.focus();\n        }\n    }\n    blur() {\n        if (this.label) {\n            this.label.tabIndex = -1;\n        }\n    }\n    setFocusable(focusable) {\n        if (this.label) {\n            this.label.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this.action.label;\n        }\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (!this.options.label && this.action.label && this.options.icon) {\n            title = this.action.label;\n            if (this.options.keybinding) {\n                title = nls.localize({ key: 'titleLabel', comment: ['action title', 'action keybinding'] }, \"{0} ({1})\", title, this.options.keybinding);\n            }\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    updateClass() {\n        var _a;\n        if (this.cssClass && this.label) {\n            this.label.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon) {\n            this.cssClass = this.action.class;\n            if (this.label) {\n                this.label.classList.add('codicon');\n                if (this.cssClass) {\n                    this.label.classList.add(...this.cssClass.split(' '));\n                }\n            }\n            this.updateEnabled();\n        }\n        else {\n            (_a = this.label) === null || _a === void 0 ? void 0 : _a.classList.remove('codicon');\n        }\n    }\n    updateEnabled() {\n        var _a, _b;\n        if (this.action.enabled) {\n            if (this.label) {\n                this.label.removeAttribute('aria-disabled');\n                this.label.classList.remove('disabled');\n            }\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.classList.remove('disabled');\n        }\n        else {\n            if (this.label) {\n                this.label.setAttribute('aria-disabled', 'true');\n                this.label.classList.add('disabled');\n            }\n            (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.add('disabled');\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.label) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.label.setAttribute('aria-label', title);\n        }\n    }\n    updateChecked() {\n        if (this.label) {\n            if (this.action.checked) {\n                this.label.classList.add('checked');\n            }\n            else {\n                this.label.classList.remove('checked');\n            }\n        }\n    }\n}\nexport class SelectActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options, selected, contextViewProvider, styles, selectBoxOptions) {\n        super(ctx, action);\n        this.selectBox = new SelectBox(options, selected, contextViewProvider, styles, selectBoxOptions);\n        this.selectBox.setFocusable(false);\n        this._register(this.selectBox);\n        this.registerListeners();\n    }\n    select(index) {\n        this.selectBox.select(index);\n    }\n    registerListeners() {\n        this._register(this.selectBox.onDidSelect(e => this.runAction(e.selected, e.index)));\n    }\n    runAction(option, index) {\n        this.actionRunner.run(this._action, this.getActionContext(option, index));\n    }\n    getActionContext(option, index) {\n        return option;\n    }\n    setFocusable(focusable) {\n        this.selectBox.setFocusable(focusable);\n    }\n    focus() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    blur() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.blur();\n    }\n    render(container) {\n        this.selectBox.render(container);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as DOM from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem } from './actionViewItems.js';\nimport { ActionRunner, Separator } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable, DisposableMap, DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nexport class ActionBar extends Disposable {\n    constructor(container, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        super();\n        this._actionRunnerDisposables = this._register(new DisposableStore());\n        this.viewItemDisposables = this._register(new DisposableMap());\n        // Trigger Key Tracking\n        this.triggerKeyDown = false;\n        this.focusable = true;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this._onDidCancel = this._register(new Emitter({ onWillAddFirstListener: () => this.cancelHasListener = true }));\n        this.onDidCancel = this._onDidCancel.event;\n        this.cancelHasListener = false;\n        this._onDidRun = this._register(new Emitter());\n        this.onDidRun = this._onDidRun.event;\n        this._onWillRun = this._register(new Emitter());\n        this.onWillRun = this._onWillRun.event;\n        this.options = options;\n        this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;\n        this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0 /* ActionsOrientation.HORIZONTAL */;\n        this._triggerKeys = {\n            keyDown: (_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : false,\n            keys: (_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3 /* KeyCode.Enter */, 10 /* KeyCode.Space */]\n        };\n        if (this.options.actionRunner) {\n            this._actionRunner = this.options.actionRunner;\n        }\n        else {\n            this._actionRunner = new ActionRunner();\n            this._actionRunnerDisposables.add(this._actionRunner);\n        }\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems = [];\n        this.focusedItem = undefined;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-action-bar';\n        if (options.animated !== false) {\n            this.domNode.classList.add('animated');\n        }\n        let previousKeys;\n        let nextKeys;\n        switch (this._orientation) {\n            case 0 /* ActionsOrientation.HORIZONTAL */:\n                previousKeys = [15 /* KeyCode.LeftArrow */];\n                nextKeys = [17 /* KeyCode.RightArrow */];\n                break;\n            case 1 /* ActionsOrientation.VERTICAL */:\n                previousKeys = [16 /* KeyCode.UpArrow */];\n                nextKeys = [18 /* KeyCode.DownArrow */];\n                this.domNode.className += ' vertical';\n                break;\n        }\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = true;\n            const focusedItem = typeof this.focusedItem === 'number' ? this.viewItems[this.focusedItem] : undefined;\n            if (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\n                eventHandled = this.focusPrevious();\n            }\n            else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\n                eventHandled = this.focusNext();\n            }\n            else if (event.equals(9 /* KeyCode.Escape */) && this.cancelHasListener) {\n                this._onDidCancel.fire();\n            }\n            else if (event.equals(14 /* KeyCode.Home */)) {\n                eventHandled = this.focusFirst();\n            }\n            else if (event.equals(13 /* KeyCode.End */)) {\n                eventHandled = this.focusLast();\n            }\n            else if (event.equals(2 /* KeyCode.Tab */) && focusedItem instanceof BaseActionViewItem && focusedItem.trapsArrowNavigation) {\n                eventHandled = this.focusNext();\n            }\n            else if (this.isTriggerKeyEvent(event)) {\n                // Staying out of the else branch even if not triggered\n                if (this._triggerKeys.keyDown) {\n                    this.doTrigger(event);\n                }\n                else {\n                    this.triggerKeyDown = true;\n                }\n            }\n            else {\n                eventHandled = false;\n            }\n            if (eventHandled) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }));\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            // Run action on Enter/Space\n            if (this.isTriggerKeyEvent(event)) {\n                if (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n                    this.triggerKeyDown = false;\n                    this.doTrigger(event);\n                }\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            // Recompute focused item\n            else if (event.equals(2 /* KeyCode.Tab */) || event.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n                this.updateFocusedItem();\n            }\n        }));\n        this.focusTracker = this._register(DOM.trackFocus(this.domNode));\n        this._register(this.focusTracker.onDidBlur(() => {\n            if (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\n                this._onDidBlur.fire();\n                this.focusedItem = undefined;\n                this.previouslyFocusedItem = undefined;\n                this.triggerKeyDown = false;\n            }\n        }));\n        this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\n        this.actionsList = document.createElement('ul');\n        this.actionsList.className = 'actions-container';\n        this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        if (this.options.ariaLabel) {\n            this.actionsList.setAttribute('aria-label', this.options.ariaLabel);\n        }\n        this.domNode.appendChild(this.actionsList);\n        container.appendChild(this.domNode);\n    }\n    refreshRole() {\n        if (this.length() >= 2) {\n            this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        }\n        else {\n            this.actionsList.setAttribute('role', 'presentation');\n        }\n    }\n    // Some action bars should not be focusable at times\n    // When an action bar is not focusable make sure to make all the elements inside it not focusable\n    // When an action bar is focusable again, make sure the first item can be focused\n    setFocusable(focusable) {\n        this.focusable = focusable;\n        if (this.focusable) {\n            const firstEnabled = this.viewItems.find(vi => vi instanceof BaseActionViewItem && vi.isEnabled());\n            if (firstEnabled instanceof BaseActionViewItem) {\n                firstEnabled.setFocusable(true);\n            }\n        }\n        else {\n            this.viewItems.forEach(vi => {\n                if (vi instanceof BaseActionViewItem) {\n                    vi.setFocusable(false);\n                }\n            });\n        }\n    }\n    isTriggerKeyEvent(event) {\n        let ret = false;\n        this._triggerKeys.keys.forEach(keyCode => {\n            ret = ret || event.equals(keyCode);\n        });\n        return ret;\n    }\n    updateFocusedItem() {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    get context() {\n        return this._context;\n    }\n    set context(context) {\n        this._context = context;\n        this.viewItems.forEach(i => i.setActionContext(context));\n    }\n    get actionRunner() {\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n        // when setting a new `IActionRunner` make sure to dispose old listeners and\n        // start to forward events from the new listener\n        this._actionRunnerDisposables.clear();\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems.forEach(item => item.actionRunner = actionRunner);\n    }\n    getContainer() {\n        return this.domNode;\n    }\n    getAction(indexOrElement) {\n        var _a;\n        // by index\n        if (typeof indexOrElement === 'number') {\n            return (_a = this.viewItems[indexOrElement]) === null || _a === void 0 ? void 0 : _a.action;\n        }\n        // by element\n        if (indexOrElement instanceof HTMLElement) {\n            while (indexOrElement.parentElement !== this.actionsList) {\n                if (!indexOrElement.parentElement) {\n                    return undefined;\n                }\n                indexOrElement = indexOrElement.parentElement;\n            }\n            for (let i = 0; i < this.actionsList.childNodes.length; i++) {\n                if (this.actionsList.childNodes[i] === indexOrElement) {\n                    return this.viewItems[i].action;\n                }\n            }\n        }\n        return undefined;\n    }\n    push(arg, options = {}) {\n        const actions = Array.isArray(arg) ? arg : [arg];\n        let index = types.isNumber(options.index) ? options.index : null;\n        actions.forEach((action) => {\n            const actionViewItemElement = document.createElement('li');\n            actionViewItemElement.className = 'action-item';\n            actionViewItemElement.setAttribute('role', 'presentation');\n            let item;\n            const viewItemOptions = Object.assign({ hoverDelegate: this.options.hoverDelegate }, options);\n            if (this.options.actionViewItemProvider) {\n                item = this.options.actionViewItemProvider(action, viewItemOptions);\n            }\n            if (!item) {\n                item = new ActionViewItem(this.context, action, viewItemOptions);\n            }\n            // Prevent native context menu on actions\n            if (!this.options.allowContextMenu) {\n                this.viewItemDisposables.set(item, DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, (e) => {\n                    DOM.EventHelper.stop(e, true);\n                }));\n            }\n            item.actionRunner = this._actionRunner;\n            item.setActionContext(this.context);\n            item.render(actionViewItemElement);\n            if (this.focusable && item instanceof BaseActionViewItem && this.viewItems.length === 0) {\n                // We need to allow for the first enabled item to be focused on using tab navigation #106441\n                item.setFocusable(true);\n            }\n            if (index === null || index < 0 || index >= this.actionsList.children.length) {\n                this.actionsList.appendChild(actionViewItemElement);\n                this.viewItems.push(item);\n            }\n            else {\n                this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\n                this.viewItems.splice(index, 0, item);\n                index++;\n            }\n        });\n        if (typeof this.focusedItem === 'number') {\n            // After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n            this.focus(this.focusedItem);\n        }\n        this.refreshRole();\n    }\n    clear() {\n        if (this.isEmpty()) {\n            return;\n        }\n        this.viewItems = dispose(this.viewItems);\n        this.viewItemDisposables.clearAndDisposeAll();\n        DOM.clearNode(this.actionsList);\n        this.refreshRole();\n    }\n    length() {\n        return this.viewItems.length;\n    }\n    isEmpty() {\n        return this.viewItems.length === 0;\n    }\n    focus(arg) {\n        let selectFirst = false;\n        let index = undefined;\n        if (arg === undefined) {\n            selectFirst = true;\n        }\n        else if (typeof arg === 'number') {\n            index = arg;\n        }\n        else if (typeof arg === 'boolean') {\n            selectFirst = arg;\n        }\n        if (selectFirst && typeof this.focusedItem === 'undefined') {\n            const firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\n            // Focus the first enabled item\n            this.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n            this.updateFocus(undefined, undefined, true);\n        }\n        else {\n            if (index !== undefined) {\n                this.focusedItem = index;\n            }\n            this.updateFocus(undefined, undefined, true);\n        }\n    }\n    focusFirst() {\n        this.focusedItem = this.length() - 1;\n        return this.focusNext(true);\n    }\n    focusLast() {\n        this.focusedItem = 0;\n        return this.focusPrevious(true);\n    }\n    focusNext(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = this.viewItems.length - 1;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            if (!forceLoop && this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\n                this.focusedItem = startIndex;\n                return false;\n            }\n            this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus();\n        return true;\n    }\n    focusPrevious(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = 0;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            this.focusedItem = this.focusedItem - 1;\n            if (this.focusedItem < 0) {\n                if (!forceLoop && this.options.preventLoopNavigation) {\n                    this.focusedItem = startIndex;\n                    return false;\n                }\n                this.focusedItem = this.viewItems.length - 1;\n            }\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus(true);\n        return true;\n    }\n    updateFocus(fromRight, preventScroll, forceFocus = false) {\n        var _a;\n        if (typeof this.focusedItem === 'undefined') {\n            this.actionsList.focus({ preventScroll });\n        }\n        if (this.previouslyFocusedItem !== undefined && this.previouslyFocusedItem !== this.focusedItem) {\n            (_a = this.viewItems[this.previouslyFocusedItem]) === null || _a === void 0 ? void 0 : _a.blur();\n        }\n        const actionViewItem = this.focusedItem !== undefined && this.viewItems[this.focusedItem];\n        if (actionViewItem) {\n            let focusItem = true;\n            if (!types.isFunction(actionViewItem.focus)) {\n                focusItem = false;\n            }\n            if (this.options.focusOnlyEnabledItems && types.isFunction(actionViewItem.isEnabled) && !actionViewItem.isEnabled()) {\n                focusItem = false;\n            }\n            if (actionViewItem.action.id === Separator.ID) {\n                focusItem = false;\n            }\n            if (!focusItem) {\n                this.actionsList.focus({ preventScroll });\n                this.previouslyFocusedItem = undefined;\n            }\n            else if (forceFocus || this.previouslyFocusedItem !== this.focusedItem) {\n                actionViewItem.focus(fromRight);\n                this.previouslyFocusedItem = this.focusedItem;\n            }\n        }\n    }\n    doTrigger(event) {\n        if (typeof this.focusedItem === 'undefined') {\n            return; //nothing to focus\n        }\n        // trigger action\n        const actionViewItem = this.viewItems[this.focusedItem];\n        if (actionViewItem instanceof BaseActionViewItem) {\n            const context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\n            this.run(actionViewItem._action, context);\n        }\n    }\n    run(action, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._actionRunner.run(action, context);\n        });\n    }\n    dispose() {\n        this._context = undefined;\n        this.viewItems = dispose(this.viewItems);\n        this.getContainer().remove();\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './aria.css';\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n    ariaContainer = document.createElement('div');\n    ariaContainer.className = 'monaco-aria-container';\n    const createAlertContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-alert';\n        element.setAttribute('role', 'alert');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    alertContainer = createAlertContainer();\n    alertContainer2 = createAlertContainer();\n    const createStatusContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-status';\n        element.setAttribute('role', 'complementary');\n        element.setAttribute('aria-live', 'polite');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    statusContainer = createStatusContainer();\n    statusContainer2 = createStatusContainer();\n    parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    // Use alternate containers such that duplicated messages get read out by screen readers #99466\n    if (alertContainer.textContent !== msg) {\n        dom.clearNode(alertContainer2);\n        insertMessage(alertContainer, msg);\n    }\n    else {\n        dom.clearNode(alertContainer);\n        insertMessage(alertContainer2, msg);\n    }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    if (isMacintosh) {\n        alert(msg); // VoiceOver does not seem to support status role\n    }\n    else {\n        if (statusContainer.textContent !== msg) {\n            dom.clearNode(statusContainer2);\n            insertMessage(statusContainer, msg);\n        }\n        else {\n            dom.clearNode(statusContainer);\n            insertMessage(statusContainer2, msg);\n        }\n    }\n}\nfunction insertMessage(target, msg) {\n    dom.clearNode(target);\n    if (msg.length > MAX_MESSAGE_LENGTH) {\n        msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n    }\n    target.textContent = msg;\n    // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n    target.style.visibility = 'hidden';\n    target.style.visibility = 'visible';\n}\n","import { addDisposableListener, EventHelper, EventType, reset, trackFocus } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './button.css';\nexport const unthemedButtonStyles = {\n    buttonBackground: '#0E639C',\n    buttonHoverBackground: '#006BB3',\n    buttonSeparator: Color.white.toString(),\n    buttonForeground: Color.white.toString(),\n    buttonBorder: undefined,\n    buttonSecondaryBackground: undefined,\n    buttonSecondaryForeground: undefined,\n    buttonSecondaryHoverBackground: undefined\n};\nexport class Button extends Disposable {\n    get onDidClick() { return this._onDidClick.event; }\n    constructor(container, options) {\n        super();\n        this._onDidClick = this._register(new Emitter());\n        this.options = options;\n        this._element = document.createElement('a');\n        this._element.classList.add('monaco-button');\n        this._element.tabIndex = 0;\n        this._element.setAttribute('role', 'button');\n        const background = options.secondary ? options.buttonSecondaryBackground : options.buttonBackground;\n        const foreground = options.secondary ? options.buttonSecondaryForeground : options.buttonForeground;\n        this._element.style.color = foreground || '';\n        this._element.style.backgroundColor = background || '';\n        if (options.supportShortLabel) {\n            this._labelShortElement = document.createElement('div');\n            this._labelShortElement.classList.add('monaco-button-label-short');\n            this._element.appendChild(this._labelShortElement);\n            this._labelElement = document.createElement('div');\n            this._labelElement.classList.add('monaco-button-label');\n            this._element.appendChild(this._labelElement);\n            this._element.classList.add('monaco-text-button-with-short-label');\n        }\n        container.appendChild(this._element);\n        this._register(Gesture.addTarget(this._element));\n        [EventType.CLICK, TouchEventType.Tap].forEach(eventType => {\n            this._register(addDisposableListener(this._element, eventType, e => {\n                if (!this.enabled) {\n                    EventHelper.stop(e);\n                    return;\n                }\n                this._onDidClick.fire(e);\n            }));\n        });\n        this._register(addDisposableListener(this._element, EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = false;\n            if (this.enabled && (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */))) {\n                this._onDidClick.fire(e);\n                eventHandled = true;\n            }\n            else if (event.equals(9 /* KeyCode.Escape */)) {\n                this._element.blur();\n                eventHandled = true;\n            }\n            if (eventHandled) {\n                EventHelper.stop(event, true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OVER, e => {\n            if (!this._element.classList.contains('disabled')) {\n                this.updateBackground(true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OUT, e => {\n            this.updateBackground(false); // restore standard styles\n        }));\n        // Also set hover background when button is focused for feedback\n        this.focusTracker = this._register(trackFocus(this._element));\n        this._register(this.focusTracker.onDidFocus(() => { if (this.enabled) {\n            this.updateBackground(true);\n        } }));\n        this._register(this.focusTracker.onDidBlur(() => { if (this.enabled) {\n            this.updateBackground(false);\n        } }));\n    }\n    getContentElements(content) {\n        const elements = [];\n        for (let segment of renderLabelWithIcons(content)) {\n            if (typeof (segment) === 'string') {\n                segment = segment.trim();\n                // Ignore empty segment\n                if (segment === '') {\n                    continue;\n                }\n                // Convert string segments to <span> nodes\n                const node = document.createElement('span');\n                node.textContent = segment;\n                elements.push(node);\n            }\n            else {\n                elements.push(segment);\n            }\n        }\n        return elements;\n    }\n    updateBackground(hover) {\n        let background;\n        if (this.options.secondary) {\n            background = hover ? this.options.buttonSecondaryHoverBackground : this.options.buttonSecondaryBackground;\n        }\n        else {\n            background = hover ? this.options.buttonHoverBackground : this.options.buttonBackground;\n        }\n        if (background) {\n            this._element.style.backgroundColor = background;\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    set label(value) {\n        this._element.classList.add('monaco-text-button');\n        const labelElement = this.options.supportShortLabel ? this._labelElement : this._element;\n        if (this.options.supportIcons) {\n            reset(labelElement, ...this.getContentElements(value));\n        }\n        else {\n            labelElement.textContent = value;\n        }\n        if (typeof this.options.title === 'string') {\n            this._element.title = this.options.title;\n        }\n        else if (this.options.title) {\n            this._element.title = value;\n        }\n    }\n    set enabled(value) {\n        if (value) {\n            this._element.classList.remove('disabled');\n            this._element.setAttribute('aria-disabled', String(false));\n            this._element.tabIndex = 0;\n        }\n        else {\n            this._element.classList.add('disabled');\n            this._element.setAttribute('aria-disabled', String(true));\n        }\n    }\n    get enabled() {\n        return !this._element.classList.contains('disabled');\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BrowserFeatures } from '../../canIUse.js';\nimport * as DOM from '../../dom.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Range } from '../../../common/range.js';\nimport './contextview.css';\nexport var LayoutAnchorMode;\n(function (LayoutAnchorMode) {\n    LayoutAnchorMode[LayoutAnchorMode[\"AVOID\"] = 0] = \"AVOID\";\n    LayoutAnchorMode[LayoutAnchorMode[\"ALIGN\"] = 1] = \"ALIGN\";\n})(LayoutAnchorMode || (LayoutAnchorMode = {}));\n/**\n * Lays out a one dimensional view next to an anchor in a viewport.\n *\n * @returns The view offset within the viewport.\n */\nexport function layout(viewportSize, viewSize, anchor) {\n    const layoutAfterAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset : anchor.offset + anchor.size;\n    const layoutBeforeAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset + anchor.size : anchor.offset;\n    if (anchor.position === 0 /* LayoutAnchorPosition.Before */) {\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // happy case, lay it out after the anchor\n        }\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // ok case, lay it out before the anchor\n        }\n        return Math.max(viewportSize - viewSize, 0); // sad case, lay it over the anchor\n    }\n    else {\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // happy case, lay it out before the anchor\n        }\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // ok case, lay it out after the anchor\n        }\n        return 0; // sad case, lay it over the anchor\n    }\n}\nclass ContextView extends Disposable {\n    constructor(container, domPosition) {\n        super();\n        this.container = null;\n        this.delegate = null;\n        this.toDisposeOnClean = Disposable.None;\n        this.toDisposeOnSetContainer = Disposable.None;\n        this.shadowRoot = null;\n        this.shadowRootHostElement = null;\n        this.view = DOM.$('.context-view');\n        this.useFixedPosition = false;\n        this.useShadowDOM = false;\n        DOM.hide(this.view);\n        this.setContainer(container, domPosition);\n        this._register(toDisposable(() => this.setContainer(null, 1 /* ContextViewDOMPosition.ABSOLUTE */)));\n    }\n    setContainer(container, domPosition) {\n        var _a;\n        if (this.container) {\n            this.toDisposeOnSetContainer.dispose();\n            if (this.shadowRoot) {\n                this.shadowRoot.removeChild(this.view);\n                this.shadowRoot = null;\n                (_a = this.shadowRootHostElement) === null || _a === void 0 ? void 0 : _a.remove();\n                this.shadowRootHostElement = null;\n            }\n            else {\n                this.container.removeChild(this.view);\n            }\n            this.container = null;\n        }\n        if (container) {\n            this.container = container;\n            this.useFixedPosition = domPosition !== 1 /* ContextViewDOMPosition.ABSOLUTE */;\n            this.useShadowDOM = domPosition === 3 /* ContextViewDOMPosition.FIXED_SHADOW */;\n            if (this.useShadowDOM) {\n                this.shadowRootHostElement = DOM.$('.shadow-root-host');\n                this.container.appendChild(this.shadowRootHostElement);\n                this.shadowRoot = this.shadowRootHostElement.attachShadow({ mode: 'open' });\n                const style = document.createElement('style');\n                style.textContent = SHADOW_ROOT_CSS;\n                this.shadowRoot.appendChild(style);\n                this.shadowRoot.appendChild(this.view);\n                this.shadowRoot.appendChild(DOM.$('slot'));\n            }\n            else {\n                this.container.appendChild(this.view);\n            }\n            const toDisposeOnSetContainer = new DisposableStore();\n            ContextView.BUBBLE_UP_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, false);\n                }));\n            });\n            ContextView.BUBBLE_DOWN_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, true);\n                }, true));\n            });\n            this.toDisposeOnSetContainer = toDisposeOnSetContainer;\n        }\n    }\n    show(delegate) {\n        var _a, _b;\n        if (this.isVisible()) {\n            this.hide();\n        }\n        // Show static box\n        DOM.clearNode(this.view);\n        this.view.className = 'context-view';\n        this.view.style.top = '0px';\n        this.view.style.left = '0px';\n        this.view.style.zIndex = '2575';\n        this.view.style.position = this.useFixedPosition ? 'fixed' : 'absolute';\n        DOM.show(this.view);\n        // Render content\n        this.toDisposeOnClean = delegate.render(this.view) || Disposable.None;\n        // Set active delegate\n        this.delegate = delegate;\n        // Layout\n        this.doLayout();\n        // Focus\n        (_b = (_a = this.delegate).focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    getViewElement() {\n        return this.view;\n    }\n    layout() {\n        if (!this.isVisible()) {\n            return;\n        }\n        if (this.delegate.canRelayout === false && !(platform.isIOS && BrowserFeatures.pointerEvents)) {\n            this.hide();\n            return;\n        }\n        if (this.delegate.layout) {\n            this.delegate.layout();\n        }\n        this.doLayout();\n    }\n    doLayout() {\n        // Check that we still have a delegate - this.delegate.layout may have hidden\n        if (!this.isVisible()) {\n            return;\n        }\n        // Get anchor\n        const anchor = this.delegate.getAnchor();\n        // Compute around\n        let around;\n        // Get the element's position and size (to anchor the view)\n        if (DOM.isHTMLElement(anchor)) {\n            const elementPosition = DOM.getDomNodePagePosition(anchor);\n            // In areas where zoom is applied to the element or its ancestors, we need to adjust the size of the element\n            // e.g. The title bar has counter zoom behavior meaning it applies the inverse of zoom level.\n            // Window Zoom Level: 1.5, Title Bar Zoom: 1/1.5, Size Multiplier: 1.5\n            const zoom = DOM.getDomNodeZoomLevel(anchor);\n            around = {\n                top: elementPosition.top * zoom,\n                left: elementPosition.left * zoom,\n                width: elementPosition.width * zoom,\n                height: elementPosition.height * zoom\n            };\n        }\n        else {\n            around = {\n                top: anchor.y,\n                left: anchor.x,\n                width: anchor.width || 1,\n                height: anchor.height || 2\n            };\n        }\n        const viewSizeWidth = DOM.getTotalWidth(this.view);\n        const viewSizeHeight = DOM.getTotalHeight(this.view);\n        const anchorPosition = this.delegate.anchorPosition || 0 /* AnchorPosition.BELOW */;\n        const anchorAlignment = this.delegate.anchorAlignment || 0 /* AnchorAlignment.LEFT */;\n        const anchorAxisAlignment = this.delegate.anchorAxisAlignment || 0 /* AnchorAxisAlignment.VERTICAL */;\n        let top;\n        let left;\n        if (anchorAxisAlignment === 0 /* AnchorAxisAlignment.VERTICAL */) {\n            const verticalAnchor = { offset: around.top - window.pageYOffset, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n            // if view intersects vertically with anchor,  we must avoid the anchor\n            if (Range.intersects({ start: top, end: top + viewSizeHeight }, { start: verticalAnchor.offset, end: verticalAnchor.offset + verticalAnchor.size })) {\n                horizontalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n        }\n        else {\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const verticalAnchor = { offset: around.top, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n            // if view intersects horizontally with anchor, we must avoid the anchor\n            if (Range.intersects({ start: left, end: left + viewSizeWidth }, { start: horizontalAnchor.offset, end: horizontalAnchor.offset + horizontalAnchor.size })) {\n                verticalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n        }\n        this.view.classList.remove('top', 'bottom', 'left', 'right');\n        this.view.classList.add(anchorPosition === 0 /* AnchorPosition.BELOW */ ? 'bottom' : 'top');\n        this.view.classList.add(anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 'left' : 'right');\n        this.view.classList.toggle('fixed', this.useFixedPosition);\n        const containerPosition = DOM.getDomNodePagePosition(this.container);\n        this.view.style.top = `${top - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).top : containerPosition.top)}px`;\n        this.view.style.left = `${left - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).left : containerPosition.left)}px`;\n        this.view.style.width = 'initial';\n    }\n    hide(data) {\n        const delegate = this.delegate;\n        this.delegate = null;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.onHide) {\n            delegate.onHide(data);\n        }\n        this.toDisposeOnClean.dispose();\n        DOM.hide(this.view);\n    }\n    isVisible() {\n        return !!this.delegate;\n    }\n    onDOMEvent(e, onCapture) {\n        if (this.delegate) {\n            if (this.delegate.onDOMEvent) {\n                this.delegate.onDOMEvent(e, document.activeElement);\n            }\n            else if (onCapture && !DOM.isAncestor(e.target, this.container)) {\n                this.hide();\n            }\n        }\n    }\n    dispose() {\n        this.hide();\n        super.dispose();\n    }\n}\nContextView.BUBBLE_UP_EVENTS = ['click', 'keydown', 'focus', 'blur'];\nContextView.BUBBLE_DOWN_EVENTS = ['click'];\nexport { ContextView };\nconst SHADOW_ROOT_CSS = /* css */ `\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*='codicon-'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"HelveticaNeue-Light\", system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Hiragino Sans GB\", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang TC\", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, \"Hiragino Kaku Gothic Pro\", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, \"Nanum Gothic\", \"Apple SD Gothic Neo\", \"AppleGothic\", sans-serif; }\n\n\t:host-context(.windows) { font-family: \"Segoe WPC\", \"Segoe UI\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft YaHei\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft Jhenghei\", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Yu Gothic UI\", \"Meiryo UI\", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Malgun Gothic\", \"Dotom\", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans SC\", \"Source Han Sans CN\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans TC\", \"Source Han Sans TW\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans J\", \"Source Han Sans JP\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans K\", \"Source Han Sans JR\", \"Source Han Sans\", \"UnDotum\", \"FBaekmuk Gulim\", sans-serif; }\n`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { format } from '../../../common/strings.js';\nimport './countBadge.css';\nexport class CountBadge {\n    constructor(container, options, styles) {\n        this.options = options;\n        this.styles = styles;\n        this.count = 0;\n        this.element = append(container, $('.monaco-count-badge'));\n        this.countFormat = this.options.countFormat || '{0}';\n        this.titleFormat = this.options.titleFormat || '';\n        this.setCount(this.options.count || 0);\n    }\n    setCount(count) {\n        this.count = count;\n        this.render();\n    }\n    setTitleFormat(titleFormat) {\n        this.titleFormat = titleFormat;\n        this.render();\n    }\n    render() {\n        var _a, _b;\n        this.element.textContent = format(this.countFormat, this.count);\n        this.element.title = format(this.titleFormat, this.count);\n        this.element.style.backgroundColor = (_a = this.styles.badgeBackground) !== null && _a !== void 0 ? _a : '';\n        this.element.style.color = (_b = this.styles.badgeForeground) !== null && _b !== void 0 ? _b : '';\n        if (this.styles.badgeBorder) {\n            this.element.style.border = `1px solid ${this.styles.badgeBorder}`;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { EventType as GestureEventType, Gesture } from '../../touch.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nclass BaseDropdown extends ActionRunner {\n    constructor(container, options) {\n        super();\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this._element = append(container, $('.monaco-dropdown'));\n        this._label = append(this._element, $('.dropdown-label'));\n        let labelRenderer = options.labelRenderer;\n        if (!labelRenderer) {\n            labelRenderer = (container) => {\n                container.textContent = options.label || '';\n                return null;\n            };\n        }\n        for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\n        }\n        for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this._label, event, e => {\n                if (e instanceof MouseEvent && (e.detail > 1 || e.button !== 0)) {\n                    // prevent right click trigger to allow separate context menu (https://github.com/microsoft/vscode/issues/151064)\n                    // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\n                    return;\n                }\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }));\n        }\n        this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }\n        }));\n        const cleanupFn = labelRenderer(this._label);\n        if (cleanupFn) {\n            this._register(cleanupFn);\n        }\n        this._register(Gesture.addTarget(this._label));\n    }\n    get element() {\n        return this._element;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this._onDidChangeVisibility.fire(true);\n        }\n    }\n    hide() {\n        if (this.visible) {\n            this.visible = false;\n            this._onDidChangeVisibility.fire(false);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hide();\n        if (this.boxContainer) {\n            this.boxContainer.remove();\n            this.boxContainer = undefined;\n        }\n        if (this.contents) {\n            this.contents.remove();\n            this.contents = undefined;\n        }\n        if (this._label) {\n            this._label.remove();\n            this._label = undefined;\n        }\n    }\n}\nexport class DropdownMenu extends BaseDropdown {\n    constructor(container, options) {\n        super(container, options);\n        this._actions = [];\n        this._contextMenuProvider = options.contextMenuProvider;\n        this.actions = options.actions || [];\n        this.actionProvider = options.actionProvider;\n        this.menuClassName = options.menuClassName || '';\n        this.menuAsChild = !!options.menuAsChild;\n    }\n    set menuOptions(options) {\n        this._menuOptions = options;\n    }\n    get menuOptions() {\n        return this._menuOptions;\n    }\n    get actions() {\n        if (this.actionProvider) {\n            return this.actionProvider.getActions();\n        }\n        return this._actions;\n    }\n    set actions(actions) {\n        this._actions = actions;\n    }\n    show() {\n        super.show();\n        this.element.classList.add('active');\n        this._contextMenuProvider.showContextMenu({\n            getAnchor: () => this.element,\n            getActions: () => this.actions,\n            getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\n            getActionViewItem: (action, options) => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action, options) : undefined,\n            getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\n            getMenuClassName: () => this.menuClassName,\n            onHide: () => this.onHide(),\n            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\n            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* AnchorAlignment.LEFT */,\n            domForShadowRoot: this.menuAsChild ? this.element : undefined\n        });\n    }\n    hide() {\n        super.hide();\n    }\n    onHide() {\n        this.hide();\n        this.element.classList.remove('active');\n    }\n}\n","import { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            this.element.title = this._action.label || '';\n            this.element.ariaLabel = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            var _a;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), { get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                } });\n        }\n        this.updateTooltip();\n        this.updateEnabled();\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (this.action.label) {\n            title = this.action.label;\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    show() {\n        var _a;\n        (_a = this.dropdownMenu) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    updateEnabled() {\n        var _a, _b;\n        const disabled = !this.action.enabled;\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CaseSensitiveToggle, RegexToggle, WholeWordsToggle } from './findInputToggles.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nexport class FindInput extends Widget {\n    constructor(parent, contextViewProvider, options) {\n        super();\n        this.fixFocusOnOptionClickEnabled = true;\n        this.imeSessionInProgress = false;\n        this.additionalTogglesDisposables = new DisposableStore();\n        this.additionalToggles = [];\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this.onMouseDown = this._onMouseDown.event;\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onCaseSensitiveKeyDown = this._register(new Emitter());\n        this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;\n        this._onRegexKeyDown = this._register(new Emitter());\n        this.onRegexKeyDown = this._onRegexKeyDown.event;\n        this._lastHighlightFindOptions = 0;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.showCommonFindToggles = !!options.showCommonFindToggles;\n        const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\n        const appendWholeWordsLabel = options.appendWholeWordsLabel || '';\n        const appendRegexLabel = options.appendRegexLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, contextViewProvider, {\n            placeholder: this.placeholder || '',\n            ariaLabel: this.label || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles,\n        }));\n        if (this.showCommonFindToggles) {\n            this.regex = this._register(new RegexToggle(Object.assign({ appendTitle: appendRegexLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.regex.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.regex.onKeyDown(e => {\n                this._onRegexKeyDown.fire(e);\n            }));\n            this.wholeWords = this._register(new WholeWordsToggle(Object.assign({ appendTitle: appendWholeWordsLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.wholeWords.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this.caseSensitive = this._register(new CaseSensitiveToggle(Object.assign({ appendTitle: appendCaseSensitiveLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.caseSensitive.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.caseSensitive.onKeyDown(e => {\n                this._onCaseSensitiveKeyDown.fire(e);\n            }));\n            // Arrow-Key support to navigate between options\n            const indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];\n            this.onkeydown(this.domNode, (event) => {\n                if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                    const index = indexes.indexOf(document.activeElement);\n                    if (index >= 0) {\n                        let newIndex = -1;\n                        if (event.equals(17 /* KeyCode.RightArrow */)) {\n                            newIndex = (index + 1) % indexes.length;\n                        }\n                        else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                            if (index === 0) {\n                                newIndex = indexes.length - 1;\n                            }\n                            else {\n                                newIndex = index - 1;\n                            }\n                        }\n                        if (event.equals(9 /* KeyCode.Escape */)) {\n                            indexes[index].blur();\n                            this.inputBox.focus();\n                        }\n                        else if (newIndex >= 0) {\n                            indexes[newIndex].focus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                    }\n                }\n            });\n        }\n        this.controls = document.createElement('div');\n        this.controls.className = 'controls';\n        this.controls.style.display = this.showCommonFindToggles ? 'block' : 'none';\n        if (this.caseSensitive) {\n            this.controls.append(this.caseSensitive.domNode);\n        }\n        if (this.wholeWords) {\n            this.controls.appendChild(this.wholeWords.domNode);\n        }\n        if (this.regex) {\n            this.controls.appendChild(this.regex.domNode);\n        }\n        this.setAdditionalToggles(options === null || options === void 0 ? void 0 : options.additionalToggles);\n        if (this.controls) {\n            this.domNode.appendChild(this.controls);\n        }\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionstart', (e) => {\n            this.imeSessionInProgress = true;\n        }));\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionend', (e) => {\n            this.imeSessionInProgress = false;\n            this._onInput.fire();\n        }));\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    get onDidChange() {\n        return this.inputBox.onDidChange;\n    }\n    enable() {\n        var _a, _b, _c;\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.enable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.enable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.enable();\n        for (const toggle of this.additionalToggles) {\n            toggle.enable();\n        }\n    }\n    disable() {\n        var _a, _b, _c;\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.disable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.disable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.disable();\n        for (const toggle of this.additionalToggles) {\n            toggle.disable();\n        }\n    }\n    setFocusInputOnOptionClick(value) {\n        this.fixFocusOnOptionClickEnabled = value;\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    setAdditionalToggles(toggles) {\n        var _a, _b, _c, _d, _e, _f;\n        for (const currentToggle of this.additionalToggles) {\n            currentToggle.domNode.remove();\n        }\n        this.additionalToggles = [];\n        this.additionalTogglesDisposables.dispose();\n        this.additionalTogglesDisposables = new DisposableStore();\n        for (const toggle of toggles !== null && toggles !== void 0 ? toggles : []) {\n            this.additionalTogglesDisposables.add(toggle);\n            this.controls.appendChild(toggle.domNode);\n            this.additionalTogglesDisposables.add(toggle.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n            }));\n            this.additionalToggles.push(toggle);\n        }\n        if (this.additionalToggles.length > 0) {\n            this.controls.style.display = 'block';\n        }\n        this.inputBox.paddingRight =\n            (((_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.width()) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = this.wholeWords) === null || _c === void 0 ? void 0 : _c.width()) !== null && _d !== void 0 ? _d : 0) + ((_f = (_e = this.regex) === null || _e === void 0 ? void 0 : _e.width()) !== null && _f !== void 0 ? _f : 0))\n                + this.additionalToggles.reduce((r, t) => r + t.width(), 0);\n    }\n    getValue() {\n        return this.inputBox.value;\n    }\n    setValue(value) {\n        if (this.inputBox.value !== value) {\n            this.inputBox.value = value;\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getCaseSensitive() {\n        var _a, _b;\n        return (_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setCaseSensitive(value) {\n        if (this.caseSensitive) {\n            this.caseSensitive.checked = value;\n        }\n    }\n    getWholeWords() {\n        var _a, _b;\n        return (_b = (_a = this.wholeWords) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setWholeWords(value) {\n        if (this.wholeWords) {\n            this.wholeWords.checked = value;\n        }\n    }\n    getRegex() {\n        var _a, _b;\n        return (_b = (_a = this.regex) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setRegex(value) {\n        if (this.regex) {\n            this.regex.checked = value;\n            this.validate();\n        }\n    }\n    focusOnCaseSensitive() {\n        var _a;\n        (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    highlightFindOptions() {\n        this.domNode.classList.remove('highlight-' + (this._lastHighlightFindOptions));\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\n        this.domNode.classList.add('highlight-' + (this._lastHighlightFindOptions));\n    }\n    validate() {\n        this.inputBox.validate();\n    }\n    showMessage(message) {\n        this.inputBox.showMessage(message);\n    }\n    clearMessage() {\n        this.inputBox.hideMessage();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Toggle } from '../toggle/toggle.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport * as nls from '../../../../nls.js';\nconst NLS_CASE_SENSITIVE_TOGGLE_LABEL = nls.localize('caseDescription', \"Match Case\");\nconst NLS_WHOLE_WORD_TOGGLE_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\nconst NLS_REGEX_TOGGLE_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\nexport class CaseSensitiveToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.caseSensitive,\n            title: NLS_CASE_SENSITIVE_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class WholeWordsToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.wholeWord,\n            title: NLS_WHOLE_WORD_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class RegexToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.regex,\n            title: NLS_REGEX_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { Toggle } from '../toggle/toggle.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nconst NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseToggle', \"Preserve Case\");\nclass PreserveCaseToggle extends Toggle {\n    constructor(opts) {\n        super({\n            // TODO: does this need its own icon?\n            icon: Codicon.preserveCase,\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class ReplaceInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.cachedOptionsWidth = 0;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onPreserveCaseKeyDown = this._register(new Emitter());\n        this.onPreserveCaseKeyDown = this._onPreserveCaseKeyDown.event;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        const appendPreserveCaseLabel = options.appendPreserveCaseLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            ariaLabel: this.label || '',\n            placeholder: this.placeholder || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles\n        }));\n        this.preserveCase = this._register(new PreserveCaseToggle(Object.assign({ appendTitle: appendPreserveCaseLabel, isChecked: false }, options.toggleStyles)));\n        this._register(this.preserveCase.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.preserveCase.onKeyDown(e => {\n            this._onPreserveCaseKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.cachedOptionsWidth = this.preserveCase.width();\n        }\n        else {\n            this.cachedOptionsWidth = 0;\n        }\n        // Arrow-Key support to navigate between options\n        const indexes = [this.preserveCase.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                const index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* KeyCode.RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* KeyCode.Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        const controls = document.createElement('div');\n        controls.className = 'controls';\n        controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        controls.appendChild(this.preserveCase.domNode);\n        this.domNode.appendChild(controls);\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.preserveCase.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.preserveCase.disable();\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getPreserveCase() {\n        return this.preserveCase.checked;\n    }\n    setPreserveCase(value) {\n        this.preserveCase.checked = value;\n    }\n    focusOnPreserve() {\n        this.preserveCase.focus();\n    }\n    validate() {\n        var _a;\n        (_a = this.inputBox) === null || _a === void 0 ? void 0 : _a.validate();\n    }\n    set width(newWidth) {\n        this.inputBox.paddingRight = this.cachedOptionsWidth;\n        this.domNode.style.width = newWidth + 'px';\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel {\n    /**\n     * Create a new {@link HighlightedLabel}.\n     *\n     * @param container The parent container to append to.\n     */\n    constructor(container, options) {\n        var _a;\n        this.text = '';\n        this.title = '';\n        this.highlights = [];\n        this.didEverRender = false;\n        this.supportIcons = (_a = options === null || options === void 0 ? void 0 : options.supportIcons) !== null && _a !== void 0 ? _a : false;\n        this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n    }\n    /**\n     * The label's DOM node.\n     */\n    get element() {\n        return this.domNode;\n    }\n    /**\n     * Set the label and highlights.\n     *\n     * @param text The label to display.\n     * @param highlights The ranges to highlight.\n     * @param title An optional title for the hover tooltip.\n     * @param escapeNewLines Whether to escape new lines.\n     * @returns\n     */\n    set(text, highlights = [], title = '', escapeNewLines) {\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    }\n    render() {\n        const children = [];\n        let pos = 0;\n        for (const highlight of this.highlights) {\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                const substring = this.text.substring(pos, highlight.start);\n                if (this.supportIcons) {\n                    children.push(...renderLabelWithIcons(substring));\n                }\n                else {\n                    children.push(substring);\n                }\n                pos = highlight.start;\n            }\n            const substring = this.text.substring(pos, highlight.end);\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\n            if (highlight.extraClasses) {\n                element.classList.add(...highlight.extraClasses);\n            }\n            children.push(element);\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            const substring = this.text.substring(pos);\n            if (this.supportIcons) {\n                children.push(...renderLabelWithIcons(substring));\n            }\n            else {\n                children.push(substring);\n            }\n        }\n        dom.reset(this.domNode, ...children);\n        if (this.title) {\n            this.domNode.title = this.title;\n        }\n        else {\n            this.domNode.removeAttribute('title');\n        }\n        this.didEverRender = true;\n    }\n    static escapeNewLines(text, highlights) {\n        let total = 0;\n        let extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (const highlight of highlights) {\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './hover.css';\nconst $ = dom.$;\nexport class HoverWidget extends Disposable {\n    constructor() {\n        super();\n        this.containerDomNode = document.createElement('div');\n        this.containerDomNode.className = 'monaco-hover';\n        this.containerDomNode.tabIndex = 0;\n        this.containerDomNode.setAttribute('role', 'tooltip');\n        this.contentsDomNode = document.createElement('div');\n        this.contentsDomNode.className = 'monaco-hover-content';\n        this.scrollbar = this._register(new DomScrollableElement(this.contentsDomNode, {\n            consumeMouseWheelIfScrollbarIsNeeded: true\n        }));\n        this.containerDomNode.appendChild(this.scrollbar.getDomNode());\n    }\n    onContentsChanged() {\n        this.scrollbar.scanDomNode();\n    }\n}\nexport class HoverAction extends Disposable {\n    static render(parent, actionOptions, keybindingLabel) {\n        return new HoverAction(parent, actionOptions, keybindingLabel);\n    }\n    constructor(parent, actionOptions, keybindingLabel) {\n        super();\n        this.actionContainer = dom.append(parent, $('div.action-container'));\n        this.actionContainer.setAttribute('tabindex', '0');\n        this.action = dom.append(this.actionContainer, $('a.action'));\n        this.action.setAttribute('role', 'button');\n        if (actionOptions.iconClass) {\n            dom.append(this.action, $(`span.icon.${actionOptions.iconClass}`));\n        }\n        const label = dom.append(this.action, $('span'));\n        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.CLICK, e => {\n            e.stopPropagation();\n            e.preventDefault();\n            actionOptions.run(this.actionContainer);\n        }));\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                e.stopPropagation();\n                e.preventDefault();\n                actionOptions.run(this.actionContainer);\n            }\n        }));\n        this.setEnabled(true);\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.actionContainer.classList.remove('disabled');\n            this.actionContainer.removeAttribute('aria-disabled');\n        }\n        else {\n            this.actionContainer.classList.add('disabled');\n            this.actionContainer.setAttribute('aria-disabled', 'true');\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './iconlabel.css';\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nclass FastLabelNode {\n    constructor(_element) {\n        this._element = _element;\n    }\n    get element() {\n        return this._element;\n    }\n    set textContent(content) {\n        if (this.disposed || content === this._textContent) {\n            return;\n        }\n        this._textContent = content;\n        this._element.textContent = content;\n    }\n    set className(className) {\n        if (this.disposed || className === this._className) {\n            return;\n        }\n        this._className = className;\n        this._element.className = className;\n    }\n    set empty(empty) {\n        if (this.disposed || empty === this._empty) {\n            return;\n        }\n        this._empty = empty;\n        this._element.style.marginLeft = empty ? '0' : '';\n    }\n    dispose() {\n        this.disposed = true;\n    }\n}\nexport class IconLabel extends Disposable {\n    constructor(container, options) {\n        super();\n        this.customHovers = new Map();\n        this.creationOptions = options;\n        this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n        this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n        const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n        if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n            this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n        }\n        else {\n            this.nameNode = new Label(nameContainer);\n        }\n        this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n    }\n    get element() {\n        return this.domNode.element;\n    }\n    setLabel(label, description, options) {\n        const labelClasses = ['monaco-icon-label'];\n        const containerClasses = ['monaco-icon-label-container'];\n        if (options) {\n            if (options.extraClasses) {\n                labelClasses.push(...options.extraClasses);\n            }\n            if (options.italic) {\n                labelClasses.push('italic');\n            }\n            if (options.strikethrough) {\n                labelClasses.push('strikethrough');\n            }\n            if (options.disabledCommand) {\n                containerClasses.push('disabled');\n            }\n        }\n        this.domNode.className = labelClasses.join(' ');\n        this.labelContainer.className = containerClasses.join(' ');\n        this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n        this.nameNode.setLabel(label, options);\n        if (description || this.descriptionNode) {\n            const descriptionNode = this.getOrCreateDescriptionNode();\n            if (descriptionNode instanceof HighlightedLabel) {\n                descriptionNode.set(description || '', options ? options.descriptionMatches : undefined, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                this.setupHover(descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n            }\n            else {\n                descriptionNode.textContent = description && (options === null || options === void 0 ? void 0 : options.labelEscapeNewLines) ? HighlightedLabel.escapeNewLines(description, []) : (description || '');\n                this.setupHover(descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n                descriptionNode.empty = !description;\n            }\n        }\n    }\n    setupHover(htmlElement, tooltip) {\n        const previousCustomHover = this.customHovers.get(htmlElement);\n        if (previousCustomHover) {\n            previousCustomHover.dispose();\n            this.customHovers.delete(htmlElement);\n        }\n        if (!tooltip) {\n            htmlElement.removeAttribute('title');\n            return;\n        }\n        if (!this.hoverDelegate) {\n            setupNativeHover(htmlElement, tooltip);\n        }\n        else {\n            const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n            if (hoverDisposable) {\n                this.customHovers.set(htmlElement, hoverDisposable);\n            }\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const disposable of this.customHovers.values()) {\n            disposable.dispose();\n        }\n        this.customHovers.clear();\n    }\n    getOrCreateDescriptionNode() {\n        var _a;\n        if (!this.descriptionNode) {\n            const descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n            if ((_a = this.creationOptions) === null || _a === void 0 ? void 0 : _a.supportDescriptionHighlights) {\n                this.descriptionNode = new HighlightedLabel(dom.append(descriptionContainer.element, dom.$('span.label-description')), { supportIcons: !!this.creationOptions.supportIcons });\n            }\n            else {\n                this.descriptionNode = this._register(new FastLabelNode(dom.append(descriptionContainer.element, dom.$('span.label-description'))));\n            }\n        }\n        return this.descriptionNode;\n    }\n}\nclass Label {\n    constructor(container) {\n        this.container = container;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\n            }\n            this.singleLabel.textContent = label;\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                dom.append(this.container, dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' }, l));\n                if (i < label.length - 1) {\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n                }\n            }\n        }\n    }\n}\nfunction splitMatches(labels, separator, matches) {\n    if (!matches) {\n        return undefined;\n    }\n    let labelStart = 0;\n    return labels.map(label => {\n        const labelRange = { start: labelStart, end: labelStart + label.length };\n        const result = matches\n            .map(match => Range.intersect(labelRange, match))\n            .filter(range => !Range.isEmpty(range))\n            .map(({ start, end }) => ({ start: start - labelStart, end: end - labelStart }));\n        labelStart = labelRange.end + separator.length;\n        return result;\n    });\n}\nclass LabelWithHighlights {\n    constructor(container, supportIcons) {\n        this.container = container;\n        this.supportIcons = supportIcons;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), { supportIcons: this.supportIcons });\n            }\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n            const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const m = matches ? matches[i] : undefined;\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                const name = dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' });\n                const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), { supportIcons: this.supportIcons });\n                highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                if (i < label.length - 1) {\n                    dom.append(name, dom.$('span.label-separator', undefined, separator));\n                }\n            }\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../dom.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { isMarkdownString } from '../../../common/htmlContent.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isFunction, isString } from '../../../common/types.js';\nimport { localize } from '../../../../nls.js';\nexport function setupNativeHover(htmlElement, tooltip) {\n    if (isString(tooltip)) {\n        // Icons don't render in the native hover so we strip them out\n        htmlElement.title = stripIcons(tooltip);\n    }\n    else if (tooltip === null || tooltip === void 0 ? void 0 : tooltip.markdownNotSupportedFallback) {\n        htmlElement.title = tooltip.markdownNotSupportedFallback;\n    }\n    else {\n        htmlElement.removeAttribute('title');\n    }\n}\nclass UpdatableHoverWidget {\n    constructor(hoverDelegate, target, fadeInAnimation) {\n        this.hoverDelegate = hoverDelegate;\n        this.target = target;\n        this.fadeInAnimation = fadeInAnimation;\n    }\n    update(content, focus, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cancellationTokenSource) {\n                // there's an computation ongoing, cancel it\n                this._cancellationTokenSource.dispose(true);\n                this._cancellationTokenSource = undefined;\n            }\n            if (this.isDisposed) {\n                return;\n            }\n            let resolvedContent;\n            if (content === undefined || isString(content) || content instanceof HTMLElement) {\n                resolvedContent = content;\n            }\n            else if (!isFunction(content.markdown)) {\n                resolvedContent = (_a = content.markdown) !== null && _a !== void 0 ? _a : content.markdownNotSupportedFallback;\n            }\n            else {\n                // compute the content, potentially long-running\n                // show 'Loading' if no hover is up yet\n                if (!this._hoverWidget) {\n                    this.show(localize('iconLabel.loading', \"Loading...\"), focus);\n                }\n                // compute the content\n                this._cancellationTokenSource = new CancellationTokenSource();\n                const token = this._cancellationTokenSource.token;\n                resolvedContent = yield content.markdown(token);\n                if (resolvedContent === undefined) {\n                    resolvedContent = content.markdownNotSupportedFallback;\n                }\n                if (this.isDisposed || token.isCancellationRequested) {\n                    // either the widget has been closed in the meantime\n                    // or there has been a new call to `update`\n                    return;\n                }\n            }\n            this.show(resolvedContent, focus, options);\n        });\n    }\n    show(content, focus, options) {\n        const oldHoverWidget = this._hoverWidget;\n        if (this.hasContent(content)) {\n            const hoverOptions = Object.assign({ content, target: this.target, showPointer: this.hoverDelegate.placement === 'element', hoverPosition: 2 /* HoverPosition.BELOW */, skipFadeInAnimation: !this.fadeInAnimation || !!oldHoverWidget }, options);\n            this._hoverWidget = this.hoverDelegate.showHover(hoverOptions, focus);\n        }\n        oldHoverWidget === null || oldHoverWidget === void 0 ? void 0 : oldHoverWidget.dispose();\n    }\n    hasContent(content) {\n        if (!content) {\n            return false;\n        }\n        if (isMarkdownString(content)) {\n            return !!content.value;\n        }\n        return true;\n    }\n    get isDisposed() {\n        var _a;\n        return (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.isDisposed;\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._cancellationTokenSource) === null || _b === void 0 ? void 0 : _b.dispose(true);\n        this._cancellationTokenSource = undefined;\n    }\n}\nexport function setupCustomHover(hoverDelegate, htmlElement, content, options) {\n    let hoverPreparation;\n    let hoverWidget;\n    const hideHover = (disposeWidget, disposePreparation) => {\n        var _a;\n        const hadHover = hoverWidget !== undefined;\n        if (disposeWidget) {\n            hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.dispose();\n            hoverWidget = undefined;\n        }\n        if (disposePreparation) {\n            hoverPreparation === null || hoverPreparation === void 0 ? void 0 : hoverPreparation.dispose();\n            hoverPreparation = undefined;\n        }\n        if (hadHover) {\n            (_a = hoverDelegate.onDidHideHover) === null || _a === void 0 ? void 0 : _a.call(hoverDelegate);\n        }\n    };\n    const triggerShowHover = (delay, focus, target) => {\n        return new TimeoutTimer(() => __awaiter(this, void 0, void 0, function* () {\n            if (!hoverWidget || hoverWidget.isDisposed) {\n                hoverWidget = new UpdatableHoverWidget(hoverDelegate, target || htmlElement, delay > 0);\n                yield hoverWidget.update(content, focus, options);\n            }\n        }), delay);\n    };\n    const onMouseOver = () => {\n        if (hoverPreparation) {\n            return;\n        }\n        const toDispose = new DisposableStore();\n        const onMouseLeave = (e) => hideHover(false, e.fromElement === htmlElement);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_LEAVE, onMouseLeave, true));\n        const onMouseDown = () => hideHover(true, true);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_DOWN, onMouseDown, true));\n        const target = {\n            targetElements: [htmlElement],\n            dispose: () => { }\n        };\n        if (hoverDelegate.placement === undefined || hoverDelegate.placement === 'mouse') {\n            // track the mouse position\n            const onMouseMove = (e) => {\n                target.x = e.x + 10;\n                if ((e.target instanceof HTMLElement) && e.target.classList.contains('action-label')) {\n                    hideHover(true, true);\n                }\n            };\n            toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_MOVE, onMouseMove, true));\n        }\n        toDispose.add(triggerShowHover(hoverDelegate.delay, false, target));\n        hoverPreparation = toDispose;\n    };\n    const mouseOverDomEmitter = dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_OVER, onMouseOver, true);\n    const hover = {\n        show: focus => {\n            hideHover(false, true); // terminate a ongoing mouse over preparation\n            triggerShowHover(0, focus); // show hover immediately\n        },\n        hide: () => {\n            hideHover(true, true);\n        },\n        update: (newContent, hoverOptions) => __awaiter(this, void 0, void 0, function* () {\n            content = newContent;\n            yield (hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.update(content, undefined, hoverOptions));\n        }),\n        dispose: () => {\n            mouseOverDomEmitter.dispose();\n            hideHover(true, true);\n        }\n    };\n    return hover;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nconst labelWithIconsRegex = new RegExp(`(\\\\\\\\)?\\\\$\\\\((${ThemeIcon.iconNameExpression}(?:${ThemeIcon.iconModifierExpression})?)\\\\)`, 'g');\nexport function renderLabelWithIcons(text) {\n    const elements = new Array();\n    let match;\n    let textStart = 0, textStop = 0;\n    while ((match = labelWithIconsRegex.exec(text)) !== null) {\n        textStop = match.index || 0;\n        if (textStart < textStop) {\n            elements.push(text.substring(textStart, textStop));\n        }\n        textStart = (match.index || 0) + match[0].length;\n        const [, escaped, codicon] = match;\n        elements.push(escaped ? `$(${codicon})` : renderIcon({ id: codicon }));\n    }\n    if (textStart < text.length) {\n        elements.push(text.substring(textStart));\n    }\n    return elements;\n}\nexport function renderIcon(icon) {\n    const node = dom.$(`span`);\n    node.classList.add(...ThemeIcon.asClassNameArray(icon));\n    return node;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedInboxStyles = {\n    inputBackground: '#3C3C3C',\n    inputForeground: '#CCCCCC',\n    inputValidationInfoBorder: '#55AAFF',\n    inputValidationInfoBackground: '#063B49',\n    inputValidationWarningBorder: '#B89500',\n    inputValidationWarningBackground: '#352A05',\n    inputValidationErrorBorder: '#BE1100',\n    inputValidationErrorBackground: '#5A1D1D',\n    inputBorder: undefined,\n    inputValidationErrorForeground: undefined,\n    inputValidationInfoForeground: undefined,\n    inputValidationWarningForeground: undefined\n};\nexport class InputBox extends Widget {\n    constructor(container, contextViewProvider, options) {\n        var _a;\n        super();\n        this.state = 'idle';\n        this.maxHeight = Number.POSITIVE_INFINITY;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        this._onDidHeightChange = this._register(new Emitter());\n        this.onDidHeightChange = this._onDidHeightChange.event;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options;\n        this.message = null;\n        this.placeholder = this.options.placeholder || '';\n        this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : (this.placeholder || '');\n        this.ariaLabel = this.options.ariaLabel || '';\n        if (this.options.validationOptions) {\n            this.validation = this.options.validationOptions.validation;\n        }\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        const tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n        const wrapper = dom.append(this.element, $('.ibwrapper'));\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n        this.input.setAttribute('autocorrect', 'off');\n        this.input.setAttribute('autocapitalize', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n        if (this.options.flexibleHeight) {\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n            this.mirror = dom.append(wrapper, $('div.mirror'));\n            this.mirror.innerText = '\\u00a0';\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* ScrollbarVisibility.Auto */ });\n            if (this.options.flexibleWidth) {\n                this.input.setAttribute('wrap', 'off');\n                this.mirror.style.whiteSpace = 'pre';\n                this.mirror.style.wordWrap = 'initial';\n            }\n            dom.append(container, this.scrollableElement.getDomNode());\n            this._register(this.scrollableElement);\n            // from ScrollableElement to DOM\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n            const onSelectionChange = this._register(new DomEmitter(document, 'selectionchange'));\n            const onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n                const selection = document.getSelection();\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n            });\n            // from DOM to ScrollableElement\n            this._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n        }\n        else {\n            this.input.type = this.options.type || 'text';\n            this.input.setAttribute('wrap', 'off');\n        }\n        if (this.ariaLabel) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        if (this.placeholder && !this.options.showPlaceholderOnFocus) {\n            this.setPlaceHolder(this.placeholder);\n        }\n        if (this.tooltip) {\n            this.setTooltip(this.tooltip);\n        }\n        this.oninput(this.input, () => this.onValueChange());\n        this.onblur(this.input, () => this.onBlur());\n        this.onfocus(this.input, () => this.onFocus());\n        this._register(this.ignoreGesture(this.input));\n        setTimeout(() => this.updateMirror(), 0);\n        // Support actions\n        if (this.options.actions) {\n            this.actionbar = this._register(new ActionBar(this.element));\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\n        }\n        this.applyStyles();\n    }\n    onBlur() {\n        this._hideMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', '');\n        }\n    }\n    onFocus() {\n        this._showMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', this.placeholder || '');\n        }\n    }\n    setPlaceHolder(placeHolder) {\n        this.placeholder = placeHolder;\n        this.input.setAttribute('placeholder', placeHolder);\n    }\n    setTooltip(tooltip) {\n        this.tooltip = tooltip;\n        this.input.title = tooltip;\n    }\n    setAriaLabel(label) {\n        this.ariaLabel = label;\n        if (label) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        else {\n            this.input.removeAttribute('aria-label');\n        }\n    }\n    getAriaLabel() {\n        return this.ariaLabel;\n    }\n    get inputElement() {\n        return this.input;\n    }\n    get value() {\n        return this.input.value;\n    }\n    set value(newValue) {\n        if (this.input.value !== newValue) {\n            this.input.value = newValue;\n            this.onValueChange();\n        }\n    }\n    get height() {\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    }\n    focus() {\n        this.input.focus();\n    }\n    blur() {\n        this.input.blur();\n    }\n    hasFocus() {\n        return document.activeElement === this.input;\n    }\n    select(range = null) {\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n            if (range.end === this.input.value.length) {\n                this.input.scrollLeft = this.input.scrollWidth;\n            }\n        }\n    }\n    isSelectionAtEnd() {\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n    }\n    enable() {\n        this.input.removeAttribute('disabled');\n    }\n    disable() {\n        this.blur();\n        this.input.disabled = true;\n        this._hideMessage();\n    }\n    set paddingRight(paddingRight) {\n        // Set width to avoid hint text overlapping buttons\n        this.input.style.width = `calc(100% - ${paddingRight}px)`;\n        if (this.mirror) {\n            this.mirror.style.paddingRight = paddingRight + 'px';\n        }\n    }\n    updateScrollDimensions() {\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n            return;\n        }\n        const scrollHeight = this.cachedContentHeight;\n        const height = this.cachedHeight;\n        const scrollTop = this.input.scrollTop;\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\n        this.scrollableElement.setScrollPosition({ scrollTop });\n    }\n    showMessage(message, force) {\n        this.message = message;\n        this.element.classList.remove('idle');\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add(this.classForType(message.type));\n        const styles = this.stylesForType(this.message.type);\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(styles.border, 'transparent')}`;\n        if (this.message.content && (this.hasFocus() || force)) {\n            this._showMessage();\n        }\n    }\n    hideMessage() {\n        this.message = null;\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add('idle');\n        this._hideMessage();\n        this.applyStyles();\n    }\n    validate() {\n        let errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n    }\n    stylesForType(type) {\n        const styles = this.options.inputBoxStyles;\n        switch (type) {\n            case 1 /* MessageType.INFO */: return { border: styles.inputValidationInfoBorder, background: styles.inputValidationInfoBackground, foreground: styles.inputValidationInfoForeground };\n            case 2 /* MessageType.WARNING */: return { border: styles.inputValidationWarningBorder, background: styles.inputValidationWarningBackground, foreground: styles.inputValidationWarningForeground };\n            default: return { border: styles.inputValidationErrorBorder, background: styles.inputValidationErrorBackground, foreground: styles.inputValidationErrorForeground };\n        }\n    }\n    classForType(type) {\n        switch (type) {\n            case 1 /* MessageType.INFO */: return 'info';\n            case 2 /* MessageType.WARNING */: return 'warning';\n            default: return 'error';\n        }\n    }\n    _showMessage() {\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        let div;\n        const layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.element,\n            anchorAlignment: 1 /* AnchorAlignment.RIGHT */,\n            render: (container) => {\n                var _a, _b;\n                if (!this.message) {\n                    return null;\n                }\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                const renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                const spanElement = (this.message.formatContent\n                    ? renderFormattedText(this.message.content, renderOptions)\n                    : renderText(this.message.content, renderOptions));\n                spanElement.classList.add(this.classForType(this.message.type));\n                const styles = this.stylesForType(this.message.type);\n                spanElement.style.backgroundColor = (_a = styles.background) !== null && _a !== void 0 ? _a : '';\n                spanElement.style.color = (_b = styles.foreground) !== null && _b !== void 0 ? _b : '';\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n                dom.append(div, spanElement);\n                return null;\n            },\n            onHide: () => {\n                this.state = 'closed';\n            },\n            layout: layout\n        });\n        // ARIA Support\n        let alertText;\n        if (this.message.type === 3 /* MessageType.ERROR */) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n        }\n        else if (this.message.type === 2 /* MessageType.WARNING */) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n        }\n        aria.alert(alertText);\n        this.state = 'open';\n    }\n    _hideMessage() {\n        if (!this.contextViewProvider) {\n            return;\n        }\n        if (this.state === 'open') {\n            this.contextViewProvider.hideContextView();\n        }\n        this.state = 'idle';\n    }\n    onValueChange() {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        this.input.classList.toggle('empty', !this.value);\n        if (this.state === 'open' && this.contextViewProvider) {\n            this.contextViewProvider.layout();\n        }\n    }\n    updateMirror() {\n        if (!this.mirror) {\n            return;\n        }\n        const value = this.value;\n        const lastCharCode = value.charCodeAt(value.length - 1);\n        const suffix = lastCharCode === 10 ? ' ' : '';\n        const mirrorTextContent = (value + suffix)\n            .replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n        if (mirrorTextContent) {\n            this.mirror.textContent = value + suffix;\n        }\n        else {\n            this.mirror.innerText = '\\u00a0';\n        }\n        this.layout();\n    }\n    applyStyles() {\n        var _a, _b, _c;\n        const styles = this.options.inputBoxStyles;\n        const background = (_a = styles.inputBackground) !== null && _a !== void 0 ? _a : '';\n        const foreground = (_b = styles.inputForeground) !== null && _b !== void 0 ? _b : '';\n        const border = (_c = styles.inputBorder) !== null && _c !== void 0 ? _c : '';\n        this.element.style.backgroundColor = background;\n        this.element.style.color = foreground;\n        this.input.style.backgroundColor = 'inherit';\n        this.input.style.color = foreground;\n        // there's always a border, even if the color is not set.\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(border, 'transparent')}`;\n    }\n    layout() {\n        if (!this.mirror) {\n            return;\n        }\n        const previousHeight = this.cachedContentHeight;\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedContentHeight) {\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedContentHeight);\n        }\n    }\n    insertAtCursor(text) {\n        const inputElement = this.inputElement;\n        const start = inputElement.selectionStart;\n        const end = inputElement.selectionEnd;\n        const content = inputElement.value;\n        if (start !== null && end !== null) {\n            this.value = content.substr(0, start) + text + content.substr(end);\n            inputElement.setSelectionRange(start + 1, start + 1);\n            this.layout();\n        }\n    }\n    dispose() {\n        var _a;\n        this._hideMessage();\n        this.message = null;\n        (_a = this.actionbar) === null || _a === void 0 ? void 0 : _a.dispose();\n        super.dispose();\n    }\n}\nexport class HistoryInputBox extends InputBox {\n    constructor(container, contextViewProvider, options) {\n        const NLS_PLACEHOLDER_HISTORY_HINT = nls.localize({ key: 'history.inputbox.hint', comment: ['Text will be prefixed with \\u21C5 plus a single space, then used as a hint where input field keeps history'] }, \"for history\");\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX = ` or \\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT}`;\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = ` (\\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT})`;\n        super(container, contextViewProvider, options);\n        this._onDidFocus = this._register(new Emitter());\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this.history = new HistoryNavigator(options.history, 100);\n        // Function to append the history suffix to the placeholder if necessary\n        const addSuffix = () => {\n            if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n                const suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n                const suffixedPlaceholder = this.placeholder + suffix;\n                if (options.showPlaceholderOnFocus && document.activeElement !== this.input) {\n                    this.placeholder = suffixedPlaceholder;\n                }\n                else {\n                    this.setPlaceHolder(suffixedPlaceholder);\n                }\n            }\n        };\n        // Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n        // and add the history suffix to the placeholder if not yet present\n        this.observer = new MutationObserver((mutationList, observer) => {\n            mutationList.forEach((mutation) => {\n                if (!mutation.target.textContent) {\n                    addSuffix();\n                }\n            });\n        });\n        this.observer.observe(this.input, { attributeFilter: ['class'] });\n        this.onfocus(this.input, () => addSuffix());\n        this.onblur(this.input, () => {\n            const resetPlaceholder = (historyHint) => {\n                if (!this.placeholder.endsWith(historyHint)) {\n                    return false;\n                }\n                else {\n                    const revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n                    if (options.showPlaceholderOnFocus) {\n                        this.placeholder = revertedPlaceholder;\n                    }\n                    else {\n                        this.setPlaceHolder(revertedPlaceholder);\n                    }\n                    return true;\n                }\n            };\n            if (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n                resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = undefined;\n        }\n    }\n    addToHistory(always) {\n        if (this.value && (always || this.value !== this.getCurrentValue())) {\n            this.history.add(this.value);\n        }\n    }\n    isAtLastInHistory() {\n        return this.history.isLast();\n    }\n    isNowhereInHistory() {\n        return this.history.isNowhere();\n    }\n    showNextValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let next = this.getNextValue();\n        if (next) {\n            next = next === this.value ? this.getNextValue() : next;\n        }\n        if (next) {\n            this.value = next;\n            aria.status(this.value);\n        }\n    }\n    showPreviousValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let previous = this.getPreviousValue();\n        if (previous) {\n            previous = previous === this.value ? this.getPreviousValue() : previous;\n        }\n        if (previous) {\n            this.value = previous;\n            aria.status(this.value);\n        }\n    }\n    onBlur() {\n        super.onBlur();\n        this._onDidBlur.fire();\n    }\n    onFocus() {\n        super.onFocus();\n        this._onDidFocus.fire();\n    }\n    getCurrentValue() {\n        let currentValue = this.history.current();\n        if (!currentValue) {\n            currentValue = this.history.last();\n            this.history.next();\n        }\n        return currentValue;\n    }\n    getPreviousValue() {\n        return this.history.previous() || this.history.first();\n    }\n    getNextValue() {\n        return this.history.next() || this.history.last();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport { equals } from '../../../common/objects.js';\nimport './keybindingLabel.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedKeybindingLabelOptions = {\n    keybindingLabelBackground: undefined,\n    keybindingLabelForeground: undefined,\n    keybindingLabelBorder: undefined,\n    keybindingLabelBottomBorder: undefined,\n    keybindingLabelShadow: undefined\n};\nexport class KeybindingLabel {\n    constructor(container, os, options) {\n        this.os = os;\n        this.keyElements = new Set();\n        this.options = options || Object.create(null);\n        const labelForeground = this.options.keybindingLabelForeground;\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\n        if (labelForeground) {\n            this.domNode.style.color = labelForeground;\n        }\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    get element() {\n        return this.domNode;\n    }\n    set(keybinding, matches) {\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n            return;\n        }\n        this.keybinding = keybinding;\n        this.matches = matches;\n        this.render();\n    }\n    render() {\n        var _a;\n        this.clear();\n        if (this.keybinding) {\n            const [firstChord, secondChord] = this.keybinding.getChords(); // TODO@chords\n            if (firstChord) {\n                this.renderChord(this.domNode, firstChord, this.matches ? this.matches.firstPart : null);\n            }\n            if (secondChord) {\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n                this.renderChord(this.domNode, secondChord, this.matches ? this.matches.chordPart : null);\n            }\n            const title = ((_a = this.options.disableTitle) !== null && _a !== void 0 ? _a : false) ? undefined : this.keybinding.getAriaLabel() || undefined;\n            if (title !== undefined) {\n                this.domNode.title = title;\n            }\n            else {\n                this.domNode.removeAttribute('title');\n            }\n        }\n        else if (this.options && this.options.renderUnboundKeybindings) {\n            this.renderUnbound(this.domNode);\n        }\n        this.didEverRender = true;\n    }\n    clear() {\n        dom.clearNode(this.domNode);\n        this.keyElements.clear();\n    }\n    renderChord(parent, chord, match) {\n        const modifierLabels = UILabelProvider.modifierLabels[this.os];\n        if (chord.ctrlKey) {\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\n        }\n        if (chord.shiftKey) {\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\n        }\n        if (chord.altKey) {\n            this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\n        }\n        if (chord.metaKey) {\n            this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\n        }\n        const keyLabel = chord.keyLabel;\n        if (keyLabel) {\n            this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\n        }\n    }\n    renderKey(parent, label, highlight, separator) {\n        dom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n        if (separator) {\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n        }\n    }\n    renderUnbound(parent) {\n        dom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n    }\n    createKeyElement(label, extraClass = '') {\n        const keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n        this.keyElements.add(keyElement);\n        if (this.options.keybindingLabelBackground) {\n            keyElement.style.backgroundColor = this.options.keybindingLabelBackground;\n        }\n        if (this.options.keybindingLabelBorder) {\n            keyElement.style.borderColor = this.options.keybindingLabelBorder;\n        }\n        if (this.options.keybindingLabelBottomBorder) {\n            keyElement.style.borderBottomColor = this.options.keybindingLabelBottomBorder;\n        }\n        if (this.options.keybindingLabelShadow) {\n            keyElement.style.boxShadow = `inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;\n        }\n        return keyElement;\n    }\n    static areSame(a, b) {\n        if (a === b || (!a && !b)) {\n            return true;\n        }\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { range } from '../../../common/arrays.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './list.css';\nimport { List } from './listWidget.js';\nclass PagedRenderer {\n    get templateId() { return this.renderer.templateId; }\n    constructor(renderer, modelProvider) {\n        this.renderer = renderer;\n        this.modelProvider = modelProvider;\n    }\n    renderTemplate(container) {\n        const data = this.renderer.renderTemplate(container);\n        return { data, disposable: Disposable.None };\n    }\n    renderElement(index, _, data, height) {\n        var _a;\n        (_a = data.disposable) === null || _a === void 0 ? void 0 : _a.dispose();\n        if (!data.data) {\n            return;\n        }\n        const model = this.modelProvider();\n        if (model.isResolved(index)) {\n            return this.renderer.renderElement(model.get(index), index, data.data, height);\n        }\n        const cts = new CancellationTokenSource();\n        const promise = model.resolve(index, cts.token);\n        data.disposable = { dispose: () => cts.cancel() };\n        this.renderer.renderPlaceholder(index, data.data);\n        promise.then(entry => this.renderer.renderElement(entry, index, data.data, height));\n    }\n    disposeTemplate(data) {\n        if (data.disposable) {\n            data.disposable.dispose();\n            data.disposable = undefined;\n        }\n        if (data.data) {\n            this.renderer.disposeTemplate(data.data);\n            data.data = undefined;\n        }\n    }\n}\nclass PagedAccessibilityProvider {\n    constructor(modelProvider, accessibilityProvider) {\n        this.modelProvider = modelProvider;\n        this.accessibilityProvider = accessibilityProvider;\n    }\n    getWidgetAriaLabel() {\n        return this.accessibilityProvider.getWidgetAriaLabel();\n    }\n    getAriaLabel(index) {\n        const model = this.modelProvider();\n        if (!model.isResolved(index)) {\n            return null;\n        }\n        return this.accessibilityProvider.getAriaLabel(model.get(index));\n    }\n}\nfunction fromPagedListOptions(modelProvider, options) {\n    return Object.assign(Object.assign({}, options), { accessibilityProvider: options.accessibilityProvider && new PagedAccessibilityProvider(modelProvider, options.accessibilityProvider) });\n}\nexport class PagedList {\n    constructor(user, container, virtualDelegate, renderers, options = {}) {\n        const modelProvider = () => this.model;\n        const pagedRenderers = renderers.map(r => new PagedRenderer(r, modelProvider));\n        this.list = new List(user, container, virtualDelegate, pagedRenderers, fromPagedListOptions(modelProvider, options));\n    }\n    updateOptions(options) {\n        this.list.updateOptions(options);\n    }\n    getHTMLElement() {\n        return this.list.getHTMLElement();\n    }\n    get onDidFocus() {\n        return this.list.onDidFocus;\n    }\n    get onDidDispose() {\n        return this.list.onDidDispose;\n    }\n    get onMouseDblClick() {\n        return Event.map(this.list.onMouseDblClick, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onPointer() {\n        return Event.map(this.list.onPointer, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, ({ elements, indexes, browserEvent }) => ({ elements: elements.map(e => this._model.get(e)), indexes, browserEvent }));\n    }\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this._model = model;\n        this.list.splice(0, this.list.length, range(model.length));\n    }\n    getFocus() {\n        return this.list.getFocus();\n    }\n    getSelection() {\n        return this.list.getSelection();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.model.get(i));\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    dispose() {\n        this.list.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/range.js';\n/**\n * Returns the intersection between a ranged group and a range.\n * Returns `[]` if the intersection is empty.\n */\nexport function groupIntersect(range, groups) {\n    const result = [];\n    for (const r of groups) {\n        if (range.start >= r.range.end) {\n            continue;\n        }\n        if (range.end < r.range.start) {\n            break;\n        }\n        const intersection = Range.intersect(range, r.range);\n        if (Range.isEmpty(intersection)) {\n            continue;\n        }\n        result.push({\n            range: intersection,\n            size: r.size\n        });\n    }\n    return result;\n}\n/**\n * Shifts a range by that `much`.\n */\nexport function shift({ start, end }, much) {\n    return { start: start + much, end: end + much };\n}\n/**\n * Consolidates a collection of ranged groups.\n *\n * Consolidation is the process of merging consecutive ranged groups\n * that share the same `size`.\n */\nexport function consolidate(groups) {\n    const result = [];\n    let previousGroup = null;\n    for (const group of groups) {\n        const start = group.range.start;\n        const end = group.range.end;\n        const size = group.size;\n        if (previousGroup && size === previousGroup.size) {\n            previousGroup.range.end = end;\n            continue;\n        }\n        previousGroup = { range: { start, end }, size };\n        result.push(previousGroup);\n    }\n    return result;\n}\n/**\n * Concatenates several collections of ranged groups into a single\n * collection.\n */\nfunction concat(...groups) {\n    return consolidate(groups.reduce((r, g) => r.concat(g), []));\n}\nexport class RangeMap {\n    constructor() {\n        this.groups = [];\n        this._size = 0;\n    }\n    splice(index, deleteCount, items = []) {\n        const diff = items.length - deleteCount;\n        const before = groupIntersect({ start: 0, end: index }, this.groups);\n        const after = groupIntersect({ start: index + deleteCount, end: Number.POSITIVE_INFINITY }, this.groups)\n            .map(g => ({ range: shift(g.range, diff), size: g.size }));\n        const middle = items.map((item, i) => ({\n            range: { start: index + i, end: index + i + 1 },\n            size: item.size\n        }));\n        this.groups = concat(before, middle, after);\n        this._size = this.groups.reduce((t, g) => t + (g.size * (g.range.end - g.range.start)), 0);\n    }\n    /**\n     * Returns the number of items in the range map.\n     */\n    get count() {\n        const len = this.groups.length;\n        if (!len) {\n            return 0;\n        }\n        return this.groups[len - 1].range.end;\n    }\n    /**\n     * Returns the sum of the sizes of all items in the range map.\n     */\n    get size() {\n        return this._size;\n    }\n    /**\n     * Returns the index of the item at the given position.\n     */\n    indexAt(position) {\n        if (position < 0) {\n            return -1;\n        }\n        let index = 0;\n        let size = 0;\n        for (const group of this.groups) {\n            const count = group.range.end - group.range.start;\n            const newSize = size + (count * group.size);\n            if (position < newSize) {\n                return index + Math.floor((position - size) / group.size);\n            }\n            index += count;\n            size = newSize;\n        }\n        return index;\n    }\n    /**\n     * Returns the index of the item right after the item at the\n     * index of the given position.\n     */\n    indexAfter(position) {\n        return Math.min(this.indexAt(position) + 1, this.count);\n    }\n    /**\n     * Returns the start position of the item at the given index.\n     */\n    positionAt(index) {\n        if (index < 0) {\n            return -1;\n        }\n        let position = 0;\n        let count = 0;\n        for (const group of this.groups) {\n            const groupCount = group.range.end - group.range.start;\n            const newCount = count + groupCount;\n            if (index < newCount) {\n                return position + ((index - count) * group.size);\n            }\n            position += groupCount * group.size;\n            count = newCount;\n        }\n        return -1;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $ } from '../../dom.js';\nfunction removeFromParent(element) {\n    var _a;\n    try {\n        (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(element);\n    }\n    catch (e) {\n        // this will throw if this happens due to a blur event, nasty business\n    }\n}\nexport class RowCache {\n    constructor(renderers) {\n        this.renderers = renderers;\n        this.cache = new Map();\n        this.transactionNodesPendingRemoval = new Set();\n        this.inTransaction = false;\n    }\n    /**\n     * Returns a row either by creating a new one or reusing\n     * a previously released row which shares the same templateId.\n     *\n     * @returns A row and `isReusingConnectedDomNode` if the row's node is already in the dom in a stale position.\n     */\n    alloc(templateId) {\n        let result = this.getTemplateCache(templateId).pop();\n        let isStale = false;\n        if (result) {\n            isStale = this.transactionNodesPendingRemoval.has(result.domNode);\n            if (isStale) {\n                this.transactionNodesPendingRemoval.delete(result.domNode);\n            }\n        }\n        else {\n            const domNode = $('.monaco-list-row');\n            const renderer = this.getRenderer(templateId);\n            const templateData = renderer.renderTemplate(domNode);\n            result = { domNode, templateId, templateData };\n        }\n        return { row: result, isReusingConnectedDomNode: isStale };\n    }\n    /**\n     * Releases the row for eventual reuse.\n     */\n    release(row) {\n        if (!row) {\n            return;\n        }\n        this.releaseRow(row);\n    }\n    /**\n     * Begin a set of changes that use the cache. This lets us skip work when a row is removed and then inserted again.\n     */\n    transact(makeChanges) {\n        if (this.inTransaction) {\n            throw new Error('Already in transaction');\n        }\n        this.inTransaction = true;\n        try {\n            makeChanges();\n        }\n        finally {\n            for (const domNode of this.transactionNodesPendingRemoval) {\n                this.doRemoveNode(domNode);\n            }\n            this.transactionNodesPendingRemoval.clear();\n            this.inTransaction = false;\n        }\n    }\n    releaseRow(row) {\n        const { domNode, templateId } = row;\n        if (domNode) {\n            if (this.inTransaction) {\n                this.transactionNodesPendingRemoval.add(domNode);\n            }\n            else {\n                this.doRemoveNode(domNode);\n            }\n        }\n        const cache = this.getTemplateCache(templateId);\n        cache.push(row);\n    }\n    doRemoveNode(domNode) {\n        domNode.classList.remove('scrolling');\n        removeFromParent(domNode);\n    }\n    getTemplateCache(templateId) {\n        let result = this.cache.get(templateId);\n        if (!result) {\n            result = [];\n            this.cache.set(templateId, result);\n        }\n        return result;\n    }\n    dispose() {\n        this.cache.forEach((cachedRows, templateId) => {\n            for (const cachedRow of cachedRows) {\n                const renderer = this.getRenderer(templateId);\n                renderer.disposeTemplate(cachedRow.templateData);\n                cachedRow.templateData = null;\n            }\n        });\n        this.cache.clear();\n        this.transactionNodesPendingRemoval.clear();\n    }\n    getRenderer(templateId) {\n        const renderer = this.renderers.get(templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for ${templateId}`);\n        }\n        return renderer;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, animate, getContentHeight, getContentWidth, getTopLeftOffset, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, dispose, toDisposable } from '../../../common/lifecycle.js';\nimport { Range } from '../../../common/range.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport { RangeMap, shift } from './rangeMap.js';\nimport { RowCache } from './rowCache.js';\nimport { BugIndicatingError } from '../../../common/errors.js';\nconst StaticDND = {\n    CurrentDragAndDropData: undefined\n};\nconst DefaultOptions = {\n    useShadows: true,\n    verticalScrollMode: 1 /* ScrollbarVisibility.Auto */,\n    setRowLineHeight: true,\n    setRowHeight: true,\n    supportDynamicHeights: false,\n    dnd: {\n        getDragElements(e) { return [e]; },\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    },\n    horizontalScrolling: false,\n    transformOptimization: true,\n    alwaysConsumeMouseWheel: true,\n};\nexport class ElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class ExternalElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class NativeDragAndDropData {\n    constructor() {\n        this.types = [];\n        this.files = [];\n    }\n    update(dataTransfer) {\n        if (dataTransfer.types) {\n            this.types.splice(0, this.types.length, ...dataTransfer.types);\n        }\n        if (dataTransfer.files) {\n            this.files.splice(0, this.files.length);\n            for (let i = 0; i < dataTransfer.files.length; i++) {\n                const file = dataTransfer.files.item(i);\n                if (file && (file.size || file.type)) {\n                    this.files.push(file);\n                }\n            }\n        }\n    }\n    getData() {\n        return {\n            types: this.types,\n            files: this.files\n        };\n    }\n}\nfunction equalsDragFeedback(f1, f2) {\n    if (Array.isArray(f1) && Array.isArray(f2)) {\n        return equals(f1, f2);\n    }\n    return f1 === f2;\n}\nclass ListViewAccessibilityProvider {\n    constructor(accessibilityProvider) {\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getSetSize) {\n            this.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n        }\n        else {\n            this.getSetSize = (e, i, l) => l;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getPosInSet) {\n            this.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n        }\n        else {\n            this.getPosInSet = (e, i) => i + 1;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getRole) {\n            this.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n        }\n        else {\n            this.getRole = _ => 'listitem';\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.isChecked) {\n            this.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n        }\n        else {\n            this.isChecked = _ => undefined;\n        }\n    }\n}\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nclass ListView {\n    get contentHeight() { return this.rangeMap.size; }\n    get horizontalScrolling() { return this._horizontalScrolling; }\n    set horizontalScrolling(value) {\n        if (value === this._horizontalScrolling) {\n            return;\n        }\n        if (value && this.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this._horizontalScrolling = value;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        if (this._horizontalScrolling) {\n            for (const item of this.items) {\n                this.measureItemWidth(item);\n            }\n            this.updateScrollWidth();\n            this.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n            this.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n        }\n        else {\n            this.scrollableElementWidthDelayer.cancel();\n            this.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n            this.rowsContainer.style.width = '';\n        }\n    }\n    constructor(container, virtualDelegate, renderers, options = DefaultOptions) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n        this.virtualDelegate = virtualDelegate;\n        this.domId = `list_id_${++ListView.InstanceCount}`;\n        this.renderers = new Map();\n        this.renderWidth = 0;\n        this._scrollHeight = 0;\n        this.scrollableElementUpdateDisposable = null;\n        this.scrollableElementWidthDelayer = new Delayer(50);\n        this.splicing = false;\n        this.dragOverAnimationStopDisposable = Disposable.None;\n        this.dragOverMouseY = 0;\n        this.canDrop = false;\n        this.currentDragFeedbackDisposable = Disposable.None;\n        this.onDragLeaveTimeout = Disposable.None;\n        this.disposables = new DisposableStore();\n        this._onDidChangeContentHeight = new Emitter();\n        this._horizontalScrolling = false;\n        if (options.horizontalScrolling && options.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this.items = [];\n        this.itemId = 0;\n        this.rangeMap = new RangeMap();\n        for (const renderer of renderers) {\n            this.renderers.set(renderer.templateId, renderer);\n        }\n        this.cache = this.disposables.add(new RowCache(this.renderers));\n        this.lastRenderTop = 0;\n        this.lastRenderHeight = 0;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-list';\n        this.domNode.classList.add(this.domId);\n        this.domNode.tabIndex = 0;\n        this.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n        this._horizontalScrolling = (_a = options.horizontalScrolling) !== null && _a !== void 0 ? _a : DefaultOptions.horizontalScrolling;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        this.additionalScrollHeight = typeof options.additionalScrollHeight === 'undefined' ? 0 : options.additionalScrollHeight;\n        this.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n        this.rowsContainer = document.createElement('div');\n        this.rowsContainer.className = 'monaco-list-rows';\n        const transformOptimization = (_b = options.transformOptimization) !== null && _b !== void 0 ? _b : DefaultOptions.transformOptimization;\n        if (transformOptimization) {\n            this.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n            this.rowsContainer.style.overflow = 'hidden';\n            this.rowsContainer.style.contain = 'strict';\n        }\n        this.disposables.add(Gesture.addTarget(this.rowsContainer));\n        this.scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: ((_c = options.smoothScrolling) !== null && _c !== void 0 ? _c : false) ? 125 : 0,\n            scheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(cb)\n        });\n        this.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n            alwaysConsumeMouseWheel: (_d = options.alwaysConsumeMouseWheel) !== null && _d !== void 0 ? _d : DefaultOptions.alwaysConsumeMouseWheel,\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            vertical: (_e = options.verticalScrollMode) !== null && _e !== void 0 ? _e : DefaultOptions.verticalScrollMode,\n            useShadows: (_f = options.useShadows) !== null && _f !== void 0 ? _f : DefaultOptions.useShadows,\n            mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n            fastScrollSensitivity: options.fastScrollSensitivity,\n            scrollByPage: options.scrollByPage\n        }, this.scrollable));\n        this.domNode.appendChild(this.scrollableElement.getDomNode());\n        container.appendChild(this.domNode);\n        this.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n        this.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e)));\n        // Prevent the monaco-scrollable-element from scrolling\n        // https://github.com/microsoft/vscode/issues/44181\n        this.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => e.target.scrollTop = 0));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n        this.setRowLineHeight = (_g = options.setRowLineHeight) !== null && _g !== void 0 ? _g : DefaultOptions.setRowLineHeight;\n        this.setRowHeight = (_h = options.setRowHeight) !== null && _h !== void 0 ? _h : DefaultOptions.setRowHeight;\n        this.supportDynamicHeights = (_j = options.supportDynamicHeights) !== null && _j !== void 0 ? _j : DefaultOptions.supportDynamicHeights;\n        this.dnd = (_k = options.dnd) !== null && _k !== void 0 ? _k : DefaultOptions.dnd;\n        this.layout((_l = options.initialSize) === null || _l === void 0 ? void 0 : _l.height, (_m = options.initialSize) === null || _m === void 0 ? void 0 : _m.width);\n    }\n    updateOptions(options) {\n        if (options.additionalScrollHeight !== undefined) {\n            this.additionalScrollHeight = options.additionalScrollHeight;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        if (options.smoothScrolling !== undefined) {\n            this.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n        }\n        if (options.horizontalScrolling !== undefined) {\n            this.horizontalScrolling = options.horizontalScrolling;\n        }\n        let scrollableOptions;\n        if (options.scrollByPage !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { scrollByPage: options.scrollByPage });\n        }\n        if (options.mouseWheelScrollSensitivity !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity });\n        }\n        if (options.fastScrollSensitivity !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { fastScrollSensitivity: options.fastScrollSensitivity });\n        }\n        if (scrollableOptions) {\n            this.scrollableElement.updateOptions(scrollableOptions);\n        }\n    }\n    splice(start, deleteCount, elements = []) {\n        if (this.splicing) {\n            throw new Error('Can\\'t run recursive splices.');\n        }\n        this.splicing = true;\n        try {\n            return this._splice(start, deleteCount, elements);\n        }\n        finally {\n            this.splicing = false;\n            this._onDidChangeContentHeight.fire(this.contentHeight);\n        }\n    }\n    _splice(start, deleteCount, elements = []) {\n        const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const deleteRange = { start, end: start + deleteCount };\n        const removeRange = Range.intersect(previousRenderRange, deleteRange);\n        // try to reuse rows, avoid removing them from DOM\n        const rowsToDispose = new Map();\n        for (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n            const item = this.items[i];\n            item.dragStartDisposable.dispose();\n            item.checkedDisposable.dispose();\n            if (item.row) {\n                let rows = rowsToDispose.get(item.templateId);\n                if (!rows) {\n                    rows = [];\n                    rowsToDispose.set(item.templateId, rows);\n                }\n                const renderer = this.renderers.get(item.templateId);\n                if (renderer && renderer.disposeElement) {\n                    renderer.disposeElement(item.element, i, item.row.templateData, item.size);\n                }\n                rows.push(item.row);\n            }\n            item.row = null;\n        }\n        const previousRestRange = { start: start + deleteCount, end: this.items.length };\n        const previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n        const previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n        const inserted = elements.map(element => ({\n            id: String(this.itemId++),\n            element,\n            templateId: this.virtualDelegate.getTemplateId(element),\n            size: this.virtualDelegate.getHeight(element),\n            width: undefined,\n            hasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n            lastDynamicHeightWidth: undefined,\n            row: null,\n            uri: undefined,\n            dropTarget: false,\n            dragStartDisposable: Disposable.None,\n            checkedDisposable: Disposable.None\n        }));\n        let deleted;\n        // TODO@joao: improve this optimization to catch even more cases\n        if (start === 0 && deleteCount >= this.items.length) {\n            this.rangeMap = new RangeMap();\n            this.rangeMap.splice(0, 0, inserted);\n            deleted = this.items;\n            this.items = inserted;\n        }\n        else {\n            this.rangeMap.splice(start, deleteCount, inserted);\n            deleted = this.items.splice(start, deleteCount, ...inserted);\n        }\n        const delta = elements.length - deleteCount;\n        const renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const renderedRestRange = shift(previousRenderedRestRange, delta);\n        const updateRange = Range.intersect(renderRange, renderedRestRange);\n        for (let i = updateRange.start; i < updateRange.end; i++) {\n            this.updateItemInDOM(this.items[i], i);\n        }\n        const removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n        for (const range of removeRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        const unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n        const elementsRange = { start, end: start + elements.length };\n        const insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r));\n        const beforeElement = this.getNextToLastElement(insertRanges);\n        for (const range of insertRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                const item = this.items[i];\n                const rows = rowsToDispose.get(item.templateId);\n                const row = rows === null || rows === void 0 ? void 0 : rows.pop();\n                this.insertItemInDOM(i, beforeElement, row);\n            }\n        }\n        for (const rows of rowsToDispose.values()) {\n            for (const row of rows) {\n                this.cache.release(row);\n            }\n        }\n        this.eventuallyUpdateScrollDimensions();\n        if (this.supportDynamicHeights) {\n            this._rerender(this.scrollTop, this.renderHeight);\n        }\n        return deleted.map(i => i.element);\n    }\n    eventuallyUpdateScrollDimensions() {\n        this._scrollHeight = this.contentHeight;\n        this.rowsContainer.style.height = `${this._scrollHeight}px`;\n        if (!this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(() => {\n                this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n                this.updateScrollWidth();\n                this.scrollableElementUpdateDisposable = null;\n            });\n        }\n    }\n    eventuallyUpdateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            this.scrollableElementWidthDelayer.cancel();\n            return;\n        }\n        this.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n    }\n    updateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            return;\n        }\n        let scrollWidth = 0;\n        for (const item of this.items) {\n            if (typeof item.width !== 'undefined') {\n                scrollWidth = Math.max(scrollWidth, item.width);\n            }\n        }\n        this.scrollWidth = scrollWidth;\n        this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n    }\n    rerender() {\n        if (!this.supportDynamicHeights) {\n            return;\n        }\n        for (const item of this.items) {\n            item.lastDynamicHeightWidth = undefined;\n        }\n        this._rerender(this.lastRenderTop, this.lastRenderHeight);\n    }\n    get length() {\n        return this.items.length;\n    }\n    get renderHeight() {\n        const scrollDimensions = this.scrollableElement.getScrollDimensions();\n        return scrollDimensions.height;\n    }\n    get firstVisibleIndex() {\n        const range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const firstElTop = this.rangeMap.positionAt(range.start);\n        const nextElTop = this.rangeMap.positionAt(range.start + 1);\n        if (nextElTop !== -1) {\n            const firstElMidpoint = (nextElTop - firstElTop) / 2 + firstElTop;\n            if (firstElMidpoint < this.scrollTop) {\n                return range.start + 1;\n            }\n        }\n        return range.start;\n    }\n    element(index) {\n        return this.items[index].element;\n    }\n    domElement(index) {\n        const row = this.items[index].row;\n        return row && row.domNode;\n    }\n    elementHeight(index) {\n        return this.items[index].size;\n    }\n    elementTop(index) {\n        return this.rangeMap.positionAt(index);\n    }\n    indexAt(position) {\n        return this.rangeMap.indexAt(position);\n    }\n    indexAfter(position) {\n        return this.rangeMap.indexAfter(position);\n    }\n    layout(height, width) {\n        const scrollDimensions = {\n            height: typeof height === 'number' ? height : getContentHeight(this.domNode)\n        };\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            scrollDimensions.scrollHeight = this.scrollHeight;\n        }\n        this.scrollableElement.setScrollDimensions(scrollDimensions);\n        if (typeof width !== 'undefined') {\n            this.renderWidth = width;\n            if (this.supportDynamicHeights) {\n                this._rerender(this.scrollTop, this.renderHeight);\n            }\n        }\n        if (this.horizontalScrolling) {\n            this.scrollableElement.setScrollDimensions({\n                width: typeof width === 'number' ? width : getContentWidth(this.domNode)\n            });\n        }\n    }\n    // Render\n    render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth, updateItemsInDOM = false) {\n        const renderRange = this.getRenderRange(renderTop, renderHeight);\n        const rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange);\n        const rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n        const beforeElement = this.getNextToLastElement(rangesToInsert);\n        if (updateItemsInDOM) {\n            const rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n            for (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n                this.updateItemInDOM(this.items[i], i);\n            }\n        }\n        this.cache.transact(() => {\n            for (const range of rangesToRemove) {\n                for (let i = range.start; i < range.end; i++) {\n                    this.removeItemFromDOM(i);\n                }\n            }\n            for (const range of rangesToInsert) {\n                for (let i = range.start; i < range.end; i++) {\n                    this.insertItemInDOM(i, beforeElement);\n                }\n            }\n        });\n        if (renderLeft !== undefined) {\n            this.rowsContainer.style.left = `-${renderLeft}px`;\n        }\n        this.rowsContainer.style.top = `-${renderTop}px`;\n        if (this.horizontalScrolling && scrollWidth !== undefined) {\n            this.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n        }\n        this.lastRenderTop = renderTop;\n        this.lastRenderHeight = renderHeight;\n    }\n    // DOM operations\n    insertItemInDOM(index, beforeElement, row) {\n        const item = this.items[index];\n        let isStale = false;\n        if (!item.row) {\n            if (row) {\n                item.row = row;\n            }\n            else {\n                const result = this.cache.alloc(item.templateId);\n                item.row = result.row;\n                isStale = result.isReusingConnectedDomNode;\n            }\n        }\n        const role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n        item.row.domNode.setAttribute('role', role);\n        const checked = this.accessibilityProvider.isChecked(item.element);\n        if (typeof checked === 'boolean') {\n            item.row.domNode.setAttribute('aria-checked', String(!!checked));\n        }\n        else if (checked) {\n            const update = (checked) => item.row.domNode.setAttribute('aria-checked', String(!!checked));\n            update(checked.value);\n            item.checkedDisposable = checked.onDidChange(update);\n        }\n        if (isStale || !item.row.domNode.parentElement) {\n            if (beforeElement) {\n                this.rowsContainer.insertBefore(item.row.domNode, beforeElement);\n            }\n            else {\n                this.rowsContainer.appendChild(item.row.domNode);\n            }\n        }\n        this.updateItemInDOM(item, index);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for template id ${item.templateId}`);\n        }\n        renderer === null || renderer === void 0 ? void 0 : renderer.renderElement(item.element, index, item.row.templateData, item.size);\n        const uri = this.dnd.getDragURI(item.element);\n        item.dragStartDisposable.dispose();\n        item.row.domNode.draggable = !!uri;\n        if (uri) {\n            item.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n        }\n        if (this.horizontalScrolling) {\n            this.measureItemWidth(item);\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    measureItemWidth(item) {\n        if (!item.row || !item.row.domNode) {\n            return;\n        }\n        item.row.domNode.style.width = 'fit-content';\n        item.width = getContentWidth(item.row.domNode);\n        const style = window.getComputedStyle(item.row.domNode);\n        if (style.paddingLeft) {\n            item.width += parseFloat(style.paddingLeft);\n        }\n        if (style.paddingRight) {\n            item.width += parseFloat(style.paddingRight);\n        }\n        item.row.domNode.style.width = '';\n    }\n    updateItemInDOM(item, index) {\n        item.row.domNode.style.top = `${this.elementTop(index)}px`;\n        if (this.setRowHeight) {\n            item.row.domNode.style.height = `${item.size}px`;\n        }\n        if (this.setRowLineHeight) {\n            item.row.domNode.style.lineHeight = `${item.size}px`;\n        }\n        item.row.domNode.setAttribute('data-index', `${index}`);\n        item.row.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n        item.row.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n        item.row.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n        item.row.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n        item.row.domNode.setAttribute('id', this.getElementDomId(index));\n        item.row.domNode.classList.toggle('drop-target', item.dropTarget);\n    }\n    removeItemFromDOM(index) {\n        const item = this.items[index];\n        item.dragStartDisposable.dispose();\n        item.checkedDisposable.dispose();\n        if (item.row) {\n            const renderer = this.renderers.get(item.templateId);\n            if (renderer && renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, item.row.templateData, item.size);\n            }\n            this.cache.release(item.row);\n            item.row = null;\n        }\n        if (this.horizontalScrolling) {\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    getScrollTop() {\n        const scrollPosition = this.scrollableElement.getScrollPosition();\n        return scrollPosition.scrollTop;\n    }\n    setScrollTop(scrollTop, reuseAnimation) {\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        this.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n    }\n    get scrollTop() {\n        return this.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.additionalScrollHeight;\n    }\n    // Events\n    get onMouseClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseDblClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseMiddleClick() { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e), this.disposables), e => e.browserEvent.button === 1, this.disposables); }\n    get onMouseDown() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOver() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseover')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOut() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseout')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onContextMenu() { return Event.any(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e), this.disposables), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event, e => this.toGestureEvent(e), this.disposables)); }\n    get onTouchStart() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e), this.disposables); }\n    get onTap() { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e), this.disposables); }\n    toMouseEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toTouchEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toGestureEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toDragEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    onScroll(e) {\n        try {\n            const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n            this.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n            if (this.supportDynamicHeights) {\n                this._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n            }\n        }\n        catch (err) {\n            console.error('Got bad scroll event:', e);\n            throw err;\n        }\n    }\n    onTouchChange(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.scrollTop -= event.translationY;\n    }\n    // DND\n    onDragStart(element, uri, event) {\n        var _a, _b;\n        if (!event.dataTransfer) {\n            return;\n        }\n        const elements = this.dnd.getDragElements(element);\n        event.dataTransfer.effectAllowed = 'copyMove';\n        event.dataTransfer.setData(DataTransfers.TEXT, uri);\n        if (event.dataTransfer.setDragImage) {\n            let label;\n            if (this.dnd.getDragLabel) {\n                label = this.dnd.getDragLabel(elements, event);\n            }\n            if (typeof label === 'undefined') {\n                label = String(elements.length);\n            }\n            const dragImage = $('.monaco-drag-image');\n            dragImage.textContent = label;\n            const getDragImageContainer = (e) => {\n                while (e && !e.classList.contains('monaco-workbench')) {\n                    e = e.parentElement;\n                }\n                return e || document.body;\n            };\n            const container = getDragImageContainer(this.domNode);\n            container.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => container.removeChild(dragImage), 0);\n        }\n        this.domNode.classList.add('dragging');\n        this.currentDragData = new ElementsDragAndDropData(elements);\n        StaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event);\n    }\n    onDragOver(event) {\n        var _a;\n        event.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        this.onDragLeaveTimeout.dispose();\n        if (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n            return false;\n        }\n        this.setupDragAndDropScrollTopAnimation(event.browserEvent);\n        if (!event.browserEvent.dataTransfer) {\n            return false;\n        }\n        // Drag over from outside\n        if (!this.currentDragData) {\n            if (StaticDND.CurrentDragAndDropData) {\n                // Drag over from another list\n                this.currentDragData = StaticDND.CurrentDragAndDropData;\n            }\n            else {\n                // Drag over from the desktop\n                if (!event.browserEvent.dataTransfer.types) {\n                    return false;\n                }\n                this.currentDragData = new NativeDragAndDropData();\n            }\n        }\n        const result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.browserEvent);\n        this.canDrop = typeof result === 'boolean' ? result : result.accept;\n        if (!this.canDrop) {\n            this.currentDragFeedback = undefined;\n            this.currentDragFeedbackDisposable.dispose();\n            return false;\n        }\n        event.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && result.effect === 0 /* ListDragOverEffect.Copy */) ? 'copy' : 'move';\n        let feedback;\n        if (typeof result !== 'boolean' && result.feedback) {\n            feedback = result.feedback;\n        }\n        else {\n            if (typeof event.index === 'undefined') {\n                feedback = [-1];\n            }\n            else {\n                feedback = [event.index];\n            }\n        }\n        // sanitize feedback list\n        feedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n        feedback = feedback[0] === -1 ? [-1] : feedback;\n        if (equalsDragFeedback(this.currentDragFeedback, feedback)) {\n            return true;\n        }\n        this.currentDragFeedback = feedback;\n        this.currentDragFeedbackDisposable.dispose();\n        if (feedback[0] === -1) { // entire list feedback\n            this.domNode.classList.add('drop-target');\n            this.rowsContainer.classList.add('drop-target');\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                this.domNode.classList.remove('drop-target');\n                this.rowsContainer.classList.remove('drop-target');\n            });\n        }\n        else {\n            for (const index of feedback) {\n                const item = this.items[index];\n                item.dropTarget = true;\n                (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.add('drop-target');\n            }\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                var _a;\n                for (const index of feedback) {\n                    const item = this.items[index];\n                    item.dropTarget = false;\n                    (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.remove('drop-target');\n                }\n            });\n        }\n        return true;\n    }\n    onDragLeave(event) {\n        var _a, _b;\n        this.onDragLeaveTimeout.dispose();\n        this.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100);\n        if (this.currentDragData) {\n            (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event.element, event.index, event.browserEvent);\n        }\n    }\n    onDrop(event) {\n        if (!this.canDrop) {\n            return;\n        }\n        const dragData = this.currentDragData;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (!dragData || !event.browserEvent.dataTransfer) {\n            return;\n        }\n        event.browserEvent.preventDefault();\n        dragData.update(event.browserEvent.dataTransfer);\n        this.dnd.drop(dragData, event.element, event.index, event.browserEvent);\n    }\n    onDragEnd(event) {\n        var _a, _b;\n        this.canDrop = false;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    }\n    clearDragOverFeedback() {\n        this.currentDragFeedback = undefined;\n        this.currentDragFeedbackDisposable.dispose();\n        this.currentDragFeedbackDisposable = Disposable.None;\n    }\n    // DND scroll top animation\n    setupDragAndDropScrollTopAnimation(event) {\n        if (!this.dragOverAnimationDisposable) {\n            const viewTop = getTopLeftOffset(this.domNode).top;\n            this.dragOverAnimationDisposable = animate(this.animateDragAndDropScrollTop.bind(this, viewTop));\n        }\n        this.dragOverAnimationStopDisposable.dispose();\n        this.dragOverAnimationStopDisposable = disposableTimeout(() => {\n            if (this.dragOverAnimationDisposable) {\n                this.dragOverAnimationDisposable.dispose();\n                this.dragOverAnimationDisposable = undefined;\n            }\n        }, 1000);\n        this.dragOverMouseY = event.pageY;\n    }\n    animateDragAndDropScrollTop(viewTop) {\n        if (this.dragOverMouseY === undefined) {\n            return;\n        }\n        const diff = this.dragOverMouseY - viewTop;\n        const upperLimit = this.renderHeight - 35;\n        if (diff < 35) {\n            this.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n        }\n        else if (diff > upperLimit) {\n            this.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n        }\n    }\n    teardownDragAndDropScrollTopAnimation() {\n        this.dragOverAnimationStopDisposable.dispose();\n        if (this.dragOverAnimationDisposable) {\n            this.dragOverAnimationDisposable.dispose();\n            this.dragOverAnimationDisposable = undefined;\n        }\n    }\n    // Util\n    getItemIndexFromEventTarget(target) {\n        const scrollableElement = this.scrollableElement.getDomNode();\n        let element = target;\n        while (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n            const rawIndex = element.getAttribute('data-index');\n            if (rawIndex) {\n                const index = Number(rawIndex);\n                if (!isNaN(index)) {\n                    return index;\n                }\n            }\n            element = element.parentElement;\n        }\n        return undefined;\n    }\n    getRenderRange(renderTop, renderHeight) {\n        return {\n            start: this.rangeMap.indexAt(renderTop),\n            end: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n        };\n    }\n    /**\n     * Given a stable rendered state, checks every rendered element whether it needs\n     * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n     */\n    _rerender(renderTop, renderHeight, inSmoothScrolling) {\n        const previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n        // Let's remember the second element's position, this helps in scrolling up\n        // and preserving a linear upwards scroll movement\n        let anchorElementIndex;\n        let anchorElementTopDelta;\n        if (renderTop === this.elementTop(previousRenderRange.start)) {\n            anchorElementIndex = previousRenderRange.start;\n            anchorElementTopDelta = 0;\n        }\n        else if (previousRenderRange.end - previousRenderRange.start > 1) {\n            anchorElementIndex = previousRenderRange.start + 1;\n            anchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n        }\n        let heightDiff = 0;\n        while (true) {\n            const renderRange = this.getRenderRange(renderTop, renderHeight);\n            let didChange = false;\n            for (let i = renderRange.start; i < renderRange.end; i++) {\n                const diff = this.probeDynamicHeight(i);\n                if (diff !== 0) {\n                    this.rangeMap.splice(i, 1, [this.items[i]]);\n                }\n                heightDiff += diff;\n                didChange = didChange || diff !== 0;\n            }\n            if (!didChange) {\n                if (heightDiff !== 0) {\n                    this.eventuallyUpdateScrollDimensions();\n                }\n                const unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n                for (const range of unrenderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        if (this.items[i].row) {\n                            this.removeItemFromDOM(i);\n                        }\n                    }\n                }\n                const renderRanges = Range.relativeComplement(renderRange, previousRenderRange);\n                for (const range of renderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        const afterIndex = i + 1;\n                        const beforeRow = afterIndex < this.items.length ? this.items[afterIndex].row : null;\n                        const beforeElement = beforeRow ? beforeRow.domNode : null;\n                        this.insertItemInDOM(i, beforeElement);\n                    }\n                }\n                for (let i = renderRange.start; i < renderRange.end; i++) {\n                    if (this.items[i].row) {\n                        this.updateItemInDOM(this.items[i], i);\n                    }\n                }\n                if (typeof anchorElementIndex === 'number') {\n                    // To compute a destination scroll top, we need to take into account the current smooth scrolling\n                    // animation, and then reuse it with a new target (to avoid prolonging the scroll)\n                    // See https://github.com/microsoft/vscode/issues/104144\n                    // See https://github.com/microsoft/vscode/pull/104284\n                    // See https://github.com/microsoft/vscode/issues/107704\n                    const deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n                    const newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta + deltaScrollTop;\n                    this.setScrollTop(newScrollTop, inSmoothScrolling);\n                }\n                this._onDidChangeContentHeight.fire(this.contentHeight);\n                return;\n            }\n        }\n    }\n    probeDynamicHeight(index) {\n        var _a, _b, _c;\n        const item = this.items[index];\n        if (!!this.virtualDelegate.getDynamicHeight) {\n            const newSize = this.virtualDelegate.getDynamicHeight(item.element);\n            if (newSize !== null) {\n                const size = item.size;\n                item.size = newSize;\n                item.lastDynamicHeightWidth = this.renderWidth;\n                return newSize - size;\n            }\n        }\n        if (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n            return 0;\n        }\n        if (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n            return 0;\n        }\n        const size = item.size;\n        if (item.row) {\n            item.row.domNode.style.height = '';\n            item.size = item.row.domNode.offsetHeight;\n            item.lastDynamicHeightWidth = this.renderWidth;\n            return item.size - size;\n        }\n        const { row } = this.cache.alloc(item.templateId);\n        row.domNode.style.height = '';\n        this.rowsContainer.appendChild(row.domNode);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new BugIndicatingError('Missing renderer for templateId: ' + item.templateId);\n        }\n        renderer.renderElement(item.element, index, row.templateData, undefined);\n        item.size = row.domNode.offsetHeight;\n        (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, index, row.templateData, undefined);\n        (_c = (_b = this.virtualDelegate).setDynamicHeight) === null || _c === void 0 ? void 0 : _c.call(_b, item.element, item.size);\n        item.lastDynamicHeightWidth = this.renderWidth;\n        this.rowsContainer.removeChild(row.domNode);\n        this.cache.release(row);\n        return item.size - size;\n    }\n    getNextToLastElement(ranges) {\n        const lastRange = ranges[ranges.length - 1];\n        if (!lastRange) {\n            return null;\n        }\n        const nextToLastItem = this.items[lastRange.end];\n        if (!nextToLastItem) {\n            return null;\n        }\n        if (!nextToLastItem.row) {\n            return null;\n        }\n        return nextToLastItem.row.domNode;\n    }\n    getElementDomId(index) {\n        return `${this.domId}_${index}`;\n    }\n    // Dispose\n    dispose() {\n        var _a;\n        if (this.items) {\n            for (const item of this.items) {\n                if (item.row) {\n                    const renderer = this.renderers.get(item.row.templateId);\n                    if (renderer) {\n                        (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, -1, item.row.templateData, undefined);\n                        renderer.disposeTemplate(item.row.templateData);\n                    }\n                }\n            }\n            this.items = [];\n        }\n        if (this.domNode && this.domNode.parentNode) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        dispose(this.disposables);\n    }\n}\nListView.InstanceCount = 0;\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDblClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseMiddleClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDown\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOver\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOut\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTouchStart\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTap\", null);\nexport { ListView };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class CombinedSpliceable {\n    constructor(spliceables) {\n        this.spliceables = spliceables;\n    }\n    splice(start, deleteCount, elements) {\n        this.spliceables.forEach(s => s.splice(start, deleteCount, elements));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ListError extends Error {\n    constructor(user, message) {\n        super(`ListError [${user}] ${message}`);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { asCssValueWithDefault, createStyleSheet, EventHelper } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Gesture } from '../../touch.js';\nimport { alert } from '../aria/aria.js';\nimport { CombinedSpliceable } from './splice.js';\nimport { binarySearch, firstOrDefault, range } from '../../../common/arrays.js';\nimport { timeout } from '../../../common/async.js';\nimport { Color } from '../../../common/color.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { matchesPrefix } from '../../../common/filters.js';\nimport { DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport * as platform from '../../../common/platform.js';\nimport { isNumber } from '../../../common/types.js';\nimport './list.css';\nimport { ListError } from './list.js';\nimport { ListView } from './listView.js';\nclass TraitRenderer {\n    constructor(trait) {\n        this.trait = trait;\n        this.renderedElements = [];\n    }\n    get templateId() {\n        return `template:${this.trait.name}`;\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, templateData) {\n        const renderedElementIndex = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (renderedElementIndex >= 0) {\n            const rendered = this.renderedElements[renderedElementIndex];\n            this.trait.unrender(templateData);\n            rendered.index = index;\n        }\n        else {\n            const rendered = { index, templateData };\n            this.renderedElements.push(rendered);\n        }\n        this.trait.renderIndex(index, templateData);\n    }\n    splice(start, deleteCount, insertCount) {\n        const rendered = [];\n        for (const renderedElement of this.renderedElements) {\n            if (renderedElement.index < start) {\n                rendered.push(renderedElement);\n            }\n            else if (renderedElement.index >= start + deleteCount) {\n                rendered.push({\n                    index: renderedElement.index + insertCount - deleteCount,\n                    templateData: renderedElement.templateData\n                });\n            }\n        }\n        this.renderedElements = rendered;\n    }\n    renderIndexes(indexes) {\n        for (const { index, templateData } of this.renderedElements) {\n            if (indexes.indexOf(index) > -1) {\n                this.trait.renderIndex(index, templateData);\n            }\n        }\n    }\n    disposeTemplate(templateData) {\n        const index = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (index < 0) {\n            return;\n        }\n        this.renderedElements.splice(index, 1);\n    }\n}\nclass Trait {\n    get name() { return this._trait; }\n    get renderer() {\n        return new TraitRenderer(this);\n    }\n    constructor(_trait) {\n        this._trait = _trait;\n        this.length = 0;\n        this.indexes = [];\n        this.sortedIndexes = [];\n        this._onChange = new Emitter();\n        this.onChange = this._onChange.event;\n    }\n    splice(start, deleteCount, elements) {\n        var _a;\n        deleteCount = Math.max(0, Math.min(deleteCount, this.length - start));\n        const diff = elements.length - deleteCount;\n        const end = start + deleteCount;\n        const sortedIndexes = [\n            ...this.sortedIndexes.filter(i => i < start),\n            ...elements.map((hasTrait, i) => hasTrait ? i + start : -1).filter(i => i !== -1),\n            ...this.sortedIndexes.filter(i => i >= end).map(i => i + diff)\n        ];\n        const length = this.length + diff;\n        if (this.sortedIndexes.length > 0 && sortedIndexes.length === 0 && length > 0) {\n            const first = (_a = this.sortedIndexes.find(index => index >= start)) !== null && _a !== void 0 ? _a : length - 1;\n            sortedIndexes.push(Math.min(first, length - 1));\n        }\n        this.renderer.splice(start, deleteCount, elements.length);\n        this._set(sortedIndexes, sortedIndexes);\n        this.length = length;\n    }\n    renderIndex(index, container) {\n        container.classList.toggle(this._trait, this.contains(index));\n    }\n    unrender(container) {\n        container.classList.remove(this._trait);\n    }\n    /**\n     * Sets the indexes which should have this trait.\n     *\n     * @param indexes Indexes which should have this trait.\n     * @return The old indexes which had this trait.\n     */\n    set(indexes, browserEvent) {\n        return this._set(indexes, [...indexes].sort(numericSort), browserEvent);\n    }\n    _set(indexes, sortedIndexes, browserEvent) {\n        const result = this.indexes;\n        const sortedResult = this.sortedIndexes;\n        this.indexes = indexes;\n        this.sortedIndexes = sortedIndexes;\n        const toRender = disjunction(sortedResult, indexes);\n        this.renderer.renderIndexes(toRender);\n        this._onChange.fire({ indexes, browserEvent });\n        return result;\n    }\n    get() {\n        return this.indexes;\n    }\n    contains(index) {\n        return binarySearch(this.sortedIndexes, index, numericSort) >= 0;\n    }\n    dispose() {\n        dispose(this._onChange);\n    }\n}\n__decorate([\n    memoize\n], Trait.prototype, \"renderer\", null);\nclass SelectionTrait extends Trait {\n    constructor(setAriaSelected) {\n        super('selected');\n        this.setAriaSelected = setAriaSelected;\n    }\n    renderIndex(index, container) {\n        super.renderIndex(index, container);\n        if (this.setAriaSelected) {\n            if (this.contains(index)) {\n                container.setAttribute('aria-selected', 'true');\n            }\n            else {\n                container.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n}\n/**\n * The TraitSpliceable is used as a util class to be able\n * to preserve traits across splice calls, given an identity\n * provider.\n */\nclass TraitSpliceable {\n    constructor(trait, view, identityProvider) {\n        this.trait = trait;\n        this.view = view;\n        this.identityProvider = identityProvider;\n    }\n    splice(start, deleteCount, elements) {\n        if (!this.identityProvider) {\n            return this.trait.splice(start, deleteCount, elements.map(() => false));\n        }\n        const pastElementsWithTrait = this.trait.get().map(i => this.identityProvider.getId(this.view.element(i)).toString());\n        const elementsWithTrait = elements.map(e => pastElementsWithTrait.indexOf(this.identityProvider.getId(e).toString()) > -1);\n        this.trait.splice(start, deleteCount, elementsWithTrait);\n    }\n}\nexport function isInputElement(e) {\n    return e.tagName === 'INPUT' || e.tagName === 'TEXTAREA';\n}\nexport function isMonacoEditor(e) {\n    if (e.classList.contains('monaco-editor')) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isMonacoEditor(e.parentElement);\n}\nexport function isButton(e) {\n    if ((e.tagName === 'A' && e.classList.contains('monaco-button')) ||\n        (e.tagName === 'DIV' && e.classList.contains('monaco-button-dropdown'))) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isButton(e.parentElement);\n}\nclass KeyboardController {\n    get onKeyDown() {\n        return this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e)));\n    }\n    constructor(list, view, options) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        this.multipleSelectionDisposables = new DisposableStore();\n        this.onKeyDown.filter(e => e.keyCode === 3 /* KeyCode.Enter */).on(this.onEnter, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 16 /* KeyCode.UpArrow */).on(this.onUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 18 /* KeyCode.DownArrow */).on(this.onDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 11 /* KeyCode.PageUp */).on(this.onPageUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 12 /* KeyCode.PageDown */).on(this.onPageDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 9 /* KeyCode.Escape */).on(this.onEscape, this, this.disposables);\n        if (options.multipleSelectionSupport !== false) {\n            this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyCode.KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n        }\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionDisposables.clear();\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyCode.KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n            }\n        }\n    }\n    onEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(this.list.getFocus(), e.browserEvent);\n    }\n    onUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPrevious(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNext(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPreviousPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNextPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onCtrlA(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(range(this.list.length), e.browserEvent);\n        this.list.setAnchor(undefined);\n        this.view.domNode.focus();\n    }\n    onEscape(e) {\n        if (this.list.getSelection().length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            this.view.domNode.focus();\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n        this.multipleSelectionDisposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], KeyboardController.prototype, \"onKeyDown\", null);\nexport var TypeNavigationMode;\n(function (TypeNavigationMode) {\n    TypeNavigationMode[TypeNavigationMode[\"Automatic\"] = 0] = \"Automatic\";\n    TypeNavigationMode[TypeNavigationMode[\"Trigger\"] = 1] = \"Trigger\";\n})(TypeNavigationMode || (TypeNavigationMode = {}));\nvar TypeNavigationControllerState;\n(function (TypeNavigationControllerState) {\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Idle\"] = 0] = \"Idle\";\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Typing\"] = 1] = \"Typing\";\n})(TypeNavigationControllerState || (TypeNavigationControllerState = {}));\nexport const DefaultKeyboardNavigationDelegate = new class {\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey || event.altKey) {\n            return false;\n        }\n        return (event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)\n            || (event.keyCode >= 93 /* KeyCode.Numpad0 */ && event.keyCode <= 102 /* KeyCode.Numpad9 */)\n            || (event.keyCode >= 80 /* KeyCode.Semicolon */ && event.keyCode <= 90 /* KeyCode.Quote */);\n    }\n};\nclass TypeNavigationController {\n    constructor(list, view, keyboardNavigationLabelProvider, keyboardNavigationEventFilter, delegate) {\n        this.list = list;\n        this.view = view;\n        this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n        this.keyboardNavigationEventFilter = keyboardNavigationEventFilter;\n        this.delegate = delegate;\n        this.enabled = false;\n        this.state = TypeNavigationControllerState.Idle;\n        this.mode = TypeNavigationMode.Automatic;\n        this.triggered = false;\n        this.previouslyFocused = -1;\n        this.enabledDisposables = new DisposableStore();\n        this.disposables = new DisposableStore();\n        this.updateOptions(list.options);\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ((_a = options.typeNavigationEnabled) !== null && _a !== void 0 ? _a : true) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n        this.mode = (_b = options.typeNavigationMode) !== null && _b !== void 0 ? _b : TypeNavigationMode.Automatic;\n    }\n    enable() {\n        if (this.enabled) {\n            return;\n        }\n        let typing = false;\n        const onChar = this.enabledDisposables.add(Event.chain(this.enabledDisposables.add(new DomEmitter(this.view.domNode, 'keydown')).event))\n            .filter(e => !isInputElement(e.target))\n            .filter(() => this.mode === TypeNavigationMode.Automatic || this.triggered)\n            .map(event => new StandardKeyboardEvent(event))\n            .filter(e => typing || this.keyboardNavigationEventFilter(e))\n            .filter(e => this.delegate.mightProducePrintableCharacter(e))\n            .forEach(e => EventHelper.stop(e, true))\n            .map(event => event.browserEvent.key)\n            .event;\n        const onClear = Event.debounce(onChar, () => null, 800, undefined, undefined, undefined, this.enabledDisposables);\n        const onInput = Event.reduce(Event.any(onChar, onClear), (r, i) => i === null ? null : ((r || '') + i), undefined, this.enabledDisposables);\n        onInput(this.onInput, this, this.enabledDisposables);\n        onClear(this.onClear, this, this.enabledDisposables);\n        onChar(() => typing = true, undefined, this.enabledDisposables);\n        onClear(() => typing = false, undefined, this.enabledDisposables);\n        this.enabled = true;\n        this.triggered = false;\n    }\n    disable() {\n        if (!this.enabled) {\n            return;\n        }\n        this.enabledDisposables.clear();\n        this.enabled = false;\n        this.triggered = false;\n    }\n    onClear() {\n        var _a;\n        const focus = this.list.getFocus();\n        if (focus.length > 0 && focus[0] === this.previouslyFocused) {\n            // List: re-announce element on typing end since typed keys will interrupt aria label of focused element\n            // Do not announce if there was a focus change at the end to prevent duplication https://github.com/microsoft/vscode/issues/95961\n            const ariaLabel = (_a = this.list.options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getAriaLabel(this.list.element(focus[0]));\n            if (ariaLabel) {\n                alert(ariaLabel);\n            }\n        }\n        this.previouslyFocused = -1;\n    }\n    onInput(word) {\n        if (!word) {\n            this.state = TypeNavigationControllerState.Idle;\n            this.triggered = false;\n            return;\n        }\n        const focus = this.list.getFocus();\n        const start = focus.length > 0 ? focus[0] : 0;\n        const delta = this.state === TypeNavigationControllerState.Idle ? 1 : 0;\n        this.state = TypeNavigationControllerState.Typing;\n        for (let i = 0; i < this.list.length; i++) {\n            const index = (start + i + delta) % this.list.length;\n            const label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index));\n            const labelStr = label && label.toString();\n            if (typeof labelStr === 'undefined' || matchesPrefix(word, labelStr)) {\n                this.previouslyFocused = start;\n                this.list.setFocus([index]);\n                this.list.reveal(index);\n                return;\n            }\n        }\n    }\n    dispose() {\n        this.disable();\n        this.enabledDisposables.dispose();\n        this.disposables.dispose();\n    }\n}\nclass DOMFocusController {\n    constructor(list, view) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        const onKeyDown = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(view.domNode, 'keydown')).event))\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e));\n        onKeyDown.filter(e => e.keyCode === 2 /* KeyCode.Tab */ && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey)\n            .on(this.onTab, this, this.disposables);\n    }\n    onTab(e) {\n        if (e.target !== this.view.domNode) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        if (focus.length === 0) {\n            return;\n        }\n        const focusedDomElement = this.view.domElement(focus[0]);\n        if (!focusedDomElement) {\n            return;\n        }\n        const tabIndexElement = focusedDomElement.querySelector('[tabIndex]');\n        if (!tabIndexElement || !(tabIndexElement instanceof HTMLElement) || tabIndexElement.tabIndex === -1) {\n            return;\n        }\n        const style = window.getComputedStyle(tabIndexElement);\n        if (style.visibility === 'hidden' || style.display === 'none') {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        tabIndexElement.focus();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport function isSelectionSingleChangeEvent(event) {\n    return platform.isMacintosh ? event.browserEvent.metaKey : event.browserEvent.ctrlKey;\n}\nexport function isSelectionRangeChangeEvent(event) {\n    return event.browserEvent.shiftKey;\n}\nfunction isMouseRightClick(event) {\n    return event instanceof MouseEvent && event.button === 2;\n}\nconst DefaultMultipleSelectionController = {\n    isSelectionSingleChangeEvent,\n    isSelectionRangeChangeEvent\n};\nexport class MouseController {\n    constructor(list) {\n        this.list = list;\n        this.disposables = new DisposableStore();\n        this._onPointer = new Emitter();\n        this.onPointer = this._onPointer.event;\n        if (list.options.multipleSelectionSupport !== false) {\n            this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n        }\n        this.mouseSupport = typeof list.options.mouseSupport === 'undefined' || !!list.options.mouseSupport;\n        if (this.mouseSupport) {\n            list.onMouseDown(this.onMouseDown, this, this.disposables);\n            list.onContextMenu(this.onContextMenu, this, this.disposables);\n            list.onMouseDblClick(this.onDoubleClick, this, this.disposables);\n            list.onTouchStart(this.onMouseDown, this, this.disposables);\n            this.disposables.add(Gesture.addTarget(list.getHTMLElement()));\n        }\n        Event.any(list.onMouseClick, list.onMouseMiddleClick, list.onTap)(this.onViewPointer, this, this.disposables);\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionController = undefined;\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n            }\n        }\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionRangeChangeEvent(event);\n    }\n    isSelectionChangeEvent(event) {\n        return this.isSelectionSingleChangeEvent(event) || this.isSelectionRangeChangeEvent(event);\n    }\n    onMouseDown(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (document.activeElement !== e.browserEvent.target) {\n            this.list.domFocus();\n        }\n    }\n    onContextMenu(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = typeof e.index === 'undefined' ? [] : [e.index];\n        this.list.setFocus(focus, e.browserEvent);\n    }\n    onViewPointer(e) {\n        if (!this.mouseSupport) {\n            return;\n        }\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = e.index;\n        if (typeof focus === 'undefined') {\n            this.list.setFocus([], e.browserEvent);\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            return;\n        }\n        if (this.isSelectionRangeChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        this.list.setFocus([focus], e.browserEvent);\n        this.list.setAnchor(focus);\n        if (!isMouseRightClick(e.browserEvent)) {\n            this.list.setSelection([focus], e.browserEvent);\n        }\n        this._onPointer.fire(e);\n    }\n    onDoubleClick(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        this.list.setSelection(focus, e.browserEvent);\n    }\n    changeSelection(e) {\n        const focus = e.index;\n        let anchor = this.list.getAnchor();\n        if (this.isSelectionRangeChangeEvent(e)) {\n            if (typeof anchor === 'undefined') {\n                const currentFocus = this.list.getFocus()[0];\n                anchor = currentFocus !== null && currentFocus !== void 0 ? currentFocus : focus;\n                this.list.setAnchor(anchor);\n            }\n            const min = Math.min(anchor, focus);\n            const max = Math.max(anchor, focus);\n            const rangeSelection = range(min, max + 1);\n            const selection = this.list.getSelection();\n            const contiguousRange = getContiguousRangeContaining(disjunction(selection, [anchor]), anchor);\n            if (contiguousRange.length === 0) {\n                return;\n            }\n            const newSelection = disjunction(rangeSelection, relativeComplement(selection, contiguousRange));\n            this.list.setSelection(newSelection, e.browserEvent);\n            this.list.setFocus([focus], e.browserEvent);\n        }\n        else if (this.isSelectionSingleChangeEvent(e)) {\n            const selection = this.list.getSelection();\n            const newSelection = selection.filter(i => i !== focus);\n            this.list.setFocus([focus]);\n            this.list.setAnchor(focus);\n            if (selection.length === newSelection.length) {\n                this.list.setSelection([...newSelection, focus], e.browserEvent);\n            }\n            else {\n                this.list.setSelection(newSelection, e.browserEvent);\n            }\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport class DefaultStyleController {\n    constructor(styleElement, selectorSuffix) {\n        this.styleElement = styleElement;\n        this.selectorSuffix = selectorSuffix;\n    }\n    style(styles) {\n        var _a, _b;\n        const suffix = this.selectorSuffix && `.${this.selectorSuffix}`;\n        const content = [];\n        if (styles.listBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-rows { background: ${styles.listBackground}; }`);\n        }\n        if (styles.listFocusBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listFocusForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`);\n        }\n        if (styles.listActiveSelectionBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listActiveSelectionForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`);\n        }\n        if (styles.listActiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected .codicon { color: ${styles.listActiveSelectionIconForeground}; }`);\n        }\n        if (styles.listFocusAndSelectionBackground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n        }\n        if (styles.listFocusAndSelectionForeground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { color:  ${styles.listInactiveFocusForeground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { color:  ${styles.listInactiveFocusForeground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused .codicon { color:  ${styles.listInactiveSelectionIconForeground}; }`);\n        }\n        if (styles.listInactiveFocusBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`);\n        }\n        if (styles.listHoverBackground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${styles.listHoverBackground}; }`);\n        }\n        if (styles.listHoverForeground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`);\n        }\n        /**\n         * Outlines\n         */\n        const focusAndSelectionOutline = asCssValueWithDefault(styles.listFocusAndSelectionOutline, asCssValueWithDefault(styles.listSelectionOutline, (_a = styles.listFocusOutline) !== null && _a !== void 0 ? _a : ''));\n        if (focusAndSelectionOutline) { // default: listFocusOutline\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused.selected { outline: 1px solid ${focusAndSelectionOutline}; outline-offset: -1px;}`);\n        }\n        if (styles.listFocusOutline) { // default: set\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${suffix}.last-focused .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);\n        }\n        const inactiveFocusAndSelectionOutline = asCssValueWithDefault(styles.listSelectionOutline, (_b = styles.listInactiveFocusOutline) !== null && _b !== void 0 ? _b : '');\n        if (inactiveFocusAndSelectionOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused.selected { outline: 1px dotted ${inactiveFocusAndSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listSelectionOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listInactiveFocusOutline) { // default: null\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listHoverOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listDropBackground) {\n            content.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target { background-color: ${styles.listDropBackground} !important; color: inherit !important; }\n\t\t\t`);\n        }\n        if (styles.tableColumnsBorder) {\n            content.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${styles.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`);\n        }\n        if (styles.tableOddRowsBackgroundColor) {\n            content.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${styles.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`);\n        }\n        this.styleElement.textContent = content.join('\\n');\n    }\n}\nexport const unthemedListStyles = {\n    listFocusBackground: '#7FB0D0',\n    listActiveSelectionBackground: '#0E639C',\n    listActiveSelectionForeground: '#FFFFFF',\n    listActiveSelectionIconForeground: '#FFFFFF',\n    listFocusAndSelectionOutline: '#90C2F9',\n    listFocusAndSelectionBackground: '#094771',\n    listFocusAndSelectionForeground: '#FFFFFF',\n    listInactiveSelectionBackground: '#3F3F46',\n    listInactiveSelectionIconForeground: '#FFFFFF',\n    listHoverBackground: '#2A2D2E',\n    listDropBackground: '#383B3D',\n    treeIndentGuidesStroke: '#a9a9a9',\n    treeInactiveIndentGuidesStroke: Color.fromHex('#a9a9a9').transparent(0.4).toString(),\n    tableColumnsBorder: Color.fromHex('#cccccc').transparent(0.2).toString(),\n    tableOddRowsBackgroundColor: Color.fromHex('#cccccc').transparent(0.04).toString(),\n    listBackground: undefined,\n    listFocusForeground: undefined,\n    listInactiveSelectionForeground: undefined,\n    listInactiveFocusForeground: undefined,\n    listInactiveFocusBackground: undefined,\n    listHoverForeground: undefined,\n    listFocusOutline: undefined,\n    listInactiveFocusOutline: undefined,\n    listSelectionOutline: undefined,\n    listHoverOutline: undefined\n};\nconst DefaultOptions = {\n    keyboardSupport: true,\n    mouseSupport: true,\n    multipleSelectionSupport: true,\n    dnd: {\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    }\n};\n// TODO@Joao: move these utils into a SortedArray class\nfunction getContiguousRangeContaining(range, value) {\n    const index = range.indexOf(value);\n    if (index === -1) {\n        return [];\n    }\n    const result = [];\n    let i = index - 1;\n    while (i >= 0 && range[i] === value - (index - i)) {\n        result.push(range[i--]);\n    }\n    result.reverse();\n    i = index;\n    while (i < range.length && range[i] === value + (i - index)) {\n        result.push(range[i++]);\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the intersection\n * between them (OR).\n */\nfunction disjunction(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            result.push(one[i]);\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            result.push(other[j++]);\n        }\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the relative\n * complement between them (XOR).\n */\nfunction relativeComplement(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            j++;\n        }\n    }\n    return result;\n}\nconst numericSort = (a, b) => a - b;\nclass PipelineRenderer {\n    constructor(_templateId, renderers) {\n        this._templateId = _templateId;\n        this.renderers = renderers;\n    }\n    get templateId() {\n        return this._templateId;\n    }\n    renderTemplate(container) {\n        return this.renderers.map(r => r.renderTemplate(container));\n    }\n    renderElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.renderElement(element, index, templateData[i++], height);\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        var _a;\n        let i = 0;\n        for (const renderer of this.renderers) {\n            (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, element, index, templateData[i], height);\n            i += 1;\n        }\n    }\n    disposeTemplate(templateData) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.disposeTemplate(templateData[i++]);\n        }\n    }\n}\nclass AccessibiltyRenderer {\n    constructor(accessibilityProvider) {\n        this.accessibilityProvider = accessibilityProvider;\n        this.templateId = 'a18n';\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, container) {\n        const ariaLabel = this.accessibilityProvider.getAriaLabel(element);\n        if (ariaLabel) {\n            container.setAttribute('aria-label', ariaLabel);\n        }\n        else {\n            container.removeAttribute('aria-label');\n        }\n        const ariaLevel = this.accessibilityProvider.getAriaLevel && this.accessibilityProvider.getAriaLevel(element);\n        if (typeof ariaLevel === 'number') {\n            container.setAttribute('aria-level', `${ariaLevel}`);\n        }\n        else {\n            container.removeAttribute('aria-level');\n        }\n    }\n    disposeTemplate(templateData) {\n        // noop\n    }\n}\nclass ListViewDragAndDrop {\n    constructor(list, dnd) {\n        this.list = list;\n        this.dnd = dnd;\n    }\n    getDragElements(element) {\n        const selection = this.list.getSelectedElements();\n        const elements = selection.indexOf(element) > -1 ? selection : [element];\n        return elements;\n    }\n    getDragURI(element) {\n        return this.dnd.getDragURI(element);\n    }\n    getDragLabel(elements, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(elements, originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, data, originalEvent);\n    }\n    onDragOver(data, targetElement, targetIndex, originalEvent) {\n        return this.dnd.onDragOver(data, targetElement, targetIndex, originalEvent);\n    }\n    onDragLeave(data, targetElement, targetIndex, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, data, targetElement, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, originalEvent);\n    }\n    drop(data, targetElement, targetIndex, originalEvent) {\n        this.dnd.drop(data, targetElement, targetIndex, originalEvent);\n    }\n}\n/**\n * The {@link List} is a virtual scrolling widget, built on top of the {@link ListView}\n * widget.\n *\n * Features:\n * - Customizable keyboard and mouse support\n * - Element traits: focus, selection, achor\n * - Accessibility support\n * - Touch support\n * - Performant template-based rendering\n * - Horizontal scrolling\n * - Variable element height support\n * - Dynamic element height support\n * - Drag-and-drop support\n */\nexport class List {\n    get onDidChangeFocus() {\n        return Event.map(this.eventBufferer.wrapEvent(this.focus.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.eventBufferer.wrapEvent(this.selection.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get domId() { return this.view.domId; }\n    get onMouseClick() { return this.view.onMouseClick; }\n    get onMouseDblClick() { return this.view.onMouseDblClick; }\n    get onMouseMiddleClick() { return this.view.onMouseMiddleClick; }\n    get onPointer() { return this.mouseController.onPointer; }\n    get onMouseDown() { return this.view.onMouseDown; }\n    get onMouseOver() { return this.view.onMouseOver; }\n    get onMouseOut() { return this.view.onMouseOut; }\n    get onTouchStart() { return this.view.onTouchStart; }\n    get onTap() { return this.view.onTap; }\n    /**\n     * Possible context menu trigger events:\n     * - ContextMenu key\n     * - Shift F10\n     * - Ctrl Option Shift M (macOS with VoiceOver)\n     * - Mouse right click\n     */\n    get onContextMenu() {\n        let didJustPressContextMenuKey = false;\n        const fromKeyDown = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event))\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => didJustPressContextMenuKey = e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .filter(() => false)\n            .event;\n        const fromKeyUp = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keyup')).event))\n            .forEach(() => didJustPressContextMenuKey = false)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .map(({ browserEvent }) => {\n            const focus = this.getFocus();\n            const index = focus.length ? focus[0] : undefined;\n            const element = typeof index !== 'undefined' ? this.view.element(index) : undefined;\n            const anchor = typeof index !== 'undefined' ? this.view.domElement(index) : this.view.domNode;\n            return { index, element, anchor, browserEvent };\n        })\n            .event;\n        const fromMouse = this.disposables.add(Event.chain(this.view.onContextMenu))\n            .filter(_ => !didJustPressContextMenuKey)\n            .map(({ element, index, browserEvent }) => ({ element, index, anchor: { x: browserEvent.pageX + 1, y: browserEvent.pageY }, browserEvent }))\n            .event;\n        return Event.any(fromKeyDown, fromKeyUp, fromMouse);\n    }\n    get onKeyDown() { return this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event; }\n    get onDidFocus() { return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'focus', true)).event); }\n    constructor(user, container, virtualDelegate, renderers, _options = DefaultOptions) {\n        var _a, _b, _c, _d;\n        this.user = user;\n        this._options = _options;\n        this.focus = new Trait('focused');\n        this.anchor = new Trait('anchor');\n        this.eventBufferer = new EventBufferer();\n        this._ariaLabel = '';\n        this.disposables = new DisposableStore();\n        this._onDidDispose = new Emitter();\n        this.onDidDispose = this._onDidDispose.event;\n        const role = this._options.accessibilityProvider && this._options.accessibilityProvider.getWidgetRole ? (_a = this._options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getWidgetRole() : 'list';\n        this.selection = new SelectionTrait(role !== 'listbox');\n        const baseRenderers = [this.focus.renderer, this.selection.renderer];\n        this.accessibilityProvider = _options.accessibilityProvider;\n        if (this.accessibilityProvider) {\n            baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider));\n            (_c = (_b = this.accessibilityProvider).onDidChangeActiveDescendant) === null || _c === void 0 ? void 0 : _c.call(_b, this.onDidChangeActiveDescendant, this, this.disposables);\n        }\n        renderers = renderers.map(r => new PipelineRenderer(r.templateId, [...baseRenderers, r]));\n        const viewOptions = Object.assign(Object.assign({}, _options), { dnd: _options.dnd && new ListViewDragAndDrop(this, _options.dnd) });\n        this.view = this.createListView(container, virtualDelegate, renderers, viewOptions);\n        this.view.domNode.setAttribute('role', role);\n        if (_options.styleController) {\n            this.styleController = _options.styleController(this.view.domId);\n        }\n        else {\n            const styleElement = createStyleSheet(this.view.domNode);\n            this.styleController = new DefaultStyleController(styleElement, this.view.domId);\n        }\n        this.spliceable = new CombinedSpliceable([\n            new TraitSpliceable(this.focus, this.view, _options.identityProvider),\n            new TraitSpliceable(this.selection, this.view, _options.identityProvider),\n            new TraitSpliceable(this.anchor, this.view, _options.identityProvider),\n            this.view\n        ]);\n        this.disposables.add(this.focus);\n        this.disposables.add(this.selection);\n        this.disposables.add(this.anchor);\n        this.disposables.add(this.view);\n        this.disposables.add(this._onDidDispose);\n        this.disposables.add(new DOMFocusController(this, this.view));\n        if (typeof _options.keyboardSupport !== 'boolean' || _options.keyboardSupport) {\n            this.keyboardController = new KeyboardController(this, this.view, _options);\n            this.disposables.add(this.keyboardController);\n        }\n        if (_options.keyboardNavigationLabelProvider) {\n            const delegate = _options.keyboardNavigationDelegate || DefaultKeyboardNavigationDelegate;\n            this.typeNavigationController = new TypeNavigationController(this, this.view, _options.keyboardNavigationLabelProvider, (_d = _options.keyboardNavigationEventFilter) !== null && _d !== void 0 ? _d : (() => true), delegate);\n            this.disposables.add(this.typeNavigationController);\n        }\n        this.mouseController = this.createMouseController(_options);\n        this.disposables.add(this.mouseController);\n        this.onDidChangeFocus(this._onFocusChange, this, this.disposables);\n        this.onDidChangeSelection(this._onSelectionChange, this, this.disposables);\n        if (this.accessibilityProvider) {\n            this.ariaLabel = this.accessibilityProvider.getWidgetAriaLabel();\n        }\n        if (this._options.multipleSelectionSupport !== false) {\n            this.view.domNode.setAttribute('aria-multiselectable', 'true');\n        }\n    }\n    createListView(container, virtualDelegate, renderers, viewOptions) {\n        return new ListView(container, virtualDelegate, renderers, viewOptions);\n    }\n    createMouseController(options) {\n        return new MouseController(this);\n    }\n    updateOptions(optionsUpdate = {}) {\n        var _a, _b;\n        this._options = Object.assign(Object.assign({}, this._options), optionsUpdate);\n        (_a = this.typeNavigationController) === null || _a === void 0 ? void 0 : _a.updateOptions(this._options);\n        if (this._options.multipleSelectionController !== undefined) {\n            if (this._options.multipleSelectionSupport) {\n                this.view.domNode.setAttribute('aria-multiselectable', 'true');\n            }\n            else {\n                this.view.domNode.removeAttribute('aria-multiselectable');\n            }\n        }\n        this.mouseController.updateOptions(optionsUpdate);\n        (_b = this.keyboardController) === null || _b === void 0 ? void 0 : _b.updateOptions(optionsUpdate);\n        this.view.updateOptions(optionsUpdate);\n    }\n    get options() {\n        return this._options;\n    }\n    splice(start, deleteCount, elements = []) {\n        if (start < 0 || start > this.view.length) {\n            throw new ListError(this.user, `Invalid start index: ${start}`);\n        }\n        if (deleteCount < 0) {\n            throw new ListError(this.user, `Invalid delete count: ${deleteCount}`);\n        }\n        if (deleteCount === 0 && elements.length === 0) {\n            return;\n        }\n        this.eventBufferer.bufferEvents(() => this.spliceable.splice(start, deleteCount, elements));\n    }\n    rerender() {\n        this.view.rerender();\n    }\n    element(index) {\n        return this.view.element(index);\n    }\n    get length() {\n        return this.view.length;\n    }\n    get contentHeight() {\n        return this.view.contentHeight;\n    }\n    get scrollTop() {\n        return this.view.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.view.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this.view.scrollHeight;\n    }\n    get firstVisibleIndex() {\n        return this.view.firstVisibleIndex;\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    set ariaLabel(value) {\n        this._ariaLabel = value;\n        this.view.domNode.setAttribute('aria-label', value);\n    }\n    domFocus() {\n        this.view.domNode.focus({ preventScroll: true });\n    }\n    layout(height, width) {\n        this.view.layout(height, width);\n    }\n    setSelection(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.selection.set(indexes, browserEvent);\n    }\n    getSelection() {\n        return this.selection.get();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.view.element(i));\n    }\n    setAnchor(index) {\n        if (typeof index === 'undefined') {\n            this.anchor.set([]);\n            return;\n        }\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        this.anchor.set([index]);\n    }\n    getAnchor() {\n        return firstOrDefault(this.anchor.get(), undefined);\n    }\n    getAnchorElement() {\n        const anchor = this.getAnchor();\n        return typeof anchor === 'undefined' ? undefined : this.element(anchor);\n    }\n    setFocus(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.focus.set(indexes, browserEvent);\n    }\n    focusNext(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findNextIndex(focus.length > 0 ? focus[0] + n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusPrevious(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findPreviousIndex(focus.length > 0 ? focus[0] - n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusNextPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lastPageIndex = this.view.indexAt(this.view.getScrollTop() + this.view.renderHeight);\n            lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\n            const currentlyFocusedElementIndex = this.getFocus()[0];\n            if (currentlyFocusedElementIndex !== lastPageIndex && (currentlyFocusedElementIndex === undefined || lastPageIndex > currentlyFocusedElementIndex)) {\n                const lastGoodPageIndex = this.findPreviousIndex(lastPageIndex, false, filter);\n                if (lastGoodPageIndex > -1 && currentlyFocusedElementIndex !== lastGoodPageIndex) {\n                    this.setFocus([lastGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([lastPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = this.view.getScrollTop();\n                let nextpageScrollTop = previousScrollTop + this.view.renderHeight;\n                if (lastPageIndex > currentlyFocusedElementIndex) {\n                    // scroll last page element to the top only if the last page element is below the focused element\n                    nextpageScrollTop -= this.view.elementHeight(lastPageIndex);\n                }\n                this.view.setScrollTop(nextpageScrollTop);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusNextPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusPreviousPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let firstPageIndex;\n            const scrollTop = this.view.getScrollTop();\n            if (scrollTop === 0) {\n                firstPageIndex = this.view.indexAt(scrollTop);\n            }\n            else {\n                firstPageIndex = this.view.indexAfter(scrollTop - 1);\n            }\n            const currentlyFocusedElementIndex = this.getFocus()[0];\n            if (currentlyFocusedElementIndex !== firstPageIndex && (currentlyFocusedElementIndex === undefined || currentlyFocusedElementIndex >= firstPageIndex)) {\n                const firstGoodPageIndex = this.findNextIndex(firstPageIndex, false, filter);\n                if (firstGoodPageIndex > -1 && currentlyFocusedElementIndex !== firstGoodPageIndex) {\n                    this.setFocus([firstGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([firstPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = scrollTop;\n                this.view.setScrollTop(scrollTop - this.view.renderHeight);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusPreviousPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusLast(browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findPreviousIndex(this.length - 1, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusFirst(browserEvent, filter) {\n        this.focusNth(0, browserEvent, filter);\n    }\n    focusNth(n, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findNextIndex(n, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    findNextIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index >= this.length && !loop) {\n                return -1;\n            }\n            index = index % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    }\n    findPreviousIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index < 0 && !loop) {\n                return -1;\n            }\n            index = (this.length + (index % this.length)) % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index--;\n        }\n        return -1;\n    }\n    getFocus() {\n        return this.focus.get();\n    }\n    getFocusedElements() {\n        return this.getFocus().map(i => this.view.element(i));\n    }\n    reveal(index, relativeTop) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (isNumber(relativeTop)) {\n            // y = mx + b\n            const m = elementHeight - this.view.renderHeight;\n            this.view.setScrollTop(m * clamp(relativeTop, 0, 1) + elementTop);\n        }\n        else {\n            const viewItemBottom = elementTop + elementHeight;\n            const scrollBottom = scrollTop + this.view.renderHeight;\n            if (elementTop < scrollTop && viewItemBottom >= scrollBottom) {\n                // The element is already overflowing the viewport, no-op\n            }\n            else if (elementTop < scrollTop || (viewItemBottom >= scrollBottom && elementHeight >= this.view.renderHeight)) {\n                this.view.setScrollTop(elementTop);\n            }\n            else if (viewItemBottom >= scrollBottom) {\n                this.view.setScrollTop(viewItemBottom - this.view.renderHeight);\n            }\n        }\n    }\n    getHTMLElement() {\n        return this.view.domNode;\n    }\n    getElementID(index) {\n        return this.view.getElementDomId(index);\n    }\n    style(styles) {\n        this.styleController.style(styles);\n    }\n    toListEvent({ indexes, browserEvent }) {\n        return { indexes, elements: indexes.map(i => this.view.element(i)), browserEvent };\n    }\n    _onFocusChange() {\n        const focus = this.focus.get();\n        this.view.domNode.classList.toggle('element-focused', focus.length > 0);\n        this.onDidChangeActiveDescendant();\n    }\n    onDidChangeActiveDescendant() {\n        var _a;\n        const focus = this.focus.get();\n        if (focus.length > 0) {\n            let id;\n            if ((_a = this.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getActiveDescendantId) {\n                id = this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]));\n            }\n            this.view.domNode.setAttribute('aria-activedescendant', id || this.view.getElementDomId(focus[0]));\n        }\n        else {\n            this.view.domNode.removeAttribute('aria-activedescendant');\n        }\n    }\n    _onSelectionChange() {\n        const selection = this.selection.get();\n        this.view.domNode.classList.toggle('selection-none', selection.length === 0);\n        this.view.domNode.classList.toggle('selection-single', selection.length === 1);\n        this.view.domNode.classList.toggle('selection-multiple', selection.length > 1);\n    }\n    dispose() {\n        this._onDidDispose.fire();\n        this.disposables.dispose();\n        this._onDidDispose.dispose();\n    }\n}\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeSelection\", null);\n__decorate([\n    memoize\n], List.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], List.prototype, \"onKeyDown\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidFocus\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { $, addDisposableListener, append, clearNode, createStyleSheet, Dimension, EventHelper, EventType, getActiveElement, isAncestor, isInShadowDOM } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { ActionViewItem, BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { layout } from '../contextview/contextview.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { EmptySubmenuAction, Separator, SubmenuAction } from '../../../common/actions.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nimport { Codicon, getCodiconFontCharacters } from '../../../common/codicons.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isLinux, isMacintosh } from '../../../common/platform.js';\nimport * as strings from '../../../common/strings.js';\nexport const MENU_MNEMONIC_REGEX = /\\(&([^\\s&])\\)|(^|[^&])&([^\\s&])/;\nexport const MENU_ESCAPED_MNEMONIC_REGEX = /(&amp;)?(&amp;)([^\\s&])/g;\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Right\"] = 0] = \"Right\";\n    Direction[Direction[\"Left\"] = 1] = \"Left\";\n})(Direction || (Direction = {}));\nexport class Menu extends ActionBar {\n    constructor(container, actions, options, menuStyles) {\n        container.classList.add('monaco-menu-container');\n        container.setAttribute('role', 'presentation');\n        const menuElement = document.createElement('div');\n        menuElement.classList.add('monaco-menu');\n        menuElement.setAttribute('role', 'presentation');\n        super(menuElement, {\n            orientation: 1 /* ActionsOrientation.VERTICAL */,\n            actionViewItemProvider: action => this.doGetActionViewItem(action, options, parentData),\n            context: options.context,\n            actionRunner: options.actionRunner,\n            ariaLabel: options.ariaLabel,\n            ariaRole: 'menu',\n            focusOnlyEnabledItems: true,\n            triggerKeys: { keys: [3 /* KeyCode.Enter */, ...(isMacintosh || isLinux ? [10 /* KeyCode.Space */] : [])], keyDown: true }\n        });\n        this.menuStyles = menuStyles;\n        this.menuElement = menuElement;\n        this.actionsList.tabIndex = 0;\n        this.menuDisposables = this._register(new DisposableStore());\n        this.initializeOrUpdateStyleSheet(container, menuStyles);\n        this._register(Gesture.addTarget(menuElement));\n        addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            // Stop tab navigation of menus\n            if (event.equals(2 /* KeyCode.Tab */)) {\n                e.preventDefault();\n            }\n        });\n        if (options.enableMnemonics) {\n            this.menuDisposables.add(addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n                const key = e.key.toLocaleLowerCase();\n                if (this.mnemonics.has(key)) {\n                    EventHelper.stop(e, true);\n                    const actions = this.mnemonics.get(key);\n                    if (actions.length === 1) {\n                        if (actions[0] instanceof SubmenuMenuActionViewItem && actions[0].container) {\n                            this.focusItemByElement(actions[0].container);\n                        }\n                        actions[0].onClick(e);\n                    }\n                    if (actions.length > 1) {\n                        const action = actions.shift();\n                        if (action && action.container) {\n                            this.focusItemByElement(action.container);\n                            actions.push(action);\n                        }\n                        this.mnemonics.set(key, actions);\n                    }\n                }\n            }));\n        }\n        if (isLinux) {\n            this._register(addDisposableListener(menuElement, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(14 /* KeyCode.Home */) || event.equals(11 /* KeyCode.PageUp */)) {\n                    this.focusedItem = this.viewItems.length - 1;\n                    this.focusNext();\n                    EventHelper.stop(e, true);\n                }\n                else if (event.equals(13 /* KeyCode.End */) || event.equals(12 /* KeyCode.PageDown */)) {\n                    this.focusedItem = 0;\n                    this.focusPrevious();\n                    EventHelper.stop(e, true);\n                }\n            }));\n        }\n        this._register(addDisposableListener(this.domNode, EventType.MOUSE_OUT, e => {\n            const relatedTarget = e.relatedTarget;\n            if (!isAncestor(relatedTarget, this.domNode)) {\n                this.focusedItem = undefined;\n                this.updateFocus();\n                e.stopPropagation();\n            }\n        }));\n        this._register(addDisposableListener(this.actionsList, EventType.MOUSE_OVER, e => {\n            let target = e.target;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        // Support touch on actions list to focus items (needed for submenus)\n        this._register(Gesture.addTarget(this.actionsList));\n        this._register(addDisposableListener(this.actionsList, TouchEventType.Tap, e => {\n            let target = e.initialTarget;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        const parentData = {\n            parent: this\n        };\n        this.mnemonics = new Map();\n        // Scroll Logic\n        this.scrollableElement = this._register(new DomScrollableElement(menuElement, {\n            alwaysConsumeMouseWheel: true,\n            horizontal: 2 /* ScrollbarVisibility.Hidden */,\n            vertical: 3 /* ScrollbarVisibility.Visible */,\n            verticalScrollbarSize: 7,\n            handleMouseWheel: true,\n            useShadows: true\n        }));\n        const scrollElement = this.scrollableElement.getDomNode();\n        scrollElement.style.position = '';\n        this.styleScrollElement(scrollElement, menuStyles);\n        // Support scroll on menu drag\n        this._register(addDisposableListener(menuElement, TouchEventType.Change, e => {\n            EventHelper.stop(e, true);\n            const scrollTop = this.scrollableElement.getScrollPosition().scrollTop;\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop - e.translationY });\n        }));\n        this._register(addDisposableListener(scrollElement, EventType.MOUSE_UP, e => {\n            // Absorb clicks in menu dead space https://github.com/microsoft/vscode/issues/63575\n            // We do this on the scroll element so the scroll bar doesn't dismiss the menu either\n            e.preventDefault();\n        }));\n        menuElement.style.maxHeight = `${Math.max(10, window.innerHeight - container.getBoundingClientRect().top - 35)}px`;\n        actions = actions.filter(a => {\n            var _a;\n            if ((_a = options.submenuIds) === null || _a === void 0 ? void 0 : _a.has(a.id)) {\n                console.warn(`Found submenu cycle: ${a.id}`);\n                return false;\n            }\n            return true;\n        });\n        this.push(actions, { icon: true, label: true, isMenu: true });\n        container.appendChild(this.scrollableElement.getDomNode());\n        this.scrollableElement.scanDomNode();\n        this.viewItems.filter(item => !(item instanceof MenuSeparatorActionViewItem)).forEach((item, index, array) => {\n            item.updatePositionInSet(index + 1, array.length);\n        });\n    }\n    initializeOrUpdateStyleSheet(container, style) {\n        if (!this.styleSheet) {\n            if (isInShadowDOM(container)) {\n                this.styleSheet = createStyleSheet(container);\n            }\n            else {\n                if (!Menu.globalStyleSheet) {\n                    Menu.globalStyleSheet = createStyleSheet();\n                }\n                this.styleSheet = Menu.globalStyleSheet;\n            }\n        }\n        this.styleSheet.textContent = getMenuWidgetCSS(style, isInShadowDOM(container));\n    }\n    styleScrollElement(scrollElement, style) {\n        var _a, _b;\n        const fgColor = (_a = style.foregroundColor) !== null && _a !== void 0 ? _a : '';\n        const bgColor = (_b = style.backgroundColor) !== null && _b !== void 0 ? _b : '';\n        const border = style.borderColor ? `1px solid ${style.borderColor}` : '';\n        const borderRadius = '5px';\n        const shadow = style.shadowColor ? `0 2px 8px ${style.shadowColor}` : '';\n        scrollElement.style.outline = border;\n        scrollElement.style.borderRadius = borderRadius;\n        scrollElement.style.color = fgColor;\n        scrollElement.style.backgroundColor = bgColor;\n        scrollElement.style.boxShadow = shadow;\n    }\n    getContainer() {\n        return this.scrollableElement.getDomNode();\n    }\n    get onScroll() {\n        return this.scrollableElement.onScroll;\n    }\n    focusItemByElement(element) {\n        const lastFocusedItem = this.focusedItem;\n        this.setFocusedItem(element);\n        if (lastFocusedItem !== this.focusedItem) {\n            this.updateFocus();\n        }\n    }\n    setFocusedItem(element) {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (element === elem) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    updateFocus(fromRight) {\n        super.updateFocus(fromRight, true, true);\n        if (typeof this.focusedItem !== 'undefined') {\n            // Workaround for #80047 caused by an issue in chromium\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=414283\n            // When that's fixed, just call this.scrollableElement.scanDomNode()\n            this.scrollableElement.setScrollPosition({\n                scrollTop: Math.round(this.menuElement.scrollTop)\n            });\n        }\n    }\n    doGetActionViewItem(action, options, parentData) {\n        if (action instanceof Separator) {\n            return new MenuSeparatorActionViewItem(options.context, action, { icon: true }, this.menuStyles);\n        }\n        else if (action instanceof SubmenuAction) {\n            const menuActionViewItem = new SubmenuMenuActionViewItem(action, action.actions, parentData, Object.assign(Object.assign({}, options), { submenuIds: new Set([...(options.submenuIds || []), action.id]) }), this.menuStyles);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n        else {\n            const menuItemOptions = { enableMnemonics: options.enableMnemonics, useEventAsContext: options.useEventAsContext };\n            if (options.getKeyBinding) {\n                const keybinding = options.getKeyBinding(action);\n                if (keybinding) {\n                    const keybindingLabel = keybinding.getLabel();\n                    if (keybindingLabel) {\n                        menuItemOptions.keybinding = keybindingLabel;\n                    }\n                }\n            }\n            const menuActionViewItem = new BaseMenuActionViewItem(options.context, action, menuItemOptions, this.menuStyles);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n    }\n}\nclass BaseMenuActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options, menuStyle) {\n        options.isMenu = true;\n        super(action, action, options);\n        this.menuStyle = menuStyle;\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n        // Set mnemonic\n        if (this.options.label && options.enableMnemonics) {\n            const label = this.action.label;\n            if (label) {\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    this.mnemonic = (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase();\n                }\n            }\n        }\n        // Add mouse up listener later to avoid accidental clicks\n        this.runOnceToEnableMouseUp = new RunOnceScheduler(() => {\n            if (!this.element) {\n                return;\n            }\n            this._register(addDisposableListener(this.element, EventType.MOUSE_UP, e => {\n                // removed default prevention as it conflicts\n                // with BaseActionViewItem #101537\n                // add back if issues arise and link new issue\n                EventHelper.stop(e, true);\n                // See https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Interact_with_the_clipboard\n                // > Writing to the clipboard\n                // > You can use the \"cut\" and \"copy\" commands without any special\n                // permission if you are using them in a short-lived event handler\n                // for a user action (for example, a click handler).\n                // => to get the Copy and Paste context menu actions working on Firefox,\n                // there should be no timeout here\n                if (isFirefox) {\n                    const mouseEvent = new StandardMouseEvent(e);\n                    // Allowing right click to trigger the event causes the issue described below,\n                    // but since the solution below does not work in FF, we must disable right click\n                    if (mouseEvent.rightButton) {\n                        return;\n                    }\n                    this.onClick(e);\n                }\n                // In all other cases, set timeout to allow context menu cancellation to trigger\n                // otherwise the action will destroy the menu and a second context menu\n                // will still trigger for right click.\n                else {\n                    setTimeout(() => {\n                        this.onClick(e);\n                    }, 0);\n                }\n            }));\n            this._register(addDisposableListener(this.element, EventType.CONTEXT_MENU, e => {\n                EventHelper.stop(e, true);\n            }));\n        }, 100);\n        this._register(this.runOnceToEnableMouseUp);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        this.container = container;\n        this.item = append(this.element, $('a.action-menu-item'));\n        if (this._action.id === Separator.ID) {\n            // A separator is a presentation item\n            this.item.setAttribute('role', 'presentation');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            if (this.mnemonic) {\n                this.item.setAttribute('aria-keyshortcuts', `${this.mnemonic}`);\n            }\n        }\n        this.check = append(this.item, $('span.menu-item-check' + ThemeIcon.asCSSSelector(Codicon.menuSelection)));\n        this.check.setAttribute('role', 'none');\n        this.label = append(this.item, $('span.action-label'));\n        if (this.options.label && this.options.keybinding) {\n            append(this.item, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        // Adds mouse up listener to actually run the action\n        this.runOnceToEnableMouseUp.schedule();\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n        this.applyStyle();\n    }\n    blur() {\n        super.blur();\n        this.applyStyle();\n    }\n    focus() {\n        var _a;\n        super.focus();\n        (_a = this.item) === null || _a === void 0 ? void 0 : _a.focus();\n        this.applyStyle();\n    }\n    updatePositionInSet(pos, setSize) {\n        if (this.item) {\n            this.item.setAttribute('aria-posinset', `${pos}`);\n            this.item.setAttribute('aria-setsize', `${setSize}`);\n        }\n    }\n    updateLabel() {\n        var _a;\n        if (!this.label) {\n            return;\n        }\n        if (this.options.label) {\n            clearNode(this.label);\n            let label = stripIcons(this.action.label);\n            if (label) {\n                const cleanLabel = cleanMnemonic(label);\n                if (!this.options.enableMnemonics) {\n                    label = cleanLabel;\n                }\n                this.label.setAttribute('aria-label', cleanLabel.replace(/&&/g, '&'));\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    label = strings.escape(label);\n                    // This is global, reset it\n                    MENU_ESCAPED_MNEMONIC_REGEX.lastIndex = 0;\n                    let escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    // We can't use negative lookbehind so if we match our negative and skip\n                    while (escMatch && escMatch[1]) {\n                        escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    }\n                    const replaceDoubleEscapes = (str) => str.replace(/&amp;&amp;/g, '&amp;');\n                    if (escMatch) {\n                        this.label.append(strings.ltrim(replaceDoubleEscapes(label.substr(0, escMatch.index)), ' '), $('u', { 'aria-hidden': 'true' }, escMatch[3]), strings.rtrim(replaceDoubleEscapes(label.substr(escMatch.index + escMatch[0].length)), ' '));\n                    }\n                    else {\n                        this.label.innerText = replaceDoubleEscapes(label).trim();\n                    }\n                    (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-keyshortcuts', (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase());\n                }\n                else {\n                    this.label.innerText = label.replace(/&&/g, '&').trim();\n                }\n            }\n        }\n    }\n    updateTooltip() {\n        // menus should function like native menus and they do not have tooltips\n    }\n    updateClass() {\n        if (this.cssClass && this.item) {\n            this.item.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon && this.label) {\n            this.cssClass = this.action.class || '';\n            this.label.classList.add('icon');\n            if (this.cssClass) {\n                this.label.classList.add(...this.cssClass.split(' '));\n            }\n            this.updateEnabled();\n        }\n        else if (this.label) {\n            this.label.classList.remove('icon');\n        }\n    }\n    updateEnabled() {\n        if (this.action.enabled) {\n            if (this.element) {\n                this.element.classList.remove('disabled');\n                this.element.removeAttribute('aria-disabled');\n            }\n            if (this.item) {\n                this.item.classList.remove('disabled');\n                this.item.removeAttribute('aria-disabled');\n                this.item.tabIndex = 0;\n            }\n        }\n        else {\n            if (this.element) {\n                this.element.classList.add('disabled');\n                this.element.setAttribute('aria-disabled', 'true');\n            }\n            if (this.item) {\n                this.item.classList.add('disabled');\n                this.item.setAttribute('aria-disabled', 'true');\n            }\n        }\n    }\n    updateChecked() {\n        if (!this.item) {\n            return;\n        }\n        const checked = this.action.checked;\n        this.item.classList.toggle('checked', !!checked);\n        if (checked !== undefined) {\n            this.item.setAttribute('role', 'menuitemcheckbox');\n            this.item.setAttribute('aria-checked', checked ? 'true' : 'false');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            this.item.setAttribute('aria-checked', '');\n        }\n    }\n    getMnemonic() {\n        return this.mnemonic;\n    }\n    applyStyle() {\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        const bgColor = isSelected && this.menuStyle.selectionBackgroundColor ? this.menuStyle.selectionBackgroundColor : undefined;\n        const outline = isSelected && this.menuStyle.selectionBorderColor ? `1px solid ${this.menuStyle.selectionBorderColor}` : '';\n        const outlineOffset = isSelected && this.menuStyle.selectionBorderColor ? `-1px` : '';\n        if (this.item) {\n            this.item.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n            this.item.style.backgroundColor = bgColor !== null && bgColor !== void 0 ? bgColor : '';\n            this.item.style.outline = outline;\n            this.item.style.outlineOffset = outlineOffset;\n        }\n        if (this.check) {\n            this.check.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n        }\n    }\n}\nclass SubmenuMenuActionViewItem extends BaseMenuActionViewItem {\n    constructor(action, submenuActions, parentData, submenuOptions, menuStyles) {\n        super(action, action, submenuOptions, menuStyles);\n        this.submenuActions = submenuActions;\n        this.parentData = parentData;\n        this.submenuOptions = submenuOptions;\n        this.mysubmenu = null;\n        this.submenuDisposables = this._register(new DisposableStore());\n        this.mouseOver = false;\n        this.expandDirection = submenuOptions && submenuOptions.expandDirection !== undefined ? submenuOptions.expandDirection : Direction.Right;\n        this.showScheduler = new RunOnceScheduler(() => {\n            if (this.mouseOver) {\n                this.cleanupExistingSubmenu(false);\n                this.createSubmenu(false);\n            }\n        }, 250);\n        this.hideScheduler = new RunOnceScheduler(() => {\n            if (this.element && (!isAncestor(getActiveElement(), this.element) && this.parentData.submenu === this.mysubmenu)) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }, 750);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        if (this.item) {\n            this.item.classList.add('monaco-submenu-item');\n            this.item.tabIndex = 0;\n            this.item.setAttribute('aria-haspopup', 'true');\n            this.updateAriaExpanded('false');\n            this.submenuIndicator = append(this.item, $('span.submenu-indicator' + ThemeIcon.asCSSSelector(Codicon.menuSubmenu)));\n            this.submenuIndicator.setAttribute('aria-hidden', 'true');\n        }\n        this._register(addDisposableListener(this.element, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* KeyCode.RightArrow */) || event.equals(3 /* KeyCode.Enter */)) {\n                EventHelper.stop(e, true);\n                this.createSubmenu(true);\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (getActiveElement() === this.item) {\n                if (event.equals(17 /* KeyCode.RightArrow */) || event.equals(3 /* KeyCode.Enter */)) {\n                    EventHelper.stop(e, true);\n                }\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_OVER, e => {\n            if (!this.mouseOver) {\n                this.mouseOver = true;\n                this.showScheduler.schedule();\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_LEAVE, e => {\n            this.mouseOver = false;\n        }));\n        this._register(addDisposableListener(this.element, EventType.FOCUS_OUT, e => {\n            if (this.element && !isAncestor(getActiveElement(), this.element)) {\n                this.hideScheduler.schedule();\n            }\n        }));\n        this._register(this.parentData.parent.onScroll(() => {\n            if (this.parentData.submenu === this.mysubmenu) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }));\n    }\n    updateEnabled() {\n        // override on submenu entry\n        // native menus do not observe enablement on sumbenus\n        // we mimic that behavior\n    }\n    onClick(e) {\n        // stop clicking from trying to run an action\n        EventHelper.stop(e, true);\n        this.cleanupExistingSubmenu(false);\n        this.createSubmenu(true);\n    }\n    cleanupExistingSubmenu(force) {\n        if (this.parentData.submenu && (force || (this.parentData.submenu !== this.mysubmenu))) {\n            // disposal may throw if the submenu has already been removed\n            try {\n                this.parentData.submenu.dispose();\n            }\n            catch (_a) { }\n            this.parentData.submenu = undefined;\n            this.updateAriaExpanded('false');\n            if (this.submenuContainer) {\n                this.submenuDisposables.clear();\n                this.submenuContainer = undefined;\n            }\n        }\n    }\n    calculateSubmenuMenuLayout(windowDimensions, submenu, entry, expandDirection) {\n        const ret = { top: 0, left: 0 };\n        // Start with horizontal\n        ret.left = layout(windowDimensions.width, submenu.width, { position: expandDirection === Direction.Right ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, offset: entry.left, size: entry.width });\n        // We don't have enough room to layout the menu fully, so we are overlapping the menu\n        if (ret.left >= entry.left && ret.left < entry.left + entry.width) {\n            if (entry.left + 10 + submenu.width <= windowDimensions.width) {\n                ret.left = entry.left + 10;\n            }\n            entry.top += 10;\n            entry.height = 0;\n        }\n        // Now that we have a horizontal position, try layout vertically\n        ret.top = layout(windowDimensions.height, submenu.height, { position: 0 /* LayoutAnchorPosition.Before */, offset: entry.top, size: 0 });\n        // We didn't have enough room below, but we did above, so we shift down to align the menu\n        if (ret.top + submenu.height === entry.top && ret.top + entry.height + submenu.height <= windowDimensions.height) {\n            ret.top += entry.height;\n        }\n        return ret;\n    }\n    createSubmenu(selectFirstItem = true) {\n        if (!this.element) {\n            return;\n        }\n        if (!this.parentData.submenu) {\n            this.updateAriaExpanded('true');\n            this.submenuContainer = append(this.element, $('div.monaco-submenu'));\n            this.submenuContainer.classList.add('menubar-menu-items-holder', 'context-view');\n            // Set the top value of the menu container before construction\n            // This allows the menu constructor to calculate the proper max height\n            const computedStyles = getComputedStyle(this.parentData.parent.domNode);\n            const paddingTop = parseFloat(computedStyles.paddingTop || '0') || 0;\n            // this.submenuContainer.style.top = `${this.element.offsetTop - this.parentData.parent.scrollOffset - paddingTop}px`;\n            this.submenuContainer.style.zIndex = '1';\n            this.submenuContainer.style.position = 'fixed';\n            this.submenuContainer.style.top = '0';\n            this.submenuContainer.style.left = '0';\n            this.parentData.submenu = new Menu(this.submenuContainer, this.submenuActions.length ? this.submenuActions : [new EmptySubmenuAction()], this.submenuOptions, this.menuStyle);\n            // layout submenu\n            const entryBox = this.element.getBoundingClientRect();\n            const entryBoxUpdated = {\n                top: entryBox.top - paddingTop,\n                left: entryBox.left,\n                height: entryBox.height + 2 * paddingTop,\n                width: entryBox.width\n            };\n            const viewBox = this.submenuContainer.getBoundingClientRect();\n            const { top, left } = this.calculateSubmenuMenuLayout(new Dimension(window.innerWidth, window.innerHeight), Dimension.lift(viewBox), entryBoxUpdated, this.expandDirection);\n            // subtract offsets caused by transform parent\n            this.submenuContainer.style.left = `${left - viewBox.left}px`;\n            this.submenuContainer.style.top = `${top - viewBox.top}px`;\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_UP, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                    this.parentData.parent.focus();\n                    this.cleanupExistingSubmenu(true);\n                }\n            }));\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                }\n            }));\n            this.submenuDisposables.add(this.parentData.submenu.onDidCancel(() => {\n                this.parentData.parent.focus();\n                this.cleanupExistingSubmenu(true);\n            }));\n            this.parentData.submenu.focus(selectFirstItem);\n            this.mysubmenu = this.parentData.submenu;\n        }\n        else {\n            this.parentData.submenu.focus(false);\n        }\n    }\n    updateAriaExpanded(value) {\n        var _a;\n        if (this.item) {\n            (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', value);\n        }\n    }\n    applyStyle() {\n        super.applyStyle();\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        if (this.submenuIndicator) {\n            this.submenuIndicator.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hideScheduler.dispose();\n        if (this.mysubmenu) {\n            this.mysubmenu.dispose();\n            this.mysubmenu = null;\n        }\n        if (this.submenuContainer) {\n            this.submenuContainer = undefined;\n        }\n    }\n}\nclass MenuSeparatorActionViewItem extends ActionViewItem {\n    constructor(context, action, options, menuStyles) {\n        super(context, action, options);\n        this.menuStyles = menuStyles;\n    }\n    render(container) {\n        super.render(container);\n        if (this.label) {\n            this.label.style.borderBottomColor = this.menuStyles.separatorColor ? `${this.menuStyles.separatorColor}` : '';\n        }\n    }\n}\nexport function cleanMnemonic(label) {\n    const regex = MENU_MNEMONIC_REGEX;\n    const matches = regex.exec(label);\n    if (!matches) {\n        return label;\n    }\n    const mnemonicInText = !matches[1];\n    return label.replace(regex, mnemonicInText ? '$2$3' : '').trim();\n}\nexport function formatRule(c) {\n    const fontCharacter = getCodiconFontCharacters()[c.id];\n    return `.codicon-${c.id}:before { content: '\\\\${fontCharacter.toString(16)}'; }`;\n}\nfunction getMenuWidgetCSS(style, isForShadowDom) {\n    let result = /* css */ `\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${formatRule(Codicon.menuSelection)}\n${formatRule(Codicon.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;\n    if (isForShadowDom) {\n        // Only define scrollbar styles when used inside shadow dom,\n        // otherwise leave their styling to the global workbench styling.\n        result += `\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t`;\n        // Scrollbars\n        const scrollbarShadowColor = style.scrollbarShadow;\n        if (scrollbarShadowColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderBackgroundColor = style.scrollbarSliderBackground;\n        if (scrollbarSliderBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${scrollbarSliderBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderHoverBackgroundColor = style.scrollbarSliderHoverBackground;\n        if (scrollbarSliderHoverBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${scrollbarSliderHoverBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderActiveBackgroundColor = style.scrollbarSliderActiveBackground;\n        if (scrollbarSliderActiveBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${scrollbarSliderActiveBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n    }\n    return result;\n}\n"],"names":["FastDomNode","domNode","_classCallCheck","this","_maxWidth","_width","_height","_top","_left","_bottom","_right","_paddingLeft","_fontFamily","_fontWeight","_fontSize","_fontStyle","_fontFeatureSettings","_fontVariationSettings","_textDecoration","_lineHeight","_letterSpacing","_className","_display","_position","_visibility","_color","_backgroundColor","_layerHint","_contain","_boxShadow","_createClass","key","value","maxWidth","numberAsPixels","style","width","height","top","left","bottom","right","paddingLeft","fontFamily","fontWeight","fontSize","fontStyle","fontFeatureSettings","fontVariationSettings","textDecoration","lineHeight","letterSpacing","className","shouldHaveIt","classList","toggle","display","position","visibility","color","backgroundColor","layerHint","transform","boxShadow","contain","name","setAttribute","removeAttribute","child","appendChild","removeChild","concat","createFastDomNode","renderText","text","element","createElement","arguments","length","undefined","textContent","renderFormattedText","formattedText","options","_renderFormattedText","content","parseCodeSegments","root","type","children","actionViewItemIndex","current","stack","stream","StringStream","eos","next","isEscapedFormatType","formatTagType","peek","isFormatTag","advance","pop","newCurrent","index","push","textCurrent","parseFormattedText","renderCodeSegments","actionHandler","tagName","inline","document","source","treeNode","createTextNode","a","disposables","add","DOM","event","callback","String","Array","isArray","forEach","nodeChild","char","supportCodeSegments","GlobalPointerMoveMonitor","_hooks","DisposableStore","_pointerMoveCallback","_onStopCallback","stopMonitoring","dispose","invokeStopCallback","browserEvent","isMonitoring","clear","onStopCallback","initialElement","pointerId","initialButtons","pointerMoveCallback","_this","eventSource","setPointerCapture","toDisposable","releasePointerCapture","err","window","dom","e","buttons","preventDefault","ctrlKeyMod","platform","metaKeyMod","StandardKeyboardEvent","_standardKeyboardEventBrand","target","ctrlKey","shiftKey","altKey","metaKey","altGraphKey","getModifierState","keyCode","charCode","fromCharCode","toUpperCase","KeyCodeUtils","browser","EVENT_KEY_CODE_MAP","extractKeyCode","code","_asKeybinding","_computeKeybinding","_asKeyCodeChord","_computeKeyCodeChord","stopPropagation","other","result","KeyCodeChord","defaultMarkedRenderers","Object","freeze","image","href","title","dimensions","attributes","_parseHrefAndDimensio","parseHrefAndDimensions","escapeDoubleQuotes","join","paragraph","link","removeMarkdownEscapes","replace","renderMarkdown","markdown","_a","markedOptions","isDisposed","_uriMassage","part","data","parse","decodeURIComponent","cloneAndChange","uris","URI","encodeURIComponent","JSON","stringify","_href","isDomUri","uri","startsWith","Schemas","FileAccess","toString","query","with","renderer","marked","codeBlocks","codeBlockRenderer","lang","id","defaultGenerator","parts","split","postProcessCodeBlockLanguageId","then","escape","_activateLink","parentElement","dataset","baseUri","resolveWithBaseUri","onUnexpectedError","onClick","DomEmitter","onAuxClick","Event","mouseEvent","StandardMouseEvent","leftButton","middleButton","keyboardEvent","equals","supportHtml","sanitizer","html","isTrusted","match","sanitize","silent","substr","supportThemeIcons","markdownEscapeEscapedIcons","renderedMarkdown","renderLabelWithIcons","map","outerHTML","markdownHtmlDoc","DOMParser","parseFromString","sanitizeRenderedMarkdown","body","querySelectorAll","img","src","getAttribute","test","replaceWith","apply","_toConsumableArray","childNodes","resolvedHref","innerHTML","Promise","all","tuples","_b","_step","renderedElements","Map","placeholderElements","_iterator","_createForOfIteratorHelper","s","n","done","placeholderElement","renderedElement","get","f","asyncRenderCallback","call","_step2","_iterator2","getElementsByTagName","_loop","listener","path","endsWith","resolvePath","dirname","_getSanitizerOptions","allowedSchemes","config","ALLOWED_TAGS","ALLOWED_ATTR","allowedMarkdownAttr","ALLOW_UNKNOWN_PROTOCOLS","getSanitizerOptions","dompurify","attrName","keepAttr","attrValue","hook","assign","RETURN_TRUSTED_TYPE","Lazy","blockquote","quote","_html","heading","_level","_raw","hr","list","_ordered","listitem","table","header","tablerow","tablecell","_flags","strong","em","codespan","br","del","_title","_text","sameOriginWindowChainCache","getParentWindowIfSameOrigin","w","parent","location","parentLocation","origin","IframeUtils","iframeElement","frameElement","slice","childWindow","ancestorWindow","windowChain","getSameOriginWindowChain","windowChainEl","scrollY","scrollX","boundingRect","getBoundingClientRect","timestamp","Date","now","button","rightButton","detail","pageX","posx","posy","pageY","clientX","scrollLeft","documentElement","clientY","scrollTop","iframeOffsets","getPositionOfChildWindowRelativeToAncestorWindow","self","view","StandardWheelEvent","deltaX","deltaY","targetNode","srcElement","e1","e2","wheelDeltaY","VERTICAL_AXIS","axis","ev","deltaMode","DOM_DELTA_LINE","isFirefox","wheelDeltaX","isSafari","HORIZONTAL_AXIS","wheelDelta","inputLatency","totalKeydownTime","total","min","Number","MAX_VALUE","max","totalInputTime","totalRenderTime","totalInputLatencyTime","measurementsCount","state","keydown","input","render","markKeyDownEnd","performance","mark","onBeforeInput","scheduleRecordIfFinishedTask","markInputEnd","markRenderEnd","setTimeout","recordIfFinished","measure","addMeasure","clearMarks","clearMeasures","entryName","cumulativeMeasurement","duration","getEntriesByName","Math","cumulativeToFinalMeasurement","cumulative","average","clearCumulativeMeasurement","onKeyDown","queueMicrotask","onInput","onKeyUp","onSelectionChange","onRenderStart","getAndClearMeasurements","sampleCount","EventType","__decorate","decorators","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Tap","Change","Start","End","Contextmenu","Gesture","_Disposable","_inherits","_super","_createSuper","dispatched","targets","LinkedList","ignoreTargets","activeTouches","handle","_lastSetTapCountTime","_register","DomUtils","onTouchStart","passive","onTouchEnd","onTouchMove","_get","_getPrototypeOf","prototype","len","targetTouches","touch","item","identifier","initialTarget","initialTimeStamp","initialPageX","initialPageY","rollingTimestamps","rollingPageX","rollingPageY","evt","newGestureEvent","dispatchEvent","_this2","activeTouchCount","keys","changedTouches","hasOwnProperty","console","warn","holdTime","HOLD_DELAY","abs","arrays","finalX","finalY","deltaT","dispatchTo","filter","t","Node","contains","inertia","createEvent","initEvent","tapCount","currentTime","getTime","setTapCount","CLEAR_TAP_COUNT_TIME","t1","vX","dirX","x","vY","dirY","y","_this3","delta_pos_x","delta_pos_y","stopped","SCROLL_FRICTION","translationX","translationY","shift","isTouchDevice","Disposable","INSTANCE","remove","navigator","maxTouchPoints","memoize","BaseActionViewItem","context","action","_context","_assertThisInitialized","_action","Action","onDidChange","handleActionChangeEvent","enabled","updateEnabled","checked","updateChecked","class","updateClass","label","updateLabel","updateTooltip","tooltip","_actionRunner","ActionRunner","set","actionRunner","newContext","container","enableDragging","draggable","addDisposableListener","dataTransfer","setData","DataTransfers","TouchEventType","EventHelper","isMenu","preserveFocus","types","useEventAsContext","run","tabIndex","focus","blur","focusable","getTooltip","updateAriaLabel","hoverDelegate","customHover","update","setupCustomHover","_store","ActionViewItem","_BaseActionViewItem","_super2","icon","cssClass","append","$","Separator","keybinding","nls","comment","_this$label$classList","_this$label$classList2","SelectActionViewItem","_BaseActionViewItem2","_super3","ctx","selected","contextViewProvider","styles","selectBoxOptions","_this4","selectBox","SelectBox","setFocusable","registerListeners","select","_this5","onDidSelect","runAction","option","getActionContext","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","rejected","ActionBar","_c","_d","_e","_f","previousKeys","nextKeys","_actionRunnerDisposables","viewItemDisposables","DisposableMap","triggerKeyDown","_onDidBlur","Emitter","onDidBlur","_onDidCancel","onWillAddFirstListener","cancelHasListener","onDidCancel","_onDidRun","onDidRun","_onWillRun","onWillRun","_orientation","orientation","_triggerKeys","keyDown","triggerKeys","fire","viewItems","focusedItem","animated","eventHandled","focusPrevious","focusNext","focusFirst","focusLast","trapsArrowNavigation","isTriggerKeyEvent","doTrigger","updateFocusedItem","focusTracker","previouslyFocusedItem","onDidFocus","actionsList","ariaRole","ariaLabel","firstEnabled","find","vi","isEnabled","ret","elem","setActionContext","indexOrElement","HTMLElement","arg","actions","actionViewItemElement","viewItemOptions","actionViewItemProvider","allowContextMenu","insertBefore","splice","refreshRole","isEmpty","clearAndDisposeAll","selectFirst","findIndex","updateFocus","forceLoop","startIndex","preventLoopNavigation","focusOnlyEnabledItems","fromRight","preventScroll","forceFocus","actionViewItem","focusItem","_regeneratorRuntime","_callee","wrap","prev","stop","getContainer","ariaContainer","alertContainer","alertContainer2","statusContainer","statusContainer2","MAX_MESSAGE_LENGTH","setARIAContainer","createAlertContainer","createStatusContainer","alert","msg","clearNode","insertMessage","status","isMacintosh","Button","Color","_onDidClick","_element","background","secondary","buttonSecondaryBackground","buttonBackground","foreground","buttonSecondaryForeground","buttonForeground","supportShortLabel","_labelShortElement","_labelElement","eventType","updateBackground","trackFocus","elements","segment","trim","node","hover","buttonSecondaryHoverBackground","buttonHoverBackground","labelElement","supportIcons","reset","getContentElements","LayoutAnchorMode","layout","viewportSize","viewSize","anchor","layoutAfterAnchorBoundary","mode","ALIGN","offset","size","layoutBeforeAnchorBoundary","ContextView","domPosition","delegate","toDisposeOnClean","toDisposeOnSetContainer","shadowRoot","shadowRootHostElement","useFixedPosition","useShadowDOM","setContainer","attachShadow","SHADOW_ROOT_CSS","BUBBLE_UP_EVENTS","onDOMEvent","BUBBLE_DOWN_EVENTS","isVisible","hide","zIndex","doLayout","canRelayout","BrowserFeatures","around","getAnchor","elementPosition","zoom","viewSizeWidth","viewSizeHeight","anchorPosition","anchorAlignment","anchorAxisAlignment","verticalAnchor","pageYOffset","horizontalAnchor","innerHeight","Range","start","end","AVOID","innerWidth","containerPosition","onHide","onCapture","activeElement","CountBadge","count","countFormat","titleFormat","setCount","format","badgeBackground","badgeForeground","badgeBorder","border","DropdownMenu","_BaseDropdown","_actions","_contextMenuProvider","contextMenuProvider","actionProvider","menuClassName","menuAsChild","_menuOptions","getActions","showContextMenu","getActionsContext","menuOptions","getActionViewItem","getKeyBinding","getMenuClassName","domForShadowRoot","_ActionRunner","BaseDropdown","_onDidChangeVisibility","onDidChangeVisibility","_label","labelRenderer","_i","_arr","GestureEventType","_i2","_arr2","MouseEvent","visible","show","cleanupFn","boxContainer","contents","DropdownMenuActionViewItem","menuActionsOrProvider","create","actionItem","isActionsArray","el","_this2$element$classL","classNames","dropdownMenu","keybindingProvider","anchorAlignmentProvider","that","disabled","NLS_DEFAULT_LABEL","FindInput","_Widget","fixFocusOnOptionClickEnabled","imeSessionInProgress","additionalTogglesDisposables","additionalToggles","_onDidOptionChange","onDidOptionChange","_onKeyDown","_onMouseDown","onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","placeholder","validation","showCommonFindToggles","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","history","flexibleHeight","flexibleWidth","flexibleMaxHeight","inputBox","HistoryInputBox","validationOptions","showHistoryHint","inputBoxStyles","regex","RegexToggle","appendTitle","isChecked","toggleStyles","onChange","viaKeyboard","validate","wholeWords","WholeWordsToggle","caseSensitive","CaseSensitiveToggle","indexes","onkeydown","indexOf","newIndex","controls","setAdditionalToggles","inputElement","onkeyup","oninput","onmousedown","enable","disable","toggles","_step3","_iterator3","_step4","_iterator4","paddingRight","reduce","message","showMessage","hideMessage","Widget","NLS_CASE_SENSITIVE_TOGGLE_LABEL","NLS_WHOLE_WORD_TOGGLE_LABEL","NLS_REGEX_TOGGLE_LABEL","_Toggle","opts","Codicon","inputActiveOptionBorder","inputActiveOptionForeground","inputActiveOptionBackground","Toggle","_Toggle2","_Toggle3","NLS_PRESERVE_CASE_LABEL","PreserveCaseToggle","ReplaceInput","_showOptionButtons","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","appendPreserveCaseLabel","preserveCase","newWidth","HighlightedLabel","highlights","didEverRender","escapeNewLines","objects","pos","highlight","substring","_element$classList","extraClasses","extra","HoverWidget","containerDomNode","contentsDomNode","scrollbar","DomScrollableElement","consumeMouseWheelIfScrollbarIsNeeded","getDomNode","scanDomNode","HoverAction","_Disposable2","actionOptions","keybindingLabel","actionContainer","iconClass","CLICK","KEY_DOWN","setEnabled","FastLabelNode","disposed","_textContent","empty","_empty","marginLeft","IconLabel","customHovers","creationOptions","labelContainer","nameContainer","supportHighlights","nameNode","LabelWithHighlights","Label","description","labelClasses","containerClasses","italic","strikethrough","disabledCommand","setupHover","descriptionTitle","setLabel","descriptionNode","getOrCreateDescriptionNode","descriptionMatches","labelEscapeNewLines","htmlElement","previousCustomHover","delete","hoverDisposable","setupNativeHover","values","descriptionContainer","supportDescriptionHighlights","singleLabel","innerText","domId","l","separator","matches","labels","labelStart","labelRange","range","_ref","splitMatches","m","isString","stripIcons","markdownNotSupportedFallback","UpdatableHoverWidget","fadeInAnimation","resolvedContent","token","_cancellationTokenSource","abrupt","isFunction","_hoverWidget","localize","CancellationTokenSource","sent","isCancellationRequested","oldHoverWidget","hasContent","hoverOptions","showPointer","placement","hoverPosition","skipFadeInAnimation","showHover","isMarkdownString","hoverPreparation","hoverWidget","hideHover","disposeWidget","disposePreparation","hadHover","onDidHideHover","triggerShowHover","delay","TimeoutTimer","_callee2","_context2","mouseOverDomEmitter","toDispose","fromElement","targetElements","newContent","_callee3","_context3","labelWithIconsRegex","RegExp","ThemeIcon","textStart","textStop","exec","_match","_match2","_slicedToArray","escaped","codicon","renderIcon","_node$classList","unthemedInboxStyles","inputBackground","inputForeground","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","inputBorder","inputValidationErrorForeground","inputValidationInfoForeground","inputValidationWarningForeground","InputBox","maxHeight","POSITIVE_INFINITY","_onDidChange","_onDidHeightChange","onDidHeightChange","wrapper","onfocus","onblur","mirror","scrollableElement","ScrollableElement","vertical","whiteSpace","wordWrap","onScroll","onAnchoredSelectionChange","selection","getSelection","anchorNode","updateScrollDimensions","showPlaceholderOnFocus","setPlaceHolder","setTooltip","onValueChange","onBlur","onFocus","ignoreGesture","updateMirror","actionbar","applyStyles","_hideMessage","_showMessage","placeHolder","newValue","cachedHeight","getTotalHeight","setSelectionRange","scrollWidth","selectionEnd","selectionStart","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","force","classForType","stylesForType","asCssValueWithDefault","hasFocus","errorMsg","hasAttribute","div","alertText","getTotalWidth","showContextView","renderOptions","spanElement","formatContent","aria","hideContextView","suffix","charCodeAt","previousHeight","_InputBox","NLS_PLACEHOLDER_HISTORY_HINT","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS","_onDidFocus","HistoryNavigator","addSuffix","getHistory","suffixedPlaceholder","observer","MutationObserver","mutationList","mutation","observe","attributeFilter","resetPlaceholder","historyHint","revertedPlaceholder","disconnect","always","getCurrentValue","isLast","isNowhere","has","addToHistory","getNextValue","previous","getPreviousValue","currentValue","last","first","unthemedKeybindingLabelOptions","keybindingLabelBackground","keybindingLabelForeground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","KeybindingLabel","os","keyElements","Set","labelForeground","areSame","_this$keybinding$getC","getChords","_this$keybinding$getC2","firstChord","secondChord","renderChord","firstPart","chordPart","disableTitle","getAriaLabel","renderUnboundKeybindings","renderUnbound","chord","modifierLabels","UILabelProvider","renderKey","Boolean","keyLabel","createKeyElement","keyElement","borderColor","borderBottomColor","b","PagedRenderer","modelProvider","templateId","renderTemplate","disposable","_","model","isResolved","renderElement","cts","promise","cancel","renderPlaceholder","entry","disposeTemplate","PagedAccessibilityProvider","accessibilityProvider","getWidgetAriaLabel","PagedList","user","virtualDelegate","renderers","pagedRenderers","List","fromPagedListOptions","updateOptions","getHTMLElement","onDidDispose","onMouseDblClick","_model","onPointer","_ref2","onDidChangeSelection","_ref3","getFocus","_this6","groupIntersect","groups","intersection","much","_len","_key","previousGroup","group","consolidate","g","RangeMap","_size","deleteCount","items","diff","before","after","middle","newSize","floor","indexAt","groupCount","newCount","RowCache","cache","transactionNodesPendingRemoval","inTransaction","getTemplateCache","isStale","templateData","getRenderer","row","isReusingConnectedDomNode","releaseRow","makeChanges","Error","doRemoveNode","removeFromParent","cachedRows","cachedRow","StaticDND","CurrentDragAndDropData","DefaultOptions","useShadows","verticalScrollMode","setRowLineHeight","setRowHeight","supportDynamicHeights","dnd","getDragElements","getDragURI","onDragStart","onDragOver","drop","horizontalScrolling","transformOptimization","alwaysConsumeMouseWheel","ElementsDragAndDropData","ExternalElementsDragAndDropData","NativeDragAndDropData","files","_this$types","file","ListViewAccessibilityProvider","getSetSize","bind","getPosInSet","getRole","ListView","_g","_h","_j","_k","_l","_m","InstanceCount","renderWidth","_scrollHeight","scrollableElementUpdateDisposable","scrollableElementWidthDelayer","Delayer","splicing","dragOverAnimationStopDisposable","dragOverMouseY","canDrop","currentDragFeedbackDisposable","onDragLeaveTimeout","_onDidChangeContentHeight","_horizontalScrolling","itemId","rangeMap","lastRenderTop","lastRenderHeight","mouseSupport","additionalScrollHeight","rowsContainer","overflow","scrollable","Scrollable","forceIntegerValues","smoothScrollDuration","smoothScrolling","scheduleAtNextAnimationFrame","cb","SmoothScrollableElement","horizontal","mouseWheelScrollSensitivity","fastScrollSensitivity","scrollByPage","onTouchChange","toDragEvent","onDrop","onDragLeave","onDragEnd","initialSize","measureItemWidth","updateScrollWidth","getContentWidth","scrollableOptions","setSmoothScrollDuration","_splice","contentHeight","previousRenderRange","getRenderRange","deleteRange","removeRange","rowsToDispose","dragStartDisposable","checkedDisposable","rows","disposeElement","deleted","_this$items","previousRestRange","previousRenderedRestRange","previousUnrenderedRestRanges","inserted","getTemplateId","getHeight","hasDynamicHeight","lastDynamicHeightWidth","dropTarget","delta","renderRange","renderedRestRange","updateRange","updateItemInDOM","removeRanges","removeItemFromDOM","unrenderedRestRanges","insertRanges","beforeElement","getNextToLastElement","insertItemInDOM","_step5","_iterator5","_step6","_iterator6","release","eventuallyUpdateScrollDimensions","_rerender","renderHeight","trigger","_step7","_iterator7","_step8","_iterator8","getScrollDimensions","firstElTop","positionAt","nextElTop","indexAfter","scrollDimensions","getContentHeight","renderTop","renderLeft","updateItemsInDOM","rangesToInsert","rangesToRemove","rangesToUpdate","transact","_step9","_iterator9","_step10","_iterator10","alloc","role","eventuallyUpdateScrollWidth","getComputedStyle","parseFloat","elementTop","getElementDomId","getScrollPosition","reuseAnimation","getScrollTop","setScrollTop","_this7","toMouseEvent","_this8","_this9","_this10","_this11","_this12","_this13","toGestureEvent","_this14","toTouchEvent","_this15","getItemIndexFromEventTarget","inSmoothScrolling","error","effectAllowed","setDragImage","getDragLabel","dragImage","getDragImageContainer","currentDragData","_this16","getData","setupDragAndDropScrollTopAnimation","feedback","f1","f2","accept","currentDragFeedback","dropEffect","effect","distinct","sort","_step11","_iterator11","_step12","_iterator12","_this17","disposableTimeout","clearDragOverFeedback","dragData","teardownDragAndDropScrollTopAnimation","_this18","dragOverAnimationDisposable","viewTop","getTopLeftOffset","animate","animateDragAndDropScrollTop","upperLimit","rawIndex","isNaN","anchorElementIndex","anchorElementTopDelta","heightDiff","didChange","probeDynamicHeight","_step13","unrenderRanges","_iterator13","_step14","renderRanges","_iterator14","afterIndex","beforeRow","deltaScrollTop","getFutureScrollPosition","newScrollTop","getDynamicHeight","offsetHeight","BugIndicatingError","setDynamicHeight","ranges","lastRange","nextToLastItem","_step15","_iterator15","parentNode","CombinedSpliceable","spliceables","ListError","_Error","_wrapNativeSuper","TraitRenderer","trait","renderedElementIndex","rendered","unrender","renderIndex","insertCount","_step2$value","Trait","_trait","sortedIndexes","_onChange","hasTrait","_set","numericSort","sortedResult","toRender","disjunction","renderIndexes","binarySearch","SelectionTrait","_Trait","setAriaSelected","TraitSpliceable","identityProvider","pastElementsWithTrait","getId","elementsWithTrait","isInputElement","isMonacoEditor","isButton","TypeNavigationMode","TypeNavigationControllerState","KeyboardController","multipleSelectionDisposables","on","onEnter","onUpArrow","onDownArrow","onPageUpArrow","onPageDownArrow","onEscape","multipleSelectionSupport","onCtrlA","optionsUpdate","setSelection","setAnchor","reveal","focusPreviousPage","focusNextPage","DefaultKeyboardNavigationDelegate","_class","TypeNavigationController","keyboardNavigationLabelProvider","keyboardNavigationEventFilter","Idle","Automatic","triggered","previouslyFocused","enabledDisposables","typeNavigationEnabled","typeNavigationMode","typing","onChar","mightProducePrintableCharacter","onClear","word","Typing","getKeyboardNavigationLabel","labelStr","matchesPrefix","setFocus","DOMFocusController","onTab","focusedDomElement","domElement","tabIndexElement","querySelector","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","DefaultMultipleSelectionController","MouseController","_onPointer","multipleSelectionController","onContextMenu","onDoubleClick","onMouseClick","onMouseMiddleClick","onTap","onViewPointer","domFocus","changeSelection","isSelectionChangeEvent","currentFocus","rangeSelection","contiguousRange","reverse","getContiguousRangeContaining","newSelection","one","j","relativeComplement","DefaultStyleController","styleElement","selectorSuffix","listBackground","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listActiveSelectionIconForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","focusAndSelectionOutline","listFocusAndSelectionOutline","listSelectionOutline","listFocusOutline","inactiveFocusAndSelectionOutline","listInactiveFocusOutline","listHoverOutline","listDropBackground","tableColumnsBorder","tableOddRowsBackgroundColor","unthemedListStyles","treeIndentGuidesStroke","treeInactiveIndentGuidesStroke","transparent","keyboardSupport","PipelineRenderer","_templateId","AccessibiltyRenderer","ariaLevel","getAriaLevel","ListViewDragAndDrop","getSelectedElements","originalEvent","targetElement","targetIndex","_options","eventBufferer","EventBufferer","_ariaLabel","_onDidDispose","getWidgetRole","baseRenderers","onDidChangeActiveDescendant","viewOptions","createListView","styleController","createStyleSheet","spliceable","keyboardController","keyboardNavigationDelegate","typeNavigationController","mouseController","createMouseController","onDidChangeFocus","_onFocusChange","_onSelectionChange","wrapEvent","toListEvent","onMouseOver","onMouseOut","didJustPressContextMenuKey","fromKeyDown","fromKeyUp","fromMouse","bufferEvents","rerender","firstVisibleIndex","firstOrDefault","loop","findNextIndex","findPreviousIndex","lastPageIndex","currentlyFocusedElementIndex","lastGoodPageIndex","previousScrollTop","nextpageScrollTop","elementHeight","timeout","firstPageIndex","firstGoodPageIndex","focusNth","relativeTop","isNumber","clamp","viewItemBottom","scrollBottom","getActiveDescendantId","Direction","MENU_MNEMONIC_REGEX","MENU_ESCAPED_MNEMONIC_REGEX","Menu","_ActionBar","menuStyles","menuElement","doGetActionViewItem","parentData","isLinux","menuDisposables","initializeOrUpdateStyleSheet","enableMnemonics","toLocaleLowerCase","mnemonics","SubmenuMenuActionViewItem","focusItemByElement","relatedTarget","isAncestor","lastFocusedItem","setFocusedItem","verticalScrollbarSize","handleMouseWheel","scrollElement","styleScrollElement","submenuIds","MenuSeparatorActionViewItem","array","updatePositionInSet","styleSheet","isInShadowDOM","globalStyleSheet","isForShadowDom","formatRule","scrollbarShadowColor","scrollbarShadow","scrollbarSliderBackgroundColor","scrollbarSliderBackground","scrollbarSliderHoverBackgroundColor","scrollbarSliderHoverBackground","scrollbarSliderActiveBackgroundColor","scrollbarSliderActiveBackground","getMenuWidgetCSS","fgColor","foregroundColor","bgColor","shadow","shadowColor","outline","borderRadius","round","SubmenuAction","menuActionViewItem","mnemonic","getMnemonic","actionViewItems","menuItemOptions","getLabel","BaseMenuActionViewItem","menuStyle","runOnceToEnableMouseUp","RunOnceScheduler","check","schedule","applyStyle","setSize","cleanLabel","mnemonicInText","cleanMnemonic","strings","lastIndex","escMatch","replaceDoubleEscapes","str","_this$item$classList","isSelected","selectionForegroundColor","selectionBackgroundColor","selectionBorderColor","outlineOffset","_BaseMenuActionViewIt","submenuActions","submenuOptions","mysubmenu","submenuDisposables","mouseOver","expandDirection","Right","showScheduler","cleanupExistingSubmenu","createSubmenu","hideScheduler","getActiveElement","submenu","updateAriaExpanded","submenuIndicator","submenuContainer","windowDimensions","selectFirstItem","computedStyles","paddingTop","EmptySubmenuAction","entryBox","entryBoxUpdated","viewBox","_this$calculateSubmen","calculateSubmenuMenuLayout","Dimension","_ActionViewItem","_super4","separatorColor","fontCharacter","getCodiconFontCharacters"],"sourceRoot":""}