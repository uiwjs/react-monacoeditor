"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[103],{26488:function(e,t,n){n.d(t,{N:function(){return a}});var i=n(15671),r=n(43144),a=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"getLanguageId",value:function(e){return(255&e)>>>0}},{key:"getTokenType",value:function(e){return(768&e)>>>8}},{key:"containsBalancedBrackets",value:function(e){return 0!==(1024&e)}},{key:"getFontStyle",value:function(e){return(30720&e)>>>11}},{key:"getForeground",value:function(e){return(16744448&e)>>>15}},{key:"getBackground",value:function(e){return(4278190080&e)>>>24}},{key:"getClassNameFromMetadata",value:function(e){var t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),8&n&&(t+=" mtks"),t}},{key:"getInlineStyleFromMetadata",value:function(e,t){var n=this.getForeground(e),i=this.getFontStyle(e),r="color: ".concat(t[n],";");1&i&&(r+="font-style: italic;"),2&i&&(r+="font-weight: bold;");var a="";return 4&i&&(a+=" underline"),8&i&&(a+=" line-through"),a&&(r+="text-decoration:".concat(a,";")),r}},{key:"getPresentationFromMetadata",value:function(e){var t=this.getForeground(e),n=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}]),e}()},81562:function(e,t,n){n.d(t,{c:function(){return g}});var i=n(37762),r=n(15671),a=n(43144),o=n(28941),s=n(10526),u=n(36158),l=n(97998),f=n(38590);function h(e,t,n,r,a,o){if(Array.isArray(e)){var s,u=0,c=(0,i.Z)(e);try{for(c.s();!(s=c.n()).done;){var d=h(s.value,t,n,r,a,o);if(10===d)return d;d>u&&(u=d)}}catch(I){c.e(I)}finally{c.f()}return u}if("string"===typeof e)return r?"*"===e?5:e===n?10:0:0;if(e){var g=e.language,v=e.pattern,k=e.scheme,p=e.hasAccessToAllModels,m=e.notebookType;if(!r&&!p)return 0;m&&a&&(t=a);var C=0;if(k)if(k===t.scheme)C=10;else{if("*"!==k)return 0;C=5}if(g)if(g===n)C=10;else{if("*"!==g)return 0;C=Math.max(C,5)}if(m)if(m===o)C=10;else{if("*"!==m||void 0===o)return 0;C=Math.max(C,5)}if(v){var y;if((y="string"===typeof v?v:Object.assign(Object.assign({},v),{base:(0,f.Fv)(v.base)}))!==t.fsPath&&!(0,l.EQ)(y,t.fsPath))return 0;C=10}return C}return 0}function c(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(c):!!e.exclusive)}var d=function(){function e(t,n,i,a){(0,r.Z)(this,e),this.uri=t,this.languageId=n,this.notebookUri=i,this.notebookType=a}return(0,a.Z)(e,[{key:"equals",value:function(e){var t,n;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(t=this.notebookUri)||void 0===t?void 0:t.toString())===(null===(n=e.notebookUri)||void 0===n?void 0:n.toString())}}]),e}(),g=function(){function e(t){(0,r.Z)(this,e),this._notebookInfoResolver=t,this._clock=0,this._entries=[],this._onDidChange=new o.Q5,this.onDidChange=this._onDidChange.event}return(0,a.Z)(e,[{key:"register",value:function(e,t){var n=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,s.OF)((function(){if(i){var e=n._entries.indexOf(i);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),i=void 0)}}))}},{key:"has",value:function(e){return this.all(e).length>0}},{key:"all",value:function(e){if(!e)return[];this._updateScores(e);var t,n=[],r=(0,i.Z)(this._entries);try{for(r.s();!(t=r.n()).done;){var a=t.value;a._score>0&&n.push(a.provider)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"ordered",value:function(e){var t=[];return this._orderedForEach(e,(function(e){return t.push(e.provider)})),t}},{key:"orderedGroups",value:function(e){var t,n,i=[];return this._orderedForEach(e,(function(e){t&&n===e._score?t.push(e.provider):(n=e._score,t=[e.provider],i.push(t))})),i}},{key:"_orderedForEach",value:function(e,t){this._updateScores(e);var n,r=(0,i.Z)(this._entries);try{for(r.s();!(n=r.n()).done;){var a=n.value;a._score>0&&t(a)}}catch(o){r.e(o)}finally{r.f()}}},{key:"_updateScores",value:function(t){var n,r,a=null===(n=this._notebookInfoResolver)||void 0===n?void 0:n.call(this,t.uri),o=a?new d(t.uri,t.getLanguageId(),a.uri,a.type):new d(t.uri,t.getLanguageId(),void 0,void 0);if(!(null===(r=this._lastCandidate)||void 0===r?void 0:r.equals(o))){this._lastCandidate=o;var s,l=(0,i.Z)(this._entries);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(f._score=h(f.selector,o.uri,o.languageId,(0,u.pt)(t),o.notebookUri,o.notebookType),c(f.selector)&&f._score>0){var g,v=(0,i.Z)(this._entries);try{for(v.s();!(g=v.n()).done;){g.value._score=0}}catch(k){v.e(k)}finally{v.f()}f._score=1e3;break}}}catch(k){l.e(k)}finally{l.f()}this._entries.sort(e._compareByScoreAndTime)}}}],[{key:"_compareByScoreAndTime",value:function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}]),e}()},56417:function(e,t,n){n.d(t,{AD:function(){return y},DI:function(){return k},MY:function(){return o},RW:function(){return I},WU:function(){return g},WW:function(){return a},bw:function(){return r},gX:function(){return i},gl:function(){return C},hG:function(){return v},mY:function(){return m},uZ:function(){return s},vx:function(){return p}});var i,r,a,o,s,u=n(15671),l=n(43144),f=n(7579),h=n(50605),c=n(30788),d=n(72669),g=function(){function e(t,n,i){(0,u.Z)(this,e),this.offset=t,this.type=n,this.language=i,this._tokenBrand=void 0}return(0,l.Z)(e,[{key:"toString",value:function(){return"("+this.offset+", "+this.type+")"}}]),e}(),v=(0,l.Z)((function e(t,n){(0,u.Z)(this,e),this.tokens=t,this.endState=n,this._tokenizationResultBrand=void 0})),k=(0,l.Z)((function e(t,n){(0,u.Z)(this,e),this.tokens=t,this.endState=n,this._encodedTokenizationResultBrand=void 0}));function p(e){return e&&h.o.isUri(e.uri)&&c.e.isIRange(e.range)&&(c.e.isIRange(e.originSelectionRange)||c.e.isIRange(e.targetSelectionRange))}!function(e){var t=new Map;t.set(0,f.l.symbolMethod),t.set(1,f.l.symbolFunction),t.set(2,f.l.symbolConstructor),t.set(3,f.l.symbolField),t.set(4,f.l.symbolVariable),t.set(5,f.l.symbolClass),t.set(6,f.l.symbolStruct),t.set(7,f.l.symbolInterface),t.set(8,f.l.symbolModule),t.set(9,f.l.symbolProperty),t.set(10,f.l.symbolEvent),t.set(11,f.l.symbolOperator),t.set(12,f.l.symbolUnit),t.set(13,f.l.symbolValue),t.set(15,f.l.symbolEnum),t.set(14,f.l.symbolConstant),t.set(15,f.l.symbolEnum),t.set(16,f.l.symbolEnumMember),t.set(17,f.l.symbolKeyword),t.set(27,f.l.symbolSnippet),t.set(18,f.l.symbolText),t.set(19,f.l.symbolColor),t.set(20,f.l.symbolFile),t.set(21,f.l.symbolReference),t.set(22,f.l.symbolCustomColor),t.set(23,f.l.symbolFolder),t.set(24,f.l.symbolTypeParameter),t.set(25,f.l.account),t.set(26,f.l.issues),e.toIcon=function(e){var n=t.get(e);return n||(console.info("No codicon found for CompletionItemKind "+e),n=f.l.symbolProperty),n};var n=new Map;n.set("method",0),n.set("function",1),n.set("constructor",2),n.set("field",3),n.set("variable",4),n.set("class",5),n.set("struct",6),n.set("interface",7),n.set("module",8),n.set("property",9),n.set("event",10),n.set("operator",11),n.set("unit",12),n.set("value",13),n.set("constant",14),n.set("enum",15),n.set("enum-member",16),n.set("enumMember",16),n.set("keyword",17),n.set("snippet",27),n.set("text",18),n.set("color",19),n.set("file",20),n.set("reference",21),n.set("customcolor",22),n.set("folder",23),n.set("type-parameter",24),n.set("typeParameter",24),n.set("account",25),n.set("issue",26),e.fromString=function(e,t){var i=n.get(e);return"undefined"!==typeof i||t||(i=9),i}}(i||(i={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(r||(r={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(a||(a={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(o||(o={})),function(e){var t=new Map;t.set(0,f.l.symbolFile),t.set(1,f.l.symbolModule),t.set(2,f.l.symbolNamespace),t.set(3,f.l.symbolPackage),t.set(4,f.l.symbolClass),t.set(5,f.l.symbolMethod),t.set(6,f.l.symbolProperty),t.set(7,f.l.symbolField),t.set(8,f.l.symbolConstructor),t.set(9,f.l.symbolEnum),t.set(10,f.l.symbolInterface),t.set(11,f.l.symbolFunction),t.set(12,f.l.symbolVariable),t.set(13,f.l.symbolConstant),t.set(14,f.l.symbolString),t.set(15,f.l.symbolNumber),t.set(16,f.l.symbolBoolean),t.set(17,f.l.symbolArray),t.set(18,f.l.symbolObject),t.set(19,f.l.symbolKey),t.set(20,f.l.symbolNull),t.set(21,f.l.symbolEnumMember),t.set(22,f.l.symbolStruct),t.set(23,f.l.symbolEvent),t.set(24,f.l.symbolOperator),t.set(25,f.l.symbolTypeParameter),e.toIcon=function(e){var n=t.get(e);return n||(console.info("No codicon found for SymbolKind "+e),n=f.l.symbolProperty),n}}(s||(s={}));var m,C,y=function(){function e(t){(0,u.Z)(this,e),this.value=t}return(0,l.Z)(e,null,[{key:"fromValue",value:function(t){switch(t){case"comment":return e.Comment;case"imports":return e.Imports;case"region":return e.Region}return new e(t)}}]),e}();y.Comment=new y("comment"),y.Imports=new y("imports"),y.Region=new y("region"),function(e){e.is=function(e){return!(!e||"object"!==typeof e)&&("string"===typeof e.id&&"string"===typeof e.title)}}(m||(m={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(C||(C={}));var I=new d.R},83692:function(e,t,n){n.d(t,{$9:function(){return f},UF:function(){return l},n8:function(){return u},r7:function(){return s},tI:function(){return h}});var i=n(26684),r=n(75057),a=n(10222),o=n(26765);function s(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e<4)return null;var o=(arguments.length>4?arguments[4]:void 0).getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(n<=1)return{indentation:"",action:null};for(var s=n-1;s>0&&""===t.getLineContent(s);s--)if(1===s)return{indentation:"",action:null};var u=function(e,t,n){var i=e.tokenization.getLanguageIdAtPosition(t,0);if(t>1){var r,a=-1;for(r=t-1;r>=1;r--){if(e.tokenization.getLanguageIdAtPosition(r,0)!==i)return a;var o=e.getLineContent(r);if(!n.shouldIgnore(o)&&!/^\s+$/.test(o)&&""!==o)return r;a=r}}return-1}(t,n,o);if(u<0)return null;if(u<1)return{indentation:"",action:null};var l=t.getLineContent(u);if(o.shouldIncrease(l)||o.shouldIndentNextLine(l))return{indentation:i.V8(l),action:r.wU.Indent,line:u};if(o.shouldDecrease(l))return{indentation:i.V8(l),action:null,line:u};if(1===u)return{indentation:i.V8(t.getLineContent(u)),action:null,line:u};var f=u-1,h=o.getIndentMetadata(t.getLineContent(f));if(!(3&h)&&4&h){for(var c=0,d=f-1;d>0;d--)if(!o.shouldIndentNextLine(t.getLineContent(d))){c=d;break}return{indentation:i.V8(t.getLineContent(c+1)),action:null,line:c+1}}if(a)return{indentation:i.V8(t.getLineContent(u)),action:null,line:u};for(var g=u;g>0;g--){var v=t.getLineContent(g);if(o.shouldIncrease(v))return{indentation:i.V8(v),action:r.wU.Indent,line:g};if(o.shouldIndentNextLine(v)){for(var k=0,p=g-1;p>0;p--)if(!o.shouldIndentNextLine(t.getLineContent(g))){k=p;break}return{indentation:i.V8(t.getLineContent(k+1)),action:null,line:k+1}}if(o.shouldDecrease(v))return{indentation:i.V8(v),action:null,line:g}}return{indentation:i.V8(t.getLineContent(1)),action:null,line:1}}function u(e,t,n,a,o,u){if(e<4)return null;var l=u.getLanguageConfiguration(n);if(!l)return null;var f=u.getLanguageConfiguration(n).indentRulesSupport;if(!f)return null;var h=s(e,t,a,void 0,u),c=t.getLineContent(a);if(h){var d=h.line;if(void 0!==d){for(var g=!0,v=d;v<a-1;v++)if(!/^\s*$/.test(t.getLineContent(v))){g=!1;break}if(g){var k=l.onEnter(e,"",t.getLineContent(d),"");if(k){var p=i.V8(t.getLineContent(d));return k.removeText&&(p=p.substring(0,p.length-k.removeText)),k.indentAction===r.wU.Indent||k.indentAction===r.wU.IndentOutdent?p=o.shiftIndent(p):k.indentAction===r.wU.Outdent&&(p=o.unshiftIndent(p)),f.shouldDecrease(c)&&(p=o.unshiftIndent(p)),k.appendText&&(p+=k.appendText),i.V8(p)}}}return f.shouldDecrease(c)?h.action===r.wU.Indent?h.indentation:o.unshiftIndent(h.indentation):h.action===r.wU.Indent?o.shiftIndent(h.indentation):h.indentation}return null}function l(e,t,n,u,l){if(e<4)return null;t.tokenization.forceTokenization(n.startLineNumber);var f,h,c=t.tokenization.getLineTokens(n.startLineNumber),d=(0,a.wH)(c,n.startColumn-1),g=d.getLineContent(),v=!1;(d.firstCharOffset>0&&c.getLanguageId(0)!==d.languageId?(v=!0,f=g.substr(0,n.startColumn-1-d.firstCharOffset)):f=c.getLineContent().substring(0,n.startColumn-1),n.isEmpty())?h=g.substr(n.startColumn-1-d.firstCharOffset):h=(0,o.n2)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-d.firstCharOffset);var k=l.getLanguageConfiguration(d.languageId).indentRulesSupport;if(!k)return null;var p=f,m=i.V8(f),C={tokenization:{getLineTokens:function(e){return t.tokenization.getLineTokens(e)},getLanguageId:function(){return t.getLanguageId()},getLanguageIdAtPosition:function(e,n){return t.getLanguageIdAtPosition(e,n)}},getLineContent:function(e){return e===n.startLineNumber?p:t.getLineContent(e)}},y=i.V8(c.getLineContent()),I=s(e,C,n.startLineNumber+1,void 0,l);if(!I){var b=v?y:m;return{beforeEnter:b,afterEnter:b}}var _=v?y:I.indentation;return I.action===r.wU.Indent&&(_=u.shiftIndent(_)),k.shouldDecrease(h)&&(_=u.unshiftIndent(_)),{beforeEnter:v?y:m,afterEnter:_}}function f(e,t,n,i,a,u){if(e<4)return null;var l=(0,o.n2)(t,n.startLineNumber,n.startColumn);if(l.firstCharOffset)return null;var f=u.getLanguageConfiguration(l.languageId).indentRulesSupport;if(!f)return null;var h,c=l.getLineContent(),d=c.substr(0,n.startColumn-1-l.firstCharOffset);n.isEmpty()?h=c.substr(n.startColumn-1-l.firstCharOffset):h=(0,o.n2)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-l.firstCharOffset);if(!f.shouldDecrease(d+h)&&f.shouldDecrease(d+i+h)){var g=s(e,t,n.startLineNumber,!1,u);if(!g)return null;var v=g.indentation;return g.action!==r.wU.Indent&&(v=a.unshiftIndent(v)),v}return null}function h(e,t,n){var i=n.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}},16485:function(e,t,n){n.d(t,{A:function(){return a}});var i=n(75057),r=n(26765);function a(e,t,n,a){var o=(0,r.n2)(t,n.startLineNumber,n.startColumn),s=a.getLanguageConfiguration(o.languageId);if(!s)return null;var u,l=o.getLineContent(),f=l.substr(0,n.startColumn-1-o.firstCharOffset);n.isEmpty()?u=l.substr(n.startColumn-1-o.firstCharOffset):u=(0,r.n2)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset);var h="";if(n.startLineNumber>1&&0===o.firstCharOffset){var c=(0,r.n2)(t,n.startLineNumber-1);c.languageId===o.languageId&&(h=c.getLineContent())}var d=s.onEnter(e,h,f,u);if(!d)return null;var g=d.indentAction,v=d.appendText,k=d.removeText||0;v?g===i.wU.Indent&&(v="\t"+v):v=g===i.wU.Indent||g===i.wU.IndentOutdent?"\t":"";var p=(0,r.u0)(t,n.startLineNumber,n.startColumn);return k&&(p=p.substring(0,p.length-k)),{indentAction:g,appendText:v,removeText:k,indentation:p}}},63024:function(e,t,n){n.d(t,{O:function(){return i}});var i=(0,n(8850).yh)("languageService")},75057:function(e,t,n){n.d(t,{V6:function(){return s},c$:function(){return u},wU:function(){return i}});var i,r=n(37762),a=n(15671),o=n(43144);!function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(i||(i={}));var s=function(){function e(t){if((0,a.Z)(this,e),this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=t.open,this.close=t.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(t.notIn))for(var n=0,i=t.notIn.length;n<i;n++){switch(t.notIn[n]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}}return(0,o.Z)(e,[{key:"isOK",value:function(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}},{key:"shouldAutoClose",value:function(e,t){if(0===e.getTokenCount())return!0;var n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}},{key:"_findNeutralCharacterInRange",value:function(e,t){for(var n=e;n<=t;n++){var i=String.fromCharCode(n);if(!this.open.includes(i)&&!this.close.includes(i))return i}return null}},{key:"findNeutralCharacter",value:function(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}]),e}(),u=(0,o.Z)((function e(t){(0,a.Z)(this,e),this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;l(this.autoClosingPairsOpenByStart,o.open.charAt(0),o),l(this.autoClosingPairsOpenByEnd,o.open.charAt(o.open.length-1),o),l(this.autoClosingPairsCloseByStart,o.close.charAt(0),o),l(this.autoClosingPairsCloseByEnd,o.close.charAt(o.close.length-1),o),1===o.close.length&&1===o.open.length&&l(this.autoClosingPairsCloseSingleChar,o.close,o)}}catch(s){i.e(s)}finally{i.f()}}));function l(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},26765:function(e,t,n){n.d(t,{c_:function(){return z},u0:function(){return W},n2:function(){return H}});var i=n(37762),r=n(29439),a=n(60136),o=n(27277),s=n(15671),u=n(43144),l=n(28941),f=n(10526),h=n(26684),c=n(47433),d=n(75057),g=n(10222),v=function(){function e(t){if((0,s.Z)(this,e),t.autoClosingPairs?this._autoClosingPairs=t.autoClosingPairs.map((function(e){return new d.V6(e)})):t.brackets?this._autoClosingPairs=t.brackets.map((function(e){return new d.V6({open:e[0],close:e[1]})})):this._autoClosingPairs=[],t.__electricCharacterSupport&&t.__electricCharacterSupport.docComment){var n=t.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new d.V6({open:n.open,close:n.close||""}))}this._autoCloseBeforeForQuotes="string"===typeof t.autoCloseBefore?t.autoCloseBefore:e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"===typeof t.autoCloseBefore?t.autoCloseBefore:e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}return(0,u.Z)(e,[{key:"getAutoClosingPairs",value:function(){return this._autoClosingPairs}},{key:"getAutoCloseBeforeSet",value:function(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}},{key:"getSurroundingPairs",value:function(){return this._surroundingPairs}}]),e}();v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t";var k=n(71881),p=n(92586),m=function(){function e(t){(0,s.Z)(this,e),this._richEditBrackets=t}return(0,u.Z)(e,[{key:"getElectricCharacters",value:function(){var e=[];if(this._richEditBrackets){var t,n=(0,i.Z)(this._richEditBrackets.brackets);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,o=(0,i.Z)(a.close);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.charAt(s.length-1);e.push(u)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}}return(0,k.EB)(e)}},{key:"onElectricCharacter",value:function(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var i=t.findTokenIndexAtOffset(n-1);if((0,g.Bu)(t.getStandardTokenType(i)))return null;var r=this._richEditBrackets.reversedRegex,a=t.getLineContent().substring(0,n-1)+e,o=p.Vr.findPrevBracketInRange(r,1,a,0,a.length);if(!o)return null;var s=a.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[s])return null;var u=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:s}:null}}]),e}();function C(e){return e.global&&(e.lastIndex=0),!0}var y=function(){function e(t){(0,s.Z)(this,e),this._indentationRules=t}return(0,u.Z)(e,[{key:"shouldIncrease",value:function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&C(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}},{key:"shouldDecrease",value:function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&C(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}},{key:"shouldIndentNextLine",value:function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&C(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}},{key:"shouldIgnore",value:function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&C(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}},{key:"getIndentMetadata",value:function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}]),e}(),I=n(68552),b=function(){function e(t){var n=this;(0,s.Z)(this,e),(t=t||{}).brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],t.brackets.forEach((function(t){var i=e._createOpenBracketRegExp(t[0]),r=e._createCloseBracketRegExp(t[1]);i&&r&&n._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})})),this._regExpRules=t.onEnterRules||[]}return(0,u.Z)(e,[{key:"onEnter",value:function(e,t,n,i){if(e>=3)for(var r=0,a=this._regExpRules.length;r<a;r++){var o=this._regExpRules[r];if([{reg:o.beforeText,text:n},{reg:o.afterText,text:i},{reg:o.previousLineText,text:t}].every((function(e){return!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))})))return o.action}if(e>=2&&n.length>0&&i.length>0)for(var s=0,u=this._brackets.length;s<u;s++){var l=this._brackets[s];if(l.openRegExp.test(n)&&l.closeRegExp.test(i))return{indentAction:d.wU.IndentOutdent}}if(e>=2&&n.length>0)for(var f=0,h=this._brackets.length;f<h;f++){if(this._brackets[f].openRegExp.test(n))return{indentAction:d.wU.Indent}}return null}}],[{key:"_createOpenBracketRegExp",value:function(t){var n=h.ec(t);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",e._safeRegExp(n)}},{key:"_createCloseBracketRegExp",value:function(t){var n=h.ec(t);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,e._safeRegExp(n)}},{key:"_safeRegExp",value:function(e){try{return new RegExp(e)}catch(t){return(0,I.dL)(t),null}}}]),e}(),_=n(8850),x=n(64644),L=n(63024),w=n(11280),O=n(73833),B=n(93433),S=n(85600),T=function(){function e(t,n){var a=this;(0,s.Z)(this,e),this.languageId=t;var o,u=n.brackets?E(n.brackets):[],l=new S.b((function(e){var t=new Set;return{info:new R(a,e,t),closing:t}})),f=new S.b((function(e){var t=new Set,n=new Set;return{info:new M(a,e,t,n),opening:t,openingColorized:n}})),h=(0,i.Z)(u);try{for(h.s();!(o=h.n()).done;){var c=(0,r.Z)(o.value,2),d=c[0],g=c[1],v=l.get(d),k=f.get(g);v.closing.add(k.info),k.opening.add(v.info)}}catch(L){h.e(L)}finally{h.f()}var p,m=n.colorizedBracketPairs?E(n.colorizedBracketPairs):u.filter((function(e){return!("<"===e[0]&&">"===e[1])})),C=(0,i.Z)(m);try{for(C.s();!(p=C.n()).done;){var y=(0,r.Z)(p.value,2),I=y[0],b=y[1],_=l.get(I),x=f.get(b);_.closing.add(x.info),x.openingColorized.add(_.info),x.opening.add(_.info)}}catch(L){C.e(L)}finally{C.f()}this._openingBrackets=new Map((0,B.Z)(l.cachedValues).map((function(e){var t=(0,r.Z)(e,2);return[t[0],t[1].info]}))),this._closingBrackets=new Map((0,B.Z)(f.cachedValues).map((function(e){var t=(0,r.Z)(e,2);return[t[0],t[1].info]})))}return(0,u.Z)(e,[{key:"openingBrackets",get:function(){return(0,B.Z)(this._openingBrackets.values())}},{key:"closingBrackets",get:function(){return(0,B.Z)(this._closingBrackets.values())}},{key:"getOpeningBracketInfo",value:function(e){return this._openingBrackets.get(e)}},{key:"getClosingBracketInfo",value:function(e){return this._closingBrackets.get(e)}},{key:"getBracketInfo",value:function(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}]),e}();function E(e){return e.filter((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return""!==n&&""!==i}))}var Z=function(){function e(t,n){(0,s.Z)(this,e),this.config=t,this.bracketText=n}return(0,u.Z)(e,[{key:"languageId",get:function(){return this.config.languageId}}]),e}(),R=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,r){var a;return(0,s.Z)(this,n),(a=t.call(this,e,i)).openedBrackets=r,a.isOpeningBracket=!0,a}return(0,u.Z)(n)}(Z),M=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,r,a){var o;return(0,s.Z)(this,n),(o=t.call(this,e,i)).openingBrackets=r,o.openingColorizedBrackets=a,o.isOpeningBracket=!1,o}return(0,u.Z)(n,[{key:"closes",value:function(e){return e.config===this.config&&this.openingBrackets.has(e)}},{key:"closesColorized",value:function(e){return e.config===this.config&&this.openingColorizedBrackets.has(e)}},{key:"getOpeningBrackets",value:function(){return(0,B.Z)(this.openingBrackets)}}]),n}(Z),N=function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},A=function(e,t){return function(n,i){t(n,i,e)}},P=function(){function e(t){(0,s.Z)(this,e),this.languageId=t}return(0,u.Z)(e,[{key:"affects",value:function(e){return!this.languageId||this.languageId===e}}]),e}(),z=(0,_.yh)("languageConfigurationService"),D=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,a){var o;(0,s.Z)(this,n),(o=t.call(this)).configurationService=e,o.languageService=a,o._registry=o._register(new G),o.onDidChangeEmitter=o._register(new l.Q5),o.onDidChange=o.onDidChangeEmitter.event,o.configurations=new Map;var u=new Set(Object.values(F));return o._register(o.configurationService.onDidChangeConfiguration((function(e){var t=e.change.keys.some((function(e){return u.has(e)})),n=e.change.overrides.filter((function(e){var t=(0,r.Z)(e,2);t[0];return t[1].some((function(e){return u.has(e)}))})).map((function(e){return(0,r.Z)(e,1)[0]}));if(t)o.configurations.clear(),o.onDidChangeEmitter.fire(new P(void 0));else{var a,s=(0,i.Z)(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;o.languageService.isRegisteredLanguageId(l)&&(o.configurations.delete(l),o.onDidChangeEmitter.fire(new P(l)))}}catch(f){s.e(f)}finally{s.f()}}}))),o._register(o._registry.onDidChange((function(e){o.configurations.delete(e.languageId),o.onDidChangeEmitter.fire(new P(e.languageId))}))),o}return(0,u.Z)(n,[{key:"register",value:function(e,t,n){return this._registry.register(e,t,n)}},{key:"getLanguageConfiguration",value:function(e){var t=this.configurations.get(e);return t||(t=function(e,t,n,i){var r=t.getLanguageConfiguration(e);if(!r){if(!i.isRegisteredLanguageId(e))return new K(e,{});r=new K(e,{})}var a=function(e,t){var n=t.getValue(F.brackets,{overrideIdentifier:e}),i=t.getValue(F.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:j(n),colorizedBracketPairs:j(i)}}(r.languageId,n),o=U([r.underlyingConfig,a]);return new K(r.languageId,o)}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}}]),n}(f.JT);D=N([A(0,x.Ui),A(1,L.O)],D);var F={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function j(e){if(Array.isArray(e))return e.map((function(e){if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((function(e){return!!e}))}function W(e,t,n){var i=e.getLineContent(t),r=h.V8(i);return r.length>n-1&&(r=r.substring(0,n-1)),r}function H(e,t,n){e.tokenization.forceTokenization(t);var i=e.tokenization.getLineTokens(t),r="undefined"===typeof n?e.getLineMaxColumn(t)-1:n-1;return(0,g.wH)(i,r)}var V=function(){function e(t){(0,s.Z)(this,e),this.languageId=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}return(0,u.Z)(e,[{key:"register",value:function(e,t){var n=this,i=new q(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,f.OF)((function(){for(var e=0;e<n._entries.length;e++)if(n._entries[e]===i){n._entries.splice(e,1),n._resolved=null;break}}))}},{key:"getResolvedConfiguration",value:function(){if(!this._resolved){var e=this._resolve();e&&(this._resolved=new K(this.languageId,e))}return this._resolved}},{key:"_resolve",value:function(){return 0===this._entries.length?null:(this._entries.sort(q.cmp),U(this._entries.map((function(e){return e.configuration}))))}}]),e}();function U(e){var t,n={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0},r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n={comments:a.comments||n.comments,brackets:a.brackets||n.brackets,wordPattern:a.wordPattern||n.wordPattern,indentationRules:a.indentationRules||n.indentationRules,onEnterRules:a.onEnterRules||n.onEnterRules,autoClosingPairs:a.autoClosingPairs||n.autoClosingPairs,surroundingPairs:a.surroundingPairs||n.surroundingPairs,autoCloseBefore:a.autoCloseBefore||n.autoCloseBefore,folding:a.folding||n.folding,colorizedBracketPairs:a.colorizedBracketPairs||n.colorizedBracketPairs,__electricCharacterSupport:a.__electricCharacterSupport||n.__electricCharacterSupport}}}catch(o){r.e(o)}finally{r.f()}return n}var q=function(){function e(t,n,i){(0,s.Z)(this,e),this.configuration=t,this.priority=n,this.order=i}return(0,u.Z)(e,null,[{key:"cmp",value:function(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}]),e}(),Q=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.languageId=t})),G=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this))._entries=new Map,e._onDidChange=e._register(new l.Q5),e.onDidChange=e._onDidChange.event,e._register(e.register(O.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)),e}return(0,u.Z)(n,[{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._entries.get(e);r||(r=new V(e),this._entries.set(e,r));var a=r.register(t,i);return this._onDidChange.fire(new Q(e)),(0,f.OF)((function(){a.dispose(),n._onDidChange.fire(new Q(e))}))}},{key:"getLanguageConfiguration",value:function(e){var t=this._entries.get(e);return(null===t||void 0===t?void 0:t.getResolvedConfiguration())||null}}]),n}(f.JT),K=function(){function e(t,n){(0,s.Z)(this,e),this.languageId=t,this.underlyingConfig=n,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new b(this.underlyingConfig):null,this.comments=e._handleComments(this.underlyingConfig),this.characterPair=new v(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||c.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new y(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new T(t,this.underlyingConfig)}return(0,u.Z)(e,[{key:"getWordDefinition",value:function(){return(0,c.eq)(this.wordDefinition)}},{key:"brackets",get:function(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new p.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}},{key:"electricCharacter",get:function(){return this._electricCharacter||(this._electricCharacter=new m(this.brackets)),this._electricCharacter}},{key:"onEnter",value:function(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}},{key:"getAutoClosingPairs",value:function(){return new d.c$(this.characterPair.getAutoClosingPairs())}},{key:"getAutoCloseBeforeSet",value:function(e){return this.characterPair.getAutoCloseBeforeSet(e)}},{key:"getSurroundingPairs",value:function(){return this.characterPair.getSurroundingPairs()}}],[{key:"_handleComments",value:function(e){var t=e.comments;if(!t)return null;var n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){var i=(0,r.Z)(t.blockComment,2),a=i[0],o=i[1];n.blockCommentStartToken=a,n.blockCommentEndToken=o}return n}}]),e}();(0,w.z)(z,D,1)},48682:function(e,t,n){n.d(t,{E:function(){return c}});var i=n(29439),r=n(15671),a=n(43144),o=n(70779),s=function(){function e(t,n,i){(0,r.Z)(this,e);for(var a=new Uint8Array(t*n),o=0,s=t*n;o<s;o++)a[o]=i;this._data=a,this.rows=t,this.cols=n}return(0,a.Z)(e,[{key:"get",value:function(e,t){return this._data[e*this.cols+t]}},{key:"set",value:function(e,t,n){this._data[e*this.cols+t]=n}}]),e}(),u=function(){function e(t){(0,r.Z)(this,e);for(var n=0,a=0,o=0,u=t.length;o<u;o++){var l=(0,i.Z)(t[o],3),f=l[0],h=l[1],c=l[2];h>n&&(n=h),f>a&&(a=f),c>a&&(a=c)}n++,a++;for(var d=new s(a,n,0),g=0,v=t.length;g<v;g++){var k=(0,i.Z)(t[g],3),p=k[0],m=k[1],C=k[2];d.set(p,m,C)}this._states=d,this._maxCharCode=n}return(0,a.Z)(e,[{key:"nextState",value:function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}]),e}(),l=null;var f=null;var h=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"_createLink",value:function(e,t,n,i,r){var a=r-1;do{var o=t.charCodeAt(a);if(2!==e.get(o))break;a--}while(a>i);if(i>0){var s=t.charCodeAt(i-1),u=t.charCodeAt(a);(40===s&&41===u||91===s&&93===u||123===s&&125===u)&&a--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:a+2},url:t.substring(i,a+1)}}},{key:"computeLinks",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(null===l&&(l=new u([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),l),i=function(){if(null===f){f=new o.N(0);for(var e=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026",t=0;t<e.length;t++)f.set(e.charCodeAt(t),1);for(var n=".,;:",i=0;i<n.length;i++)f.set(n.charCodeAt(i),2)}return f}(),r=[],a=1,s=t.getLineCount();a<=s;a++){for(var h=t.getLineContent(a),c=h.length,d=0,g=0,v=0,k=1,p=!1,m=!1,C=!1,y=!1;d<c;){var I=!1,b=h.charCodeAt(d);if(13===k){var _=void 0;switch(b){case 40:p=!0,_=0;break;case 41:_=p?0:1;break;case 91:C=!0,m=!0,_=0;break;case 93:C=!1,_=m?0:1;break;case 123:y=!0,_=0;break;case 125:_=y?0:1;break;case 39:case 34:case 96:_=v===b?1:39===v||34===v||96===v?0:1;break;case 42:_=42===v?1:0;break;case 124:_=124===v?1:0;break;case 32:_=C?0:1;break;default:_=i.get(b)}1===_&&(r.push(e._createLink(i,h,a,g,d)),I=!0)}else if(12===k){var x=void 0;91===b?(m=!0,x=0):x=i.get(b),1===x?I=!0:k=13}else 0===(k=n.nextState(k,b))&&(I=!0);I&&(k=1,p=!1,m=!1,y=!1,g=d+1,v=b),d++}13===k&&r.push(e._createLink(i,h,a,g,c))}return r}}]),e}();function c(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?h.computeLinks(e):[]}},73833:function(e,t,n){n.d(t,{bd:function(){return h},dQ:function(){return f}});var i=n(15671),r=n(43144),a=n(87697),o=n(28941),s=n(254),u=n(67609),l=n(21072),f=new(function(){function e(){(0,i.Z)(this,e),this._onDidChangeLanguages=new o.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}return(0,r.Z)(e,[{key:"registerLanguage",value:function(e){var t=this;return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:function(){for(var n=0,i=t._languages.length;n<i;n++)if(t._languages[n]===e)return void t._languages.splice(n,1)}}}},{key:"getLanguages",value:function(){return this._languages}}]),e}());s.B.add("editor.modesRegistry",f);var h="plaintext";f.registerLanguage({id:h,extensions:[".txt"],aliases:[a.NC("plainText.alias","Plain Text"),"text"],mimetypes:[u.v.text]}),s.B.as(l.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},57942:function(e,t,n){n.d(t,{Dy:function(){return u},Ri:function(){return s},TJ:function(){return o}});var i=n(15671),r=n(43144),a=n(56417),o=new(function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"clone",value:function(){return this}},{key:"equals",value:function(e){return this===e}}]),e}());function s(e,t){return new a.hG([new a.WU(0,"",e)],t)}function u(e,t){var n=new Uint32Array(2);return n[0]=0,n[1]=(32768|e<<0|2<<24)>>>0,new a.DI(n,null===t?o:t)}},10222:function(e,t,n){n.d(t,{Bu:function(){return s},wH:function(){return a}});var i=n(15671),r=n(43144);function a(e,t){for(var n=e.getCount(),i=e.findTokenIndexAtOffset(t),r=e.getLanguageId(i),a=i;a+1<n&&e.getLanguageId(a+1)===r;)a++;for(var s=i;s>0&&e.getLanguageId(s-1)===r;)s--;return new o(e,r,s,a+1,e.getStartOffset(s),e.getEndOffset(a))}var o=function(){function e(t,n,r,a,o,s){(0,i.Z)(this,e),this._scopedLineTokensBrand=void 0,this._actual=t,this.languageId=n,this._firstTokenIndex=r,this._lastTokenIndex=a,this.firstCharOffset=o,this._lastCharOffset=s}return(0,r.Z)(e,[{key:"getLineContent",value:function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}},{key:"getActualLineContentBefore",value:function(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}},{key:"getTokenCount",value:function(){return this._lastTokenIndex-this._firstTokenIndex}},{key:"findTokenIndexAtOffset",value:function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}},{key:"getStandardTokenType",value:function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}]),e}();function s(e){return 0!==(3&e)}},97089:function(e,t,n){n.d(t,{J:function(){return a}});var i=n(15671),r=n(43144),a=function(){function e(){(0,i.Z)(this,e),this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return(0,r.Z)(e,[{key:"navigateValueSet",value:function(e,t,n,i,r){if(e&&t){var a=this.doNavigateValueSet(t,r);if(a)return{range:e,value:a}}if(n&&i){var o=this.doNavigateValueSet(i,r);if(o)return{range:n,value:o}}return null}},{key:"doNavigateValueSet",value:function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}},{key:"numberReplace",value:function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}},{key:"textReplace",value:function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}},{key:"valueSetsReplace",value:function(e,t,n){for(var i=null,r=0,a=e.length;null===i&&r<a;r++)i=this.valueSetReplace(e[r],t,n);return i}},{key:"valueSetReplace",value:function(e,t,n){var i=e.indexOf(t);return i>=0?((i+=n?1:-1)<0?i=e.length-1:i%=e.length,e[i]):null}}]),e}();a.INSTANCE=new a},92586:function(e,t,n){n.d(t,{EA:function(){return h},Vr:function(){return m}});var i=n(29439),r=n(37762),a=n(15671),o=n(43144),s=n(26684),u=n(63633),l=n(30788),f=function(){function e(t,n,i,r,o,s){(0,a.Z)(this,e),this._richEditBracketBrand=void 0,this.languageId=t,this.index=n,this.open=i,this.close=r,this.forwardRegex=o,this.reversedRegex=s,this._openSet=e._toSet(this.open),this._closeSet=e._toSet(this.close)}return(0,o.Z)(e,[{key:"isOpen",value:function(e){return this._openSet.has(e)}},{key:"isClose",value:function(e){return this._closeSet.has(e)}}],[{key:"_toSet",value:function(e){var t,n=new Set,i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.add(a)}}catch(o){i.e(o)}finally{i.f()}return n}}]),e}();var h=(0,o.Z)((function e(t,n){(0,a.Z)(this,e),this._richEditBracketsBrand=void 0;var o=function(e){var t=e.length;e=e.map((function(e){return[e[0].toLowerCase(),e[1].toLowerCase()]}));for(var n=[],r=0;r<t;r++)n[r]=r;for(var a=function(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),s=o[0],u=o[1];return r===s||r===u||a===s||a===u},o=function(e,i){for(var r=Math.min(e,i),a=Math.max(e,i),o=0;o<t;o++)n[o]===a&&(n[o]=r)},s=0;s<t;s++)for(var u=e[s],l=s+1;l<t;l++)a(u,e[l])&&o(n[s],n[l]);for(var f=[],h=0;h<t;h++){for(var c=[],d=[],g=0;g<t;g++)if(n[g]===h){var v=(0,i.Z)(e[g],2),k=v[0],p=v[1];c.push(k),d.push(p)}c.length>0&&f.push({open:c,close:d})}return f}(n);this.brackets=o.map((function(e,n){return new f(t,n,e.open,e.close,function(e,t,n,i){var r=[];r=r.concat(e),r=r.concat(t);for(var a=0,o=r.length;a<o;a++)c(r[a],n,i,r);return(r=g(r)).sort(d),r.reverse(),k(r)}(e.open,e.close,o,n),function(e,t,n,i){var r=[];r=r.concat(e),r=r.concat(t);for(var a=0,o=r.length;a<o;a++)c(r[a],n,i,r);return(r=g(r)).sort(d),r.reverse(),k(r.map(p))}(e.open,e.close,o,n))})),this.forwardRegex=function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,r.Z)(o.open);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push(u)}}catch(c){s.e(c)}finally{s.f()}var l,f=(0,r.Z)(o.close);try{for(f.s();!(l=f.n()).done;){var h=l.value;n.push(h)}}catch(c){f.e(c)}finally{f.f()}}}catch(c){i.e(c)}finally{i.f()}return k(n=g(n))}(this.brackets),this.reversedRegex=function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,r.Z)(o.open);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push(u)}}catch(c){s.e(c)}finally{s.f()}var l,f=(0,r.Z)(o.close);try{for(f.s();!(l=f.n()).done;){var h=l.value;n.push(h)}}catch(c){f.e(c)}finally{f.f()}}}catch(c){i.e(c)}finally{i.f()}return k((n=g(n)).map(p))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;var s,u=(0,r.Z)(this.brackets);try{for(u.s();!(s=u.n()).done;){var l,h=s.value,v=(0,r.Z)(h.open);try{for(v.s();!(l=v.n()).done;){var m=l.value;this.textIsBracket[m]=h,this.textIsOpenBracket[m]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,m.length)}}catch(b){v.e(b)}finally{v.f()}var C,y=(0,r.Z)(h.close);try{for(y.s();!(C=y.n()).done;){var I=C.value;this.textIsBracket[I]=h,this.textIsOpenBracket[I]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,I.length)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){u.e(b)}finally{u.f()}}));function c(e,t,n,i){for(var a=0,o=t.length;a<o;a++)if(a!==n){var s,u=t[a],l=(0,r.Z)(u.open);try{for(l.s();!(s=l.n()).done;){var f=s.value;f.indexOf(e)>=0&&i.push(f)}}catch(g){l.e(g)}finally{l.f()}var h,c=(0,r.Z)(u.close);try{for(c.s();!(h=c.n()).done;){var d=h.value;d.indexOf(e)>=0&&i.push(d)}}catch(g){c.e(g)}finally{c.f()}}}function d(e,t){return e.length-t.length}function g(e){if(e.length<=1)return e;var t,n=[],i=new Set,a=(0,r.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.has(o)||(n.push(o),i.add(o))}}catch(s){a.e(s)}finally{a.f()}return n}function v(e){var t=/^[\w ]+$/.test(e);return e=s.ec(e),t?"\\b".concat(e,"\\b"):e}function k(e){var t="(".concat(e.map(v).join(")|("),")");return s.GF(t,!0)}var p=function(){var e=null,t=null;return function(n){return e!==n&&(t=function(e){for(var t=new Uint16Array(e.length),n=0,i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return u.oe().decode(t)}(e=n)),t}}(),m=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"_findPrevBracketInText",value:function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=n.length-(r.index||0),o=r[0].length,s=i+a;return new l.e(t,s-o+1,t,s+1)}},{key:"findPrevBracketInRange",value:function(e,t,n,i,r){var a=p(n).substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,a,i)}},{key:"findNextBracketInText",value:function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=r.index||0,o=r[0].length;if(0===o)return null;var s=i+a;return new l.e(t,s+1,t,s+1+o)}},{key:"findNextBracketInRange",value:function(e,t,n,i,r){var a=n.substring(i,r);return this.findNextBracketInText(e,t,a,i)}}]),e}()},4360:function(e,t,n){n.d(t,{si:function(){return h},yr:function(){return v}});var i=n(37762),r=n(43144),a=n(15671),o=n(17424),s=(0,r.Z)((function e(t,n,i,r,o){(0,a.Z)(this,e),this._parsedThemeRuleBrand=void 0,this.token=t,this.index=n,this.fontStyle=i,this.foreground=r,this.background=o}));function u(e,t){e.sort((function(e,t){var n=function(e,t){if(e<t)return-1;if(e>t)return 1;return 0}(e.token,t.token);return 0!==n?n:e.index-t.index}));for(var n=0,r="000000",a="ffffff";e.length>=1&&""===e[0].token;){var o=e.shift();-1!==o.fontStyle&&(n=o.fontStyle),null!==o.foreground&&(r=o.foreground),null!==o.background&&(a=o.background)}var s,u=new f,l=(0,i.Z)(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;u.getId(c)}}catch(b){l.e(b)}finally{l.f()}for(var v=u.getId(r),k=u.getId(a),p=new d(n,v,k),m=new g(p),C=0,y=e.length;C<y;C++){var I=e[C];m.insert(I.token,I.fontStyle,u.getId(I.foreground),u.getId(I.background))}return new h(u,m)}var l=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,f=function(){function e(){(0,a.Z)(this,e),this._lastColorId=0,this._id2color=[],this._color2id=new Map}return(0,r.Z)(e,[{key:"getId",value:function(e){if(null===e)return 0;var t=e.match(l);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=o.Il.fromHex("#"+e),n)}},{key:"getColorMap",value:function(){return this._id2color.slice(0)}}]),e}(),h=function(){function e(t,n){(0,a.Z)(this,e),this._colorMap=t,this._root=n,this._cache=new Map}return(0,r.Z)(e,[{key:"getColorMap",value:function(){return this._colorMap.getColorMap()}},{key:"_match",value:function(e){return this._root.match(e)}},{key:"match",value:function(e,t){var n=this._cache.get(t);if("undefined"===typeof n){var i=this._match(t),r=function(e){var t=e.match(c);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(t);n=(i.metadata|r<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}],[{key:"createFromRawTokenTheme",value:function(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];for(var t=[],n=0,i=0,r=e.length;i<r;i++){var a=e[i],o=-1;if("string"===typeof a.fontStyle){o=0;for(var u=a.fontStyle.split(" "),l=0,f=u.length;l<f;l++)switch(u[l]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4;break;case"strikethrough":o|=8}}var h=null;"string"===typeof a.foreground&&(h=a.foreground);var c=null;"string"===typeof a.background&&(c=a.background),t[n++]=new s(a.token||"",i,o,h,c)}return t}(e),t)}},{key:"createFromParsedTokenTheme",value:function(e,t){return u(e,t)}}]),e}(),c=/\b(comment|string|regex|regexp)\b/;var d=function(){function e(t,n,i){(0,a.Z)(this,e),this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=n,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}return(0,r.Z)(e,[{key:"clone",value:function(){return new e(this._fontStyle,this._foreground,this._background)}},{key:"acceptOverwrite",value:function(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}]),e}(),g=function(){function e(t){(0,a.Z)(this,e),this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}return(0,r.Z)(e,[{key:"match",value:function(e){if(""===e)return this._mainRule;var t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));var r=this._children.get(t);return"undefined"!==typeof r?r.match(n):this._mainRule}},{key:"insert",value:function(t,n,i,r){if(""!==t){var a,o,s=t.indexOf(".");-1===s?(a=t,o=""):(a=t.substring(0,s),o=t.substring(s+1));var u=this._children.get(a);"undefined"===typeof u&&(u=new e(this._mainRule.clone()),this._children.set(a,u)),u.insert(o,n,i,r)}else this._mainRule.acceptOverwrite(n,i,r)}}]),e}();function v(e){for(var t=[],n=1,i=e.length;n<i;n++){var r=e[n];t[n]=".mtk".concat(n," { color: ").concat(r,"; }")}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join("\n")}},93586:function(e,t,n){n.d(t,{C2:function(){return f},Fq:function(){return h}});var i=n(74165),r=n(26684),a=n(58705),o=n(56417),s=n(57942),u=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{u(i.next(e))}catch(t){a(t)}}function s(e){try{u(i.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))},l={getInitialState:function(){return s.TJ},tokenizeEncoded:function(e,t,n){return(0,s.Dy)(0,n)}};function f(e,t,n){return u(this,void 0,void 0,(0,i.Z)().mark((function r(){var a;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n){i.next=2;break}return i.abrupt("return",c(t,e.languageIdCodec,l));case 2:return i.next=4,o.RW.getOrCreate(n);case 4:return a=i.sent,i.abrupt("return",c(t,e.languageIdCodec,a||l));case 6:case"end":return i.stop()}}),r)})))}function h(e,t,n,i,r,a,o){for(var s="<div>",u=i,l=0,f=!0,h=0,c=t.getCount();h<c;h++){var d=t.getEndOffset(h);if(!(d<=i)){for(var g="";u<d&&u<r;u++){var v=e.charCodeAt(u);switch(v){case 9:var k=a-(u+l)%a;for(l+=k-1;k>0;)o&&f?(g+="&#160;",f=!1):(g+=" ",f=!0),k--;break;case 60:g+="&lt;",f=!1;break;case 62:g+="&gt;",f=!1;break;case 38:g+="&amp;",f=!1;break;case 0:g+="&#00;",f=!1;break;case 65279:case 8232:case 8233:case 133:g+="\ufffd",f=!1;break;case 13:g+="&#8203",f=!1;break;case 32:o&&f?(g+="&#160;",f=!1):(g+=" ",f=!0);break;default:g+=String.fromCharCode(v),f=!1}}if(s+='<span style="'.concat(t.getInlineStyle(h,n),'">').concat(g,"</span>"),d>r||u>=r)break}}return s+="</div>"}function c(e,t,n){for(var i='<div class="monaco-tokenized-source">',o=r.uq(e),s=n.getInitialState(),u=0,l=o.length;u<l;u++){var f=o[u];u>0&&(i+="<br/>");var h=n.tokenizeEncoded(f,!0,s);a.A.convertToEndOffset(h.tokens,f.length);for(var c=new a.A(h.tokens,f,t).inflate(),d=0,g=0,v=c.getCount();g<v;g++){var k=c.getClassName(g),p=c.getEndOffset(g);i+='<span class="'.concat(k,'">').concat(r.YU(f.substring(d,p)),"</span>"),d=p}s=h.endState}return i+="</div>"}},36158:function(e,t,n){n.d(t,{F5:function(){return r},Hf:function(){return h},Qi:function(){return c},RM:function(){return a},Tx:function(){return d},dJ:function(){return l},je:function(){return g},pt:function(){return v},sh:function(){return i},tk:function(){return f}});var i,r,a,o=n(15671),s=n(43144),u=n(57151);!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(i||(i={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(r||(r={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(a||(a={}));var l=function(){function e(t){(0,o.Z)(this,e),this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|t.tabSize),"tabSize"===t.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|t.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}return(0,s.Z)(e,[{key:"originalIndentSize",get:function(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}},{key:"equals",value:function(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&(0,u.fS)(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}},{key:"createChangeEvent",value:function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}]),e}(),f=(0,s.Z)((function e(t,n){(0,o.Z)(this,e),this._findMatchBrand=void 0,this.range=t,this.matches=n}));function h(e){return e&&"function"===typeof e.read}var c=(0,s.Z)((function e(t,n,i,r,a,s){(0,o.Z)(this,e),this.identifier=t,this.range=n,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=a,this._isTracked=s})),d=(0,s.Z)((function e(t,n,i){(0,o.Z)(this,e),this.regex=t,this.wordSeparators=n,this.simpleSearch=i})),g=(0,s.Z)((function e(t,n,i){(0,o.Z)(this,e),this.reverseEdits=t,this.changes=n,this.trimAutoWhitespaceLineNumbers=i}));function v(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},72186:function(e,t,n){n.d(t,{Q:function(){return S}});var i=n(15671),r=n(43144),a=n(60136),o=n(27277),s=n(71881),u=n(28941),l=n(10526),f=n(30788),h=n(10222),c=n(92586),d=n(37762),g=n(67425),v=n(33474),k=n(91802),p=n(51521),m=n(50781),C=n(98427),y=n(67344);function I(e,t){if(0===e.length)return t;var n=new s.H9(b(e)),i=b(t),r=void 0,a=p.xl;function o(e){for(var t=[];;){if(void 0!==r&&!(0,p.xd)(r)||!(0,p.xd)(a)){var i=void 0;void 0!==e&&(0,p.By)(e,a)?(i=e,a=(0,p.BE)(e,a),e=p.xl):(i=a,void 0!==e&&(e=(0,p.BE)(a,e)),a=p.xl),void 0===r?t.push({oldLength:i,newLength:void 0}):(t.push({oldLength:r,newLength:i}),r=p.xl)}if(void 0!==e&&(0,p.xd)(e))break;var o=n.dequeue();if(!o){void 0!==e&&t.push({oldLength:e,newLength:void 0});break}void 0===o.newLength?(a=o.oldLength,r=void 0):(r=o.oldLength,a=o.newLength)}return t}var u=[];function l(e,t,n){if(u.length>0&&(0,p.rM)(u[u.length-1].endOffset,e)){var i=u[u.length-1];u[u.length-1]=new v.Q(i.startOffset,t,(0,p.Ii)(i.newLength,n))}else u.push({startOffset:e,endOffset:t,newLength:n})}var f,h=p.xl,c=(0,d.Z)(i);try{for(c.s();!(f=c.n()).done;){var g=f.value,k=o(g.oldLength);if(void 0!==g.newLength){var m=(0,p.tQ)(k,(function(e){return e.oldLength})),C=(0,p.Ii)(h,m);l(h,C,g.newLength),h=C}else{var y,I=(0,d.Z)(k);try{for(I.s();!(y=I.n()).done;){var _=y.value,x=h;h=(0,p.Ii)(h,_.oldLength),void 0!==_.newLength&&l(x,h,_.newLength)}}catch(T){I.e(T)}finally{I.f()}}}}catch(T){c.e(T)}finally{c.f()}var L,w=o(void 0),O=(0,d.Z)(w);try{for(O.s();!(L=O.n()).done;){var B=L.value,S=h;h=(0,p.Ii)(h,B.oldLength),void 0!==B.newLength&&l(S,h,B.newLength)}}catch(T){O.e(T)}finally{O.f()}return u}function b(e){var t,n=[],i=p.xl,r=(0,d.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=(0,p.BE)(i,a.startOffset);(0,p.xd)(o)||n.push({oldLength:o});var s=(0,p.BE)(a.startOffset,a.endOffset);n.push({oldLength:s,newLength:a.newLength}),i=a.endOffset}}catch(u){r.e(u)}finally{r.f()}return n}var _=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;if((0,i.Z)(this,n),(a=t.call(this)).textModel=e,a.getLanguageConfiguration=r,a.didChangeEmitter=new u.Q5,a.denseKeyProvider=new C.FE,a.brackets=new k.Z(a.denseKeyProvider,a.getLanguageConfiguration),a.onDidChange=a.didChangeEmitter.event,a.queuedTextEditsForInitialAstWithoutTokens=[],a.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(a.initialAstWithoutTokens=void 0,a.astWithTokens=a.parseDocumentFromTextBuffer([],void 0,!1)):(a.initialAstWithoutTokens=a.parseDocumentFromTextBuffer([],void 0,!0),a.astWithTokens=a.initialAstWithoutTokens);else{var o=a.brackets.getSingleLanguageBracketTokens(a.textModel.getLanguageId()),s=new y.g(a.textModel.getValue(),o);a.initialAstWithoutTokens=(0,m.w)(s,[],void 0,!0),a.astWithTokens=a.initialAstWithoutTokens}return a}return(0,r.Z)(n,[{key:"didLanguageChange",value:function(e){return this.brackets.didLanguageChange(e)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){if(2===this.textModel.tokenization.backgroundTokenizationState){var e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}},{key:"handleDidChangeTokens",value:function(e){var t=e.ranges.map((function(e){return new v.Q((0,p.Hg)(e.fromLineNumber-1,0),(0,p.Hg)(e.toLineNumber,0),(0,p.Hg)(e.toLineNumber-e.fromLineNumber+1,0))}));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}},{key:"handleContentChanged",value:function(e){var t=e.changes.map((function(e){var t=f.e.lift(e.range);return new v.Q((0,p.PZ)(t.getStartPosition()),(0,p.PZ)(t.getEndPosition()),(0,p.oR)(e.text))})).reverse();this.handleEdits(t,!1)}},{key:"handleEdits",value:function(e,t){var n=I(this.queuedTextEdits,e);this.queuedTextEdits=n,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=I(this.queuedTextEditsForInitialAstWithoutTokens,e))}},{key:"flushQueue",value:function(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}},{key:"parseDocumentFromTextBuffer",value:function(e,t,n){var i=t,r=new y.xH(this.textModel,this.brackets);return(0,m.w)(r,e,i,n)}},{key:"getBracketsInRange",value:function(e,t){var n=this;this.flushQueue();var i=(0,p.Hg)(e.startLineNumber-1,e.startColumn-1),r=(0,p.Hg)(e.endLineNumber-1,e.endColumn-1);return new s.W$((function(e){var a=n.initialAstWithoutTokens||n.astWithTokens;w(a,p.xl,a.length,i,r,e,0,0,new Map,t)}))}},{key:"getBracketPairsInRange",value:function(e,t){var n=this;this.flushQueue();var i=(0,p.PZ)(e.getStartPosition()),r=(0,p.PZ)(e.getEndPosition());return new s.W$((function(e){var a=n.initialAstWithoutTokens||n.astWithTokens,o=new O(e,t,n.textModel);B(a,p.xl,a.length,i,r,o,0,new Map)}))}},{key:"getFirstBracketAfter",value:function(e){this.flushQueue();var t=this.initialAstWithoutTokens||this.astWithTokens;return L(t,p.xl,t.length,(0,p.PZ)(e))}},{key:"getFirstBracketBefore",value:function(e){this.flushQueue();var t=this.initialAstWithoutTokens||this.astWithTokens;return x(t,p.xl,t.length,(0,p.PZ)(e))}}]),n}(l.JT);function x(e,t,n,i){if(4===e.kind||2===e.kind){var r,a=[],o=(0,d.Z)(e.children);try{for(o.s();!(r=o.n()).done;){var s=r.value;n=(0,p.Ii)(t,s.length),a.push({nodeOffsetStart:t,nodeOffsetEnd:n}),t=n}}catch(v){o.e(v)}finally{o.f()}for(var u=a.length-1;u>=0;u--){var l=a[u],f=l.nodeOffsetStart,h=l.nodeOffsetEnd;if((0,p.VR)(f,i)){var c=x(e.children[u],f,h,i);if(c)return c}}return null}if(3===e.kind)return null;if(1===e.kind){var g=(0,p.Qw)(t,n);return{bracketInfo:e.bracketInfo,range:g}}return null}function L(e,t,n,i){if(4===e.kind||2===e.kind){var r,a=(0,d.Z)(e.children);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n=(0,p.Ii)(t,o.length),(0,p.VR)(i,n)){var s=L(o,t,n,i);if(s)return s}t=n}}catch(l){a.e(l)}finally{a.f()}return null}if(3===e.kind)return null;if(1===e.kind){var u=(0,p.Qw)(t,n);return{bracketInfo:e.bracketInfo,range:u}}return null}function w(e,t,n,i,r,a,o,s,u,l){var f=arguments.length>10&&void 0!==arguments[10]&&arguments[10];if(o>200)return!0;e:for(;;)switch(e.kind){case 4:for(var h=e.childrenLength,c=0;c<h;c++){var d=e.getChild(c);if(d){if(n=(0,p.Ii)(t,d.length),(0,p.By)(t,r)&&(0,p.Zq)(n,i)){if((0,p.Zq)(n,r)){e=d;continue e}if(!w(d,t,n,i,r,a,o,0,u,l))return!1}t=n}}return!0;case 2:var v=!l||!e.closingBracket||e.closingBracket.bracketInfo.closesColorized(e.openingBracket.bracketInfo),k=0;if(u){var m=u.get(e.openingBracket.text);void 0===m&&(m=0),k=m,v&&(m++,u.set(e.openingBracket.text,m))}for(var C=e.childrenLength,y=0;y<C;y++){var I=e.getChild(y);if(I){if(n=(0,p.Ii)(t,I.length),(0,p.By)(t,r)&&(0,p.Zq)(n,i)){if((0,p.Zq)(n,r)&&1!==I.kind){e=I,v?(o++,s=k+1):s=k;continue e}if(v||1!==I.kind||!e.closingBracket)if(!w(I,t,n,i,r,a,v?o+1:o,v?k+1:k,u,l,!e.closingBracket))return!1}t=n}}return null===u||void 0===u||u.set(e.openingBracket.text,k),!0;case 3:var b=(0,p.Qw)(t,n);return a(new g.M$(b,o-1,0,!0));case 1:var _=(0,p.Qw)(t,n);return a(new g.M$(_,o-1,s-1,f));case 0:return!0}}var O=(0,r.Z)((function e(t,n,r){(0,i.Z)(this,e),this.push=t,this.includeMinIndentation=n,this.textModel=r}));function B(e,t,n,i,r,a,o,s){var u;if(o>200)return!0;var l=!0;if(2===e.kind){var f=0;if(s){var h=s.get(e.openingBracket.text);void 0===h&&(h=0),f=h,h++,s.set(e.openingBracket.text,h)}var c=(0,p.Ii)(t,e.openingBracket.length),v=-1;if(a.includeMinIndentation&&(v=e.computeMinIndentation(t,a.textModel)),l=a.push(new g.YA((0,p.Qw)(t,n),(0,p.Qw)(t,c),e.closingBracket?(0,p.Qw)((0,p.Ii)(c,(null===(u=e.child)||void 0===u?void 0:u.length)||p.xl),n):void 0,o,f,e,v)),t=c,l&&e.child){var k=e.child;if(n=(0,p.Ii)(t,k.length),(0,p.By)(t,r)&&(0,p.Zq)(n,i)&&!(l=B(k,t,n,i,r,a,o+1,s)))return!1}null===s||void 0===s||s.set(e.openingBracket.text,f)}else{var m,C=t,y=(0,d.Z)(e.children);try{for(y.s();!(m=y.n()).done;){var I=m.value,b=C;if(C=(0,p.Ii)(C,I.length),(0,p.By)(b,r)&&(0,p.By)(i,C)&&!(l=B(I,b,C,i,r,a,o,s)))return!1}}catch(_){y.e(_)}finally{y.f()}}return l}var S=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this)).textModel=e,a.languageConfigurationService=r,a.bracketPairsTree=a._register(new l.XK),a.onDidChangeEmitter=new u.Q5,a.onDidChange=a.onDidChangeEmitter.event,a.bracketsRequested=!1,a._register(a.languageConfigurationService.onDidChange((function(e){var t;e.languageId&&!(null===(t=a.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(a.bracketPairsTree.clear(),a.updateBracketPairsTree())}))),a}return(0,r.Z)(n,[{key:"canBuildAST",get:function(){return this.textModel.getValueLength()<=5e6}},{key:"handleDidChangeOptions",value:function(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeLanguage",value:function(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeContent",value:function(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}},{key:"handleDidChangeTokens",value:function(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}},{key:"updateBracketPairsTree",value:function(){var e,t,n=this;if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){var i=new l.SL;this.bracketPairsTree.value=(e=i.add(new _(this.textModel,(function(e){return n.languageConfigurationService.getLanguageConfiguration(e)}))),t=i,{object:e,dispose:function(){return null===t||void 0===t?void 0:t.dispose()}}),i.add(this.bracketPairsTree.value.object.onDidChange((function(e){return n.onDidChangeEmitter.fire(e)}))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}},{key:"getBracketPairsInRange",value:function(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||s.W$.empty}},{key:"getBracketPairsInRangeWithMinIndentation",value:function(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||s.W$.empty}},{key:"getBracketsInRange",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketsInRange(e,n))||s.W$.empty}},{key:"findMatchingBracketUp",value:function(e,t,n){var i=this.textModel.validatePosition(t),r=this.textModel.getLanguageIdAtPosition(i.lineNumber,i.column);if(this.canBuildAST){var a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew.getClosingBracketInfo(e);if(!a)return null;var o=this.getBracketPairsInRange(f.e.fromPositions(t,t)).findLast((function(e){return a.closes(e.openingBracketInfo)}));return o?o.openingBracketRange:null}var s=e.toLowerCase(),u=this.languageConfigurationService.getLanguageConfiguration(r).brackets;if(!u)return null;var l=u.textIsBracket[s];return l?Z(this._findMatchingBracketUp(l,i,T(n))):null}},{key:"matchBracket",value:function(e,t){if(this.canBuildAST){var n=this.getBracketPairsInRange(f.e.fromPositions(e,e)).filter((function(t){return void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e))})).findLastMaxBy((0,s.tT)((function(t){return t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange}),f.e.compareRangesUsingStarts));return n?[n.openingBracketRange,n.closingBracketRange]:null}var i=T(t);return this._matchBracket(this.textModel.validatePosition(e),i)}},{key:"_establishBracketSearchOffsets",value:function(e,t,n,i){for(var r=t.getCount(),a=t.getLanguageId(i),o=Math.max(0,e.column-1-n.maxBracketLength),s=i-1;s>=0;s--){var u=t.getEndOffset(s);if(u<=o)break;if((0,h.Bu)(t.getStandardTokenType(s))||t.getLanguageId(s)!==a){o=u;break}}for(var l=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength),f=i+1;f<r;f++){var c=t.getStartOffset(f);if(c>=l)break;if((0,h.Bu)(t.getStandardTokenType(f))||t.getLanguageId(f)!==a){l=c;break}}return{searchStartOffset:o,searchEndOffset:l}}},{key:"_matchBracket",value:function(e,t){var n=e.lineNumber,i=this.textModel.tokenization.getLineTokens(n),r=this.textModel.getLineContent(n),a=i.findTokenIndexAtOffset(e.column-1);if(a<0)return null;var o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(a)).brackets;if(o&&!(0,h.Bu)(i.getStandardTokenType(a))){for(var s=this._establishBracketSearchOffsets(e,i,o,a),u=s.searchStartOffset,l=s.searchEndOffset,f=null;;){var d=c.Vr.findNextBracketInRange(o.forwardRegex,n,r,u,l);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){var g=r.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),v=this._matchFoundBracket(d,o.textIsBracket[g],o.textIsOpenBracket[g],t);if(v){if(v instanceof E)return null;f=v}}u=d.endColumn-1}if(f)return f}if(a>0&&i.getStartOffset(a)===e.column-1){var k=a-1,p=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(k)).brackets;if(p&&!(0,h.Bu)(i.getStandardTokenType(k))){var m=this._establishBracketSearchOffsets(e,i,p,k),C=m.searchStartOffset,y=m.searchEndOffset,I=c.Vr.findPrevBracketInRange(p.reversedRegex,n,r,C,y);if(I&&I.startColumn<=e.column&&e.column<=I.endColumn){var b=r.substring(I.startColumn-1,I.endColumn-1).toLowerCase(),_=this._matchFoundBracket(I,p.textIsBracket[b],p.textIsOpenBracket[b],t);if(_)return _ instanceof E?null:_}}}return null}},{key:"_matchFoundBracket",value:function(e,t,n,i){if(!t)return null;var r=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return r?r instanceof E?r:[e,r]:null}},{key:"_findMatchingBracketUp",value:function(e,t,n){for(var i=e.languageId,r=e.reversedRegex,a=-1,o=0,s=function(t,i,s,u){for(;;){if(n&&++o%100===0&&!n())return E.INSTANCE;var l=c.Vr.findPrevBracketInRange(r,t,i,s,u);if(!l)break;var f=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(f)?a++:e.isClose(f)&&a--,0===a)return l;u=l.startColumn-1}return null},u=t.lineNumber;u>=1;u--){var l=this.textModel.tokenization.getLineTokens(u),f=l.getCount(),d=this.textModel.getLineContent(u),g=f-1,v=d.length,k=d.length;u===t.lineNumber&&(g=l.findTokenIndexAtOffset(t.column-1),v=t.column-1,k=t.column-1);for(var p=!0;g>=0;g--){var m=l.getLanguageId(g)===i&&!(0,h.Bu)(l.getStandardTokenType(g));if(m)p?v=l.getStartOffset(g):(v=l.getStartOffset(g),k=l.getEndOffset(g));else if(p&&v!==k){var C=s(u,d,v,k);if(C)return C}p=m}if(p&&v!==k){var y=s(u,d,v,k);if(y)return y}}return null}},{key:"_findMatchingBracketDown",value:function(e,t,n){for(var i=e.languageId,r=e.forwardRegex,a=1,o=0,s=function(t,i,s,u){for(;;){if(n&&++o%100===0&&!n())return E.INSTANCE;var l=c.Vr.findNextBracketInRange(r,t,i,s,u);if(!l)break;var f=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(f)?a++:e.isClose(f)&&a--,0===a)return l;s=l.endColumn-1}return null},u=this.textModel.getLineCount(),l=t.lineNumber;l<=u;l++){var f=this.textModel.tokenization.getLineTokens(l),d=f.getCount(),g=this.textModel.getLineContent(l),v=0,k=0,p=0;l===t.lineNumber&&(v=f.findTokenIndexAtOffset(t.column-1),k=t.column-1,p=t.column-1);for(var m=!0;v<d;v++){var C=f.getLanguageId(v)===i&&!(0,h.Bu)(f.getStandardTokenType(v));if(C)m||(k=f.getStartOffset(v)),p=f.getEndOffset(v);else if(m&&k!==p){var y=s(l,g,k,p);if(y)return y}m=C}if(m&&k!==p){var I=s(l,g,k,p);if(I)return I}}return null}},{key:"findPrevBracket",value:function(e){var t,n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketBefore(n))||null;for(var i=null,r=null,a=null,o=n.lineNumber;o>=1;o--){var s=this.textModel.tokenization.getLineTokens(o),u=s.getCount(),l=this.textModel.getLineContent(o),f=u-1,d=l.length,g=l.length;if(o===n.lineNumber){f=s.findTokenIndexAtOffset(n.column-1),d=n.column-1,g=n.column-1;var v=s.getLanguageId(f);i!==v&&(i=v,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}for(var k=!0;f>=0;f--){var p=s.getLanguageId(f);if(i!==p){if(r&&a&&k&&d!==g){var m=c.Vr.findPrevBracketInRange(r.reversedRegex,o,l,d,g);if(m)return this._toFoundBracket(a,m);k=!1}i=p,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}var C=!!r&&!(0,h.Bu)(s.getStandardTokenType(f));if(C)k?d=s.getStartOffset(f):(d=s.getStartOffset(f),g=s.getEndOffset(f));else if(a&&r&&k&&d!==g){var y=c.Vr.findPrevBracketInRange(r.reversedRegex,o,l,d,g);if(y)return this._toFoundBracket(a,y)}k=C}if(a&&r&&k&&d!==g){var I=c.Vr.findPrevBracketInRange(r.reversedRegex,o,l,d,g);if(I)return this._toFoundBracket(a,I)}}return null}},{key:"findNextBracket",value:function(e){var t,n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketAfter(n))||null;for(var i=this.textModel.getLineCount(),r=null,a=null,o=null,s=n.lineNumber;s<=i;s++){var u=this.textModel.tokenization.getLineTokens(s),l=u.getCount(),f=this.textModel.getLineContent(s),d=0,g=0,v=0;if(s===n.lineNumber){d=u.findTokenIndexAtOffset(n.column-1),g=n.column-1,v=n.column-1;var k=u.getLanguageId(d);r!==k&&(r=k,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}for(var p=!0;d<l;d++){var m=u.getLanguageId(d);if(r!==m){if(o&&a&&p&&g!==v){var C=c.Vr.findNextBracketInRange(a.forwardRegex,s,f,g,v);if(C)return this._toFoundBracket(o,C);p=!1}r=m,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}var y=!!a&&!(0,h.Bu)(u.getStandardTokenType(d));if(y)p||(g=u.getStartOffset(d)),v=u.getEndOffset(d);else if(o&&a&&p&&g!==v){var I=c.Vr.findNextBracketInRange(a.forwardRegex,s,f,g,v);if(I)return this._toFoundBracket(o,I)}p=y}if(o&&a&&p&&g!==v){var b=c.Vr.findNextBracketInRange(a.forwardRegex,s,f,g,v);if(b)return this._toFoundBracket(o,b)}}return null}},{key:"findEnclosingBrackets",value:function(e,t){var n=this,i=this.textModel.validatePosition(e);if(this.canBuildAST){var r=f.e.fromPositions(i),a=this.getBracketPairsInRange(f.e.fromPositions(i,i)).findLast((function(e){return void 0!==e.closingBracketRange&&e.range.strictContainsRange(r)}));return a?[a.openingBracketRange,a.closingBracketRange]:null}for(var o=T(t),s=this.textModel.getLineCount(),u=new Map,l=[],d=function(e,t){if(!u.has(e)){for(var n=[],i=0,r=t?t.brackets.length:0;i<r;i++)n[i]=0;u.set(e,n)}l=u.get(e)},g=0,v=function(e,t,i,r,a){for(;;){if(o&&++g%100===0&&!o())return E.INSTANCE;var s=c.Vr.findNextBracketInRange(e.forwardRegex,t,i,r,a);if(!s)break;var u=i.substring(s.startColumn-1,s.endColumn-1).toLowerCase(),f=e.textIsBracket[u];if(f&&(f.isOpen(u)?l[f.index]++:f.isClose(u)&&l[f.index]--,-1===l[f.index]))return n._matchFoundBracket(s,f,!1,o);r=s.endColumn-1}return null},k=null,p=null,m=i.lineNumber;m<=s;m++){var C=this.textModel.tokenization.getLineTokens(m),y=C.getCount(),I=this.textModel.getLineContent(m),b=0,_=0,x=0;if(m===i.lineNumber){b=C.findTokenIndexAtOffset(i.column-1),_=i.column-1,x=i.column-1;var L=C.getLanguageId(b);k!==L&&d(k=L,p=this.languageConfigurationService.getLanguageConfiguration(k).brackets)}for(var w=!0;b<y;b++){var O=C.getLanguageId(b);if(k!==O){if(p&&w&&_!==x){var B=v(p,m,I,_,x);if(B)return Z(B);w=!1}d(k=O,p=this.languageConfigurationService.getLanguageConfiguration(k).brackets)}var S=!!p&&!(0,h.Bu)(C.getStandardTokenType(b));if(S)w||(_=C.getStartOffset(b)),x=C.getEndOffset(b);else if(p&&w&&_!==x){var R=v(p,m,I,_,x);if(R)return Z(R)}w=S}if(p&&w&&_!==x){var M=v(p,m,I,_,x);if(M)return Z(M)}}return null}},{key:"_toFoundBracket",value:function(e,t){if(!t)return null;var n=this.textModel.getValueInRange(t);n=n.toLowerCase();var i=e.getBracketInfo(n);return i?{range:t,bracketInfo:i}:null}}]),n}(l.JT);function T(e){if("undefined"===typeof e)return function(){return!0};var t=Date.now();return function(){return Date.now()-t<=e}}var E=(0,r.Z)((function e(){(0,i.Z)(this,e),this._searchCanceledBrand=void 0}));function Z(e){return e instanceof E?null:e}E.INSTANCE=new E},44277:function(e,t,n){n.d(t,{BH:function(){return I},Dm:function(){return _},Kd:function(){return d},Y0:function(){return g},n2:function(){return b}});var i=n(93433),r=n(60136),a=n(27277),o=n(15671),s=n(43144),u=n(68552),l=n(34538),f=n(51521),h=n(98427),c=function(){function e(t){(0,o.Z)(this,e),this._length=t}return(0,s.Z)(e,[{key:"length",get:function(){return this._length}}]),e}(),d=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a,s){var u;return(0,o.Z)(this,n),(u=t.call(this,e)).openingBracket=i,u.child=r,u.closingBracket=a,u.missingOpeningBracketIds=s,u}return(0,s.Z)(n,[{key:"kind",get:function(){return 2}},{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 3}},{key:"getChild",value:function(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}},{key:"children",get:function(){var e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}},{key:"canBeReused",value:function(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}},{key:"deepClone",value:function(){return new n(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(e,t){return this.child?this.child.computeMinIndentation((0,f.Ii)(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(e,t,i){var r=e.length;return t&&(r=(0,f.Ii)(r,t.length)),i&&(r=(0,f.Ii)(r,i.length)),new n(r,e,t,i,t?t.missingOpeningBracketIds:h.tS.getEmpty())}}]),n}(c),g=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).listHeight=i,a._missingOpeningBracketIds=r,a.cachedMinIndentation=-1,a}return(0,s.Z)(n,[{key:"kind",get:function(){return 4}},{key:"missingOpeningBracketIds",get:function(){return this._missingOpeningBracketIds}},{key:"throwIfImmutable",value:function(){}},{key:"makeLastElementMutable",value:function(){this.throwIfImmutable();var e=this.childrenLength;if(0!==e){var t=this.getChild(e-1),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}}},{key:"makeFirstElementMutable",value:function(){if(this.throwIfImmutable(),0!==this.childrenLength){var e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}}},{key:"canBeReused",value:function(e){if(e.intersects(this.missingOpeningBracketIds))return!1;if(0===this.childrenLength)return!1;for(var t=this;4===t.kind;){var n=t.childrenLength;if(0===n)throw new u.he;t=t.getChild(n-1)}return t.canBeReused(e)}},{key:"handleChildrenChanged",value:function(){this.throwIfImmutable();for(var e=this.childrenLength,t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds,i=1;i<e;i++){var r=this.getChild(i);t=(0,f.Ii)(t,r.length),n=n.merge(r.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}},{key:"computeMinIndentation",value:function(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;for(var n=Number.MAX_SAFE_INTEGER,i=e,r=0;r<this.childrenLength;r++){var a=this.getChild(r);a&&(n=Math.min(n,a.computeMinIndentation(i,t)),i=(0,f.Ii)(i,a.length))}return this.cachedMinIndentation=n,n}}],[{key:"create23",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.length,a=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(r=(0,f.Ii)(r,t.length),a=a.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");r=(0,f.Ii)(r,n.length),a=a.merge(n.missingOpeningBracketIds)}return i?new k(r,e.listHeight+1,e,t,n,a):new v(r,e.listHeight+1,e,t,n,a)}},{key:"getEmpty",value:function(){return new m(f.xl,0,[],h.tS.getEmpty())}}]),n}(c),v=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a,s,u){var l;return(0,o.Z)(this,n),(l=t.call(this,e,i,u))._item1=r,l._item2=a,l._item3=s,l}return(0,s.Z)(n,[{key:"childrenLength",get:function(){return null!==this._item3?3:2}},{key:"getChild",value:function(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}},{key:"setChild",value:function(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}},{key:"children",get:function(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}},{key:"item1",get:function(){return this._item1}},{key:"item2",get:function(){return this._item2}},{key:"item3",get:function(){return this._item3}},{key:"deepClone",value:function(){return new n(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}},{key:"unappendChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}},{key:"prependChildOfSameHeight",value:function(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}},{key:"unprependChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}},{key:"toMutable",value:function(){return this}}]),n}(g),k=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"toMutable",value:function(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),n}(v),p=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a){var s;return(0,o.Z)(this,n),(s=t.call(this,e,i,a))._children=r,s}return(0,s.Z)(n,[{key:"childrenLength",get:function(){return this._children.length}},{key:"getChild",value:function(e){return this._children[e]}},{key:"setChild",value:function(e,t){this._children[e]=t}},{key:"children",get:function(){return this._children}},{key:"deepClone",value:function(){for(var e=new Array(this._children.length),t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new n(this.length,this.listHeight,e,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}},{key:"unappendChild",value:function(){this.throwIfImmutable();var e=this._children.pop();return this.handleChildrenChanged(),e}},{key:"prependChildOfSameHeight",value:function(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}},{key:"unprependChild",value:function(){this.throwIfImmutable();var e=this._children.shift();return this.handleChildrenChanged(),e}},{key:"toMutable",value:function(){return this}}]),n}(g),m=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"toMutable",value:function(){return new p(this.length,this.listHeight,(0,i.Z)(this.children),this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),n}(p),C=[],y=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 0}},{key:"getChild",value:function(e){return null}},{key:"children",get:function(){return C}},{key:"deepClone",value:function(){return this}}]),n}(c),I=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"kind",get:function(){return 0}},{key:"missingOpeningBracketIds",get:function(){return h.tS.getEmpty()}},{key:"canBeReused",value:function(e){return!0}},{key:"computeMinIndentation",value:function(e,t){for(var n=(0,f.Hw)(e),i=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,r=(0,f.W9)((0,f.Ii)(e,this.length))+1,a=Number.MAX_SAFE_INTEGER,o=i;o<=r;o++){var s=t.getLineFirstNonWhitespaceColumn(o),u=t.getLineContent(o);if(0!==s){var h=l.i.visibleColumnFromColumn(u,s,t.getOptions().tabSize);a=Math.min(a,h)}}return a}}]),n}(y),b=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).bracketInfo=i,a.bracketIds=r,a}return(0,s.Z)(n,[{key:"kind",get:function(){return 1}},{key:"missingOpeningBracketIds",get:function(){return h.tS.getEmpty()}},{key:"text",get:function(){return this.bracketInfo.bracketText}},{key:"languageId",get:function(){return this.bracketInfo.languageId}},{key:"canBeReused",value:function(e){return!1}},{key:"computeMinIndentation",value:function(e,t){return Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(e,t,i){return new n(e,t,i)}}]),n}(y),_=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this,i)).missingOpeningBracketIds=e,r}return(0,s.Z)(n,[{key:"kind",get:function(){return 3}},{key:"canBeReused",value:function(e){return!e.intersects(this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(e,t){return Number.MAX_SAFE_INTEGER}}]),n}(y)},33474:function(e,t,n){n.d(t,{Q:function(){return o},Y:function(){return s}});var i=n(43144),r=n(15671),a=n(51521),o=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e),this.startOffset=t,this.endOffset=n,this.newLength=i})),s=function(){function e(t){(0,r.Z)(this,e),this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=t.map((function(e){return u.from(e)}))}return(0,i.Z)(e,[{key:"getOffsetBeforeChange",value:function(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}},{key:"getDistanceToNextChange",value:function(e){this.adjustNextEdit(e);var t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):null;return null===n?null:(0,a.BE)(e,n)}},{key:"translateOldToCur",value:function(e){return e.lineCount===this.deltaLineIdxInOld?(0,a.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):(0,a.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}},{key:"translateCurToOld",value:function(e){var t=(0,a.Hw)(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,a.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):(0,a.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}},{key:"adjustNextEdit",value:function(e){for(;this.nextEditIdx<this.edits.length;){var t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(!(0,a.By)(n,e))break;this.nextEditIdx++;var i=(0,a.Hw)(n),r=(0,a.Hw)(this.translateOldToCur(t.endOffsetBeforeObj)),o=i.lineCount-r.lineCount;this.deltaOldToNewLineCount+=o;var s=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,u=i.columnCount-r.columnCount;this.deltaOldToNewColumnCount=s+u,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}]),e}(),u=function(){function e(t,n,i){(0,r.Z)(this,e),this.endOffsetBeforeObj=(0,a.Hw)(n),this.endOffsetAfterObj=(0,a.Hw)((0,a.Ii)(t,i)),this.offsetObj=(0,a.Hw)(t)}return(0,i.Z)(e,null,[{key:"from",value:function(t){return new e(t.startOffset,t.endOffset,t.newLength)}}]),e}()},91802:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(29439),r=n(37762),a=n(93433),o=n(15671),s=n(43144),u=n(26684),l=n(44277),f=n(51521),h=n(98427),c=n(67344),d=function(){function e(t){(0,o.Z)(this,e),this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}return(0,s.Z)(e,[{key:"getRegExpStr",value:function(){if(this.isEmpty)return null;var e=(0,a.Z)(this.map.keys());return e.sort(),e.reverse(),e.map((function(e){return function(e){var t=(0,u.ec)(e);/^[\w ]+/.test(e)&&(t="\\b".concat(t));/[\w ]+$/.test(e)&&(t="".concat(t,"\\b"));return t}(e)})).join("|")}},{key:"regExpGlobal",get:function(){if(!this.hasRegExp){var e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}},{key:"getToken",value:function(e){return this.map.get(e.toLowerCase())}},{key:"findClosingTokenText",value:function(e){var t,n=(0,r.Z)(this.map);try{for(n.s();!(t=n.n()).done;){var a=(0,i.Z)(t.value,2),o=a[0],s=a[1];if(2===s.kind&&s.bracketIds.intersects(e))return o}}catch(u){n.e(u)}finally{n.f()}}},{key:"isEmpty",get:function(){return 0===this.map.size}}],[{key:"createFromLanguage",value:function(t,n){function i(e){return n.getKey("".concat(e.languageId,":::").concat(e.bracketText))}var a,o=new Map,s=(0,r.Z)(t.bracketsNew.openingBrackets);try{for(s.s();!(a=s.n()).done;){var u=a.value,d=(0,f.Hg)(0,u.bracketText.length),g=i(u),v=h.tS.getEmpty().add(g,h.Qw);o.set(u.bracketText,new c.WU(d,1,g,v,l.n2.create(d,u,v)))}}catch(L){s.e(L)}finally{s.f()}var k,p=(0,r.Z)(t.bracketsNew.closingBrackets);try{for(p.s();!(k=p.n()).done;){var m,C=k.value,y=(0,f.Hg)(0,C.bracketText.length),I=h.tS.getEmpty(),b=C.getOpeningBrackets(),_=(0,r.Z)(b);try{for(_.s();!(m=_.n()).done;){var x=m.value;I=I.add(i(x),h.Qw)}}catch(L){_.e(L)}finally{_.f()}o.set(C.bracketText,new c.WU(y,2,i(b[0]),I,l.n2.create(y,C,I)))}}catch(L){p.e(L)}finally{p.f()}return new e(o)}}]),e}();var g=function(){function e(t,n){(0,o.Z)(this,e),this.denseKeyProvider=t,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}return(0,s.Z)(e,[{key:"didLanguageChange",value:function(e){return this.languageIdToBracketTokens.has(e)}},{key:"getSingleLanguageBracketTokens",value:function(e){var t=this.languageIdToBracketTokens.get(e);return t||(t=d.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}]),e}()},51521:function(e,t,n){n.d(t,{BE:function(){return C},By:function(){return I},F_:function(){return v},Hg:function(){return c},Hw:function(){return d},Ii:function(){return k},PZ:function(){return _},Qw:function(){return x},VR:function(){return y},W9:function(){return g},Zq:function(){return b},av:function(){return u},oR:function(){return L},rM:function(){return m},tQ:function(){return p},xd:function(){return f},xl:function(){return l}});var i=n(15671),r=n(43144),a=n(26684),o=n(30788),s=function(){function e(t,n){(0,i.Z)(this,e),this.lineCount=t,this.columnCount=n}return(0,r.Z)(e,[{key:"toString",value:function(){return"".concat(this.lineCount,",").concat(this.columnCount)}}]),e}();function u(e,t,n,i){return e!==n?c(n-e,i):c(0,i-t)}s.zero=new s(0,0);var l=0;function f(e){return 0===e}var h=Math.pow(2,26);function c(e,t){return e*h+t}function d(e){var t=e,n=Math.floor(t/h);return new s(n,t-n*h)}function g(e){return Math.floor(e/h)}function v(e){return e}function k(e,t){var n=e+t;return t>=h&&(n-=e%h),n}function p(e,t){return e.reduce((function(e,n){return k(e,t(n))}),l)}function m(e,t){return e===t}function C(e,t){var n=e,i=t;if(i-n<=0)return l;var r=Math.floor(n/h),a=Math.floor(i/h),o=i-a*h;return r===a?c(0,o-(n-r*h)):c(a-r,o)}function y(e,t){return e<t}function I(e,t){return e<=t}function b(e,t){return e>=t}function _(e){return c(e.lineNumber-1,e.column-1)}function x(e,t){var n=e,i=Math.floor(n/h),r=n-i*h,a=t,s=Math.floor(a/h),u=a-s*h;return new o.e(i+1,r+1,s+1,u+1)}function L(e){var t=(0,a.uq)(e);return c(t.length-1,t[t.length-1].length)}},50781:function(e,t,n){n.d(t,{w:function(){return v}});var i=n(15671),r=n(43144),a=n(44277),o=n(33474),s=n(98427),u=n(51521);function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return null;if(1===e.length)return e[0];for(var n=e.length;n>3;){for(var i=n>>1,r=0;r<i;r++){var o=r<<1;e[r]=a.Y0.create23(e[o],e[o+1],o+3===n?e[o+2]:null,t)}n=i}return a.Y0.create23(e[0],e[1],n>=3?e[2]:null,t)}function f(e,t){return Math.abs(e.listHeight-t.listHeight)}function h(e,t){return e.listHeight===t.listHeight?a.Y0.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){var n,i=e=e.toMutable(),r=[];for(;;){if(t.listHeight===i.listHeight){n=t;break}if(4!==i.kind)throw new Error("unexpected");r.push(i),i=i.makeLastElementMutable()}for(var o=r.length-1;o>=0;o--){var s=r[o];n?s.childrenLength>=3?n=a.Y0.create23(s.unappendChild(),n,null,!1):(s.appendChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?a.Y0.create23(e,n,null,!1):e}(e,t):function(e,t){var n=e=e.toMutable(),i=[];for(;t.listHeight!==n.listHeight;){if(4!==n.kind)throw new Error("unexpected");i.push(n),n=n.makeFirstElementMutable()}for(var r=t,o=i.length-1;o>=0;o--){var s=i[o];r?s.childrenLength>=3?r=a.Y0.create23(r,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(r),r=void 0):s.handleChildrenChanged()}return r?a.Y0.create23(r,e,null,!1):e}(t,e)}var c=function(){function e(t){(0,i.Z)(this,e),this.lastOffset=u.xl,this.nextNodes=[t],this.offsets=[u.xl],this.idxs=[]}return(0,r.Z)(e,[{key:"readLongestNodeAt",value:function(e,t){if((0,u.VR)(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){var n=g(this.nextNodes);if(!n)return;var i=g(this.offsets);if((0,u.VR)(e,i))return;if((0,u.VR)(i,e))if((0,u.Ii)(i,n.length)<=e)this.nextNodeAfterCurrent();else{var r=d(n);-1!==r?(this.nextNodes.push(n.getChild(r)),this.offsets.push(i),this.idxs.push(r)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;var a=d(n);if(-1===a)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(a)),this.offsets.push(i),this.idxs.push(a)}}}},{key:"nextNodeAfterCurrent",value:function(){for(;;){var e=g(this.offsets),t=g(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;var n=g(this.nextNodes),i=d(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push((0,u.Ii)(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}]),e}();function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function g(e){return e.length>0?e[e.length-1]:void 0}function v(e,t,n,i){return new k(e,t,n,i).parseDocument()}var k=function(){function e(t,n,r,a){if((0,i.Z)(this,e),this.tokenizer=t,this.createImmutableLists=a,this._itemsConstructed=0,this._itemsFromCache=0,r&&a)throw new Error("Not supported");this.oldNodeReader=r?new c(r):void 0,this.positionMapper=new o.Y(n)}return(0,r.Z)(e,[{key:"parseDocument",value:function(){this._itemsConstructed=0,this._itemsFromCache=0;var e=this.parseList(s.tS.getEmpty());return e||(e=a.Y0.getEmpty()),e}},{key:"parseList",value:function(e){for(var t=[];;){var n=this.tryReadChildFromCache(e);if(!n){var i=this.tokenizer.peek();if(!i||2===i.kind&&i.bracketIds.intersects(e))break;n=this.parseChild(e)}4===n.kind&&0===n.childrenLength||t.push(n)}var r=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];var t=0;function n(){if(t>=e.length)return null;var n=t,i=e[n].listHeight;for(t++;t<e.length&&e[t].listHeight===i;)t++;return t-n>=2?l(0===n&&t===e.length?e:e.slice(n,t),!1):e[n]}var i=n(),r=n();if(!r)return i;for(var a=n();a;a=n())f(i,r)<=f(r,a)?(i=h(i,r),r=a):r=h(r,a);return h(i,r)}(t):l(t,this.createImmutableLists);return r}},{key:"tryReadChildFromCache",value:function(e){if(this.oldNodeReader){var t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!(0,u.xd)(t)){var n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(function(n){return!(null!==t&&!(0,u.VR)(n.length,t))&&n.canBeReused(e)}));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}},{key:"parseChild",value:function(e){this._itemsConstructed++;var t=this.tokenizer.read();switch(t.kind){case 2:return new a.Dm(t.bracketIds,t.length);case 0:return t.astNode;case 1:var n=e.merge(t.bracketIds),i=this.parseList(n),r=this.tokenizer.peek();return r&&2===r.kind&&(r.bracketId===t.bracketId||r.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),a.Kd.create(t.astNode,i,r.astNode)):a.Kd.create(t.astNode,i,null);default:throw new Error("unexpected")}}}]),e}()},98427:function(e,t,n){n.d(t,{FE:function(){return u},Qw:function(){return s},tS:function(){return o}});var i=n(15671),r=n(43144),a=[],o=function(){function e(t,n){(0,i.Z)(this,e),this.items=t,this.additionalItems=n}return(0,r.Z)(e,[{key:"add",value:function(t,n){var i=n.getKey(t),r=i>>5;if(0===r){var a=1<<i|this.items;return a===this.items?this:e.create(a,this.additionalItems)}r--;for(var o=this.additionalItems.slice(0);o.length<r;)o.push(0);return o[r]|=1<<(31&i),e.create(this.items,o)}},{key:"merge",value:function(t){var n=this.items|t.items;if(this.additionalItems===a&&t.additionalItems===a)return n===this.items?this:n===t.items?t:e.create(n,a);for(var i=[],r=0;r<Math.max(this.additionalItems.length,t.additionalItems.length);r++){var o=this.additionalItems[r]||0,s=t.additionalItems[r]||0;i.push(o|s)}return e.create(n,i)}},{key:"intersects",value:function(e){if(0!==(this.items&e.items))return!0;for(var t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!==(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}],[{key:"create",value:function(t,n){if(t<=128&&0===n.length){var i=e.cache[t];return i||(i=new e(t,n),e.cache[t]=i),i}return new e(t,n)}},{key:"getEmpty",value:function(){return this.empty}}]),e}();o.cache=new Array(129),o.empty=o.create(0,a);var s={getKey:function(e){return e}},u=function(){function e(){(0,i.Z)(this,e),this.items=new Map}return(0,r.Z)(e,[{key:"getKey",value:function(e){var t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}]),e}()},67344:function(e,t,n){n.d(t,{WU:function(){return f},g:function(){return d},xH:function(){return h}});var i=n(43144),r=n(15671),a=n(68552),o=n(26488),s=n(44277),u=n(51521),l=n(98427),f=(0,i.Z)((function e(t,n,i,a,o){(0,r.Z)(this,e),this.length=t,this.kind=n,this.bracketId=i,this.bracketIds=a,this.astNode=o})),h=function(){function e(t,n){(0,r.Z)(this,e),this.textModel=t,this.bracketTokens=n,this.reader=new c(this.textModel,this.bracketTokens),this._offset=u.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}return(0,i.Z)(e,[{key:"offset",get:function(){return this._offset}},{key:"length",get:function(){return(0,u.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}},{key:"skip",value:function(e){this.didPeek=!1,this._offset=(0,u.Ii)(this._offset,e);var t=(0,u.Hw)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}},{key:"read",value:function(){var e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=(0,u.Ii)(this._offset,e.length)),e}},{key:"peek",value:function(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}]),e}(),c=function(){function e(t,n){(0,r.Z)(this,e),this.textModel=t,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}return(0,i.Z)(e,[{key:"setPosition",value:function(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}},{key:"read",value:function(){if(this.peekedToken){var e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,u.F_)(e.length),e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));for(var t=this.lineIdx,n=this.lineCharOffset,i=0;;){var r=this.lineTokens,a=r.getCount(),h=null;if(this.lineTokenOffset<a){for(var c=r.getMetadata(this.lineTokenOffset);this.lineTokenOffset+1<a&&c===r.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;var d=0===o.N.getTokenType(c),g=o.N.containsBalancedBrackets(c),v=r.getEndOffset(this.lineTokenOffset);if(g&&d&&this.lineCharOffset<v){var k=r.getLanguageId(this.lineTokenOffset),p=this.line.substring(this.lineCharOffset,v),m=this.bracketTokens.getSingleLanguageBracketTokens(k),C=m.regExpGlobal;if(C){C.lastIndex=0;var y=C.exec(p);y&&(h=m.getToken(y[0]))&&(this.lineCharOffset+=y.index)}}if(i+=v-this.lineCharOffset,h){if(t!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=h;break}return this.lineCharOffset+=(0,u.F_)(h.length),h}this.lineTokenOffset++,this.lineCharOffset=v}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,(i+=33)>1e3)break}if(i>1500)break}var I=(0,u.av)(t,n,this.lineIdx,this.lineCharOffset);return new f(I,0,-1,l.tS.getEmpty(),new s.BH(I))}}]),e}(),d=function(){function e(t,n){(0,r.Z)(this,e),this.text=t,this._offset=u.xl,this.idx=0;for(var i,a=n.getRegExpStr(),o=a?new RegExp(a+"|\n","gi"):null,h=[],c=0,d=0,g=0,v=0,k=[],p=0;p<60;p++)k.push(new f((0,u.Hg)(0,p),0,-1,l.tS.getEmpty(),new s.BH((0,u.Hg)(0,p))));for(var m=[],C=0;C<60;C++)m.push(new f((0,u.Hg)(1,C),0,-1,l.tS.getEmpty(),new s.BH((0,u.Hg)(1,C))));if(o)for(o.lastIndex=0;null!==(i=o.exec(t));){var y=i.index,I=i[0];if("\n"===I)c++,d=y+1;else{if(g!==y){var b=void 0;if(v===c){var _=y-g;if(_<k.length)b=k[_];else{var x=(0,u.Hg)(0,_);b=new f(x,0,-1,l.tS.getEmpty(),new s.BH(x))}}else{var L=c-v,w=y-d;if(1===L&&w<m.length)b=m[w];else{var O=(0,u.Hg)(L,w);b=new f(O,0,-1,l.tS.getEmpty(),new s.BH(O))}}h.push(b)}h.push(n.getToken(I)),g=y+I.length,v=c}}var B=t.length;if(g!==B){var S=v===c?(0,u.Hg)(0,B-g):(0,u.Hg)(c-v,B-d);h.push(new f(S,0,-1,l.tS.getEmpty(),new s.BH(S)))}this.length=(0,u.Hg)(c,B-d),this.tokens=h}return(0,i.Z)(e,[{key:"offset",get:function(){return this._offset}},{key:"read",value:function(){return this.tokens[this.idx++]||null}},{key:"peek",value:function(){return this.tokens[this.idx]||null}},{key:"skip",value:function(e){throw new a.B8}}]),e}()},1901:function(e,t,n){n.d(t,{z:function(){return c}});var i=n(15671),r=n(43144),a=n(60136),o=n(27277),s=n(28941),u=n(10526),l=n(30788),f=n(2374),h=n(3553),c=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).textModel=e,r.colorProvider=new d,r.onDidChangeEmitter=new s.Q5,r.onDidChange=r.onDidChangeEmitter.event,r.colorizationOptions=e.getOptions().bracketPairColorizationOptions,r._register(e.bracketPairs.onDidChange((function(e){r.onDidChangeEmitter.fire()}))),r}return(0,r.Z)(n,[{key:"handleDidChangeOptions",value:function(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}},{key:"getDecorationsInRange",value:function(e,t,n,i){var r=this;return i||void 0===t?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map((function(e){return{id:"bracket".concat(e.range.toString(),"-").concat(e.nestingLevel),options:{description:"BracketPairColorization",inlineClassName:r.colorProvider.getInlineClassName(e,r.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range}})).toArray():[]}},{key:"getAllDecorations",value:function(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new l.e(1,1,this.textModel.getLineCount(),1),e,t):[]}}]),n}(u.JT),d=function(){function e(){(0,i.Z)(this,e),this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}return(0,r.Z)(e,[{key:"getInlineClassName",value:function(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}},{key:"getInlineClassNameOfLevel",value:function(e){return"bracket-highlighting-".concat(e%30)}}]),e}();(0,h.Ic)((function(e,t){var n=[f.zJ,f.Vs,f.CE,f.UP,f.r0,f.m1],i=new d;t.addRule(".monaco-editor .".concat(i.unexpectedClosingBracketClassName," { color: ").concat(e.getColor(f.ts),"; }"));for(var r=n.map((function(t){return e.getColor(t)})).filter((function(e){return!!e})).filter((function(e){return!e.isTransparent()})),a=0;a<30;a++){var o=r[a%r.length];t.addRule(".monaco-editor .".concat(i.getInlineClassNameOfLevel(a)," { color: ").concat(o,"; }"))}}))},65396:function(e,t,n){n.d(t,{r:function(){return h}});var i=n(15671),r=n(43144),a=n(37762),o=n(91802),s=n(51521),u=n(50781),l=n(98427),f=n(67344);function h(e,t){var n=new l.FE,i=new o.Z(n,(function(e){return t.getLanguageConfiguration(e)})),r=new f.xH(new c([e]),i),h=(0,u.w)(r,[],void 0,!0),d="",g=e.getLineContent();return function e(t,n){if(2===t.kind)if(e(t.openingBracket,n),n=(0,s.Ii)(n,t.openingBracket.length),t.child&&(e(t.child,n),n=(0,s.Ii)(n,t.child.length)),t.closingBracket)e(t.closingBracket,n),n=(0,s.Ii)(n,t.closingBracket.length);else{var r=i.getSingleLanguageBracketTokens(t.openingBracket.languageId).findClosingTokenText(t.openingBracket.bracketIds);d+=r}else if(3===t.kind);else if(0===t.kind||1===t.kind)d+=g.substring((0,s.F_)(n),(0,s.F_)((0,s.Ii)(n,t.length)));else if(4===t.kind){var o,u=(0,a.Z)(t.children);try{for(u.s();!(o=u.n()).done;){var l=o.value;e(l,n),n=(0,s.Ii)(n,l.length)}}catch(f){u.e(f)}finally{u.f()}}}(h,s.xl),d}var c=function(){function e(t){var n=this;(0,i.Z)(this,e),this.lines=t,this.tokenization={getLineTokens:function(e){return n.lines[e-1]}}}return(0,r.Z)(e,[{key:"getLineCount",value:function(){return this.lines.length}},{key:"getLineLength",value:function(e){return this.lines[e-1].getLineContent().length}}]),e}()},42097:function(e,t,n){n.d(t,{NL:function(){return C},e9:function(){return m}});var i=n(37762),r=n(15671),a=n(43144),o=n(87697),s=n(68552),u=n(52091),l=n(50605),f=n(34742),h=n(28017),c=n(34408);function d(e){return e.toString()}var g=function(){function e(t,n,i,a,o,s,u){(0,r.Z)(this,e),this.beforeVersionId=t,this.afterVersionId=n,this.beforeEOL=i,this.afterEOL=a,this.beforeCursorState=o,this.afterCursorState=s,this.changes=u}return(0,a.Z)(e,[{key:"append",value:function(e,t,n,i,r){t.length>0&&(this.changes=(0,f.b)(this.changes,t)),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=r}},{key:"serialize",value:function(){var t,n=10+e._writeSelectionsSize(this.beforeCursorState)+e._writeSelectionsSize(this.afterCursorState)+4,r=(0,i.Z)(this.changes);try{for(r.s();!(t=r.n()).done;){n+=t.value.writeSize()}}catch(l){r.e(l)}finally{r.f()}var a=new Uint8Array(n),o=0;h.T4(a,this.beforeVersionId,o),o+=4,h.T4(a,this.afterVersionId,o),o+=4,h.Cg(a,this.beforeEOL,o),o+=1,h.Cg(a,this.afterEOL,o),o+=1,o=e._writeSelections(a,this.beforeCursorState,o),o=e._writeSelections(a,this.afterCursorState,o),h.T4(a,this.changes.length,o),o+=4;var s,u=(0,i.Z)(this.changes);try{for(u.s();!(s=u.n()).done;){o=s.value.write(a,o)}}catch(l){u.e(l)}finally{u.f()}return a.buffer}}],[{key:"create",value:function(t,n){var i=t.getAlternativeVersionId(),r=p(t);return new e(i,i,r,r,n,n,[])}},{key:"_writeSelectionsSize",value:function(e){return 4+16*(e?e.length:0)}},{key:"_writeSelections",value:function(e,t,n){if(h.T4(e,t?t.length:0,n),n+=4,t){var r,a=(0,i.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;h.T4(e,o.selectionStartLineNumber,n),n+=4,h.T4(e,o.selectionStartColumn,n),n+=4,h.T4(e,o.positionLineNumber,n),n+=4,h.T4(e,o.positionColumn,n),n+=4}}catch(s){a.e(s)}finally{a.f()}}return n}},{key:"_readSelections",value:function(e,t,n){var i=h.Ag(e,t);t+=4;for(var r=0;r<i;r++){var a=h.Ag(e,t);t+=4;var o=h.Ag(e,t);t+=4;var s=h.Ag(e,t);t+=4;var l=h.Ag(e,t);t+=4,n.push(new u.Y(a,o,s,l))}return t}},{key:"deserialize",value:function(t){var n=new Uint8Array(t),i=0,r=h.Ag(n,i);i+=4;var a=h.Ag(n,i);i+=4;var o=h.Q$(n,i);i+=1;var s=h.Q$(n,i);i+=1;var u=[];i=e._readSelections(n,i,u);var l=[];i=e._readSelections(n,i,l);var c=h.Ag(n,i);i+=4;for(var d=[],g=0;g<c;g++)i=f.q.read(n,i,d);return new e(r,a,o,s,u,l,d)}}]),e}(),v=function(){function e(t,n,i,a){(0,r.Z)(this,e),this.label=t,this.code=n,this.model=i,this._data=g.create(i,a)}return(0,a.Z)(e,[{key:"type",get:function(){return 0}},{key:"resource",get:function(){return l.o.isUri(this.model)?this.model:this.model.uri}},{key:"toString",value:function(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map((function(e){return e.toString()})).join(", ")}},{key:"matchesResource",value:function(e){return(l.o.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}},{key:"setModel",value:function(e){this.model=e}},{key:"canAppend",value:function(e){return this.model===e&&this._data instanceof g}},{key:"append",value:function(e,t,n,i,r){this._data instanceof g&&this._data.append(e,t,n,i,r)}},{key:"close",value:function(){this._data instanceof g&&(this._data=this._data.serialize())}},{key:"open",value:function(){this._data instanceof g||(this._data=g.deserialize(this._data))}},{key:"undo",value:function(){if(l.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());var e=g.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}},{key:"redo",value:function(){if(l.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());var e=g.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}},{key:"heapSize",value:function(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}]),e}(),k=function(){function e(t,n,a){(0,r.Z)(this,e),this.label=t,this.code=n,this.type=1,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;var o,s=(0,i.Z)(this._editStackElementsArr);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=d(u.resource);this._editStackElementsMap.set(l,u)}}catch(f){s.e(f)}finally{s.f()}this._delegate=null}return(0,a.Z)(e,[{key:"resources",get:function(){return this._editStackElementsArr.map((function(e){return e.resource}))}},{key:"prepareUndoRedo",value:function(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}},{key:"matchesResource",value:function(e){var t=d(e);return this._editStackElementsMap.has(t)}},{key:"setModel",value:function(e){var t=d(l.o.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}},{key:"canAppend",value:function(e){if(!this._isOpen)return!1;var t=d(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}},{key:"append",value:function(e,t,n,i,r){var a=d(e.uri);this._editStackElementsMap.get(a).append(e,t,n,i,r)}},{key:"close",value:function(){this._isOpen=!1}},{key:"open",value:function(){}},{key:"undo",value:function(){this._isOpen=!1;var e,t=(0,i.Z)(this._editStackElementsArr);try{for(t.s();!(e=t.n()).done;){e.value.undo()}}catch(n){t.e(n)}finally{t.f()}}},{key:"redo",value:function(){var e,t=(0,i.Z)(this._editStackElementsArr);try{for(t.s();!(e=t.n()).done;){e.value.redo()}}catch(n){t.e(n)}finally{t.f()}}},{key:"heapSize",value:function(e){var t=d(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}},{key:"split",value:function(){return this._editStackElementsArr}},{key:"toString",value:function(){var e,t=[],n=(0,i.Z)(this._editStackElementsArr);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push("".concat((0,c.EZ)(r.resource),": ").concat(r))}}catch(a){n.e(a)}finally{n.f()}return"{".concat(t.join(", "),"}")}}]),e}();function p(e){return"\n"===e.getEOL()?0:1}function m(e){return!!e&&(e instanceof v||e instanceof k)}var C=function(){function e(t,n){(0,r.Z)(this,e),this._model=t,this._undoRedoService=n}return(0,a.Z)(e,[{key:"pushStackElement",value:function(){var e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.close()}},{key:"popStackElement",value:function(){var e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.open()}},{key:"clear",value:function(){this._undoRedoService.removeElements(this._model.uri)}},{key:"_getOrCreateEditStackElement",value:function(e,t){var n=this._undoRedoService.getLastElement(this._model.uri);if(m(n)&&n.canAppend(this._model))return n;var i=new v(o.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(i,t),i}},{key:"pushEOL",value:function(e){var t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],p(this._model),this._model.getAlternativeVersionId(),null)}},{key:"pushEditOperation",value:function(t,n,i,r){var a=this._getOrCreateEditStackElement(t,r),o=this._model.applyEdits(n,!0),s=e._computeCursorState(i,o),u=o.map((function(e,t){return{index:t,textChange:e.textChange}}));return u.sort((function(e,t){return e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition})),a.append(this._model,u.map((function(e){return e.textChange})),p(this._model),this._model.getAlternativeVersionId(),s),s}}],[{key:"_computeCursorState",value:function(e,t){try{return e?e(t):null}catch(n){return(0,s.dL)(n),null}}}]),e}()},1715:function(e,t,n){n.d(t,{W:function(){return k},l:function(){return v}});var i=n(37762),r=n(15671),a=n(43144),o=n(60136),s=n(27277),u=n(71881),l=n(26684),f=n(34538),h=n(30788),c=n(11227),d=n(59921),g=n(54612),v=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).textModel=e,a.languageConfigurationService=i,a}return(0,a.Z)(n,[{key:"getLanguageConfiguration",value:function(e){return this.languageConfigurationService.getLanguageConfiguration(e)}},{key:"_computeIndentLevel",value:function(e){return(0,d.q)(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}},{key:"getActiveIndentGuide",value:function(e,t,n){var i=this;this.assertNotDisposed();var r=this.textModel.getLineCount();if(e<1||e>r)throw new Error("Illegal value for lineNumber");for(var a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(a&&a.offSide),s=-2,u=-1,l=-2,f=-1,h=function(e){if(-1!==s&&(-2===s||s>e-1)){s=-1,u=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){s=t,u=n;break}}}if(-2===l){l=-1,f=-1;for(var a=e;a<r;a++){var o=i._computeIndentLevel(a);if(o>=0){l=a,f=o;break}}}},c=-2,d=-1,g=-2,v=-1,k=function(e){if(-2===c){c=-1,d=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){c=t,d=n;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,v=-1;for(var a=e;a<r;a++){var o=i._computeIndentLevel(a);if(o>=0){g=a,v=o;break}}}},p=0,m=!0,C=0,y=!0,I=0,b=0,_=0;m||y;_++){var x=e-_,L=e+_;_>1&&(x<1||x<t)&&(m=!1),_>1&&(L>r||L>n)&&(y=!1),_>5e4&&(m=!1,y=!1);var w=-1;if(m&&x>=1){var O=this._computeIndentLevel(x-1);O>=0?(l=x-1,f=O,w=Math.ceil(O/this.textModel.getOptions().indentSize)):(h(x),w=this._getIndentLevelForWhitespaceLine(o,u,f))}var B=-1;if(y&&L<=r){var S=this._computeIndentLevel(L-1);S>=0?(c=L-1,d=S,B=Math.ceil(S/this.textModel.getOptions().indentSize)):(k(L),B=this._getIndentLevelForWhitespaceLine(o,d,v))}if(0!==_){if(1===_){if(L<=r&&B>=0&&b+1===B){m=!1,p=L,C=L,I=B;continue}if(x>=1&&w>=0&&w-1===b){y=!1,p=x,C=x,I=w;continue}if(p=e,C=e,0===(I=b))return{startLineNumber:p,endLineNumber:C,indent:I}}m&&(w>=I?p=x:m=!1),y&&(B>=I?C=L:y=!1)}else b=w}return{startLineNumber:p,endLineNumber:C,indent:I}}},{key:"getLinesBracketGuides",value:function(e,t,n,r){for(var a,o=[],s=e;s<=t;s++)o.push([]);var f=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new h.e(e,1,t,this.textModel.getLineMaxColumn(t))).toArray(),c=void 0;if(n&&f.length>0){var d=(e<=n.lineNumber&&n.lineNumber<=t?f:this.textModel.bracketPairs.getBracketPairsInRange(h.e.fromPositions(n)).toArray()).filter((function(e){return h.e.strictContainsPosition(e.range,n)}));c=null===(a=(0,u.dF)(d,(function(e){return true})))||void 0===a?void 0:a.range}var v,p=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,m=new k,C=(0,i.Z)(f);try{for(C.s();!(v=C.n()).done;){var y=v.value;if(y.closingBracketRange){var I=c&&y.range.equalsRange(c);if(I||r.includeInactive){var b=m.getInlineClassName(y.nestingLevel,y.nestingLevelOfEqualBracketType,p)+(r.highlightActive&&I?" "+m.activeClassName:""),_=y.openingBracketRange.getStartPosition(),x=y.closingBracketRange.getStartPosition(),L=r.horizontalGuides===g.s6.Enabled||r.horizontalGuides===g.s6.EnabledForActive&&I;if(y.range.startLineNumber!==y.range.endLineNumber){var w=this.getVisibleColumnFromPosition(x),O=this.getVisibleColumnFromPosition(y.openingBracketRange.getStartPosition()),B=Math.min(O,w,y.minVisibleColumnIndentation+1),S=!1;l.LC(this.textModel.getLineContent(y.closingBracketRange.startLineNumber))<y.closingBracketRange.startColumn-1&&(S=!0);for(var T=Math.max(_.lineNumber,e),E=Math.min(x.lineNumber,t),Z=S?1:0,R=T;R<E+Z;R++)o[R-e].push(new g.UO(B,-1,b,null,R===_.lineNumber?_.column:-1,R===x.lineNumber?x.column:-1));L&&(_.lineNumber>=e&&O>B&&o[_.lineNumber-e].push(new g.UO(B,-1,b,new g.vW(!1,_.column),-1,-1)),x.lineNumber<=t&&w>B&&o[x.lineNumber-e].push(new g.UO(B,-1,b,new g.vW(!S,x.column),-1,-1)))}else L&&o[y.range.startLineNumber-e].push(new g.UO(-1,y.openingBracketRange.getEndPosition().column,b,new g.vW(!1,x.column),-1,-1))}}}}catch(A){C.e(A)}finally{C.f()}for(var M=0,N=o;M<N.length;M++){N[M].sort((function(e,t){return e.visibleColumn-t.visibleColumn}))}return o}},{key:"getVisibleColumnFromPosition",value:function(e){return f.i.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}},{key:"getLinesIndentGuides",value:function(e,t){this.assertNotDisposed();var n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");for(var i=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(r&&r.offSide),o=new Array(t-e+1),s=-2,u=-1,l=-2,f=-1,h=e;h<=t;h++){var c=h-e,d=this._computeIndentLevel(h-1);if(d>=0)s=h-1,u=d,o[c]=Math.ceil(d/i.indentSize);else{if(-2===s){s=-1,u=-1;for(var g=h-2;g>=0;g--){var v=this._computeIndentLevel(g);if(v>=0){s=g,u=v;break}}}if(-1!==l&&(-2===l||l<h-1)){l=-1,f=-1;for(var k=h;k<n;k++){var p=this._computeIndentLevel(k);if(p>=0){l=k,f=p;break}}}o[c]=this._getIndentLevelForWhitespaceLine(a,u,f)}}return o}},{key:"_getIndentLevelForWhitespaceLine",value:function(e,t,n){var i=this.textModel.getOptions();return-1===t||-1===n?0:t<n?1+Math.floor(t/i.indentSize):t===n||e?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}]),n}(c.U),k=function(){function e(){(0,r.Z)(this,e),this.activeClassName="indent-active"}return(0,a.Z)(e,[{key:"getInlineClassName",value:function(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}},{key:"getInlineClassNameOfLevel",value:function(e){return"bracket-indent-guide lvl-".concat(e%30)}}]),e}()},8689:function(e,t,n){n.d(t,{L:function(){return s}});var i=n(43144),r=n(15671),a=(0,i.Z)((function e(){(0,r.Z)(this,e),this.spacesDiff=0,this.looksLikeAlignment=!1}));function o(e,t,n,i,r){var a;for(r.spacesDiff=0,r.looksLikeAlignment=!1,a=0;a<t&&a<i;a++){if(e.charCodeAt(a)!==n.charCodeAt(a))break}for(var o=0,s=0,u=a;u<t;u++){32===e.charCodeAt(u)?o++:s++}for(var l=0,f=0,h=a;h<i;h++){32===n.charCodeAt(h)?l++:f++}if(!(o>0&&s>0)&&!(l>0&&f>0)){var c=Math.abs(s-f),d=Math.abs(o-l);if(0===c)return r.spacesDiff=d,void(d>0&&0<=l-1&&l-1<e.length&&l<n.length&&32!==n.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(r.looksLikeAlignment=!0));d%c!==0||(r.spacesDiff=d/c)}}function s(e,t,n){for(var i=Math.min(e.getLineCount(),1e4),r=0,s=0,u="",l=0,f=[0,0,0,0,0,0,0,0,0],h=new a,c=1;c<=i;c++){for(var d=e.getLineLength(c),g=e.getLineContent(c),v=d<=65536,k=!1,p=0,m=0,C=0,y=0,I=d;y<I;y++){var b=v?g.charCodeAt(y):e.getLineCharCode(c,y);if(9===b)C++;else{if(32!==b){k=!0,p=y;break}m++}}if(k&&(C>0?r++:m>1&&s++,o(u,l,g,p,h),!h.looksLikeAlignment||n&&t===h.spacesDiff)){var _=h.spacesDiff;_<=8&&f[_]++,u=g,l=p}}var x=n;r!==s&&(x=r<s);var L=t;if(x){var w=x?0:.1*i;[2,4,6,8,3,5,7].forEach((function(e){var t=f[e];t>w&&(w=t,L=e)})),4===L&&f[4]>0&&f[2]>0&&f[2]>=f[4]/2&&(L=2)}return{insertSpaces:x,tabSize:L}}},28579:function(e,t,n){n.d(t,{IF:function(){return v},fL:function(){return d},sR:function(){return x}});var i=n(15671),r=n(43144);function a(e){return(1&e.metadata)>>>0}function o(e,t){e.metadata=254&e.metadata|t<<0}function s(e){return(2&e.metadata)>>>1===1}function u(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function l(e){return(4&e.metadata)>>>2===1}function f(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function h(e,t){e.metadata=231&e.metadata|t<<3}function c(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}var d=function(){function e(t,n,r){(0,i.Z)(this,e),this.metadata=0,this.parent=this,this.left=this,this.right=this,o(this,1),this.start=n,this.end=r,this.delta=0,this.maxEnd=r,this.id=t,this.ownerId=0,this.options=null,f(this,!1),h(this,1),c(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=n,this.cachedAbsoluteEnd=r,this.range=null,u(this,!1)}return(0,r.Z)(e,[{key:"reset",value:function(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}},{key:"setOptions",value:function(e){this.options=e;var t=this.options.className;f(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),h(this,this.options.stickiness),c(this,this.options.collapseOnReplaceEdit)}},{key:"setCachedOffsets",value:function(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}},{key:"detach",value:function(){this.parent=null,this.left=null,this.right=null}}]),e}(),g=new d(null,0,0);g.parent=g,g.left=g,g.right=g,o(g,0);var v=function(){function e(){(0,i.Z)(this,e),this.root=g,this.requestNormalizeDelta=!1}return(0,r.Z)(e,[{key:"intervalSearch",value:function(e,t,n,i,r){return this.root===g?[]:function(e,t,n,i,r,a){var o=e.root,f=0,h=0,c=0,d=[],v=0;for(;o!==g;)if(s(o))u(o.left,!1),u(o.right,!1),o===o.parent.right&&(f-=o.parent.delta),o=o.parent;else{if(!s(o.left)){if(f+o.maxEnd<t){u(o,!0);continue}if(o.left!==g){o=o.left;continue}}if((h=f+o.start)>n)u(o,!0);else{if((c=f+o.end)>=t){o.setCachedOffsets(h,c,a);var k=!0;i&&o.ownerId&&o.ownerId!==i&&(k=!1),r&&l(o)&&(k=!1),k&&(d[v++]=o)}u(o,!0),o.right===g||s(o.right)||(f+=o.delta,o=o.right)}}return u(e.root,!1),d}(this,e,t,n,i,r)}},{key:"search",value:function(e,t,n){return this.root===g?[]:function(e,t,n,i){var r=e.root,a=0,o=0,f=0,h=[],c=0;for(;r!==g;)if(s(r))u(r.left,!1),u(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),r=r.parent;else if(r.left===g||s(r.left)){o=a+r.start,f=a+r.end,r.setCachedOffsets(o,f,i);var d=!0;t&&r.ownerId&&r.ownerId!==t&&(d=!1),n&&l(r)&&(d=!1),d&&(h[c++]=r),u(r,!0),r.right===g||s(r.right)||(a+=r.delta,r=r.right)}else r=r.left;return u(e.root,!1),h}(this,e,t,n)}},{key:"collectNodesFromOwner",value:function(e){return function(e,t){var n=e.root,i=[],r=0;for(;n!==g;)s(n)?(u(n.left,!1),u(n.right,!1),n=n.parent):n.left===g||s(n.left)?(n.ownerId===t&&(i[r++]=n),u(n,!0),n.right===g||s(n.right)||(n=n.right)):n=n.left;return u(e.root,!1),i}(this,e)}},{key:"collectNodesPostOrder",value:function(){return function(e){var t=e.root,n=[],i=0;for(;t!==g;)s(t)?(u(t.left,!1),u(t.right,!1),t=t.parent):t.left===g||s(t.left)?t.right===g||s(t.right)?(n[i++]=t,u(t,!0)):t=t.right:t=t.left;return u(e.root,!1),n}(this)}},{key:"insert",value:function(e){m(this,e),this._normalizeDeltaIfNecessary()}},{key:"delete",value:function(e){C(this,e),this._normalizeDeltaIfNecessary()}},{key:"resolveNode",value:function(e,t){for(var n=e,i=0;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;var r=n.start+i,a=n.end+i;n.setCachedOffsets(r,a,t)}},{key:"acceptReplace",value:function(e,t,n,i){for(var r=function(e,t,n){var i=e.root,r=0,a=0,o=0,l=[],f=0;for(;i!==g;)if(s(i))u(i.left,!1),u(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;else{if(!s(i.left)){if(r+i.maxEnd<t){u(i,!0);continue}if(i.left!==g){i=i.left;continue}}(a=r+i.start)>n?u(i,!0):((o=r+i.end)>=t&&(i.setCachedOffsets(a,o,0),l[f++]=i),u(i,!0),i.right===g||s(i.right)||(r+=i.delta,i=i.right))}return u(e.root,!1),l}(this,e,e+t),a=0,o=r.length;a<o;a++){C(this,r[a])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){var r=e.root,a=0,o=i-(n-t);for(;r!==g;)if(s(r))u(r.left,!1),u(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),x(r),r=r.parent;else{if(!s(r.left)){if(a+r.maxEnd<t){u(r,!0);continue}if(r.left!==g){r=r.left;continue}}a+r.start>n?(r.start+=o,r.end+=o,r.delta+=o,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0),u(r,!0)):(u(r,!0),r.right===g||s(r.right)||(a+=r.delta,r=r.right))}u(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(var l=0,f=r.length;l<f;l++){var h=r[l];h.start=h.cachedAbsoluteStart,h.end=h.cachedAbsoluteEnd,p(h,e,e+t,n,i),h.maxEnd=h.end,m(this,h)}this._normalizeDeltaIfNecessary()}},{key:"_normalizeDeltaIfNecessary",value:function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){var t=e.root,n=0;for(;t!==g;)t.left===g||s(t.left)?t.right===g||s(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,x(t),u(t,!0),u(t.left,!1),u(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;u(e.root,!1)}(this))}}]),e}();function k(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function p(e,t,n,i,r){var a=function(e){return(24&e.metadata)>>>3}(e),o=0===a||2===a,s=1===a||2===a,u=n-t,l=i,f=Math.min(u,l),h=e.start,c=!1,d=e.end,g=!1;t<=h&&d<=n&&function(e){return(32&e.metadata)>>>5===1}(e)&&(e.start=t,c=!0,e.end=t,g=!0);var v=r?1:u>0?2:0;if(!c&&k(h,o,t,v)&&(c=!0),!g&&k(d,s,t,v)&&(g=!0),f>0&&!r){var p=u>l?2:0;!c&&k(h,o,t+f,p)&&(c=!0),!g&&k(d,s,t+f,p)&&(g=!0)}var m=r?1:0;!c&&k(h,o,n,m)&&(e.start=t+l,c=!0),!g&&k(d,s,n,m)&&(e.end=t+l,g=!0);var C=l-u;c||(e.start=Math.max(0,h+C)),g||(e.end=Math.max(0,d+C)),e.start>e.end&&(e.end=e.start)}function m(e,t){if(e.root===g)return t.parent=g,t.left=g,t.right=g,o(t,0),e.root=t,e.root;!function(e,t){var n=0,i=e.root,r=t.start,a=t.end;for(;;){if(w(r,a,i.start+n,i.end+n)<0){if(i.left===g){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===g){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=g,t.right=g,o(t,1)}(e,t),L(t.parent);for(var n=t;n!==e.root&&1===a(n.parent);)if(n.parent===n.parent.parent.left){var i=n.parent.parent.right;1===a(i)?(o(n.parent,0),o(i,0),o(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&I(e,n=n.parent),o(n.parent,0),o(n.parent.parent,1),b(e,n.parent.parent))}else{var r=n.parent.parent.left;1===a(r)?(o(n.parent,0),o(r,0),o(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&b(e,n=n.parent),o(n.parent,0),o(n.parent.parent,1),I(e,n.parent.parent))}return o(e.root,0),t}function C(e,t){var n,i;if(t.left===g?(i=t,(n=t.right).delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===g?(n=t.left,i=t):((n=(i=function(e){for(;e.left!==g;)e=e.left;return e}(t.right)).right).start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,o(n,0),t.detach(),y(),x(n),void(e.root.parent=g);var r,s=1===a(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,o(i,a(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==g&&(i.left.parent=i),i.right!==g&&(i.right.parent=i)),t.detach(),s)return L(n.parent),i!==t&&(L(i),L(i.parent)),void y();for(L(n),L(n.parent),i!==t&&(L(i),L(i.parent));n!==e.root&&0===a(n);)n===n.parent.left?(1===a(r=n.parent.right)&&(o(r,0),o(n.parent,1),I(e,n.parent),r=n.parent.right),0===a(r.left)&&0===a(r.right)?(o(r,1),n=n.parent):(0===a(r.right)&&(o(r.left,0),o(r,1),b(e,r),r=n.parent.right),o(r,a(n.parent)),o(n.parent,0),o(r.right,0),I(e,n.parent),n=e.root)):(1===a(r=n.parent.left)&&(o(r,0),o(n.parent,1),b(e,n.parent),r=n.parent.left),0===a(r.left)&&0===a(r.right)?(o(r,1),n=n.parent):(0===a(r.left)&&(o(r.right,0),o(r,1),I(e,r),r=n.parent.left),o(r,a(n.parent)),o(n.parent,0),o(r.left,0),b(e,n.parent),n=e.root));o(n,0),y()}function y(){g.parent=g,g.delta=0,g.start=0,g.end=0}function I(e,t){var n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==g&&(n.left.parent=t),n.parent=t.parent,t.parent===g?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,x(t),x(n)}function b(e,t){var n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==g&&(n.right.parent=t),n.parent=t.parent,t.parent===g?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,x(t),x(n)}function _(e){var t=e.end;if(e.left!==g){var n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==g){var i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function x(e){e.maxEnd=_(e)}function L(e){for(;e!==g;){var t=_(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function w(e,t,n,i){return e===n?t-i:e-n}},1219:function(e,t,n){n.d(t,{gD:function(){return u}});var i=n(15671),r=n(43144),a=n(65361),o=n(10849),s=n(36158),u=function(){function e(t,n,r,a,o){(0,i.Z)(this,e),this.injectionOffsets=t,this.injectionOptions=n,this.breakOffsets=r,this.breakOffsetsVisibleColumn=a,this.wrappedTextIndentLength=o}return(0,r.Z)(e,[{key:"getOutputLineCount",value:function(){return this.breakOffsets.length}},{key:"getMinOutputOffset",value:function(e){return e>0?this.wrappedTextIndentLength:0}},{key:"getLineLength",value:function(e){var t=e>0?this.breakOffsets[e-1]:0,n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}},{key:"getMaxOutputOffset",value:function(e){return this.getLineLength(e)}},{key:"translateToInputOffset",value:function(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));var n=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(var i=0;i<this.injectionOffsets.length&&n>this.injectionOffsets[i];i++)n<this.injectionOffsets[i]+this.injectionOptions[i].content.length?n=this.injectionOffsets[i]:n-=this.injectionOptions[i].content.length;return n}},{key:"translateToOutputPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e;if(null!==this.injectionOffsets)for(var i=0;i<this.injectionOffsets.length&&!(e<this.injectionOffsets[i])&&(1===t||e!==this.injectionOffsets[i]);i++)n+=this.injectionOptions[i].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,t)}},{key:"offsetInInputWithInjectionsToOutputPosition",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=0,i=this.breakOffsets.length-1,r=0,a=0;n<=i;){r=n+(i-n)/2|0;var o=this.breakOffsets[r];if(a=r>0?this.breakOffsets[r-1]:0,0===t)if(e<=a)i=r-1;else{if(!(e>o))break;n=r+1}else if(e<a)i=r-1;else{if(!(e>=o))break;n=r+1}}var s=e-a;return r>0&&(s+=this.wrappedTextIndentLength),new h(r,s)}},{key:"normalizeOutputPosition",value:function(e,t,n){if(null!==this.injectionOffsets){var i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(i,n);if(r!==i)return this.offsetInInputWithInjectionsToOutputPosition(r,n)}if(0===n){if(e>0&&t===this.getMinOutputOffset(e))return new h(e-1,this.getMaxOutputOffset(e-1))}else if(1===n){if(e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new h(e+1,this.getMinOutputOffset(e+1))}return new h(e,t)}},{key:"outputPositionToOffsetInInputWithInjections",value:function(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}},{key:"normalizeOffsetInInputWithInjectionsAroundInjections",value:function(e,t){var n=this.getInjectedTextAtOffset(e);if(!n)return e;if(2===t){if(e===n.offsetInInputWithInjections+n.length&&l(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;var i=n.offsetInInputWithInjections;if(f(this.injectionOptions[n.injectedTextIndex].cursorStops))return i;for(var r=n.injectedTextIndex-1;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[n.injectedTextIndex]&&!l(this.injectionOptions[r].cursorStops)&&(i-=this.injectionOptions[r].content.length,!f(this.injectionOptions[r].cursorStops));)r--;return i}if(1===t||4===t){for(var o=n.offsetInInputWithInjections+n.length,s=n.injectedTextIndex;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)o+=this.injectionOptions[s+1].content.length,s++;return o}if(0===t||3===t){for(var u=n.offsetInInputWithInjections,h=n.injectedTextIndex;h-1>=0&&this.injectionOffsets[h-1]===this.injectionOffsets[h];)u-=this.injectionOptions[h-1].content.length,h--;return u}(0,a.vE)(t)}},{key:"getInjectedText",value:function(e,t){var n=this.outputPositionToOffsetInInputWithInjections(e,t),i=this.getInjectedTextAtOffset(n);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}},{key:"getInjectedTextAtOffset",value:function(e){var t=this.injectionOffsets,n=this.injectionOptions;if(null!==t)for(var i=0,r=0;r<t.length;r++){var a=n[r].content.length,o=t[r]+i,s=t[r]+i+a;if(o>e)break;if(e<=s)return{injectedTextIndex:r,offsetInInputWithInjections:o,length:a};i+=a}}}]),e}();function l(e){return null===e||void 0===e||(e===s.RM.Right||e===s.RM.Both)}function f(e){return null===e||void 0===e||(e===s.RM.Left||e===s.RM.Both)}var h=function(){function e(t,n){(0,i.Z)(this,e),this.outputLineIndex=t,this.outputOffset=n}return(0,r.Z)(e,[{key:"toString",value:function(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset)}},{key:"toPosition",value:function(e){return new o.L(e+this.outputLineIndex,this.outputOffset+1)}}]),e}()}}]);
//# sourceMappingURL=monaco-editor-vendor.ffbeb0f7.e74ed5c1.js.map