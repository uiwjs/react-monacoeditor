"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[21],{18420:function(e,t,n){n.d(t,{NC:function(){return u},aj:function(){return o}});var i="undefined"!==typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function r(e,t){var n;return n=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){var i=n[0],r=t[i],u=e;return"string"===typeof r?u=r:"number"!==typeof r&&"boolean"!==typeof r&&void 0!==r&&null!==r||(u=String(r)),u})),i&&(n="\uff3b"+n.replace(/[aouei]/g,"$&$&")+"\uff3d"),n}function u(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),u=2;u<n;u++)i[u-2]=arguments[u];return r(t,i)}function o(e){}},74940:function(e,t,n){n.d(t,{A:function(){return p}});var i=n(15671),r=n(43144),u=n(60136),o=n(27277),a=n(32959),s=n(13880),c=n(65096),l=n(93897),d=n(77819),h=n(8022),f=n(67784),v=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},y=function(e,t){return function(n,i){t(n,i,e)}},p=function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,u){var o;(0,i.Z)(this,n),(o=t.call(this))._contextKeyService=e,o._layoutService=r,o._configurationService=u,o._accessibilitySupport=0,o._onDidChangeScreenReaderOptimized=new s.Q5,o._onDidChangeReducedMotion=new s.Q5,o._accessibilityModeEnabledContext=l.U.bindTo(o._contextKeyService);var a=function(){return o._accessibilityModeEnabledContext.set(o.isScreenReaderOptimized())};o._register(o._configurationService.onDidChangeConfiguration((function(e){e.affectsConfiguration("editor.accessibilitySupport")&&(a(),o._onDidChangeScreenReaderOptimized.fire()),e.affectsConfiguration("workbench.reduceMotion")&&(o._configMotionReduced=o._configurationService.getValue("workbench.reduceMotion"),o._onDidChangeReducedMotion.fire())}))),a(),o._register(o.onDidChangeScreenReaderOptimized((function(){return a()})));var c=window.matchMedia("(prefers-reduced-motion: reduce)");return o._systemMotionReduced=c.matches,o._configMotionReduced=o._configurationService.getValue("workbench.reduceMotion"),o.initReducedMotionListeners(c),o}return(0,r.Z)(n,[{key:"initReducedMotionListeners",value:function(e){var t=this;if(this._layoutService.hasContainer){this._register((0,a.addDisposableListener)(e,"change",(function(){t._systemMotionReduced=e.matches,"auto"===t._configMotionReduced&&t._onDidChangeReducedMotion.fire()})));var n=function(){var e=t.isMotionReduced();t._layoutService.container.classList.toggle("reduce-motion",e),t._layoutService.container.classList.toggle("enable-motion",!e)};n(),this._register(this.onDidChangeReducedMotion((function(){return n()})))}}},{key:"onDidChangeScreenReaderOptimized",get:function(){return this._onDidChangeScreenReaderOptimized.event}},{key:"isScreenReaderOptimized",value:function(){var e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}},{key:"onDidChangeReducedMotion",get:function(){return this._onDidChangeReducedMotion.event}},{key:"isMotionReduced",value:function(){var e=this._configMotionReduced;return"on"===e||"auto"===e&&this._systemMotionReduced}},{key:"getAccessibilitySupport",value:function(){return this._accessibilitySupport}}]),n}(c.JT);p=v([y(0,h.i6),y(1,f.F),y(2,d.Ui)],p)},93897:function(e,t,n){n.d(t,{F:function(){return r},U:function(){return u}});var i=n(8022),r=(0,n(64606).yh)("accessibilityService"),u=new i.uy("accessibilityModeEnabled",!1)},59874:function(e,t,n){n.d(t,{R:function(){return r}});var i=n(18420),r=Object.freeze({View:{value:(0,i.NC)("view","View"),original:"View"},Help:{value:(0,i.NC)("help","Help"),original:"Help"},Test:{value:(0,i.NC)("test","Test"),original:"Test"},File:{value:(0,i.NC)("file","File"),original:"File"},Preferences:{value:(0,i.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,i.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}})},1620:function(e,t,n){n.d(t,{v:function(){return P}});var i=n(15671),r=n(43144),u=n(60136),o=n(27277),a=n(32959),s=n(65171),c=n(65096),l=n(18420),d=n(93433),h=n(98737),f=n(86715),v=n(95587),y=n(77409),p=n(90650),g=n(79730),C=n(92361),D=n(75256),m=n(87103),k=n(43980),_=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},b=function(e,t){return function(n,i){t(n,i,e)}},w="acceptSelectedCodeAction",A="previewSelectedCodeAction",x=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"templateId",get:function(){return"header"}},{key:"renderTemplate",value:function(e){e.classList.add("group-header");var t=document.createElement("span");return e.append(t),{container:e,text:t}}},{key:"renderElement",value:function(e,t,n){var i,r;n.text.textContent=null!==(r=null===(i=e.group)||void 0===i?void 0:i.title)&&void 0!==r?r:""}},{key:"disposeTemplate",value:function(e){}}]),e}(),E=function(){function e(t,n){(0,i.Z)(this,e),this._supportsPreview=t,this._keybindingService=n}return(0,r.Z)(e,[{key:"templateId",get:function(){return"action"}},{key:"renderTemplate",value:function(e){e.classList.add(this.templateId);var t=document.createElement("div");t.className="icon",e.append(t);var n=document.createElement("span");return n.className="title",e.append(n),{container:e,icon:t,text:n,keybinding:new f.e(e,p.OS)}}},{key:"renderElement",value:function(e,t,n){var i,r,u;if((null===(i=e.group)||void 0===i?void 0:i.icon)?(n.icon.className=g.k.asClassName(e.group.icon),e.group.icon.color&&(n.icon.style.color=(0,k.n_1)(e.group.icon.color.id))):(n.icon.className=g.k.asClassName(y.l.lightBulb),n.icon.style.color="var(--vscode-editorLightBulb-foreground)"),e.item&&e.label){n.text.textContent=B(e.label),n.keybinding.set(e.keybinding),a.setVisibility(!!e.keybinding,n.keybinding.element);var o=null===(r=this._keybindingService.lookupKeybinding(w))||void 0===r?void 0:r.getLabel(),s=null===(u=this._keybindingService.lookupKeybinding(A))||void 0===u?void 0:u.getLabel();n.container.classList.toggle("option-disabled",e.disabled),e.disabled?n.container.title=e.label:o&&s?this._supportsPreview?n.container.title=(0,l.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",o,s):n.container.title=(0,l.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",o):n.container.title=""}}},{key:"disposeTemplate",value:function(e){}}]),e}();E=_([b(1,D.d)],E);var F=function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,"acceptSelectedAction")}return(0,r.Z)(n)}((0,h.Z)(UIEvent)),S=function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,"previewSelectedAction")}return(0,r.Z)(n)}((0,h.Z)(UIEvent)),Z=function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,u,o,a,s){var c;(0,i.Z)(this,n),(c=t.call(this))._delegate=o,c._contextViewService=a,c._keybindingService=s,c._actionLineHeight=24,c._headerLineHeight=26,c.domNode=document.createElement("div"),c.domNode.classList.add("actionList");var d={getHeight:function(e){return"header"===e.kind?c._headerLineHeight:c._actionLineHeight},getTemplateId:function(e){return e.kind}};return c._list=c._register(new v.aV(e,c.domNode,d,[new E(r,c._keybindingService),new x],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:function(e){if("action"===e.kind){var t=e.label?B(null===e||void 0===e?void 0:e.label):"";return e.disabled&&(t=(0,l.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",t,e.disabled)),t}return null},getWidgetAriaLabel:function(){return(0,l.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget")},getRole:function(e){return"action"===e.kind?"option":"separator"},getWidgetRole:function(){return"listbox"}}})),c._list.style(m.O2),c._register(c._list.onMouseClick((function(e){return c.onListClick(e)}))),c._register(c._list.onMouseOver((function(e){return c.onListHover(e)}))),c._register(c._list.onDidChangeFocus((function(){return c._list.domFocus()}))),c._register(c._list.onDidChangeSelection((function(e){return c.onListSelection(e)}))),c._allMenuItems=u,c._list.splice(0,c._list.length,c._allMenuItems),c._list.length&&c.focusNext(),c}return(0,r.Z)(n,[{key:"focusCondition",value:function(e){return!e.disabled&&"action"===e.kind}},{key:"hide",value:function(e){this._delegate.onHide(e),this._contextViewService.hideContextView()}},{key:"layout",value:function(e){var t=this,n=this._allMenuItems.filter((function(e){return"header"===e.kind})).length,i=this._allMenuItems.length*this._actionLineHeight+n*this._headerLineHeight-n*this._actionLineHeight;this._list.layout(i);var r=this._allMenuItems.map((function(e,n){var i=document.getElementById(t._list.getElementID(n));if(i){i.style.width="auto";var r=i.getBoundingClientRect().width;return i.style.width="",r}return 0})),u=Math.max.apply(Math,(0,d.Z)(r).concat([e])),o=Math.min(i,.7*document.body.clientHeight);return this._list.layout(o,u),this.domNode.style.height="".concat(o,"px"),this._list.domFocus(),u}},{key:"focusPrevious",value:function(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}},{key:"focusNext",value:function(){this._list.focusNext(1,!0,void 0,this.focusCondition)}},{key:"acceptSelected",value:function(e){var t=this._list.getFocus();if(0!==t.length){var n=t[0],i=this._list.element(n);if(this.focusCondition(i)){var r=e?new S:new F;this._list.setSelection([n],r)}}}},{key:"onListSelection",value:function(e){if(e.elements.length){var t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof S):this._list.setSelection([])}}},{key:"onListHover",value:function(e){this._list.setFocus("number"===typeof e.index?[e.index]:[])}},{key:"onListClick",value:function(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}}]),n}(c.JT);function B(e){return e.replace(/\r\n|\r|\n/g," ")}Z=_([b(4,C.u),b(5,D.d)],Z);var M=n(14443),T=n(8022),I=n(57832),N=n(64606),O=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},K=function(e,t){return function(n,i){t(n,i,e)}},V={Visible:new T.uy("codeActionMenuVisible",!1,(0,l.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},P=(0,N.yh)("actionWidgetService"),R=function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,u){var o;return(0,i.Z)(this,n),(o=t.call(this))._contextViewService=e,o._contextKeyService=r,o._instantiationService=u,o._list=o._register(new c.XK),o}return(0,r.Z)(n,[{key:"isVisible",get:function(){return V.Visible.getValue(this._contextKeyService)||!1}},{key:"show",value:function(e,t,n,i,r,u,o){var a=this,s=V.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(Z,e,t,n,i);this._contextViewService.showContextView({getAnchor:function(){return r},render:function(e){return s.set(!0),a._renderWidget(e,c,null!==o&&void 0!==o?o:[])},onHide:function(e){s.reset(),a._onWidgetClosed(e)}},u,!1)}},{key:"acceptSelected",value:function(e){var t;null===(t=this._list.value)||void 0===t||t.acceptSelected(e)}},{key:"focusPrevious",value:function(){var e,t;null===(t=null===(e=this._list)||void 0===e?void 0:e.value)||void 0===t||t.focusPrevious()}},{key:"focusNext",value:function(){var e,t;null===(t=null===(e=this._list)||void 0===e?void 0:e.value)||void 0===t||t.focusNext()}},{key:"hide",value:function(){var e;null===(e=this._list.value)||void 0===e||e.hide(),this._list.clear()}},{key:"_renderWidget",value:function(e,t,n){var i,r=this,u=document.createElement("div");if(u.classList.add("action-widget"),e.appendChild(u),this._list.value=t,!this._list.value)throw new Error("List has no value");u.appendChild(this._list.value.domNode);var o=new c.SL,s=document.createElement("div"),l=e.appendChild(s);l.classList.add("context-view-block"),o.add(a.addDisposableListener(l,a.EventType.MOUSE_DOWN,(function(e){return e.stopPropagation()})));var d=document.createElement("div"),h=e.appendChild(d);h.classList.add("context-view-pointerBlock"),o.add(a.addDisposableListener(h,a.EventType.POINTER_MOVE,(function(){return h.remove()}))),o.add(a.addDisposableListener(h,a.EventType.MOUSE_DOWN,(function(){return h.remove()})));var f=0;if(n.length){var v=this._createActionBar(".action-widget-action-bar",n);v&&(u.appendChild(v.getContainer().parentElement),o.add(v),f=v.getContainer().offsetWidth)}var y=null===(i=this._list.value)||void 0===i?void 0:i.layout(f);u.style.width="".concat(y,"px");var p=o.add(a.trackFocus(e));return o.add(p.onDidBlur((function(){return r.hide()}))),o}},{key:"_createActionBar",value:function(e,t){if(t.length){var n=a.$(e),i=new s.o(n);return i.push(t,{icon:!1,label:!0}),i}}},{key:"_onWidgetClosed",value:function(e){var t;null===(t=this._list.value)||void 0===t||t.hide(e)}}]),n}(c.JT);R=O([K(0,C.u),K(1,T.i6),K(2,N.TG)],R),(0,I.z)(P,R,1);var L=1100;(0,M.r1)(function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,{id:"hideCodeActionWidget",title:{value:(0,l.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:V.Visible,keybinding:{weight:L,primary:9,secondary:[1033]}})}return(0,r.Z)(n,[{key:"run",value:function(e){e.get(P).hide()}}]),n}(M.Ke)),(0,M.r1)(function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,{id:"selectPrevCodeAction",title:{value:(0,l.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:V.Visible,keybinding:{weight:L,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}return(0,r.Z)(n,[{key:"run",value:function(e){var t=e.get(P);t instanceof R&&t.focusPrevious()}}]),n}(M.Ke)),(0,M.r1)(function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,{id:"selectNextCodeAction",title:{value:(0,l.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:V.Visible,keybinding:{weight:L,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}return(0,r.Z)(n,[{key:"run",value:function(e){var t=e.get(P);t instanceof R&&t.focusNext()}}]),n}(M.Ke)),(0,M.r1)(function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,{id:w,title:{value:(0,l.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:V.Visible,keybinding:{weight:L,primary:3,secondary:[2137]}})}return(0,r.Z)(n,[{key:"run",value:function(e){var t=e.get(P);t instanceof R&&t.acceptSelected()}}]),n}(M.Ke)),(0,M.r1)(function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,{id:A,title:{value:(0,l.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:V.Visible,keybinding:{weight:L,primary:2051}})}return(0,r.Z)(n,[{key:"run",value:function(e){var t=e.get(P);t instanceof R&&t.acceptSelected(!0)}}]),n}(M.Ke))},68270:function(e,t,n){n.d(t,{Mm:function(){return L},Id:function(){return U},vr:function(){return P},LJ:function(){return V}});var i=n(74165),r=n(15671),u=n(43144),o=n(11752),a=n(61120),s=n(60136),c=n(27277),l=n(93433),d=n(29439),h=n(37762),f=n(32959),v=n(25886),y=n(6035),p=n(74712),g=n(93720),C=n(12318),D=n(65096),m=n(90650),k=n(18420),_=n(14443);var b=n(8022),w=n(92361),A=n(64606),x=n(75256),E=n(49431),F=n(88463),S=n(41335),Z=n(79730),B=n(39707),M=n(63021),T=n(43980),I=n(87103),N=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},O=function(e,t){return function(n,i){t(n,i,e)}},K=function(e,t,n,i){return new(n||(n=Promise))((function(r,u){function o(e){try{s(i.next(e))}catch(t){u(t)}}function a(e){try{s(i.throw(e))}catch(t){u(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}s((i=i.apply(e,t||[])).next())}))};function V(e,t,n,i){var r=e.getActions(t),u=f.ModifierKeyEmitter.getInstance();R(r,n,u.keyStatus.altKey||(m.ED||m.IJ)&&u.keyStatus.shiftKey,i?function(e){return e===i}:function(e){return"navigation"===e})}function P(e,t,n,i,r,u){R(e.getActions(t),n,!1,"string"===typeof i?function(e){return e===i}:i,r,u)}function R(e,t,n){var i,r,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return"navigation"===e},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1},a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Array.isArray(t)?(i=t,r=t):(i=t.primary,r=t.secondary);var s,c=new Set,f=(0,h.Z)(e);try{for(f.s();!(s=f.n()).done;){var v=(0,d.Z)(s.value,2),y=v[0],p=v[1],C=void 0;u(y)?(C=i).length>0&&a&&C.push(new g.Z0):(C=r).length>0&&C.push(new g.Z0);var D,m=(0,h.Z)(p);try{for(m.s();!(D=m.n()).done;){var k=D.value;n&&(k=k instanceof _.U8&&k.alt?k.alt:k);var b=C.push(k);k instanceof g.wY&&c.add({group:y,action:k,index:b-1})}}catch(M){m.e(M)}finally{m.f()}}}catch(M){f.e(M)}finally{f.f()}var w,A=(0,h.Z)(c);try{for(A.s();!(w=A.n()).done;){var x=w.value,E=x.group,F=x.action,S=x.index,Z=u(E)?i:r,B=F.actions;B.length<=1&&o(F,E,Z.length)&&Z.splice.apply(Z,[S,1].concat((0,l.Z)(B)))}}catch(M){A.e(M)}finally{A.f()}}var L=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,i,u,o,a,s,c){var l;return(0,r.Z)(this,n),(l=t.call(this,void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null===i||void 0===i?void 0:i.draggable,keybinding:null===i||void 0===i?void 0:i.keybinding,hoverDelegate:null===i||void 0===i?void 0:i.hoverDelegate}))._keybindingService=u,l._notificationService=o,l._contextKeyService=a,l._themeService=s,l._contextMenuService=c,l._wantsAltCommand=!1,l._itemClassDispose=l._register(new D.XK),l._altKey=f.ModifierKeyEmitter.getInstance(),l}return(0,u.Z)(n,[{key:"_menuItemAction",get:function(){return this._action}},{key:"_commandAction",get:function(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}},{key:"onClick",value:function(e){return K(this,void 0,void 0,(0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),e.stopPropagation(),t.prev=2,t.next=5,this.actionRunner.run(this._commandAction,this._context);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),this._notificationService.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[2,7]])})))}},{key:"render",value:function(e){var t=this;(0,o.Z)((0,a.Z)(n.prototype),"render",this).call(this,e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item);var i=!1,r=this._altKey.keyStatus.altKey||(m.ED||m.IJ)&&this._altKey.keyStatus.shiftKey,u=function(){var e,n=i&&r&&!!(null===(e=t._commandAction.alt)||void 0===e?void 0:e.enabled);n!==t._wantsAltCommand&&(t._wantsAltCommand=n,t.updateLabel(),t.updateTooltip(),t.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((function(e){r=e.altKey||(m.ED||m.IJ)&&e.shiftKey,u()}))),this._register((0,f.addDisposableListener)(e,"mouseleave",(function(e){i=!1,u()}))),this._register((0,f.addDisposableListener)(e,"mouseenter",(function(e){i=!0,u()})))}},{key:"updateLabel",value:function(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}},{key:"getTooltip",value:function(){var e,t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),n=t&&t.getLabel(),i=this._commandAction.tooltip||this._commandAction.label,r=n?(0,k.NC)("titleAndKb","{0} ({1})",i,n):i;if(!this._wantsAltCommand&&(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)){var u=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,o=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),a=o&&o.getLabel(),s=a?(0,k.NC)("titleAndKb","{0} ({1})",u,a):u;r=(0,k.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",r,C.xo.modifierLabels[m.OS].altKey,s)}return r}},{key:"updateClass",value:function(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}},{key:"_updateItemClass",value:function(e){var t=this;this._itemClassDispose.value=void 0;var n=this.element,i=this.label;if(n&&i){var r,u=this._commandAction.checked&&((r=e.toggled)&&void 0!==r.condition)&&e.toggled.icon?e.toggled.icon:e.icon;if(u)if(Z.k.isThemeIcon(u)){var o,a=Z.k.asClassNameArray(u);(o=i.classList).add.apply(o,(0,l.Z)(a)),this._itemClassDispose.value=(0,D.OF)((function(){var e;(e=i.classList).remove.apply(e,(0,l.Z)(a))}))}else i.style.backgroundImage=(0,B._T)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(u.dark):(0,f.asCSSUrl)(u.light),i.classList.add("icon"),this._itemClassDispose.value=(0,D.F8)((0,D.OF)((function(){i.style.backgroundImage="",i.classList.remove("icon")})),this._themeService.onDidColorThemeChange((function(){t.updateClass()})))}}}]),n}(y.gU);L=N([O(2,x.d),O(3,E.lT),O(4,b.i6),O(5,S.XE),O(6,w.i)],L);var j=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,i,u,o,a){var s,c,l,d;(0,r.Z)(this,n);var h=Object.assign(Object.assign({},i),{menuAsChild:null!==(c=null===i||void 0===i?void 0:i.menuAsChild)&&void 0!==c&&c,classNames:null!==(l=null===i||void 0===i?void 0:i.classNames)&&void 0!==l?l:Z.k.isThemeIcon(e.item.icon)?Z.k.asClassName(e.item.icon):void 0,keybindingProvider:null!==(d=null===i||void 0===i?void 0:i.keybindingProvider)&&void 0!==d?d:function(e){return u.lookupKeybinding(e.id)}});return(s=t.call(this,e,{getActions:function(){return e.actions}},o,h))._keybindingService=u,s._contextMenuService=o,s._themeService=a,s}return(0,u.Z)(n,[{key:"render",value:function(e){var t=this;(0,o.Z)((0,a.Z)(n.prototype),"render",this).call(this,e),(0,M.p_)(this.element),e.classList.add("menu-entry");var i=this._action.item.icon;if(i&&!Z.k.isThemeIcon(i)){this.element.classList.add("icon");var r=function(){t.element&&(t.element.style.backgroundImage=(0,B._T)(t._themeService.getColorTheme().type)?(0,f.asCSSUrl)(i.dark):(0,f.asCSSUrl)(i.light))};r(),this._register(this._themeService.onDidColorThemeChange((function(){r()})))}}}]),n}(p.C);j=N([O(2,x.d),O(3,w.i),O(4,S.XE)],j);var H=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,i,u,o,a,s,c,l){var d,h,f,v,y;(0,r.Z)(this,n),(d=t.call(this,null,e))._keybindingService=u,d._notificationService=o,d._contextMenuService=a,d._menuService=s,d._instaService=c,d._storageService=l,d._container=null,d._options=i,d._storageKey="".concat(e.item.submenu.id,"_lastActionId");var C=(null===i||void 0===i?void 0:i.persistLastActionId)?l.get(d._storageKey,1):void 0;C&&(y=e.actions.find((function(e){return C===e.id}))),y||(y=e.actions[0]),d._defaultAction=d._instaService.createInstance(L,y,{keybinding:d._getDefaultActionKeybindingLabel(y)});var D=Object.assign(Object.assign({keybindingProvider:function(e){return d._keybindingService.lookupKeybinding(e.id)}},i),{menuAsChild:null===(h=null===i||void 0===i?void 0:i.menuAsChild)||void 0===h||h,classNames:null!==(f=null===i||void 0===i?void 0:i.classNames)&&void 0!==f?f:["codicon","codicon-chevron-down"],actionRunner:null!==(v=null===i||void 0===i?void 0:i.actionRunner)&&void 0!==v?v:new g.Wi});return d._dropdown=new p.C(e,e.actions,d._contextMenuService,D),d._dropdown.actionRunner.onDidRun((function(e){e.action instanceof _.U8&&d.update(e.action)})),d}return(0,u.Z)(n,[{key:"update",value:function(e){var t;(null===(t=this._options)||void 0===t?void 0:t.persistLastActionId)&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(L,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new(function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"runAction",value:function(e,t){return K(this,void 0,void 0,(0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.run(void 0);case 2:case"end":return t.stop()}}),t)})))}}]),n}(g.Wi)),this._container&&this._defaultAction.render((0,f.prepend)(this._container,(0,f.$)(".action-container")))}},{key:"_getDefaultActionKeybindingLabel",value:function(e){var t,n;if(null===(t=this._options)||void 0===t?void 0:t.renderKeybindingWithDefaultActionLabel){var i=this._keybindingService.lookupKeybinding(e.id);i&&(n="(".concat(i.getLabel(),")"))}return n}},{key:"setActionContext",value:function(e){(0,o.Z)((0,a.Z)(n.prototype),"setActionContext",this).call(this,e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}},{key:"render",value:function(e){var t=this;this._container=e,(0,o.Z)((0,a.Z)(n.prototype),"render",this).call(this,this._container),this._container.classList.add("monaco-dropdown-with-default");var i=(0,f.$)(".action-container");this._defaultAction.render((0,f.append)(this._container,i)),this._register((0,f.addDisposableListener)(i,f.EventType.KEY_DOWN,(function(e){var n=new v.y(e);n.equals(17)&&(t._defaultAction.element.tabIndex=-1,t._dropdown.focus(),n.stopPropagation())})));var r=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.append)(this._container,r)),this._register((0,f.addDisposableListener)(r,f.EventType.KEY_DOWN,(function(e){var n,i=new v.y(e);i.equals(15)&&(t._defaultAction.element.tabIndex=0,t._dropdown.setFocusable(!1),null===(n=t._defaultAction.element)||void 0===n||n.focus(),i.stopPropagation())})))}},{key:"focus",value:function(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}},{key:"blur",value:function(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}},{key:"setFocusable",value:function(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}},{key:"dispose",value:function(){this._defaultAction.dispose(),this._dropdown.dispose(),(0,o.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}}]),n}(y.YH);H=N([O(2,x.d),O(3,E.lT),O(4,w.i),O(5,_.co),O(6,A.TG),O(7,F.Uy)],H);var W=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,i){var u;return(0,r.Z)(this,n),(u=t.call(this,null,e,e.actions.map((function(e){return{text:e.id===g.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":e.label,isDisabled:!e.enabled}})),0,i,I.BM,{ariaLabel:e.tooltip,optionsAsChildren:!0})).select(Math.max(0,e.actions.findIndex((function(e){return e.checked})))),u}return(0,u.Z)(n,[{key:"render",value:function(e){(0,o.Z)((0,a.Z)(n.prototype),"render",this).call(this,e),e.style.borderColor=(0,T.n_1)(T.a9O)}},{key:"runAction",value:function(e,t){var n=this.action.actions[t];n&&this.actionRunner.run(n)}}]),n}(y.Lc);function U(e,t,n){return t instanceof _.U8?e.createInstance(L,t,n):t instanceof _.NZ?t.item.isSelection?e.createInstance(W,t):t.item.rememberDefaultAction?e.createInstance(H,t,Object.assign(Object.assign({},n),{persistLastActionId:!0})):e.createInstance(j,t,n):void 0}W=N([O(1,w.u)],W)},30400:function(e,t,n){n.d(t,{T:function(){return _}});var i=n(15671),r=n(43144),u=n(11752),o=n(61120),a=n(60136),s=n(27277),c=n(32959),l=n(32332),d=n(93720),h=n(38102),f=n(65096),v=n(18420),y=n(14443),p=n(8022),g=n(92361),C=n(75256),D=n(45536),m=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},k=function(e,t){return function(n,i){t(n,i,e)}},_=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,u,o,a,s,c){var l;return(0,i.Z)(this,n),(l=t.call(this,e,a,Object.assign(Object.assign({getKeyBinding:function(e){var t;return null!==(t=s.lookupKeybinding(e.id))&&void 0!==t?t:void 0}},r),{allowContextMenu:!0})))._options=r,l._menuService=u,l._contextKeyService=o,l._contextMenuService=a,l._sessionDisposables=l._store.add(new f.SL),(null===r||void 0===r?void 0:r.telemetrySource)&&l._store.add(l.actionBar.onDidRun((function(e){return c.publicLog2("workbenchActionExecuted",{id:e.action.id,from:r.telemetrySource})}))),l}return(0,r.Z)(n,[{key:"setActions",value:function(e){var t,i,r,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0;this._sessionDisposables.clear();var f=e.slice(),p=s.slice(),g=[],C=0,D=[],m=!1;if(-1!==(null===(t=this._options)||void 0===t?void 0:t.hiddenItemStrategy))for(var k=0;k<f.length;k++){var _=f[k];(_ instanceof y.U8||_ instanceof y.NZ)&&(_.hideActions&&(g.push(_.hideActions.toggle),_.hideActions.toggle.checked&&C++,_.hideActions.isHidden&&(m=!0,f[k]=void 0,0!==(null===(i=this._options)||void 0===i?void 0:i.hiddenItemStrategy)&&(D[k]=_))))}if(void 0!==(null===(r=this._options)||void 0===r?void 0:r.maxNumberOfItems))for(var b=0,w=0;w<f.length;w++){var A=f[w];A&&(++b>=this._options.maxNumberOfItems&&(f[w]=void 0,D[w]=A))}(0,h.Rs)(f),(0,h.Rs)(D),(0,u.Z)((0,o.Z)(n.prototype),"setActions",this).call(this,f,d.Z0.join(D,p)),g.length>0&&this._sessionDisposables.add((0,c.addDisposableListener)(this.getElement(),"contextmenu",(function(e){var t,n,i,r,u=a.getItemAction(e.target);if(u){e.preventDefault(),e.stopPropagation();var o,s=!1;if(1===C&&0===(null===(t=a._options)||void 0===t?void 0:t.hiddenItemStrategy)){s=!0;for(var c=0;c<g.length;c++)if(g[c].checked){g[c]=(0,d.xw)({id:u.id,label:u.label,checked:!0,enabled:!1,run:function(){}});break}}if(!s&&(u instanceof y.U8||u instanceof y.NZ)){if(!u.hideActions)return;o=u.hideActions.hide}else o=(0,d.xw)({id:"label",label:(0,v.NC)("hide","Hide"),enabled:!1,run:function(){}});var h=d.Z0.join([o],g);(null===(n=a._options)||void 0===n?void 0:n.resetMenu)&&!l&&(l=[a._options.resetMenu]),m&&l&&(h.push(new d.Z0),h.push((0,d.xw)({id:"resetThisMenu",label:(0,v.NC)("resetThisMenu","Reset Menu"),run:function(){return a._menuService.resetHiddenStates(l)}}))),a._contextMenuService.showContextMenu({getAnchor:function(){return e},getActions:function(){return h},menuId:null===(i=a._options)||void 0===i?void 0:i.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},null===(r=a._options)||void 0===r?void 0:r.menuOptions),contextKeyService:a._contextKeyService})}})))}}]),n}(l.u);_=m([k(2,y.co),k(3,p.i6),k(4,g.i),k(5,C.d),k(6,D.b)],_)},14443:function(e,t,n){n.d(t,{BH:function(){return x},Ke:function(){return S},NZ:function(){return E},U8:function(){return F},co:function(){return w},eH:function(){return b},f6:function(){return _},r1:function(){return Z},vr:function(){return k}});var i=n(60136),r=n(27277),u=n(93433),o=n(37762),a=n(43144),s=n(15671),c=n(93720),l=n(79730),d=n(13880),h=n(65096),f=n(49192),v=n(99740),y=n(8022),p=n(64606),g=n(41553),C=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},D=function(e,t){return function(n,i){t(n,i,e)}},m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function k(e){return void 0!==e.command}function _(e){return void 0!==e.submenu}var b=(0,a.Z)((function e(t){if((0,s.Z)(this,e),e._instances.has(t))throw new TypeError("MenuId with identifier '".concat(t,"' already exists. Use MenuId.for(ident) or a unique identifier"));e._instances.set(t,this),this.id=t}));b._instances=new Map,b.CommandPalette=new b("CommandPalette"),b.DebugBreakpointsContext=new b("DebugBreakpointsContext"),b.DebugCallStackContext=new b("DebugCallStackContext"),b.DebugConsoleContext=new b("DebugConsoleContext"),b.DebugVariablesContext=new b("DebugVariablesContext"),b.DebugWatchContext=new b("DebugWatchContext"),b.DebugToolBar=new b("DebugToolBar"),b.DebugToolBarStop=new b("DebugToolBarStop"),b.EditorContext=new b("EditorContext"),b.SimpleEditorContext=new b("SimpleEditorContext"),b.EditorContent=new b("EditorContent"),b.EditorLineNumberContext=new b("EditorLineNumberContext"),b.EditorContextCopy=new b("EditorContextCopy"),b.EditorContextPeek=new b("EditorContextPeek"),b.EditorContextShare=new b("EditorContextShare"),b.EditorTitle=new b("EditorTitle"),b.EditorTitleRun=new b("EditorTitleRun"),b.EditorTitleContext=new b("EditorTitleContext"),b.EditorTitleContextShare=new b("EditorTitleContextShare"),b.EmptyEditorGroup=new b("EmptyEditorGroup"),b.EmptyEditorGroupContext=new b("EmptyEditorGroupContext"),b.EditorTabsBarContext=new b("EditorTabsBarContext"),b.ExplorerContext=new b("ExplorerContext"),b.ExplorerContextShare=new b("ExplorerContextShare"),b.ExtensionContext=new b("ExtensionContext"),b.GlobalActivity=new b("GlobalActivity"),b.CommandCenter=new b("CommandCenter"),b.LayoutControlMenuSubmenu=new b("LayoutControlMenuSubmenu"),b.LayoutControlMenu=new b("LayoutControlMenu"),b.MenubarMainMenu=new b("MenubarMainMenu"),b.MenubarAppearanceMenu=new b("MenubarAppearanceMenu"),b.MenubarDebugMenu=new b("MenubarDebugMenu"),b.MenubarEditMenu=new b("MenubarEditMenu"),b.MenubarCopy=new b("MenubarCopy"),b.MenubarFileMenu=new b("MenubarFileMenu"),b.MenubarGoMenu=new b("MenubarGoMenu"),b.MenubarHelpMenu=new b("MenubarHelpMenu"),b.MenubarLayoutMenu=new b("MenubarLayoutMenu"),b.MenubarNewBreakpointMenu=new b("MenubarNewBreakpointMenu"),b.PanelAlignmentMenu=new b("PanelAlignmentMenu"),b.PanelPositionMenu=new b("PanelPositionMenu"),b.MenubarPreferencesMenu=new b("MenubarPreferencesMenu"),b.MenubarRecentMenu=new b("MenubarRecentMenu"),b.MenubarSelectionMenu=new b("MenubarSelectionMenu"),b.MenubarShare=new b("MenubarShare"),b.MenubarSwitchEditorMenu=new b("MenubarSwitchEditorMenu"),b.MenubarSwitchGroupMenu=new b("MenubarSwitchGroupMenu"),b.MenubarTerminalMenu=new b("MenubarTerminalMenu"),b.MenubarViewMenu=new b("MenubarViewMenu"),b.MenubarHomeMenu=new b("MenubarHomeMenu"),b.OpenEditorsContext=new b("OpenEditorsContext"),b.OpenEditorsContextShare=new b("OpenEditorsContextShare"),b.ProblemsPanelContext=new b("ProblemsPanelContext"),b.SCMChangeContext=new b("SCMChangeContext"),b.SCMResourceContext=new b("SCMResourceContext"),b.SCMResourceContextShare=new b("SCMResourceContextShare"),b.SCMResourceFolderContext=new b("SCMResourceFolderContext"),b.SCMResourceGroupContext=new b("SCMResourceGroupContext"),b.SCMSourceControl=new b("SCMSourceControl"),b.SCMTitle=new b("SCMTitle"),b.SearchContext=new b("SearchContext"),b.SearchActionMenu=new b("SearchActionContext"),b.StatusBarWindowIndicatorMenu=new b("StatusBarWindowIndicatorMenu"),b.StatusBarRemoteIndicatorMenu=new b("StatusBarRemoteIndicatorMenu"),b.StickyScrollContext=new b("StickyScrollContext"),b.TestItem=new b("TestItem"),b.TestItemGutter=new b("TestItemGutter"),b.TestPeekElement=new b("TestPeekElement"),b.TestPeekTitle=new b("TestPeekTitle"),b.TouchBarContext=new b("TouchBarContext"),b.TitleBarContext=new b("TitleBarContext"),b.TitleBarTitleContext=new b("TitleBarTitleContext"),b.TunnelContext=new b("TunnelContext"),b.TunnelPrivacy=new b("TunnelPrivacy"),b.TunnelProtocol=new b("TunnelProtocol"),b.TunnelPortInline=new b("TunnelInline"),b.TunnelTitle=new b("TunnelTitle"),b.TunnelLocalAddressInline=new b("TunnelLocalAddressInline"),b.TunnelOriginInline=new b("TunnelOriginInline"),b.ViewItemContext=new b("ViewItemContext"),b.ViewContainerTitle=new b("ViewContainerTitle"),b.ViewContainerTitleContext=new b("ViewContainerTitleContext"),b.ViewTitle=new b("ViewTitle"),b.ViewTitleContext=new b("ViewTitleContext"),b.CommentEditorActions=new b("CommentEditorActions"),b.CommentThreadTitle=new b("CommentThreadTitle"),b.CommentThreadActions=new b("CommentThreadActions"),b.CommentThreadAdditionalActions=new b("CommentThreadAdditionalActions"),b.CommentThreadTitleContext=new b("CommentThreadTitleContext"),b.CommentThreadCommentContext=new b("CommentThreadCommentContext"),b.CommentTitle=new b("CommentTitle"),b.CommentActions=new b("CommentActions"),b.InteractiveToolbar=new b("InteractiveToolbar"),b.InteractiveCellTitle=new b("InteractiveCellTitle"),b.InteractiveCellDelete=new b("InteractiveCellDelete"),b.InteractiveCellExecute=new b("InteractiveCellExecute"),b.InteractiveInputExecute=new b("InteractiveInputExecute"),b.NotebookToolbar=new b("NotebookToolbar"),b.NotebookCellTitle=new b("NotebookCellTitle"),b.NotebookCellDelete=new b("NotebookCellDelete"),b.NotebookCellInsert=new b("NotebookCellInsert"),b.NotebookCellBetween=new b("NotebookCellBetween"),b.NotebookCellListTop=new b("NotebookCellTop"),b.NotebookCellExecute=new b("NotebookCellExecute"),b.NotebookCellExecutePrimary=new b("NotebookCellExecutePrimary"),b.NotebookDiffCellInputTitle=new b("NotebookDiffCellInputTitle"),b.NotebookDiffCellMetadataTitle=new b("NotebookDiffCellMetadataTitle"),b.NotebookDiffCellOutputsTitle=new b("NotebookDiffCellOutputsTitle"),b.NotebookOutputToolbar=new b("NotebookOutputToolbar"),b.NotebookEditorLayoutConfigure=new b("NotebookEditorLayoutConfigure"),b.NotebookKernelSource=new b("NotebookKernelSource"),b.BulkEditTitle=new b("BulkEditTitle"),b.BulkEditContext=new b("BulkEditContext"),b.TimelineItemContext=new b("TimelineItemContext"),b.TimelineTitle=new b("TimelineTitle"),b.TimelineTitleContext=new b("TimelineTitleContext"),b.TimelineFilterSubMenu=new b("TimelineFilterSubMenu"),b.AccountsContext=new b("AccountsContext"),b.PanelTitle=new b("PanelTitle"),b.AuxiliaryBarTitle=new b("AuxiliaryBarTitle"),b.TerminalInstanceContext=new b("TerminalInstanceContext"),b.TerminalEditorInstanceContext=new b("TerminalEditorInstanceContext"),b.TerminalNewDropdownContext=new b("TerminalNewDropdownContext"),b.TerminalTabContext=new b("TerminalTabContext"),b.TerminalTabEmptyAreaContext=new b("TerminalTabEmptyAreaContext"),b.TerminalInlineTabContext=new b("TerminalInlineTabContext"),b.WebviewContext=new b("WebviewContext"),b.InlineCompletionsActions=new b("InlineCompletionsActions"),b.NewFile=new b("NewFile"),b.MergeInput1Toolbar=new b("MergeToolbar1Toolbar"),b.MergeInput2Toolbar=new b("MergeToolbar2Toolbar"),b.MergeBaseToolbar=new b("MergeBaseToolbar"),b.MergeInputResultToolbar=new b("MergeToolbarResultToolbar"),b.InlineSuggestionToolbar=new b("InlineSuggestionToolbar"),b.ChatContext=new b("ChatContext"),b.ChatCodeBlock=new b("ChatCodeblock"),b.ChatMessageTitle=new b("ChatMessageTitle"),b.ChatExecute=new b("ChatExecute");var w=(0,p.yh)("menuService"),A=function(){function e(t){(0,s.Z)(this,e),this.id=t,this.has=function(e){return e===t}}return(0,a.Z)(e,null,[{key:"for",value:function(t){var n=this._all.get(t);return n||(n=new e(t),this._all.set(t,n)),n}},{key:"merge",value:function(t){var n,i=new Set,r=(0,o.Z)(t);try{for(r.s();!(n=r.n()).done;){var u=n.value;u instanceof e&&i.add(u.id)}}catch(a){r.e(a)}finally{r.f()}return i}}]),e}();A._all=new Map;var x=new(function(){function e(){(0,s.Z)(this,e),this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new d.SZ({merge:A.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}return(0,a.Z)(e,[{key:"addCommand",value:function(e){var t=this;return this._commands.set(e.id,e),this._onDidChangeMenu.fire(A.for(b.CommandPalette)),(0,h.OF)((function(){t._commands.delete(e.id)&&t._onDidChangeMenu.fire(A.for(b.CommandPalette))}))}},{key:"getCommand",value:function(e){return this._commands.get(e)}},{key:"getCommands",value:function(){var e=new Map;return this._commands.forEach((function(t,n){return e.set(n,t)})),e}},{key:"appendMenuItem",value:function(e,t){var n=this._menuItems.get(e);n||(n=new f.S,this._menuItems.set(e,n));var i=n.push(t);return this._onDidChangeMenu.fire(A.for(e)),(0,h.OF)(i)}},{key:"appendMenuItems",value:function(e){var t,n=new h.SL,i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,u=r.id,a=r.item;n.add(this.appendMenuItem(u,a))}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"getMenuItems",value:function(e){var t;return t=this._menuItems.has(e)?(0,u.Z)(this._menuItems.get(e)):[],e===b.CommandPalette&&this._appendImplicitItems(t),t}},{key:"_appendImplicitItems",value:function(e){var t,n=new Set,i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;k(r)&&(n.add(r.command.id),r.alt&&n.add(r.alt.id))}}catch(u){i.e(u)}finally{i.f()}this._commands.forEach((function(t,i){n.has(i)||e.push({command:t})}))}}]),e}()),E=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i,r){var u;return(0,s.Z)(this,n),(u=t.call(this,"submenuitem.".concat(e.submenu.id),"string"===typeof e.title?e.title:e.title.value,r,"submenu")).item=e,u.hideActions=i,u}return(0,a.Z)(n)}(c.wY),F=function(){function e(t,n,i,r,u,o){var a,c,d;if((0,s.Z)(this,e),this.hideActions=r,this._commandService=o,this.id=t.id,this.label=e.label(t,i),this.tooltip=null!==(c="string"===typeof t.tooltip?t.tooltip:null===(a=t.tooltip)||void 0===a?void 0:a.value)&&void 0!==c?c:"",this.enabled=!t.precondition||u.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){var h=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=u.contextMatchesRules(h.condition),this.checked&&h.tooltip&&(this.tooltip="string"===typeof h.tooltip?h.tooltip:h.tooltip.value),this.checked&&l.k.isThemeIcon(h.icon)&&(d=h.icon),h.title&&(this.label="string"===typeof h.title?h.title:h.title.value)}d||(d=l.k.isThemeIcon(t.icon)?t.icon:void 0),this.item=t,this.alt=n?new e(n,void 0,i,r,u,o):void 0,this._options=i,this.class=d&&l.k.asClassName(d)}return(0,a.Z)(e,[{key:"run",value:function(){var e,t,n,i=[];if((null===(t=this._options)||void 0===t?void 0:t.arg)&&(i=[].concat((0,u.Z)(i),[this._options.arg])),null===(n=this._options)||void 0===n?void 0:n.shouldForwardArgs){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];i=[].concat((0,u.Z)(i),o)}return(e=this._commandService).executeCommand.apply(e,[this.id].concat((0,u.Z)(i)))}}],[{key:"label",value:function(e,t){return(null===t||void 0===t?void 0:t.renderShortTitle)&&e.shortTitle?"string"===typeof e.shortTitle?e.shortTitle:e.shortTitle.value:"string"===typeof e.title?e.title:e.title.value}}]),e}();F=C([D(4,y.i6),D(5,v.H)],F);var S=(0,a.Z)((function e(t){(0,s.Z)(this,e),this.desc=t}));function Z(e){var t=new h.SL,n=new e,i=n.desc,r=i.f1,u=i.menu,a=i.keybinding,s=i.description,c=m(i,["f1","menu","keybinding","description"]);if(t.add(v.P.registerCommand({id:c.id,handler:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return n.run.apply(n,[e].concat(i))},description:s})),Array.isArray(u)){var l,d=(0,o.Z)(u);try{for(d.s();!(l=d.n()).done;){var f=l.value;t.add(x.appendMenuItem(f.id,Object.assign({command:Object.assign(Object.assign({},c),{precondition:null===f.precondition?void 0:c.precondition})},f)))}}catch(k){d.e(k)}finally{d.f()}}else u&&t.add(x.appendMenuItem(u.id,Object.assign({command:Object.assign(Object.assign({},c),{precondition:null===u.precondition?void 0:c.precondition})},u)));if(r&&(t.add(x.appendMenuItem(b.CommandPalette,{command:c,when:c.precondition})),t.add(x.addCommand(c))),Array.isArray(a)){var p,C=(0,o.Z)(a);try{for(C.s();!(p=C.n()).done;){var D=p.value;t.add(g.W.registerKeybindingRule(Object.assign(Object.assign({},D),{id:c.id,when:c.precondition?y.Ao.and(c.precondition,D.when):D.when})))}}catch(k){C.e(k)}finally{C.f()}}else a&&t.add(g.W.registerKeybindingRule(Object.assign(Object.assign({},a),{id:c.id,when:c.precondition?y.Ao.and(c.precondition,a.when):a.when})));return t}},21729:function(e,t,n){n.d(t,{h:function(){return m}});var i=n(93433),r=n(29439),u=n(37762),o=n(15671),a=n(43144),s=n(71049),c=n(13880),l=n(65096),d=n(14443),h=n(99740),f=n(8022),v=n(93720),y=n(88463),p=n(38102),g=n(18420),C=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},D=function(e,t){return function(n,i){t(n,i,e)}},m=function(){function e(t,n){(0,o.Z)(this,e),this._commandService=t,this._hiddenStates=new k(n)}return(0,a.Z)(e,[{key:"createMenu",value:function(e,t,n){return new b(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},n),this._commandService,t)}},{key:"resetHiddenStates",value:function(e){this._hiddenStates.reset(e)}}]),e}();m=C([D(0,h.H),D(1,y.Uy)],m);var k=function(){function e(t){var n=this;(0,o.Z)(this,e),this._storageService=t,this._disposables=new l.SL,this._onDidChange=new c.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{var i=t.get(e._key,0,"{}");this._data=JSON.parse(i)}catch(r){this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue((function(i){if(i.key===e._key){if(!n._ignoreChangeEvent)try{var u=t.get(e._key,0,"{}");n._data=JSON.parse(u)}catch(r){console.log("FAILED to read storage after UPDATE",r)}n._onDidChange.fire()}})))}return(0,a.Z)(e,[{key:"dispose",value:function(){this._onDidChange.dispose(),this._disposables.dispose()}},{key:"_isHiddenByDefault",value:function(e,t){var n;return null!==(n=this._hiddenByDefaultCache.get("".concat(e.id,"/").concat(t)))&&void 0!==n&&n}},{key:"setDefaultState",value:function(e,t,n){this._hiddenByDefaultCache.set("".concat(e.id,"/").concat(t),n)}},{key:"isHidden",value:function(e,t){var n,i,r=this._isHiddenByDefault(e,t),u=null!==(i=null===(n=this._data[e.id])||void 0===n?void 0:n.includes(t))&&void 0!==i&&i;return r?!u:u}},{key:"updateHidden",value:function(e,t,n){this._isHiddenByDefault(e,t)&&(n=!n);var i=this._data[e.id];if(n)i?i.indexOf(t)<0&&i.push(t):this._data[e.id]=[t];else if(i){var r=i.indexOf(t);r>=0&&(0,p.LS)(i,r),0===i.length&&delete this._data[e.id]}this._persist()}},{key:"reset",value:function(e){if(void 0===e)this._data=Object.create(null),this._persist();else{var t,n=(0,u.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value.id;this._data[i]&&delete this._data[i]}}catch(r){n.e(r)}finally{n.f()}this._persist()}}},{key:"_persist",value:function(){try{this._ignoreChangeEvent=!0;var t=JSON.stringify(this._data);this._storageService.store(e._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}}]),e}();k._key="menu.hiddenCommands",k=C([D(0,y.Uy)],k);var _=function(){function e(t,n,i,r,u){(0,o.Z)(this,e),this._id=t,this._hiddenStates=n,this._collectContextKeysForSubmenus=i,this._commandService=r,this._contextKeyService=u,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}return(0,a.Z)(e,[{key:"structureContextKeys",get:function(){return this._structureContextKeys}},{key:"preconditionContextKeys",get:function(){return this._preconditionContextKeys}},{key:"toggledContextKeys",get:function(){return this._toggledContextKeys}},{key:"refresh",value:function(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();var t,n=d.BH.getMenuItems(this._id);n.sort(e._compareMenuItems);var i,r=(0,u.Z)(n);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=o.group||"";t&&t[0]===a||(t=[a,[]],this._menuGroups.push(t)),t[1].push(o),this._collectContextKeys(o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"_collectContextKeys",value:function(t){if(e._fillInKbExprKeys(t.when,this._structureContextKeys),(0,d.vr)(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._preconditionContextKeys),t.command.toggled){var n=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(n,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&d.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}},{key:"createActionGroups",value:function(t){var n,o=[],a=(0,u.Z)(this._menuGroups);try{for(a.s();!(n=a.n()).done;){var s,c=n.value,l=(0,r.Z)(c,2),h=l[0],f=l[1],y=[],p=(0,u.Z)(f);try{for(p.s();!(s=p.n()).done;){var g=s.value;if(this._contextKeyService.contextMatchesRules(g.when)){var C=(0,d.vr)(g);C&&this._hiddenStates.setDefaultState(this._id,g.command.id,!!g.isHiddenByDefault);var D=w(this._id,C?g.command:g,this._hiddenStates);if(C)y.push(new d.U8(g.command,g.alt,t,D,this._contextKeyService,this._commandService));else{var m=new e(g.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(t),k=v.Z0.join.apply(v.Z0,(0,i.Z)(m.map((function(e){return e[1]}))));k.length>0&&y.push(new d.NZ(g,D,k))}}}}catch(_){p.e(_)}finally{p.f()}y.length>0&&o.push([h,y])}}catch(_){a.e(_)}finally{a.f()}return o}}],[{key:"_fillInKbExprKeys",value:function(e,t){if(e){var n,i=(0,u.Z)(e.keys());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.add(r)}}catch(o){i.e(o)}finally{i.f()}}}},{key:"_compareMenuItems",value:function(t,n){var i=t.group,r=n.group;if(i!==r){if(!i)return 1;if(!r)return-1;if("navigation"===i)return-1;if("navigation"===r)return 1;var u=i.localeCompare(r);if(0!==u)return u}var o=t.order||0,a=n.order||0;return o<a?-1:o>a?1:e._compareTitles((0,d.vr)(t)?t.command.title:t.title,(0,d.vr)(n)?n.command.title:n.title)}},{key:"_compareTitles",value:function(e,t){var n="string"===typeof e?e:e.original,i="string"===typeof t?t:t.original;return n.localeCompare(i)}}]),e}();_=C([D(3,h.H),D(4,f.i6)],_);var b=function(){function e(t,n,i,r,a){var h=this;(0,o.Z)(this,e),this._disposables=new l.SL,this._menuInfo=new _(t,n,i.emitEventsForSubmenuChanges,r,a);var f=new s.pY((function(){h._menuInfo.refresh(),h._onDidChange.fire({menu:h,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})}),i.eventDebounceDelay);this._disposables.add(f),this._disposables.add(d.BH.onDidChangeMenu((function(e){e.has(t)&&f.schedule()})));var v=this._disposables.add(new l.SL);this._onDidChange=new c.D0({onWillAddFirstListener:function(){v.add(a.onDidChangeContext((function(e){var t=e.affectsSome(h._menuInfo.structureContextKeys),n=e.affectsSome(h._menuInfo.preconditionContextKeys),i=e.affectsSome(h._menuInfo.toggledContextKeys);(t||n||i)&&h._onDidChange.fire({menu:h,isStructuralChange:t,isEnablementChange:n,isToggleChange:i})}))),v.add(n.onDidChange((function(e){h._onDidChange.fire({menu:h,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})})))},onDidRemoveLastListener:v.clear.bind(v),delay:i.eventDebounceDelay,merge:function(e){var t,n=!1,i=!1,r=!1,o=(0,u.Z)(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(n=n||a.isStructuralChange,i=i||a.isEnablementChange,r=r||a.isToggleChange,n&&i&&r)break}}catch(s){o.e(s)}finally{o.f()}return{menu:h,isStructuralChange:n,isEnablementChange:i,isToggleChange:r}}}),this.onDidChange=this._onDidChange.event}return(0,a.Z)(e,[{key:"getActions",value:function(e){return this._menuInfo.createActionGroups(e)}},{key:"dispose",value:function(){this._disposables.dispose(),this._onDidChange.dispose()}}]),e}();function w(e,t,n){var i=(0,d.f6)(t)?t.submenu.id:t.id,r="string"===typeof t.title?t.title:t.title.value,u=(0,v.xw)({id:"hide/".concat(e.id,"/").concat(i),label:(0,g.NC)("hide.label","Hide '{0}'",r),run:function(){n.updateHidden(e,i,!0)}}),o=(0,v.xw)({id:"toggle/".concat(e.id,"/").concat(i),label:r,get checked(){return!n.isHidden(e,i)},run:function(){n.updateHidden(e,i,!!this.checked)}});return{hide:u,toggle:o,get isHidden(){return!o.checked}}}b=C([D(3,h.H),D(4,f.i6)],b)},93574:function(e,t,n){n.d(t,{e7:function(){return a},y$:function(){return c}});var i=n(15671),r=n(43144),u=n(64606),o=n(18420),a=(0,u.yh)("audioCue"),s=function(){function e(t){(0,i.Z)(this,e),this.fileName=t}return(0,r.Z)(e,null,[{key:"register",value:function(t){return new e(t.fileName)}}]),e}();s.error=s.register({fileName:"error.mp3"}),s.warning=s.register({fileName:"warning.mp3"}),s.foldedArea=s.register({fileName:"foldedAreas.mp3"}),s.break=s.register({fileName:"break.mp3"}),s.quickFixes=s.register({fileName:"quickFixes.mp3"}),s.taskCompleted=s.register({fileName:"taskCompleted.mp3"}),s.taskFailed=s.register({fileName:"taskFailed.mp3"}),s.terminalBell=s.register({fileName:"terminalBell.mp3"}),s.diffLineInserted=s.register({fileName:"diffLineInserted.mp3"}),s.diffLineDeleted=s.register({fileName:"diffLineDeleted.mp3"}),s.diffLineModified=s.register({fileName:"diffLineModified.mp3"});var c=function(){function e(t,n,r){(0,i.Z)(this,e),this.sound=t,this.name=n,this.settingsKey=r}return(0,r.Z)(e,null,[{key:"register",value:function(t){var n=new e(t.sound,t.name,t.settingsKey);return e._audioCues.add(n),n}}]),e}();c._audioCues=new Set,c.error=c.register({name:(0,o.NC)("audioCues.lineHasError.name","Error on Line"),sound:s.error,settingsKey:"audioCues.lineHasError"}),c.warning=c.register({name:(0,o.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:s.warning,settingsKey:"audioCues.lineHasWarning"}),c.foldedArea=c.register({name:(0,o.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:s.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),c.break=c.register({name:(0,o.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:s.break,settingsKey:"audioCues.lineHasBreakpoint"}),c.inlineSuggestion=c.register({name:(0,o.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:s.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),c.terminalQuickFix=c.register({name:(0,o.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:s.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),c.onDebugBreak=c.register({name:(0,o.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:s.break,settingsKey:"audioCues.onDebugBreak"}),c.noInlayHints=c.register({name:(0,o.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:s.error,settingsKey:"audioCues.noInlayHints"}),c.taskCompleted=c.register({name:(0,o.NC)("audioCues.taskCompleted","Task Completed"),sound:s.taskCompleted,settingsKey:"audioCues.taskCompleted"}),c.taskFailed=c.register({name:(0,o.NC)("audioCues.taskFailed","Task Failed"),sound:s.taskFailed,settingsKey:"audioCues.taskFailed"}),c.terminalCommandFailed=c.register({name:(0,o.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:s.error,settingsKey:"audioCues.terminalCommandFailed"}),c.terminalBell=c.register({name:(0,o.NC)("audioCues.terminalBell","Terminal Bell"),sound:s.terminalBell,settingsKey:"audioCues.terminalBell"}),c.notebookCellCompleted=c.register({name:(0,o.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:s.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),c.notebookCellFailed=c.register({name:(0,o.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:s.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),c.diffLineInserted=c.register({name:(0,o.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:s.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),c.diffLineDeleted=c.register({name:(0,o.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:s.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),c.diffLineModified=c.register({name:(0,o.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:s.diffLineModified,settingsKey:"audioCues.diffLineModified"})},33402:function(e,t,n){n.d(t,{r:function(){return g}});var i=n(74165),r=n(15671),u=n(43144),o=n(60136),a=n(27277),s=n(30620),c=n(32959),l=n(71049),d=n(65096),h=n(67784),f=n(1018),v=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},y=function(e,t){return function(n,i){t(n,i,e)}},p=function(e,t,n,i){return new(n||(n=Promise))((function(r,u){function o(e){try{s(i.next(e))}catch(t){u(t)}}function a(e){try{s(i.throw(e))}catch(t){u(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}s((i=i.apply(e,t||[])).next())}))},g=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var u;return(0,r.Z)(this,n),(u=t.call(this)).layoutService=e,u.logService=i,u.mapTextToType=new Map,u.findText="",u.resources=[],(s.isSafari||s.isWebkitWebView)&&u.installWebKitWriteTextWorkaround(),u}return(0,u.Z)(n,[{key:"installWebKitWriteTextWorkaround",value:function(){var e=this,t=function(){var t=new l.CR;e.webKitPendingClipboardWritePromise&&!e.webKitPendingClipboardWritePromise.isSettled&&e.webKitPendingClipboardWritePromise.cancel(),e.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch((function(n){return p(e,void 0,void 0,(0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n instanceof Error&&"NotAllowedError"===n.name&&t.isRejected||this.logService.error(n);case 1:case"end":return e.stop()}}),e,this)})))}))};this.layoutService.hasContainer&&(this._register((0,c.addDisposableListener)(this.layoutService.container,"click",t)),this._register((0,c.addDisposableListener)(this.layoutService.container,"keydown",t)))}},{key:"writeText",value:function(e,t){return p(this,void 0,void 0,(0,i.Z)().mark((function n(){var r,u;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=3;break}return this.mapTextToType.set(t,e),n.abrupt("return");case 3:if(!this.webKitPendingClipboardWritePromise){n.next=5;break}return n.abrupt("return",this.webKitPendingClipboardWritePromise.complete(e));case 5:return n.prev=5,n.next=8,navigator.clipboard.writeText(e);case 8:return n.abrupt("return",n.sent);case 11:n.prev=11,n.t0=n.catch(5),console.error(n.t0);case 14:return r=document.activeElement,(u=document.body.appendChild((0,c.$)("textarea",{"aria-hidden":!0}))).style.height="1px",u.style.width="1px",u.style.position="absolute",u.value=e,u.focus(),u.select(),document.execCommand("copy"),r instanceof HTMLElement&&r.focus(),document.body.removeChild(u),n.abrupt("return");case 26:case"end":return n.stop()}}),n,this,[[5,11]])})))}},{key:"readText",value:function(e){return p(this,void 0,void 0,(0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",this.mapTextToType.get(e)||"");case 2:return t.prev=2,t.next=5,navigator.clipboard.readText();case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return","");case 12:case"end":return t.stop()}}),t,this,[[2,8]])})))}},{key:"readFindText",value:function(){return p(this,void 0,void 0,(0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findText);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"writeFindText",value:function(e){return p(this,void 0,void 0,(0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.findText=e;case 1:case"end":return t.stop()}}),t,this)})))}},{key:"readResources",value:function(){return p(this,void 0,void 0,(0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.resources);case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(d.JT);g=v([y(0,h.F),y(1,f.VZ)],g)},76344:function(e,t,n){n.d(t,{p:function(){return i}});var i=(0,n(64606).yh)("clipboardService")},99740:function(e,t,n){n.d(t,{H:function(){return d},P:function(){return h}});var i=n(37762),r=n(15671),u=n(43144),o=n(13880),a=n(12928),s=n(65096),c=n(49192),l=n(63021),d=(0,n(64606).yh)("commandService"),h=new(function(){function e(){(0,r.Z)(this,e),this._commands=new Map,this._onDidRegisterCommand=new o.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return(0,u.Z)(e,[{key:"registerCommand",value:function(e,t){var n=this;if(!e)throw new Error("invalid command");if("string"===typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){var r,u=[],o=(0,i.Z)(e.description.args);try{for(o.s();!(r=o.n()).done;){var a=r.value;u.push(a.constraint)}}catch(p){o.e(p)}finally{o.f()}var d=e.handler;e.handler=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,l.D8)(n,u),d.apply(void 0,[e].concat(n))}}var h=e.id,f=this._commands.get(h);f||(f=new c.S,this._commands.set(h,f));var v=f.unshift(e),y=(0,s.OF)((function(){v();var e=n._commands.get(h);(null===e||void 0===e?void 0:e.isEmpty())&&n._commands.delete(h)}));return this._onDidRegisterCommand.fire(h),y}},{key:"registerCommandAlias",value:function(e,t){return h.registerCommand(e,(function(e){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),u=1;u<i;u++)r[u-1]=arguments[u];return(n=e.get(d)).executeCommand.apply(n,[t].concat(r))}))}},{key:"getCommand",value:function(e){var t=this._commands.get(e);if(t&&!t.isEmpty())return a.$.first(t)}},{key:"getCommands",value:function(){var e,t=new Map,n=(0,i.Z)(this._commands.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,u=this.getCommand(r);u&&t.set(r,u)}}catch(o){n.e(o)}finally{n.f()}return t}}]),e}());h.registerCommand("noop",(function(){}))},77819:function(e,t,n){n.d(t,{KV:function(){return o},Mt:function(){return c},Od:function(){return u},UI:function(){return l},Ui:function(){return r},xL:function(){return a}});var i=n(37762),r=(0,n(64606).yh)("configurationService");function u(e,t){var n=Object.create(null);for(var i in e)o(n,i,e[i],t);return n}function o(e,t,n,i){for(var r=t.split("."),u=r.pop(),o=e,a=0;a<r.length;a++){var s=r[a],c=o[s];switch(typeof c){case"undefined":c=o[s]=Object.create(null);break;case"object":break;default:return void i("Ignoring ".concat(t," as ").concat(r.slice(0,a+1).join(".")," is ").concat(JSON.stringify(c)))}o=c}if("object"===typeof o&&null!==o)try{o[u]=n}catch(l){i("Ignoring ".concat(t," as ").concat(r.join(".")," is ").concat(JSON.stringify(o)))}else i("Ignoring ".concat(t," as ").concat(r.join(".")," is ").concat(JSON.stringify(o)))}function a(e,t){s(e,t.split("."))}function s(e,t){var n=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(n)){var i=e[n];"object"!==typeof i||Array.isArray(i)||(s(i,t),0===Object.keys(i).length&&delete e[n])}}else delete e[n]}function c(e,t,n){var r=function(e,t){var n,r=e,u=(0,i.Z)(t);try{for(u.s();!(n=u.n()).done;){var o=n.value;if("object"!==typeof r||null===r)return;r=r[o]}}catch(a){u.e(a)}finally{u.f()}return r}(e,t.split("."));return"undefined"===typeof r?n:r}function l(e){return e.replace(/[\[\]]/g,"")}},49529:function(e,t,n){n.d(t,{VK:function(){return m},VV:function(){return g},YX:function(){return k}});var i=n(29439),r=n(37762),u=n(93433),o=n(15671),a=n(43144),s=n(38102),c=n(29413),l=n(28751),d=n(63021),h=n(38821),f=n(77819),v=n(92328),y=n(43357);function p(e){return Object.isFrozen(e)?e:l._A(e)}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;(0,o.Z)(this,e),this._contents=t,this._keys=n,this._overrides=i,this.raw=r,this.overrideConfigurations=new Map}return(0,a.Z)(e,[{key:"rawConfiguration",get:function(){var t;if(!this._rawConfiguration)if(null===(t=this.raw)||void 0===t?void 0:t.length){var n=this.raw.map((function(t){if(t instanceof e)return t;var n=new C("");return n.parseRaw(t),n.configurationModel}));this._rawConfiguration=n.reduce((function(e,t){return t===e?t:e.merge(t)}),n[0])}else this._rawConfiguration=this;return this._rawConfiguration}},{key:"contents",get:function(){return this._contents}},{key:"overrides",get:function(){return this._overrides}},{key:"keys",get:function(){return this._keys}},{key:"isEmpty",value:function(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}},{key:"getValue",value:function(e){return e?(0,f.Mt)(this.contents,e):this.contents}},{key:"inspect",value:function(e,t){var n=this.rawConfiguration.getValue(e);return{value:n,override:t?this.rawConfiguration.getOverrideValue(e,t):void 0,merged:t?this.rawConfiguration.override(t).getValue(e):n}}},{key:"getOverrideValue",value:function(e,t){var n=this.getContentsForOverrideIdentifer(t);return n?e?(0,f.Mt)(n,e):n:void 0}},{key:"override",value:function(e){var t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}},{key:"merge",value:function(){for(var t,n,o=this,a=l.I8(this.contents),c=l.I8(this.overrides),d=(0,u.Z)(this.keys),h=(null===(t=this.raw)||void 0===t?void 0:t.length)?(0,u.Z)(this.raw):[this],f=arguments.length,v=new Array(f),y=0;y<f;y++)v[y]=arguments[y];for(var p=0,g=v;p<g.length;p++){var C=g[p];if(h.push.apply(h,(0,u.Z)((null===(n=C.raw)||void 0===n?void 0:n.length)?C.raw:[C])),!C.isEmpty()){this.mergeContents(a,C.contents);var D,m=(0,r.Z)(C.overrides);try{var k=function(){var e,t=D.value,n=c.filter((function(e){return s.fS(e.identifiers,t.identifiers)})),r=(0,i.Z)(n,1)[0];r?(o.mergeContents(r.contents,t.contents),(e=r.keys).push.apply(e,(0,u.Z)(t.keys)),r.keys=s.EB(r.keys)):c.push(l.I8(t))};for(m.s();!(D=m.n()).done;)k()}catch(A){m.e(A)}finally{m.f()}var _,b=(0,r.Z)(C.keys);try{for(b.s();!(_=b.n()).done;){var w=_.value;-1===d.indexOf(w)&&d.push(w)}}catch(A){b.e(A)}finally{b.f()}}}return new e(a,d,c,h.every((function(t){return t instanceof e}))?void 0:h)}},{key:"createOverrideConfigurationModel",value:function(t){var n=this.getContentsForOverrideIdentifer(t);if(!n||"object"!==typeof n||!Object.keys(n).length)return this;var i,o={},a=(0,r.Z)(s.EB([].concat((0,u.Z)(Object.keys(this.contents)),(0,u.Z)(Object.keys(n)))));try{for(a.s();!(i=a.n()).done;){var c=i.value,d=this.contents[c],h=n[c];h&&("object"===typeof d&&"object"===typeof h?(d=l.I8(d),this.mergeContents(d,h)):d=h),o[c]=d}}catch(f){a.e(f)}finally{a.f()}return new e(o,this.keys,this.overrides)}},{key:"mergeContents",value:function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];r in e&&d.Kn(e[r])&&d.Kn(t[r])?this.mergeContents(e[r],t[r]):e[r]=l.I8(t[r])}}},{key:"getContentsForOverrideIdentifer",value:function(e){var t,n=this,i=null,u=null,o=function(e){e&&(u?n.mergeContents(u,e):u=l.I8(e))},a=(0,r.Z)(this.overrides);try{for(a.s();!(t=a.n()).done;){var c=t.value;s.fS(c.identifiers,[e])?i=c.contents:c.identifiers.includes(e)&&o(c.contents)}}catch(d){a.e(d)}finally{a.f()}return o(i),u}},{key:"toJSON",value:function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}},{key:"addValue",value:function(e,t){this.updateValue(e,t,!0)}},{key:"setValue",value:function(e,t){this.updateValue(e,t,!1)}},{key:"removeValue",value:function(e){var t=this.keys.indexOf(e);-1!==t&&(this.keys.splice(t,1),(0,f.xL)(this.contents,e),v.eU.test(e)&&this.overrides.splice(this.overrides.findIndex((function(t){return s.fS(t.identifiers,(0,v.ny)(e))})),1))}},{key:"updateValue",value:function(e,t,n){(0,f.KV)(this.contents,e,t,(function(e){return console.error(e)})),(n=n||-1===this.keys.indexOf(e))&&this.keys.push(e),v.eU.test(e)&&this.overrides.push({identifiers:(0,v.ny)(e),keys:Object.keys(this.contents[e]),contents:(0,f.Od)(this.contents[e],(function(e){return console.error(e)}))})}}]),e}(),C=function(){function e(t){(0,o.Z)(this,e),this._name=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}return(0,a.Z)(e,[{key:"configurationModel",get:function(){return this._configurationModel||new g}},{key:"parseRaw",value:function(e,t){this._raw=e;var n=this.doParseRaw(e,t),i=n.contents,r=n.keys,u=n.overrides,o=n.restricted,a=n.hasExcludedProperties;this._configurationModel=new g(i,r,u,a?[e]:void 0),this._restrictedConfigurations=o||[]}},{key:"doParseRaw",value:function(e,t){var n=this,i=y.B.as(v.IP.Configuration).getConfigurationProperties(),r=this.filter(e,i,!0,t);return e=r.raw,{contents:(0,f.Od)(e,(function(e){return console.error("Conflict in settings file ".concat(n._name,": ").concat(e))})),keys:Object.keys(e),overrides:this.toOverrides(e,(function(e){return console.error("Conflict in settings file ".concat(n._name,": ").concat(e))})),restricted:r.restricted,hasExcludedProperties:r.hasExcludedProperties}}},{key:"filter",value:function(e,t,n,i){var r=!1;if(!(null===i||void 0===i?void 0:i.scopes)&&!(null===i||void 0===i?void 0:i.skipRestricted))return{raw:e,restricted:[],hasExcludedProperties:r};var o={},a=[];for(var s in e)if(v.eU.test(s)&&n){var c=this.filter(e[s],t,!1,i);o[s]=c.raw,r=r||c.hasExcludedProperties,a.push.apply(a,(0,u.Z)(c.restricted))}else{var l=t[s],d=l?"undefined"!==typeof l.scope?l.scope:3:void 0;(null===l||void 0===l?void 0:l.restricted)&&a.push(s),void 0!==d&&void 0!==i.scopes&&!i.scopes.includes(d)||i.skipRestricted&&(null===l||void 0===l?void 0:l.restricted)?r=!0:o[s]=e[s]}return{raw:o,restricted:a,hasExcludedProperties:r}}},{key:"toOverrides",value:function(e,t){for(var n=[],i=0,r=Object.keys(e);i<r.length;i++){var u=r[i];if(v.eU.test(u)){var o={};for(var a in e[u])o[a]=e[u][a];n.push({identifiers:(0,v.ny)(u),keys:Object.keys(o),contents:(0,f.Od)(o,t)})}}return n}}]),e}(),D=function(){function e(t,n,i,r,u,a,s,c,l,d,h,f,v){(0,o.Z)(this,e),this.key=t,this.overrides=n,this._value=i,this.overrideIdentifiers=r,this.defaultConfiguration=u,this.policyConfiguration=a,this.applicationConfiguration=s,this.userConfiguration=c,this.localUserConfiguration=l,this.remoteUserConfiguration=d,this.workspaceConfiguration=h,this.folderConfigurationModel=f,this.memoryConfigurationModel=v}return(0,a.Z)(e,[{key:"inspect",value:function(e,t,n){var i=e.inspect(t,n);return{get value(){return p(i.value)},get override(){return p(i.override)},get merged(){return p(i.merged)}}}},{key:"userInspectValue",get:function(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}},{key:"user",get:function(){return void 0!==this.userInspectValue.value||void 0!==this.userInspectValue.override?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}]),e}(),m=function(){function e(t,n,i,r){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new g,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new g,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new c.Y9,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new g,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new c.Y9;(0,o.Z)(this,e),this._defaultConfiguration=t,this._policyConfiguration=n,this._applicationConfiguration=i,this._localUserConfiguration=r,this._remoteUserConfiguration=u,this._workspaceConfiguration=a,this._folderConfigurations=s,this._memoryConfiguration=l,this._memoryConfigurationByResource=d,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new c.Y9,this._userConfiguration=null}return(0,a.Z)(e,[{key:"getValue",value:function(e,t,n){return this.getConsolidatedConfigurationModel(e,t,n).getValue(e)}},{key:"updateValue",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.resource?(n=this._memoryConfigurationByResource.get(i.resource))||(n=new g,this._memoryConfigurationByResource.set(i.resource,n)):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}},{key:"inspect",value:function(e,t,n){var i,o=this.getConsolidatedConfigurationModel(e,t,n),a=this.getFolderConfigurationModelForResource(t.resource,n),s=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,c=new Set,l=(0,r.Z)(o.overrides);try{for(l.s();!(i=l.n()).done;){var d,h=i.value,f=(0,r.Z)(h.identifiers);try{for(f.s();!(d=f.n()).done;){var v=d.value;void 0!==o.getOverrideValue(e,v)&&c.add(v)}}catch(y){f.e(y)}finally{f.f()}}}catch(y){l.e(y)}finally{l.f()}return new D(e,t,o.getValue(e),c.size?(0,u.Z)(c):void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,n?this._workspaceConfiguration:void 0,a||void 0,s)}},{key:"applicationConfiguration",get:function(){return this._applicationConfiguration}},{key:"userConfiguration",get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}},{key:"localUserConfiguration",get:function(){return this._localUserConfiguration}},{key:"remoteUserConfiguration",get:function(){return this._remoteUserConfiguration}},{key:"getConsolidatedConfigurationModel",value:function(e,t,n){var i=this.getConsolidatedConfigurationModelForResource(t,n);return t.overrideIdentifier&&(i=i.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(i=i.merge(this._policyConfiguration)),i}},{key:"getConsolidatedConfigurationModelForResource",value:function(e,t){var n=e.resource,i=this.getWorkspaceConsolidatedConfiguration();if(t&&n){var r=t.getFolder(n);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);var u=this._memoryConfigurationByResource.get(n);u&&(i=i.merge(u))}return i}},{key:"getWorkspaceConsolidatedConfiguration",value:function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}},{key:"getFolderConsolidatedConfiguration",value:function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var n=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=n.merge(i),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t}},{key:"getFolderConfigurationModelForResource",value:function(e,t){if(t&&e){var n=t.getFolder(e);if(n)return this._folderConfigurations.get(n.uri)}}},{key:"toData",value:function(){var e=this;return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:(0,u.Z)(this._folderConfigurations.keys()).reduce((function(t,n){var i=e._folderConfigurations.get(n),r=i.contents,u=i.overrides,o=i.keys;return t.push([n,{contents:r,overrides:u,keys:o}]),t}),[])}}}],[{key:"parse",value:function(t){var n=this,i=this.parseConfigurationModel(t.defaults),r=this.parseConfigurationModel(t.policy),u=this.parseConfigurationModel(t.application),o=this.parseConfigurationModel(t.user),a=this.parseConfigurationModel(t.workspace),s=t.folders.reduce((function(e,t){return e.set(h.o.revive(t[0]),n.parseConfigurationModel(t[1])),e}),new c.Y9);return new e(i,r,u,o,new g,a,s,new g,new c.Y9)}},{key:"parseConfigurationModel",value:function(e){return new g(e.contents,e.keys,e.overrides)}}]),e}(),k=function(){function e(t,n,u,a){(0,o.Z)(this,e),this.change=t,this.previous=n,this.currentConfiguraiton=u,this.currentWorkspace=a,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;var s,c=(0,r.Z)(t.keys);try{for(c.s();!(s=c.n()).done;){var l=s.value;this.affectedKeys.add(l)}}catch(m){c.e(m)}finally{c.f()}var d,h=(0,r.Z)(t.overrides);try{for(h.s();!(d=h.n()).done;){var f,v=(0,i.Z)(d.value,2)[1],y=(0,r.Z)(v);try{for(y.s();!(f=y.n()).done;){var p=f.value;this.affectedKeys.add(p)}}catch(m){y.e(m)}finally{y.f()}}}catch(m){h.e(m)}finally{h.f()}this._affectsConfigStr=this._marker;var g,C=(0,r.Z)(this.affectedKeys);try{for(C.s();!(g=C.n()).done;){var D=g.value;this._affectsConfigStr+=D+this._marker}}catch(m){C.e(m)}finally{C.f()}}return(0,a.Z)(e,[{key:"previousConfiguration",get:function(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=m.parse(this.previous.data)),this._previousConfiguration}},{key:"affectsConfiguration",value:function(e,t){var n,i=this._marker+e,r=this._affectsConfigStr.indexOf(i);if(r<0)return!1;var u=r+i.length;if(u>=this._affectsConfigStr.length)return!1;var o=this._affectsConfigStr.charCodeAt(u);if(o!==this._markerCode1&&o!==this._markerCode2)return!1;if(t){var a=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(n=this.previous)||void 0===n?void 0:n.workspace):void 0,s=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!l.fS(a,s)}return!0}}]),e}()},92328:function(e,t,n){n.d(t,{IP:function(){return v},eU:function(){return E},ny:function(){return F}});var i=n(93433),r=n(37762),u=n(15671),o=n(43144),a=n(38102),s=n(13880),c=n(63021),l=n(18420),d=n(77819),h=n(17856),f=n(43357),v={Configuration:"base.contributions.configuration"},y={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},D={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},k="vscode://schemas/settings/resourceLanguage",_=f.B.as(h.I.JSONContribution),b=function(){function e(){(0,u.Z)(this,e),this.overrideIdentifiers=new Set,this._onDidSchemaChange=new s.Q5,this._onDidUpdateConfiguration=new s.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:l.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},_.registerSchema(k,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}return(0,o.Z)(e,[{key:"registerConfiguration",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.registerConfigurations([e],t)}},{key:"registerConfigurations",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Set;this.doRegisterConfigurations(e,t,n),_.registerSchema(k,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}},{key:"registerDefaultConfigurations",value:function(e){var t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}},{key:"doRegisterDefaultConfigurations",value:function(e,t){var n,u,o=[],a=(0,r.Z)(e);try{for(a.s();!(u=a.n()).done;){var s=u.value,h=s.overrides,f=s.source;for(var v in h)if(t.add(v),E.test(v)){var y=this.configurationDefaultsOverrides.get(v),p=null!==(n=null===y||void 0===y?void 0:y.valuesSources)&&void 0!==n?n:new Map;if(f)for(var g=0,C=Object.keys(h[v]);g<C.length;g++){var D=C[g];p.set(D,f)}var m=Object.assign(Object.assign({},(null===y||void 0===y?void 0:y.value)||{}),h[v]);this.configurationDefaultsOverrides.set(v,{source:f,value:m,valuesSources:p});var _=(0,d.UI)(v),b={type:"object",default:m,description:l.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",_),$ref:k,defaultDefaultValue:m,source:c.HD(f)?void 0:f,defaultValueSource:f};o.push.apply(o,(0,i.Z)(F(v))),this.configurationProperties[v]=b,this.defaultLanguageConfigurationOverridesNode.properties[v]=b}else{this.configurationDefaultsOverrides.set(v,{value:h[v],source:f});var w=this.configurationProperties[v];w&&(this.updatePropertyDefaultValue(v,w),this.updateSchema(v,w))}}}catch(A){a.e(A)}finally{a.f()}this.doRegisterOverrideIdentifiers(o)}},{key:"registerOverrideIdentifiers",value:function(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}},{key:"doRegisterOverrideIdentifiers",value:function(e){var t,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.overrideIdentifiers.add(i)}}catch(u){n.e(u)}finally{n.f()}this.updateOverridePropertyPatternKey()}},{key:"doRegisterConfigurations",value:function(e,t,n){var i=this;e.forEach((function(e){i.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,n),i.configurationContributors.push(e),i.registerJSONConfiguration(e)}))}},{key:"validateAndRegisterProperties",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,a=arguments.length>5?arguments[5]:void 0;o=c.Jp(e.scope)?o:e.scope;var s=e.properties;if(s)for(var l in s){var d=s[l];n&&Z(l,d)?delete s[l]:(d.source=i,d.defaultDefaultValue=s[l].default,this.updatePropertyDefaultValue(l,d),E.test(l)?d.scope=void 0:(d.scope=c.Jp(d.scope)?o:d.scope,d.restricted=c.Jp(d.restricted)?!!(null===u||void 0===u?void 0:u.includes(l)):d.restricted),!s[l].hasOwnProperty("included")||s[l].included?(this.configurationProperties[l]=s[l],(null===(t=s[l].policy)||void 0===t?void 0:t.name)&&this.policyConfigurations.set(s[l].policy.name,l),!s[l].deprecationMessage&&s[l].markdownDeprecationMessage&&(s[l].deprecationMessage=s[l].markdownDeprecationMessage),a.add(l)):(this.excludedConfigurationProperties[l]=s[l],delete s[l]))}var h=e.allOf;if(h){var f,v=(0,r.Z)(h);try{for(v.s();!(f=v.n()).done;){var y=f.value;this.validateAndRegisterProperties(y,n,i,u,o,a)}}catch(p){v.e(p)}finally{v.f()}}}},{key:"getConfigurationProperties",value:function(){return this.configurationProperties}},{key:"getPolicyConfigurations",value:function(){return this.policyConfigurations}},{key:"registerJSONConfiguration",value:function(e){var t=this;!function e(n){var i=n.properties;if(i)for(var r in i)t.updateSchema(r,i[r]);var u=n.allOf;null===u||void 0===u||u.forEach(e)}(e)}},{key:"updateSchema",value:function(e,t){switch(y.properties[e]=t,t.scope){case 1:p.properties[e]=t;break;case 2:g.properties[e]=t;break;case 6:C.properties[e]=t;break;case 3:D.properties[e]=t;break;case 4:m.properties[e]=t;break;case 5:m.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}},{key:"updateOverridePropertyPatternKey",value:function(){var e,t=(0,r.Z)(this.overrideIdentifiers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value,i="[".concat(n,"]"),u={type:"object",description:l.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:l.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:k};this.updatePropertyDefaultValue(i,u),y.properties[i]=u,p.properties[i]=u,g.properties[i]=u,C.properties[i]=u,D.properties[i]=u,m.properties[i]=u}}catch(o){t.e(o)}finally{t.f()}}},{key:"registerOverridePropertyPatternKey",value:function(){var e={type:"object",description:l.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:l.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:k};y.patternProperties[x]=e,p.patternProperties[x]=e,g.patternProperties[x]=e,C.patternProperties[x]=e,D.patternProperties[x]=e,m.patternProperties[x]=e,this._onDidSchemaChange.fire()}},{key:"updatePropertyDefaultValue",value:function(e,t){var n=this.configurationDefaultsOverrides.get(e),i=null===n||void 0===n?void 0:n.value,r=null===n||void 0===n?void 0:n.source;c.o8(i)&&(i=t.defaultDefaultValue,r=void 0),c.o8(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i,t.defaultValueSource=r}}]),e}(),w="\\[([^\\]]+)\\]",A=new RegExp(w,"g"),x="^(".concat(w,")+$"),E=new RegExp(x);function F(e){var t=[];if(E.test(e))for(var n=A.exec(e);null===n||void 0===n?void 0:n.length;){var i=n[1].trim();i&&t.push(i),n=A.exec(e)}return(0,a.EB)(t)}var S=new b;function Z(e,t){var n,i,r,u;return e.trim()?E.test(e)?l.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==S.getConfigurationProperties()[e]?l.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):(null===(n=t.policy)||void 0===n?void 0:n.name)&&void 0!==S.getPolicyConfigurations().get(null===(i=t.policy)||void 0===i?void 0:i.name)?l.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,null===(r=t.policy)||void 0===r?void 0:r.name,S.getPolicyConfigurations().get(null===(u=t.policy)||void 0===u?void 0:u.name)):null:l.NC("config.property.empty","Cannot register an empty property")}f.B.add(v.Configuration,S)},44452:function(e,t,n){n.d(t,{l:function(){return h}});var i=n(37762),r=n(15671),u=n(43144),o=n(60136),a=n(27277),s=n(65096),c=n(49529),l=n(92328),d=n(43357),h=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments))._configurationModel=new c.VV,e}return(0,u.Z)(n,[{key:"configurationModel",get:function(){return this._configurationModel}},{key:"reload",value:function(){return this.resetConfigurationModel(),this.configurationModel}},{key:"getConfigurationDefaultOverrides",value:function(){return{}}},{key:"resetConfigurationModel",value:function(){this._configurationModel=new c.VV;var e=d.B.as(l.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}},{key:"updateConfigurationModel",value:function(e,t){var n,r=this.getConfigurationDefaultOverrides(),u=(0,i.Z)(e);try{for(u.s();!(n=u.n()).done;){var o=n.value,a=r[o],s=t[o];void 0!==a?this._configurationModel.addValue(o,a):s?this._configurationModel.addValue(o,s.default):this._configurationModel.removeValue(o)}}catch(c){u.e(c)}finally{u.f()}}}]),n}(s.JT)},96671:function(e,t,n){n.d(t,{aY:function(){return T}});var i=n(93433),r=n(37762),u=n(29439),o=n(11752),a=n(61120),s=n(60136),c=n(27277),l=n(15671),d=n(43144),h=n(13880),f=n(12928),v=n(65096),y=n(28751),p=n(29976),g=n(38821),C=n(18420),D=n(99740),m=n(77819),k=n(8022),_=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},b=function(e,t){return function(n,i){t(n,i,e)}},w="data-keybinding-context",A=function(){function e(t,n){(0,l.Z)(this,e),this._id=t,this._parent=n,this._value=Object.create(null),this._value._contextId=t}return(0,d.Z)(e,[{key:"value",get:function(){return Object.assign({},this._value)}},{key:"setValue",value:function(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}},{key:"removeValue",value:function(e){return e in this._value&&(delete this._value[e],!0)}},{key:"getValue",value:function(e){var t=this._value[e];return"undefined"===typeof t&&this._parent?this._parent.getValue(e):t}}]),e}(),x=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,-1,null)}return(0,d.Z)(n,[{key:"setValue",value:function(e,t){return!1}},{key:"removeValue",value:function(e){return!1}},{key:"getValue",value:function(e){}}]),n}(A);x.INSTANCE=new x;var E=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,o,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e,null))._configurationService=o,s._values=p.Id.forConfigKeys(),s._listener=s._configurationService.onDidChangeConfiguration((function(e){if(7===e.source){var t=Array.from(s._values,(function(e){return(0,u.Z)(e,1)[0]}));s._values.clear(),a.fire(new Z(t))}else{var n,o=[],c=(0,r.Z)(e.affectedKeys);try{for(c.s();!(n=c.n()).done;){var l=n.value,d="config.".concat(l),h=s._values.findSuperstr(d);void 0!==h&&(o.push.apply(o,(0,i.Z)(f.$.map(h,(function(e){return(0,u.Z)(e,1)[0]})))),s._values.deleteSuperstr(d)),s._values.has(d)&&(o.push(d),s._values.delete(d))}}catch(v){c.e(v)}finally{c.f()}a.fire(new Z(o))}})),s}return(0,d.Z)(n,[{key:"dispose",value:function(){this._listener.dispose()}},{key:"getValue",value:function(e){if(0!==e.indexOf(n._keyPrefix))return(0,o.Z)((0,a.Z)(n.prototype),"getValue",this).call(this,e);if(this._values.has(e))return this._values.get(e);var t=e.substr(n._keyPrefix.length),i=this._configurationService.getValue(t),r=void 0;switch(typeof i){case"number":case"boolean":case"string":r=i;break;default:r=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,r),r}},{key:"setValue",value:function(e,t){return(0,o.Z)((0,a.Z)(n.prototype),"setValue",this).call(this,e,t)}},{key:"removeValue",value:function(e){return(0,o.Z)((0,a.Z)(n.prototype),"removeValue",this).call(this,e)}}]),n}(A);E._keyPrefix="config.";var F=function(){function e(t,n,i){(0,l.Z)(this,e),this._service=t,this._key=n,this._defaultValue=i,this.reset()}return(0,d.Z)(e,[{key:"set",value:function(e){this._service.setContext(this._key,e)}},{key:"reset",value:function(){"undefined"===typeof this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}},{key:"get",value:function(){return this._service.getContextKeyValue(this._key)}}]),e}(),S=function(){function e(t){(0,l.Z)(this,e),this.key=t}return(0,d.Z)(e,[{key:"affectsSome",value:function(e){return e.has(this.key)}},{key:"allKeysContainedIn",value:function(e){return this.affectsSome(e)}}]),e}(),Z=function(){function e(t){(0,l.Z)(this,e),this.keys=t}return(0,d.Z)(e,[{key:"affectsSome",value:function(e){var t,n=(0,r.Z)(this.keys);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.has(i))return!0}}catch(u){n.e(u)}finally{n.f()}return!1}},{key:"allKeysContainedIn",value:function(e){return this.keys.every((function(t){return e.has(t)}))}}]),e}(),B=function(){function e(t){(0,l.Z)(this,e),this.events=t}return(0,d.Z)(e,[{key:"affectsSome",value:function(e){var t,n=(0,r.Z)(this.events);try{for(n.s();!(t=n.n()).done;){if(t.value.affectsSome(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"allKeysContainedIn",value:function(e){return this.events.every((function(t){return t.allKeysContainedIn(e)}))}}]),e}();var M=function(){function e(t){(0,l.Z)(this,e),this._onDidChangeContext=new h.K3({merge:function(e){return new B(e)}}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}return(0,d.Z)(e,[{key:"createKey",value:function(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new F(this,e,t)}},{key:"bufferChangeEvents",value:function(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}},{key:"createScoped",value:function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new I(this,e)}},{key:"contextMatchesRules",value:function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}},{key:"getContextKeyValue",value:function(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}},{key:"setContext",value:function(e,t){if(!this._isDisposed){var n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(e,t)&&this._onDidChangeContext.fire(new S(e))}}},{key:"removeContext",value:function(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new S(e))}},{key:"getContext",value:function(e){return this._isDisposed?x.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(w)){var t=e.getAttribute(w);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}]),e}(),T=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;(0,l.Z)(this,n),(i=t.call(this,0))._contexts=new Map,i._toDispose=new v.SL,i._lastContextId=0;var r=new E(i._myContextId,e,i._onDidChangeContext);return i._contexts.set(i._myContextId,r),i._toDispose.add(r),i}return(0,d.Z)(n,[{key:"dispose",value:function(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}},{key:"getContextValuesContainer",value:function(e){return this._isDisposed?x.INSTANCE:this._contexts.get(e)||x.INSTANCE}},{key:"createChildContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ContextKeyService has been disposed");var t=++this._lastContextId;return this._contexts.set(t,new A(t,this.getContextValuesContainer(e))),t}},{key:"disposeContext",value:function(e){this._isDisposed||this._contexts.delete(e)}}]),n}(M);T=_([b(0,m.Ui)],T);var I=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,i){var r;if((0,l.Z)(this,n),(r=t.call(this,e.createChildContext()))._parentChangeListener=new v.XK,r._parent=e,r._updateParentChangeListener(),r._domNode=i,r._domNode.hasAttribute(w)){var u="";r._domNode.classList&&(u=Array.from(r._domNode.classList.values()).join(", ")),console.error("Element already has context attribute".concat(u?": "+u:""))}return r._domNode.setAttribute(w,String(r._myContextId)),r}return(0,d.Z)(n,[{key:"_updateParentChangeListener",value:function(){var e=this;this._parentChangeListener.value=this._parent.onDidChangeContext((function(t){var n,i=e._parent.getContextValuesContainer(e._myContextId).value;n=i,t.allKeysContainedIn(new Set(Object.keys(n)))||e._onDidChangeContext.fire(t)}))}},{key:"dispose",value:function(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(w),this._isDisposed=!0)}},{key:"getContextValuesContainer",value:function(e){return this._isDisposed?x.INSTANCE:this._parent.getContextValuesContainer(e)}},{key:"createChildContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}},{key:"disposeContext",value:function(e){this._isDisposed||this._parent.disposeContext(e)}}]),n}(M);D.P.registerCommand("_setContext",(function(e,t,n){e.get(k.i6).createKey(String(t),function(e){return(0,y.rs)(e,(function(e){return"object"===typeof e&&1===e.$mid?g.o.revive(e).toString():e instanceof g.o?e.toString():void 0}))}(n))})),D.P.registerCommand({id:"getContextKeyInfo",handler:function(){return(0,i.Z)(k.uy.all()).sort((function(e,t){return e.key.localeCompare(t.key)}))},description:{description:(0,C.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),D.P.registerCommand("_generateContextKeyInfo",(function(){var e,t=[],n=new Set,i=(0,r.Z)(k.uy.all());try{for(i.s();!(e=i.n()).done;){var u=e.value;n.has(u.key)||(n.add(u.key),t.push(u))}}catch(o){i.e(o)}finally{i.f()}t.sort((function(e,t){return e.key.localeCompare(t.key)})),console.log(JSON.stringify(t,void 0,2))}))},8022:function(e,t,n){n.d(t,{Ao:function(){return Z},i6:function(){return Q},uy:function(){return $},Fb:function(){return B},K8:function(){return te}});var i=n(60136),r=n(27277),u=n(93433),o=n(37762),a=n(15671),s=n(43144),c=n(90650),l=n(31906),d=n(74146),h=n(18420);function f(){switch(arguments.length){case 1:return(0,h.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",arguments.length<=0?void 0:arguments[0]);case 2:return(0,h.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);case 3:return(0,h.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);default:return}}var v=(0,h.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),y=(0,h.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),p=function(){function e(){(0,a.Z)(this,e),this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=new RegExp('(?:["-%\\*-<>-_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDD00-\\uDD23\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDF70-\\uDF81\\uDFB0-\\uDFC4\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE3F\\uDE40\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCDF\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2\\uDF02\\uDF04-\\uDF10\\uDF12-\\uDF33\\uDFB0]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883\\uD885-\\uD887][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2F\\uDC41-\\uDC46]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE70-\\uDEBE\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE7F\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD32\\uDD50-\\uDD52\\uDD55\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD837[\\uDF00-\\uDF1E\\uDF25-\\uDF2A]|\\uD838[\\uDC30-\\uDC6D\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB]|\\uD839[\\uDCD0-\\uDCEB\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43\\uDD4B]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF39\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A\\uDF50-\\uDFFF]|\\uD888[\\uDC00-\\uDFAF])+',"y")}return(0,s.Z)(e,[{key:"reset",value:function(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}},{key:"scan",value:function(){for(;!this._isAtEnd();){switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){var e=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:e})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){var t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(f("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(f("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(f("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}},{key:"_match",value:function(e){return!this._isAtEnd()&&(this._input.charCodeAt(this._current)===e&&(this._current++,!0))}},{key:"_advance",value:function(){return this._input.charCodeAt(this._current++)}},{key:"_peek",value:function(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}},{key:"_addToken",value:function(e){this._tokens.push({type:e,offset:this._start})}},{key:"_error",value:function(e){var t=this._start,n=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:n};this._errors.push({offset:t,lexeme:n,additionalInfo:e}),this._tokens.push(i)}},{key:"_string",value:function(){this.stringRe.lastIndex=this._start;var t=this.stringRe.exec(this._input);if(t){this._current=this._start+t[0].length;var n=this._input.substring(this._start,this._current),i=e._keywords.get(n);i?this._addToken(i):this._tokens.push({type:17,lexeme:n,offset:this._start})}}},{key:"_quotedString",value:function(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(v):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}},{key:"_regex",value:function(){for(var t=this._current,n=!1,i=!1;;){if(t>=this._input.length)return this._current=t,void this._error(y);var r=this._input.charCodeAt(t);if(n)n=!1;else{if(47===r&&!i){t++;break}91===r?i=!0:92===r?n=!0:93===r&&(i=!1)}t++}for(;t<this._input.length&&e._regexFlags.has(this._input.charCodeAt(t));)t++;this._current=t;var u=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:u,offset:this._start})}},{key:"_isAtEnd",value:function(){return this._current>=this._input.length}}],[{key:"getLexeme",value:function(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,d.L6)("unhandled token type: ".concat(JSON.stringify(e),"; have you forgotten to add a case?"))}}}]),e}();p._regexFlags=new Set(["i","g","s","m","y","u"].map((function(e){return e.charCodeAt(0)}))),p._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var g=n(64606),C=new Map;C.set("false",!1),C.set("true",!0),C.set("isMac",c.dz),C.set("isLinux",c.IJ),C.set("isWindows",c.ED),C.set("isWeb",c.$L),C.set("isMacNative",c.dz&&!c.$L),C.set("isEdge",c.un),C.set("isFirefox",c.vU),C.set("isChrome",c.i7),C.set("isSafari",c.G6);var D=Object.prototype.hasOwnProperty,m={regexParsingWithErrorRecovery:!0},k=(0,h.NC)("contextkey.parser.error.emptyString","Empty context key expression"),_=(0,h.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),b=(0,h.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),w=(0,h.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),A=(0,h.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),x=(0,h.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),E=(0,h.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),F=(0,h.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;(0,a.Z)(this,e),this._config=t,this._scanner=new p,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}return(0,s.Z)(e,[{key:"parse",value:function(t){if(""!==t){this._tokens=this._scanner.reset(t).scan(),this._current=0,this._parsingErrors=[];try{var n=this._expr();if(!this._isAtEnd()){var i=this._peek(),r=17===i.type?x:void 0;throw this._parsingErrors.push({message:A,offset:i.offset,lexeme:p.getLexeme(i),additionalInfo:r}),e._parseError}return n}catch(u){if(u!==e._parseError)throw u;return}}else this._parsingErrors.push({message:k,offset:0,lexeme:"",additionalInfo:_})}},{key:"_expr",value:function(){return this._or()}},{key:"_or",value:function(){for(var e=[this._and()];this._matchOne(16);){var t=this._and();e.push(t)}return 1===e.length?e[0]:Z.or.apply(Z,e)}},{key:"_and",value:function(){for(var e=[this._term()];this._matchOne(15);){var t=this._term();e.push(t)}return 1===e.length?e[0]:Z.and.apply(Z,e)}},{key:"_term",value:function(){if(this._matchOne(2)){var e=this._peek();switch(e.type){case 11:return this._advance(),T.INSTANCE;case 12:return this._advance(),I.INSTANCE;case 0:this._advance();var t=this._expr();return this._consume(1,w),null===t||void 0===t?void 0:t.negate();case 17:return this._advance(),R.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}},{key:"_primary",value:function(){var t=this._peek();switch(t.type){case 11:return this._advance(),Z.true();case 12:return this._advance(),Z.false();case 0:this._advance();var n=this._expr();return this._consume(1,w),n;case 17:var i=t.lexeme;if(this._advance(),this._matchOne(9)){var r=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==r.type)throw this._errExpectedButGot("REGEX",r);var u,o=r.lexeme,a=o.lastIndexOf("/"),s=a===o.length-1?void 0:this._removeFlagsGY(o.substring(a+1));try{u=new RegExp(o.substring(1,a),s)}catch(I){throw this._errExpectedButGot("REGEX",r)}return q.create(i,u)}switch(r.type){case 10:case 19:var c=[r.lexeme];this._advance();for(var d=this._peek(),h=0,f=0;f<r.lexeme.length;f++)40===r.lexeme.charCodeAt(f)?h++:41===r.lexeme.charCodeAt(f)&&h--;for(;!this._isAtEnd()&&15!==d.type&&16!==d.type;){switch(d.type){case 0:h++;break;case 1:h--;break;case 10:case 18:for(var v=0;v<d.lexeme.length;v++)40===d.lexeme.charCodeAt(v)?h++:41===r.lexeme.charCodeAt(v)&&h--}if(h<0)break;c.push(p.getLexeme(d)),this._advance(),d=this._peek()}var y,g=c.join(""),C=g.lastIndexOf("/"),D=C===g.length-1?void 0:this._removeFlagsGY(g.substring(C+1));try{y=new RegExp(g.substring(1,C),D)}catch(I){throw this._errExpectedButGot("REGEX",r)}return Z.regex(i,y);case 18:var m=r.lexeme;this._advance();var k=null;if(!(0,l.m5)(m)){var _=m.indexOf("/"),A=m.lastIndexOf("/");if(_!==A&&_>=0){var x=m.slice(_+1,A),S="i"===m[A+1]?"i":"";try{k=new RegExp(x,S)}catch(N){throw this._errExpectedButGot("REGEX",r)}}}if(null===k)throw this._errExpectedButGot("REGEX",r);return q.create(i,k);default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,b);var B=this._value();return Z.notIn(i,B)}switch(this._peek().type){case 3:this._advance();var M=this._value();if(18===this._previous().type)return Z.equals(i,M);switch(M){case"true":return Z.has(i);case"false":return Z.not(i);default:return Z.equals(i,M)}case 4:this._advance();var T=this._value();if(18===this._previous().type)return Z.notEquals(i,T);switch(T){case"true":return Z.not(i);case"false":return Z.has(i);default:return Z.notEquals(i,T)}case 5:return this._advance(),W.create(i,this._value());case 6:return this._advance(),U.create(i,this._value());case 7:return this._advance(),j.create(i,this._value());case 8:return this._advance(),H.create(i,this._value());case 13:return this._advance(),Z.in(i,this._value());default:return Z.has(i)}case 20:throw this._parsingErrors.push({message:E,offset:t.offset,lexeme:"",additionalInfo:F}),e._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}},{key:"_value",value:function(){var e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}},{key:"_removeFlagsGY",value:function(e){return e.replaceAll(this._flagsGYRe,"")}},{key:"_previous",value:function(){return this._tokens[this._current-1]}},{key:"_matchOne",value:function(e){return!!this._check(e)&&(this._advance(),!0)}},{key:"_advance",value:function(){return this._isAtEnd()||this._current++,this._previous()}},{key:"_consume",value:function(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}},{key:"_errExpectedButGot",value:function(t,n,i){var r=(0,h.NC)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",t,p.getLexeme(n)),u=n.offset,o=p.getLexeme(n);return this._parsingErrors.push({message:r,offset:u,lexeme:o,additionalInfo:i}),e._parseError}},{key:"_check",value:function(e){return this._peek().type===e}},{key:"_peek",value:function(){return this._tokens[this._current]}},{key:"_isAtEnd",value:function(){return 20===this._peek().type}}]),e}();S._parseError=new Error;var Z=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,null,[{key:"false",value:function(){return T.INSTANCE}},{key:"true",value:function(){return I.INSTANCE}},{key:"has",value:function(e){return N.create(e)}},{key:"equals",value:function(e,t){return O.create(e,t)}},{key:"notEquals",value:function(e,t){return P.create(e,t)}},{key:"regex",value:function(e,t){return q.create(e,t)}},{key:"in",value:function(e,t){return K.create(e,t)}},{key:"notIn",value:function(e,t){return V.create(e,t)}},{key:"not",value:function(e){return R.create(e)}},{key:"and",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.create(t,null,!0)}},{key:"or",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Y.create(t,null,!0)}},{key:"deserialize",value:function(e){if(void 0!==e&&null!==e)return this._parser.parse(e)}}]),e}();function B(e,t){var n=e?e.substituteConstants():void 0,i=t?t.substituteConstants():void 0;return!n&&!i||!(!n||!i)&&n.equals(i)}function M(e,t){return e.cmp(t)}Z._parser=new S({regexParsingWithErrorRecovery:!1});var T=function(){function e(){(0,a.Z)(this,e),this.type=0}return(0,s.Z)(e,[{key:"cmp",value:function(e){return this.type-e.type}},{key:"equals",value:function(e){return e.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return!1}},{key:"serialize",value:function(){return"false"}},{key:"keys",value:function(){return[]}},{key:"negate",value:function(){return I.INSTANCE}}]),e}();T.INSTANCE=new T;var I=function(){function e(){(0,a.Z)(this,e),this.type=1}return(0,s.Z)(e,[{key:"cmp",value:function(e){return this.type-e.type}},{key:"equals",value:function(e){return e.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return!0}},{key:"serialize",value:function(){return"true"}},{key:"keys",value:function(){return[]}},{key:"negate",value:function(){return T.INSTANCE}}]),e}();I.INSTANCE=new I;var N=function(){function e(t,n){(0,a.Z)(this,e),this.key=t,this.negated=n,this.type=2}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:X(this.key,e.key)}},{key:"equals",value:function(e){return e.type===this.type&&this.key===e.key}},{key:"substituteConstants",value:function(){var e=C.get(this.key);return"boolean"===typeof e?e?I.INSTANCE:T.INSTANCE:this}},{key:"evaluate",value:function(e){return!!e.getValue(this.key)}},{key:"serialize",value:function(){return this.key}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=R.create(this.key,this)),this.negated}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=C.get(t);return"boolean"===typeof i?i?I.INSTANCE:T.INSTANCE:new e(t,n)}}]),e}(),O=function(){function e(t,n,i){(0,a.Z)(this,e),this.key=t,this.value=n,this.negated=i,this.type=4}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:ee(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){var e=C.get(this.key);if("boolean"===typeof e){var t=e?"true":"false";return this.value===t?I.INSTANCE:T.INSTANCE}return this}},{key:"evaluate",value:function(e){return e.getValue(this.key)==this.value}},{key:"serialize",value:function(){return"".concat(this.key," == '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"===typeof n)return n?N.create(t,i):R.create(t,i);var r=C.get(t);return"boolean"===typeof r?n===(r?"true":"false")?I.INSTANCE:T.INSTANCE:new e(t,n,i)}}]),e}(),K=function(){function e(t,n){(0,a.Z)(this,e),this.key=t,this.valueKey=n,this.type=10,this.negated=null}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:ee(this.key,this.valueKey,e.key,e.valueKey)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){var t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.includes(n):"string"===typeof n&&"object"===typeof t&&null!==t&&D.call(t,n)}},{key:"serialize",value:function(){return"".concat(this.key," in '").concat(this.valueKey,"'")}},{key:"keys",value:function(){return[this.key,this.valueKey]}},{key:"negate",value:function(){return this.negated||(this.negated=V.create(this.key,this.valueKey)),this.negated}}],[{key:"create",value:function(t,n){return new e(t,n)}}]),e}(),V=function(){function e(t,n){(0,a.Z)(this,e),this.key=t,this.valueKey=n,this.type=11,this._negated=K.create(t,n)}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}},{key:"equals",value:function(e){return e.type===this.type&&this._negated.equals(e._negated)}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return!this._negated.evaluate(e)}},{key:"serialize",value:function(){return"".concat(this.key," not in '").concat(this.valueKey,"'")}},{key:"keys",value:function(){return this._negated.keys()}},{key:"negate",value:function(){return this._negated}}],[{key:"create",value:function(t,n){return new e(t,n)}}]),e}(),P=function(){function e(t,n,i){(0,a.Z)(this,e),this.key=t,this.value=n,this.negated=i,this.type=5}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:ee(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){var e=C.get(this.key);if("boolean"===typeof e){var t=e?"true":"false";return this.value===t?T.INSTANCE:I.INSTANCE}return this}},{key:"evaluate",value:function(e){return e.getValue(this.key)!=this.value}},{key:"serialize",value:function(){return"".concat(this.key," != '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=O.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"===typeof n)return n?R.create(t,i):N.create(t,i);var r=C.get(t);return"boolean"===typeof r?n===(r?"true":"false")?T.INSTANCE:I.INSTANCE:new e(t,n,i)}}]),e}(),R=function(){function e(t,n){(0,a.Z)(this,e),this.key=t,this.negated=n,this.type=3}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:X(this.key,e.key)}},{key:"equals",value:function(e){return e.type===this.type&&this.key===e.key}},{key:"substituteConstants",value:function(){var e=C.get(this.key);return"boolean"===typeof e?e?T.INSTANCE:I.INSTANCE:this}},{key:"evaluate",value:function(e){return!e.getValue(this.key)}},{key:"serialize",value:function(){return"!".concat(this.key)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=N.create(this.key,this)),this.negated}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=C.get(t);return"boolean"===typeof i?i?T.INSTANCE:I.INSTANCE:new e(t,n)}}]),e}();function L(e,t){if("string"===typeof e){var n=parseFloat(e);isNaN(n)||(e=n)}return"string"===typeof e||"number"===typeof e?t(e):T.INSTANCE}var j=function(){function e(t,n,i){(0,a.Z)(this,e),this.key=t,this.value=n,this.negated=i,this.type=12}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:ee(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))>this.value}},{key:"serialize",value:function(){return"".concat(this.key," > ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=U.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return L(n,(function(n){return new e(t,n,i)}))}}]),e}(),H=function(){function e(t,n,i){(0,a.Z)(this,e),this.key=t,this.value=n,this.negated=i,this.type=13}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:ee(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}},{key:"serialize",value:function(){return"".concat(this.key," >= ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=W.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return L(n,(function(n){return new e(t,n,i)}))}}]),e}(),W=function(){function e(t,n,i){(0,a.Z)(this,e),this.key=t,this.value=n,this.negated=i,this.type=14}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:ee(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))<this.value}},{key:"serialize",value:function(){return"".concat(this.key," < ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return L(n,(function(n){return new e(t,n,i)}))}}]),e}(),U=function(){function e(t,n,i){(0,a.Z)(this,e),this.key=t,this.value=n,this.negated=i,this.type=15}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:ee(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}},{key:"serialize",value:function(){return"".concat(this.key," <= ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=j.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return L(n,(function(n){return new e(t,n,i)}))}}]),e}(),q=function(){function e(t,n){(0,a.Z)(this,e),this.key=t,this.regexp=n,this.type=7,this.negated=null}return(0,s.Z)(e,[{key:"cmp",value:function(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;var t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}},{key:"equals",value:function(e){if(e.type===this.type){var t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){var t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}},{key:"serialize",value:function(){var e=this.regexp?"/".concat(this.regexp.source,"/").concat(this.regexp.flags):"/invalid/";return"".concat(this.key," =~ ").concat(e)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=G.create(this)),this.negated}}],[{key:"create",value:function(t,n){return new e(t,n)}}]),e}(),G=function(){function e(t){(0,a.Z)(this,e),this._actual=t,this.type=8}return(0,s.Z)(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}},{key:"equals",value:function(e){return e.type===this.type&&this._actual.equals(e._actual)}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return!this._actual.evaluate(e)}},{key:"serialize",value:function(){return"!(".concat(this._actual.serialize(),")")}},{key:"keys",value:function(){return this._actual.keys()}},{key:"negate",value:function(){return this._actual}}],[{key:"create",value:function(t){return new e(t)}}]),e}();function z(e){for(var t=null,n=0,i=e.length;n<i;n++){var r=e[n].substituteConstants();if(e[n]!==r&&null===t){t=[];for(var u=0;u<n;u++)t[u]=e[u]}null!==t&&(t[n]=r)}return null===t?e:t}var J=function(){function e(t,n){(0,a.Z)(this,e),this.expr=t,this.negated=n,this.type=6}return(0,s.Z)(e,[{key:"cmp",value:function(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(var t=0,n=this.expr.length;t<n;t++){var i=M(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}},{key:"equals",value:function(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(var t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}},{key:"substituteConstants",value:function(){var t=z(this.expr);return t===this.expr?this:e.create(t,this.negated,!1)}},{key:"evaluate",value:function(e){for(var t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}},{key:"serialize",value:function(){return this.expr.map((function(e){return e.serialize()})).join(" && ")}},{key:"keys",value:function(){var e,t=[],n=(0,o.Z)(this.expr);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push.apply(t,(0,u.Z)(i.keys()))}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"negate",value:function(){if(!this.negated){var e,t=[],n=(0,o.Z)(this.expr);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(i.negate())}}catch(r){n.e(r)}finally{n.f()}this.negated=Y.create(t,this,!0)}return this.negated}}],[{key:"create",value:function(t,n,i){return e._normalizeArr(t,n,i)}},{key:"_normalizeArr",value:function(t,n,i){var r,a=[],s=!1,c=(0,o.Z)(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;if(l)if(1!==l.type){if(0===l.type)return T.INSTANCE;6!==l.type?a.push(l):a.push.apply(a,(0,u.Z)(l.expr))}else s=!0}}catch(y){c.e(y)}finally{c.f()}if(0===a.length&&s)return I.INSTANCE;if(0!==a.length){if(1===a.length)return a[0];a.sort(M);for(var d=1;d<a.length;d++)a[d-1].equals(a[d])&&(a.splice(d,1),d--);if(1===a.length)return a[0];for(var h=function(){var t=a[a.length-1];if(9!==t.type)return"break";a.pop();var n=a.pop(),r=0===a.length,u=Y.create(t.expr.map((function(t){return e.create([t,n],null,i)})),null,r);u&&(a.push(u),a.sort(M))};a.length>1;){if("break"===h())break}if(1===a.length)return a[0];if(i){for(var f=0;f<a.length;f++)for(var v=f+1;v<a.length;v++)if(a[f].negate().equals(a[v]))return T.INSTANCE;if(1===a.length)return a[0]}return new e(a,n)}}}]),e}(),Y=function(){function e(t,n){(0,a.Z)(this,e),this.expr=t,this.negated=n,this.type=9}return(0,s.Z)(e,[{key:"cmp",value:function(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(var t=0,n=this.expr.length;t<n;t++){var i=M(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}},{key:"equals",value:function(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(var t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}},{key:"substituteConstants",value:function(){var t=z(this.expr);return t===this.expr?this:e.create(t,this.negated,!1)}},{key:"evaluate",value:function(e){for(var t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}},{key:"serialize",value:function(){return this.expr.map((function(e){return e.serialize()})).join(" || ")}},{key:"keys",value:function(){var e,t=[],n=(0,o.Z)(this.expr);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push.apply(t,(0,u.Z)(i.keys()))}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"negate",value:function(){if(!this.negated){var t,n=[],i=(0,o.Z)(this.expr);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(r.negate())}}catch(y){i.e(y)}finally{i.f()}for(;n.length>1;){var u,a=n.shift(),s=n.shift(),c=[],l=(0,o.Z)(ie(a));try{for(l.s();!(u=l.n()).done;){var d,h=u.value,f=(0,o.Z)(ie(s));try{for(f.s();!(d=f.n()).done;){var v=d.value;c.push(J.create([h,v],null,!1))}}catch(y){f.e(y)}finally{f.f()}}}catch(y){l.e(y)}finally{l.f()}n.unshift(e.create(c,null,!1))}this.negated=e.create(n,this,!0)}return this.negated}}],[{key:"create",value:function(t,n,i){return e._normalizeArr(t,n,i)}},{key:"_normalizeArr",value:function(t,n,i){var r=[],u=!1;if(t){for(var o=0,a=t.length;o<a;o++){var s=t[o];if(s)if(0!==s.type){if(1===s.type)return I.INSTANCE;9!==s.type?r.push(s):r=r.concat(s.expr)}else u=!0}if(0===r.length&&u)return T.INSTANCE;r.sort(M)}if(0!==r.length){if(1===r.length)return r[0];for(var c=1;c<r.length;c++)r[c-1].equals(r[c])&&(r.splice(c,1),c--);if(1===r.length)return r[0];if(i){for(var l=0;l<r.length;l++)for(var d=l+1;d<r.length;d++)if(r[l].negate().equals(r[d]))return I.INSTANCE;if(1===r.length)return r[0]}return new e(r,n)}}}]),e}(),$=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i,r){var u;return(0,a.Z)(this,n),(u=t.call(this,e,null))._defaultValue=i,"object"===typeof r?n._info.push(Object.assign(Object.assign({},r),{key:e})):!0!==r&&n._info.push({key:e,description:r,type:null!==i&&void 0!==i?typeof i:void 0}),u}return(0,s.Z)(n,[{key:"bindTo",value:function(e){return e.createKey(this.key,this._defaultValue)}},{key:"getValue",value:function(e){return e.getContextKeyValue(this.key)}},{key:"toNegated",value:function(){return this.negate()}},{key:"isEqualTo",value:function(e){return O.create(this.key,e)}}],[{key:"all",value:function(){return n._info.values()}}]),n}(N);$._info=[];var Q=(0,g.yh)("contextKeyService");function X(e,t){return e<t?-1:e>t?1:0}function ee(e,t,n,i){return e<n?-1:e>n?1:t<i?-1:t>i?1:0}function te(e,t){if(0===e.type||1===t.type)return!0;if(9===e.type)return 9===t.type&&ne(e.expr,t.expr);if(9===t.type){var n,i=(0,o.Z)(t.expr);try{for(i.s();!(n=i.n()).done;){if(te(e,n.value))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}if(6===e.type){if(6===t.type)return ne(t.expr,e.expr);var r,u=(0,o.Z)(e.expr);try{for(u.s();!(r=u.n()).done;){if(te(r.value,t))return!0}}catch(a){u.e(a)}finally{u.f()}return!1}return e.equals(t)}function ne(e,t){for(var n=0,i=0;n<e.length&&i<t.length;){var r=e[n].cmp(t[i]);if(r<0)return!1;0===r?(n++,i++):i++}return n===e.length}function ie(e){return 9===e.type?e.expr:[e]}},49099:function(e,t,n){n.d(t,{cv:function(){return o},d0:function(){return a}});var i=n(90650),r=n(18420),u=n(8022),o=(new u.uy("isMac",i.dz,(0,r.NC)("isMac","Whether the operating system is macOS")),new u.uy("isLinux",i.IJ,(0,r.NC)("isLinux","Whether the operating system is Linux")),new u.uy("isWindows",i.ED,(0,r.NC)("isWindows","Whether the operating system is Windows"))),a=(new u.uy("isWeb",i.$L,(0,r.NC)("isWeb","Whether the platform is a web browser")),new u.uy("isMacNative",i.dz&&!i.$L,(0,r.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new u.uy("isIOS",i.gn,(0,r.NC)("isIOS","Whether the operating system is iOS")),new u.uy("isMobile",i.tq,(0,r.NC)("isMobile","Whether the platform is a mobile web browser")),new u.uy("isDevelopment",!1,!0),new u.uy("productQualityType","",(0,r.NC)("productQualityType","Quality type of VS Code")),"inputFocus");new u.uy(a,!1,(0,r.NC)("inputFocus","Whether keyboard focus is inside an input box"))},62163:function(e,t,n){n.d(t,{L:function(){return x}});var i,r=n(15671),u=n(43144),o=n(60136),a=n(27277),s=n(32959),c=n(93720),l=n(13880),d=n(65096),h=n(68270),f=n(14443),v=n(8022),y=n(75256),p=n(49431),g=n(45536),C=n(32990),D=n(4052),m=n(74146),k=n(87103),_=function(){function e(t,n,i,u){(0,r.Z)(this,e),this.contextViewService=t,this.telemetryService=n,this.notificationService=i,this.keybindingService=u,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}return(0,u.Z)(e,[{key:"configure",value:function(e){this.options=e}},{key:"showContextMenu",value:function(e){var t=this,n=e.getActions();if(n.length){var i;this.focusToReturn=document.activeElement;var r=(0,s.isHTMLElement)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:function(r){var u;t.lastContainer=r;var o=e.getMenuClassName?e.getMenuClassName():"";o&&(r.className+=" "+o),t.options.blockMouse&&(t.block=r.appendChild((0,s.$)(".context-view-block")),t.block.style.position="fixed",t.block.style.cursor="initial",t.block.style.left="0",t.block.style.top="0",t.block.style.width="100%",t.block.style.height="100%",t.block.style.zIndex="-1",null===(u=t.blockDisposable)||void 0===u||u.dispose(),t.blockDisposable=(0,s.addDisposableListener)(t.block,s.EventType.MOUSE_DOWN,(function(e){return e.stopPropagation()})));var a=new d.SL,l=e.actionRunner||new c.Wi;return l.onWillRun((function(n){return t.onActionRun(n,!e.skipTelemetry)}),t,a),l.onDidRun(t.onDidActionRun,t,a),(i=new D.v2(r,n,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:function(e){return t.keybindingService.lookupKeybinding(e.id)}},k.ZR)).onDidCancel((function(){return t.contextViewService.hideContextView(!0)}),null,a),i.onDidBlur((function(){return t.contextViewService.hideContextView(!0)}),null,a),a.add((0,s.addDisposableListener)(window,s.EventType.BLUR,(function(){return t.contextViewService.hideContextView(!0)}))),a.add((0,s.addDisposableListener)(window,s.EventType.MOUSE_DOWN,(function(e){if(!e.defaultPrevented){var n=new C.n(e),i=n.target;if(!n.rightButton){for(;i;){if(i===r)return;i=i.parentElement}t.contextViewService.hideContextView(!0)}}}))),(0,d.F8)(a,i)},focus:function(){null===i||void 0===i||i.focus(!!e.autoSelectFirstItem)},onHide:function(n){var i,r,u;null===(i=e.onHide)||void 0===i||i.call(e,!!n),t.block&&(t.block.remove(),t.block=null),null===(r=t.blockDisposable)||void 0===r||r.dispose(),t.blockDisposable=null,t.lastContainer&&((0,s.getActiveElement)()===t.lastContainer||(0,s.isAncestor)((0,s.getActiveElement)(),t.lastContainer))&&(null===(u=t.focusToReturn)||void 0===u||u.focus()),t.lastContainer=null}},r,!!r)}}},{key:"onActionRun",value:function(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}},{key:"onDidActionRun",value:function(e){e.error&&!(0,m.n2)(e.error)&&this.notificationService.error(e.error)}}]),e}(),b=n(92361),w=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},A=function(e,t){return function(n,i){t(n,i,e)}},x=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,u,o,a,s){var c;return(0,r.Z)(this,n),(c=t.call(this)).telemetryService=e,c.notificationService=i,c.contextViewService=u,c.keybindingService=o,c.menuService=a,c.contextKeyService=s,c._contextMenuHandler=void 0,c._onDidShowContextMenu=c._store.add(new l.Q5),c._onDidHideContextMenu=c._store.add(new l.Q5),c}return(0,u.Z)(n,[{key:"contextMenuHandler",get:function(){return this._contextMenuHandler||(this._contextMenuHandler=new _(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}},{key:"configure",value:function(e){this.contextMenuHandler.configure(e)}},{key:"showContextMenu",value:function(e){var t=this;e=i.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:function(n){var i;null===(i=e.onHide)||void 0===i||i.call(e,n),t._onDidHideContextMenu.fire()}})),s.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}}]),n}(d.JT);x=w([A(0,g.b),A(1,p.lT),A(2,b.u),A(3,y.d),A(4,f.co),A(5,v.i6)],x),function(e){e.transform=function(e,t,n){if(!((i=e)&&i.menuId instanceof f.eH))return e;var i,r=e.menuId,u=e.menuActionOptions,o=e.contextKeyService;return Object.assign(Object.assign({},e),{getActions:function(){var i=[];if(r){var a=t.createMenu(r,null!==o&&void 0!==o?o:n);(0,h.LJ)(a,u,i),a.dispose()}return e.getActions?c.Z0.join(e.getActions(),i):i}})}}(i||(i={}))},92361:function(e,t,n){n.d(t,{i:function(){return u},u:function(){return r}});var i=n(64606),r=(0,i.yh)("contextViewService"),u=(0,i.yh)("contextMenuService")},87316:function(e,t,n){n.d(t,{g:function(){return h}});var i=n(15671),r=n(43144),u=n(60136),o=n(27277),a=n(64457),s=n(65096),c=n(67784),l=function(e,t,n,i){var r,u=arguments.length,o=u<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(u<3?r(o):u>3?r(t,n,o):r(t,n))||o);return u>3&&o&&Object.defineProperty(t,n,o),o},d=function(e,t){return function(n,i){t(n,i,e)}},h=function(e){(0,u.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).layoutService=e,r.currentViewDisposable=s.JT.None,r.container=e.hasContainer?e.container:null,r.contextView=r._register(new a.Ry(r.container,1)),r.layout(),r._register(e.onDidLayout((function(){return r.layout()}))),r}return(0,r.Z)(n,[{key:"setContainer",value:function(e,t){this.contextView.setContainer(e,t||1)}},{key:"showContextView",value:function(e,t,n){var i=this;t?t===this.container&&this.shadowRoot===n||(this.container=t,this.setContainer(t,n?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=n,this.contextView.show(e);var r=(0,s.OF)((function(){i.currentViewDisposable===r&&i.hideContextView()}));return this.currentViewDisposable=r,r}},{key:"getContextViewElement",value:function(){return this.contextView.getViewElement()}},{key:"layout",value:function(){this.contextView.layout()}},{key:"hideContextView",value:function(e){this.contextView.hide(e)}}]),n}(s.JT);h=l([d(0,c.F)],h)}}]);
//# sourceMappingURL=monaco-editor-vendor.d262a4b1.28298d76.js.map