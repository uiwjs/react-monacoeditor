{"version":3,"file":"static/js/monaco-editor-vendor.a666f4a9.3d2393e5.js","mappings":"qQASMA,EAAIC,EAAID,EACDE,EAAiC,CAC1CC,+BAA2BC,EAC3BC,+BAA2BD,EAC3BE,2BAAuBF,EACvBG,iCAA6BH,EAC7BI,2BAAuBJ,GAEdK,EAAe,WACxB,SAAAA,EAAYC,EAAWC,EAAIC,IAASC,EAAAA,EAAAA,GAAA,KAAAJ,GAChCK,KAAKH,GAAKA,EACVG,KAAKC,YAAc,IAAIC,IACvBF,KAAKF,QAAUA,GAAWK,OAAOC,OAAO,MACxC,IAAMC,EAAkBL,KAAKF,QAAQP,0BACrCS,KAAKM,QAAUnB,EAAIoB,OAAOX,EAAWV,EAAE,uBACnCmB,IACAL,KAAKM,QAAQE,MAAMC,MAAQJ,GAE/BL,KAAKU,eAAgB,EACrBd,EAAUe,YAAYX,KAAKM,QAC/B,CA2FC,OA3FAM,EAAAA,EAAAA,GAAAjB,EAAA,EAAAkB,IAAA,UAAAC,IACD,WACI,OAAOd,KAAKM,OAChB,GAAC,CAAAO,IAAA,MAAAE,MACD,SAAIC,EAAYC,GACRjB,KAAKU,eAAiBV,KAAKgB,aAAeA,GAAcrB,EAAgBuB,QAAQlB,KAAKiB,QAASA,KAGlGjB,KAAKgB,WAAaA,EAClBhB,KAAKiB,QAAUA,EACfjB,KAAKmB,SACT,GAAC,CAAAN,IAAA,SAAAE,MACD,WACI,IAAIK,EAEJ,GADApB,KAAKqB,QACDrB,KAAKgB,WAAY,CACjB,IAAMM,EAAStB,KAAKgB,WAAWO,YAC3BD,EAAO,IACPtB,KAAKwB,YAAYxB,KAAKM,QAASgB,EAAO,GAAItB,KAAKiB,QAAUjB,KAAKiB,QAAQQ,UAAY,MAEtF,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAOK,OAAQD,IAC/BvC,EAAIoB,OAAOP,KAAKM,QAASpB,EAAE,kDAA8CI,EAAW,MACpFU,KAAKwB,YAAYxB,KAAKM,QAASgB,EAAOI,GAAI1B,KAAKiB,QAAUjB,KAAKiB,QAAQW,UAAY,MAEtF,IAAMC,EAA8C,QAApCT,EAAKpB,KAAKF,QAAQgC,oBAAiC,IAAPV,GAAgBA,OAAc9B,EAAYU,KAAKgB,WAAWe,qBAAkBzC,OAC1HA,IAAVuC,EACA7B,KAAKM,QAAQuB,MAAQA,EAGrB7B,KAAKM,QAAQ0B,gBAAgB,QAErC,MACShC,KAAKF,SAAWE,KAAKF,QAAQmC,0BAClCjC,KAAKkC,cAAclC,KAAKM,SAE5BN,KAAKU,eAAgB,CACzB,GAAC,CAAAG,IAAA,QAAAE,MACD,WACI5B,EAAIgD,UAAUnC,KAAKM,SACnBN,KAAKC,YAAYoB,OACrB,GAAC,CAAAR,IAAA,cAAAE,MACD,SAAYqB,EAAQC,EAAOC,GACvB,IAAMC,EAAiBC,EAAAA,GAAgBD,eAAevC,KAAKH,IACvDwC,EAAMI,SACNzC,KAAK0C,UAAUN,EAAQG,EAAeE,QAASE,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMG,SAAUF,EAAeK,WAEpIP,EAAMQ,UACN7C,KAAK0C,UAAUN,EAAQG,EAAeM,SAAUF,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMO,UAAWN,EAAeK,WAEtIP,EAAMS,QACN9C,KAAK0C,UAAUN,EAAQG,EAAeO,OAAQH,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMQ,QAASP,EAAeK,WAElIP,EAAMU,SACN/C,KAAK0C,UAAUN,EAAQG,EAAeQ,QAASJ,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMS,SAAUR,EAAeK,WAExI,IAAMI,EAAWX,EAAMW,SACnBA,GACAhD,KAAK0C,UAAUN,EAAQY,EAAUL,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMW,SAAU,GAE/G,GAAC,CAAApC,IAAA,YAAAE,MACD,SAAUqB,EAAQc,EAAOC,EAAWP,GAChCzD,EAAIoB,OAAO6B,EAAQpC,KAAKoD,iBAAiBF,EAAOC,EAAY,aAAe,KACvEP,GACAzD,EAAIoB,OAAO6B,EAAQlD,EAAE,4CAAwCI,EAAWsD,GAEhF,GAAC,CAAA/B,IAAA,gBAAAE,MACD,SAAcqB,GACVjD,EAAIoB,OAAO6B,EAAQpC,KAAKoD,kBAAiBC,EAAAA,EAAAA,IAAS,UAAW,YACjE,GAAC,CAAAxC,IAAA,mBAAAE,MACD,SAAiBmC,GAAwB,IAC/BI,EAAapE,EAAE,8BADSqE,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,SAC+BjE,EAAW4D,GAc3E,OAbAlD,KAAKC,YAAYuD,IAAIF,GACjBtD,KAAKF,QAAQT,4BACbiE,EAAW9C,MAAMiD,gBAAkBzD,KAAKF,QAAQT,2BAEhDW,KAAKF,QAAQN,wBACb8D,EAAW9C,MAAMkD,YAAc1D,KAAKF,QAAQN,uBAE5CQ,KAAKF,QAAQL,8BACb6D,EAAW9C,MAAMmD,kBAAoB3D,KAAKF,QAAQL,6BAElDO,KAAKF,QAAQJ,wBACb4D,EAAW9C,MAAMoD,UAAY,kBAAHC,OAAqB7D,KAAKF,QAAQJ,wBAEzD4D,CACX,IAAC,EAAAzC,IAAA,UAAAE,MACD,SAAe+C,EAAGC,GACd,OAAID,IAAMC,IAAOD,IAAMC,KAGdD,KAAOC,IAAKC,EAAAA,EAAAA,IAAOF,EAAErC,UAAWsC,EAAEtC,aAAcuC,EAAAA,EAAAA,IAAOF,EAAElC,UAAWmC,EAAEnC,UACnF,KAACjC,CAAA,CAvGuB,E,kJCPtBsE,EAAa,WAEf,SAAAA,EAAYC,EAAUC,IAAepE,EAAAA,EAAAA,GAAA,KAAAkE,GACjCjE,KAAKkE,SAAWA,EAChBlE,KAAKmE,cAAgBA,CACzB,CA8BC,OA9BAvD,EAAAA,EAAAA,GAAAqD,EAAA,EAAApD,IAAA,aAAAC,IAJD,WAAmB,OAAOd,KAAKkE,SAASE,UAAY,GAAC,CAAAvD,IAAA,iBAAAE,MAKrD,SAAenB,GAEX,MAAO,CAAEyE,KADIrE,KAAKkE,SAASI,eAAe1E,GAC3B2E,WAAYC,EAAAA,GAAWC,KAC1C,GAAC,CAAA5D,IAAA,gBAAAE,MACD,SAAc2D,EAAOC,EAAGN,EAAMO,GAAQ,IAC9BxD,EAD8ByD,EAAA,KAGlC,GAD2B,QAA1BzD,EAAKiD,EAAKE,kBAA+B,IAAPnD,GAAyBA,EAAG0D,UAC1DT,EAAKA,KAAV,CAGA,IAAMU,EAAQ/E,KAAKmE,gBACnB,GAAIY,EAAMC,WAAWN,GACjB,OAAO1E,KAAKkE,SAASe,cAAcF,EAAMjE,IAAI4D,GAAQA,EAAOL,EAAKA,KAAMO,GAE3E,IAAMM,EAAM,IAAIC,EAAAA,EACVC,EAAUL,EAAMM,QAAQX,EAAOQ,EAAII,OACzCjB,EAAKE,WAAa,CAAEO,QAAS,kBAAMI,EAAIK,QAAQ,GAC/CvF,KAAKkE,SAASsB,kBAAkBd,EAAOL,EAAKA,MAC5Ce,EAAQK,MAAK,SAAAC,GAAK,OAAIb,EAAKX,SAASe,cAAcS,EAAOhB,EAAOL,EAAKA,KAAMO,EAAO,GATlF,CAUJ,GAAC,CAAA/D,IAAA,kBAAAE,MACD,SAAgBsD,GACRA,EAAKE,aACLF,EAAKE,WAAWO,UAChBT,EAAKE,gBAAajF,GAElB+E,EAAKA,OACLrE,KAAKkE,SAASyB,gBAAgBtB,EAAKA,MACnCA,EAAKA,UAAO/E,EAEpB,KAAC2E,CAAA,CAnCc,GAqCb2B,EAA0B,WAC5B,SAAAA,EAAYzB,EAAe0B,IAAuB9F,EAAAA,EAAAA,GAAA,KAAA6F,GAC9C5F,KAAKmE,cAAgBA,EACrBnE,KAAK6F,sBAAwBA,CACjC,CAUC,OAVAjF,EAAAA,EAAAA,GAAAgF,EAAA,EAAA/E,IAAA,qBAAAE,MACD,WACI,OAAOf,KAAK6F,sBAAsBC,oBACtC,GAAC,CAAAjF,IAAA,eAAAE,MACD,SAAa2D,GACT,IAAMK,EAAQ/E,KAAKmE,gBACnB,OAAKY,EAAMC,WAAWN,GAGf1E,KAAK6F,sBAAsB9D,aAAagD,EAAMjE,IAAI4D,IAF9C,IAGf,KAACkB,CAAA,CAd2B,GAmBzB,IAAMG,EAAS,WAClB,SAAAA,EAAYC,EAAMpG,EAAWqG,EAAiBC,GAAyB,IAAAC,EAAA,KAAdrG,EAAOyD,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,CAAC,GAACxD,EAAAA,EAAAA,GAAA,KAAAgG,GACjE,IAAM5B,EAAgB,WAAH,OAASgC,EAAKpB,KAAK,EAChCqB,EAAiBF,EAAUG,KAAI,SAAAC,GAAC,OAAI,IAAIrC,EAAcqC,EAAGnC,EAAc,IAC7EnE,KAAKuG,KAAO,IAAIC,EAAAA,GAAKR,EAAMpG,EAAWqG,EAAiBG,EAP/D,SAA8BjC,EAAerE,GACzC,OAAOK,OAAOsG,OAAOtG,OAAOsG,OAAO,CAAC,EAAG3G,GAAU,CAAE+F,sBAAuB/F,EAAQ+F,uBAAyB,IAAID,EAA2BzB,EAAerE,EAAQ+F,wBACrK,CAK+Ea,CAAqBvC,EAAerE,GAC/G,CA2CC,OA3CAc,EAAAA,EAAAA,GAAAmF,EAAA,EAAAlF,IAAA,gBAAAE,MACD,SAAcjB,GACVE,KAAKuG,KAAKI,cAAc7G,EAC5B,GAAC,CAAAe,IAAA,iBAAAE,MACD,WACI,OAAOf,KAAKuG,KAAKK,gBACrB,GAAC,CAAA/F,IAAA,aAAAC,IACD,WACI,OAAOd,KAAKuG,KAAKM,UACrB,GAAC,CAAAhG,IAAA,eAAAC,IACD,WACI,OAAOd,KAAKuG,KAAKO,YACrB,GAAC,CAAAjG,IAAA,kBAAAC,IACD,WAAsB,IAAAiG,EAAA,KAClB,OAAOC,EAAAA,GAAMX,IAAIrG,KAAKuG,KAAKU,iBAAiB,SAAAC,GAAA,IAAGC,EAAOD,EAAPC,QAASzC,EAAKwC,EAALxC,MAAO0C,EAAYF,EAAZE,aAAY,MAAQ,CAAED,aAAqB7H,IAAZ6H,OAAwB7H,EAAYyH,EAAKM,OAAOvG,IAAIqG,GAAUzC,MAAAA,EAAO0C,aAAAA,EAAc,GACrL,GAAC,CAAAvG,IAAA,YAAAC,IACD,WAAgB,IAAAwG,EAAA,KACZ,OAAON,EAAAA,GAAMX,IAAIrG,KAAKuG,KAAKgB,WAAW,SAAAC,GAAA,IAAGL,EAAOK,EAAPL,QAASzC,EAAK8C,EAAL9C,MAAO0C,EAAYI,EAAZJ,aAAY,MAAQ,CAAED,aAAqB7H,IAAZ6H,OAAwB7H,EAAYgI,EAAKD,OAAOvG,IAAIqG,GAAUzC,MAAAA,EAAO0C,aAAAA,EAAc,GAC/K,GAAC,CAAAvG,IAAA,uBAAAC,IACD,WAA2B,IAAA2G,EAAA,KACvB,OAAOT,EAAAA,GAAMX,IAAIrG,KAAKuG,KAAKmB,sBAAsB,SAAAC,GAAA,IAAGC,EAAQD,EAARC,SAAUC,EAAOF,EAAPE,QAAST,EAAYO,EAAZP,aAAY,MAAQ,CAAEQ,SAAUA,EAASvB,KAAI,SAAAyB,GAAC,OAAIL,EAAKJ,OAAOvG,IAAIgH,EAAE,IAAGD,QAAAA,EAAST,aAAAA,EAAc,GACzK,GAAC,CAAAvG,IAAA,QAAAC,IACD,WACI,OAAOd,KAAKqH,MAChB,EAACU,IACD,SAAUhD,GACN/E,KAAKqH,OAAStC,EACd/E,KAAKuG,KAAKyB,OAAO,EAAGhI,KAAKuG,KAAK5E,QAAQsG,EAAAA,EAAAA,IAAMlD,EAAMpD,QACtD,GAAC,CAAAd,IAAA,WAAAE,MACD,WACI,OAAOf,KAAKuG,KAAK2B,UACrB,GAAC,CAAArH,IAAA,eAAAE,MACD,WACI,OAAOf,KAAKuG,KAAK4B,cACrB,GAAC,CAAAtH,IAAA,sBAAAE,MACD,WAAsB,IAAAqH,EAAA,KAClB,OAAOpI,KAAKmI,eAAe9B,KAAI,SAAA3E,GAAC,OAAI0G,EAAKrD,MAAMjE,IAAIY,EAAE,GACzD,GAAC,CAAAb,IAAA,QAAAE,MACD,SAAMsH,GACFrI,KAAKuG,KAAK/F,MAAM6H,EACpB,GAAC,CAAAxH,IAAA,UAAAE,MACD,WACIf,KAAKuG,KAAKzB,SACd,KAACiB,CAAA,CAhDiB,E,qQCzDf,SAASuC,EAAeL,EAAOM,GAClC,IACsBC,EADhBC,EAAS,GAAGC,GAAAC,EAAAA,EAAAA,GACFJ,GAAM,IAAtB,IAAAG,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAAwB,KAAbxC,EAACkC,EAAAzH,MACR,KAAIkH,EAAMc,OAASzC,EAAE2B,MAAMe,KAA3B,CAGA,GAAIf,EAAMe,IAAM1C,EAAE2B,MAAMc,MACpB,MAEJ,IAAME,EAAeC,EAAAA,EAAMC,UAAUlB,EAAO3B,EAAE2B,OAC1CiB,EAAAA,EAAME,QAAQH,IAGlBR,EAAOY,KAAK,CACRpB,MAAOgB,EACPK,KAAMhD,EAAEgD,MAVZ,CAYJ,CAAC,OAAAC,GAAAb,EAAAZ,EAAAyB,EAAA,SAAAb,EAAAc,GAAA,CACD,OAAOf,CACX,CAIO,SAASgB,EAAKvC,EAAiBwC,GAClC,MAAO,CAAEX,MADgB7B,EAAL6B,MACIW,EAAMV,IADA9B,EAAH8B,IACcU,EAC7C,CA2BA,SAAS7F,IAAkB,QAAA8F,EAAApG,UAAA5B,OAAR4G,EAAM,IAAAqB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAANtB,EAAMsB,GAAAtG,UAAAsG,GACrB,OArBG,SAAqBtB,GACxB,IAE0BuB,EAFpBrB,EAAS,GACXsB,EAAgB,KAAKC,GAAArB,EAAAA,EAAAA,GACLJ,GAAM,IAA1B,IAAAyB,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAA4B,KAAjBmB,EAAKH,EAAA/I,MACNgI,EAAQkB,EAAMhC,MAAMc,MACpBC,EAAMiB,EAAMhC,MAAMe,IAClBM,EAAOW,EAAMX,KACfS,GAAiBT,IAASS,EAAcT,KACxCS,EAAc9B,MAAMe,IAAMA,GAG9Be,EAAgB,CAAE9B,MAAO,CAAEc,MAAAA,EAAOC,IAAAA,GAAOM,KAAAA,GACzCb,EAAOY,KAAKU,GAChB,CAAC,OAAAR,GAAAS,EAAAlC,EAAAyB,EAAA,SAAAS,EAAAR,GAAA,CACD,OAAOf,CACX,CAMWyB,CAAY3B,EAAO4B,QAAO,SAAC7D,EAAG8D,GAAC,OAAK9D,EAAEzC,OAAOuG,EAAE,GAAE,IAC5D,CACO,IAAMC,EAAQ,WACjB,SAAAA,KAActK,EAAAA,EAAAA,GAAA,KAAAsK,GACVrK,KAAKuI,OAAS,GACdvI,KAAKsK,MAAQ,CACjB,CA2EC,OA3EA1J,EAAAA,EAAAA,GAAAyJ,EAAA,EAAAxJ,IAAA,SAAAE,MACD,SAAO2D,EAAO6F,GAAyB,IAAZC,EAAKjH,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,GACzBkH,EAAOD,EAAM7I,OAAS4I,EACtBG,EAASpC,EAAe,CAAES,MAAO,EAAGC,IAAKtE,GAAS1E,KAAKuI,QACvDoC,EAAQrC,EAAe,CAAES,MAAOrE,EAAQ6F,EAAavB,IAAK4B,OAAOC,mBAAqB7K,KAAKuI,QAC5FlC,KAAI,SAAA+D,GAAC,MAAK,CAAEnC,MAAOwB,EAAMW,EAAEnC,MAAOwC,GAAOnB,KAAMc,EAAEd,KAAM,IACtDwB,EAASN,EAAMnE,KAAI,SAAC0E,EAAMrJ,GAAC,MAAM,CACnCuG,MAAO,CAAEc,MAAOrE,EAAQhD,EAAGsH,IAAKtE,EAAQhD,EAAI,GAC5C4H,KAAMyB,EAAKzB,KACd,IACDtJ,KAAKuI,OAAS1E,EAAO6G,EAAQI,EAAQH,GACrC3K,KAAKsK,MAAQtK,KAAKuI,OAAO4B,QAAO,SAACa,EAAGZ,GAAC,OAAKY,EAAKZ,EAAEd,MAAQc,EAAEnC,MAAMe,IAAMoB,EAAEnC,MAAMc,MAAO,GAAE,EAC5F,GACA,CAAAlI,IAAA,QAAAC,IAGA,WACI,IAAMmK,EAAMjL,KAAKuI,OAAO5G,OACxB,OAAKsJ,EAGEjL,KAAKuI,OAAO0C,EAAM,GAAGhD,MAAMe,IAFvB,CAGf,GACA,CAAAnI,IAAA,OAAAC,IAGA,WACI,OAAOd,KAAKsK,KAChB,GACA,CAAAzJ,IAAA,UAAAE,MAGA,SAAQmK,GACJ,GAAIA,EAAW,EACX,OAAQ,EAEZ,IAE+BC,EAF3BzG,EAAQ,EACR4E,EAAO,EAAE8B,GAAAzC,EAAAA,EAAAA,GACO3I,KAAKuI,QAAM,IAA/B,IAAA6C,EAAAxC,MAAAuC,EAAAC,EAAAvC,KAAAC,MAAiC,KAAtBmB,EAAKkB,EAAApK,MACNsK,EAAQpB,EAAMhC,MAAMe,IAAMiB,EAAMhC,MAAMc,MACtCuC,EAAUhC,EAAQ+B,EAAQpB,EAAMX,KACtC,GAAI4B,EAAWI,EACX,OAAO5G,EAAQ6G,KAAKC,OAAON,EAAW5B,GAAQW,EAAMX,MAExD5E,GAAS2G,EACT/B,EAAOgC,CACX,CAAC,OAAA/B,GAAA6B,EAAAtD,EAAAyB,EAAA,SAAA6B,EAAA5B,GAAA,CACD,OAAO9E,CACX,GACA,CAAA7D,IAAA,aAAAE,MAIA,SAAWmK,GACP,OAAOK,KAAKE,IAAIzL,KAAK0L,QAAQR,GAAY,EAAGlL,KAAKqL,MACrD,GACA,CAAAxK,IAAA,aAAAE,MAGA,SAAW2D,GACP,GAAIA,EAAQ,EACR,OAAQ,EAEZ,IAE+BiH,EAF3BT,EAAW,EACXG,EAAQ,EAAEO,GAAAjD,EAAAA,EAAAA,GACM3I,KAAKuI,QAAM,IAA/B,IAAAqD,EAAAhD,MAAA+C,EAAAC,EAAA/C,KAAAC,MAAiC,KAAtBmB,EAAK0B,EAAA5K,MACN8K,EAAa5B,EAAMhC,MAAMe,IAAMiB,EAAMhC,MAAMc,MAC3C+C,EAAWT,EAAQQ,EACzB,GAAInH,EAAQoH,EACR,OAAOZ,GAAaxG,EAAQ2G,GAASpB,EAAMX,KAE/C4B,GAAYW,EAAa5B,EAAMX,KAC/B+B,EAAQS,CACZ,CAAC,OAAAvC,GAAAqC,EAAA9D,EAAAyB,EAAA,SAAAqC,EAAApC,GAAA,CACD,OAAQ,CACZ,KAACa,CAAA,CA/EgB,GClDd,IAAM0B,EAAQ,WACjB,SAAAA,EAAY7F,IAAWnG,EAAAA,EAAAA,GAAA,KAAAgM,GACnB/L,KAAKkG,UAAYA,EACjBlG,KAAKgM,MAAQ,IAAIC,IACjBjM,KAAKkM,+BAAiC,IAAIhM,IAC1CF,KAAKmM,eAAgB,CACzB,CA8FC,OA7FDvL,EAAAA,EAAAA,GAAAmL,EAAA,EAAAlL,IAAA,QAAAE,MAMA,SAAMqD,GACF,IAAIqE,EAASzI,KAAKoM,iBAAiBhI,GAAYiI,MAC3CC,GAAU,EACd,GAAI7D,GACA6D,EAAUtM,KAAKkM,+BAA+BK,IAAI9D,EAAOnI,WAErDN,KAAKkM,+BAA+BM,OAAO/D,EAAOnI,aAGrD,CACD,IAAMA,GAAUpB,EAAAA,EAAAA,GAAE,oBAGlBuJ,EAAS,CAAEnI,QAAAA,EAAS8D,WAAAA,EAAYqI,aAFfzM,KAAK0M,YAAYtI,GACJE,eAAehE,GAEjD,CACA,MAAO,CAAEqM,IAAKlE,EAAQmE,0BAA2BN,EACrD,GACA,CAAAzL,IAAA,UAAAE,MAGA,SAAQ4L,GACCA,GAGL3M,KAAK6M,WAAWF,EACpB,GACA,CAAA9L,IAAA,WAAAE,MAGA,SAAS+L,GACL,GAAI9M,KAAKmM,cACL,MAAM,IAAIY,MAAM,0BAEpB/M,KAAKmM,eAAgB,EACrB,IACIW,GACJ,CAAC,QACO,IACqDtE,EADrDE,GAAAC,EAAAA,EAAAA,GACkB3I,KAAKkM,gCAA8B,IAAzD,IAAAxD,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAA2D,KAAhDxI,EAAOkI,EAAAzH,MACdf,KAAKgN,aAAa1M,EACtB,CAAC,OAAAiJ,GAAAb,EAAAZ,EAAAyB,EAAA,SAAAb,EAAAc,GAAA,CACDxJ,KAAKkM,+BAA+B7K,QACpCrB,KAAKmM,eAAgB,CACzB,CACJ,GAAC,CAAAtL,IAAA,aAAAE,MACD,SAAW4L,GACP,IAAQrM,EAAwBqM,EAAxBrM,QAAS8D,EAAeuI,EAAfvI,WACb9D,IACIN,KAAKmM,cACLnM,KAAKkM,+BAA+B1I,IAAIlD,GAGxCN,KAAKgN,aAAa1M,IAGZN,KAAKoM,iBAAiBhI,GAC9BiF,KAAKsD,EACf,GAAC,CAAA9L,IAAA,eAAAE,MACD,SAAaT,GACTA,EAAQ2M,UAAUC,OAAO,aAjFjC,SAA0B/F,GACtB,IAAI/F,EACJ,IACqC,QAAhCA,EAAK+F,EAAQgG,qBAAkC,IAAP/L,GAAyBA,EAAGgM,YAAYjG,EACrF,CACA,MAAOW,GACH,CAER,CA0EQuF,CAAiB/M,EACrB,GAAC,CAAAO,IAAA,mBAAAE,MACD,SAAiBqD,GACb,IAAIqE,EAASzI,KAAKgM,MAAMlL,IAAIsD,GAK5B,OAJKqE,IACDA,EAAS,GACTzI,KAAKgM,MAAMjE,IAAI3D,EAAYqE,IAExBA,CACX,GAAC,CAAA5H,IAAA,UAAAE,MACD,WAAU,IAAA8D,EAAA,KACN7E,KAAKgM,MAAMsB,SAAQ,SAACC,EAAYnJ,GAAe,IACT0F,EADSE,GAAArB,EAAAA,EAAAA,GACnB4E,GAAU,IAAlC,IAAAvD,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAAoC,KAAzB0E,EAAS1D,EAAA/I,MACC8D,EAAK6H,YAAYtI,GACzBuB,gBAAgB6H,EAAUf,cACnCe,EAAUf,aAAe,IAC7B,CAAC,OAAAlD,GAAAS,EAAAlC,EAAAyB,EAAA,SAAAS,EAAAR,GAAA,CACL,IACAxJ,KAAKgM,MAAM3K,QACXrB,KAAKkM,+BAA+B7K,OACxC,GAAC,CAAAR,IAAA,cAAAE,MACD,SAAYqD,GACR,IAAMF,EAAWlE,KAAKkG,UAAUpF,IAAIsD,GACpC,IAAKF,EACD,MAAM,IAAI6I,MAAM,yBAADlJ,OAA0BO,IAE7C,OAAOF,CACX,KAAC6H,CAAA,CApGgB,G,WCVjB0B,EAA0C,SAAUC,EAAYC,EAAQ9M,EAAK+M,GAC7E,IAA2HC,EAAvHC,EAAIvK,UAAU5B,OAAQ2E,EAAIwH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOzN,OAAO4N,yBAAyBJ,EAAQ9M,GAAO+M,EACrH,GAAuB,kBAAZI,SAAoD,oBAArBA,QAAQC,SAAyB3H,EAAI0H,QAAQC,SAASP,EAAYC,EAAQ9M,EAAK+M,QACpH,IAAK,IAAIlM,EAAIgM,EAAW/L,OAAS,EAAGD,GAAK,EAAGA,KAASmM,EAAIH,EAAWhM,MAAI4E,GAAKwH,EAAI,EAAID,EAAEvH,GAAKwH,EAAI,EAAID,EAAEF,EAAQ9M,EAAKyF,GAAKuH,EAAEF,EAAQ9M,KAASyF,GAChJ,OAAOwH,EAAI,GAAKxH,GAAKnG,OAAO+N,eAAeP,EAAQ9M,EAAKyF,GAAIA,CAChE,EAgBM6H,EAAY,CACdC,4BAAwB9O,GAEtB+O,EAAiB,CACnBC,YAAY,EACZC,mBAAoB,EACpBC,kBAAkB,EAClBC,cAAc,EACdC,uBAAuB,EACvBC,IAAK,CACDC,gBAAe,SAAC9G,GAAK,MAAO,CAACA,EAAI,EACjC+G,WAAU,WAAK,OAAO,IAAM,EAC5BC,YAAW,WAAK,EAChBC,WAAU,WAAK,OAAO,CAAO,EAC7BC,KAAI,WAAK,GAEbC,qBAAqB,EACrBC,uBAAuB,EACvBC,yBAAyB,GAEhBC,EAAuB,WAChC,SAAAA,EAAYxH,IAAU7H,EAAAA,EAAAA,GAAA,KAAAqP,GAClBpP,KAAK4H,SAAWA,CACpB,CAIC,OAJAhH,EAAAA,EAAAA,GAAAwO,EAAA,EAAAvO,IAAA,SAAAE,MACD,WAAW,GAAC,CAAAF,IAAA,UAAAE,MACZ,WACI,OAAOf,KAAK4H,QAChB,KAACwH,CAAA,CAP+B,GASvBC,EAA+B,WACxC,SAAAA,EAAYzH,IAAU7H,EAAAA,EAAAA,GAAA,KAAAsP,GAClBrP,KAAK4H,SAAWA,CACpB,CAIC,OAJAhH,EAAAA,EAAAA,GAAAyO,EAAA,EAAAxO,IAAA,SAAAE,MACD,WAAW,GAAC,CAAAF,IAAA,UAAAE,MACZ,WACI,OAAOf,KAAK4H,QAChB,KAACyH,CAAA,CAPuC,GAS/BC,EAAqB,WAC9B,SAAAA,KAAcvP,EAAAA,EAAAA,GAAA,KAAAuP,GACVtP,KAAKuP,MAAQ,GACbvP,KAAKwP,MAAQ,EACjB,CAoBC,OApBA5O,EAAAA,EAAAA,GAAA0O,EAAA,EAAAzO,IAAA,SAAAE,MACD,SAAO0O,GACqB,IAAAC,EAApBD,EAAaF,QACbG,EAAA1P,KAAKuP,OAAMvH,OAAM2H,MAAAD,EAAA,CAAC,EAAG1P,KAAKuP,MAAM5N,QAAMkC,QAAA+L,EAAAA,EAAAA,GAAKH,EAAaF,SAE5D,GAAIE,EAAaD,MAAO,CACpBxP,KAAKwP,MAAMxH,OAAO,EAAGhI,KAAKwP,MAAM7N,QAChC,IAAK,IAAID,EAAI,EAAGA,EAAI+N,EAAaD,MAAM7N,OAAQD,IAAK,CAChD,IAAMmO,EAAOJ,EAAaD,MAAMzE,KAAKrJ,GACjCmO,IAASA,EAAKvG,MAAQuG,EAAKC,OAC3B9P,KAAKwP,MAAMnG,KAAKwG,EAExB,CACJ,CACJ,GAAC,CAAAhP,IAAA,UAAAE,MACD,WACI,MAAO,CACHwO,MAAOvP,KAAKuP,MACZC,MAAOxP,KAAKwP,MAEpB,KAACF,CAAA,CAxB6B,GA+BjC,IACKS,GAA6BnP,EAAAA,EAAAA,IAC/B,SAAAmP,EAAYlK,IAAuB9F,EAAAA,EAAAA,GAAA,KAAAgQ,IACD,OAA1BlK,QAA4D,IAA1BA,OAAmC,EAASA,EAAsBmK,YACpGhQ,KAAKgQ,WAAanK,EAAsBmK,WAAWC,KAAKpK,GAGxD7F,KAAKgQ,WAAa,SAAClI,EAAGpG,EAAGwO,GAAC,OAAKA,CAAC,GAEN,OAA1BrK,QAA4D,IAA1BA,OAAmC,EAASA,EAAsBsK,aACpGnQ,KAAKmQ,YAActK,EAAsBsK,YAAYF,KAAKpK,GAG1D7F,KAAKmQ,YAAc,SAACrI,EAAGpG,GAAC,OAAKA,EAAI,CAAC,GAER,OAA1BmE,QAA4D,IAA1BA,OAAmC,EAASA,EAAsBuK,SACpGpQ,KAAKoQ,QAAUvK,EAAsBuK,QAAQH,KAAKpK,GAGlD7F,KAAKoQ,QAAU,SAAAzL,GAAC,MAAI,UAAU,GAEJ,OAA1BkB,QAA4D,IAA1BA,OAAmC,EAASA,EAAsBwK,WACpGrQ,KAAKqQ,UAAYxK,EAAsBwK,UAAUJ,KAAKpK,GAGtD7F,KAAKqQ,UAAY,SAAA1L,GAAc,CAEvC,IAYS2L,EAAQ,WA0BjB,SAAAA,EAAY1Q,EAAWqG,EAAiBC,GAAqC,IACrE9E,EAAImP,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EADyBpM,EAAA,KAA1B/E,EAAOyD,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG8K,EAmBzD,IAnBuEtO,EAAAA,EAAAA,GAAA,KAAAuQ,GAEvEtQ,KAAKiG,gBAAkBA,EACvBjG,KAAKkR,MAAQ,WAAHrN,SAAgByM,EAASa,eACnCnR,KAAKkG,UAAY,IAAI+F,IACrBjM,KAAKoR,YAAc,EACnBpR,KAAKqR,cAAgB,EACrBrR,KAAKsR,kCAAoC,KACzCtR,KAAKuR,8BAAgC,IAAIC,EAAAA,GAAQ,IACjDxR,KAAKyR,UAAW,EAChBzR,KAAK0R,gCAAkClN,EAAAA,GAAWC,KAClDzE,KAAK2R,eAAiB,EACtB3R,KAAK4R,SAAU,EACf5R,KAAK6R,8BAAgCrN,EAAAA,GAAWC,KAChDzE,KAAK8R,mBAAqBtN,EAAAA,GAAWC,KACrCzE,KAAK+R,YAAc,IAAIC,EAAAA,GACvBhS,KAAKiS,0BAA4B,IAAIC,EAAAA,GACrClS,KAAKmS,yBAA2B,IAAID,EAAAA,GACpClS,KAAKoS,sBAAuB,EACxBtS,EAAQmP,qBAAuBnP,EAAQ4O,sBACvC,MAAM,IAAI3B,MAAM,yEAEpB/M,KAAKwK,MAAQ,GACbxK,KAAKqS,OAAS,EACdrS,KAAKsS,SAAW,IAAIjI,EAAW,IACC7B,EADDE,GAAAC,EAAAA,EAAAA,GACRzC,GAAS,IAAhC,IAAAwC,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAAkC,KAAvB5E,EAAQsE,EAAAzH,MACff,KAAKkG,UAAU6B,IAAI7D,EAASE,WAAYF,EAC5C,CAAC,OAAAqF,GAAAb,EAAAZ,EAAAyB,EAAA,SAAAb,EAAAc,GAAA,CACDxJ,KAAKgM,MAAQhM,KAAK+R,YAAYvO,IAAI,IAAIuI,EAAS/L,KAAKkG,YACpDlG,KAAKuS,cAAgB,EACrBvS,KAAKwS,iBAAmB,EACxBxS,KAAKM,QAAUmS,SAASC,cAAc,OACtC1S,KAAKM,QAAQqS,UAAY,cACzB3S,KAAKM,QAAQ2M,UAAUzJ,IAAIxD,KAAKkR,OAChClR,KAAKM,QAAQsS,SAAW,EACxB5S,KAAKM,QAAQ2M,UAAU4F,OAAO,gBAAiD,mBAAzB/S,EAAQgT,cAA6BhT,EAAQgT,cACnG9S,KAAKoS,qBAA8D,QAAtChR,EAAKtB,EAAQmP,2BAAwC,IAAP7N,EAAgBA,EAAKiN,EAAeY,oBAC/GjP,KAAKM,QAAQ2M,UAAU4F,OAAO,uBAAwB7S,KAAKoS,sBAC3DpS,KAAK+S,uBAAmE,qBAAnCjT,EAAQiT,uBAAyC,EAAIjT,EAAQiT,uBAClG/S,KAAK6F,sBAAwB,IAAIkK,EAA8BjQ,EAAQ+F,uBACvE7F,KAAKgT,cAAgBP,SAASC,cAAc,OAC5C1S,KAAKgT,cAAcL,UAAY,oBACwC,QAAxCpC,EAAKzQ,EAAQoP,6BAA0C,IAAPqB,EAAgBA,EAAKlC,EAAea,yBAE/GlP,KAAKgT,cAAcxS,MAAMyS,UAAY,6BACrCjT,KAAKgT,cAAcxS,MAAM0S,SAAW,SACpClT,KAAKgT,cAAcxS,MAAM2S,QAAU,UAEvCnT,KAAK+R,YAAYvO,IAAI4P,EAAAA,EAAQC,UAAUrT,KAAKgT,gBAC5ChT,KAAKsT,WAAa,IAAIC,EAAAA,GAAW,CAC7BC,oBAAoB,EACpBC,qBAA0D,QAAlCjD,EAAK1Q,EAAQ4T,uBAAoC,IAAPlD,GAAgBA,EAAc,IAAM,EACtGmD,6BAA8B,SAAAC,GAAE,OAAID,EAAAA,EAAAA,8BAA6BC,EAAG,IAExE5T,KAAK6T,kBAAoB7T,KAAK+R,YAAYvO,IAAI,IAAIsQ,EAAAA,GAAwB9T,KAAKgT,cAAe,CAC1F7D,wBAAoE,QAA1CsB,EAAK3Q,EAAQqP,+BAA4C,IAAPsB,EAAgBA,EAAKpC,EAAec,wBAChH4E,WAAY,EACZC,SAAgD,QAArCtD,EAAK5Q,EAAQyO,0BAAuC,IAAPmC,EAAgBA,EAAKrC,EAAeE,mBAC5FD,WAA0C,QAA7BqC,EAAK7Q,EAAQwO,kBAA+B,IAAPqC,EAAgBA,EAAKtC,EAAeC,WACtF2F,4BAA6BnU,EAAQmU,4BACrCC,sBAAuBpU,EAAQoU,sBAC/BC,aAAcrU,EAAQqU,cACvBnU,KAAKsT,aACRtT,KAAKM,QAAQK,YAAYX,KAAK6T,kBAAkBO,cAChDxU,EAAUe,YAAYX,KAAKM,SAC3BN,KAAK6T,kBAAkBQ,SAASrU,KAAKqU,SAAUrU,KAAMA,KAAK+R,aAC1D/R,KAAK+R,YAAYvO,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAKgT,cAAeuB,EAAAA,EAAeC,QAAQ,SAAA1M,GAAC,OAAIjD,EAAK4P,cAAc3M,EAAE,KAGhH9H,KAAK+R,YAAYvO,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAK6T,kBAAkBO,aAAc,UAAU,SAAAtM,GAAC,OAAIA,EAAE6F,OAAO+G,UAAY,CAAC,KACrH1U,KAAK+R,YAAYvO,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAKM,QAAS,YAAY,SAAAwH,GAAC,OAAIjD,EAAKkK,WAAWlK,EAAK8P,YAAY7M,GAAG,KAC9G9H,KAAK+R,YAAYvO,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAKM,QAAS,QAAQ,SAAAwH,GAAC,OAAIjD,EAAK+P,OAAO/P,EAAK8P,YAAY7M,GAAG,KACtG9H,KAAK+R,YAAYvO,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAKM,QAAS,aAAa,SAAAwH,GAAC,OAAIjD,EAAKgQ,YAAYhQ,EAAK8P,YAAY7M,GAAG,KAChH9H,KAAK+R,YAAYvO,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAKM,QAAS,WAAW,SAAAwH,GAAC,OAAIjD,EAAKiQ,UAAUhN,EAAE,KAC1F9H,KAAKwO,iBAAuD,QAAnCoC,EAAK9Q,EAAQ0O,wBAAqC,IAAPoC,EAAgBA,EAAKvC,EAAeG,iBACxGxO,KAAKyO,aAA+C,QAA/BoC,EAAK/Q,EAAQ2O,oBAAiC,IAAPoC,EAAgBA,EAAKxC,EAAeI,aAChGzO,KAAK0O,sBAAiE,QAAxCoC,EAAKhR,EAAQ4O,6BAA0C,IAAPoC,EAAgBA,EAAKzC,EAAeK,sBAClH1O,KAAK2O,IAA6B,QAAtBoC,EAAKjR,EAAQ6O,WAAwB,IAAPoC,EAAgBA,EAAK1C,EAAeM,IAC9E3O,KAAK+U,OAAsC,QAA9B/D,EAAKlR,EAAQkV,mBAAgC,IAAPhE,OAAgB,EAASA,EAAGpM,OAAuC,QAA9BqM,EAAKnR,EAAQkV,mBAAgC,IAAP/D,OAAgB,EAASA,EAAGgE,MAC9J,CAuxBC,OAvxBArU,EAAAA,EAAAA,GAAA0P,EAAA,EAAAzP,IAAA,gBAAAC,IAxGD,WAAsB,OAAOd,KAAKsS,SAAShJ,IAAM,GAAC,CAAAzI,IAAA,sBAAAC,IAClD,WAA4B,OAAOd,KAAKoS,oBAAsB,EAACrK,IAC/D,SAAwBhH,GACpB,GAAIA,IAAUf,KAAKoS,qBAAnB,CAGA,GAAIrR,GAASf,KAAK0O,sBACd,MAAM,IAAI3B,MAAM,yEAIpB,GAFA/M,KAAKoS,qBAAuBrR,EAC5Bf,KAAKM,QAAQ2M,UAAU4F,OAAO,uBAAwB7S,KAAKoS,sBACvDpS,KAAKoS,qBAAsB,KACEtI,EADFE,GAAArB,EAAAA,EAAAA,GACR3I,KAAKwK,OAAK,IAA7B,IAAAR,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAA+B,KAApBiC,EAAIjB,EAAA/I,MACXf,KAAKkV,iBAAiBnK,EAC1B,CAAC,OAAAxB,GAAAS,EAAAlC,EAAAyB,EAAA,SAAAS,EAAAR,GAAA,CACDxJ,KAAKmV,oBACLnV,KAAK6T,kBAAkBuB,oBAAoB,CAAEH,OAAOI,EAAAA,EAAAA,iBAAgBrV,KAAKM,WACzEN,KAAKgT,cAAcxS,MAAMyU,MAAQ,GAAHpR,OAAM0H,KAAK+J,IAAItV,KAAKuV,aAAe,EAAGvV,KAAKoR,aAAY,KACzF,MAEIpR,KAAKuR,8BAA8BhM,SACnCvF,KAAK6T,kBAAkBuB,oBAAoB,CAAEH,MAAOjV,KAAKoR,YAAamE,YAAavV,KAAKoR,cACxFpR,KAAKgT,cAAcxS,MAAMyU,MAAQ,EAjBrC,CAmBJ,GAAC,CAAApU,IAAA,gBAAAE,MAiFD,SAAcjB,GAWV,IAAI0V,OAVmClW,IAAnCQ,EAAQiT,yBACR/S,KAAK+S,uBAAyBjT,EAAQiT,uBACtC/S,KAAK6T,kBAAkBuB,oBAAoB,CAAEK,aAAczV,KAAKyV,qBAEpCnW,IAA5BQ,EAAQ4T,iBACR1T,KAAKsT,WAAWoC,wBAAwB5V,EAAQ4T,gBAAkB,IAAM,QAExCpU,IAAhCQ,EAAQmP,sBACRjP,KAAKiP,oBAAsBnP,EAAQmP,0BAGV3P,IAAzBQ,EAAQqU,eACRqB,EAAoBrV,OAAOsG,OAAOtG,OAAOsG,OAAO,CAAC,EAA0B,OAAtB+O,QAAoD,IAAtBA,EAA+BA,EAAoB,CAAC,GAAK,CAAErB,aAAcrU,EAAQqU,qBAE5H7U,IAAxCQ,EAAQmU,8BACRuB,EAAoBrV,OAAOsG,OAAOtG,OAAOsG,OAAO,CAAC,EAA0B,OAAtB+O,QAAoD,IAAtBA,EAA+BA,EAAoB,CAAC,GAAK,CAAEvB,4BAA6BnU,EAAQmU,oCAEjJ3U,IAAlCQ,EAAQoU,wBACRsB,EAAoBrV,OAAOsG,OAAOtG,OAAOsG,OAAO,CAAC,EAA0B,OAAtB+O,QAAoD,IAAtBA,EAA+BA,EAAoB,CAAC,GAAK,CAAEtB,sBAAuBpU,EAAQoU,yBAE7KsB,GACAxV,KAAK6T,kBAAkBlN,cAAc6O,EAE7C,GAAC,CAAA3U,IAAA,SAAAE,MACD,SAAOgI,EAAOwB,GAA4B,IAAf3C,EAAQrE,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,GAClC,GAAIvD,KAAKyR,SACL,MAAM,IAAI1E,MAAM,gCAEpB/M,KAAKyR,UAAW,EAChB,IACI,OAAOzR,KAAK2V,QAAQ5M,EAAOwB,EAAa3C,EAC5C,CAAC,QAEG5H,KAAKyR,UAAW,EAChBzR,KAAKiS,0BAA0B2D,KAAK5V,KAAK6V,cAC7C,CACJ,GAAC,CAAAhV,IAAA,UAAAE,MACD,SAAQgI,EAAOwB,GAMX,IANuC,IAAApE,EAAA,KAAfyB,EAAQrE,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,GAC7BuS,EAAsB9V,KAAK+V,eAAe/V,KAAKuS,cAAevS,KAAKwS,kBACnEwD,EAAc,CAAEjN,MAAAA,EAAOC,IAAKD,EAAQwB,GACpC0L,EAAc/M,EAAAA,EAAMC,UAAU2M,EAAqBE,GAEnDE,EAAgB,IAAIjK,IACjBvK,EAAIuU,EAAYjN,IAAM,EAAGtH,GAAKuU,EAAYlN,MAAOrH,IAAK,CAC3D,IAAMqJ,EAAO/K,KAAKwK,MAAM9I,GAGxB,GAFAqJ,EAAKoL,oBAAoBrR,UACzBiG,EAAKqL,kBAAkBtR,UACnBiG,EAAK4B,IAAK,CACV,IAAI0J,EAAOH,EAAcpV,IAAIiK,EAAK3G,YAC7BiS,IACDA,EAAO,GACPH,EAAcnO,IAAIgD,EAAK3G,WAAYiS,IAEvC,IAAMnS,EAAWlE,KAAKkG,UAAUpF,IAAIiK,EAAK3G,YACrCF,GAAYA,EAASoS,gBACrBpS,EAASoS,eAAevL,EAAK5D,QAASzF,EAAGqJ,EAAK4B,IAAIF,aAAc1B,EAAKzB,MAEzE+M,EAAKhN,KAAK0B,EAAK4B,IACnB,CACA5B,EAAK4B,IAAM,IACf,CACA,IAiBI4J,EAQCC,EAzBCC,EAAoB,CAAE1N,MAAOA,EAAQwB,EAAavB,IAAKhJ,KAAKwK,MAAM7I,QAClE+U,EAA4BxN,EAAAA,EAAMC,UAAUsN,EAAmBX,GAC/Da,EAA+BzN,EAAAA,EAAM0N,mBAAmBH,EAAmBX,GAC3Ee,EAAWjP,EAASvB,KAAI,SAAAc,GAAO,MAAK,CACtC2P,GAAIC,OAAO5Q,EAAKkM,UAChBlL,QAAAA,EACA/C,WAAY+B,EAAKF,gBAAgB+Q,cAAc7P,GAC/CmC,KAAMnD,EAAKF,gBAAgBgR,UAAU9P,GACrC8N,WAAO3V,EACP4X,mBAAoB/Q,EAAKF,gBAAgBiR,kBAAoB/Q,EAAKF,gBAAgBiR,iBAAiB/P,GACnGgQ,4BAAwB7X,EACxBqN,IAAK,KACLyK,SAAK9X,EACL+X,YAAY,EACZlB,oBAAqB3R,EAAAA,GAAWC,KAChC2R,kBAAmB5R,EAAAA,GAAWC,KACjC,IAGa,IAAVsE,GAAewB,GAAevK,KAAKwK,MAAM7I,QACzC3B,KAAKsS,SAAW,IAAIjI,EACpBrK,KAAKsS,SAAStK,OAAO,EAAG,EAAG6O,GAC3BN,EAAUvW,KAAKwK,MACfxK,KAAKwK,MAAQqM,IAGb7W,KAAKsS,SAAStK,OAAOe,EAAOwB,EAAasM,GACzCN,GAAUC,EAAAxW,KAAKwK,OAAMxC,OAAM2H,MAAA6G,EAAA,CAACzN,EAAOwB,GAAW1G,QAAA+L,EAAAA,EAAAA,GAAKiH,MAMvD,IAJA,IAAMS,EAAQ1P,EAASjG,OAAS4I,EAC1BgN,EAAcvX,KAAK+V,eAAe/V,KAAKuS,cAAevS,KAAKwS,kBAC3DgF,EAAoB/N,EAAMiN,EAA2BY,GACrDG,EAAcvO,EAAAA,EAAMC,UAAUoO,EAAaC,GACxC9V,EAAI+V,EAAY1O,MAAOrH,EAAI+V,EAAYzO,IAAKtH,IACjD1B,KAAK0X,gBAAgB1X,KAAKwK,MAAM9I,GAAIA,GAExC,IACgCyJ,EAD1BwM,EAAezO,EAAAA,EAAM0N,mBAAmBY,EAAmBD,GAAanM,GAAAzC,EAAAA,EAAAA,GAC1DgP,GAAY,IAAhC,IAAAvM,EAAAxC,MAAAuC,EAAAC,EAAAvC,KAAAC,MACI,IAD8B,IAAvBb,EAAKkD,EAAApK,MACHW,EAAIuG,EAAMc,MAAOrH,EAAIuG,EAAMe,IAAKtH,IACrC1B,KAAK4X,kBAAkBlW,EAE9B,OAAA6H,GAAA6B,EAAAtD,EAAAyB,EAAA,SAAA6B,EAAA5B,GAAA,CACD,IAIgCmC,EAJ1BkM,EAAuBlB,EAA6BtQ,KAAI,SAAAC,GAAC,OAAImD,EAAMnD,EAAGgR,EAAM,IAE5EQ,EAAe,CADC,CAAE/O,MAAAA,EAAOC,IAAKD,EAAQnB,EAASjG,SAClBkC,QAAA+L,EAAAA,EAAAA,GAAKiI,IAAsBxR,KAAI,SAAAC,GAAC,OAAI4C,EAAAA,EAAMC,UAAUoO,EAAajR,EAAE,IAChGyR,EAAgB/X,KAAKgY,qBAAqBF,GAAclM,GAAAjD,EAAAA,EAAAA,GAC1CmP,GAAY,IAAhC,IAAAlM,EAAAhD,MAAA+C,EAAAC,EAAA/C,KAAAC,MACI,IAD8B,IAAvBb,EAAK0D,EAAA5K,MACHW,EAAIuG,EAAMc,MAAOrH,EAAIuG,EAAMe,IAAKtH,IAAK,CAC1C,IAAMqJ,EAAO/K,KAAKwK,MAAM9I,GAClB2U,EAAOH,EAAcpV,IAAIiK,EAAK3G,YAC9BuI,EAAe,OAAT0J,QAA0B,IAATA,OAAkB,EAASA,EAAKhK,MAC7DrM,KAAKiY,gBAAgBvW,EAAGqW,EAAepL,EAC3C,CACH,OAAApD,GAAAqC,EAAA9D,EAAAyB,EAAA,SAAAqC,EAAApC,GAAA,KACwC0O,EADxCC,GAAAxP,EAAAA,EAAAA,GACkBuN,EAAckC,UAAQ,IAAzC,IAAAD,EAAAvP,MAAAsP,EAAAC,EAAAtP,KAAAC,MAA2C,KACjBuP,EADfhC,EAAI6B,EAAAnX,MAAAuX,GAAA3P,EAAAA,EAAAA,GACO0N,GAAI,IAAtB,IAAAiC,EAAA1P,MAAAyP,EAAAC,EAAAzP,KAAAC,MAAwB,KAAb6D,EAAG0L,EAAAtX,MACVf,KAAKgM,MAAMuM,QAAQ5L,EACvB,CAAC,OAAApD,GAAA+O,EAAAxQ,EAAAyB,EAAA,SAAA+O,EAAA9O,GAAA,CACL,CAAC,OAAAD,GAAA4O,EAAArQ,EAAAyB,EAAA,SAAA4O,EAAA3O,GAAA,CAKD,OAJAxJ,KAAKwY,mCACDxY,KAAK0O,uBACL1O,KAAKyY,UAAUzY,KAAK0U,UAAW1U,KAAK0Y,cAEjCnC,EAAQlQ,KAAI,SAAA3E,GAAC,OAAIA,EAAEyF,OAAO,GACrC,GAAC,CAAAtG,IAAA,mCAAAE,MACD,WAAmC,IAAAgG,EAAA,KAC/B/G,KAAKqR,cAAgBrR,KAAK6V,cAC1B7V,KAAKgT,cAAcxS,MAAMoE,OAAS,GAAHf,OAAM7D,KAAKqR,cAAa,MAClDrR,KAAKsR,oCACNtR,KAAKsR,mCAAoCqC,EAAAA,EAAAA,+BAA6B,WAClE5M,EAAK8M,kBAAkBuB,oBAAoB,CAAEK,aAAc1O,EAAK0O,eAChE1O,EAAKoO,oBACLpO,EAAKuK,kCAAoC,IAC7C,IAER,GAAC,CAAAzQ,IAAA,8BAAAE,MACD,WAA8B,IAAAuG,EAAA,KACrBtH,KAAKiP,oBAIVjP,KAAKuR,8BAA8BoH,SAAQ,kBAAMrR,EAAK6N,mBAAmB,IAHrEnV,KAAKuR,8BAA8BhM,QAI3C,GAAC,CAAA1E,IAAA,oBAAAE,MACD,WACI,GAAKf,KAAKiP,oBAAV,CAGA,IAC6B2J,EADzBrD,EAAc,EAAEsD,GAAAlQ,EAAAA,EAAAA,GACD3I,KAAKwK,OAAK,IAA7B,IAAAqO,EAAAjQ,MAAAgQ,EAAAC,EAAAhQ,KAAAC,MAA+B,KAApBiC,EAAI6N,EAAA7X,MACe,qBAAfgK,EAAKkK,QACZM,EAAchK,KAAK+J,IAAIC,EAAaxK,EAAKkK,OAEjD,CAAC,OAAA1L,GAAAsP,EAAA/Q,EAAAyB,EAAA,SAAAsP,EAAArP,GAAA,CACDxJ,KAAKuV,YAAcA,EACnBvV,KAAK6T,kBAAkBuB,oBAAoB,CAAEG,YAA6B,IAAhBA,EAAoB,EAAKA,EAAc,KACjGvV,KAAKmS,yBAAyByD,KAAK5V,KAAKuV,YATxC,CAUJ,GAAC,CAAA1U,IAAA,WAAAE,MACD,WACI,GAAKf,KAAK0O,sBAAV,CAEC,IAC4BoK,EAD5BC,GAAApQ,EAAAA,EAAAA,GACkB3I,KAAKwK,OAAK,IAA7B,IAAAuO,EAAAnQ,MAAAkQ,EAAAC,EAAAlQ,KAAAC,MAA+B,CAAhBgQ,EAAA/X,MACNoW,4BAAyB7X,CAClC,CAAC,OAAAiK,GAAAwP,EAAAjR,EAAAyB,EAAA,SAAAwP,EAAAvP,GAAA,CACDxJ,KAAKyY,UAAUzY,KAAKuS,cAAevS,KAAKwS,iBAJxC,CAKJ,GAAC,CAAA3R,IAAA,SAAAC,IACD,WACI,OAAOd,KAAKwK,MAAM7I,MACtB,GAAC,CAAAd,IAAA,eAAAC,IACD,WAEI,OADyBd,KAAK6T,kBAAkBmF,sBACxBpU,MAC5B,GAAC,CAAA/D,IAAA,oBAAAC,IACD,WACI,IAAMmH,EAAQjI,KAAK+V,eAAe/V,KAAKuS,cAAevS,KAAKwS,kBACrDyG,EAAajZ,KAAKsS,SAAS4G,WAAWjR,EAAMc,OAC5CoQ,EAAYnZ,KAAKsS,SAAS4G,WAAWjR,EAAMc,MAAQ,GACzD,IAAmB,IAAfoQ,IACyBA,EAAYF,GAAc,EAAIA,EACjCjZ,KAAK0U,UACvB,OAAOzM,EAAMc,MAAQ,EAG7B,OAAOd,EAAMc,KACjB,GAAC,CAAAlI,IAAA,UAAAE,MACD,SAAQ2D,GACJ,OAAO1E,KAAKwK,MAAM9F,GAAOyC,OAC7B,GAAC,CAAAtG,IAAA,aAAAE,MACD,SAAW2D,GACP,IAAMiI,EAAM3M,KAAKwK,MAAM9F,GAAOiI,IAC9B,OAAOA,GAAOA,EAAIrM,OACtB,GAAC,CAAAO,IAAA,gBAAAE,MACD,SAAc2D,GACV,OAAO1E,KAAKwK,MAAM9F,GAAO4E,IAC7B,GAAC,CAAAzI,IAAA,aAAAE,MACD,SAAW2D,GACP,OAAO1E,KAAKsS,SAAS4G,WAAWxU,EACpC,GAAC,CAAA7D,IAAA,UAAAE,MACD,SAAQmK,GACJ,OAAOlL,KAAKsS,SAAS5G,QAAQR,EACjC,GAAC,CAAArK,IAAA,aAAAE,MACD,SAAWmK,GACP,OAAOlL,KAAKsS,SAAS8G,WAAWlO,EACpC,GAAC,CAAArK,IAAA,SAAAE,MACD,SAAO6D,EAAQqQ,GACX,IAAMoE,EAAmB,CACrBzU,OAA0B,kBAAXA,EAAsBA,GAAS0U,EAAAA,EAAAA,kBAAiBtZ,KAAKM,UAEpEN,KAAKsR,oCACLtR,KAAKsR,kCAAkCxM,UACvC9E,KAAKsR,kCAAoC,KACzC+H,EAAiB5D,aAAezV,KAAKyV,cAEzCzV,KAAK6T,kBAAkBuB,oBAAoBiE,GACtB,qBAAVpE,IACPjV,KAAKoR,YAAc6D,EACfjV,KAAK0O,uBACL1O,KAAKyY,UAAUzY,KAAK0U,UAAW1U,KAAK0Y,eAGxC1Y,KAAKiP,qBACLjP,KAAK6T,kBAAkBuB,oBAAoB,CACvCH,MAAwB,kBAAVA,EAAqBA,GAAQI,EAAAA,EAAAA,iBAAgBrV,KAAKM,UAG5E,GACA,CAAAO,IAAA,SAAAE,MACA,SAAO+U,EAAqByD,EAAWb,EAAcc,EAAYjE,GAAuC,IAAA9N,EAAA,KAA1BgS,EAAgBlW,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,IAAAA,UAAA,GACpFgU,EAAcvX,KAAK+V,eAAewD,EAAWb,GAC7CgB,EAAiBxQ,EAAAA,EAAM0N,mBAAmBW,EAAazB,GACvD6D,EAAiBzQ,EAAAA,EAAM0N,mBAAmBd,EAAqByB,GAC/DQ,EAAgB/X,KAAKgY,qBAAqB0B,GAChD,GAAID,EAEA,IADA,IAAMG,EAAiB1Q,EAAAA,EAAMC,UAAU2M,EAAqByB,GACnD7V,EAAIkY,EAAe7Q,MAAOrH,EAAIkY,EAAe5Q,IAAKtH,IACvD1B,KAAK0X,gBAAgB1X,KAAKwK,MAAM9I,GAAIA,GAG5C1B,KAAKgM,MAAM6N,UAAS,WAAM,IACYC,EADZC,GAAApR,EAAAA,EAAAA,GACFgR,GAAc,IAAlC,IAAAI,EAAAnR,MAAAkR,EAAAC,EAAAlR,KAAAC,MACI,IADgC,IAAzBb,EAAK6R,EAAA/Y,MACHW,EAAIuG,EAAMc,MAAOrH,EAAIuG,EAAMe,IAAKtH,IACrC+F,EAAKmQ,kBAAkBlW,EAE9B,OAAA6H,GAAAwQ,EAAAjS,EAAAyB,EAAA,SAAAwQ,EAAAvQ,GAAA,KACiCwQ,EADjCC,GAAAtR,EAAAA,EAAAA,GACmB+Q,GAAc,IAAlC,IAAAO,EAAArR,MAAAoR,EAAAC,EAAApR,KAAAC,MACI,IADgC,IAAzBb,EAAK+R,EAAAjZ,MACHW,EAAIuG,EAAMc,MAAOrH,EAAIuG,EAAMe,IAAKtH,IACrC+F,EAAKwQ,gBAAgBvW,EAAGqW,EAE/B,OAAAxO,GAAA0Q,EAAAnS,EAAAyB,EAAA,SAAA0Q,EAAAzQ,GAAA,CACL,SACmBlK,IAAfka,IACAxZ,KAAKgT,cAAcxS,MAAM0Z,KAAO,IAAHrW,OAAO2V,EAAU,OAElDxZ,KAAKgT,cAAcxS,MAAM2Z,IAAM,IAAHtW,OAAO0V,EAAS,MACxCvZ,KAAKiP,0BAAuC3P,IAAhBiW,IAC5BvV,KAAKgT,cAAcxS,MAAMyU,MAAQ,GAAHpR,OAAM0H,KAAK+J,IAAIC,EAAavV,KAAKoR,aAAY,OAE/EpR,KAAKuS,cAAgBgH,EACrBvZ,KAAKwS,iBAAmBkG,CAC5B,GACA,CAAA7X,IAAA,kBAAAE,MACA,SAAgB2D,EAAOqT,EAAepL,GAAK,IAAAvE,EAAA,KACjC2C,EAAO/K,KAAKwK,MAAM9F,GACpB4H,GAAU,EACd,IAAKvB,EAAK4B,IACN,GAAIA,EACA5B,EAAK4B,IAAMA,MAEV,CACD,IAAMlE,EAASzI,KAAKgM,MAAMoO,MAAMrP,EAAK3G,YACrC2G,EAAK4B,IAAMlE,EAAOkE,IAClBL,EAAU7D,EAAOmE,yBACrB,CAEJ,IAAMyN,EAAOra,KAAK6F,sBAAsBuK,QAAQrF,EAAK5D,UAAY,WACjE4D,EAAK4B,IAAIrM,QAAQga,aAAa,OAAQD,GACtC,IAAME,EAAUva,KAAK6F,sBAAsBwK,UAAUtF,EAAK5D,SAC1D,GAAuB,mBAAZoT,EACPxP,EAAK4B,IAAIrM,QAAQga,aAAa,eAAgBvD,SAASwD,SAEtD,GAAIA,EAAS,CACd,IAAMC,EAAS,SAACD,GAAO,OAAKxP,EAAK4B,IAAIrM,QAAQga,aAAa,eAAgBvD,SAASwD,GAAS,EAC5FC,EAAOD,EAAQxZ,OACfgK,EAAKqL,kBAAoBmE,EAAQE,YAAYD,EACjD,EACIlO,GAAYvB,EAAK4B,IAAIrM,QAAQ6M,gBACzB4K,EACA/X,KAAKgT,cAAc0H,aAAa3P,EAAK4B,IAAIrM,QAASyX,GAGlD/X,KAAKgT,cAAcrS,YAAYoK,EAAK4B,IAAIrM,UAGhDN,KAAK0X,gBAAgB3M,EAAMrG,GAC3B,IAAMR,EAAWlE,KAAKkG,UAAUpF,IAAIiK,EAAK3G,YACzC,IAAKF,EACD,MAAM,IAAI6I,MAAM,qCAADlJ,OAAsCkH,EAAK3G,aAEjD,OAAbF,QAAkC,IAAbA,GAA+BA,EAASe,cAAc8F,EAAK5D,QAASzC,EAAOqG,EAAK4B,IAAIF,aAAc1B,EAAKzB,MAC5H,IAAM8N,EAAMpX,KAAK2O,IAAIE,WAAW9D,EAAK5D,SACrC4D,EAAKoL,oBAAoBrR,UACzBiG,EAAK4B,IAAIrM,QAAQqa,YAAcvD,EAC3BA,IACArM,EAAKoL,qBAAsB7B,EAAAA,EAAAA,uBAAsBvJ,EAAK4B,IAAIrM,QAAS,aAAa,SAAAsa,GAAK,OAAIxS,EAAK0G,YAAY/D,EAAK5D,QAASiQ,EAAKwD,EAAM,KAEnI5a,KAAKiP,sBACLjP,KAAKkV,iBAAiBnK,GACtB/K,KAAK6a,8BAEb,GAAC,CAAAha,IAAA,mBAAAE,MACD,SAAiBgK,GACb,GAAKA,EAAK4B,KAAQ5B,EAAK4B,IAAIrM,QAA3B,CAGAyK,EAAK4B,IAAIrM,QAAQE,MAAMyU,MAAQ,cAC/BlK,EAAKkK,OAAQI,EAAAA,EAAAA,iBAAgBtK,EAAK4B,IAAIrM,SACtC,IAAME,EAAQsa,OAAOC,iBAAiBhQ,EAAK4B,IAAIrM,SAC3CE,EAAMwa,cACNjQ,EAAKkK,OAASgG,WAAWza,EAAMwa,cAE/Bxa,EAAM0a,eACNnQ,EAAKkK,OAASgG,WAAWza,EAAM0a,eAEnCnQ,EAAK4B,IAAIrM,QAAQE,MAAMyU,MAAQ,EAV/B,CAWJ,GAAC,CAAApU,IAAA,kBAAAE,MACD,SAAgBgK,EAAMrG,GAClBqG,EAAK4B,IAAIrM,QAAQE,MAAM2Z,IAAM,GAAHtW,OAAM7D,KAAKmb,WAAWzW,GAAM,MAClD1E,KAAKyO,eACL1D,EAAK4B,IAAIrM,QAAQE,MAAMoE,OAAS,GAAHf,OAAMkH,EAAKzB,KAAI,OAE5CtJ,KAAKwO,mBACLzD,EAAK4B,IAAIrM,QAAQE,MAAM4a,WAAa,GAAHvX,OAAMkH,EAAKzB,KAAI,OAEpDyB,EAAK4B,IAAIrM,QAAQga,aAAa,aAAc,GAAFzW,OAAKa,IAC/CqG,EAAK4B,IAAIrM,QAAQga,aAAa,oBAAqB5V,IAAU1E,KAAK2B,OAAS,EAAI,OAAS,SACxFoJ,EAAK4B,IAAIrM,QAAQga,aAAa,cAAe5V,EAAQ,IAAM,EAAI,OAAS,OACxEqG,EAAK4B,IAAIrM,QAAQga,aAAa,eAAgBvD,OAAO/W,KAAK6F,sBAAsBmK,WAAWjF,EAAK5D,QAASzC,EAAO1E,KAAK2B,UACrHoJ,EAAK4B,IAAIrM,QAAQga,aAAa,gBAAiBvD,OAAO/W,KAAK6F,sBAAsBsK,YAAYpF,EAAK5D,QAASzC,KAC3GqG,EAAK4B,IAAIrM,QAAQga,aAAa,KAAMta,KAAKqb,gBAAgB3W,IACzDqG,EAAK4B,IAAIrM,QAAQ2M,UAAU4F,OAAO,cAAe9H,EAAKsM,WAC1D,GAAC,CAAAxW,IAAA,oBAAAE,MACD,SAAkB2D,GACd,IAAMqG,EAAO/K,KAAKwK,MAAM9F,GAGxB,GAFAqG,EAAKoL,oBAAoBrR,UACzBiG,EAAKqL,kBAAkBtR,UACnBiG,EAAK4B,IAAK,CACV,IAAMzI,EAAWlE,KAAKkG,UAAUpF,IAAIiK,EAAK3G,YACrCF,GAAYA,EAASoS,gBACrBpS,EAASoS,eAAevL,EAAK5D,QAASzC,EAAOqG,EAAK4B,IAAIF,aAAc1B,EAAKzB,MAE7EtJ,KAAKgM,MAAMuM,QAAQxN,EAAK4B,KACxB5B,EAAK4B,IAAM,IACf,CACI3M,KAAKiP,qBACLjP,KAAK6a,6BAEb,GAAC,CAAAha,IAAA,eAAAE,MACD,WAEI,OADuBf,KAAK6T,kBAAkByH,oBACxB5G,SAC1B,GAAC,CAAA7T,IAAA,eAAAE,MACD,SAAa2T,EAAW6G,GAChBvb,KAAKsR,oCACLtR,KAAKsR,kCAAkCxM,UACvC9E,KAAKsR,kCAAoC,KACzCtR,KAAK6T,kBAAkBuB,oBAAoB,CAAEK,aAAczV,KAAKyV,gBAEpEzV,KAAK6T,kBAAkB2H,kBAAkB,CAAE9G,UAAAA,EAAW6G,eAAAA,GAC1D,GAAC,CAAA1a,IAAA,YAAAC,IACD,WACI,OAAOd,KAAKyb,cAChB,EAAC1T,IACD,SAAc2M,GACV1U,KAAK0b,aAAahH,EACtB,GAAC,CAAA7T,IAAA,eAAAC,IACD,WACI,OAAOd,KAAKqR,eAAiBrR,KAAKiP,oBAAsB,GAAK,GAAKjP,KAAK+S,sBAC3E,GACA,CAAAlS,IAAA,eAAAC,IACA,WAAmB,IAAA6a,EAAA,KAAE,OAAO3U,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,UAAUsa,OAAO,SAAA9S,GAAC,OAAI6T,EAAKE,aAAa/T,EAAE,GAAE9H,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,kBAAAC,IACxJ,WAAsB,IAAAgb,EAAA,KAAE,OAAO9U,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,aAAasa,OAAO,SAAA9S,GAAC,OAAIgU,EAAKD,aAAa/T,EAAE,GAAE9H,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,qBAAAC,IAC9J,WAAyB,IAAAib,EAAA,KAAE,OAAO/U,EAAAA,GAAMgV,OAAOhV,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,aAAasa,OAAO,SAAA9S,GAAC,OAAIiU,EAAKF,aAAa/T,EAAE,GAAE9H,KAAK+R,cAAc,SAAAjK,GAAC,OAA8B,IAA1BA,EAAEV,aAAa6U,MAAY,GAAEjc,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,cAAAC,IACnO,WAAkB,IAAAob,EAAA,KAAE,OAAOlV,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,cAAcsa,OAAO,SAAA9S,GAAC,OAAIoU,EAAKL,aAAa/T,EAAE,GAAE9H,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,cAAAC,IAC3J,WAAkB,IAAAqb,EAAA,KAAE,OAAOnV,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,cAAcsa,OAAO,SAAA9S,GAAC,OAAIqU,EAAKN,aAAa/T,EAAE,GAAE9H,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,aAAAC,IAC3J,WAAiB,IAAAsb,EAAA,KAAE,OAAOpV,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,aAAasa,OAAO,SAAA9S,GAAC,OAAIsU,EAAKP,aAAa/T,EAAE,GAAE9H,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,gBAAAC,IACzJ,WAAoB,IAAAub,EAAA,KAAE,OAAOrV,EAAAA,GAAMsV,IAAItV,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,gBAAgBsa,OAAO,SAAA9S,GAAC,OAAIuU,EAAKR,aAAa/T,EAAE,GAAE9H,KAAK+R,aAAc/K,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAASiU,EAAAA,EAAegI,cAAc3B,OAAO,SAAA9S,GAAC,OAAIuU,EAAKG,eAAe1U,EAAE,GAAE9H,KAAK+R,aAAe,GAAC,CAAAlR,IAAA,eAAAC,IAC1T,WAAmB,IAAA2b,EAAA,KAAE,OAAOzV,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKM,QAAS,eAAesa,OAAO,SAAA9S,GAAC,OAAI2U,EAAKC,aAAa5U,EAAE,GAAE9H,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,QAAAC,IAC7J,WAAY,IAAA6b,EAAA,KAAE,OAAO3V,EAAAA,GAAMX,IAAIrG,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAKgT,cAAeuB,EAAAA,EAAeqI,MAAMhC,OAAO,SAAA9S,GAAC,OAAI6U,EAAKH,eAAe1U,EAAE,GAAE9H,KAAK+R,YAAc,GAAC,CAAAlR,IAAA,eAAAE,MACpK,SAAaqG,GACT,IAAM1C,EAAQ1E,KAAK6c,4BAA4BzV,EAAauG,QAAU,MAChE5C,EAAwB,qBAAVrG,OAAwBpF,EAAYU,KAAKwK,MAAM9F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd4D,GAAQA,EAAK5D,QAEjC,GAAC,CAAAtG,IAAA,eAAAE,MACD,SAAaqG,GACT,IAAM1C,EAAQ1E,KAAK6c,4BAA4BzV,EAAauG,QAAU,MAChE5C,EAAwB,qBAAVrG,OAAwBpF,EAAYU,KAAKwK,MAAM9F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd4D,GAAQA,EAAK5D,QAEjC,GAAC,CAAAtG,IAAA,iBAAAE,MACD,SAAeqG,GACX,IAAM1C,EAAQ1E,KAAK6c,4BAA4BzV,EAAa0V,eAAiB,MACvE/R,EAAwB,qBAAVrG,OAAwBpF,EAAYU,KAAKwK,MAAM9F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd4D,GAAQA,EAAK5D,QAEjC,GAAC,CAAAtG,IAAA,cAAAE,MACD,SAAYqG,GACR,IAAM1C,EAAQ1E,KAAK6c,4BAA4BzV,EAAauG,QAAU,MAChE5C,EAAwB,qBAAVrG,OAAwBpF,EAAYU,KAAKwK,MAAM9F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd4D,GAAQA,EAAK5D,QAEjC,GAAC,CAAAtG,IAAA,WAAAE,MACD,SAAS+G,GACL,IACI,IAAMgO,EAAsB9V,KAAK+V,eAAe/V,KAAKuS,cAAevS,KAAKwS,kBACzExS,KAAKmB,OAAO2U,EAAqBhO,EAAE4M,UAAW5M,EAAElD,OAAQkD,EAAEiV,WAAYjV,EAAEyN,aACpEvV,KAAK0O,uBACL1O,KAAKyY,UAAU3Q,EAAE4M,UAAW5M,EAAElD,OAAQkD,EAAEkV,kBAEhD,CACA,MAAOzT,GAEH,MADA0T,QAAQC,MAAM,wBAAyBpV,GACjCyB,CACV,CACJ,GAAC,CAAA1I,IAAA,gBAAAE,MACD,SAAc6Z,GACVA,EAAMuC,iBACNvC,EAAMwC,kBACNpd,KAAK0U,WAAakG,EAAMyC,YAC5B,GACA,CAAAxc,IAAA,cAAAE,MACA,SAAYoG,EAASiQ,EAAKwD,GACtB,IAAIxZ,EAAImP,EACR,GAAKqK,EAAMnL,aAAX,CAGA,IAAM7H,EAAW5H,KAAK2O,IAAIC,gBAAgBzH,GAG1C,GAFAyT,EAAMnL,aAAa6N,cAAgB,WACnC1C,EAAMnL,aAAa8N,QAAQC,EAAAA,EAAcC,KAAMrG,GAC3CwD,EAAMnL,aAAaiO,aAAc,CACjC,IAAIxa,EACAlD,KAAK2O,IAAIgP,eACTza,EAAQlD,KAAK2O,IAAIgP,aAAa/V,EAAUgT,IAEvB,qBAAV1X,IACPA,EAAQ6T,OAAOnP,EAASjG,SAE5B,IAAMic,GAAY1e,EAAAA,EAAAA,GAAE,sBACpB0e,EAAUC,YAAc3a,EACxB,IAMMtD,EANwB,SAACkI,GAC3B,KAAOA,IAAMA,EAAEmF,UAAU6Q,SAAS,qBAC9BhW,EAAIA,EAAEqF,cAEV,OAAOrF,GAAK2K,SAASsL,IACzB,CACkBC,CAAsBhe,KAAKM,SAC7CV,EAAUe,YAAYid,GACtBhD,EAAMnL,aAAaiO,aAAaE,GAAY,IAAK,IACjDK,YAAW,kBAAMre,EAAUwN,YAAYwQ,EAAU,GAAE,EACvD,CACA5d,KAAKM,QAAQ2M,UAAUzJ,IAAI,YAC3BxD,KAAKke,gBAAkB,IAAI9O,EAAwBxH,GACnDuG,EAAUC,uBAAyB,IAAIiB,EAAgCzH,GAChC,QAAtC2I,GAAMnP,EAAKpB,KAAK2O,KAAKG,mBAAgC,IAAPyB,GAAyBA,EAAG4N,KAAK/c,EAAIpB,KAAKke,gBAAiBtD,EA5B1G,CA6BJ,GAAC,CAAA/Z,IAAA,aAAAE,MACD,SAAW6Z,GAAO,IACVxZ,EADUgd,EAAA,KAId,GAFAxD,EAAMxT,aAAa+V,iBACnBnd,KAAK8R,mBAAmBhN,UACpBqJ,EAAUC,wBAAyE,cAA/CD,EAAUC,uBAAuBiQ,UACrE,OAAO,EAGX,GADAre,KAAKse,mCAAmC1D,EAAMxT,eACzCwT,EAAMxT,aAAaqI,aACpB,OAAO,EAGX,IAAKzP,KAAKke,gBACN,GAAI/P,EAAUC,uBAEVpO,KAAKke,gBAAkB/P,EAAUC,2BAEhC,CAED,IAAKwM,EAAMxT,aAAaqI,aAAaF,MACjC,OAAO,EAEXvP,KAAKke,gBAAkB,IAAI5O,CAC/B,CAEJ,IAQIiP,EA1oBgBC,EAAIC,EAkoBlBhW,EAASzI,KAAK2O,IAAII,WAAW/O,KAAKke,gBAAiBtD,EAAMzT,QAASyT,EAAMlW,MAAOkW,EAAMxT,cAE3F,GADApH,KAAK4R,QAA4B,mBAAXnJ,EAAuBA,EAASA,EAAOiW,QACxD1e,KAAK4R,QAGN,OAFA5R,KAAK2e,yBAAsBrf,EAC3BU,KAAK6R,8BAA8B/M,WAC5B,EAkBX,GAhBA8V,EAAMxT,aAAaqI,aAAamP,WAAgC,mBAAXnW,GAA0C,IAAlBA,EAAOoW,OAA8C,OAAS,OAGvIN,EADkB,mBAAX9V,GAAwBA,EAAO8V,SAC3B9V,EAAO8V,SAGS,qBAAhB3D,EAAMlW,MACF,EAAE,GAGF,CAACkW,EAAMlW,OAK1B6Z,GAA4B,KAD5BA,GAAWO,EAAAA,EAAAA,IAASP,GAAUvC,QAAO,SAAAta,GAAC,OAAIA,IAAM,GAAKA,EAAI0c,EAAKzc,MAAM,IAAEod,MAAK,SAACjb,EAAGC,GAAC,OAAKD,EAAIC,CAAC,KACtE,GAAY,EAAE,GAAKwa,EAxpBnBC,EAypBGxe,KAAK2e,oBAzpBJF,EAypByBF,EAxpBjD3U,MAAMoV,QAAQR,IAAO5U,MAAMoV,QAAQP,IAC5Bza,EAAAA,EAAAA,IAAOwa,EAAIC,GAEfD,IAAOC,EAspBN,OAAO,EAIX,GAFAze,KAAK2e,oBAAsBJ,EAC3Bve,KAAK6R,8BAA8B/M,WACd,IAAjByZ,EAAS,GACTve,KAAKM,QAAQ2M,UAAUzJ,IAAI,eAC3BxD,KAAKgT,cAAc/F,UAAUzJ,IAAI,eACjCxD,KAAK6R,+BAAgCoN,EAAAA,EAAAA,KAAa,WAC9Cb,EAAK9d,QAAQ2M,UAAUC,OAAO,eAC9BkR,EAAKpL,cAAc/F,UAAUC,OAAO,cACxC,QAEC,KAC2BgS,EAD3BC,GAAAxW,EAAAA,EAAAA,GACmB4V,GAAQ,IAA5B,IAAAY,EAAAvW,MAAAsW,EAAAC,EAAAtW,KAAAC,MAA8B,KAAnBpE,EAAKwa,EAAAne,MACNgK,EAAO/K,KAAKwK,MAAM9F,GACxBqG,EAAKsM,YAAa,EACE,QAAnBjW,EAAK2J,EAAK4B,WAAwB,IAAPvL,GAAyBA,EAAGd,QAAQ2M,UAAUzJ,IAAI,cAClF,CAAC,OAAA+F,GAAA4V,EAAArX,EAAAyB,EAAA,SAAA4V,EAAA3V,GAAA,CACDxJ,KAAK6R,+BAAgCoN,EAAAA,EAAAA,KAAa,WAC9C,IAAI7d,EACwBge,EADrBC,GAAA1W,EAAAA,EAAAA,GACa4V,GAAQ,IAA5B,IAAAc,EAAAzW,MAAAwW,EAAAC,EAAAxW,KAAAC,MAA8B,KAAnBpE,EAAK0a,EAAAre,MACNgK,EAAOqT,EAAK5T,MAAM9F,GACxBqG,EAAKsM,YAAa,EACE,QAAnBjW,EAAK2J,EAAK4B,WAAwB,IAAPvL,GAAyBA,EAAGd,QAAQ2M,UAAUC,OAAO,cACrF,CAAC,OAAA3D,GAAA8V,EAAAvX,EAAAyB,EAAA,SAAA8V,EAAA7V,GAAA,CACL,GACJ,CACA,OAAO,CACX,GAAC,CAAA3I,IAAA,cAAAE,MACD,SAAY6Z,GAAO,IACXxZ,EAAImP,EADO+O,EAAA,KAEftf,KAAK8R,mBAAmBhN,UACxB9E,KAAK8R,oBAAqByN,EAAAA,EAAAA,KAAkB,kBAAMD,EAAKE,uBAAuB,GAAE,KAC5Exf,KAAKke,kBACkC,QAAtC3N,GAAMnP,EAAKpB,KAAK2O,KAAKkG,mBAAgC,IAAPtE,GAAyBA,EAAG4N,KAAK/c,EAAIpB,KAAKke,gBAAiBtD,EAAMzT,QAASyT,EAAMlW,MAAOkW,EAAMxT,cAEpJ,GAAC,CAAAvG,IAAA,SAAAE,MACD,SAAO6Z,GACH,GAAK5a,KAAK4R,QAAV,CAGA,IAAM6N,EAAWzf,KAAKke,gBACtBle,KAAK0f,wCACL1f,KAAKwf,wBACLxf,KAAKM,QAAQ2M,UAAUC,OAAO,YAC9BlN,KAAKke,qBAAkB5e,EACvB6O,EAAUC,4BAAyB9O,EAC9BmgB,GAAa7E,EAAMxT,aAAaqI,eAGrCmL,EAAMxT,aAAa+V,iBACnBsC,EAASjF,OAAOI,EAAMxT,aAAaqI,cACnCzP,KAAK2O,IAAIK,KAAKyQ,EAAU7E,EAAMzT,QAASyT,EAAMlW,MAAOkW,EAAMxT,cAZ1D,CAaJ,GAAC,CAAAvG,IAAA,YAAAE,MACD,SAAU6Z,GACN,IAAIxZ,EAAImP,EACRvQ,KAAK4R,SAAU,EACf5R,KAAK0f,wCACL1f,KAAKwf,wBACLxf,KAAKM,QAAQ2M,UAAUC,OAAO,YAC9BlN,KAAKke,qBAAkB5e,EACvB6O,EAAUC,4BAAyB9O,EACE,QAApCiR,GAAMnP,EAAKpB,KAAK2O,KAAKmG,iBAA8B,IAAPvE,GAAyBA,EAAG4N,KAAK/c,EAAIwZ,EACtF,GAAC,CAAA/Z,IAAA,wBAAAE,MACD,WACIf,KAAK2e,yBAAsBrf,EAC3BU,KAAK6R,8BAA8B/M,UACnC9E,KAAK6R,8BAAgCrN,EAAAA,GAAWC,IACpD,GACA,CAAA5D,IAAA,qCAAAE,MACA,SAAmC6Z,GAAO,IAAA+E,EAAA,KACtC,IAAK3f,KAAK4f,4BAA6B,CACnC,IAAMC,GAAUC,EAAAA,EAAAA,kBAAiB9f,KAAKM,SAAS6Z,IAC/Cna,KAAK4f,6BAA8BG,EAAAA,EAAAA,SAAQ/f,KAAKggB,4BAA4B/P,KAAKjQ,KAAM6f,GAC3F,CACA7f,KAAK0R,gCAAgC5M,UACrC9E,KAAK0R,iCAAkC6N,EAAAA,EAAAA,KAAkB,WACjDI,EAAKC,8BACLD,EAAKC,4BAA4B9a,UACjC6a,EAAKC,iCAA8BtgB,EAE3C,GAAG,KACHU,KAAK2R,eAAiBiJ,EAAMqF,KAChC,GAAC,CAAApf,IAAA,8BAAAE,MACD,SAA4B8e,GACxB,QAA4BvgB,IAAxBU,KAAK2R,eAAT,CAGA,IAAMlH,EAAOzK,KAAK2R,eAAiBkO,EAC7BK,EAAalgB,KAAK0Y,aAAe,GACnCjO,EAAO,GACPzK,KAAK0U,WAAanJ,KAAK+J,KAAK,GAAI/J,KAAKC,MAAM,IAAOf,EAAO,MAEpDA,EAAOyV,IACZlgB,KAAK0U,WAAanJ,KAAKE,IAAI,GAAIF,KAAKC,MAAM,IAAOf,EAAOyV,KAP5D,CASJ,GAAC,CAAArf,IAAA,wCAAAE,MACD,WACIf,KAAK0R,gCAAgC5M,UACjC9E,KAAK4f,8BACL5f,KAAK4f,4BAA4B9a,UACjC9E,KAAK4f,iCAA8BtgB,EAE3C,GACA,CAAAuB,IAAA,8BAAAE,MACA,SAA4B4M,GAGxB,IAFA,IAAMkG,EAAoB7T,KAAK6T,kBAAkBO,aAC7CjN,EAAUwG,EACPxG,aAAmBgZ,aAAehZ,IAAYnH,KAAKgT,eAAiBa,EAAkBiK,SAAS3W,IAAU,CAC5G,IAAMiZ,EAAWjZ,EAAQkZ,aAAa,cACtC,GAAID,EAAU,CACV,IAAM1b,EAAQkG,OAAOwV,GACrB,IAAKE,MAAM5b,GACP,OAAOA,CAEf,CACAyC,EAAUA,EAAQgG,aACtB,CAEJ,GAAC,CAAAtM,IAAA,iBAAAE,MACD,SAAewY,EAAWb,GACtB,MAAO,CACH3P,MAAO/I,KAAKsS,SAAS5G,QAAQ6N,GAC7BvQ,IAAKhJ,KAAKsS,SAAS8G,WAAWG,EAAYb,EAAe,GAEjE,GACA,CAAA7X,IAAA,YAAAE,MAIA,SAAUwY,EAAWb,EAAcsE,GAC/B,IAGIuD,EACAC,EAJE1K,EAAsB9V,KAAK+V,eAAewD,EAAWb,GAKvDa,IAAcvZ,KAAKmb,WAAWrF,EAAoB/M,QAClDwX,EAAqBzK,EAAoB/M,MACzCyX,EAAwB,GAEnB1K,EAAoB9M,IAAM8M,EAAoB/M,MAAQ,IAC3DwX,EAAqBzK,EAAoB/M,MAAQ,EACjDyX,EAAwBxgB,KAAKmb,WAAWoF,GAAsBhH,GAGlE,IADA,IAAIkH,EAAa,IACJ,CAGT,IAFA,IAAMlJ,EAAcvX,KAAK+V,eAAewD,EAAWb,GAC/CgI,GAAY,EACPhf,EAAI6V,EAAYxO,MAAOrH,EAAI6V,EAAYvO,IAAKtH,IAAK,CACtD,IAAM+I,EAAOzK,KAAK2gB,mBAAmBjf,GACxB,IAAT+I,GACAzK,KAAKsS,SAAStK,OAAOtG,EAAG,EAAG,CAAC1B,KAAKwK,MAAM9I,KAE3C+e,GAAchW,EACdiW,EAAYA,GAAsB,IAATjW,CAC7B,CACA,IAAKiW,EAAW,CACO,IAAfD,GACAzgB,KAAKwY,mCAET,IACkCoI,EAD5BC,EAAiB3X,EAAAA,EAAM0N,mBAAmBd,EAAqByB,GAAauJ,GAAAnY,EAAAA,EAAAA,GAC9DkY,GAAc,IAAlC,IAAAC,EAAAlY,MAAAgY,EAAAE,EAAAjY,KAAAC,MACI,IADgC,IAAzBb,EAAK2Y,EAAA7f,MACHW,EAAIuG,EAAMc,MAAOrH,EAAIuG,EAAMe,IAAKtH,IACjC1B,KAAKwK,MAAM9I,GAAGiL,KACd3M,KAAK4X,kBAAkBlW,EAGlC,OAAA6H,GAAAuX,EAAAhZ,EAAAyB,EAAA,SAAAuX,EAAAtX,GAAA,CACD,IACgCuX,EAD1BC,EAAe9X,EAAAA,EAAM0N,mBAAmBW,EAAazB,GAAqBmL,GAAAtY,EAAAA,EAAAA,GAC5DqY,GAAY,IAAhC,IAAAC,EAAArY,MAAAmY,EAAAE,EAAApY,KAAAC,MACI,IAD8B,IAAvBb,EAAK8Y,EAAAhgB,MACHW,EAAIuG,EAAMc,MAAOrH,EAAIuG,EAAMe,IAAKtH,IAAK,CAC1C,IAAMwf,EAAaxf,EAAI,EACjByf,EAAYD,EAAalhB,KAAKwK,MAAM7I,OAAS3B,KAAKwK,MAAM0W,GAAYvU,IAAM,KAC1EoL,EAAgBoJ,EAAYA,EAAU7gB,QAAU,KACtDN,KAAKiY,gBAAgBvW,EAAGqW,EAC5B,CACH,OAAAxO,GAAA0X,EAAAnZ,EAAAyB,EAAA,SAAA0X,EAAAzX,GAAA,CACD,IAAK,IAAI9H,EAAI6V,EAAYxO,MAAOrH,EAAI6V,EAAYvO,IAAKtH,IAC7C1B,KAAKwK,MAAM9I,GAAGiL,KACd3M,KAAK0X,gBAAgB1X,KAAKwK,MAAM9I,GAAIA,GAG5C,GAAkC,kBAAvB6e,EAAiC,CAMxC,IAAMa,EAAiBphB,KAAKsT,WAAW+N,0BAA0B3M,UAAY6E,EACvE+H,EAAethB,KAAKmb,WAAWoF,GAAsBC,EAAwBY,EACnFphB,KAAK0b,aAAa4F,EAActE,EACpC,CAEA,YADAhd,KAAKiS,0BAA0B2D,KAAK5V,KAAK6V,cAE7C,CACJ,CACJ,GAAC,CAAAhV,IAAA,qBAAAE,MACD,SAAmB2D,GACf,IAAItD,EAAImP,EAAIC,EACNzF,EAAO/K,KAAKwK,MAAM9F,GACxB,GAAM1E,KAAKiG,gBAAgBsb,iBAAkB,CACzC,IAAMjW,EAAUtL,KAAKiG,gBAAgBsb,iBAAiBxW,EAAK5D,SAC3D,GAAgB,OAAZmE,EAAkB,CAClB,IAAMhC,EAAOyB,EAAKzB,KAGlB,OAFAyB,EAAKzB,KAAOgC,EACZP,EAAKoM,uBAAyBnX,KAAKoR,YAC5B9F,EAAUhC,CACrB,CACJ,CACA,IAAKyB,EAAKmM,kBAAoBnM,EAAKoM,yBAA2BnX,KAAKoR,YAC/D,OAAO,EAEX,GAAMpR,KAAKiG,gBAAgBiR,mBAAqBlX,KAAKiG,gBAAgBiR,iBAAiBnM,EAAK5D,SACvF,OAAO,EAEX,IAAMmC,EAAOyB,EAAKzB,KAClB,GAAIyB,EAAK4B,IAIL,OAHA5B,EAAK4B,IAAIrM,QAAQE,MAAMoE,OAAS,GAChCmG,EAAKzB,KAAOyB,EAAK4B,IAAIrM,QAAQkhB,aAC7BzW,EAAKoM,uBAAyBnX,KAAKoR,YAC5BrG,EAAKzB,KAAOA,EAEvB,IAAQqD,EAAQ3M,KAAKgM,MAAMoO,MAAMrP,EAAK3G,YAA9BuI,IACRA,EAAIrM,QAAQE,MAAMoE,OAAS,GAC3B5E,KAAKgT,cAAcrS,YAAYgM,EAAIrM,SACnC,IAAM4D,EAAWlE,KAAKkG,UAAUpF,IAAIiK,EAAK3G,YACzC,IAAKF,EACD,MAAM,IAAIud,EAAAA,GAAmB,oCAAsC1W,EAAK3G,YAS5E,OAPAF,EAASe,cAAc8F,EAAK5D,QAASzC,EAAOiI,EAAIF,kBAAcnN,GAC9DyL,EAAKzB,KAAOqD,EAAIrM,QAAQkhB,aACW,QAAlCpgB,EAAK8C,EAASoS,sBAAmC,IAAPlV,GAAyBA,EAAG+c,KAAKja,EAAU6G,EAAK5D,QAASzC,EAAOiI,EAAIF,kBAAcnN,GACrE,QAAvDkR,GAAMD,EAAKvQ,KAAKiG,iBAAiByb,wBAAqC,IAAPlR,GAAyBA,EAAG2N,KAAK5N,EAAIxF,EAAK5D,QAAS4D,EAAKzB,MACxHyB,EAAKoM,uBAAyBnX,KAAKoR,YACnCpR,KAAKgT,cAAc5F,YAAYT,EAAIrM,SACnCN,KAAKgM,MAAMuM,QAAQ5L,GACZ5B,EAAKzB,KAAOA,CACvB,GAAC,CAAAzI,IAAA,uBAAAE,MACD,SAAqB4gB,GACjB,IAAMC,EAAYD,EAAOA,EAAOhgB,OAAS,GACzC,IAAKigB,EACD,OAAO,KAEX,IAAMC,EAAiB7hB,KAAKwK,MAAMoX,EAAU5Y,KAC5C,OAAK6Y,GAGAA,EAAelV,IAGbkV,EAAelV,IAAIrM,QALf,IAMf,GAAC,CAAAO,IAAA,kBAAAE,MACD,SAAgB2D,GACZ,MAAO,GAAPb,OAAU7D,KAAKkR,MAAK,KAAArN,OAAIa,EAC5B,GACA,CAAA7D,IAAA,UAAAE,MACA,WACI,IAAIK,EACJ,GAAIpB,KAAKwK,MAAO,KACiBsX,EADjBC,GAAApZ,EAAAA,EAAAA,GACO3I,KAAKwK,OAAK,IAA7B,IAAAuX,EAAAnZ,MAAAkZ,EAAAC,EAAAlZ,KAAAC,MAA+B,KAApBiC,EAAI+W,EAAA/gB,MACX,GAAIgK,EAAK4B,IAAK,CACV,IAAMzI,EAAWlE,KAAKkG,UAAUpF,IAAIiK,EAAK4B,IAAIvI,YACzCF,IACmC,QAAlC9C,EAAK8C,EAASoS,sBAAmC,IAAPlV,GAAyBA,EAAG+c,KAAKja,EAAU6G,EAAK5D,SAAU,EAAG4D,EAAK4B,IAAIF,kBAAcnN,GAC/H4E,EAASyB,gBAAgBoF,EAAK4B,IAAIF,cAE1C,CACJ,CAAC,OAAAlD,GAAAwY,EAAAja,EAAAyB,EAAA,SAAAwY,EAAAvY,GAAA,CACDxJ,KAAKwK,MAAQ,EACjB,CACIxK,KAAKM,SAAWN,KAAKM,QAAQ0hB,YAC7BhiB,KAAKM,QAAQ0hB,WAAW5U,YAAYpN,KAAKM,UAE7CwE,EAAAA,EAAAA,IAAQ9E,KAAK+R,YACjB,KAACzB,CAAA,CAh4BgB,GAk4BrBA,EAASa,cAAgB,EACzB1D,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,eAAgB,MACvCzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,kBAAmB,MAC1CzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,qBAAsB,MAC7CzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,cAAe,MACtCzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,cAAe,MACtCzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,aAAc,MACrCzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,gBAAiB,MACxCzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,eAAgB,MACvCzU,EAAW,CACPwU,EAAAA,GACD3R,EAAS4R,UAAW,QAAS,K,gbC9hCnBC,EAAkB,WAC3B,SAAAA,EAAYC,IAAariB,EAAAA,EAAAA,GAAA,KAAAoiB,GACrBniB,KAAKoiB,YAAcA,CACvB,CAGC,OAHAxhB,EAAAA,EAAAA,GAAAuhB,EAAA,EAAAthB,IAAA,SAAAE,MACD,SAAOgI,EAAOwB,EAAa3C,GACvB5H,KAAKoiB,YAAY9U,SAAQ,SAAA1E,GAAC,OAAIA,EAAEZ,OAAOe,EAAOwB,EAAa3C,EAAS,GACxE,KAACua,CAAA,CAN0B,G,8GCAlBE,G,SAAS,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAClB,SAAAA,EAAYrc,EAAM0c,GAAS,OAAA3iB,EAAAA,EAAAA,GAAA,KAAAsiB,GAAAG,EAAArE,KAAA,mBAAAta,OACHmC,EAAI,MAAAnC,OAAK6e,GACjC,CAAC,OAAA9hB,EAAAA,EAAAA,GAAAyhB,EAAA,CAHiB,EAGjBM,E,SAAAA,GAH0B5V,S,WCA3BU,EAA0C,SAAUC,EAAYC,EAAQ9M,EAAK+M,GAC7E,IAA2HC,EAAvHC,EAAIvK,UAAU5B,OAAQ2E,EAAIwH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOzN,OAAO4N,yBAAyBJ,EAAQ9M,GAAO+M,EACrH,GAAuB,kBAAZI,SAAoD,oBAArBA,QAAQC,SAAyB3H,EAAI0H,QAAQC,SAASP,EAAYC,EAAQ9M,EAAK+M,QACpH,IAAK,IAAIlM,EAAIgM,EAAW/L,OAAS,EAAGD,GAAK,EAAGA,KAASmM,EAAIH,EAAWhM,MAAI4E,GAAKwH,EAAI,EAAID,EAAEvH,GAAKwH,EAAI,EAAID,EAAEF,EAAQ9M,EAAKyF,GAAKuH,EAAEF,EAAQ9M,KAASyF,GAChJ,OAAOwH,EAAI,GAAKxH,GAAKnG,OAAO+N,eAAeP,EAAQ9M,EAAKyF,GAAIA,CAChE,EACIsc,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU5d,EAAS6d,GAC/C,SAASC,EAAUpiB,GAAS,IAAMqiB,EAAKJ,EAAUK,KAAKtiB,GAAS,CAAE,MAAO+G,GAAKob,EAAOpb,EAAI,CAAE,CAC1F,SAASwb,EAASviB,GAAS,IAAMqiB,EAAKJ,EAAiB,MAAEjiB,GAAS,CAAE,MAAO+G,GAAKob,EAAOpb,EAAI,CAAE,CAC7F,SAASsb,EAAK3a,GAJlB,IAAe1H,EAIa0H,EAAOK,KAAOzD,EAAQoD,EAAO1H,QAJ1CA,EAIyD0H,EAAO1H,MAJhDA,aAAiBgiB,EAAIhiB,EAAQ,IAAIgiB,GAAE,SAAU1d,GAAWA,EAAQtE,EAAQ,KAIjB0E,KAAK0d,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUrT,MAAMkT,EAASC,GAAc,KAAKO,OAClE,GACJ,EAoBME,EAAa,WACf,SAAAA,EAAYC,IAAOzjB,EAAAA,EAAAA,GAAA,KAAAwjB,GACfvjB,KAAKwjB,MAAQA,EACbxjB,KAAKyjB,iBAAmB,EAC5B,CAgDC,OAhDA7iB,EAAAA,EAAAA,GAAA2iB,EAAA,EAAA1iB,IAAA,aAAAC,IACD,WACI,MAAO,YAAP+C,OAAmB7D,KAAKwjB,MAAME,KAClC,GAAC,CAAA7iB,IAAA,iBAAAE,MACD,SAAenB,GACX,OAAOA,CACX,GAAC,CAAAiB,IAAA,gBAAAE,MACD,SAAcoG,EAASzC,EAAO+H,GAC1B,IAAMkX,EAAuB3jB,KAAKyjB,iBAAiBG,WAAU,SAAAC,GAAE,OAAIA,EAAGpX,eAAiBA,CAAY,IACnG,GAAIkX,GAAwB,EAAG,CAC3B,IAAMG,EAAW9jB,KAAKyjB,iBAAiBE,GACvC3jB,KAAKwjB,MAAMO,SAAStX,GACpBqX,EAASpf,MAAQA,CACrB,KACK,CACD,IAAMof,EAAW,CAAEpf,MAAAA,EAAO+H,aAAAA,GAC1BzM,KAAKyjB,iBAAiBpa,KAAKya,EAC/B,CACA9jB,KAAKwjB,MAAMQ,YAAYtf,EAAO+H,EAClC,GAAC,CAAA5L,IAAA,SAAAE,MACD,SAAOgI,EAAOwB,EAAa0Z,GACvB,IACmDzb,EAD7Csb,EAAW,GAAGpb,GAAAC,EAAAA,EAAAA,GACU3I,KAAKyjB,kBAAgB,IAAnD,IAAA/a,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAAqD,KAA1Cob,EAAe1b,EAAAzH,MAClBmjB,EAAgBxf,MAAQqE,EACxB+a,EAASza,KAAK6a,GAETA,EAAgBxf,OAASqE,EAAQwB,GACtCuZ,EAASza,KAAK,CACV3E,MAAOwf,EAAgBxf,MAAQuf,EAAc1Z,EAC7CkC,aAAcyX,EAAgBzX,cAG1C,CAAC,OAAAlD,GAAAb,EAAAZ,EAAAyB,EAAA,SAAAb,EAAAc,GAAA,CACDxJ,KAAKyjB,iBAAmBK,CAC5B,GAAC,CAAAjjB,IAAA,gBAAAE,MACD,SAAc8G,GAAS,IACwCiC,EADxCE,GAAArB,EAAAA,EAAAA,GACmB3I,KAAKyjB,kBAAgB,IAA3D,IAAAzZ,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAA6D,KAAAqb,EAAAra,EAAA/I,MAAhD2D,EAAKyf,EAALzf,MAAO+H,EAAY0X,EAAZ1X,aACZ5E,EAAQuc,QAAQ1f,IAAU,GAC1B1E,KAAKwjB,MAAMQ,YAAYtf,EAAO+H,EAEtC,CAAC,OAAAlD,GAAAS,EAAAlC,EAAAyB,EAAA,SAAAS,EAAAR,GAAA,CACL,GAAC,CAAA3I,IAAA,kBAAAE,MACD,SAAgB0L,GACZ,IAAM/H,EAAQ1E,KAAKyjB,iBAAiBG,WAAU,SAAAC,GAAE,OAAIA,EAAGpX,eAAiBA,CAAY,IAChF/H,EAAQ,GAGZ1E,KAAKyjB,iBAAiBzb,OAAOtD,EAAO,EACxC,KAAC6e,CAAA,CApDc,GAsDbc,EAAK,WAKP,SAAAA,EAAYC,IAAQvkB,EAAAA,EAAAA,GAAA,KAAAskB,GAChBrkB,KAAKskB,OAASA,EACdtkB,KAAK2B,OAAS,EACd3B,KAAK6H,QAAU,GACf7H,KAAKukB,cAAgB,GACrBvkB,KAAKwkB,UAAY,IAAItS,EAAAA,GACrBlS,KAAKykB,SAAWzkB,KAAKwkB,UAAU5J,KACnC,CAqDC,OArDAha,EAAAA,EAAAA,GAAAyjB,EAAA,EAAAxjB,IAAA,OAAAC,IAXD,WAAa,OAAOd,KAAKskB,MAAQ,GAAC,CAAAzjB,IAAA,WAAAC,IAClC,WACI,OAAO,IAAIyiB,EAAcvjB,KAC7B,GAAC,CAAAa,IAAA,SAAAE,MASD,SAAOgI,EAAOwB,EAAa3C,GACvB,IAAIxG,EACJmJ,EAAcgB,KAAK+J,IAAI,EAAG/J,KAAKE,IAAIlB,EAAavK,KAAK2B,OAASoH,IAC9D,IAAM0B,EAAO7C,EAASjG,OAAS4I,EACzBvB,EAAMD,EAAQwB,EACdga,EAAgB,GAAH1gB,QAAA+L,EAAAA,EAAAA,GACZ5P,KAAKukB,cAAcvI,QAAO,SAAAta,GAAC,OAAIA,EAAIqH,CAAK,MAAC6G,EAAAA,EAAAA,GACzChI,EAASvB,KAAI,SAACqe,EAAUhjB,GAAC,OAAKgjB,EAAWhjB,EAAIqH,GAAS,CAAC,IAAEiT,QAAO,SAAAta,GAAC,OAAW,IAAPA,CAAQ,MAACkO,EAAAA,EAAAA,GAC9E5P,KAAKukB,cAAcvI,QAAO,SAAAta,GAAC,OAAIA,GAAKsH,CAAG,IAAE3C,KAAI,SAAA3E,GAAC,OAAIA,EAAI+I,CAAI,MAE3D9I,EAAS3B,KAAK2B,OAAS8I,EAC7B,GAAIzK,KAAKukB,cAAc5iB,OAAS,GAA8B,IAAzB4iB,EAAc5iB,QAAgBA,EAAS,EAAG,CAC3E,IAAMgjB,EAAoE,QAA3DvjB,EAAKpB,KAAKukB,cAAcK,MAAK,SAAAlgB,GAAK,OAAIA,GAASqE,CAAK,WAAsB,IAAP3H,EAAgBA,EAAKO,EAAS,EAChH4iB,EAAclb,KAAKkC,KAAKE,IAAIkZ,EAAOhjB,EAAS,GAChD,CACA3B,KAAKkE,SAAS8D,OAAOe,EAAOwB,EAAa3C,EAASjG,QAClD3B,KAAK6kB,KAAKN,EAAeA,GACzBvkB,KAAK2B,OAASA,CAClB,GAAC,CAAAd,IAAA,cAAAE,MACD,SAAY2D,EAAO9E,GACfA,EAAUqN,UAAU4F,OAAO7S,KAAKskB,OAAQtkB,KAAK8d,SAASpZ,GAC1D,GAAC,CAAA7D,IAAA,WAAAE,MACD,SAASnB,GACLA,EAAUqN,UAAUC,OAAOlN,KAAKskB,OACpC,GACA,CAAAzjB,IAAA,MAAAE,MAMA,SAAI8G,EAAST,GACT,OAAOpH,KAAK6kB,KAAKhd,GAAS+H,EAAAA,EAAAA,GAAI/H,GAASkX,KAAK+F,GAAc1d,EAC9D,GAAC,CAAAvG,IAAA,OAAAE,MACD,SAAK8G,EAAS0c,EAAend,GACzB,IAAMqB,EAASzI,KAAK6H,QACdkd,EAAe/kB,KAAKukB,cAC1BvkB,KAAK6H,QAAUA,EACf7H,KAAKukB,cAAgBA,EACrB,IAAMS,EAAWC,EAAYF,EAAcld,GAG3C,OAFA7H,KAAKkE,SAASghB,cAAcF,GAC5BhlB,KAAKwkB,UAAU5O,KAAK,CAAE/N,QAAAA,EAAST,aAAAA,IACxBqB,CACX,GAAC,CAAA5H,IAAA,MAAAE,MACD,WACI,OAAOf,KAAK6H,OAChB,GAAC,CAAAhH,IAAA,WAAAE,MACD,SAAS2D,GACL,OAAOygB,EAAAA,EAAAA,IAAanlB,KAAKukB,cAAe7f,EAAOogB,IAAgB,CACnE,GAAC,CAAAjkB,IAAA,UAAAE,MACD,YACI+D,EAAAA,EAAAA,IAAQ9E,KAAKwkB,UACjB,KAACH,CAAA,CAjEM,GAmEX5W,EAAW,CACPwU,EAAAA,GACDoC,EAAMnC,UAAW,WAAY,MAAM,IAChCkD,EAAc,SAAAC,IAAA9C,EAAAA,EAAAA,GAAA6C,EAAAC,GAAA,IAAA7C,GAAAC,EAAAA,EAAAA,GAAA2C,GAChB,SAAAA,EAAYE,GAAiB,IAAAzgB,EAEc,OAFd9E,EAAAA,EAAAA,GAAA,KAAAqlB,IACzBvgB,EAAA2d,EAAArE,KAAA,KAAM,aACDmH,gBAAkBA,EAAgBzgB,CAC3C,CAWC,OAXAjE,EAAAA,EAAAA,GAAAwkB,EAAA,EAAAvkB,IAAA,cAAAE,MACD,SAAY2D,EAAO9E,IACf2lB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAJ,EAAAlD,WAAA,oBAAA/D,KAAA,KAAkBzZ,EAAO9E,GACrBI,KAAKslB,kBACDtlB,KAAK8d,SAASpZ,GACd9E,EAAU0a,aAAa,gBAAiB,QAGxC1a,EAAU0a,aAAa,gBAAiB,SAGpD,KAAC8K,CAAA,CAfe,CAASf,GAsBvBoB,EAAe,WACjB,SAAAA,EAAYjC,EAAOkC,EAAMC,IAAkB5lB,EAAAA,EAAAA,GAAA,KAAA0lB,GACvCzlB,KAAKwjB,MAAQA,EACbxjB,KAAK0lB,KAAOA,EACZ1lB,KAAK2lB,iBAAmBA,CAC5B,CAQC,OARA/kB,EAAAA,EAAAA,GAAA6kB,EAAA,EAAA5kB,IAAA,SAAAE,MACD,SAAOgI,EAAOwB,EAAa3C,GAAU,IAAAzB,EAAA,KACjC,IAAKnG,KAAK2lB,iBACN,OAAO3lB,KAAKwjB,MAAMxb,OAAOe,EAAOwB,EAAa3C,EAASvB,KAAI,kBAAM,CAAK,KAEzE,IAAMuf,EAAwB5lB,KAAKwjB,MAAM1iB,MAAMuF,KAAI,SAAA3E,GAAC,OAAIyE,EAAKwf,iBAAiBE,MAAM1f,EAAKuf,KAAKve,QAAQzF,IAAIokB,UAAU,IAC9GC,EAAoBne,EAASvB,KAAI,SAAAyB,GAAC,OAAI8d,EAAsBxB,QAAQje,EAAKwf,iBAAiBE,MAAM/d,GAAGge,aAAe,CAAC,IACzH9lB,KAAKwjB,MAAMxb,OAAOe,EAAOwB,EAAawb,EAC1C,KAACN,CAAA,CAbgB,GAed,SAASO,EAAele,GAC3B,MAAqB,UAAdA,EAAEme,SAAqC,aAAdne,EAAEme,OACtC,CACO,SAASC,EAAepe,GAC3B,QAAIA,EAAEmF,UAAU6Q,SAAS,mBAGrBhW,EAAEmF,UAAU6Q,SAAS,mBAGpBhW,EAAEqF,eAGA+Y,EAAepe,EAAEqF,eAC5B,CACO,SAASgZ,EAASre,GACrB,SAAmB,MAAdA,EAAEme,SAAmBne,EAAEmF,UAAU6Q,SAAS,kBAC5B,QAAdhW,EAAEme,SAAqBne,EAAEmF,UAAU6Q,SAAS,6BAG7ChW,EAAEmF,UAAU6Q,SAAS,mBAGpBhW,EAAEqF,eAGAgZ,EAASre,EAAEqF,eACtB,CAAC,IA+FUiZ,EAKPC,EAnGEC,EAAkB,WAMpB,SAAAA,EAAY/f,EAAMmf,EAAM5lB,IAASC,EAAAA,EAAAA,GAAA,KAAAumB,GAC7BtmB,KAAKuG,KAAOA,EACZvG,KAAK0lB,KAAOA,EACZ1lB,KAAK+R,YAAc,IAAIC,EAAAA,GACvBhS,KAAKumB,6BAA+B,IAAIvU,EAAAA,GACxChS,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,IAAdA,EAAE7E,OAAa,IAAsBwjB,GAAGzmB,KAAK0mB,QAAS1mB,KAAMA,KAAK+R,aAC5F/R,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE7E,OAAc,IAAwBwjB,GAAGzmB,KAAK2mB,UAAW3mB,KAAMA,KAAK+R,aACjG/R,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE7E,OAAc,IAA0BwjB,GAAGzmB,KAAK4mB,YAAa5mB,KAAMA,KAAK+R,aACrG/R,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE7E,OAAc,IAAuBwjB,GAAGzmB,KAAK6mB,cAAe7mB,KAAMA,KAAK+R,aACpG/R,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE7E,OAAc,IAAyBwjB,GAAGzmB,KAAK8mB,gBAAiB9mB,KAAMA,KAAK+R,aACxG/R,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,IAAdA,EAAE7E,OAAa,IAAuBwjB,GAAGzmB,KAAK+mB,SAAU/mB,KAAMA,KAAK+R,cACrD,IAArCjS,EAAQknB,0BACRhnB,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAKmf,EAAAA,GAAuBnf,EAAE/E,QAAU+E,EAAErF,UAA0B,KAAdqF,EAAE7E,OAAc,IAAqBwjB,GAAGzmB,KAAKknB,QAASlnB,KAAMA,KAAKumB,6BAEtJ,CAqEC,OArEA3lB,EAAAA,EAAAA,GAAA0lB,EAAA,EAAAzlB,IAAA,YAAAC,IAnBD,WACI,OAAOd,KAAK+R,YAAYvO,IAAIwD,EAAAA,GAAMmgB,MAAMnnB,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAK0lB,KAAKplB,QAAS,YAAYsa,OACtGoB,QAAO,SAAAlU,GAAC,OAAKke,EAAele,EAAE6F,OAAO,IACrCtH,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IAC9C,GAAC,CAAAjH,IAAA,gBAAAE,MAgBD,SAAcsmB,QACqC/nB,IAA3C+nB,EAAcL,2BACdhnB,KAAKumB,6BAA6BllB,QAC9BgmB,EAAcL,0BACdhnB,KAAKwmB,UAAUxK,QAAO,SAAAlU,GAAC,OAAKmf,EAAAA,GAAuBnf,EAAE/E,QAAU+E,EAAErF,UAA0B,KAAdqF,EAAE7E,OAAc,IAAqBwjB,GAAGzmB,KAAKknB,QAASlnB,KAAMA,KAAKumB,8BAG1J,GAAC,CAAA1lB,IAAA,UAAAE,MACD,SAAQ+G,GACJA,EAAEqV,iBACFrV,EAAEsV,kBACFpd,KAAKuG,KAAK+gB,aAAatnB,KAAKuG,KAAK2B,WAAYJ,EAAEV,aACnD,GAAC,CAAAvG,IAAA,YAAAE,MACD,SAAU+G,GACNA,EAAEqV,iBACFrV,EAAEsV,kBACFpd,KAAKuG,KAAKghB,cAAc,GAAG,EAAOzf,EAAEV,cACpC,IAAMyc,EAAK7jB,KAAKuG,KAAK2B,WAAW,GAChClI,KAAKuG,KAAKihB,UAAU3D,GACpB7jB,KAAKuG,KAAKkhB,OAAO5D,GACjB7jB,KAAK0lB,KAAKplB,QAAQonB,OACtB,GAAC,CAAA7mB,IAAA,cAAAE,MACD,SAAY+G,GACRA,EAAEqV,iBACFrV,EAAEsV,kBACFpd,KAAKuG,KAAKohB,UAAU,GAAG,EAAO7f,EAAEV,cAChC,IAAMyc,EAAK7jB,KAAKuG,KAAK2B,WAAW,GAChClI,KAAKuG,KAAKihB,UAAU3D,GACpB7jB,KAAKuG,KAAKkhB,OAAO5D,GACjB7jB,KAAK0lB,KAAKplB,QAAQonB,OACtB,GAAC,CAAA7mB,IAAA,gBAAAE,MACD,SAAc+G,GACVA,EAAEqV,iBACFrV,EAAEsV,kBACFpd,KAAKuG,KAAKqhB,kBAAkB9f,EAAEV,cAC9B,IAAMyc,EAAK7jB,KAAKuG,KAAK2B,WAAW,GAChClI,KAAKuG,KAAKihB,UAAU3D,GACpB7jB,KAAKuG,KAAKkhB,OAAO5D,GACjB7jB,KAAK0lB,KAAKplB,QAAQonB,OACtB,GAAC,CAAA7mB,IAAA,kBAAAE,MACD,SAAgB+G,GACZA,EAAEqV,iBACFrV,EAAEsV,kBACFpd,KAAKuG,KAAKshB,cAAc/f,EAAEV,cAC1B,IAAMyc,EAAK7jB,KAAKuG,KAAK2B,WAAW,GAChClI,KAAKuG,KAAKihB,UAAU3D,GACpB7jB,KAAKuG,KAAKkhB,OAAO5D,GACjB7jB,KAAK0lB,KAAKplB,QAAQonB,OACtB,GAAC,CAAA7mB,IAAA,UAAAE,MACD,SAAQ+G,GACJA,EAAEqV,iBACFrV,EAAEsV,kBACFpd,KAAKuG,KAAK+gB,cAAarf,EAAAA,EAAAA,IAAMjI,KAAKuG,KAAK5E,QAASmG,EAAEV,cAClDpH,KAAKuG,KAAKihB,eAAUloB,GACpBU,KAAK0lB,KAAKplB,QAAQonB,OACtB,GAAC,CAAA7mB,IAAA,WAAAE,MACD,SAAS+G,GACD9H,KAAKuG,KAAK4B,eAAexG,SACzBmG,EAAEqV,iBACFrV,EAAEsV,kBACFpd,KAAKuG,KAAK+gB,aAAa,GAAIxf,EAAEV,cAC7BpH,KAAKuG,KAAKihB,eAAUloB,GACpBU,KAAK0lB,KAAKplB,QAAQonB,QAE1B,GAAC,CAAA7mB,IAAA,UAAAE,MACD,WACIf,KAAK+R,YAAYjN,UACjB9E,KAAKumB,6BAA6BzhB,SACtC,KAACwhB,CAAA,CAzFmB,GA2FxB7Y,EAAW,CACPwU,EAAAA,GACDqE,EAAmBpE,UAAW,YAAa,MAE9C,SAAWkE,GACPA,EAAmBA,EAA8B,UAAI,GAAK,YAC1DA,EAAmBA,EAA4B,QAAI,GAAK,SAC3D,CAHD,CAGGA,IAAuBA,EAAqB,CAAC,IAEhD,SAAWC,GACPA,EAA8BA,EAAoC,KAAI,GAAK,OAC3EA,EAA8BA,EAAsC,OAAI,GAAK,QAChF,CAHD,CAGGA,IAAkCA,EAAgC,CAAC,IAC/D,IAAMyB,EAAoC,wBAAAC,KAAAhoB,EAAAA,EAAAA,GAAA,KAAAgoB,EAAA,CAS5C,OAT4CnnB,EAAAA,EAAAA,GAAAmnB,EAAA,EAAAlnB,IAAA,iCAAAE,MAC7C,SAA+B6Z,GAC3B,QAAIA,EAAMnY,SAAWmY,EAAM7X,SAAW6X,EAAM9X,UAGpC8X,EAAM3X,SAAW,IAAyB2X,EAAM3X,SAAW,IAC3D2X,EAAM3X,SAAW,IAA2B2X,EAAM3X,SAAW,IAC7D2X,EAAM3X,SAAW,IAA4B2X,EAAM3X,SAAW,KAC9D2X,EAAM3X,SAAW,IAA8B2X,EAAM3X,SAAW,GAC5E,KAAC8kB,CAAA,CATgD,IAW/CC,EAAwB,WAC1B,SAAAA,EAAYzhB,EAAMmf,EAAMuC,EAAiCC,EAA+BC,IAAUpoB,EAAAA,EAAAA,GAAA,KAAAioB,GAC9FhoB,KAAKuG,KAAOA,EACZvG,KAAK0lB,KAAOA,EACZ1lB,KAAKioB,gCAAkCA,EACvCjoB,KAAKkoB,8BAAgCA,EACrCloB,KAAKmoB,SAAWA,EAChBnoB,KAAKooB,SAAU,EACfpoB,KAAKqoB,MAAQhC,EAA8BiC,KAC3CtoB,KAAKuoB,KAAOnC,EAAmBoC,UAC/BxoB,KAAKyoB,WAAY,EACjBzoB,KAAK0oB,mBAAqB,EAC1B1oB,KAAK2oB,mBAAqB,IAAI3W,EAAAA,GAC9BhS,KAAK+R,YAAc,IAAIC,EAAAA,GACvBhS,KAAK2G,cAAcJ,EAAKzG,QAC5B,CAiFC,OAjFAc,EAAAA,EAAAA,GAAAonB,EAAA,EAAAnnB,IAAA,gBAAAE,MACD,SAAcjB,GACV,IAAIsB,EAAImP,EACqC,QAAxCnP,EAAKtB,EAAQ8oB,6BAA0C,IAAPxnB,GAAgBA,EACjEpB,KAAK6oB,SAGL7oB,KAAK8oB,UAET9oB,KAAKuoB,KAA6C,QAArChY,EAAKzQ,EAAQipB,0BAAuC,IAAPxY,EAAgBA,EAAK6V,EAAmBoC,SACtG,GAAC,CAAA3nB,IAAA,SAAAE,MACD,WAAS,IAAAgG,EAAA,KACL,IAAI/G,KAAKooB,QAAT,CAGA,IAAIY,GAAS,EACPC,EAASjpB,KAAK2oB,mBAAmBnlB,IAAIwD,EAAAA,GAAMmgB,MAAMnnB,KAAK2oB,mBAAmBnlB,IAAI,IAAIoY,EAAAA,EAAW5b,KAAK0lB,KAAKplB,QAAS,YAAYsa,QAC5HoB,QAAO,SAAAlU,GAAC,OAAKke,EAAele,EAAE6F,OAAO,IACrCqO,QAAO,kBAAMjV,EAAKwhB,OAASnC,EAAmBoC,WAAazhB,EAAK0hB,SAAS,IACzEpiB,KAAI,SAAAuU,GAAK,OAAI,IAAIwM,EAAAA,EAAsBxM,EAAM,IAC7CoB,QAAO,SAAAlU,GAAC,OAAIkhB,GAAUjiB,EAAKmhB,8BAA8BpgB,EAAE,IAC3DkU,QAAO,SAAAlU,GAAC,OAAIf,EAAKohB,SAASe,+BAA+BphB,EAAE,IAC3DwF,SAAQ,SAAAxF,GAAC,OAAIqhB,EAAAA,YAAYC,KAAKthB,GAAG,EAAK,IACtCzB,KAAI,SAAAuU,GAAK,OAAIA,EAAMxT,aAAavG,GAAG,IACnC+Z,MACCyO,EAAUriB,EAAAA,GAAMsiB,SAASL,GAAQ,kBAAM,IAAI,GAAE,SAAK3pB,OAAWA,OAAWA,EAAWU,KAAK2oB,oBAC9E3hB,EAAAA,GAAMmD,OAAOnD,EAAAA,GAAMsV,IAAI2M,EAAQI,IAAU,SAAC/iB,EAAG5E,GAAC,OAAW,OAANA,EAAa,MAAS4E,GAAK,IAAM5E,CAAE,QAAEpC,EAAWU,KAAK2oB,mBACxHY,CAAQvpB,KAAKupB,QAASvpB,KAAMA,KAAK2oB,oBACjCU,EAAQrpB,KAAKqpB,QAASrpB,KAAMA,KAAK2oB,oBACjCM,GAAO,kBAAMD,GAAS,CAAI,QAAE1pB,EAAWU,KAAK2oB,oBAC5CU,GAAQ,kBAAML,GAAS,CAAK,QAAE1pB,EAAWU,KAAK2oB,oBAC9C3oB,KAAKooB,SAAU,EACfpoB,KAAKyoB,WAAY,CAlBjB,CAmBJ,GAAC,CAAA5nB,IAAA,UAAAE,MACD,WACSf,KAAKooB,UAGVpoB,KAAK2oB,mBAAmBtnB,QACxBrB,KAAKooB,SAAU,EACfpoB,KAAKyoB,WAAY,EACrB,GAAC,CAAA5nB,IAAA,UAAAE,MACD,WACI,IAAIK,EACEsmB,EAAQ1nB,KAAKuG,KAAK2B,WACxB,GAAIwf,EAAM/lB,OAAS,GAAK+lB,EAAM,KAAO1nB,KAAK0oB,kBAAmB,CAGzD,IAAMc,EAA+D,QAAlDpoB,EAAKpB,KAAKuG,KAAKzG,QAAQ+F,6BAA0C,IAAPzE,OAAgB,EAASA,EAAGW,aAAa/B,KAAKuG,KAAKY,QAAQugB,EAAM,KAC1I8B,IACAC,EAAAA,EAAAA,IAAMD,EAEd,CACAxpB,KAAK0oB,mBAAqB,CAC9B,GAAC,CAAA7nB,IAAA,UAAAE,MACD,SAAQ2oB,GACJ,IAAKA,EAGD,OAFA1pB,KAAKqoB,MAAQhC,EAA8BiC,UAC3CtoB,KAAKyoB,WAAY,GAGrB,IAAMf,EAAQ1nB,KAAKuG,KAAK2B,WAClBa,EAAQ2e,EAAM/lB,OAAS,EAAI+lB,EAAM,GAAK,EACtCpQ,EAAQtX,KAAKqoB,QAAUhC,EAA8BiC,KAAO,EAAI,EACtEtoB,KAAKqoB,MAAQhC,EAA8BsD,OAC3C,IAAK,IAAIjoB,EAAI,EAAGA,EAAI1B,KAAKuG,KAAK5E,OAAQD,IAAK,CACvC,IAAMgD,GAASqE,EAAQrH,EAAI4V,GAAStX,KAAKuG,KAAK5E,OACxCuB,EAAQlD,KAAKioB,gCAAgC2B,2BAA2B5pB,KAAK0lB,KAAKve,QAAQzC,IAC1FmlB,EAAW3mB,GAASA,EAAM4iB,WAChC,GAAwB,qBAAb+D,IAA4BC,EAAAA,EAAAA,IAAcJ,EAAMG,GAIvD,OAHA7pB,KAAK0oB,kBAAoB3f,EACzB/I,KAAKuG,KAAKwjB,SAAS,CAACrlB,SACpB1E,KAAKuG,KAAKkhB,OAAO/iB,EAGzB,CACJ,GAAC,CAAA7D,IAAA,UAAAE,MACD,WACIf,KAAK8oB,UACL9oB,KAAK2oB,mBAAmB7jB,UACxB9E,KAAK+R,YAAYjN,SACrB,KAACkjB,CAAA,CAhGyB,GAkGxBgC,EAAkB,WACpB,SAAAA,EAAYzjB,EAAMmf,IAAM3lB,EAAAA,EAAAA,GAAA,KAAAiqB,GACpBhqB,KAAKuG,KAAOA,EACZvG,KAAK0lB,KAAOA,EACZ1lB,KAAK+R,YAAc,IAAIC,EAAAA,GACLhS,KAAK+R,YAAYvO,IAAIwD,EAAAA,GAAMmgB,MAAMnnB,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW8J,EAAKplB,QAAS,YAAYsa,QAC5GoB,QAAO,SAAAlU,GAAC,OAAKke,EAAele,EAAE6F,OAAO,IACrCtH,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IAChCkU,QAAO,SAAAlU,GAAC,OAAkB,IAAdA,EAAE7E,UAAoC6E,EAAErF,UAAYqF,EAAE/E,UAAY+E,EAAEjF,WAAaiF,EAAEhF,MAAM,IAC1G2jB,GAAGzmB,KAAKiqB,MAAOjqB,KAAMA,KAAK+R,YACnC,CA2BC,OA3BAnR,EAAAA,EAAAA,GAAAopB,EAAA,EAAAnpB,IAAA,QAAAE,MACD,SAAM+G,GACF,GAAIA,EAAE6F,SAAW3N,KAAK0lB,KAAKplB,QAA3B,CAGA,IAAMonB,EAAQ1nB,KAAKuG,KAAK2B,WACxB,GAAqB,IAAjBwf,EAAM/lB,OAAV,CAGA,IAAMuoB,EAAoBlqB,KAAK0lB,KAAKyE,WAAWzC,EAAM,IACrD,GAAKwC,EAAL,CAGA,IAAME,EAAkBF,EAAkBG,cAAc,cACxD,GAAKD,GAAqBA,aAA2BjK,cAA8C,IAA9BiK,EAAgBxX,SAArF,CAGA,IAAMpS,EAAQsa,OAAOC,iBAAiBqP,GACb,WAArB5pB,EAAM8pB,YAA6C,SAAlB9pB,EAAM+pB,UAG3CziB,EAAEqV,iBACFrV,EAAEsV,kBACFgN,EAAgB1C,QAPhB,CAJA,CAJA,CAJA,CAoBJ,GAAC,CAAA7mB,IAAA,UAAAE,MACD,WACIf,KAAK+R,YAAYjN,SACrB,KAACklB,CAAA,CArCmB,GAuCjB,SAASQ,EAA6B5P,GACzC,OAAOqM,EAAAA,GAAuBrM,EAAMxT,aAAarE,QAAU6X,EAAMxT,aAAa3E,OAClF,CACO,SAASgoB,EAA4B7P,GACxC,OAAOA,EAAMxT,aAAavE,QAC9B,CAIA,IAAM6nB,EAAqC,CACvCF,6BAAAA,EACAC,4BAAAA,GAESE,EAAe,WACxB,SAAAA,EAAYpkB,IAAMxG,EAAAA,EAAAA,GAAA,KAAA4qB,GACd3qB,KAAKuG,KAAOA,EACZvG,KAAK+R,YAAc,IAAIC,EAAAA,GACvBhS,KAAK4qB,WAAa,IAAI1Y,EAAAA,GACtBlS,KAAKuH,UAAYvH,KAAK4qB,WAAWhQ,OACa,IAA1CrU,EAAKzG,QAAQknB,2BACbhnB,KAAK6qB,4BAA8B7qB,KAAKuG,KAAKzG,QAAQ+qB,6BAA+BH,GAExF1qB,KAAK8S,aAAoD,qBAA9BvM,EAAKzG,QAAQgT,gBAAkCvM,EAAKzG,QAAQgT,aACnF9S,KAAK8S,eACLvM,EAAKukB,YAAY9qB,KAAK8qB,YAAa9qB,KAAMA,KAAK+R,aAC9CxL,EAAKwkB,cAAc/qB,KAAK+qB,cAAe/qB,KAAMA,KAAK+R,aAClDxL,EAAKU,gBAAgBjH,KAAKgrB,cAAehrB,KAAMA,KAAK+R,aACpDxL,EAAK0kB,aAAajrB,KAAK8qB,YAAa9qB,KAAMA,KAAK+R,aAC/C/R,KAAK+R,YAAYvO,IAAI4P,EAAAA,EAAQC,UAAU9M,EAAKK,oBAEhDI,EAAAA,GAAMsV,IAAI/V,EAAK2kB,aAAc3kB,EAAK4kB,mBAAoB5kB,EAAK6kB,MAA3DpkB,CAAkEhH,KAAKqrB,cAAerrB,KAAMA,KAAK+R,YACrG,CAwHC,OAxHAnR,EAAAA,EAAAA,GAAA+pB,EAAA,EAAA9pB,IAAA,gBAAAE,MACD,SAAcsmB,QACqC/nB,IAA3C+nB,EAAcL,2BACdhnB,KAAK6qB,iCAA8BvrB,EAC/B+nB,EAAcL,2BACdhnB,KAAK6qB,4BAA8B7qB,KAAKuG,KAAKzG,QAAQ+qB,6BAA+BH,GAGhG,GAAC,CAAA7pB,IAAA,+BAAAE,MACD,SAA6B6Z,GACzB,QAAK5a,KAAK6qB,6BAGH7qB,KAAK6qB,4BAA4BL,6BAA6B5P,EACzE,GAAC,CAAA/Z,IAAA,8BAAAE,MACD,SAA4B6Z,GACxB,QAAK5a,KAAK6qB,6BAGH7qB,KAAK6qB,4BAA4BJ,4BAA4B7P,EACxE,GAAC,CAAA/Z,IAAA,yBAAAE,MACD,SAAuB6Z,GACnB,OAAO5a,KAAKwqB,6BAA6B5P,IAAU5a,KAAKyqB,4BAA4B7P,EACxF,GAAC,CAAA/Z,IAAA,cAAAE,MACD,SAAY+G,GACJoe,EAAepe,EAAEV,aAAauG,SAG9B8E,SAAS6Y,gBAAkBxjB,EAAEV,aAAauG,QAC1C3N,KAAKuG,KAAKglB,UAElB,GAAC,CAAA1qB,IAAA,gBAAAE,MACD,SAAc+G,GACV,IAAIke,EAAele,EAAEV,aAAauG,UAAWuY,EAAepe,EAAEV,aAAauG,QAA3E,CAGA,IAAM+Z,EAA2B,qBAAZ5f,EAAEpD,MAAwB,GAAK,CAACoD,EAAEpD,OACvD1E,KAAKuG,KAAKwjB,SAASrC,EAAO5f,EAAEV,aAF5B,CAGJ,GAAC,CAAAvG,IAAA,gBAAAE,MACD,SAAc+G,GACV,GAAK9H,KAAK8S,eAGNkT,EAAele,EAAEV,aAAauG,UAAWuY,EAAepe,EAAEV,aAAauG,UAGvE7F,EAAEV,aAAaokB,gBAAnB,CAGA1jB,EAAEV,aAAaokB,iBAAkB,EACjC,IA3EmB5Q,EA2Eb8M,EAAQ5f,EAAEpD,MAChB,GAAqB,qBAAVgjB,EAIP,OAHA1nB,KAAKuG,KAAKwjB,SAAS,GAAIjiB,EAAEV,cACzBpH,KAAKuG,KAAK+gB,aAAa,GAAIxf,EAAEV,mBAC7BpH,KAAKuG,KAAKihB,eAAUloB,GAGxB,GAAIU,KAAKyqB,4BAA4B3iB,GACjC,OAAO9H,KAAKyrB,gBAAgB3jB,GAEhC,GAAI9H,KAAK0rB,uBAAuB5jB,GAC5B,OAAO9H,KAAKyrB,gBAAgB3jB,GAEhC9H,KAAKuG,KAAKwjB,SAAS,CAACrC,GAAQ5f,EAAEV,cAC9BpH,KAAKuG,KAAKihB,UAAUE,IAzFD9M,EA0FI9S,EAAEV,wBAzFLukB,YAA+B,IAAjB/Q,EAAMqB,QA0FpCjc,KAAKuG,KAAK+gB,aAAa,CAACI,GAAQ5f,EAAEV,cAEtCpH,KAAK4qB,WAAWhV,KAAK9N,EApBrB,CAqBJ,GAAC,CAAAjH,IAAA,gBAAAE,MACD,SAAc+G,GACV,IAAIke,EAAele,EAAEV,aAAauG,UAAWuY,EAAepe,EAAEV,aAAauG,UAGvE3N,KAAK0rB,uBAAuB5jB,KAG5BA,EAAEV,aAAaokB,gBAAnB,CAGA1jB,EAAEV,aAAaokB,iBAAkB,EACjC,IAAM9D,EAAQ1nB,KAAKuG,KAAK2B,WACxBlI,KAAKuG,KAAK+gB,aAAaI,EAAO5f,EAAEV,aAHhC,CAIJ,GAAC,CAAAvG,IAAA,kBAAAE,MACD,SAAgB+G,GACZ,IAAM4f,EAAQ5f,EAAEpD,MACZknB,EAAS5rB,KAAKuG,KAAKslB,YACvB,GAAI7rB,KAAKyqB,4BAA4B3iB,GAAI,CACrC,GAAsB,qBAAX8jB,EAAwB,CAC/B,IAAME,EAAe9rB,KAAKuG,KAAK2B,WAAW,GAC1C0jB,EAA0B,OAAjBE,QAA0C,IAAjBA,EAA0BA,EAAepE,EAC3E1nB,KAAKuG,KAAKihB,UAAUoE,EACxB,CACA,IAAMngB,EAAMF,KAAKE,IAAImgB,EAAQlE,GACvBpS,EAAM/J,KAAK+J,IAAIsW,EAAQlE,GACvBqE,GAAiB9jB,EAAAA,EAAAA,IAAMwD,EAAK6J,EAAM,GAClC0W,EAAYhsB,KAAKuG,KAAK4B,eACtB8jB,EA8LlB,SAAsChkB,EAAOlH,GACzC,IAAM2D,EAAQuD,EAAMmc,QAAQrjB,GAC5B,IAAe,IAAX2D,EACA,MAAO,GAEX,IAAM+D,EAAS,GACX/G,EAAIgD,EAAQ,EAChB,KAAOhD,GAAK,GAAKuG,EAAMvG,KAAOX,GAAS2D,EAAQhD,IAC3C+G,EAAOY,KAAKpB,EAAMvG,MAEtB+G,EAAOyjB,UACPxqB,EAAIgD,EACJ,KAAOhD,EAAIuG,EAAMtG,QAAUsG,EAAMvG,KAAOX,GAASW,EAAIgD,IACjD+D,EAAOY,KAAKpB,EAAMvG,MAEtB,OAAO+G,CACX,CA9MoC0jB,CAA6BlH,EAAY+G,EAAW,CAACJ,IAAUA,GACvF,GAA+B,IAA3BK,EAAgBtqB,OAChB,OAEJ,IAAMyqB,EAAenH,EAAY8G,EA4O7C,SAA4BM,EAAKC,GAC7B,IAAM7jB,EAAS,GACX/G,EAAI,EAAG6qB,EAAI,EACf,KAAO7qB,EAAI2qB,EAAI1qB,QAAU4qB,EAAID,EAAM3qB,QAC/B,GAAID,GAAK2qB,EAAI1qB,OACT8G,EAAOY,KAAKijB,EAAMC,WAEjB,GAAIA,GAAKD,EAAM3qB,OAChB8G,EAAOY,KAAKgjB,EAAI3qB,UAEf,IAAI2qB,EAAI3qB,KAAO4qB,EAAMC,GAAI,CAC1B7qB,IACA6qB,IACA,QACJ,CACSF,EAAI3qB,GAAK4qB,EAAMC,GACpB9jB,EAAOY,KAAKgjB,EAAI3qB,MAGhB6qB,GACJ,CAEJ,OAAO9jB,CACX,CAnQ6DmO,CAAmBoV,EAAWC,IAC/EjsB,KAAKuG,KAAK+gB,aAAa8E,EAActkB,EAAEV,cACvCpH,KAAKuG,KAAKwjB,SAAS,CAACrC,GAAQ5f,EAAEV,aAClC,MACK,GAAIpH,KAAKwqB,6BAA6B1iB,GAAI,CAC3C,IAAMkkB,EAAYhsB,KAAKuG,KAAK4B,eACtBikB,EAAeJ,EAAUhQ,QAAO,SAAAta,GAAC,OAAIA,IAAMgmB,CAAK,IACtD1nB,KAAKuG,KAAKwjB,SAAS,CAACrC,IACpB1nB,KAAKuG,KAAKihB,UAAUE,GAChBsE,EAAUrqB,SAAWyqB,EAAazqB,OAClC3B,KAAKuG,KAAK+gB,aAAa,GAADzjB,QAAA+L,EAAAA,EAAAA,GAAKwc,GAAY,CAAE1E,IAAQ5f,EAAEV,cAGnDpH,KAAKuG,KAAK+gB,aAAa8E,EAActkB,EAAEV,aAE/C,CACJ,GAAC,CAAAvG,IAAA,UAAAE,MACD,WACIf,KAAK+R,YAAYjN,SACrB,KAAC6lB,CAAA,CA1IuB,GA4If6B,EAAsB,WAC/B,SAAAA,EAAYC,EAAcC,IAAgB3sB,EAAAA,EAAAA,GAAA,KAAAysB,GACtCxsB,KAAKysB,aAAeA,EACpBzsB,KAAK0sB,eAAiBA,CAC1B,CAwHC,OAxHA9rB,EAAAA,EAAAA,GAAA4rB,EAAA,EAAA3rB,IAAA,QAAAE,MACD,SAAMsH,GACF,IAAIjH,EAAImP,EACFoc,EAAS3sB,KAAK0sB,gBAAkB,IAAJ7oB,OAAQ7D,KAAK0sB,gBACzCE,EAAU,GACZvkB,EAAOwkB,gBACPD,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,qCAAA9oB,OAAoCwE,EAAOwkB,eAAc,QAE3FxkB,EAAOykB,sBACPF,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,wDAAA9oB,OAAuDwE,EAAOykB,oBAAmB,QACnHF,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,8DAAA9oB,OAA6DwE,EAAOykB,oBAAmB,SAEzHzkB,EAAO0kB,qBACPH,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,6CAAA9oB,OAA4CwE,EAAO0kB,oBAAmB,QAExG1kB,EAAO2kB,gCACPJ,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,yDAAA9oB,OAAwDwE,EAAO2kB,8BAA6B,QAC9HJ,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,+DAAA9oB,OAA8DwE,EAAO2kB,8BAA6B,SAEpI3kB,EAAO4kB,+BACPL,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,8CAAA9oB,OAA6CwE,EAAO4kB,8BAA6B,QAEnH5kB,EAAO6kB,mCACPN,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,uDAAA9oB,OAAsDwE,EAAO6kB,kCAAiC,QAEhI7kB,EAAO8kB,iCACPP,EAAQvjB,KAAK,sDAADxF,OAEN8oB,EAAM,iEAAA9oB,OAAgEwE,EAAO8kB,gCAA+B,gBAGlH9kB,EAAO+kB,iCACPR,EAAQvjB,KAAK,sDAADxF,OAEN8oB,EAAM,sDAAA9oB,OAAqDwE,EAAO+kB,gCAA+B,gBAGvG/kB,EAAOglB,8BACPT,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,wCAAA9oB,OAAuCwE,EAAOglB,4BAA2B,QAC3GT,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,8CAAA9oB,OAA6CwE,EAAOglB,4BAA2B,SAEjHhlB,EAAOilB,qCACPV,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,iDAAA9oB,OAAgDwE,EAAOilB,oCAAmC,QAE5HjlB,EAAOklB,8BACPX,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,mDAAA9oB,OAAkDwE,EAAOklB,4BAA2B,QACtHX,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,yDAAA9oB,OAAwDwE,EAAOklB,4BAA2B,SAE5HllB,EAAOmlB,kCACPZ,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,oDAAA9oB,OAAmDwE,EAAOmlB,gCAA+B,QAC3HZ,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,0DAAA9oB,OAAyDwE,EAAOmlB,gCAA+B,SAEjInlB,EAAOolB,iCACPb,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,wCAAA9oB,OAAuCwE,EAAOolB,gCAA+B,QAE/GplB,EAAOqlB,qBACPd,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,8GAAA9oB,OAA6GwE,EAAOqlB,oBAAmB,QAEzKrlB,EAAOslB,qBACPf,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,oGAAA9oB,OAAmGwE,EAAOslB,oBAAmB,QAKnK,IAAMC,GAA2BC,EAAAA,EAAAA,uBAAsBxlB,EAAOylB,8BAA8BD,EAAAA,EAAAA,uBAAsBxlB,EAAO0lB,qBAAyD,QAAlC3sB,EAAKiH,EAAO2lB,wBAAqC,IAAP5sB,EAAgBA,EAAK,KAC3MwsB,GACAhB,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,kEAAA9oB,OAAiE+pB,EAAwB,6BAE3HvlB,EAAO2lB,kBACPpB,EAAQvjB,KAAK,sDAADxF,OAEN8oB,EAAM,yDAAA9oB,OAAwDwE,EAAO2lB,iBAAgB,0FAAAnqB,OAC9C8oB,EAAM,gEAAA9oB,OAA+DwE,EAAO2lB,iBAAgB,sCAG7I,IAAMC,GAAmCJ,EAAAA,EAAAA,uBAAsBxlB,EAAO0lB,qBAAiE,QAA1Cxd,EAAKlI,EAAO6lB,gCAA6C,IAAP3d,EAAgBA,EAAK,IAChK0d,GACArB,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,6DAAA9oB,OAA4DoqB,EAAgC,8BAE9H5lB,EAAO0lB,sBACPnB,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,qDAAA9oB,OAAoDwE,EAAO0lB,qBAAoB,8BAEjH1lB,EAAO6lB,0BACPtB,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,oDAAA9oB,OAAmDwE,EAAO6lB,yBAAwB,8BAEpH7lB,EAAO8lB,kBACPvB,EAAQvjB,KAAK,eAADxF,OAAgB8oB,EAAM,kDAAA9oB,OAAiDwE,EAAO8lB,iBAAgB,8BAE1G9lB,EAAO+lB,oBACPxB,EAAQvjB,KAAK,yBAADxF,OACN8oB,EAAM,uCAAA9oB,OACN8oB,EAAM,yDAAA9oB,OACN8oB,EAAM,sDAAA9oB,OAAqDwE,EAAO+lB,mBAAkB,sDAG1F/lB,EAAOgmB,oBACPzB,EAAQvjB,KAAK,0WAADxF,OAKHwE,EAAOgmB,mBAAkB,mRASlChmB,EAAOimB,6BACP1B,EAAQvjB,KAAK,saAADxF,OAICwE,EAAOimB,4BAA2B,yBAInDtuB,KAAKysB,aAAa5O,YAAc+O,EAAQ2B,KAAK,KACjD,KAAC/B,CAAA,CA5H8B,GA8HtBgC,EAAqB,CAC9B1B,oBAAqB,UACrBE,8BAA+B,UAC/BC,8BAA+B,UAC/BC,kCAAmC,UACnCY,6BAA8B,UAC9BX,gCAAiC,UACjCC,gCAAiC,UACjCI,gCAAiC,UACjCF,oCAAqC,UACrCI,oBAAqB,UACrBU,mBAAoB,UACpBK,uBAAwB,UACxBC,+BAAgCC,EAAAA,GAAMC,QAAQ,WAAWC,YAAY,IAAK/I,WAC1EuI,mBAAoBM,EAAAA,GAAMC,QAAQ,WAAWC,YAAY,IAAK/I,WAC9DwI,4BAA6BK,EAAAA,GAAMC,QAAQ,WAAWC,YAAY,KAAM/I,WACxE+G,oBAAgBvtB,EAChBytB,yBAAqBztB,EACrBmuB,qCAAiCnuB,EACjC+tB,iCAA6B/tB,EAC7BiuB,iCAA6BjuB,EAC7BquB,yBAAqBruB,EACrB0uB,sBAAkB1uB,EAClB4uB,8BAA0B5uB,EAC1ByuB,0BAAsBzuB,EACtB6uB,sBAAkB7uB,GAEhB+O,EAAiB,CACnBygB,iBAAiB,EACjBhc,cAAc,EACdkU,0BAA0B,EAC1BrY,IAAK,CACDE,WAAU,WAAK,OAAO,IAAM,EAC5BC,YAAW,WAAK,EAChBC,WAAU,WAAK,OAAO,CAAO,EAC7BC,KAAI,WAAK,IAyBjB,SAASiW,EAAYoH,EAAKC,GAGtB,IAFA,IAAM7jB,EAAS,GACX/G,EAAI,EAAG6qB,EAAI,EACR7qB,EAAI2qB,EAAI1qB,QAAU4qB,EAAID,EAAM3qB,QAC/B,GAAID,GAAK2qB,EAAI1qB,OACT8G,EAAOY,KAAKijB,EAAMC,WAEjB,GAAIA,GAAKD,EAAM3qB,OAChB8G,EAAOY,KAAKgjB,EAAI3qB,UAEf,IAAI2qB,EAAI3qB,KAAO4qB,EAAMC,GAAI,CAC1B9jB,EAAOY,KAAKgjB,EAAI3qB,IAChBA,IACA6qB,IACA,QACJ,CACSF,EAAI3qB,GAAK4qB,EAAMC,GACpB9jB,EAAOY,KAAKgjB,EAAI3qB,MAGhB+G,EAAOY,KAAKijB,EAAMC,KACtB,CAEJ,OAAO9jB,CACX,CA6BA,IAAMqc,EAAc,SAAChhB,EAAGC,GAAC,OAAKD,EAAIC,CAAC,EAC7BgrB,GAAgB,WAClB,SAAAA,EAAYC,EAAa9oB,IAAWnG,EAAAA,EAAAA,GAAA,KAAAgvB,GAChC/uB,KAAKgvB,YAAcA,EACnBhvB,KAAKkG,UAAYA,CACrB,CA0BC,OA1BAtF,EAAAA,EAAAA,GAAAmuB,EAAA,EAAAluB,IAAA,aAAAC,IACD,WACI,OAAOd,KAAKgvB,WAChB,GAAC,CAAAnuB,IAAA,iBAAAE,MACD,SAAenB,GACX,OAAOI,KAAKkG,UAAUG,KAAI,SAAAC,GAAC,OAAIA,EAAEhC,eAAe1E,EAAU,GAC9D,GAAC,CAAAiB,IAAA,gBAAAE,MACD,SAAcoG,EAASzC,EAAO+H,EAAc7H,GACxC,IACqCuG,EADjCzJ,EAAI,EAAE0J,GAAAzC,EAAAA,EAAAA,GACa3I,KAAKkG,WAAS,IAArC,IAAAkF,EAAAxC,MAAAuC,EAAAC,EAAAvC,KAAAC,MAAuC,CAApBqC,EAAApK,MACNkE,cAAckC,EAASzC,EAAO+H,EAAa/K,KAAMkD,EAC9D,CAAC,OAAA2E,GAAA6B,EAAAtD,EAAAyB,EAAA,SAAA6B,EAAA5B,GAAA,CACL,GAAC,CAAA3I,IAAA,iBAAAE,MACD,SAAeoG,EAASzC,EAAO+H,EAAc7H,GACzC,IAAIxD,EAEiCuK,EADjCjK,EAAI,EAAEkK,GAAAjD,EAAAA,EAAAA,GACa3I,KAAKkG,WAAS,IAArC,IAAA0F,EAAAhD,MAAA+C,EAAAC,EAAA/C,KAAAC,MAAuC,KAA5B5E,EAAQyH,EAAA5K,MACoB,QAAlCK,EAAK8C,EAASoS,sBAAmC,IAAPlV,GAAyBA,EAAG+c,KAAKja,EAAUiD,EAASzC,EAAO+H,EAAa/K,GAAIkD,GACvHlD,GAAK,CACT,CAAC,OAAA6H,GAAAqC,EAAA9D,EAAAyB,EAAA,SAAAqC,EAAApC,GAAA,CACL,GAAC,CAAA3I,IAAA,kBAAAE,MACD,SAAgB0L,GACZ,IACqCyL,EADjCxW,EAAI,EAAEyW,GAAAxP,EAAAA,EAAAA,GACa3I,KAAKkG,WAAS,IAArC,IAAAiS,EAAAvP,MAAAsP,EAAAC,EAAAtP,KAAAC,MAAuC,CAApBoP,EAAAnX,MACN4E,gBAAgB8G,EAAa/K,KAC1C,CAAC,OAAA6H,GAAA4O,EAAArQ,EAAAyB,EAAA,SAAA4O,EAAA3O,GAAA,CACL,KAACulB,CAAA,CA9BiB,GAgChBE,GAAoB,WACtB,SAAAA,EAAYppB,IAAuB9F,EAAAA,EAAAA,GAAA,KAAAkvB,GAC/BjvB,KAAK6F,sBAAwBA,EAC7B7F,KAAKoE,WAAa,MACtB,CAsBC,OAtBAxD,EAAAA,EAAAA,GAAAquB,EAAA,EAAApuB,IAAA,iBAAAE,MACD,SAAenB,GACX,OAAOA,CACX,GAAC,CAAAiB,IAAA,gBAAAE,MACD,SAAcoG,EAASzC,EAAO9E,GAC1B,IAAM4pB,EAAYxpB,KAAK6F,sBAAsB9D,aAAaoF,GACtDqiB,EACA5pB,EAAU0a,aAAa,aAAckP,GAGrC5pB,EAAUoC,gBAAgB,cAE9B,IAAMktB,EAAYlvB,KAAK6F,sBAAsBspB,cAAgBnvB,KAAK6F,sBAAsBspB,aAAahoB,GAC5E,kBAAd+nB,EACPtvB,EAAU0a,aAAa,aAAc,GAAFzW,OAAKqrB,IAGxCtvB,EAAUoC,gBAAgB,aAElC,GAAC,CAAAnB,IAAA,kBAAAE,MACD,SAAgB0L,GACZ,KACHwiB,CAAA,CA1BqB,GA4BpBG,GAAmB,WACrB,SAAAA,EAAY7oB,EAAMoI,IAAK5O,EAAAA,EAAAA,GAAA,KAAAqvB,GACnBpvB,KAAKuG,KAAOA,EACZvG,KAAK2O,IAAMA,CACf,CAgCC,OAhCA/N,EAAAA,EAAAA,GAAAwuB,EAAA,EAAAvuB,IAAA,kBAAAE,MACD,SAAgBoG,GACZ,IAAM6kB,EAAYhsB,KAAKuG,KAAK8oB,sBAE5B,OADiBrD,EAAU5H,QAAQjd,IAAY,EAAI6kB,EAAY,CAAC7kB,EAEpE,GAAC,CAAAtG,IAAA,aAAAE,MACD,SAAWoG,GACP,OAAOnH,KAAK2O,IAAIE,WAAW1H,EAC/B,GAAC,CAAAtG,IAAA,eAAAE,MACD,SAAa6G,EAAU0nB,GACnB,GAAItvB,KAAK2O,IAAIgP,aACT,OAAO3d,KAAK2O,IAAIgP,aAAa/V,EAAU0nB,EAG/C,GAAC,CAAAzuB,IAAA,cAAAE,MACD,SAAYsD,EAAMirB,GACd,IAAIluB,EAAImP,EAC+B,QAAtCA,GAAMnP,EAAKpB,KAAK2O,KAAKG,mBAAgC,IAAPyB,GAAyBA,EAAG4N,KAAK/c,EAAIiD,EAAMirB,EAC9F,GAAC,CAAAzuB,IAAA,aAAAE,MACD,SAAWsD,EAAMkrB,EAAeC,EAAaF,GACzC,OAAOtvB,KAAK2O,IAAII,WAAW1K,EAAMkrB,EAAeC,EAAaF,EACjE,GAAC,CAAAzuB,IAAA,cAAAE,MACD,SAAYsD,EAAMkrB,EAAeC,EAAaF,GAC1C,IAAIluB,EAAImP,EAC+B,QAAtCA,GAAMnP,EAAKpB,KAAK2O,KAAKkG,mBAAgC,IAAPtE,GAAyBA,EAAG4N,KAAK/c,EAAIiD,EAAMkrB,EAAeC,EAAaF,EAC1H,GAAC,CAAAzuB,IAAA,YAAAE,MACD,SAAUuuB,GACN,IAAIluB,EAAImP,EAC6B,QAApCA,GAAMnP,EAAKpB,KAAK2O,KAAKmG,iBAA8B,IAAPvE,GAAyBA,EAAG4N,KAAK/c,EAAIkuB,EACtF,GAAC,CAAAzuB,IAAA,OAAAE,MACD,SAAKsD,EAAMkrB,EAAeC,EAAaF,GACnCtvB,KAAK2O,IAAIK,KAAK3K,EAAMkrB,EAAeC,EAAaF,EACpD,KAACF,CAAA,CApCoB,GAqDZ5oB,GAAI,WAqDb,SAAAA,EAAYR,EAAMpG,EAAWqG,EAAiBC,GAAsC,IAC5E9E,EAAImP,EAAIC,EAAIC,EADqCgf,EAAQlsB,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG8K,GAActO,EAAAA,EAAAA,GAAA,KAAAyG,GAE9ExG,KAAKgG,KAAOA,EACZhG,KAAKyvB,SAAWA,EAChBzvB,KAAK0nB,MAAQ,IAAIrD,EAAM,WACvBrkB,KAAK4rB,OAAS,IAAIvH,EAAM,UACxBrkB,KAAK0vB,cAAgB,IAAIC,EAAAA,GACzB3vB,KAAK4vB,WAAa,GAClB5vB,KAAK+R,YAAc,IAAIC,EAAAA,GACvBhS,KAAK6vB,cAAgB,IAAI3d,EAAAA,GACzBlS,KAAK8G,aAAe9G,KAAK6vB,cAAcjV,MACvC,IAAMP,EAAOra,KAAKyvB,SAAS5pB,uBAAyB7F,KAAKyvB,SAAS5pB,sBAAsBiqB,cAA+D,QAA9C1uB,EAAKpB,KAAKyvB,SAAS5pB,6BAA0C,IAAPzE,OAAgB,EAASA,EAAG0uB,gBAAkB,OAC7M9vB,KAAKgsB,UAAY,IAAI5G,EAAwB,YAAT/K,GACpC,IAAM0V,EAAgB,CAAC/vB,KAAK0nB,MAAMxjB,SAAUlE,KAAKgsB,UAAU9nB,UAC3DlE,KAAK6F,sBAAwB4pB,EAAS5pB,sBAClC7F,KAAK6F,wBACLkqB,EAAc1mB,KAAK,IAAI4lB,GAAqBjvB,KAAK6F,wBACwB,QAAxE2K,GAAMD,EAAKvQ,KAAK6F,uBAAuBmqB,mCAAgD,IAAPxf,GAAyBA,EAAG2N,KAAK5N,EAAIvQ,KAAKgwB,4BAA6BhwB,KAAMA,KAAK+R,cAEvK7L,EAAYA,EAAUG,KAAI,SAAAC,GAAC,OAAI,IAAIyoB,GAAiBzoB,EAAElC,WAAY,GAAFP,OAAMksB,EAAe,CAAAzpB,IAAG,IACxF,IAAM2pB,EAAc9vB,OAAOsG,OAAOtG,OAAOsG,OAAO,CAAC,EAAGgpB,GAAW,CAAE9gB,IAAK8gB,EAAS9gB,KAAO,IAAIygB,GAAoBpvB,KAAMyvB,EAAS9gB,OAG7H,GAFA3O,KAAK0lB,KAAO1lB,KAAKkwB,eAAetwB,EAAWqG,EAAiBC,EAAW+pB,GACvEjwB,KAAK0lB,KAAKplB,QAAQga,aAAa,OAAQD,GACnCoV,EAASU,gBACTnwB,KAAKmwB,gBAAkBV,EAASU,gBAAgBnwB,KAAK0lB,KAAKxU,WAEzD,CACD,IAAMub,GAAe2D,EAAAA,EAAAA,kBAAiBpwB,KAAK0lB,KAAKplB,SAChDN,KAAKmwB,gBAAkB,IAAI3D,EAAuBC,EAAczsB,KAAK0lB,KAAKxU,MAC9E,CAiBA,GAhBAlR,KAAKqwB,WAAa,IAAIlO,EAAmB,CACrC,IAAIsD,EAAgBzlB,KAAK0nB,MAAO1nB,KAAK0lB,KAAM+J,EAAS9J,kBACpD,IAAIF,EAAgBzlB,KAAKgsB,UAAWhsB,KAAK0lB,KAAM+J,EAAS9J,kBACxD,IAAIF,EAAgBzlB,KAAK4rB,OAAQ5rB,KAAK0lB,KAAM+J,EAAS9J,kBACrD3lB,KAAK0lB,OAET1lB,KAAK+R,YAAYvO,IAAIxD,KAAK0nB,OAC1B1nB,KAAK+R,YAAYvO,IAAIxD,KAAKgsB,WAC1BhsB,KAAK+R,YAAYvO,IAAIxD,KAAK4rB,QAC1B5rB,KAAK+R,YAAYvO,IAAIxD,KAAK0lB,MAC1B1lB,KAAK+R,YAAYvO,IAAIxD,KAAK6vB,eAC1B7vB,KAAK+R,YAAYvO,IAAI,IAAIwmB,EAAmBhqB,KAAMA,KAAK0lB,QACf,mBAA7B+J,EAASX,iBAAiCW,EAASX,mBAC1D9uB,KAAKswB,mBAAqB,IAAIhK,EAAmBtmB,KAAMA,KAAK0lB,KAAM+J,GAClEzvB,KAAK+R,YAAYvO,IAAIxD,KAAKswB,qBAE1Bb,EAASxH,gCAAiC,CAC1C,IAAME,EAAWsH,EAASc,4BAA8BzI,EACxD9nB,KAAKwwB,yBAA2B,IAAIxI,EAAyBhoB,KAAMA,KAAK0lB,KAAM+J,EAASxH,gCAAmF,QAAjDxX,EAAKgf,EAASvH,qCAAkD,IAAPzX,EAAgBA,EAAM,kBAAM,CAAI,EAAG0X,GACrNnoB,KAAK+R,YAAYvO,IAAIxD,KAAKwwB,yBAC9B,CACAxwB,KAAKywB,gBAAkBzwB,KAAK0wB,sBAAsBjB,GAClDzvB,KAAK+R,YAAYvO,IAAIxD,KAAKywB,iBAC1BzwB,KAAK2wB,iBAAiB3wB,KAAK4wB,eAAgB5wB,KAAMA,KAAK+R,aACtD/R,KAAK0H,qBAAqB1H,KAAK6wB,mBAAoB7wB,KAAMA,KAAK+R,aAC1D/R,KAAK6F,wBACL7F,KAAKwpB,UAAYxpB,KAAK6F,sBAAsBC,uBAED,IAA3C9F,KAAKyvB,SAASzI,0BACdhnB,KAAK0lB,KAAKplB,QAAQga,aAAa,uBAAwB,OAE/D,CA6TC,OA7TA1Z,EAAAA,EAAAA,GAAA4F,EAAA,EAAA3F,IAAA,mBAAAC,IAjHD,WAAuB,IAAAwG,EAAA,KACnB,OAAON,EAAAA,GAAMX,IAAIrG,KAAK0vB,cAAcoB,UAAU9wB,KAAK0nB,MAAMjD,WAAW,SAAA3c,GAAC,OAAIR,EAAKypB,YAAYjpB,EAAE,GAAE9H,KAAK+R,YACvG,GAAC,CAAAlR,IAAA,uBAAAC,IACD,WAA2B,IAAA2G,EAAA,KACvB,OAAOT,EAAAA,GAAMX,IAAIrG,KAAK0vB,cAAcoB,UAAU9wB,KAAKgsB,UAAUvH,WAAW,SAAA3c,GAAC,OAAIL,EAAKspB,YAAYjpB,EAAE,GAAE9H,KAAK+R,YAC3G,GAAC,CAAAlR,IAAA,QAAAC,IACD,WAAc,OAAOd,KAAK0lB,KAAKxU,KAAO,GAAC,CAAArQ,IAAA,eAAAC,IACvC,WAAqB,OAAOd,KAAK0lB,KAAKwF,YAAc,GAAC,CAAArqB,IAAA,kBAAAC,IACrD,WAAwB,OAAOd,KAAK0lB,KAAKze,eAAiB,GAAC,CAAApG,IAAA,qBAAAC,IAC3D,WAA2B,OAAOd,KAAK0lB,KAAKyF,kBAAoB,GAAC,CAAAtqB,IAAA,YAAAC,IACjE,WAAkB,OAAOd,KAAKywB,gBAAgBlpB,SAAW,GAAC,CAAA1G,IAAA,cAAAC,IAC1D,WAAoB,OAAOd,KAAK0lB,KAAKoF,WAAa,GAAC,CAAAjqB,IAAA,cAAAC,IACnD,WAAoB,OAAOd,KAAK0lB,KAAKsL,WAAa,GAAC,CAAAnwB,IAAA,aAAAC,IACnD,WAAmB,OAAOd,KAAK0lB,KAAKuL,UAAY,GAAC,CAAApwB,IAAA,eAAAC,IACjD,WAAqB,OAAOd,KAAK0lB,KAAKuF,YAAc,GAAC,CAAApqB,IAAA,QAAAC,IACrD,WAAc,OAAOd,KAAK0lB,KAAK0F,KAAO,GACtC,CAAAvqB,IAAA,gBAAAC,IAOA,WAAoB,IAAAsH,EAAA,KACZ8oB,GAA6B,EAC3BC,EAAcnxB,KAAK+R,YAAYvO,IAAIwD,EAAAA,GAAMmgB,MAAMnnB,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAK0lB,KAAKplB,QAAS,YAAYsa,QACnHvU,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IACrCkU,QAAO,SAAAlU,GAAC,OAAIopB,EAA2C,KAAdppB,EAAE7E,SAA6C6E,EAAEjF,UAA0B,KAAdiF,EAAE7E,OAAiC,IACzIoD,KAAI,SAAAyB,GAAC,OAAIqhB,EAAAA,YAAYC,KAAKthB,GAAG,EAAK,IAClCkU,QAAO,kBAAM,CAAK,IAClBpB,MACCwW,EAAYpxB,KAAK+R,YAAYvO,IAAIwD,EAAAA,GAAMmgB,MAAMnnB,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAK0lB,KAAKplB,QAAS,UAAUsa,QAC/GtN,SAAQ,kBAAM4jB,GAA6B,CAAK,IAChD7qB,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IACrCkU,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE7E,SAA6C6E,EAAEjF,UAA0B,KAAdiF,EAAE7E,OAAiC,IAC5GoD,KAAI,SAAAyB,GAAC,OAAIqhB,EAAAA,YAAYC,KAAKthB,GAAG,EAAK,IAClCzB,KAAI,SAAAa,GAAsB,IAAnBE,EAAYF,EAAZE,aACFsgB,EAAQtf,EAAKF,WACbxD,EAAQgjB,EAAM/lB,OAAS+lB,EAAM,QAAKpoB,EAGxC,MAAO,CAAEoF,MAAAA,EAAOyC,QAFiB,qBAAVzC,EAAwB0D,EAAKsd,KAAKve,QAAQzC,QAASpF,EAEjDssB,OADO,qBAAVlnB,EAAwB0D,EAAKsd,KAAKyE,WAAWzlB,GAAS0D,EAAKsd,KAAKplB,QACrD8G,aAAAA,EACrC,IACKwT,MACCyW,EAAYrxB,KAAK+R,YAAYvO,IAAIwD,EAAAA,GAAMmgB,MAAMnnB,KAAK0lB,KAAKqF,gBACxD/O,QAAO,SAAArX,GAAC,OAAKusB,CAA0B,IACvC7qB,KAAI,SAAAmB,GAAA,IAAGL,EAAOK,EAAPL,QAASzC,EAAK8C,EAAL9C,MAAO0C,EAAYI,EAAZJ,aAAY,MAAQ,CAAED,QAAAA,EAASzC,MAAAA,EAAOknB,OAAQ,CAAE0F,EAAGlqB,EAAamqB,MAAQ,EAAGC,EAAGpqB,EAAa6Y,OAAS7Y,aAAAA,EAAc,IACzIwT,MACL,OAAO5T,EAAAA,GAAMsV,IAAI6U,EAAaC,EAAWC,EAC7C,GAAC,CAAAxwB,IAAA,YAAAC,IACD,WAAkB,OAAOd,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAK0lB,KAAKplB,QAAS,YAAYsa,KAAO,GAAC,CAAA/Z,IAAA,aAAAC,IACpG,WAAmB,OAAOkG,EAAAA,GAAMyqB,OAAOzxB,KAAK+R,YAAYvO,IAAI,IAAIoY,EAAAA,EAAW5b,KAAK0lB,KAAKplB,QAAS,SAAS,IAAOsa,MAAQ,GAAC,CAAA/Z,IAAA,iBAAAE,MA+DvH,SAAenB,EAAWqG,EAAiBC,EAAW+pB,GAClD,OAAO,IAAI3f,EAAAA,GAAS1Q,EAAWqG,EAAiBC,EAAW+pB,EAC/D,GAAC,CAAApvB,IAAA,wBAAAE,MACD,SAAsBjB,GAClB,OAAO,IAAI6qB,EAAgB3qB,KAC/B,GAAC,CAAAa,IAAA,gBAAAE,MACD,WAAkC,IAC1BK,EAAImP,EADE8W,EAAa9jB,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,CAAC,EAE3BvD,KAAKyvB,SAAWtvB,OAAOsG,OAAOtG,OAAOsG,OAAO,CAAC,EAAGzG,KAAKyvB,UAAWpI,GACvB,QAAxCjmB,EAAKpB,KAAKwwB,gCAA6C,IAAPpvB,GAAyBA,EAAGuF,cAAc3G,KAAKyvB,eAC9CnwB,IAA9CU,KAAKyvB,SAAS5E,8BACV7qB,KAAKyvB,SAASzI,yBACdhnB,KAAK0lB,KAAKplB,QAAQga,aAAa,uBAAwB,QAGvDta,KAAK0lB,KAAKplB,QAAQ0B,gBAAgB,yBAG1ChC,KAAKywB,gBAAgB9pB,cAAc0gB,GACA,QAAlC9W,EAAKvQ,KAAKswB,0BAAuC,IAAP/f,GAAyBA,EAAG5J,cAAc0gB,GACrFrnB,KAAK0lB,KAAK/e,cAAc0gB,EAC5B,GAAC,CAAAxmB,IAAA,UAAAC,IACD,WACI,OAAOd,KAAKyvB,QAChB,GAAC,CAAA5uB,IAAA,SAAAE,MACD,SAAOgI,EAAOwB,GAA4B,IAAAoR,EAAA,KAAf/T,EAAQrE,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,GAClC,GAAIwF,EAAQ,GAAKA,EAAQ/I,KAAK0lB,KAAK/jB,OAC/B,MAAM,IAAI0gB,EAAUriB,KAAKgG,KAAM,wBAAFnC,OAA0BkF,IAE3D,GAAIwB,EAAc,EACd,MAAM,IAAI8X,EAAUriB,KAAKgG,KAAM,yBAAFnC,OAA2B0G,IAExC,IAAhBA,GAAyC,IAApB3C,EAASjG,QAGlC3B,KAAK0vB,cAAcgC,cAAa,kBAAM/V,EAAK0U,WAAWroB,OAAOe,EAAOwB,EAAa3C,EAAS,GAC9F,GAAC,CAAA/G,IAAA,WAAAE,MACD,WACIf,KAAK0lB,KAAKiM,UACd,GAAC,CAAA9wB,IAAA,UAAAE,MACD,SAAQ2D,GACJ,OAAO1E,KAAK0lB,KAAKve,QAAQzC,EAC7B,GAAC,CAAA7D,IAAA,SAAAC,IACD,WACI,OAAOd,KAAK0lB,KAAK/jB,MACrB,GAAC,CAAAd,IAAA,gBAAAC,IACD,WACI,OAAOd,KAAK0lB,KAAK7P,aACrB,GAAC,CAAAhV,IAAA,YAAAC,IACD,WACI,OAAOd,KAAK0lB,KAAKjK,cACrB,EAAC1T,IACD,SAAc2M,GACV1U,KAAK0lB,KAAKhK,aAAahH,EAC3B,GAAC,CAAA7T,IAAA,eAAAC,IACD,WACI,OAAOd,KAAK0lB,KAAKjQ,YACrB,GAAC,CAAA5U,IAAA,oBAAAC,IACD,WACI,OAAOd,KAAK0lB,KAAKkM,iBACrB,GAAC,CAAA/wB,IAAA,YAAAC,IACD,WACI,OAAOd,KAAK4vB,UAChB,EAAC7nB,IACD,SAAchH,GACVf,KAAK4vB,WAAa7uB,EAClBf,KAAK0lB,KAAKplB,QAAQga,aAAa,aAAcvZ,EACjD,GAAC,CAAAF,IAAA,WAAAE,MACD,WACIf,KAAK0lB,KAAKplB,QAAQonB,MAAM,CAAEmK,eAAe,GAC7C,GAAC,CAAAhxB,IAAA,SAAAE,MACD,SAAO6D,EAAQqQ,GACXjV,KAAK0lB,KAAK3Q,OAAOnQ,EAAQqQ,EAC7B,GAAC,CAAApU,IAAA,eAAAE,MACD,SAAa8G,EAAST,GAAc,IACLiR,EADKC,GAAA3P,EAAAA,EAAAA,GACZd,GAAO,IAA3B,IAAAyQ,EAAA1P,MAAAyP,EAAAC,EAAAzP,KAAAC,MAA6B,KAAlBpE,EAAK2T,EAAAtX,MACZ,GAAI2D,EAAQ,GAAKA,GAAS1E,KAAK2B,OAC3B,MAAM,IAAI0gB,EAAUriB,KAAKgG,KAAM,iBAAFnC,OAAmBa,GAExD,CAAC,OAAA6E,GAAA+O,EAAAxQ,EAAAyB,EAAA,SAAA+O,EAAA9O,GAAA,CACDxJ,KAAKgsB,UAAUjkB,IAAIF,EAAST,EAChC,GAAC,CAAAvG,IAAA,eAAAE,MACD,WACI,OAAOf,KAAKgsB,UAAUlrB,KAC1B,GAAC,CAAAD,IAAA,sBAAAE,MACD,WAAsB,IAAA+a,EAAA,KAClB,OAAO9b,KAAKmI,eAAe9B,KAAI,SAAA3E,GAAC,OAAIoa,EAAK4J,KAAKve,QAAQzF,EAAE,GAC5D,GAAC,CAAAb,IAAA,YAAAE,MACD,SAAU2D,GACN,GAAqB,qBAAVA,EAAX,CAIA,GAAIA,EAAQ,GAAKA,GAAS1E,KAAK2B,OAC3B,MAAM,IAAI0gB,EAAUriB,KAAKgG,KAAM,iBAAFnC,OAAmBa,IAEpD1E,KAAK4rB,OAAO7jB,IAAI,CAACrD,GAJjB,MAFI1E,KAAK4rB,OAAO7jB,IAAI,GAOxB,GAAC,CAAAlH,IAAA,YAAAE,MACD,WACI,OAAO+wB,EAAAA,EAAAA,IAAe9xB,KAAK4rB,OAAO9qB,WAAOxB,EAC7C,GAAC,CAAAuB,IAAA,mBAAAE,MACD,WACI,IAAM6qB,EAAS5rB,KAAK6rB,YACpB,MAAyB,qBAAXD,OAAyBtsB,EAAYU,KAAKmH,QAAQykB,EACpE,GAAC,CAAA/qB,IAAA,WAAAE,MACD,SAAS8G,EAAST,GAAc,IACDwR,EADCC,GAAAlQ,EAAAA,EAAAA,GACRd,GAAO,IAA3B,IAAAgR,EAAAjQ,MAAAgQ,EAAAC,EAAAhQ,KAAAC,MAA6B,KAAlBpE,EAAKkU,EAAA7X,MACZ,GAAI2D,EAAQ,GAAKA,GAAS1E,KAAK2B,OAC3B,MAAM,IAAI0gB,EAAUriB,KAAKgG,KAAM,iBAAFnC,OAAmBa,GAExD,CAAC,OAAA6E,GAAAsP,EAAA/Q,EAAAyB,EAAA,SAAAsP,EAAArP,GAAA,CACDxJ,KAAK0nB,MAAM3f,IAAIF,EAAST,EAC5B,GAAC,CAAAvG,IAAA,YAAAE,MACD,WAAqD,IAA3C8H,EAACtF,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,EAAGwuB,EAAIxuB,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,IAAAA,UAAA,GAAU6D,EAAY7D,UAAA5B,OAAA,EAAA4B,UAAA,QAAAjE,EAAE0c,EAAMzY,UAAA5B,OAAA,EAAA4B,UAAA,QAAAjE,EAC/C,GAAoB,IAAhBU,KAAK2B,OAAT,CAGA,IAAM+lB,EAAQ1nB,KAAK0nB,MAAM5mB,MACnB4D,EAAQ1E,KAAKgyB,cAActK,EAAM/lB,OAAS,EAAI+lB,EAAM,GAAK7e,EAAI,EAAGkpB,EAAM/V,GACxEtX,GAAS,GACT1E,KAAK+pB,SAAS,CAACrlB,GAAQ0C,EAJ3B,CAMJ,GAAC,CAAAvG,IAAA,gBAAAE,MACD,WAAyD,IAA3C8H,EAACtF,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,GAAAA,UAAA,GAAG,EAAGwuB,EAAIxuB,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,IAAAA,UAAA,GAAU6D,EAAY7D,UAAA5B,OAAA,EAAA4B,UAAA,QAAAjE,EAAE0c,EAAMzY,UAAA5B,OAAA,EAAA4B,UAAA,QAAAjE,EACnD,GAAoB,IAAhBU,KAAK2B,OAAT,CAGA,IAAM+lB,EAAQ1nB,KAAK0nB,MAAM5mB,MACnB4D,EAAQ1E,KAAKiyB,kBAAkBvK,EAAM/lB,OAAS,EAAI+lB,EAAM,GAAK7e,EAAI,EAAGkpB,EAAM/V,GAC5EtX,GAAS,GACT1E,KAAK+pB,SAAS,CAACrlB,GAAQ0C,EAJ3B,CAMJ,GAAC,CAAAvG,IAAA,gBAAAE,MACD,SAAcqG,EAAc4U,GACxB,OAAO4G,EAAU5iB,UAAM,OAAQ,GAAMkyB,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAA,EAAAA,KAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAtP,MAAA,OAGoB,GADvDgP,EAAkC,KAD9BA,EAAgBryB,KAAK0lB,KAAKha,QAAQ1L,KAAK0lB,KAAKjK,eAAiBzb,KAAK0lB,KAAKhN,eACrC,EAAI2Z,EAAgB,GACpDC,EAA+BtyB,KAAKkI,WAAW,MAChBmqB,UAAmD/yB,IAAjCgzB,GAA8CD,EAAgBC,GAA6B,CAAAK,EAAAtP,KAAA,SACxIkP,EAAoBvyB,KAAKiyB,kBAAkBI,GAAe,EAAOrW,KAC9C,GAAKsW,IAAiCC,EAC3DvyB,KAAK+pB,SAAS,CAACwI,GAAoBnrB,GAGnCpH,KAAK+pB,SAAS,CAACsI,GAAgBjrB,GAClCurB,EAAAtP,KAAA,gBASyC,GANpCmP,EAAoBxyB,KAAK0lB,KAAKjK,eAChCgX,EAAoBD,EAAoBxyB,KAAK0lB,KAAKhN,aAClD2Z,EAAgBC,IAEhBG,GAAqBzyB,KAAK0lB,KAAKmN,cAAcR,IAEjDryB,KAAK0lB,KAAKhK,aAAa+W,GACnBzyB,KAAK0lB,KAAKjK,iBAAmB+W,EAAiB,CAAAG,EAAAtP,KAAA,SAG9C,OAFArjB,KAAK+pB,SAAS,IACd4I,EAAAtP,KAAA,IACMyP,EAAAA,EAAAA,IAAQ,GAAE,QAChB,OADgBH,EAAAtP,KAAA,GACVrjB,KAAK6nB,cAAczgB,EAAc4U,GAAO,yBAAA2W,EAAAvJ,OAAA,GAAAgJ,EAAA,SAI9D,GAAC,CAAAvxB,IAAA,oBAAAE,MACD,SAAkBqG,EAAc4U,GAC5B,OAAO4G,EAAU5iB,UAAM,OAAQ,GAAMkyB,EAAAA,EAAAA,KAAAC,MAAE,SAAAY,IAAA,IAAAC,EAAAte,EAAA4d,EAAAW,EAAAT,EAAA,OAAAN,EAAAA,EAAAA,KAAAQ,MAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAA7P,MAAA,OASoB,GAPjD3O,EAAY1U,KAAK0lB,KAAKjK,eAExBuX,EADc,IAAdte,EACiB1U,KAAK0lB,KAAKha,QAAQgJ,GAGlB1U,KAAK0lB,KAAKtM,WAAW1E,EAAY,IAEhD4d,EAA+BtyB,KAAKkI,WAAW,MAChB8qB,UAAoD1zB,IAAjCgzB,GAA8CA,GAAgCU,GAAe,CAAAE,EAAA7P,KAAA,SAC3I4P,EAAqBjzB,KAAKgyB,cAAcgB,GAAgB,EAAOhX,KAC3C,GAAKsW,IAAiCW,EAC5DjzB,KAAK+pB,SAAS,CAACkJ,GAAqB7rB,GAGpCpH,KAAK+pB,SAAS,CAACiJ,GAAiB5rB,GACnC8rB,EAAA7P,KAAA,gBAI0D,GADrDmP,EAAoB9d,EAC1B1U,KAAK0lB,KAAKhK,aAAahH,EAAY1U,KAAK0lB,KAAKhN,cACzC1Y,KAAK0lB,KAAKjK,iBAAmB+W,EAAiB,CAAAU,EAAA7P,KAAA,SAG9C,OAFArjB,KAAK+pB,SAAS,IACdmJ,EAAA7P,KAAA,IACMyP,EAAAA,EAAAA,IAAQ,GAAE,QAChB,OADgBI,EAAA7P,KAAA,GACVrjB,KAAK4nB,kBAAkBxgB,EAAc4U,GAAO,yBAAAkX,EAAA9J,OAAA,GAAA2J,EAAA,SAIlE,GAAC,CAAAlyB,IAAA,YAAAE,MACD,SAAUqG,EAAc4U,GACpB,GAAoB,IAAhBhc,KAAK2B,OAAT,CAGA,IAAM+C,EAAQ1E,KAAKiyB,kBAAkBjyB,KAAK2B,OAAS,GAAG,EAAOqa,GACzDtX,GAAS,GACT1E,KAAK+pB,SAAS,CAACrlB,GAAQ0C,EAH3B,CAKJ,GAAC,CAAAvG,IAAA,aAAAE,MACD,SAAWqG,EAAc4U,GACrBhc,KAAKmzB,SAAS,EAAG/rB,EAAc4U,EACnC,GAAC,CAAAnb,IAAA,WAAAE,MACD,SAAS8H,EAAGzB,EAAc4U,GACtB,GAAoB,IAAhBhc,KAAK2B,OAAT,CAGA,IAAM+C,EAAQ1E,KAAKgyB,cAAcnpB,GAAG,EAAOmT,GACvCtX,GAAS,GACT1E,KAAK+pB,SAAS,CAACrlB,GAAQ0C,EAH3B,CAKJ,GAAC,CAAAvG,IAAA,gBAAAE,MACD,SAAc2D,GACV,IADuC,IAAtBqtB,EAAIxuB,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,IAAAA,UAAA,GAAUyY,EAAMzY,UAAA5B,OAAA,EAAA4B,UAAA,QAAAjE,EAC5BoC,EAAI,EAAGA,EAAI1B,KAAK2B,OAAQD,IAAK,CAClC,GAAIgD,GAAS1E,KAAK2B,SAAWowB,EACzB,OAAQ,EAGZ,GADArtB,GAAgB1E,KAAK2B,QAChBqa,GAAUA,EAAOhc,KAAKmH,QAAQzC,IAC/B,OAAOA,EAEXA,GACJ,CACA,OAAQ,CACZ,GAAC,CAAA7D,IAAA,oBAAAE,MACD,SAAkB2D,GACd,IAD2C,IAAtBqtB,EAAIxuB,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,IAAAA,UAAA,GAAUyY,EAAMzY,UAAA5B,OAAA,EAAA4B,UAAA,QAAAjE,EAChCoC,EAAI,EAAGA,EAAI1B,KAAK2B,OAAQD,IAAK,CAClC,GAAIgD,EAAQ,IAAMqtB,EACd,OAAQ,EAGZ,GADArtB,GAAS1E,KAAK2B,OAAU+C,EAAQ1E,KAAK2B,QAAW3B,KAAK2B,QAChDqa,GAAUA,EAAOhc,KAAKmH,QAAQzC,IAC/B,OAAOA,EAEXA,GACJ,CACA,OAAQ,CACZ,GAAC,CAAA7D,IAAA,WAAAE,MACD,WACI,OAAOf,KAAK0nB,MAAM5mB,KACtB,GAAC,CAAAD,IAAA,qBAAAE,MACD,WAAqB,IAAAgb,EAAA,KACjB,OAAO/b,KAAKkI,WAAW7B,KAAI,SAAA3E,GAAC,OAAIqa,EAAK2J,KAAKve,QAAQzF,EAAE,GACxD,GAAC,CAAAb,IAAA,SAAAE,MACD,SAAO2D,EAAO0uB,GACV,GAAI1uB,EAAQ,GAAKA,GAAS1E,KAAK2B,OAC3B,MAAM,IAAI0gB,EAAUriB,KAAKgG,KAAM,iBAAFnC,OAAmBa,IAEpD,IAAMgQ,EAAY1U,KAAK0lB,KAAKjK,eACtBN,EAAanb,KAAK0lB,KAAKvK,WAAWzW,GAClCmuB,EAAgB7yB,KAAK0lB,KAAKmN,cAAcnuB,GAC9C,IAAI2uB,EAAAA,EAAAA,IAASD,GAAc,CAEvB,IAAME,EAAIT,EAAgB7yB,KAAK0lB,KAAKhN,aACpC1Y,KAAK0lB,KAAKhK,aAAa4X,GAAIC,EAAAA,EAAAA,IAAMH,EAAa,EAAG,GAAKjY,EAC1D,KACK,CACD,IAAMqY,EAAiBrY,EAAa0X,EAC9BY,EAAe/e,EAAY1U,KAAK0lB,KAAKhN,aACvCyC,EAAazG,GAAa8e,GAAkBC,IAGvCtY,EAAazG,GAAc8e,GAAkBC,GAAgBZ,GAAiB7yB,KAAK0lB,KAAKhN,aAC7F1Y,KAAK0lB,KAAKhK,aAAaP,GAElBqY,GAAkBC,GACvBzzB,KAAK0lB,KAAKhK,aAAa8X,EAAiBxzB,KAAK0lB,KAAKhN,cAE1D,CACJ,GAAC,CAAA7X,IAAA,iBAAAE,MACD,WACI,OAAOf,KAAK0lB,KAAKplB,OACrB,GAAC,CAAAO,IAAA,eAAAE,MACD,SAAa2D,GACT,OAAO1E,KAAK0lB,KAAKrK,gBAAgB3W,EACrC,GAAC,CAAA7D,IAAA,QAAAE,MACD,SAAMsH,GACFrI,KAAKmwB,gBAAgB3vB,MAAM6H,EAC/B,GAAC,CAAAxH,IAAA,cAAAE,MACD,SAAA4G,GAAuC,IAAAuU,EAAA,KAAzBrU,EAAOF,EAAPE,QAAST,EAAYO,EAAZP,aACnB,MAAO,CAAES,QAAAA,EAASD,SAAUC,EAAQxB,KAAI,SAAA3E,GAAC,OAAIwa,EAAKwJ,KAAKve,QAAQzF,EAAE,IAAG0F,aAAAA,EACxE,GAAC,CAAAvG,IAAA,iBAAAE,MACD,WACI,IAAM2mB,EAAQ1nB,KAAK0nB,MAAM5mB,MACzBd,KAAK0lB,KAAKplB,QAAQ2M,UAAU4F,OAAO,kBAAmB6U,EAAM/lB,OAAS,GACrE3B,KAAKgwB,6BACT,GAAC,CAAAnvB,IAAA,8BAAAE,MACD,WACI,IAAIK,EAGI0V,EAFF4Q,EAAQ1nB,KAAK0nB,MAAM5mB,MACrB4mB,EAAM/lB,OAAS,IAE2B,QAArCP,EAAKpB,KAAK6F,6BAA0C,IAAPzE,OAAgB,EAASA,EAAGsyB,yBAC1E5c,EAAK9W,KAAK6F,sBAAsB6tB,sBAAsB1zB,KAAK0lB,KAAKve,QAAQugB,EAAM,MAElF1nB,KAAK0lB,KAAKplB,QAAQga,aAAa,wBAAyBxD,GAAM9W,KAAK0lB,KAAKrK,gBAAgBqM,EAAM,MAG9F1nB,KAAK0lB,KAAKplB,QAAQ0B,gBAAgB,wBAE1C,GAAC,CAAAnB,IAAA,qBAAAE,MACD,WACI,IAAMirB,EAAYhsB,KAAKgsB,UAAUlrB,MACjCd,KAAK0lB,KAAKplB,QAAQ2M,UAAU4F,OAAO,iBAAuC,IAArBmZ,EAAUrqB,QAC/D3B,KAAK0lB,KAAKplB,QAAQ2M,UAAU4F,OAAO,mBAAyC,IAArBmZ,EAAUrqB,QACjE3B,KAAK0lB,KAAKplB,QAAQ2M,UAAU4F,OAAO,qBAAsBmZ,EAAUrqB,OAAS,EAChF,GAAC,CAAAd,IAAA,UAAAE,MACD,WACIf,KAAK6vB,cAAcja,OACnB5V,KAAK+R,YAAYjN,UACjB9E,KAAK6vB,cAAc/qB,SACvB,KAAC0B,CAAA,CA/aY,GAibjBiH,EAAW,CACPwU,EAAAA,GACDzb,GAAK0b,UAAW,mBAAoB,MACvCzU,EAAW,CACPwU,EAAAA,GACDzb,GAAK0b,UAAW,uBAAwB,MAC3CzU,EAAW,CACPwU,EAAAA,GACDzb,GAAK0b,UAAW,gBAAiB,MACpCzU,EAAW,CACPwU,EAAAA,GACDzb,GAAK0b,UAAW,YAAa,MAChCzU,EAAW,CACPwU,EAAAA,GACDzb,GAAK0b,UAAW,aAAc,K,4DCj4CtByR,E,kRAFEC,EAAsB,kCACtBC,EAA8B,4BAE3C,SAAWF,GACPA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAgB,KAAI,GAAK,MACtC,CAHD,CAGGA,IAAcA,EAAY,CAAC,IACvB,IAAMG,EAAI,SAAAC,IAAAxR,EAAAA,EAAAA,GAAAuR,EAAAC,GAAA,IAAAvR,GAAAC,EAAAA,EAAAA,GAAAqR,GACb,SAAAA,EAAYl0B,EAAWo0B,EAASl0B,EAASm0B,GAAY,IAAApvB,GAAA9E,EAAAA,EAAAA,GAAA,KAAA+zB,GACjDl0B,EAAUqN,UAAUzJ,IAAI,yBACxB5D,EAAU0a,aAAa,OAAQ,gBAC/B,IAAM4Z,EAAczhB,SAASC,cAAc,OAC3CwhB,EAAYjnB,UAAUzJ,IAAI,eAC1B0wB,EAAY5Z,aAAa,OAAQ,iBACjCzV,EAAA2d,EAAArE,KAAA,KAAM+V,EAAa,CACfC,YAAa,EACbC,uBAAwB,SAAAC,GAAM,OAAIxvB,EAAKyvB,oBAAoBD,EAAQv0B,EAASy0B,EAAW,EACvFC,QAAS10B,EAAQ00B,QACjBC,aAAc30B,EAAQ20B,aACtBjL,UAAW1pB,EAAQ0pB,UACnBkL,SAAU,OACVC,uBAAuB,EACvBC,YAAa,CAAEC,KAAM,CAAC,GAAEhxB,QAAA+L,EAAAA,EAAAA,GAAyBklB,EAAAA,IAAeC,EAAAA,GAAU,CAAC,IAA0B,KAAMC,SAAS,MAEnHf,WAAaA,EAClBpvB,EAAKqvB,YAAcA,EACnBrvB,EAAKowB,YAAYriB,SAAW,EAC5B/N,EAAKqwB,gBAAkBrwB,EAAKswB,UAAU,IAAInjB,EAAAA,IAC1CnN,EAAKuwB,6BAA6Bx1B,EAAWq0B,GAC7CpvB,EAAKswB,UAAU/hB,EAAAA,EAAQC,UAAU6gB,KACjC5f,EAAAA,EAAAA,uBAAsB4f,EAAamB,EAAAA,UAAUC,UAAU,SAACxtB,GACtC,IAAIsf,EAAAA,EAAsBtf,GAE9B9D,OAAO,IACb8D,EAAEqV,gBAEV,IACIrd,EAAQy1B,iBACR1wB,EAAKqwB,gBAAgB1xB,KAAI8Q,EAAAA,EAAAA,uBAAsB4f,EAAamB,EAAAA,UAAUC,UAAU,SAACxtB,GAC7E,IAAMjH,EAAMiH,EAAEjH,IAAI20B,oBAClB,GAAI3wB,EAAK4wB,UAAUlpB,IAAI1L,GAAM,CACzBsoB,EAAAA,YAAYC,KAAKthB,GAAG,GACpB,IAAMksB,EAAUnvB,EAAK4wB,UAAU30B,IAAID,GAOnC,GANuB,IAAnBmzB,EAAQryB,SACJqyB,EAAQ,aAAc0B,GAA6B1B,EAAQ,GAAGp0B,WAC9DiF,EAAK8wB,mBAAmB3B,EAAQ,GAAGp0B,WAEvCo0B,EAAQ,GAAG4B,QAAQ9tB,IAEnBksB,EAAQryB,OAAS,EAAG,CACpB,IAAM0yB,EAASL,EAAQvqB,QACnB4qB,GAAUA,EAAOz0B,YACjBiF,EAAK8wB,mBAAmBtB,EAAOz0B,WAC/Bo0B,EAAQ3qB,KAAKgrB,IAEjBxvB,EAAK4wB,UAAU1tB,IAAIlH,EAAKmzB,EAC5B,CACJ,CACJ,KAEAe,EAAAA,IACAlwB,EAAKswB,WAAU7gB,EAAAA,EAAAA,uBAAsB4f,EAAamB,EAAAA,UAAUC,UAAU,SAAAxtB,GAClE,IAAM8S,EAAQ,IAAIwM,EAAAA,EAAsBtf,GACpC8S,EAAM5W,OAAO,KAA0B4W,EAAM5W,OAAO,KACpDa,EAAKgxB,YAAchxB,EAAKixB,UAAUn0B,OAAS,EAC3CkD,EAAK8iB,YACLwB,EAAAA,YAAYC,KAAKthB,GAAG,KAEf8S,EAAM5W,OAAO,KAAyB4W,EAAM5W,OAAO,OACxDa,EAAKgxB,YAAc,EACnBhxB,EAAK0iB,gBACL4B,EAAAA,YAAYC,KAAKthB,GAAG,GAE5B,KAEJjD,EAAKswB,WAAU7gB,EAAAA,EAAAA,uBAAsBzP,EAAKvE,QAAS+0B,EAAAA,UAAUU,WAAW,SAAAjuB,GACpE,IAAMkuB,EAAgBluB,EAAEkuB,eACnBC,EAAAA,EAAAA,YAAWD,EAAenxB,EAAKvE,WAChCuE,EAAKgxB,iBAAcv2B,EACnBuF,EAAKqxB,cACLpuB,EAAEsV,kBAEV,KACAvY,EAAKswB,WAAU7gB,EAAAA,EAAAA,uBAAsBzP,EAAKowB,YAAaI,EAAAA,UAAUc,YAAY,SAAAruB,GACzE,IAAI6F,EAAS7F,EAAE6F,OACf,GAAKA,IAAWsoB,EAAAA,EAAAA,YAAWtoB,EAAQ9I,EAAKowB,cAAgBtnB,IAAW9I,EAAKowB,YAAxE,CAGA,KAAOtnB,EAAOR,gBAAkBtI,EAAKowB,aAAwC,OAAzBtnB,EAAOR,eACvDQ,EAASA,EAAOR,cAEpB,GAAIQ,EAAOV,UAAU6Q,SAAS,eAAgB,CAC1C,IAAMsY,EAAkBvxB,EAAKgxB,YAC7BhxB,EAAKwxB,eAAe1oB,GAChByoB,IAAoBvxB,EAAKgxB,aACzBhxB,EAAKqxB,aAEb,CAVA,CAWJ,KAEArxB,EAAKswB,UAAU/hB,EAAAA,EAAQC,UAAUxO,EAAKowB,cACtCpwB,EAAKswB,WAAU7gB,EAAAA,EAAAA,uBAAsBzP,EAAKowB,YAAa1gB,EAAAA,EAAeqI,KAAK,SAAA9U,GACvE,IAAI6F,EAAS7F,EAAEgV,cACf,GAAKnP,IAAWsoB,EAAAA,EAAAA,YAAWtoB,EAAQ9I,EAAKowB,cAAgBtnB,IAAW9I,EAAKowB,YAAxE,CAGA,KAAOtnB,EAAOR,gBAAkBtI,EAAKowB,aAAwC,OAAzBtnB,EAAOR,eACvDQ,EAASA,EAAOR,cAEpB,GAAIQ,EAAOV,UAAU6Q,SAAS,eAAgB,CAC1C,IAAMsY,EAAkBvxB,EAAKgxB,YAC7BhxB,EAAKwxB,eAAe1oB,GAChByoB,IAAoBvxB,EAAKgxB,aACzBhxB,EAAKqxB,aAEb,CAVA,CAWJ,KACA,IAAM3B,EAAa,CACfnyB,QAAMk0B,EAAAA,EAAAA,GAAAzxB,IAEVA,EAAK4wB,UAAY,IAAIxpB,IAErBpH,EAAKgP,kBAAoBhP,EAAKswB,UAAU,IAAIoB,EAAAA,GAAqBrC,EAAa,CAC1E/kB,yBAAyB,EACzB4E,WAAY,EACZC,SAAU,EACVwiB,sBAAuB,EACvBC,kBAAkB,EAClBnoB,YAAY,KAEhB,IAAMooB,EAAgB7xB,EAAKgP,kBAAkBO,aA4B1C,OA3BHsiB,EAAcl2B,MAAM0K,SAAW,GAC/BrG,EAAK8xB,mBAAmBD,EAAezC,GAEvCpvB,EAAKswB,WAAU7gB,EAAAA,EAAAA,uBAAsB4f,EAAa3f,EAAAA,EAAeC,QAAQ,SAAA1M,GACrEqhB,EAAAA,YAAYC,KAAKthB,GAAG,GACpB,IAAM4M,EAAY7P,EAAKgP,kBAAkByH,oBAAoB5G,UAC7D7P,EAAKgP,kBAAkB2H,kBAAkB,CAAE9G,UAAWA,EAAY5M,EAAEuV,cACxE,KACAxY,EAAKswB,WAAU7gB,EAAAA,EAAAA,uBAAsBoiB,EAAerB,EAAAA,UAAUuB,UAAU,SAAA9uB,GAGpEA,EAAEqV,gBACN,KACA+W,EAAY1zB,MAAMq2B,UAAY,GAAHhzB,OAAM0H,KAAK+J,IAAI,GAAIwF,OAAOgc,YAAcl3B,EAAUm3B,wBAAwB5c,IAAM,IAAG,MAC9G6Z,EAAUA,EAAQhY,QAAO,SAAAlY,GACrB,IAAI1C,EACJ,QAAkC,QAA7BA,EAAKtB,EAAQk3B,kBAA+B,IAAP51B,OAAgB,EAASA,EAAGmL,IAAIzI,EAAEgT,OACxEmG,QAAQga,KAAK,wBAADpzB,OAAyBC,EAAEgT,MAChC,EAGf,IACAjS,EAAKwE,KAAK2qB,EAAS,CAAEkD,MAAM,EAAMh0B,OAAO,EAAMi0B,QAAQ,IACtDv3B,EAAUe,YAAYkE,EAAKgP,kBAAkBO,cAC7CvP,EAAKgP,kBAAkBujB,cACvBvyB,EAAKixB,UAAU9Z,QAAO,SAAAjR,GAAI,QAAMA,aAAgBssB,EAA4B,IAAE/pB,SAAQ,SAACvC,EAAMrG,EAAO4yB,GAChGvsB,EAAKwsB,oBAAoB7yB,EAAQ,EAAG4yB,EAAM31B,OAC9C,IAAGkD,CACP,CAyGC,OAzGAjE,EAAAA,EAAAA,GAAAkzB,EAAA,EAAAjzB,IAAA,+BAAAE,MACD,SAA6BnB,EAAWY,GAC/BR,KAAKw3B,cACFC,EAAAA,EAAAA,eAAc73B,GACdI,KAAKw3B,YAAapH,EAAAA,EAAAA,kBAAiBxwB,IAG9Bk0B,EAAK4D,mBACN5D,EAAK4D,kBAAmBtH,EAAAA,EAAAA,qBAE5BpwB,KAAKw3B,WAAa1D,EAAK4D,mBAG/B13B,KAAKw3B,WAAW3Z,YA+hBxB,SAA0Brd,EAAOm3B,GAC7B,IAAIlvB,EAAkB,0FAAT5E,OAOf+zB,EAAWC,EAAAA,EAAQC,eAAc,MAAAj0B,OACjC+zB,EAAWC,EAAAA,EAAQE,aAAY,qoOAgS7B,GAAIJ,EAAgB,CAGhBlvB,GAAU,svCAmDV,IAAMuvB,EAAuBx3B,EAAMy3B,gBAC/BD,IACAvvB,GAAU,+EAAJ5E,OAECm0B,EAAoB,oHAAAn0B,OAIpBm0B,EAAoB,wHAAAn0B,OAIpBm0B,EAAoB,gDAI/B,IAAME,EAAiC13B,EAAM23B,0BACzCD,IACAzvB,GAAU,wFAAJ5E,OAECq0B,EAA8B,yBAIzC,IAAME,EAAsC53B,EAAM63B,+BAC9CD,IACA3vB,GAAU,8FAAJ5E,OAECu0B,EAAmC,yBAI9C,IAAME,EAAuC93B,EAAM+3B,gCAC/CD,IACA7vB,GAAU,+FAAJ5E,OAECy0B,EAAoC,wBAInD,CACA,OAAO7vB,CACX,CAx6BsC+vB,CAAiBh4B,GAAOi3B,EAAAA,EAAAA,eAAc73B,GACxE,GAAC,CAAAiB,IAAA,qBAAAE,MACD,SAAmB21B,EAAel2B,GAC9B,IAAIY,EAAImP,EACFkoB,EAA2C,QAAhCr3B,EAAKZ,EAAMk4B,uBAAoC,IAAPt3B,EAAgBA,EAAK,GACxEu3B,EAA2C,QAAhCpoB,EAAK/P,EAAMiD,uBAAoC,IAAP8M,EAAgBA,EAAK,GACxEqoB,EAASp4B,EAAMkD,YAAc,aAAHG,OAAgBrD,EAAMkD,aAAgB,GAEhEm1B,EAASr4B,EAAMs4B,YAAc,aAAHj1B,OAAgBrD,EAAMs4B,aAAgB,GACtEpC,EAAcl2B,MAAMu4B,QAAUH,EAC9BlC,EAAcl2B,MAAMw4B,aAHC,MAIrBtC,EAAcl2B,MAAMC,MAAQg4B,EAC5B/B,EAAcl2B,MAAMiD,gBAAkBk1B,EACtCjC,EAAcl2B,MAAMoD,UAAYi1B,CACpC,GAAC,CAAAh4B,IAAA,eAAAE,MACD,WACI,OAAOf,KAAK6T,kBAAkBO,YAClC,GAAC,CAAAvT,IAAA,WAAAC,IACD,WACI,OAAOd,KAAK6T,kBAAkBQ,QAClC,GAAC,CAAAxT,IAAA,qBAAAE,MACD,SAAmBoG,GACf,IAAMivB,EAAkBp2B,KAAK61B,YAC7B71B,KAAKq2B,eAAelvB,GAChBivB,IAAoBp2B,KAAK61B,aACzB71B,KAAKk2B,aAEb,GAAC,CAAAr1B,IAAA,iBAAAE,MACD,SAAeoG,GACX,IAAK,IAAIzF,EAAI,EAAGA,EAAI1B,KAAKi1B,YAAYgE,SAASt3B,OAAQD,IAAK,CAEvD,GAAIyF,IADSnH,KAAKi1B,YAAYgE,SAASv3B,GACjB,CAClB1B,KAAK61B,YAAcn0B,EACnB,KACJ,CACJ,CACJ,GAAC,CAAAb,IAAA,cAAAE,MACD,SAAYm4B,IACR3T,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAsO,EAAA5R,WAAA,oBAAA/D,KAAA,KAAkB+a,GAAW,GAAM,GACH,qBAArBl5B,KAAK61B,aAIZ71B,KAAK6T,kBAAkB2H,kBAAkB,CACrC9G,UAAWnJ,KAAK4tB,MAAMn5B,KAAKk0B,YAAYxf,YAGnD,GAAC,CAAA7T,IAAA,sBAAAE,MACD,SAAoBszB,EAAQv0B,EAASy0B,GACjC,GAAIF,aAAkB+E,EAAAA,GAClB,OAAO,IAAI/B,EAA4Bv3B,EAAQ00B,QAASH,EAAQ,CAAE6C,MAAM,GAAQl3B,KAAKi0B,YAEpF,GAAII,aAAkBgF,EAAAA,GAAe,CACtC,IAAMC,EAAqB,IAAI5D,EAA0BrB,EAAQA,EAAOL,QAASO,EAAYp0B,OAAOsG,OAAOtG,OAAOsG,OAAO,CAAC,EAAG3G,GAAU,CAAEk3B,WAAY,IAAI92B,IAAI,GAAD2D,QAAA+L,EAAAA,EAAAA,GAAM9P,EAAQk3B,YAAc,IAAK,CAAA3C,EAAOvd,QAAS9W,KAAKi0B,YAClN,GAAIn0B,EAAQy1B,gBAAiB,CACzB,IAAMgE,EAAWD,EAAmBE,cACpC,GAAID,GAAYD,EAAmBG,YAAa,CAC5C,IAAIC,EAAkB,GAClB15B,KAAKy1B,UAAUlpB,IAAIgtB,KACnBG,EAAkB15B,KAAKy1B,UAAU30B,IAAIy4B,IAEzCG,EAAgBrwB,KAAKiwB,GACrBt5B,KAAKy1B,UAAU1tB,IAAIwxB,EAAUG,EACjC,CACJ,CACA,OAAOJ,CACX,CAEI,IAAMK,EAAkB,CAAEpE,gBAAiBz1B,EAAQy1B,gBAAiBqE,kBAAmB95B,EAAQ85B,mBAC/F,GAAI95B,EAAQ+5B,cAAe,CACvB,IAAM74B,EAAalB,EAAQ+5B,cAAcxF,GACzC,GAAIrzB,EAAY,CACZ,IAAM84B,EAAkB94B,EAAW+4B,WAC/BD,IACAH,EAAgB34B,WAAa84B,EAErC,CACJ,CACA,IAAMR,EAAqB,IAAIU,EAAuBl6B,EAAQ00B,QAASH,EAAQsF,EAAiB35B,KAAKi0B,YACrG,GAAIn0B,EAAQy1B,gBAAiB,CACzB,IAAMgE,EAAWD,EAAmBE,cACpC,GAAID,GAAYD,EAAmBG,YAAa,CAC5C,IAAIC,EAAkB,GAClB15B,KAAKy1B,UAAUlpB,IAAIgtB,KACnBG,EAAkB15B,KAAKy1B,UAAU30B,IAAIy4B,IAEzCG,EAAgBrwB,KAAKiwB,GACrBt5B,KAAKy1B,UAAU1tB,IAAIwxB,EAAUG,EACjC,CACJ,CACA,OAAOJ,CAEf,KAACxF,CAAA,CAjQY,CAASmG,EAAAA,GAmQpBD,EAAsB,SAAAE,IAAA3X,EAAAA,EAAAA,GAAAyX,EAAAE,GAAA,IAAAC,GAAA1X,EAAAA,EAAAA,GAAAuX,GACxB,SAAAA,EAAYI,EAAK/F,EAAQv0B,EAASu6B,GAAW,IAAAl0B,EASzC,IATyCpG,EAAAA,EAAAA,GAAA,KAAAi6B,GACzCl6B,EAAQq3B,QAAS,GACjBhxB,EAAAg0B,EAAAhc,KAAA,KAAMkW,EAAQA,EAAQv0B,IACjBu6B,UAAYA,EACjBl0B,EAAKrG,QAAUA,EACfqG,EAAKrG,QAAQo3B,UAAwB53B,IAAjBQ,EAAQo3B,MAAqBp3B,EAAQo3B,KACzD/wB,EAAKrG,QAAQoD,WAA0B5D,IAAlBQ,EAAQoD,OAAsBpD,EAAQoD,MAC3DiD,EAAKm0B,SAAW,GAEZn0B,EAAKrG,QAAQoD,OAASpD,EAAQy1B,gBAAiB,CAC/C,IAAMryB,EAAQiD,EAAKkuB,OAAOnxB,MAC1B,GAAIA,EAAO,CACP,IAAMjC,EAAU2yB,EAAoB2G,KAAKr3B,GACrCjC,IACAkF,EAAKozB,UAAct4B,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAIu0B,oBAEjE,CACJ,CAwC4C,OAtC5CrvB,EAAKq0B,uBAAyB,IAAIC,EAAAA,IAAiB,WAC1Ct0B,EAAKgB,UAGVhB,EAAKgvB,WAAU7gB,EAAAA,EAAAA,uBAAsBnO,EAAKgB,QAASkuB,EAAAA,UAAUuB,UAAU,SAAA9uB,GAYnE,GARAqhB,EAAAA,YAAYC,KAAKthB,GAAG,GAQhB4yB,EAAAA,UAAW,CAIX,GAHmB,IAAIC,EAAAA,EAAmB7yB,GAG3B8yB,YACX,OAEJz0B,EAAKyvB,QAAQ9tB,EACjB,MAKImW,YAAW,WACP9X,EAAKyvB,QAAQ9tB,EACjB,GAAG,EAEX,KACA3B,EAAKgvB,WAAU7gB,EAAAA,EAAAA,uBAAsBnO,EAAKgB,QAASkuB,EAAAA,UAAUwF,cAAc,SAAA/yB,GACvEqhB,EAAAA,YAAYC,KAAKthB,GAAG,EACxB,KACJ,GAAG,KACH3B,EAAKgvB,UAAUhvB,EAAKq0B,wBAAwBr0B,CAChD,CAmKC,OAnKAvF,EAAAA,EAAAA,GAAAo5B,EAAA,EAAAn5B,IAAA,SAAAE,MACD,SAAOnB,IACH2lB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAwU,EAAA9X,WAAA,eAAA/D,KAAA,KAAave,GACRI,KAAKmH,UAGVnH,KAAKJ,UAAYA,EACjBI,KAAK+K,MAAOxK,EAAAA,EAAAA,QAAOP,KAAKmH,SAASjI,EAAAA,EAAAA,GAAE,uBAC/Bc,KAAK86B,QAAQhkB,KAAOsiB,EAAAA,GAAU2B,GAE9B/6B,KAAK+K,KAAKuP,aAAa,OAAQ,iBAG/Bta,KAAK+K,KAAKuP,aAAa,OAAQ,YAC3Bta,KAAKu5B,UACLv5B,KAAK+K,KAAKuP,aAAa,oBAAqB,GAAFzW,OAAK7D,KAAKu5B,YAG5Dv5B,KAAKg7B,OAAQz6B,EAAAA,EAAAA,QAAOP,KAAK+K,MAAM7L,EAAAA,EAAAA,GAAE,uBAAyB+7B,EAAAA,EAAUC,cAAcrD,EAAAA,EAAQC,iBAC1F93B,KAAKg7B,MAAM1gB,aAAa,OAAQ,QAChCta,KAAKkD,OAAQ3C,EAAAA,EAAAA,QAAOP,KAAK+K,MAAM7L,EAAAA,EAAAA,GAAE,sBAC7Bc,KAAKF,QAAQoD,OAASlD,KAAKF,QAAQkB,cACnCT,EAAAA,EAAAA,QAAOP,KAAK+K,MAAM7L,EAAAA,EAAAA,GAAE,oBAAoB2e,YAAc7d,KAAKF,QAAQkB,YAGvEhB,KAAKw6B,uBAAuBW,WAC5Bn7B,KAAKo7B,cACLp7B,KAAKq7B,cACLr7B,KAAKs7B,gBACLt7B,KAAKu7B,gBACLv7B,KAAKw7B,gBACLx7B,KAAKy7B,aACT,GAAC,CAAA56B,IAAA,OAAAE,MACD,YACIwkB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAwU,EAAA9X,WAAA,aAAA/D,KAAA,MACAne,KAAKy7B,YACT,GAAC,CAAA56B,IAAA,QAAAE,MACD,WACI,IAAIK,GACJmkB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAwU,EAAA9X,WAAA,cAAA/D,KAAA,MACqB,QAApB/c,EAAKpB,KAAK+K,YAAyB,IAAP3J,GAAyBA,EAAGsmB,QACzD1nB,KAAKy7B,YACT,GAAC,CAAA56B,IAAA,sBAAAE,MACD,SAAoB26B,EAAKC,GACjB37B,KAAK+K,OACL/K,KAAK+K,KAAKuP,aAAa,gBAAiB,GAAFzW,OAAK63B,IAC3C17B,KAAK+K,KAAKuP,aAAa,eAAgB,GAAFzW,OAAK83B,IAElD,GAAC,CAAA96B,IAAA,cAAAE,MACD,WACI,IAAIK,EACJ,GAAKpB,KAAKkD,OAGNlD,KAAKF,QAAQoD,MAAO,EACpBf,EAAAA,EAAAA,WAAUnC,KAAKkD,OACf,IAAIA,GAAQ04B,EAAAA,EAAAA,IAAW57B,KAAKq0B,OAAOnxB,OACnC,GAAIA,EAAO,CACP,IAAM24B,EA+Tf,SAAuB34B,GAC1B,IAAM44B,EAAQlI,EACR3yB,EAAU66B,EAAMvB,KAAKr3B,GAC3B,IAAKjC,EACD,OAAOiC,EAEX,IAAM64B,GAAkB96B,EAAQ,GAChC,OAAOiC,EAAM84B,QAAQF,EAAOC,EAAiB,OAAS,IAAIE,MAC9D,CAvUmCC,CAAch5B,GAC5BlD,KAAKF,QAAQy1B,kBACdryB,EAAQ24B,GAEZ77B,KAAKkD,MAAMoX,aAAa,aAAcuhB,EAAWG,QAAQ,MAAO,MAChE,IAAM/6B,EAAU2yB,EAAoB2G,KAAKr3B,GACzC,GAAIjC,EAAS,CACTiC,EAAQi5B,EAAAA,GAAej5B,GAEvB2wB,EAA4BuI,UAAY,EAGxC,IAFA,IAAIC,EAAWxI,EAA4B0G,KAAKr3B,GAEzCm5B,GAAYA,EAAS,IACxBA,EAAWxI,EAA4B0G,KAAKr3B,GAEhD,IAAMo5B,EAAuB,SAACC,GAAG,OAAKA,EAAIP,QAAQ,cAAe,QAAQ,EACrEK,EACAr8B,KAAKkD,MAAM3C,OAAO47B,EAAAA,GAAcG,EAAqBp5B,EAAMs5B,OAAO,EAAGH,EAAS33B,QAAS,MAAMxF,EAAAA,EAAAA,GAAE,IAAK,CAAE,cAAe,QAAUm9B,EAAS,IAAKF,EAAAA,GAAcG,EAAqBp5B,EAAMs5B,OAAOH,EAAS33B,MAAQ23B,EAAS,GAAG16B,SAAU,MAGpO3B,KAAKkD,MAAMu5B,UAAYH,EAAqBp5B,GAAO+4B,OAElC,QAApB76B,EAAKpB,KAAK+K,YAAyB,IAAP3J,GAAyBA,EAAGkZ,aAAa,qBAAwBrZ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAIu0B,oBACxI,MAEIx1B,KAAKkD,MAAMu5B,UAAYv5B,EAAM84B,QAAQ,MAAO,KAAKC,MAEzD,CACJ,CACJ,GAAC,CAAAp7B,IAAA,gBAAAE,MACD,WACI,GACH,CAAAF,IAAA,cAAAE,MACD,WACoC,IAAA27B,EAA5B18B,KAAKs6B,UAAYt6B,KAAK+K,OACtB2xB,EAAA18B,KAAK+K,KAAKkC,WAAUC,OAAMyC,MAAA+sB,GAAA9sB,EAAAA,EAAAA,GAAI5P,KAAKs6B,SAASqC,MAAM,OAEtD,GAAI38B,KAAKF,QAAQo3B,MAAQl3B,KAAKkD,MAAO,CAGd,IAAA05B,EAAnB,GAFA58B,KAAKs6B,SAAWt6B,KAAKq0B,OAAOwI,OAAS,GACrC78B,KAAKkD,MAAM+J,UAAUzJ,IAAI,QACrBxD,KAAKs6B,UACLsC,EAAA58B,KAAKkD,MAAM+J,WAAUzJ,IAAGmM,MAAAitB,GAAAhtB,EAAAA,EAAAA,GAAI5P,KAAKs6B,SAASqC,MAAM,OAEpD38B,KAAKu7B,eACT,MACSv7B,KAAKkD,OACVlD,KAAKkD,MAAM+J,UAAUC,OAAO,OAEpC,GAAC,CAAArM,IAAA,gBAAAE,MACD,WACQf,KAAKq0B,OAAOjM,SACRpoB,KAAKmH,UACLnH,KAAKmH,QAAQ8F,UAAUC,OAAO,YAC9BlN,KAAKmH,QAAQnF,gBAAgB,kBAE7BhC,KAAK+K,OACL/K,KAAK+K,KAAKkC,UAAUC,OAAO,YAC3BlN,KAAK+K,KAAK/I,gBAAgB,iBAC1BhC,KAAK+K,KAAK6H,SAAW,KAIrB5S,KAAKmH,UACLnH,KAAKmH,QAAQ8F,UAAUzJ,IAAI,YAC3BxD,KAAKmH,QAAQmT,aAAa,gBAAiB,SAE3Cta,KAAK+K,OACL/K,KAAK+K,KAAKkC,UAAUzJ,IAAI,YACxBxD,KAAK+K,KAAKuP,aAAa,gBAAiB,SAGpD,GAAC,CAAAzZ,IAAA,gBAAAE,MACD,WACI,GAAKf,KAAK+K,KAAV,CAGA,IAAMwP,EAAUva,KAAKq0B,OAAO9Z,QAC5Bva,KAAK+K,KAAKkC,UAAU4F,OAAO,YAAa0H,QACxBjb,IAAZib,GACAva,KAAK+K,KAAKuP,aAAa,OAAQ,oBAC/Bta,KAAK+K,KAAKuP,aAAa,eAAgBC,EAAU,OAAS,WAG1Dva,KAAK+K,KAAKuP,aAAa,OAAQ,YAC/Bta,KAAK+K,KAAKuP,aAAa,eAAgB,IAT3C,CAWJ,GAAC,CAAAzZ,IAAA,cAAAE,MACD,WACI,OAAOf,KAAKu5B,QAChB,GAAC,CAAA14B,IAAA,aAAAE,MACD,WACI,IAAM+7B,EAAa98B,KAAKmH,SAAWnH,KAAKmH,QAAQ8F,UAAU6Q,SAAS,WAC7D2a,EAAUqE,GAAc98B,KAAKq6B,UAAU0C,yBAA2B/8B,KAAKq6B,UAAU0C,yBAA2B/8B,KAAKq6B,UAAU3B,gBAC3HC,EAAUmE,GAAc98B,KAAKq6B,UAAU2C,yBAA2Bh9B,KAAKq6B,UAAU2C,8BAA2B19B,EAC5Gy5B,EAAU+D,GAAc98B,KAAKq6B,UAAU4C,qBAAuB,aAAHp5B,OAAgB7D,KAAKq6B,UAAU4C,sBAAyB,GACnHC,EAAgBJ,GAAc98B,KAAKq6B,UAAU4C,qBAAuB,OAAS,GAC/Ej9B,KAAK+K,OACL/K,KAAK+K,KAAKvK,MAAMC,MAAoB,OAAZg4B,QAAgC,IAAZA,EAAqBA,EAAU,GAC3Ez4B,KAAK+K,KAAKvK,MAAMiD,gBAA8B,OAAZk1B,QAAgC,IAAZA,EAAqBA,EAAU,GACrF34B,KAAK+K,KAAKvK,MAAMu4B,QAAUA,EAC1B/4B,KAAK+K,KAAKvK,MAAM08B,cAAgBA,GAEhCl9B,KAAKg7B,QACLh7B,KAAKg7B,MAAMx6B,MAAMC,MAAoB,OAAZg4B,QAAgC,IAAZA,EAAqBA,EAAU,GAEpF,KAACuB,CAAA,CA9NuB,CAASmD,EAAAA,IAgO/BzH,EAAyB,SAAA0H,IAAA7a,EAAAA,EAAAA,GAAAmT,EAAA0H,GAAA,IAAAC,GAAA5a,EAAAA,EAAAA,GAAAiT,GAC3B,SAAAA,EAAYrB,EAAQiJ,EAAgB/I,EAAYgJ,EAAgBtJ,GAAY,IAAAltB,EAoBhE,OApBgEhH,EAAAA,EAAAA,GAAA,KAAA21B,IACxE3uB,EAAAs2B,EAAAlf,KAAA,KAAMkW,EAAQA,EAAQkJ,EAAgBtJ,IACjCqJ,eAAiBA,EACtBv2B,EAAKwtB,WAAaA,EAClBxtB,EAAKw2B,eAAiBA,EACtBx2B,EAAKy2B,UAAY,KACjBz2B,EAAK02B,mBAAqB12B,EAAKouB,UAAU,IAAInjB,EAAAA,IAC7CjL,EAAK22B,WAAY,EACjB32B,EAAK42B,gBAAkBJ,QAAqDj+B,IAAnCi+B,EAAeI,gBAAgCJ,EAAeI,gBAAkBhK,EAAUiK,MACnI72B,EAAK82B,cAAgB,IAAIpD,EAAAA,IAAiB,WAClC1zB,EAAK22B,YACL32B,EAAK+2B,wBAAuB,GAC5B/2B,EAAKg3B,eAAc,GAE3B,GAAG,KACHh3B,EAAKi3B,cAAgB,IAAIvD,EAAAA,IAAiB,WAClC1zB,EAAKI,WAAa8uB,EAAAA,EAAAA,aAAWgI,EAAAA,EAAAA,oBAAoBl3B,EAAKI,UAAYJ,EAAKwtB,WAAW2J,UAAYn3B,EAAKy2B,YACnGz2B,EAAKwtB,WAAWnyB,OAAOslB,OAAM,GAC7B3gB,EAAK+2B,wBAAuB,GAEpC,GAAG,KAAK/2B,CACZ,CAgLC,OAhLAnG,EAAAA,EAAAA,GAAA80B,EAAA,EAAA70B,IAAA,SAAAE,MACD,SAAOnB,GAAW,IAAA0H,EAAA,MACdie,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAkQ,EAAAxT,WAAA,eAAA/D,KAAA,KAAave,GACRI,KAAKmH,UAGNnH,KAAK+K,OACL/K,KAAK+K,KAAKkC,UAAUzJ,IAAI,uBACxBxD,KAAK+K,KAAK6H,SAAW,EACrB5S,KAAK+K,KAAKuP,aAAa,gBAAiB,QACxCta,KAAKm+B,mBAAmB,SACxBn+B,KAAKo+B,kBAAmB79B,EAAAA,EAAAA,QAAOP,KAAK+K,MAAM7L,EAAAA,EAAAA,GAAE,yBAA2B+7B,EAAAA,EAAUC,cAAcrD,EAAAA,EAAQE,eACvG/3B,KAAKo+B,iBAAiB9jB,aAAa,cAAe,SAEtDta,KAAKm1B,WAAU7gB,EAAAA,EAAAA,uBAAsBtU,KAAKmH,QAASkuB,EAAAA,UAAUgJ,QAAQ,SAAAv2B,GACjE,IAAM8S,EAAQ,IAAIwM,EAAAA,EAAsBtf,IACpC8S,EAAM5W,OAAO,KAAgC4W,EAAM5W,OAAO,MAC1DmlB,EAAAA,YAAYC,KAAKthB,GAAG,GACpBR,EAAKy2B,eAAc,GAE3B,KACA/9B,KAAKm1B,WAAU7gB,EAAAA,EAAAA,uBAAsBtU,KAAKmH,QAASkuB,EAAAA,UAAUC,UAAU,SAAAxtB,GACnE,IAAM8S,EAAQ,IAAIwM,EAAAA,EAAsBtf,IACpCm2B,EAAAA,EAAAA,sBAAuB32B,EAAKyD,OACxB6P,EAAM5W,OAAO,KAAgC4W,EAAM5W,OAAO,KAC1DmlB,EAAAA,YAAYC,KAAKthB,GAAG,EAGhC,KACA9H,KAAKm1B,WAAU7gB,EAAAA,EAAAA,uBAAsBtU,KAAKmH,QAASkuB,EAAAA,UAAUc,YAAY,SAAAruB,GAChER,EAAKo2B,YACNp2B,EAAKo2B,WAAY,EACjBp2B,EAAKu2B,cAAc1C,WAE3B,KACAn7B,KAAKm1B,WAAU7gB,EAAAA,EAAAA,uBAAsBtU,KAAKmH,QAASkuB,EAAAA,UAAUiJ,aAAa,SAAAx2B,GACtER,EAAKo2B,WAAY,CACrB,KACA19B,KAAKm1B,WAAU7gB,EAAAA,EAAAA,uBAAsBtU,KAAKmH,QAASkuB,EAAAA,UAAUkJ,WAAW,SAAAz2B,GAChER,EAAKH,WAAY8uB,EAAAA,EAAAA,aAAWgI,EAAAA,EAAAA,oBAAoB32B,EAAKH,UACrDG,EAAK02B,cAAc7C,UAE3B,KACAn7B,KAAKm1B,UAAUn1B,KAAKu0B,WAAWnyB,OAAOiS,UAAS,WACvC/M,EAAKitB,WAAW2J,UAAY52B,EAAKk2B,YACjCl2B,EAAKitB,WAAWnyB,OAAOslB,OAAM,GAC7BpgB,EAAKw2B,wBAAuB,GAEpC,KACJ,GAAC,CAAAj9B,IAAA,gBAAAE,MACD,WAGI,GACH,CAAAF,IAAA,UAAAE,MACD,SAAQ+G,GAEJqhB,EAAAA,YAAYC,KAAKthB,GAAG,GACpB9H,KAAK89B,wBAAuB,GAC5B99B,KAAK+9B,eAAc,EACvB,GAAC,CAAAl9B,IAAA,yBAAAE,MACD,SAAuBy9B,GACnB,GAAIx+B,KAAKu0B,WAAW2J,UAAYM,GAAUx+B,KAAKu0B,WAAW2J,UAAYl+B,KAAKw9B,WAAa,CAEpF,IACIx9B,KAAKu0B,WAAW2J,QAAQp5B,SAC5B,CACA,MAAO1D,GAAM,CACbpB,KAAKu0B,WAAW2J,aAAU5+B,EAC1BU,KAAKm+B,mBAAmB,SACpBn+B,KAAKy+B,mBACLz+B,KAAKy9B,mBAAmBp8B,QACxBrB,KAAKy+B,sBAAmBn/B,EAEhC,CACJ,GAAC,CAAAuB,IAAA,6BAAAE,MACD,SAA2B29B,EAAkBR,EAASx4B,EAAOi4B,GACzD,IAAMgB,EAAM,CAAExkB,IAAK,EAAGD,KAAM,GAiB5B,OAfAykB,EAAIzkB,MAAOnF,EAAAA,EAAAA,IAAO2pB,EAAiBzpB,MAAOipB,EAAQjpB,MAAO,CAAE/J,SAAUyyB,IAAoBhK,EAAUiK,MAAQ,EAAsC,EAAoCgB,OAAQl5B,EAAMwU,KAAM5Q,KAAM5D,EAAMuP,QAEjN0pB,EAAIzkB,MAAQxU,EAAMwU,MAAQykB,EAAIzkB,KAAOxU,EAAMwU,KAAOxU,EAAMuP,QACpDvP,EAAMwU,KAAO,GAAKgkB,EAAQjpB,OAASypB,EAAiBzpB,QACpD0pB,EAAIzkB,KAAOxU,EAAMwU,KAAO,IAE5BxU,EAAMyU,KAAO,GACbzU,EAAMd,OAAS,GAGnB+5B,EAAIxkB,KAAMpF,EAAAA,EAAAA,IAAO2pB,EAAiB95B,OAAQs5B,EAAQt5B,OAAQ,CAAEsG,SAAU,EAAqC0zB,OAAQl5B,EAAMyU,IAAK7Q,KAAM,IAEhIq1B,EAAIxkB,IAAM+jB,EAAQt5B,SAAWc,EAAMyU,KAAOwkB,EAAIxkB,IAAMzU,EAAMd,OAASs5B,EAAQt5B,QAAU85B,EAAiB95B,SACtG+5B,EAAIxkB,KAAOzU,EAAMd,QAEd+5B,CACX,GAAC,CAAA99B,IAAA,gBAAAE,MACD,WAAsC,IAAA0G,EAAA,KAAxBo3B,IAAet7B,UAAA5B,OAAA,QAAArC,IAAAiE,UAAA,KAAAA,UAAA,GACzB,GAAKvD,KAAKmH,QAGV,GAAKnH,KAAKu0B,WAAW2J,QAiDjBl+B,KAAKu0B,WAAW2J,QAAQxW,OAAM,OAjDJ,CAC1B1nB,KAAKm+B,mBAAmB,QACxBn+B,KAAKy+B,kBAAmBl+B,EAAAA,EAAAA,QAAOP,KAAKmH,SAASjI,EAAAA,EAAAA,GAAE,uBAC/Cc,KAAKy+B,iBAAiBxxB,UAAUzJ,IAAI,4BAA6B,gBAGjE,IAAMs7B,EAAiB/jB,iBAAiB/a,KAAKu0B,WAAWnyB,OAAO9B,SACzDy+B,EAAa9jB,WAAW6jB,EAAeC,YAAc,MAAQ,EAEnE/+B,KAAKy+B,iBAAiBj+B,MAAMw+B,OAAS,IACrCh/B,KAAKy+B,iBAAiBj+B,MAAM0K,SAAW,QACvClL,KAAKy+B,iBAAiBj+B,MAAM2Z,IAAM,IAClCna,KAAKy+B,iBAAiBj+B,MAAM0Z,KAAO,IACnCla,KAAKu0B,WAAW2J,QAAU,IAAIpK,EAAK9zB,KAAKy+B,iBAAkBz+B,KAAKs9B,eAAe37B,OAAS3B,KAAKs9B,eAAiB,CAAC,IAAI2B,EAAAA,IAAuBj/B,KAAKu9B,eAAgBv9B,KAAKq6B,WAEnK,IAAM6E,EAAWl/B,KAAKmH,QAAQ4vB,wBACxBoI,EAAkB,CACpBhlB,IAAK+kB,EAAS/kB,IAAM4kB,EACpB7kB,KAAMglB,EAAShlB,KACftV,OAAQs6B,EAASt6B,OAAS,EAAIm6B,EAC9B9pB,MAAOiqB,EAASjqB,OAEdmqB,EAAUp/B,KAAKy+B,iBAAiB1H,wBACtCsI,EAAsBr/B,KAAKs/B,2BAA2B,IAAIC,EAAAA,UAAUzkB,OAAO0kB,WAAY1kB,OAAOgc,aAAcyI,EAAAA,UAAUE,KAAKL,GAAUD,EAAiBn/B,KAAK29B,iBAAnJxjB,EAAGklB,EAAHllB,IAAKD,EAAImlB,EAAJnlB,KAEbla,KAAKy+B,iBAAiBj+B,MAAM0Z,KAAO,GAAHrW,OAAMqW,EAAOklB,EAAQllB,KAAI,MACzDla,KAAKy+B,iBAAiBj+B,MAAM2Z,IAAM,GAAHtW,OAAMsW,EAAMilB,EAAQjlB,IAAG,MACtDna,KAAKy9B,mBAAmBj6B,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAKy+B,iBAAkBpJ,EAAAA,UAAUgJ,QAAQ,SAAAv2B,GACzE,IAAIsf,EAAAA,EAAsBtf,GAC9B9D,OAAO,MACbmlB,EAAAA,YAAYC,KAAKthB,GAAG,GACpBL,EAAK8sB,WAAWnyB,OAAOslB,QACvBjgB,EAAKq2B,wBAAuB,GAEpC,KACA99B,KAAKy9B,mBAAmBj6B,KAAI8Q,EAAAA,EAAAA,uBAAsBtU,KAAKy+B,iBAAkBpJ,EAAAA,UAAUC,UAAU,SAAAxtB,GAC3E,IAAIsf,EAAAA,EAAsBtf,GAC9B9D,OAAO,KACbmlB,EAAAA,YAAYC,KAAKthB,GAAG,EAE5B,KACA9H,KAAKy9B,mBAAmBj6B,IAAIxD,KAAKu0B,WAAW2J,QAAQwB,aAAY,WAC5Dj4B,EAAK8sB,WAAWnyB,OAAOslB,QACvBjgB,EAAKq2B,wBAAuB,EAChC,KACA99B,KAAKu0B,WAAW2J,QAAQxW,MAAMmX,GAC9B7+B,KAAKw9B,UAAYx9B,KAAKu0B,WAAW2J,OACrC,CAIJ,GAAC,CAAAr9B,IAAA,qBAAAE,MACD,SAAmBA,GACf,IAAIK,EACApB,KAAK+K,OACgB,QAApB3J,EAAKpB,KAAK+K,YAAyB,IAAP3J,GAAyBA,EAAGkZ,aAAa,gBAAiBvZ,GAE/F,GAAC,CAAAF,IAAA,aAAAE,MACD,YACIwkB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAkQ,EAAAxT,WAAA,mBAAA/D,KAAA,MACA,IACMsa,EADaz4B,KAAKmH,SAAWnH,KAAKmH,QAAQ8F,UAAU6Q,SAAS,YACrC9d,KAAKq6B,UAAU0C,yBAA2B/8B,KAAKq6B,UAAU0C,yBAA2B/8B,KAAKq6B,UAAU3B,gBAC7H14B,KAAKo+B,mBACLp+B,KAAKo+B,iBAAiB59B,MAAMC,MAAoB,OAAZg4B,QAAgC,IAAZA,EAAqBA,EAAU,GAE/F,GAAC,CAAA53B,IAAA,UAAAE,MACD,YACIwkB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAkQ,EAAAxT,WAAA,gBAAA/D,KAAA,MACAne,KAAKg+B,cAAcl5B,UACf9E,KAAKw9B,YACLx9B,KAAKw9B,UAAU14B,UACf9E,KAAKw9B,UAAY,MAEjBx9B,KAAKy+B,mBACLz+B,KAAKy+B,sBAAmBn/B,EAEhC,KAACo2B,CAAA,CAtM0B,CAASsE,GAwMlC3C,EAA2B,SAAAsI,IAAApd,EAAAA,EAAAA,GAAA8U,EAAAsI,GAAA,IAAAC,GAAAnd,EAAAA,EAAAA,GAAA4U,GAC7B,SAAAA,EAAY7C,EAASH,EAAQv0B,EAASm0B,GAAY,IAAA7rB,EAEjB,OAFiBrI,EAAAA,EAAAA,GAAA,KAAAs3B,IAC9CjvB,EAAAw3B,EAAAzhB,KAAA,KAAMqW,EAASH,EAAQv0B,IAClBm0B,WAAaA,EAAW7rB,CACjC,CAMC,OANAxH,EAAAA,EAAAA,GAAAy2B,EAAA,EAAAx2B,IAAA,SAAAE,MACD,SAAOnB,IACH2lB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA6R,EAAAnV,WAAA,eAAA/D,KAAA,KAAave,GACTI,KAAKkD,QACLlD,KAAKkD,MAAM1C,MAAMmD,kBAAoB3D,KAAKi0B,WAAW4L,eAAiB,GAAHh8B,OAAM7D,KAAKi0B,WAAW4L,gBAAmB,GAEpH,KAACxI,CAAA,CAV4B,CAASyI,EAAAA,IAqBnC,SAASlI,EAAW9pB,GACvB,IAAMiyB,GAAgBC,EAAAA,EAAAA,KAA2BlyB,EAAEgJ,IACnD,MAAO,YAAPjT,OAAmBiK,EAAEgJ,GAAE,0BAAAjT,OAAyBk8B,EAAcja,SAAS,IAAG,OAC9E,C","sources":["../node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listPaging.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rangeMap.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rowCache.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/splice.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/list.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/menu/menu.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport { equals } from '../../../common/objects.js';\nimport './keybindingLabel.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedKeybindingLabelOptions = {\n    keybindingLabelBackground: undefined,\n    keybindingLabelForeground: undefined,\n    keybindingLabelBorder: undefined,\n    keybindingLabelBottomBorder: undefined,\n    keybindingLabelShadow: undefined\n};\nexport class KeybindingLabel {\n    constructor(container, os, options) {\n        this.os = os;\n        this.keyElements = new Set();\n        this.options = options || Object.create(null);\n        const labelForeground = this.options.keybindingLabelForeground;\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\n        if (labelForeground) {\n            this.domNode.style.color = labelForeground;\n        }\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    get element() {\n        return this.domNode;\n    }\n    set(keybinding, matches) {\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n            return;\n        }\n        this.keybinding = keybinding;\n        this.matches = matches;\n        this.render();\n    }\n    render() {\n        var _a;\n        this.clear();\n        if (this.keybinding) {\n            const chords = this.keybinding.getChords();\n            if (chords[0]) {\n                this.renderChord(this.domNode, chords[0], this.matches ? this.matches.firstPart : null);\n            }\n            for (let i = 1; i < chords.length; i++) {\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n                this.renderChord(this.domNode, chords[i], this.matches ? this.matches.chordPart : null);\n            }\n            const title = ((_a = this.options.disableTitle) !== null && _a !== void 0 ? _a : false) ? undefined : this.keybinding.getAriaLabel() || undefined;\n            if (title !== undefined) {\n                this.domNode.title = title;\n            }\n            else {\n                this.domNode.removeAttribute('title');\n            }\n        }\n        else if (this.options && this.options.renderUnboundKeybindings) {\n            this.renderUnbound(this.domNode);\n        }\n        this.didEverRender = true;\n    }\n    clear() {\n        dom.clearNode(this.domNode);\n        this.keyElements.clear();\n    }\n    renderChord(parent, chord, match) {\n        const modifierLabels = UILabelProvider.modifierLabels[this.os];\n        if (chord.ctrlKey) {\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\n        }\n        if (chord.shiftKey) {\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\n        }\n        if (chord.altKey) {\n            this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\n        }\n        if (chord.metaKey) {\n            this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\n        }\n        const keyLabel = chord.keyLabel;\n        if (keyLabel) {\n            this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\n        }\n    }\n    renderKey(parent, label, highlight, separator) {\n        dom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n        if (separator) {\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n        }\n    }\n    renderUnbound(parent) {\n        dom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n    }\n    createKeyElement(label, extraClass = '') {\n        const keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n        this.keyElements.add(keyElement);\n        if (this.options.keybindingLabelBackground) {\n            keyElement.style.backgroundColor = this.options.keybindingLabelBackground;\n        }\n        if (this.options.keybindingLabelBorder) {\n            keyElement.style.borderColor = this.options.keybindingLabelBorder;\n        }\n        if (this.options.keybindingLabelBottomBorder) {\n            keyElement.style.borderBottomColor = this.options.keybindingLabelBottomBorder;\n        }\n        if (this.options.keybindingLabelShadow) {\n            keyElement.style.boxShadow = `inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;\n        }\n        return keyElement;\n    }\n    static areSame(a, b) {\n        if (a === b || (!a && !b)) {\n            return true;\n        }\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { range } from '../../../common/arrays.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './list.css';\nimport { List } from './listWidget.js';\nclass PagedRenderer {\n    get templateId() { return this.renderer.templateId; }\n    constructor(renderer, modelProvider) {\n        this.renderer = renderer;\n        this.modelProvider = modelProvider;\n    }\n    renderTemplate(container) {\n        const data = this.renderer.renderTemplate(container);\n        return { data, disposable: Disposable.None };\n    }\n    renderElement(index, _, data, height) {\n        var _a;\n        (_a = data.disposable) === null || _a === void 0 ? void 0 : _a.dispose();\n        if (!data.data) {\n            return;\n        }\n        const model = this.modelProvider();\n        if (model.isResolved(index)) {\n            return this.renderer.renderElement(model.get(index), index, data.data, height);\n        }\n        const cts = new CancellationTokenSource();\n        const promise = model.resolve(index, cts.token);\n        data.disposable = { dispose: () => cts.cancel() };\n        this.renderer.renderPlaceholder(index, data.data);\n        promise.then(entry => this.renderer.renderElement(entry, index, data.data, height));\n    }\n    disposeTemplate(data) {\n        if (data.disposable) {\n            data.disposable.dispose();\n            data.disposable = undefined;\n        }\n        if (data.data) {\n            this.renderer.disposeTemplate(data.data);\n            data.data = undefined;\n        }\n    }\n}\nclass PagedAccessibilityProvider {\n    constructor(modelProvider, accessibilityProvider) {\n        this.modelProvider = modelProvider;\n        this.accessibilityProvider = accessibilityProvider;\n    }\n    getWidgetAriaLabel() {\n        return this.accessibilityProvider.getWidgetAriaLabel();\n    }\n    getAriaLabel(index) {\n        const model = this.modelProvider();\n        if (!model.isResolved(index)) {\n            return null;\n        }\n        return this.accessibilityProvider.getAriaLabel(model.get(index));\n    }\n}\nfunction fromPagedListOptions(modelProvider, options) {\n    return Object.assign(Object.assign({}, options), { accessibilityProvider: options.accessibilityProvider && new PagedAccessibilityProvider(modelProvider, options.accessibilityProvider) });\n}\nexport class PagedList {\n    constructor(user, container, virtualDelegate, renderers, options = {}) {\n        const modelProvider = () => this.model;\n        const pagedRenderers = renderers.map(r => new PagedRenderer(r, modelProvider));\n        this.list = new List(user, container, virtualDelegate, pagedRenderers, fromPagedListOptions(modelProvider, options));\n    }\n    updateOptions(options) {\n        this.list.updateOptions(options);\n    }\n    getHTMLElement() {\n        return this.list.getHTMLElement();\n    }\n    get onDidFocus() {\n        return this.list.onDidFocus;\n    }\n    get onDidDispose() {\n        return this.list.onDidDispose;\n    }\n    get onMouseDblClick() {\n        return Event.map(this.list.onMouseDblClick, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onPointer() {\n        return Event.map(this.list.onPointer, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, ({ elements, indexes, browserEvent }) => ({ elements: elements.map(e => this._model.get(e)), indexes, browserEvent }));\n    }\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this._model = model;\n        this.list.splice(0, this.list.length, range(model.length));\n    }\n    getFocus() {\n        return this.list.getFocus();\n    }\n    getSelection() {\n        return this.list.getSelection();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.model.get(i));\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    dispose() {\n        this.list.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/range.js';\n/**\n * Returns the intersection between a ranged group and a range.\n * Returns `[]` if the intersection is empty.\n */\nexport function groupIntersect(range, groups) {\n    const result = [];\n    for (const r of groups) {\n        if (range.start >= r.range.end) {\n            continue;\n        }\n        if (range.end < r.range.start) {\n            break;\n        }\n        const intersection = Range.intersect(range, r.range);\n        if (Range.isEmpty(intersection)) {\n            continue;\n        }\n        result.push({\n            range: intersection,\n            size: r.size\n        });\n    }\n    return result;\n}\n/**\n * Shifts a range by that `much`.\n */\nexport function shift({ start, end }, much) {\n    return { start: start + much, end: end + much };\n}\n/**\n * Consolidates a collection of ranged groups.\n *\n * Consolidation is the process of merging consecutive ranged groups\n * that share the same `size`.\n */\nexport function consolidate(groups) {\n    const result = [];\n    let previousGroup = null;\n    for (const group of groups) {\n        const start = group.range.start;\n        const end = group.range.end;\n        const size = group.size;\n        if (previousGroup && size === previousGroup.size) {\n            previousGroup.range.end = end;\n            continue;\n        }\n        previousGroup = { range: { start, end }, size };\n        result.push(previousGroup);\n    }\n    return result;\n}\n/**\n * Concatenates several collections of ranged groups into a single\n * collection.\n */\nfunction concat(...groups) {\n    return consolidate(groups.reduce((r, g) => r.concat(g), []));\n}\nexport class RangeMap {\n    constructor() {\n        this.groups = [];\n        this._size = 0;\n    }\n    splice(index, deleteCount, items = []) {\n        const diff = items.length - deleteCount;\n        const before = groupIntersect({ start: 0, end: index }, this.groups);\n        const after = groupIntersect({ start: index + deleteCount, end: Number.POSITIVE_INFINITY }, this.groups)\n            .map(g => ({ range: shift(g.range, diff), size: g.size }));\n        const middle = items.map((item, i) => ({\n            range: { start: index + i, end: index + i + 1 },\n            size: item.size\n        }));\n        this.groups = concat(before, middle, after);\n        this._size = this.groups.reduce((t, g) => t + (g.size * (g.range.end - g.range.start)), 0);\n    }\n    /**\n     * Returns the number of items in the range map.\n     */\n    get count() {\n        const len = this.groups.length;\n        if (!len) {\n            return 0;\n        }\n        return this.groups[len - 1].range.end;\n    }\n    /**\n     * Returns the sum of the sizes of all items in the range map.\n     */\n    get size() {\n        return this._size;\n    }\n    /**\n     * Returns the index of the item at the given position.\n     */\n    indexAt(position) {\n        if (position < 0) {\n            return -1;\n        }\n        let index = 0;\n        let size = 0;\n        for (const group of this.groups) {\n            const count = group.range.end - group.range.start;\n            const newSize = size + (count * group.size);\n            if (position < newSize) {\n                return index + Math.floor((position - size) / group.size);\n            }\n            index += count;\n            size = newSize;\n        }\n        return index;\n    }\n    /**\n     * Returns the index of the item right after the item at the\n     * index of the given position.\n     */\n    indexAfter(position) {\n        return Math.min(this.indexAt(position) + 1, this.count);\n    }\n    /**\n     * Returns the start position of the item at the given index.\n     */\n    positionAt(index) {\n        if (index < 0) {\n            return -1;\n        }\n        let position = 0;\n        let count = 0;\n        for (const group of this.groups) {\n            const groupCount = group.range.end - group.range.start;\n            const newCount = count + groupCount;\n            if (index < newCount) {\n                return position + ((index - count) * group.size);\n            }\n            position += groupCount * group.size;\n            count = newCount;\n        }\n        return -1;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $ } from '../../dom.js';\nfunction removeFromParent(element) {\n    var _a;\n    try {\n        (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(element);\n    }\n    catch (e) {\n        // this will throw if this happens due to a blur event, nasty business\n    }\n}\nexport class RowCache {\n    constructor(renderers) {\n        this.renderers = renderers;\n        this.cache = new Map();\n        this.transactionNodesPendingRemoval = new Set();\n        this.inTransaction = false;\n    }\n    /**\n     * Returns a row either by creating a new one or reusing\n     * a previously released row which shares the same templateId.\n     *\n     * @returns A row and `isReusingConnectedDomNode` if the row's node is already in the dom in a stale position.\n     */\n    alloc(templateId) {\n        let result = this.getTemplateCache(templateId).pop();\n        let isStale = false;\n        if (result) {\n            isStale = this.transactionNodesPendingRemoval.has(result.domNode);\n            if (isStale) {\n                this.transactionNodesPendingRemoval.delete(result.domNode);\n            }\n        }\n        else {\n            const domNode = $('.monaco-list-row');\n            const renderer = this.getRenderer(templateId);\n            const templateData = renderer.renderTemplate(domNode);\n            result = { domNode, templateId, templateData };\n        }\n        return { row: result, isReusingConnectedDomNode: isStale };\n    }\n    /**\n     * Releases the row for eventual reuse.\n     */\n    release(row) {\n        if (!row) {\n            return;\n        }\n        this.releaseRow(row);\n    }\n    /**\n     * Begin a set of changes that use the cache. This lets us skip work when a row is removed and then inserted again.\n     */\n    transact(makeChanges) {\n        if (this.inTransaction) {\n            throw new Error('Already in transaction');\n        }\n        this.inTransaction = true;\n        try {\n            makeChanges();\n        }\n        finally {\n            for (const domNode of this.transactionNodesPendingRemoval) {\n                this.doRemoveNode(domNode);\n            }\n            this.transactionNodesPendingRemoval.clear();\n            this.inTransaction = false;\n        }\n    }\n    releaseRow(row) {\n        const { domNode, templateId } = row;\n        if (domNode) {\n            if (this.inTransaction) {\n                this.transactionNodesPendingRemoval.add(domNode);\n            }\n            else {\n                this.doRemoveNode(domNode);\n            }\n        }\n        const cache = this.getTemplateCache(templateId);\n        cache.push(row);\n    }\n    doRemoveNode(domNode) {\n        domNode.classList.remove('scrolling');\n        removeFromParent(domNode);\n    }\n    getTemplateCache(templateId) {\n        let result = this.cache.get(templateId);\n        if (!result) {\n            result = [];\n            this.cache.set(templateId, result);\n        }\n        return result;\n    }\n    dispose() {\n        this.cache.forEach((cachedRows, templateId) => {\n            for (const cachedRow of cachedRows) {\n                const renderer = this.getRenderer(templateId);\n                renderer.disposeTemplate(cachedRow.templateData);\n                cachedRow.templateData = null;\n            }\n        });\n        this.cache.clear();\n        this.transactionNodesPendingRemoval.clear();\n    }\n    getRenderer(templateId) {\n        const renderer = this.renderers.get(templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for ${templateId}`);\n        }\n        return renderer;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, animate, getContentHeight, getContentWidth, getTopLeftOffset, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, dispose, toDisposable } from '../../../common/lifecycle.js';\nimport { Range } from '../../../common/range.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport { RangeMap, shift } from './rangeMap.js';\nimport { RowCache } from './rowCache.js';\nimport { BugIndicatingError } from '../../../common/errors.js';\nconst StaticDND = {\n    CurrentDragAndDropData: undefined\n};\nconst DefaultOptions = {\n    useShadows: true,\n    verticalScrollMode: 1 /* ScrollbarVisibility.Auto */,\n    setRowLineHeight: true,\n    setRowHeight: true,\n    supportDynamicHeights: false,\n    dnd: {\n        getDragElements(e) { return [e]; },\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    },\n    horizontalScrolling: false,\n    transformOptimization: true,\n    alwaysConsumeMouseWheel: true,\n};\nexport class ElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class ExternalElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class NativeDragAndDropData {\n    constructor() {\n        this.types = [];\n        this.files = [];\n    }\n    update(dataTransfer) {\n        if (dataTransfer.types) {\n            this.types.splice(0, this.types.length, ...dataTransfer.types);\n        }\n        if (dataTransfer.files) {\n            this.files.splice(0, this.files.length);\n            for (let i = 0; i < dataTransfer.files.length; i++) {\n                const file = dataTransfer.files.item(i);\n                if (file && (file.size || file.type)) {\n                    this.files.push(file);\n                }\n            }\n        }\n    }\n    getData() {\n        return {\n            types: this.types,\n            files: this.files\n        };\n    }\n}\nfunction equalsDragFeedback(f1, f2) {\n    if (Array.isArray(f1) && Array.isArray(f2)) {\n        return equals(f1, f2);\n    }\n    return f1 === f2;\n}\nclass ListViewAccessibilityProvider {\n    constructor(accessibilityProvider) {\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getSetSize) {\n            this.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n        }\n        else {\n            this.getSetSize = (e, i, l) => l;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getPosInSet) {\n            this.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n        }\n        else {\n            this.getPosInSet = (e, i) => i + 1;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getRole) {\n            this.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n        }\n        else {\n            this.getRole = _ => 'listitem';\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.isChecked) {\n            this.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n        }\n        else {\n            this.isChecked = _ => undefined;\n        }\n    }\n}\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nexport class ListView {\n    get contentHeight() { return this.rangeMap.size; }\n    get horizontalScrolling() { return this._horizontalScrolling; }\n    set horizontalScrolling(value) {\n        if (value === this._horizontalScrolling) {\n            return;\n        }\n        if (value && this.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this._horizontalScrolling = value;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        if (this._horizontalScrolling) {\n            for (const item of this.items) {\n                this.measureItemWidth(item);\n            }\n            this.updateScrollWidth();\n            this.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n            this.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n        }\n        else {\n            this.scrollableElementWidthDelayer.cancel();\n            this.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n            this.rowsContainer.style.width = '';\n        }\n    }\n    constructor(container, virtualDelegate, renderers, options = DefaultOptions) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n        this.virtualDelegate = virtualDelegate;\n        this.domId = `list_id_${++ListView.InstanceCount}`;\n        this.renderers = new Map();\n        this.renderWidth = 0;\n        this._scrollHeight = 0;\n        this.scrollableElementUpdateDisposable = null;\n        this.scrollableElementWidthDelayer = new Delayer(50);\n        this.splicing = false;\n        this.dragOverAnimationStopDisposable = Disposable.None;\n        this.dragOverMouseY = 0;\n        this.canDrop = false;\n        this.currentDragFeedbackDisposable = Disposable.None;\n        this.onDragLeaveTimeout = Disposable.None;\n        this.disposables = new DisposableStore();\n        this._onDidChangeContentHeight = new Emitter();\n        this._onDidChangeContentWidth = new Emitter();\n        this._horizontalScrolling = false;\n        if (options.horizontalScrolling && options.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this.items = [];\n        this.itemId = 0;\n        this.rangeMap = new RangeMap();\n        for (const renderer of renderers) {\n            this.renderers.set(renderer.templateId, renderer);\n        }\n        this.cache = this.disposables.add(new RowCache(this.renderers));\n        this.lastRenderTop = 0;\n        this.lastRenderHeight = 0;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-list';\n        this.domNode.classList.add(this.domId);\n        this.domNode.tabIndex = 0;\n        this.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n        this._horizontalScrolling = (_a = options.horizontalScrolling) !== null && _a !== void 0 ? _a : DefaultOptions.horizontalScrolling;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        this.additionalScrollHeight = typeof options.additionalScrollHeight === 'undefined' ? 0 : options.additionalScrollHeight;\n        this.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n        this.rowsContainer = document.createElement('div');\n        this.rowsContainer.className = 'monaco-list-rows';\n        const transformOptimization = (_b = options.transformOptimization) !== null && _b !== void 0 ? _b : DefaultOptions.transformOptimization;\n        if (transformOptimization) {\n            this.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n            this.rowsContainer.style.overflow = 'hidden';\n            this.rowsContainer.style.contain = 'strict';\n        }\n        this.disposables.add(Gesture.addTarget(this.rowsContainer));\n        this.scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: ((_c = options.smoothScrolling) !== null && _c !== void 0 ? _c : false) ? 125 : 0,\n            scheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(cb)\n        });\n        this.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n            alwaysConsumeMouseWheel: (_d = options.alwaysConsumeMouseWheel) !== null && _d !== void 0 ? _d : DefaultOptions.alwaysConsumeMouseWheel,\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            vertical: (_e = options.verticalScrollMode) !== null && _e !== void 0 ? _e : DefaultOptions.verticalScrollMode,\n            useShadows: (_f = options.useShadows) !== null && _f !== void 0 ? _f : DefaultOptions.useShadows,\n            mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n            fastScrollSensitivity: options.fastScrollSensitivity,\n            scrollByPage: options.scrollByPage\n        }, this.scrollable));\n        this.domNode.appendChild(this.scrollableElement.getDomNode());\n        container.appendChild(this.domNode);\n        this.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n        this.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e)));\n        // Prevent the monaco-scrollable-element from scrolling\n        // https://github.com/microsoft/vscode/issues/44181\n        this.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => e.target.scrollTop = 0));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n        this.setRowLineHeight = (_g = options.setRowLineHeight) !== null && _g !== void 0 ? _g : DefaultOptions.setRowLineHeight;\n        this.setRowHeight = (_h = options.setRowHeight) !== null && _h !== void 0 ? _h : DefaultOptions.setRowHeight;\n        this.supportDynamicHeights = (_j = options.supportDynamicHeights) !== null && _j !== void 0 ? _j : DefaultOptions.supportDynamicHeights;\n        this.dnd = (_k = options.dnd) !== null && _k !== void 0 ? _k : DefaultOptions.dnd;\n        this.layout((_l = options.initialSize) === null || _l === void 0 ? void 0 : _l.height, (_m = options.initialSize) === null || _m === void 0 ? void 0 : _m.width);\n    }\n    updateOptions(options) {\n        if (options.additionalScrollHeight !== undefined) {\n            this.additionalScrollHeight = options.additionalScrollHeight;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        if (options.smoothScrolling !== undefined) {\n            this.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n        }\n        if (options.horizontalScrolling !== undefined) {\n            this.horizontalScrolling = options.horizontalScrolling;\n        }\n        let scrollableOptions;\n        if (options.scrollByPage !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { scrollByPage: options.scrollByPage });\n        }\n        if (options.mouseWheelScrollSensitivity !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity });\n        }\n        if (options.fastScrollSensitivity !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { fastScrollSensitivity: options.fastScrollSensitivity });\n        }\n        if (scrollableOptions) {\n            this.scrollableElement.updateOptions(scrollableOptions);\n        }\n    }\n    splice(start, deleteCount, elements = []) {\n        if (this.splicing) {\n            throw new Error('Can\\'t run recursive splices.');\n        }\n        this.splicing = true;\n        try {\n            return this._splice(start, deleteCount, elements);\n        }\n        finally {\n            this.splicing = false;\n            this._onDidChangeContentHeight.fire(this.contentHeight);\n        }\n    }\n    _splice(start, deleteCount, elements = []) {\n        const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const deleteRange = { start, end: start + deleteCount };\n        const removeRange = Range.intersect(previousRenderRange, deleteRange);\n        // try to reuse rows, avoid removing them from DOM\n        const rowsToDispose = new Map();\n        for (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n            const item = this.items[i];\n            item.dragStartDisposable.dispose();\n            item.checkedDisposable.dispose();\n            if (item.row) {\n                let rows = rowsToDispose.get(item.templateId);\n                if (!rows) {\n                    rows = [];\n                    rowsToDispose.set(item.templateId, rows);\n                }\n                const renderer = this.renderers.get(item.templateId);\n                if (renderer && renderer.disposeElement) {\n                    renderer.disposeElement(item.element, i, item.row.templateData, item.size);\n                }\n                rows.push(item.row);\n            }\n            item.row = null;\n        }\n        const previousRestRange = { start: start + deleteCount, end: this.items.length };\n        const previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n        const previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n        const inserted = elements.map(element => ({\n            id: String(this.itemId++),\n            element,\n            templateId: this.virtualDelegate.getTemplateId(element),\n            size: this.virtualDelegate.getHeight(element),\n            width: undefined,\n            hasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n            lastDynamicHeightWidth: undefined,\n            row: null,\n            uri: undefined,\n            dropTarget: false,\n            dragStartDisposable: Disposable.None,\n            checkedDisposable: Disposable.None\n        }));\n        let deleted;\n        // TODO@joao: improve this optimization to catch even more cases\n        if (start === 0 && deleteCount >= this.items.length) {\n            this.rangeMap = new RangeMap();\n            this.rangeMap.splice(0, 0, inserted);\n            deleted = this.items;\n            this.items = inserted;\n        }\n        else {\n            this.rangeMap.splice(start, deleteCount, inserted);\n            deleted = this.items.splice(start, deleteCount, ...inserted);\n        }\n        const delta = elements.length - deleteCount;\n        const renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const renderedRestRange = shift(previousRenderedRestRange, delta);\n        const updateRange = Range.intersect(renderRange, renderedRestRange);\n        for (let i = updateRange.start; i < updateRange.end; i++) {\n            this.updateItemInDOM(this.items[i], i);\n        }\n        const removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n        for (const range of removeRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        const unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n        const elementsRange = { start, end: start + elements.length };\n        const insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r));\n        const beforeElement = this.getNextToLastElement(insertRanges);\n        for (const range of insertRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                const item = this.items[i];\n                const rows = rowsToDispose.get(item.templateId);\n                const row = rows === null || rows === void 0 ? void 0 : rows.pop();\n                this.insertItemInDOM(i, beforeElement, row);\n            }\n        }\n        for (const rows of rowsToDispose.values()) {\n            for (const row of rows) {\n                this.cache.release(row);\n            }\n        }\n        this.eventuallyUpdateScrollDimensions();\n        if (this.supportDynamicHeights) {\n            this._rerender(this.scrollTop, this.renderHeight);\n        }\n        return deleted.map(i => i.element);\n    }\n    eventuallyUpdateScrollDimensions() {\n        this._scrollHeight = this.contentHeight;\n        this.rowsContainer.style.height = `${this._scrollHeight}px`;\n        if (!this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(() => {\n                this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n                this.updateScrollWidth();\n                this.scrollableElementUpdateDisposable = null;\n            });\n        }\n    }\n    eventuallyUpdateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            this.scrollableElementWidthDelayer.cancel();\n            return;\n        }\n        this.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n    }\n    updateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            return;\n        }\n        let scrollWidth = 0;\n        for (const item of this.items) {\n            if (typeof item.width !== 'undefined') {\n                scrollWidth = Math.max(scrollWidth, item.width);\n            }\n        }\n        this.scrollWidth = scrollWidth;\n        this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n        this._onDidChangeContentWidth.fire(this.scrollWidth);\n    }\n    rerender() {\n        if (!this.supportDynamicHeights) {\n            return;\n        }\n        for (const item of this.items) {\n            item.lastDynamicHeightWidth = undefined;\n        }\n        this._rerender(this.lastRenderTop, this.lastRenderHeight);\n    }\n    get length() {\n        return this.items.length;\n    }\n    get renderHeight() {\n        const scrollDimensions = this.scrollableElement.getScrollDimensions();\n        return scrollDimensions.height;\n    }\n    get firstVisibleIndex() {\n        const range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const firstElTop = this.rangeMap.positionAt(range.start);\n        const nextElTop = this.rangeMap.positionAt(range.start + 1);\n        if (nextElTop !== -1) {\n            const firstElMidpoint = (nextElTop - firstElTop) / 2 + firstElTop;\n            if (firstElMidpoint < this.scrollTop) {\n                return range.start + 1;\n            }\n        }\n        return range.start;\n    }\n    element(index) {\n        return this.items[index].element;\n    }\n    domElement(index) {\n        const row = this.items[index].row;\n        return row && row.domNode;\n    }\n    elementHeight(index) {\n        return this.items[index].size;\n    }\n    elementTop(index) {\n        return this.rangeMap.positionAt(index);\n    }\n    indexAt(position) {\n        return this.rangeMap.indexAt(position);\n    }\n    indexAfter(position) {\n        return this.rangeMap.indexAfter(position);\n    }\n    layout(height, width) {\n        const scrollDimensions = {\n            height: typeof height === 'number' ? height : getContentHeight(this.domNode)\n        };\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            scrollDimensions.scrollHeight = this.scrollHeight;\n        }\n        this.scrollableElement.setScrollDimensions(scrollDimensions);\n        if (typeof width !== 'undefined') {\n            this.renderWidth = width;\n            if (this.supportDynamicHeights) {\n                this._rerender(this.scrollTop, this.renderHeight);\n            }\n        }\n        if (this.horizontalScrolling) {\n            this.scrollableElement.setScrollDimensions({\n                width: typeof width === 'number' ? width : getContentWidth(this.domNode)\n            });\n        }\n    }\n    // Render\n    render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth, updateItemsInDOM = false) {\n        const renderRange = this.getRenderRange(renderTop, renderHeight);\n        const rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange);\n        const rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n        const beforeElement = this.getNextToLastElement(rangesToInsert);\n        if (updateItemsInDOM) {\n            const rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n            for (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n                this.updateItemInDOM(this.items[i], i);\n            }\n        }\n        this.cache.transact(() => {\n            for (const range of rangesToRemove) {\n                for (let i = range.start; i < range.end; i++) {\n                    this.removeItemFromDOM(i);\n                }\n            }\n            for (const range of rangesToInsert) {\n                for (let i = range.start; i < range.end; i++) {\n                    this.insertItemInDOM(i, beforeElement);\n                }\n            }\n        });\n        if (renderLeft !== undefined) {\n            this.rowsContainer.style.left = `-${renderLeft}px`;\n        }\n        this.rowsContainer.style.top = `-${renderTop}px`;\n        if (this.horizontalScrolling && scrollWidth !== undefined) {\n            this.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n        }\n        this.lastRenderTop = renderTop;\n        this.lastRenderHeight = renderHeight;\n    }\n    // DOM operations\n    insertItemInDOM(index, beforeElement, row) {\n        const item = this.items[index];\n        let isStale = false;\n        if (!item.row) {\n            if (row) {\n                item.row = row;\n            }\n            else {\n                const result = this.cache.alloc(item.templateId);\n                item.row = result.row;\n                isStale = result.isReusingConnectedDomNode;\n            }\n        }\n        const role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n        item.row.domNode.setAttribute('role', role);\n        const checked = this.accessibilityProvider.isChecked(item.element);\n        if (typeof checked === 'boolean') {\n            item.row.domNode.setAttribute('aria-checked', String(!!checked));\n        }\n        else if (checked) {\n            const update = (checked) => item.row.domNode.setAttribute('aria-checked', String(!!checked));\n            update(checked.value);\n            item.checkedDisposable = checked.onDidChange(update);\n        }\n        if (isStale || !item.row.domNode.parentElement) {\n            if (beforeElement) {\n                this.rowsContainer.insertBefore(item.row.domNode, beforeElement);\n            }\n            else {\n                this.rowsContainer.appendChild(item.row.domNode);\n            }\n        }\n        this.updateItemInDOM(item, index);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for template id ${item.templateId}`);\n        }\n        renderer === null || renderer === void 0 ? void 0 : renderer.renderElement(item.element, index, item.row.templateData, item.size);\n        const uri = this.dnd.getDragURI(item.element);\n        item.dragStartDisposable.dispose();\n        item.row.domNode.draggable = !!uri;\n        if (uri) {\n            item.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n        }\n        if (this.horizontalScrolling) {\n            this.measureItemWidth(item);\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    measureItemWidth(item) {\n        if (!item.row || !item.row.domNode) {\n            return;\n        }\n        item.row.domNode.style.width = 'fit-content';\n        item.width = getContentWidth(item.row.domNode);\n        const style = window.getComputedStyle(item.row.domNode);\n        if (style.paddingLeft) {\n            item.width += parseFloat(style.paddingLeft);\n        }\n        if (style.paddingRight) {\n            item.width += parseFloat(style.paddingRight);\n        }\n        item.row.domNode.style.width = '';\n    }\n    updateItemInDOM(item, index) {\n        item.row.domNode.style.top = `${this.elementTop(index)}px`;\n        if (this.setRowHeight) {\n            item.row.domNode.style.height = `${item.size}px`;\n        }\n        if (this.setRowLineHeight) {\n            item.row.domNode.style.lineHeight = `${item.size}px`;\n        }\n        item.row.domNode.setAttribute('data-index', `${index}`);\n        item.row.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n        item.row.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n        item.row.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n        item.row.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n        item.row.domNode.setAttribute('id', this.getElementDomId(index));\n        item.row.domNode.classList.toggle('drop-target', item.dropTarget);\n    }\n    removeItemFromDOM(index) {\n        const item = this.items[index];\n        item.dragStartDisposable.dispose();\n        item.checkedDisposable.dispose();\n        if (item.row) {\n            const renderer = this.renderers.get(item.templateId);\n            if (renderer && renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, item.row.templateData, item.size);\n            }\n            this.cache.release(item.row);\n            item.row = null;\n        }\n        if (this.horizontalScrolling) {\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    getScrollTop() {\n        const scrollPosition = this.scrollableElement.getScrollPosition();\n        return scrollPosition.scrollTop;\n    }\n    setScrollTop(scrollTop, reuseAnimation) {\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        this.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n    }\n    get scrollTop() {\n        return this.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.additionalScrollHeight;\n    }\n    // Events\n    get onMouseClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseDblClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseMiddleClick() { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e), this.disposables), e => e.browserEvent.button === 1, this.disposables); }\n    get onMouseDown() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOver() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseover')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOut() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseout')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onContextMenu() { return Event.any(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e), this.disposables), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event, e => this.toGestureEvent(e), this.disposables)); }\n    get onTouchStart() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e), this.disposables); }\n    get onTap() { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e), this.disposables); }\n    toMouseEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toTouchEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toGestureEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toDragEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    onScroll(e) {\n        try {\n            const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n            this.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n            if (this.supportDynamicHeights) {\n                this._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n            }\n        }\n        catch (err) {\n            console.error('Got bad scroll event:', e);\n            throw err;\n        }\n    }\n    onTouchChange(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.scrollTop -= event.translationY;\n    }\n    // DND\n    onDragStart(element, uri, event) {\n        var _a, _b;\n        if (!event.dataTransfer) {\n            return;\n        }\n        const elements = this.dnd.getDragElements(element);\n        event.dataTransfer.effectAllowed = 'copyMove';\n        event.dataTransfer.setData(DataTransfers.TEXT, uri);\n        if (event.dataTransfer.setDragImage) {\n            let label;\n            if (this.dnd.getDragLabel) {\n                label = this.dnd.getDragLabel(elements, event);\n            }\n            if (typeof label === 'undefined') {\n                label = String(elements.length);\n            }\n            const dragImage = $('.monaco-drag-image');\n            dragImage.textContent = label;\n            const getDragImageContainer = (e) => {\n                while (e && !e.classList.contains('monaco-workbench')) {\n                    e = e.parentElement;\n                }\n                return e || document.body;\n            };\n            const container = getDragImageContainer(this.domNode);\n            container.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => container.removeChild(dragImage), 0);\n        }\n        this.domNode.classList.add('dragging');\n        this.currentDragData = new ElementsDragAndDropData(elements);\n        StaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event);\n    }\n    onDragOver(event) {\n        var _a;\n        event.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        this.onDragLeaveTimeout.dispose();\n        if (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n            return false;\n        }\n        this.setupDragAndDropScrollTopAnimation(event.browserEvent);\n        if (!event.browserEvent.dataTransfer) {\n            return false;\n        }\n        // Drag over from outside\n        if (!this.currentDragData) {\n            if (StaticDND.CurrentDragAndDropData) {\n                // Drag over from another list\n                this.currentDragData = StaticDND.CurrentDragAndDropData;\n            }\n            else {\n                // Drag over from the desktop\n                if (!event.browserEvent.dataTransfer.types) {\n                    return false;\n                }\n                this.currentDragData = new NativeDragAndDropData();\n            }\n        }\n        const result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.browserEvent);\n        this.canDrop = typeof result === 'boolean' ? result : result.accept;\n        if (!this.canDrop) {\n            this.currentDragFeedback = undefined;\n            this.currentDragFeedbackDisposable.dispose();\n            return false;\n        }\n        event.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && result.effect === 0 /* ListDragOverEffect.Copy */) ? 'copy' : 'move';\n        let feedback;\n        if (typeof result !== 'boolean' && result.feedback) {\n            feedback = result.feedback;\n        }\n        else {\n            if (typeof event.index === 'undefined') {\n                feedback = [-1];\n            }\n            else {\n                feedback = [event.index];\n            }\n        }\n        // sanitize feedback list\n        feedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n        feedback = feedback[0] === -1 ? [-1] : feedback;\n        if (equalsDragFeedback(this.currentDragFeedback, feedback)) {\n            return true;\n        }\n        this.currentDragFeedback = feedback;\n        this.currentDragFeedbackDisposable.dispose();\n        if (feedback[0] === -1) { // entire list feedback\n            this.domNode.classList.add('drop-target');\n            this.rowsContainer.classList.add('drop-target');\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                this.domNode.classList.remove('drop-target');\n                this.rowsContainer.classList.remove('drop-target');\n            });\n        }\n        else {\n            for (const index of feedback) {\n                const item = this.items[index];\n                item.dropTarget = true;\n                (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.add('drop-target');\n            }\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                var _a;\n                for (const index of feedback) {\n                    const item = this.items[index];\n                    item.dropTarget = false;\n                    (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.remove('drop-target');\n                }\n            });\n        }\n        return true;\n    }\n    onDragLeave(event) {\n        var _a, _b;\n        this.onDragLeaveTimeout.dispose();\n        this.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100);\n        if (this.currentDragData) {\n            (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event.element, event.index, event.browserEvent);\n        }\n    }\n    onDrop(event) {\n        if (!this.canDrop) {\n            return;\n        }\n        const dragData = this.currentDragData;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (!dragData || !event.browserEvent.dataTransfer) {\n            return;\n        }\n        event.browserEvent.preventDefault();\n        dragData.update(event.browserEvent.dataTransfer);\n        this.dnd.drop(dragData, event.element, event.index, event.browserEvent);\n    }\n    onDragEnd(event) {\n        var _a, _b;\n        this.canDrop = false;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    }\n    clearDragOverFeedback() {\n        this.currentDragFeedback = undefined;\n        this.currentDragFeedbackDisposable.dispose();\n        this.currentDragFeedbackDisposable = Disposable.None;\n    }\n    // DND scroll top animation\n    setupDragAndDropScrollTopAnimation(event) {\n        if (!this.dragOverAnimationDisposable) {\n            const viewTop = getTopLeftOffset(this.domNode).top;\n            this.dragOverAnimationDisposable = animate(this.animateDragAndDropScrollTop.bind(this, viewTop));\n        }\n        this.dragOverAnimationStopDisposable.dispose();\n        this.dragOverAnimationStopDisposable = disposableTimeout(() => {\n            if (this.dragOverAnimationDisposable) {\n                this.dragOverAnimationDisposable.dispose();\n                this.dragOverAnimationDisposable = undefined;\n            }\n        }, 1000);\n        this.dragOverMouseY = event.pageY;\n    }\n    animateDragAndDropScrollTop(viewTop) {\n        if (this.dragOverMouseY === undefined) {\n            return;\n        }\n        const diff = this.dragOverMouseY - viewTop;\n        const upperLimit = this.renderHeight - 35;\n        if (diff < 35) {\n            this.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n        }\n        else if (diff > upperLimit) {\n            this.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n        }\n    }\n    teardownDragAndDropScrollTopAnimation() {\n        this.dragOverAnimationStopDisposable.dispose();\n        if (this.dragOverAnimationDisposable) {\n            this.dragOverAnimationDisposable.dispose();\n            this.dragOverAnimationDisposable = undefined;\n        }\n    }\n    // Util\n    getItemIndexFromEventTarget(target) {\n        const scrollableElement = this.scrollableElement.getDomNode();\n        let element = target;\n        while (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n            const rawIndex = element.getAttribute('data-index');\n            if (rawIndex) {\n                const index = Number(rawIndex);\n                if (!isNaN(index)) {\n                    return index;\n                }\n            }\n            element = element.parentElement;\n        }\n        return undefined;\n    }\n    getRenderRange(renderTop, renderHeight) {\n        return {\n            start: this.rangeMap.indexAt(renderTop),\n            end: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n        };\n    }\n    /**\n     * Given a stable rendered state, checks every rendered element whether it needs\n     * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n     */\n    _rerender(renderTop, renderHeight, inSmoothScrolling) {\n        const previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n        // Let's remember the second element's position, this helps in scrolling up\n        // and preserving a linear upwards scroll movement\n        let anchorElementIndex;\n        let anchorElementTopDelta;\n        if (renderTop === this.elementTop(previousRenderRange.start)) {\n            anchorElementIndex = previousRenderRange.start;\n            anchorElementTopDelta = 0;\n        }\n        else if (previousRenderRange.end - previousRenderRange.start > 1) {\n            anchorElementIndex = previousRenderRange.start + 1;\n            anchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n        }\n        let heightDiff = 0;\n        while (true) {\n            const renderRange = this.getRenderRange(renderTop, renderHeight);\n            let didChange = false;\n            for (let i = renderRange.start; i < renderRange.end; i++) {\n                const diff = this.probeDynamicHeight(i);\n                if (diff !== 0) {\n                    this.rangeMap.splice(i, 1, [this.items[i]]);\n                }\n                heightDiff += diff;\n                didChange = didChange || diff !== 0;\n            }\n            if (!didChange) {\n                if (heightDiff !== 0) {\n                    this.eventuallyUpdateScrollDimensions();\n                }\n                const unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n                for (const range of unrenderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        if (this.items[i].row) {\n                            this.removeItemFromDOM(i);\n                        }\n                    }\n                }\n                const renderRanges = Range.relativeComplement(renderRange, previousRenderRange);\n                for (const range of renderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        const afterIndex = i + 1;\n                        const beforeRow = afterIndex < this.items.length ? this.items[afterIndex].row : null;\n                        const beforeElement = beforeRow ? beforeRow.domNode : null;\n                        this.insertItemInDOM(i, beforeElement);\n                    }\n                }\n                for (let i = renderRange.start; i < renderRange.end; i++) {\n                    if (this.items[i].row) {\n                        this.updateItemInDOM(this.items[i], i);\n                    }\n                }\n                if (typeof anchorElementIndex === 'number') {\n                    // To compute a destination scroll top, we need to take into account the current smooth scrolling\n                    // animation, and then reuse it with a new target (to avoid prolonging the scroll)\n                    // See https://github.com/microsoft/vscode/issues/104144\n                    // See https://github.com/microsoft/vscode/pull/104284\n                    // See https://github.com/microsoft/vscode/issues/107704\n                    const deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n                    const newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta + deltaScrollTop;\n                    this.setScrollTop(newScrollTop, inSmoothScrolling);\n                }\n                this._onDidChangeContentHeight.fire(this.contentHeight);\n                return;\n            }\n        }\n    }\n    probeDynamicHeight(index) {\n        var _a, _b, _c;\n        const item = this.items[index];\n        if (!!this.virtualDelegate.getDynamicHeight) {\n            const newSize = this.virtualDelegate.getDynamicHeight(item.element);\n            if (newSize !== null) {\n                const size = item.size;\n                item.size = newSize;\n                item.lastDynamicHeightWidth = this.renderWidth;\n                return newSize - size;\n            }\n        }\n        if (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n            return 0;\n        }\n        if (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n            return 0;\n        }\n        const size = item.size;\n        if (item.row) {\n            item.row.domNode.style.height = '';\n            item.size = item.row.domNode.offsetHeight;\n            item.lastDynamicHeightWidth = this.renderWidth;\n            return item.size - size;\n        }\n        const { row } = this.cache.alloc(item.templateId);\n        row.domNode.style.height = '';\n        this.rowsContainer.appendChild(row.domNode);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new BugIndicatingError('Missing renderer for templateId: ' + item.templateId);\n        }\n        renderer.renderElement(item.element, index, row.templateData, undefined);\n        item.size = row.domNode.offsetHeight;\n        (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, index, row.templateData, undefined);\n        (_c = (_b = this.virtualDelegate).setDynamicHeight) === null || _c === void 0 ? void 0 : _c.call(_b, item.element, item.size);\n        item.lastDynamicHeightWidth = this.renderWidth;\n        this.rowsContainer.removeChild(row.domNode);\n        this.cache.release(row);\n        return item.size - size;\n    }\n    getNextToLastElement(ranges) {\n        const lastRange = ranges[ranges.length - 1];\n        if (!lastRange) {\n            return null;\n        }\n        const nextToLastItem = this.items[lastRange.end];\n        if (!nextToLastItem) {\n            return null;\n        }\n        if (!nextToLastItem.row) {\n            return null;\n        }\n        return nextToLastItem.row.domNode;\n    }\n    getElementDomId(index) {\n        return `${this.domId}_${index}`;\n    }\n    // Dispose\n    dispose() {\n        var _a;\n        if (this.items) {\n            for (const item of this.items) {\n                if (item.row) {\n                    const renderer = this.renderers.get(item.row.templateId);\n                    if (renderer) {\n                        (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, -1, item.row.templateData, undefined);\n                        renderer.disposeTemplate(item.row.templateData);\n                    }\n                }\n            }\n            this.items = [];\n        }\n        if (this.domNode && this.domNode.parentNode) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        dispose(this.disposables);\n    }\n}\nListView.InstanceCount = 0;\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDblClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseMiddleClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDown\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOver\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOut\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTouchStart\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTap\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class CombinedSpliceable {\n    constructor(spliceables) {\n        this.spliceables = spliceables;\n    }\n    splice(start, deleteCount, elements) {\n        this.spliceables.forEach(s => s.splice(start, deleteCount, elements));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ListError extends Error {\n    constructor(user, message) {\n        super(`ListError [${user}] ${message}`);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { asCssValueWithDefault, createStyleSheet, EventHelper } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Gesture } from '../../touch.js';\nimport { alert } from '../aria/aria.js';\nimport { CombinedSpliceable } from './splice.js';\nimport { binarySearch, firstOrDefault, range } from '../../../common/arrays.js';\nimport { timeout } from '../../../common/async.js';\nimport { Color } from '../../../common/color.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { matchesPrefix } from '../../../common/filters.js';\nimport { DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport * as platform from '../../../common/platform.js';\nimport { isNumber } from '../../../common/types.js';\nimport './list.css';\nimport { ListError } from './list.js';\nimport { ListView } from './listView.js';\nclass TraitRenderer {\n    constructor(trait) {\n        this.trait = trait;\n        this.renderedElements = [];\n    }\n    get templateId() {\n        return `template:${this.trait.name}`;\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, templateData) {\n        const renderedElementIndex = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (renderedElementIndex >= 0) {\n            const rendered = this.renderedElements[renderedElementIndex];\n            this.trait.unrender(templateData);\n            rendered.index = index;\n        }\n        else {\n            const rendered = { index, templateData };\n            this.renderedElements.push(rendered);\n        }\n        this.trait.renderIndex(index, templateData);\n    }\n    splice(start, deleteCount, insertCount) {\n        const rendered = [];\n        for (const renderedElement of this.renderedElements) {\n            if (renderedElement.index < start) {\n                rendered.push(renderedElement);\n            }\n            else if (renderedElement.index >= start + deleteCount) {\n                rendered.push({\n                    index: renderedElement.index + insertCount - deleteCount,\n                    templateData: renderedElement.templateData\n                });\n            }\n        }\n        this.renderedElements = rendered;\n    }\n    renderIndexes(indexes) {\n        for (const { index, templateData } of this.renderedElements) {\n            if (indexes.indexOf(index) > -1) {\n                this.trait.renderIndex(index, templateData);\n            }\n        }\n    }\n    disposeTemplate(templateData) {\n        const index = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (index < 0) {\n            return;\n        }\n        this.renderedElements.splice(index, 1);\n    }\n}\nclass Trait {\n    get name() { return this._trait; }\n    get renderer() {\n        return new TraitRenderer(this);\n    }\n    constructor(_trait) {\n        this._trait = _trait;\n        this.length = 0;\n        this.indexes = [];\n        this.sortedIndexes = [];\n        this._onChange = new Emitter();\n        this.onChange = this._onChange.event;\n    }\n    splice(start, deleteCount, elements) {\n        var _a;\n        deleteCount = Math.max(0, Math.min(deleteCount, this.length - start));\n        const diff = elements.length - deleteCount;\n        const end = start + deleteCount;\n        const sortedIndexes = [\n            ...this.sortedIndexes.filter(i => i < start),\n            ...elements.map((hasTrait, i) => hasTrait ? i + start : -1).filter(i => i !== -1),\n            ...this.sortedIndexes.filter(i => i >= end).map(i => i + diff)\n        ];\n        const length = this.length + diff;\n        if (this.sortedIndexes.length > 0 && sortedIndexes.length === 0 && length > 0) {\n            const first = (_a = this.sortedIndexes.find(index => index >= start)) !== null && _a !== void 0 ? _a : length - 1;\n            sortedIndexes.push(Math.min(first, length - 1));\n        }\n        this.renderer.splice(start, deleteCount, elements.length);\n        this._set(sortedIndexes, sortedIndexes);\n        this.length = length;\n    }\n    renderIndex(index, container) {\n        container.classList.toggle(this._trait, this.contains(index));\n    }\n    unrender(container) {\n        container.classList.remove(this._trait);\n    }\n    /**\n     * Sets the indexes which should have this trait.\n     *\n     * @param indexes Indexes which should have this trait.\n     * @return The old indexes which had this trait.\n     */\n    set(indexes, browserEvent) {\n        return this._set(indexes, [...indexes].sort(numericSort), browserEvent);\n    }\n    _set(indexes, sortedIndexes, browserEvent) {\n        const result = this.indexes;\n        const sortedResult = this.sortedIndexes;\n        this.indexes = indexes;\n        this.sortedIndexes = sortedIndexes;\n        const toRender = disjunction(sortedResult, indexes);\n        this.renderer.renderIndexes(toRender);\n        this._onChange.fire({ indexes, browserEvent });\n        return result;\n    }\n    get() {\n        return this.indexes;\n    }\n    contains(index) {\n        return binarySearch(this.sortedIndexes, index, numericSort) >= 0;\n    }\n    dispose() {\n        dispose(this._onChange);\n    }\n}\n__decorate([\n    memoize\n], Trait.prototype, \"renderer\", null);\nclass SelectionTrait extends Trait {\n    constructor(setAriaSelected) {\n        super('selected');\n        this.setAriaSelected = setAriaSelected;\n    }\n    renderIndex(index, container) {\n        super.renderIndex(index, container);\n        if (this.setAriaSelected) {\n            if (this.contains(index)) {\n                container.setAttribute('aria-selected', 'true');\n            }\n            else {\n                container.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n}\n/**\n * The TraitSpliceable is used as a util class to be able\n * to preserve traits across splice calls, given an identity\n * provider.\n */\nclass TraitSpliceable {\n    constructor(trait, view, identityProvider) {\n        this.trait = trait;\n        this.view = view;\n        this.identityProvider = identityProvider;\n    }\n    splice(start, deleteCount, elements) {\n        if (!this.identityProvider) {\n            return this.trait.splice(start, deleteCount, elements.map(() => false));\n        }\n        const pastElementsWithTrait = this.trait.get().map(i => this.identityProvider.getId(this.view.element(i)).toString());\n        const elementsWithTrait = elements.map(e => pastElementsWithTrait.indexOf(this.identityProvider.getId(e).toString()) > -1);\n        this.trait.splice(start, deleteCount, elementsWithTrait);\n    }\n}\nexport function isInputElement(e) {\n    return e.tagName === 'INPUT' || e.tagName === 'TEXTAREA';\n}\nexport function isMonacoEditor(e) {\n    if (e.classList.contains('monaco-editor')) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isMonacoEditor(e.parentElement);\n}\nexport function isButton(e) {\n    if ((e.tagName === 'A' && e.classList.contains('monaco-button')) ||\n        (e.tagName === 'DIV' && e.classList.contains('monaco-button-dropdown'))) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isButton(e.parentElement);\n}\nclass KeyboardController {\n    get onKeyDown() {\n        return this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e)));\n    }\n    constructor(list, view, options) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        this.multipleSelectionDisposables = new DisposableStore();\n        this.onKeyDown.filter(e => e.keyCode === 3 /* KeyCode.Enter */).on(this.onEnter, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 16 /* KeyCode.UpArrow */).on(this.onUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 18 /* KeyCode.DownArrow */).on(this.onDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 11 /* KeyCode.PageUp */).on(this.onPageUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 12 /* KeyCode.PageDown */).on(this.onPageDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 9 /* KeyCode.Escape */).on(this.onEscape, this, this.disposables);\n        if (options.multipleSelectionSupport !== false) {\n            this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyCode.KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n        }\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionDisposables.clear();\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyCode.KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n            }\n        }\n    }\n    onEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(this.list.getFocus(), e.browserEvent);\n    }\n    onUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPrevious(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNext(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPreviousPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNextPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onCtrlA(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(range(this.list.length), e.browserEvent);\n        this.list.setAnchor(undefined);\n        this.view.domNode.focus();\n    }\n    onEscape(e) {\n        if (this.list.getSelection().length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            this.view.domNode.focus();\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n        this.multipleSelectionDisposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], KeyboardController.prototype, \"onKeyDown\", null);\nexport var TypeNavigationMode;\n(function (TypeNavigationMode) {\n    TypeNavigationMode[TypeNavigationMode[\"Automatic\"] = 0] = \"Automatic\";\n    TypeNavigationMode[TypeNavigationMode[\"Trigger\"] = 1] = \"Trigger\";\n})(TypeNavigationMode || (TypeNavigationMode = {}));\nvar TypeNavigationControllerState;\n(function (TypeNavigationControllerState) {\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Idle\"] = 0] = \"Idle\";\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Typing\"] = 1] = \"Typing\";\n})(TypeNavigationControllerState || (TypeNavigationControllerState = {}));\nexport const DefaultKeyboardNavigationDelegate = new class {\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey || event.altKey) {\n            return false;\n        }\n        return (event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)\n            || (event.keyCode >= 98 /* KeyCode.Numpad0 */ && event.keyCode <= 107 /* KeyCode.Numpad9 */)\n            || (event.keyCode >= 85 /* KeyCode.Semicolon */ && event.keyCode <= 95 /* KeyCode.Quote */);\n    }\n};\nclass TypeNavigationController {\n    constructor(list, view, keyboardNavigationLabelProvider, keyboardNavigationEventFilter, delegate) {\n        this.list = list;\n        this.view = view;\n        this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n        this.keyboardNavigationEventFilter = keyboardNavigationEventFilter;\n        this.delegate = delegate;\n        this.enabled = false;\n        this.state = TypeNavigationControllerState.Idle;\n        this.mode = TypeNavigationMode.Automatic;\n        this.triggered = false;\n        this.previouslyFocused = -1;\n        this.enabledDisposables = new DisposableStore();\n        this.disposables = new DisposableStore();\n        this.updateOptions(list.options);\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ((_a = options.typeNavigationEnabled) !== null && _a !== void 0 ? _a : true) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n        this.mode = (_b = options.typeNavigationMode) !== null && _b !== void 0 ? _b : TypeNavigationMode.Automatic;\n    }\n    enable() {\n        if (this.enabled) {\n            return;\n        }\n        let typing = false;\n        const onChar = this.enabledDisposables.add(Event.chain(this.enabledDisposables.add(new DomEmitter(this.view.domNode, 'keydown')).event))\n            .filter(e => !isInputElement(e.target))\n            .filter(() => this.mode === TypeNavigationMode.Automatic || this.triggered)\n            .map(event => new StandardKeyboardEvent(event))\n            .filter(e => typing || this.keyboardNavigationEventFilter(e))\n            .filter(e => this.delegate.mightProducePrintableCharacter(e))\n            .forEach(e => EventHelper.stop(e, true))\n            .map(event => event.browserEvent.key)\n            .event;\n        const onClear = Event.debounce(onChar, () => null, 800, undefined, undefined, undefined, this.enabledDisposables);\n        const onInput = Event.reduce(Event.any(onChar, onClear), (r, i) => i === null ? null : ((r || '') + i), undefined, this.enabledDisposables);\n        onInput(this.onInput, this, this.enabledDisposables);\n        onClear(this.onClear, this, this.enabledDisposables);\n        onChar(() => typing = true, undefined, this.enabledDisposables);\n        onClear(() => typing = false, undefined, this.enabledDisposables);\n        this.enabled = true;\n        this.triggered = false;\n    }\n    disable() {\n        if (!this.enabled) {\n            return;\n        }\n        this.enabledDisposables.clear();\n        this.enabled = false;\n        this.triggered = false;\n    }\n    onClear() {\n        var _a;\n        const focus = this.list.getFocus();\n        if (focus.length > 0 && focus[0] === this.previouslyFocused) {\n            // List: re-announce element on typing end since typed keys will interrupt aria label of focused element\n            // Do not announce if there was a focus change at the end to prevent duplication https://github.com/microsoft/vscode/issues/95961\n            const ariaLabel = (_a = this.list.options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getAriaLabel(this.list.element(focus[0]));\n            if (ariaLabel) {\n                alert(ariaLabel);\n            }\n        }\n        this.previouslyFocused = -1;\n    }\n    onInput(word) {\n        if (!word) {\n            this.state = TypeNavigationControllerState.Idle;\n            this.triggered = false;\n            return;\n        }\n        const focus = this.list.getFocus();\n        const start = focus.length > 0 ? focus[0] : 0;\n        const delta = this.state === TypeNavigationControllerState.Idle ? 1 : 0;\n        this.state = TypeNavigationControllerState.Typing;\n        for (let i = 0; i < this.list.length; i++) {\n            const index = (start + i + delta) % this.list.length;\n            const label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index));\n            const labelStr = label && label.toString();\n            if (typeof labelStr === 'undefined' || matchesPrefix(word, labelStr)) {\n                this.previouslyFocused = start;\n                this.list.setFocus([index]);\n                this.list.reveal(index);\n                return;\n            }\n        }\n    }\n    dispose() {\n        this.disable();\n        this.enabledDisposables.dispose();\n        this.disposables.dispose();\n    }\n}\nclass DOMFocusController {\n    constructor(list, view) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        const onKeyDown = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(view.domNode, 'keydown')).event))\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e));\n        onKeyDown.filter(e => e.keyCode === 2 /* KeyCode.Tab */ && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey)\n            .on(this.onTab, this, this.disposables);\n    }\n    onTab(e) {\n        if (e.target !== this.view.domNode) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        if (focus.length === 0) {\n            return;\n        }\n        const focusedDomElement = this.view.domElement(focus[0]);\n        if (!focusedDomElement) {\n            return;\n        }\n        const tabIndexElement = focusedDomElement.querySelector('[tabIndex]');\n        if (!tabIndexElement || !(tabIndexElement instanceof HTMLElement) || tabIndexElement.tabIndex === -1) {\n            return;\n        }\n        const style = window.getComputedStyle(tabIndexElement);\n        if (style.visibility === 'hidden' || style.display === 'none') {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        tabIndexElement.focus();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport function isSelectionSingleChangeEvent(event) {\n    return platform.isMacintosh ? event.browserEvent.metaKey : event.browserEvent.ctrlKey;\n}\nexport function isSelectionRangeChangeEvent(event) {\n    return event.browserEvent.shiftKey;\n}\nfunction isMouseRightClick(event) {\n    return event instanceof MouseEvent && event.button === 2;\n}\nconst DefaultMultipleSelectionController = {\n    isSelectionSingleChangeEvent,\n    isSelectionRangeChangeEvent\n};\nexport class MouseController {\n    constructor(list) {\n        this.list = list;\n        this.disposables = new DisposableStore();\n        this._onPointer = new Emitter();\n        this.onPointer = this._onPointer.event;\n        if (list.options.multipleSelectionSupport !== false) {\n            this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n        }\n        this.mouseSupport = typeof list.options.mouseSupport === 'undefined' || !!list.options.mouseSupport;\n        if (this.mouseSupport) {\n            list.onMouseDown(this.onMouseDown, this, this.disposables);\n            list.onContextMenu(this.onContextMenu, this, this.disposables);\n            list.onMouseDblClick(this.onDoubleClick, this, this.disposables);\n            list.onTouchStart(this.onMouseDown, this, this.disposables);\n            this.disposables.add(Gesture.addTarget(list.getHTMLElement()));\n        }\n        Event.any(list.onMouseClick, list.onMouseMiddleClick, list.onTap)(this.onViewPointer, this, this.disposables);\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionController = undefined;\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n            }\n        }\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionRangeChangeEvent(event);\n    }\n    isSelectionChangeEvent(event) {\n        return this.isSelectionSingleChangeEvent(event) || this.isSelectionRangeChangeEvent(event);\n    }\n    onMouseDown(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (document.activeElement !== e.browserEvent.target) {\n            this.list.domFocus();\n        }\n    }\n    onContextMenu(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = typeof e.index === 'undefined' ? [] : [e.index];\n        this.list.setFocus(focus, e.browserEvent);\n    }\n    onViewPointer(e) {\n        if (!this.mouseSupport) {\n            return;\n        }\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (e.browserEvent.isHandledByList) {\n            return;\n        }\n        e.browserEvent.isHandledByList = true;\n        const focus = e.index;\n        if (typeof focus === 'undefined') {\n            this.list.setFocus([], e.browserEvent);\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            return;\n        }\n        if (this.isSelectionRangeChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        this.list.setFocus([focus], e.browserEvent);\n        this.list.setAnchor(focus);\n        if (!isMouseRightClick(e.browserEvent)) {\n            this.list.setSelection([focus], e.browserEvent);\n        }\n        this._onPointer.fire(e);\n    }\n    onDoubleClick(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return;\n        }\n        if (e.browserEvent.isHandledByList) {\n            return;\n        }\n        e.browserEvent.isHandledByList = true;\n        const focus = this.list.getFocus();\n        this.list.setSelection(focus, e.browserEvent);\n    }\n    changeSelection(e) {\n        const focus = e.index;\n        let anchor = this.list.getAnchor();\n        if (this.isSelectionRangeChangeEvent(e)) {\n            if (typeof anchor === 'undefined') {\n                const currentFocus = this.list.getFocus()[0];\n                anchor = currentFocus !== null && currentFocus !== void 0 ? currentFocus : focus;\n                this.list.setAnchor(anchor);\n            }\n            const min = Math.min(anchor, focus);\n            const max = Math.max(anchor, focus);\n            const rangeSelection = range(min, max + 1);\n            const selection = this.list.getSelection();\n            const contiguousRange = getContiguousRangeContaining(disjunction(selection, [anchor]), anchor);\n            if (contiguousRange.length === 0) {\n                return;\n            }\n            const newSelection = disjunction(rangeSelection, relativeComplement(selection, contiguousRange));\n            this.list.setSelection(newSelection, e.browserEvent);\n            this.list.setFocus([focus], e.browserEvent);\n        }\n        else if (this.isSelectionSingleChangeEvent(e)) {\n            const selection = this.list.getSelection();\n            const newSelection = selection.filter(i => i !== focus);\n            this.list.setFocus([focus]);\n            this.list.setAnchor(focus);\n            if (selection.length === newSelection.length) {\n                this.list.setSelection([...newSelection, focus], e.browserEvent);\n            }\n            else {\n                this.list.setSelection(newSelection, e.browserEvent);\n            }\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport class DefaultStyleController {\n    constructor(styleElement, selectorSuffix) {\n        this.styleElement = styleElement;\n        this.selectorSuffix = selectorSuffix;\n    }\n    style(styles) {\n        var _a, _b;\n        const suffix = this.selectorSuffix && `.${this.selectorSuffix}`;\n        const content = [];\n        if (styles.listBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-rows { background: ${styles.listBackground}; }`);\n        }\n        if (styles.listFocusBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listFocusForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`);\n        }\n        if (styles.listActiveSelectionBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listActiveSelectionForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`);\n        }\n        if (styles.listActiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected .codicon { color: ${styles.listActiveSelectionIconForeground}; }`);\n        }\n        if (styles.listFocusAndSelectionBackground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n        }\n        if (styles.listFocusAndSelectionForeground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { color:  ${styles.listInactiveFocusForeground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { color:  ${styles.listInactiveFocusForeground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused .codicon { color:  ${styles.listInactiveSelectionIconForeground}; }`);\n        }\n        if (styles.listInactiveFocusBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`);\n        }\n        if (styles.listHoverBackground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${styles.listHoverBackground}; }`);\n        }\n        if (styles.listHoverForeground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`);\n        }\n        /**\n         * Outlines\n         */\n        const focusAndSelectionOutline = asCssValueWithDefault(styles.listFocusAndSelectionOutline, asCssValueWithDefault(styles.listSelectionOutline, (_a = styles.listFocusOutline) !== null && _a !== void 0 ? _a : ''));\n        if (focusAndSelectionOutline) { // default: listFocusOutline\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused.selected { outline: 1px solid ${focusAndSelectionOutline}; outline-offset: -1px;}`);\n        }\n        if (styles.listFocusOutline) { // default: set\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${suffix}.last-focused .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);\n        }\n        const inactiveFocusAndSelectionOutline = asCssValueWithDefault(styles.listSelectionOutline, (_b = styles.listInactiveFocusOutline) !== null && _b !== void 0 ? _b : '');\n        if (inactiveFocusAndSelectionOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused.selected { outline: 1px dotted ${inactiveFocusAndSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listSelectionOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listInactiveFocusOutline) { // default: null\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listHoverOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listDropBackground) {\n            content.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target { background-color: ${styles.listDropBackground} !important; color: inherit !important; }\n\t\t\t`);\n        }\n        if (styles.tableColumnsBorder) {\n            content.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${styles.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`);\n        }\n        if (styles.tableOddRowsBackgroundColor) {\n            content.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${styles.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`);\n        }\n        this.styleElement.textContent = content.join('\\n');\n    }\n}\nexport const unthemedListStyles = {\n    listFocusBackground: '#7FB0D0',\n    listActiveSelectionBackground: '#0E639C',\n    listActiveSelectionForeground: '#FFFFFF',\n    listActiveSelectionIconForeground: '#FFFFFF',\n    listFocusAndSelectionOutline: '#90C2F9',\n    listFocusAndSelectionBackground: '#094771',\n    listFocusAndSelectionForeground: '#FFFFFF',\n    listInactiveSelectionBackground: '#3F3F46',\n    listInactiveSelectionIconForeground: '#FFFFFF',\n    listHoverBackground: '#2A2D2E',\n    listDropBackground: '#383B3D',\n    treeIndentGuidesStroke: '#a9a9a9',\n    treeInactiveIndentGuidesStroke: Color.fromHex('#a9a9a9').transparent(0.4).toString(),\n    tableColumnsBorder: Color.fromHex('#cccccc').transparent(0.2).toString(),\n    tableOddRowsBackgroundColor: Color.fromHex('#cccccc').transparent(0.04).toString(),\n    listBackground: undefined,\n    listFocusForeground: undefined,\n    listInactiveSelectionForeground: undefined,\n    listInactiveFocusForeground: undefined,\n    listInactiveFocusBackground: undefined,\n    listHoverForeground: undefined,\n    listFocusOutline: undefined,\n    listInactiveFocusOutline: undefined,\n    listSelectionOutline: undefined,\n    listHoverOutline: undefined\n};\nconst DefaultOptions = {\n    keyboardSupport: true,\n    mouseSupport: true,\n    multipleSelectionSupport: true,\n    dnd: {\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    }\n};\n// TODO@Joao: move these utils into a SortedArray class\nfunction getContiguousRangeContaining(range, value) {\n    const index = range.indexOf(value);\n    if (index === -1) {\n        return [];\n    }\n    const result = [];\n    let i = index - 1;\n    while (i >= 0 && range[i] === value - (index - i)) {\n        result.push(range[i--]);\n    }\n    result.reverse();\n    i = index;\n    while (i < range.length && range[i] === value + (i - index)) {\n        result.push(range[i++]);\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the intersection\n * between them (OR).\n */\nfunction disjunction(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            result.push(one[i]);\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            result.push(other[j++]);\n        }\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the relative\n * complement between them (XOR).\n */\nfunction relativeComplement(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            j++;\n        }\n    }\n    return result;\n}\nconst numericSort = (a, b) => a - b;\nclass PipelineRenderer {\n    constructor(_templateId, renderers) {\n        this._templateId = _templateId;\n        this.renderers = renderers;\n    }\n    get templateId() {\n        return this._templateId;\n    }\n    renderTemplate(container) {\n        return this.renderers.map(r => r.renderTemplate(container));\n    }\n    renderElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.renderElement(element, index, templateData[i++], height);\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        var _a;\n        let i = 0;\n        for (const renderer of this.renderers) {\n            (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, element, index, templateData[i], height);\n            i += 1;\n        }\n    }\n    disposeTemplate(templateData) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.disposeTemplate(templateData[i++]);\n        }\n    }\n}\nclass AccessibiltyRenderer {\n    constructor(accessibilityProvider) {\n        this.accessibilityProvider = accessibilityProvider;\n        this.templateId = 'a18n';\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, container) {\n        const ariaLabel = this.accessibilityProvider.getAriaLabel(element);\n        if (ariaLabel) {\n            container.setAttribute('aria-label', ariaLabel);\n        }\n        else {\n            container.removeAttribute('aria-label');\n        }\n        const ariaLevel = this.accessibilityProvider.getAriaLevel && this.accessibilityProvider.getAriaLevel(element);\n        if (typeof ariaLevel === 'number') {\n            container.setAttribute('aria-level', `${ariaLevel}`);\n        }\n        else {\n            container.removeAttribute('aria-level');\n        }\n    }\n    disposeTemplate(templateData) {\n        // noop\n    }\n}\nclass ListViewDragAndDrop {\n    constructor(list, dnd) {\n        this.list = list;\n        this.dnd = dnd;\n    }\n    getDragElements(element) {\n        const selection = this.list.getSelectedElements();\n        const elements = selection.indexOf(element) > -1 ? selection : [element];\n        return elements;\n    }\n    getDragURI(element) {\n        return this.dnd.getDragURI(element);\n    }\n    getDragLabel(elements, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(elements, originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, data, originalEvent);\n    }\n    onDragOver(data, targetElement, targetIndex, originalEvent) {\n        return this.dnd.onDragOver(data, targetElement, targetIndex, originalEvent);\n    }\n    onDragLeave(data, targetElement, targetIndex, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, data, targetElement, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, originalEvent);\n    }\n    drop(data, targetElement, targetIndex, originalEvent) {\n        this.dnd.drop(data, targetElement, targetIndex, originalEvent);\n    }\n}\n/**\n * The {@link List} is a virtual scrolling widget, built on top of the {@link ListView}\n * widget.\n *\n * Features:\n * - Customizable keyboard and mouse support\n * - Element traits: focus, selection, achor\n * - Accessibility support\n * - Touch support\n * - Performant template-based rendering\n * - Horizontal scrolling\n * - Variable element height support\n * - Dynamic element height support\n * - Drag-and-drop support\n */\nexport class List {\n    get onDidChangeFocus() {\n        return Event.map(this.eventBufferer.wrapEvent(this.focus.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.eventBufferer.wrapEvent(this.selection.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get domId() { return this.view.domId; }\n    get onMouseClick() { return this.view.onMouseClick; }\n    get onMouseDblClick() { return this.view.onMouseDblClick; }\n    get onMouseMiddleClick() { return this.view.onMouseMiddleClick; }\n    get onPointer() { return this.mouseController.onPointer; }\n    get onMouseDown() { return this.view.onMouseDown; }\n    get onMouseOver() { return this.view.onMouseOver; }\n    get onMouseOut() { return this.view.onMouseOut; }\n    get onTouchStart() { return this.view.onTouchStart; }\n    get onTap() { return this.view.onTap; }\n    /**\n     * Possible context menu trigger events:\n     * - ContextMenu key\n     * - Shift F10\n     * - Ctrl Option Shift M (macOS with VoiceOver)\n     * - Mouse right click\n     */\n    get onContextMenu() {\n        let didJustPressContextMenuKey = false;\n        const fromKeyDown = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event))\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => didJustPressContextMenuKey = e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .filter(() => false)\n            .event;\n        const fromKeyUp = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keyup')).event))\n            .forEach(() => didJustPressContextMenuKey = false)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .map(({ browserEvent }) => {\n            const focus = this.getFocus();\n            const index = focus.length ? focus[0] : undefined;\n            const element = typeof index !== 'undefined' ? this.view.element(index) : undefined;\n            const anchor = typeof index !== 'undefined' ? this.view.domElement(index) : this.view.domNode;\n            return { index, element, anchor, browserEvent };\n        })\n            .event;\n        const fromMouse = this.disposables.add(Event.chain(this.view.onContextMenu))\n            .filter(_ => !didJustPressContextMenuKey)\n            .map(({ element, index, browserEvent }) => ({ element, index, anchor: { x: browserEvent.pageX + 1, y: browserEvent.pageY }, browserEvent }))\n            .event;\n        return Event.any(fromKeyDown, fromKeyUp, fromMouse);\n    }\n    get onKeyDown() { return this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event; }\n    get onDidFocus() { return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'focus', true)).event); }\n    constructor(user, container, virtualDelegate, renderers, _options = DefaultOptions) {\n        var _a, _b, _c, _d;\n        this.user = user;\n        this._options = _options;\n        this.focus = new Trait('focused');\n        this.anchor = new Trait('anchor');\n        this.eventBufferer = new EventBufferer();\n        this._ariaLabel = '';\n        this.disposables = new DisposableStore();\n        this._onDidDispose = new Emitter();\n        this.onDidDispose = this._onDidDispose.event;\n        const role = this._options.accessibilityProvider && this._options.accessibilityProvider.getWidgetRole ? (_a = this._options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getWidgetRole() : 'list';\n        this.selection = new SelectionTrait(role !== 'listbox');\n        const baseRenderers = [this.focus.renderer, this.selection.renderer];\n        this.accessibilityProvider = _options.accessibilityProvider;\n        if (this.accessibilityProvider) {\n            baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider));\n            (_c = (_b = this.accessibilityProvider).onDidChangeActiveDescendant) === null || _c === void 0 ? void 0 : _c.call(_b, this.onDidChangeActiveDescendant, this, this.disposables);\n        }\n        renderers = renderers.map(r => new PipelineRenderer(r.templateId, [...baseRenderers, r]));\n        const viewOptions = Object.assign(Object.assign({}, _options), { dnd: _options.dnd && new ListViewDragAndDrop(this, _options.dnd) });\n        this.view = this.createListView(container, virtualDelegate, renderers, viewOptions);\n        this.view.domNode.setAttribute('role', role);\n        if (_options.styleController) {\n            this.styleController = _options.styleController(this.view.domId);\n        }\n        else {\n            const styleElement = createStyleSheet(this.view.domNode);\n            this.styleController = new DefaultStyleController(styleElement, this.view.domId);\n        }\n        this.spliceable = new CombinedSpliceable([\n            new TraitSpliceable(this.focus, this.view, _options.identityProvider),\n            new TraitSpliceable(this.selection, this.view, _options.identityProvider),\n            new TraitSpliceable(this.anchor, this.view, _options.identityProvider),\n            this.view\n        ]);\n        this.disposables.add(this.focus);\n        this.disposables.add(this.selection);\n        this.disposables.add(this.anchor);\n        this.disposables.add(this.view);\n        this.disposables.add(this._onDidDispose);\n        this.disposables.add(new DOMFocusController(this, this.view));\n        if (typeof _options.keyboardSupport !== 'boolean' || _options.keyboardSupport) {\n            this.keyboardController = new KeyboardController(this, this.view, _options);\n            this.disposables.add(this.keyboardController);\n        }\n        if (_options.keyboardNavigationLabelProvider) {\n            const delegate = _options.keyboardNavigationDelegate || DefaultKeyboardNavigationDelegate;\n            this.typeNavigationController = new TypeNavigationController(this, this.view, _options.keyboardNavigationLabelProvider, (_d = _options.keyboardNavigationEventFilter) !== null && _d !== void 0 ? _d : (() => true), delegate);\n            this.disposables.add(this.typeNavigationController);\n        }\n        this.mouseController = this.createMouseController(_options);\n        this.disposables.add(this.mouseController);\n        this.onDidChangeFocus(this._onFocusChange, this, this.disposables);\n        this.onDidChangeSelection(this._onSelectionChange, this, this.disposables);\n        if (this.accessibilityProvider) {\n            this.ariaLabel = this.accessibilityProvider.getWidgetAriaLabel();\n        }\n        if (this._options.multipleSelectionSupport !== false) {\n            this.view.domNode.setAttribute('aria-multiselectable', 'true');\n        }\n    }\n    createListView(container, virtualDelegate, renderers, viewOptions) {\n        return new ListView(container, virtualDelegate, renderers, viewOptions);\n    }\n    createMouseController(options) {\n        return new MouseController(this);\n    }\n    updateOptions(optionsUpdate = {}) {\n        var _a, _b;\n        this._options = Object.assign(Object.assign({}, this._options), optionsUpdate);\n        (_a = this.typeNavigationController) === null || _a === void 0 ? void 0 : _a.updateOptions(this._options);\n        if (this._options.multipleSelectionController !== undefined) {\n            if (this._options.multipleSelectionSupport) {\n                this.view.domNode.setAttribute('aria-multiselectable', 'true');\n            }\n            else {\n                this.view.domNode.removeAttribute('aria-multiselectable');\n            }\n        }\n        this.mouseController.updateOptions(optionsUpdate);\n        (_b = this.keyboardController) === null || _b === void 0 ? void 0 : _b.updateOptions(optionsUpdate);\n        this.view.updateOptions(optionsUpdate);\n    }\n    get options() {\n        return this._options;\n    }\n    splice(start, deleteCount, elements = []) {\n        if (start < 0 || start > this.view.length) {\n            throw new ListError(this.user, `Invalid start index: ${start}`);\n        }\n        if (deleteCount < 0) {\n            throw new ListError(this.user, `Invalid delete count: ${deleteCount}`);\n        }\n        if (deleteCount === 0 && elements.length === 0) {\n            return;\n        }\n        this.eventBufferer.bufferEvents(() => this.spliceable.splice(start, deleteCount, elements));\n    }\n    rerender() {\n        this.view.rerender();\n    }\n    element(index) {\n        return this.view.element(index);\n    }\n    get length() {\n        return this.view.length;\n    }\n    get contentHeight() {\n        return this.view.contentHeight;\n    }\n    get scrollTop() {\n        return this.view.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.view.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this.view.scrollHeight;\n    }\n    get firstVisibleIndex() {\n        return this.view.firstVisibleIndex;\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    set ariaLabel(value) {\n        this._ariaLabel = value;\n        this.view.domNode.setAttribute('aria-label', value);\n    }\n    domFocus() {\n        this.view.domNode.focus({ preventScroll: true });\n    }\n    layout(height, width) {\n        this.view.layout(height, width);\n    }\n    setSelection(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.selection.set(indexes, browserEvent);\n    }\n    getSelection() {\n        return this.selection.get();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.view.element(i));\n    }\n    setAnchor(index) {\n        if (typeof index === 'undefined') {\n            this.anchor.set([]);\n            return;\n        }\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        this.anchor.set([index]);\n    }\n    getAnchor() {\n        return firstOrDefault(this.anchor.get(), undefined);\n    }\n    getAnchorElement() {\n        const anchor = this.getAnchor();\n        return typeof anchor === 'undefined' ? undefined : this.element(anchor);\n    }\n    setFocus(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.focus.set(indexes, browserEvent);\n    }\n    focusNext(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findNextIndex(focus.length > 0 ? focus[0] + n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusPrevious(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findPreviousIndex(focus.length > 0 ? focus[0] - n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusNextPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lastPageIndex = this.view.indexAt(this.view.getScrollTop() + this.view.renderHeight);\n            lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\n            const currentlyFocusedElementIndex = this.getFocus()[0];\n            if (currentlyFocusedElementIndex !== lastPageIndex && (currentlyFocusedElementIndex === undefined || lastPageIndex > currentlyFocusedElementIndex)) {\n                const lastGoodPageIndex = this.findPreviousIndex(lastPageIndex, false, filter);\n                if (lastGoodPageIndex > -1 && currentlyFocusedElementIndex !== lastGoodPageIndex) {\n                    this.setFocus([lastGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([lastPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = this.view.getScrollTop();\n                let nextpageScrollTop = previousScrollTop + this.view.renderHeight;\n                if (lastPageIndex > currentlyFocusedElementIndex) {\n                    // scroll last page element to the top only if the last page element is below the focused element\n                    nextpageScrollTop -= this.view.elementHeight(lastPageIndex);\n                }\n                this.view.setScrollTop(nextpageScrollTop);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusNextPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusPreviousPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let firstPageIndex;\n            const scrollTop = this.view.getScrollTop();\n            if (scrollTop === 0) {\n                firstPageIndex = this.view.indexAt(scrollTop);\n            }\n            else {\n                firstPageIndex = this.view.indexAfter(scrollTop - 1);\n            }\n            const currentlyFocusedElementIndex = this.getFocus()[0];\n            if (currentlyFocusedElementIndex !== firstPageIndex && (currentlyFocusedElementIndex === undefined || currentlyFocusedElementIndex >= firstPageIndex)) {\n                const firstGoodPageIndex = this.findNextIndex(firstPageIndex, false, filter);\n                if (firstGoodPageIndex > -1 && currentlyFocusedElementIndex !== firstGoodPageIndex) {\n                    this.setFocus([firstGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([firstPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = scrollTop;\n                this.view.setScrollTop(scrollTop - this.view.renderHeight);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusPreviousPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusLast(browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findPreviousIndex(this.length - 1, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusFirst(browserEvent, filter) {\n        this.focusNth(0, browserEvent, filter);\n    }\n    focusNth(n, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findNextIndex(n, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    findNextIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index >= this.length && !loop) {\n                return -1;\n            }\n            index = index % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    }\n    findPreviousIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index < 0 && !loop) {\n                return -1;\n            }\n            index = (this.length + (index % this.length)) % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index--;\n        }\n        return -1;\n    }\n    getFocus() {\n        return this.focus.get();\n    }\n    getFocusedElements() {\n        return this.getFocus().map(i => this.view.element(i));\n    }\n    reveal(index, relativeTop) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (isNumber(relativeTop)) {\n            // y = mx + b\n            const m = elementHeight - this.view.renderHeight;\n            this.view.setScrollTop(m * clamp(relativeTop, 0, 1) + elementTop);\n        }\n        else {\n            const viewItemBottom = elementTop + elementHeight;\n            const scrollBottom = scrollTop + this.view.renderHeight;\n            if (elementTop < scrollTop && viewItemBottom >= scrollBottom) {\n                // The element is already overflowing the viewport, no-op\n            }\n            else if (elementTop < scrollTop || (viewItemBottom >= scrollBottom && elementHeight >= this.view.renderHeight)) {\n                this.view.setScrollTop(elementTop);\n            }\n            else if (viewItemBottom >= scrollBottom) {\n                this.view.setScrollTop(viewItemBottom - this.view.renderHeight);\n            }\n        }\n    }\n    getHTMLElement() {\n        return this.view.domNode;\n    }\n    getElementID(index) {\n        return this.view.getElementDomId(index);\n    }\n    style(styles) {\n        this.styleController.style(styles);\n    }\n    toListEvent({ indexes, browserEvent }) {\n        return { indexes, elements: indexes.map(i => this.view.element(i)), browserEvent };\n    }\n    _onFocusChange() {\n        const focus = this.focus.get();\n        this.view.domNode.classList.toggle('element-focused', focus.length > 0);\n        this.onDidChangeActiveDescendant();\n    }\n    onDidChangeActiveDescendant() {\n        var _a;\n        const focus = this.focus.get();\n        if (focus.length > 0) {\n            let id;\n            if ((_a = this.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getActiveDescendantId) {\n                id = this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]));\n            }\n            this.view.domNode.setAttribute('aria-activedescendant', id || this.view.getElementDomId(focus[0]));\n        }\n        else {\n            this.view.domNode.removeAttribute('aria-activedescendant');\n        }\n    }\n    _onSelectionChange() {\n        const selection = this.selection.get();\n        this.view.domNode.classList.toggle('selection-none', selection.length === 0);\n        this.view.domNode.classList.toggle('selection-single', selection.length === 1);\n        this.view.domNode.classList.toggle('selection-multiple', selection.length > 1);\n    }\n    dispose() {\n        this._onDidDispose.fire();\n        this.disposables.dispose();\n        this._onDidDispose.dispose();\n    }\n}\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeSelection\", null);\n__decorate([\n    memoize\n], List.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], List.prototype, \"onKeyDown\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidFocus\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { $, addDisposableListener, append, clearNode, createStyleSheet, Dimension, EventHelper, EventType, getActiveElement, isAncestor, isInShadowDOM } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { ActionViewItem, BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { layout } from '../contextview/contextview.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { EmptySubmenuAction, Separator, SubmenuAction } from '../../../common/actions.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nimport { Codicon, getCodiconFontCharacters } from '../../../common/codicons.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isLinux, isMacintosh } from '../../../common/platform.js';\nimport * as strings from '../../../common/strings.js';\nexport const MENU_MNEMONIC_REGEX = /\\(&([^\\s&])\\)|(^|[^&])&([^\\s&])/;\nexport const MENU_ESCAPED_MNEMONIC_REGEX = /(&amp;)?(&amp;)([^\\s&])/g;\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Right\"] = 0] = \"Right\";\n    Direction[Direction[\"Left\"] = 1] = \"Left\";\n})(Direction || (Direction = {}));\nexport class Menu extends ActionBar {\n    constructor(container, actions, options, menuStyles) {\n        container.classList.add('monaco-menu-container');\n        container.setAttribute('role', 'presentation');\n        const menuElement = document.createElement('div');\n        menuElement.classList.add('monaco-menu');\n        menuElement.setAttribute('role', 'presentation');\n        super(menuElement, {\n            orientation: 1 /* ActionsOrientation.VERTICAL */,\n            actionViewItemProvider: action => this.doGetActionViewItem(action, options, parentData),\n            context: options.context,\n            actionRunner: options.actionRunner,\n            ariaLabel: options.ariaLabel,\n            ariaRole: 'menu',\n            focusOnlyEnabledItems: true,\n            triggerKeys: { keys: [3 /* KeyCode.Enter */, ...(isMacintosh || isLinux ? [10 /* KeyCode.Space */] : [])], keyDown: true }\n        });\n        this.menuStyles = menuStyles;\n        this.menuElement = menuElement;\n        this.actionsList.tabIndex = 0;\n        this.menuDisposables = this._register(new DisposableStore());\n        this.initializeOrUpdateStyleSheet(container, menuStyles);\n        this._register(Gesture.addTarget(menuElement));\n        addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            // Stop tab navigation of menus\n            if (event.equals(2 /* KeyCode.Tab */)) {\n                e.preventDefault();\n            }\n        });\n        if (options.enableMnemonics) {\n            this.menuDisposables.add(addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n                const key = e.key.toLocaleLowerCase();\n                if (this.mnemonics.has(key)) {\n                    EventHelper.stop(e, true);\n                    const actions = this.mnemonics.get(key);\n                    if (actions.length === 1) {\n                        if (actions[0] instanceof SubmenuMenuActionViewItem && actions[0].container) {\n                            this.focusItemByElement(actions[0].container);\n                        }\n                        actions[0].onClick(e);\n                    }\n                    if (actions.length > 1) {\n                        const action = actions.shift();\n                        if (action && action.container) {\n                            this.focusItemByElement(action.container);\n                            actions.push(action);\n                        }\n                        this.mnemonics.set(key, actions);\n                    }\n                }\n            }));\n        }\n        if (isLinux) {\n            this._register(addDisposableListener(menuElement, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(14 /* KeyCode.Home */) || event.equals(11 /* KeyCode.PageUp */)) {\n                    this.focusedItem = this.viewItems.length - 1;\n                    this.focusNext();\n                    EventHelper.stop(e, true);\n                }\n                else if (event.equals(13 /* KeyCode.End */) || event.equals(12 /* KeyCode.PageDown */)) {\n                    this.focusedItem = 0;\n                    this.focusPrevious();\n                    EventHelper.stop(e, true);\n                }\n            }));\n        }\n        this._register(addDisposableListener(this.domNode, EventType.MOUSE_OUT, e => {\n            const relatedTarget = e.relatedTarget;\n            if (!isAncestor(relatedTarget, this.domNode)) {\n                this.focusedItem = undefined;\n                this.updateFocus();\n                e.stopPropagation();\n            }\n        }));\n        this._register(addDisposableListener(this.actionsList, EventType.MOUSE_OVER, e => {\n            let target = e.target;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        // Support touch on actions list to focus items (needed for submenus)\n        this._register(Gesture.addTarget(this.actionsList));\n        this._register(addDisposableListener(this.actionsList, TouchEventType.Tap, e => {\n            let target = e.initialTarget;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        const parentData = {\n            parent: this\n        };\n        this.mnemonics = new Map();\n        // Scroll Logic\n        this.scrollableElement = this._register(new DomScrollableElement(menuElement, {\n            alwaysConsumeMouseWheel: true,\n            horizontal: 2 /* ScrollbarVisibility.Hidden */,\n            vertical: 3 /* ScrollbarVisibility.Visible */,\n            verticalScrollbarSize: 7,\n            handleMouseWheel: true,\n            useShadows: true\n        }));\n        const scrollElement = this.scrollableElement.getDomNode();\n        scrollElement.style.position = '';\n        this.styleScrollElement(scrollElement, menuStyles);\n        // Support scroll on menu drag\n        this._register(addDisposableListener(menuElement, TouchEventType.Change, e => {\n            EventHelper.stop(e, true);\n            const scrollTop = this.scrollableElement.getScrollPosition().scrollTop;\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop - e.translationY });\n        }));\n        this._register(addDisposableListener(scrollElement, EventType.MOUSE_UP, e => {\n            // Absorb clicks in menu dead space https://github.com/microsoft/vscode/issues/63575\n            // We do this on the scroll element so the scroll bar doesn't dismiss the menu either\n            e.preventDefault();\n        }));\n        menuElement.style.maxHeight = `${Math.max(10, window.innerHeight - container.getBoundingClientRect().top - 35)}px`;\n        actions = actions.filter(a => {\n            var _a;\n            if ((_a = options.submenuIds) === null || _a === void 0 ? void 0 : _a.has(a.id)) {\n                console.warn(`Found submenu cycle: ${a.id}`);\n                return false;\n            }\n            return true;\n        });\n        this.push(actions, { icon: true, label: true, isMenu: true });\n        container.appendChild(this.scrollableElement.getDomNode());\n        this.scrollableElement.scanDomNode();\n        this.viewItems.filter(item => !(item instanceof MenuSeparatorActionViewItem)).forEach((item, index, array) => {\n            item.updatePositionInSet(index + 1, array.length);\n        });\n    }\n    initializeOrUpdateStyleSheet(container, style) {\n        if (!this.styleSheet) {\n            if (isInShadowDOM(container)) {\n                this.styleSheet = createStyleSheet(container);\n            }\n            else {\n                if (!Menu.globalStyleSheet) {\n                    Menu.globalStyleSheet = createStyleSheet();\n                }\n                this.styleSheet = Menu.globalStyleSheet;\n            }\n        }\n        this.styleSheet.textContent = getMenuWidgetCSS(style, isInShadowDOM(container));\n    }\n    styleScrollElement(scrollElement, style) {\n        var _a, _b;\n        const fgColor = (_a = style.foregroundColor) !== null && _a !== void 0 ? _a : '';\n        const bgColor = (_b = style.backgroundColor) !== null && _b !== void 0 ? _b : '';\n        const border = style.borderColor ? `1px solid ${style.borderColor}` : '';\n        const borderRadius = '5px';\n        const shadow = style.shadowColor ? `0 2px 8px ${style.shadowColor}` : '';\n        scrollElement.style.outline = border;\n        scrollElement.style.borderRadius = borderRadius;\n        scrollElement.style.color = fgColor;\n        scrollElement.style.backgroundColor = bgColor;\n        scrollElement.style.boxShadow = shadow;\n    }\n    getContainer() {\n        return this.scrollableElement.getDomNode();\n    }\n    get onScroll() {\n        return this.scrollableElement.onScroll;\n    }\n    focusItemByElement(element) {\n        const lastFocusedItem = this.focusedItem;\n        this.setFocusedItem(element);\n        if (lastFocusedItem !== this.focusedItem) {\n            this.updateFocus();\n        }\n    }\n    setFocusedItem(element) {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (element === elem) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    updateFocus(fromRight) {\n        super.updateFocus(fromRight, true, true);\n        if (typeof this.focusedItem !== 'undefined') {\n            // Workaround for #80047 caused by an issue in chromium\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=414283\n            // When that's fixed, just call this.scrollableElement.scanDomNode()\n            this.scrollableElement.setScrollPosition({\n                scrollTop: Math.round(this.menuElement.scrollTop)\n            });\n        }\n    }\n    doGetActionViewItem(action, options, parentData) {\n        if (action instanceof Separator) {\n            return new MenuSeparatorActionViewItem(options.context, action, { icon: true }, this.menuStyles);\n        }\n        else if (action instanceof SubmenuAction) {\n            const menuActionViewItem = new SubmenuMenuActionViewItem(action, action.actions, parentData, Object.assign(Object.assign({}, options), { submenuIds: new Set([...(options.submenuIds || []), action.id]) }), this.menuStyles);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n        else {\n            const menuItemOptions = { enableMnemonics: options.enableMnemonics, useEventAsContext: options.useEventAsContext };\n            if (options.getKeyBinding) {\n                const keybinding = options.getKeyBinding(action);\n                if (keybinding) {\n                    const keybindingLabel = keybinding.getLabel();\n                    if (keybindingLabel) {\n                        menuItemOptions.keybinding = keybindingLabel;\n                    }\n                }\n            }\n            const menuActionViewItem = new BaseMenuActionViewItem(options.context, action, menuItemOptions, this.menuStyles);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n    }\n}\nclass BaseMenuActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options, menuStyle) {\n        options.isMenu = true;\n        super(action, action, options);\n        this.menuStyle = menuStyle;\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n        // Set mnemonic\n        if (this.options.label && options.enableMnemonics) {\n            const label = this.action.label;\n            if (label) {\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    this.mnemonic = (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase();\n                }\n            }\n        }\n        // Add mouse up listener later to avoid accidental clicks\n        this.runOnceToEnableMouseUp = new RunOnceScheduler(() => {\n            if (!this.element) {\n                return;\n            }\n            this._register(addDisposableListener(this.element, EventType.MOUSE_UP, e => {\n                // removed default prevention as it conflicts\n                // with BaseActionViewItem #101537\n                // add back if issues arise and link new issue\n                EventHelper.stop(e, true);\n                // See https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Interact_with_the_clipboard\n                // > Writing to the clipboard\n                // > You can use the \"cut\" and \"copy\" commands without any special\n                // permission if you are using them in a short-lived event handler\n                // for a user action (for example, a click handler).\n                // => to get the Copy and Paste context menu actions working on Firefox,\n                // there should be no timeout here\n                if (isFirefox) {\n                    const mouseEvent = new StandardMouseEvent(e);\n                    // Allowing right click to trigger the event causes the issue described below,\n                    // but since the solution below does not work in FF, we must disable right click\n                    if (mouseEvent.rightButton) {\n                        return;\n                    }\n                    this.onClick(e);\n                }\n                // In all other cases, set timeout to allow context menu cancellation to trigger\n                // otherwise the action will destroy the menu and a second context menu\n                // will still trigger for right click.\n                else {\n                    setTimeout(() => {\n                        this.onClick(e);\n                    }, 0);\n                }\n            }));\n            this._register(addDisposableListener(this.element, EventType.CONTEXT_MENU, e => {\n                EventHelper.stop(e, true);\n            }));\n        }, 100);\n        this._register(this.runOnceToEnableMouseUp);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        this.container = container;\n        this.item = append(this.element, $('a.action-menu-item'));\n        if (this._action.id === Separator.ID) {\n            // A separator is a presentation item\n            this.item.setAttribute('role', 'presentation');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            if (this.mnemonic) {\n                this.item.setAttribute('aria-keyshortcuts', `${this.mnemonic}`);\n            }\n        }\n        this.check = append(this.item, $('span.menu-item-check' + ThemeIcon.asCSSSelector(Codicon.menuSelection)));\n        this.check.setAttribute('role', 'none');\n        this.label = append(this.item, $('span.action-label'));\n        if (this.options.label && this.options.keybinding) {\n            append(this.item, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        // Adds mouse up listener to actually run the action\n        this.runOnceToEnableMouseUp.schedule();\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n        this.applyStyle();\n    }\n    blur() {\n        super.blur();\n        this.applyStyle();\n    }\n    focus() {\n        var _a;\n        super.focus();\n        (_a = this.item) === null || _a === void 0 ? void 0 : _a.focus();\n        this.applyStyle();\n    }\n    updatePositionInSet(pos, setSize) {\n        if (this.item) {\n            this.item.setAttribute('aria-posinset', `${pos}`);\n            this.item.setAttribute('aria-setsize', `${setSize}`);\n        }\n    }\n    updateLabel() {\n        var _a;\n        if (!this.label) {\n            return;\n        }\n        if (this.options.label) {\n            clearNode(this.label);\n            let label = stripIcons(this.action.label);\n            if (label) {\n                const cleanLabel = cleanMnemonic(label);\n                if (!this.options.enableMnemonics) {\n                    label = cleanLabel;\n                }\n                this.label.setAttribute('aria-label', cleanLabel.replace(/&&/g, '&'));\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    label = strings.escape(label);\n                    // This is global, reset it\n                    MENU_ESCAPED_MNEMONIC_REGEX.lastIndex = 0;\n                    let escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    // We can't use negative lookbehind so if we match our negative and skip\n                    while (escMatch && escMatch[1]) {\n                        escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    }\n                    const replaceDoubleEscapes = (str) => str.replace(/&amp;&amp;/g, '&amp;');\n                    if (escMatch) {\n                        this.label.append(strings.ltrim(replaceDoubleEscapes(label.substr(0, escMatch.index)), ' '), $('u', { 'aria-hidden': 'true' }, escMatch[3]), strings.rtrim(replaceDoubleEscapes(label.substr(escMatch.index + escMatch[0].length)), ' '));\n                    }\n                    else {\n                        this.label.innerText = replaceDoubleEscapes(label).trim();\n                    }\n                    (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-keyshortcuts', (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase());\n                }\n                else {\n                    this.label.innerText = label.replace(/&&/g, '&').trim();\n                }\n            }\n        }\n    }\n    updateTooltip() {\n        // menus should function like native menus and they do not have tooltips\n    }\n    updateClass() {\n        if (this.cssClass && this.item) {\n            this.item.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon && this.label) {\n            this.cssClass = this.action.class || '';\n            this.label.classList.add('icon');\n            if (this.cssClass) {\n                this.label.classList.add(...this.cssClass.split(' '));\n            }\n            this.updateEnabled();\n        }\n        else if (this.label) {\n            this.label.classList.remove('icon');\n        }\n    }\n    updateEnabled() {\n        if (this.action.enabled) {\n            if (this.element) {\n                this.element.classList.remove('disabled');\n                this.element.removeAttribute('aria-disabled');\n            }\n            if (this.item) {\n                this.item.classList.remove('disabled');\n                this.item.removeAttribute('aria-disabled');\n                this.item.tabIndex = 0;\n            }\n        }\n        else {\n            if (this.element) {\n                this.element.classList.add('disabled');\n                this.element.setAttribute('aria-disabled', 'true');\n            }\n            if (this.item) {\n                this.item.classList.add('disabled');\n                this.item.setAttribute('aria-disabled', 'true');\n            }\n        }\n    }\n    updateChecked() {\n        if (!this.item) {\n            return;\n        }\n        const checked = this.action.checked;\n        this.item.classList.toggle('checked', !!checked);\n        if (checked !== undefined) {\n            this.item.setAttribute('role', 'menuitemcheckbox');\n            this.item.setAttribute('aria-checked', checked ? 'true' : 'false');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            this.item.setAttribute('aria-checked', '');\n        }\n    }\n    getMnemonic() {\n        return this.mnemonic;\n    }\n    applyStyle() {\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        const bgColor = isSelected && this.menuStyle.selectionBackgroundColor ? this.menuStyle.selectionBackgroundColor : undefined;\n        const outline = isSelected && this.menuStyle.selectionBorderColor ? `1px solid ${this.menuStyle.selectionBorderColor}` : '';\n        const outlineOffset = isSelected && this.menuStyle.selectionBorderColor ? `-1px` : '';\n        if (this.item) {\n            this.item.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n            this.item.style.backgroundColor = bgColor !== null && bgColor !== void 0 ? bgColor : '';\n            this.item.style.outline = outline;\n            this.item.style.outlineOffset = outlineOffset;\n        }\n        if (this.check) {\n            this.check.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n        }\n    }\n}\nclass SubmenuMenuActionViewItem extends BaseMenuActionViewItem {\n    constructor(action, submenuActions, parentData, submenuOptions, menuStyles) {\n        super(action, action, submenuOptions, menuStyles);\n        this.submenuActions = submenuActions;\n        this.parentData = parentData;\n        this.submenuOptions = submenuOptions;\n        this.mysubmenu = null;\n        this.submenuDisposables = this._register(new DisposableStore());\n        this.mouseOver = false;\n        this.expandDirection = submenuOptions && submenuOptions.expandDirection !== undefined ? submenuOptions.expandDirection : Direction.Right;\n        this.showScheduler = new RunOnceScheduler(() => {\n            if (this.mouseOver) {\n                this.cleanupExistingSubmenu(false);\n                this.createSubmenu(false);\n            }\n        }, 250);\n        this.hideScheduler = new RunOnceScheduler(() => {\n            if (this.element && (!isAncestor(getActiveElement(), this.element) && this.parentData.submenu === this.mysubmenu)) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }, 750);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        if (this.item) {\n            this.item.classList.add('monaco-submenu-item');\n            this.item.tabIndex = 0;\n            this.item.setAttribute('aria-haspopup', 'true');\n            this.updateAriaExpanded('false');\n            this.submenuIndicator = append(this.item, $('span.submenu-indicator' + ThemeIcon.asCSSSelector(Codicon.menuSubmenu)));\n            this.submenuIndicator.setAttribute('aria-hidden', 'true');\n        }\n        this._register(addDisposableListener(this.element, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* KeyCode.RightArrow */) || event.equals(3 /* KeyCode.Enter */)) {\n                EventHelper.stop(e, true);\n                this.createSubmenu(true);\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (getActiveElement() === this.item) {\n                if (event.equals(17 /* KeyCode.RightArrow */) || event.equals(3 /* KeyCode.Enter */)) {\n                    EventHelper.stop(e, true);\n                }\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_OVER, e => {\n            if (!this.mouseOver) {\n                this.mouseOver = true;\n                this.showScheduler.schedule();\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_LEAVE, e => {\n            this.mouseOver = false;\n        }));\n        this._register(addDisposableListener(this.element, EventType.FOCUS_OUT, e => {\n            if (this.element && !isAncestor(getActiveElement(), this.element)) {\n                this.hideScheduler.schedule();\n            }\n        }));\n        this._register(this.parentData.parent.onScroll(() => {\n            if (this.parentData.submenu === this.mysubmenu) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }));\n    }\n    updateEnabled() {\n        // override on submenu entry\n        // native menus do not observe enablement on sumbenus\n        // we mimic that behavior\n    }\n    onClick(e) {\n        // stop clicking from trying to run an action\n        EventHelper.stop(e, true);\n        this.cleanupExistingSubmenu(false);\n        this.createSubmenu(true);\n    }\n    cleanupExistingSubmenu(force) {\n        if (this.parentData.submenu && (force || (this.parentData.submenu !== this.mysubmenu))) {\n            // disposal may throw if the submenu has already been removed\n            try {\n                this.parentData.submenu.dispose();\n            }\n            catch (_a) { }\n            this.parentData.submenu = undefined;\n            this.updateAriaExpanded('false');\n            if (this.submenuContainer) {\n                this.submenuDisposables.clear();\n                this.submenuContainer = undefined;\n            }\n        }\n    }\n    calculateSubmenuMenuLayout(windowDimensions, submenu, entry, expandDirection) {\n        const ret = { top: 0, left: 0 };\n        // Start with horizontal\n        ret.left = layout(windowDimensions.width, submenu.width, { position: expandDirection === Direction.Right ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, offset: entry.left, size: entry.width });\n        // We don't have enough room to layout the menu fully, so we are overlapping the menu\n        if (ret.left >= entry.left && ret.left < entry.left + entry.width) {\n            if (entry.left + 10 + submenu.width <= windowDimensions.width) {\n                ret.left = entry.left + 10;\n            }\n            entry.top += 10;\n            entry.height = 0;\n        }\n        // Now that we have a horizontal position, try layout vertically\n        ret.top = layout(windowDimensions.height, submenu.height, { position: 0 /* LayoutAnchorPosition.Before */, offset: entry.top, size: 0 });\n        // We didn't have enough room below, but we did above, so we shift down to align the menu\n        if (ret.top + submenu.height === entry.top && ret.top + entry.height + submenu.height <= windowDimensions.height) {\n            ret.top += entry.height;\n        }\n        return ret;\n    }\n    createSubmenu(selectFirstItem = true) {\n        if (!this.element) {\n            return;\n        }\n        if (!this.parentData.submenu) {\n            this.updateAriaExpanded('true');\n            this.submenuContainer = append(this.element, $('div.monaco-submenu'));\n            this.submenuContainer.classList.add('menubar-menu-items-holder', 'context-view');\n            // Set the top value of the menu container before construction\n            // This allows the menu constructor to calculate the proper max height\n            const computedStyles = getComputedStyle(this.parentData.parent.domNode);\n            const paddingTop = parseFloat(computedStyles.paddingTop || '0') || 0;\n            // this.submenuContainer.style.top = `${this.element.offsetTop - this.parentData.parent.scrollOffset - paddingTop}px`;\n            this.submenuContainer.style.zIndex = '1';\n            this.submenuContainer.style.position = 'fixed';\n            this.submenuContainer.style.top = '0';\n            this.submenuContainer.style.left = '0';\n            this.parentData.submenu = new Menu(this.submenuContainer, this.submenuActions.length ? this.submenuActions : [new EmptySubmenuAction()], this.submenuOptions, this.menuStyle);\n            // layout submenu\n            const entryBox = this.element.getBoundingClientRect();\n            const entryBoxUpdated = {\n                top: entryBox.top - paddingTop,\n                left: entryBox.left,\n                height: entryBox.height + 2 * paddingTop,\n                width: entryBox.width\n            };\n            const viewBox = this.submenuContainer.getBoundingClientRect();\n            const { top, left } = this.calculateSubmenuMenuLayout(new Dimension(window.innerWidth, window.innerHeight), Dimension.lift(viewBox), entryBoxUpdated, this.expandDirection);\n            // subtract offsets caused by transform parent\n            this.submenuContainer.style.left = `${left - viewBox.left}px`;\n            this.submenuContainer.style.top = `${top - viewBox.top}px`;\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_UP, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                    this.parentData.parent.focus();\n                    this.cleanupExistingSubmenu(true);\n                }\n            }));\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                }\n            }));\n            this.submenuDisposables.add(this.parentData.submenu.onDidCancel(() => {\n                this.parentData.parent.focus();\n                this.cleanupExistingSubmenu(true);\n            }));\n            this.parentData.submenu.focus(selectFirstItem);\n            this.mysubmenu = this.parentData.submenu;\n        }\n        else {\n            this.parentData.submenu.focus(false);\n        }\n    }\n    updateAriaExpanded(value) {\n        var _a;\n        if (this.item) {\n            (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', value);\n        }\n    }\n    applyStyle() {\n        super.applyStyle();\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        if (this.submenuIndicator) {\n            this.submenuIndicator.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hideScheduler.dispose();\n        if (this.mysubmenu) {\n            this.mysubmenu.dispose();\n            this.mysubmenu = null;\n        }\n        if (this.submenuContainer) {\n            this.submenuContainer = undefined;\n        }\n    }\n}\nclass MenuSeparatorActionViewItem extends ActionViewItem {\n    constructor(context, action, options, menuStyles) {\n        super(context, action, options);\n        this.menuStyles = menuStyles;\n    }\n    render(container) {\n        super.render(container);\n        if (this.label) {\n            this.label.style.borderBottomColor = this.menuStyles.separatorColor ? `${this.menuStyles.separatorColor}` : '';\n        }\n    }\n}\nexport function cleanMnemonic(label) {\n    const regex = MENU_MNEMONIC_REGEX;\n    const matches = regex.exec(label);\n    if (!matches) {\n        return label;\n    }\n    const mnemonicInText = !matches[1];\n    return label.replace(regex, mnemonicInText ? '$2$3' : '').trim();\n}\nexport function formatRule(c) {\n    const fontCharacter = getCodiconFontCharacters()[c.id];\n    return `.codicon-${c.id}:before { content: '\\\\${fontCharacter.toString(16)}'; }`;\n}\nfunction getMenuWidgetCSS(style, isForShadowDom) {\n    let result = /* css */ `\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${formatRule(Codicon.menuSelection)}\n${formatRule(Codicon.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;\n    if (isForShadowDom) {\n        // Only define scrollbar styles when used inside shadow dom,\n        // otherwise leave their styling to the global workbench styling.\n        result += `\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t`;\n        // Scrollbars\n        const scrollbarShadowColor = style.scrollbarShadow;\n        if (scrollbarShadowColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderBackgroundColor = style.scrollbarSliderBackground;\n        if (scrollbarSliderBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${scrollbarSliderBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderHoverBackgroundColor = style.scrollbarSliderHoverBackground;\n        if (scrollbarSliderHoverBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${scrollbarSliderHoverBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderActiveBackgroundColor = style.scrollbarSliderActiveBackground;\n        if (scrollbarSliderActiveBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${scrollbarSliderActiveBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n    }\n    return result;\n}\n"],"names":["$","dom","unthemedKeybindingLabelOptions","keybindingLabelBackground","undefined","keybindingLabelForeground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","KeybindingLabel","container","os","options","_classCallCheck","this","keyElements","Set","Object","create","labelForeground","domNode","append","style","color","didEverRender","appendChild","_createClass","key","get","value","keybinding","matches","areSame","render","_a","clear","chords","getChords","renderChord","firstPart","i","length","chordPart","title","disableTitle","getAriaLabel","removeAttribute","renderUnboundKeybindings","renderUnbound","clearNode","parent","chord","match","modifierLabels","UILabelProvider","ctrlKey","renderKey","Boolean","separator","shiftKey","altKey","metaKey","keyLabel","keyCode","label","highlight","createKeyElement","localize","keyElement","arguments","add","backgroundColor","borderColor","borderBottomColor","boxShadow","concat","a","b","equals","PagedRenderer","renderer","modelProvider","templateId","data","renderTemplate","disposable","Disposable","None","index","_","height","_this","dispose","model","isResolved","renderElement","cts","CancellationTokenSource","promise","resolve","token","cancel","renderPlaceholder","then","entry","disposeTemplate","PagedAccessibilityProvider","accessibilityProvider","getWidgetAriaLabel","PagedList","user","virtualDelegate","renderers","_this2","pagedRenderers","map","r","list","List","assign","fromPagedListOptions","updateOptions","getHTMLElement","onDidFocus","onDidDispose","_this3","Event","onMouseDblClick","_ref","element","browserEvent","_model","_this4","onPointer","_ref2","_this5","onDidChangeSelection","_ref3","elements","indexes","e","set","splice","range","getFocus","getSelection","_this6","styles","groupIntersect","groups","_step","result","_iterator","_createForOfIteratorHelper","s","n","done","start","end","intersection","Range","intersect","isEmpty","push","size","err","f","shift","much","_len","Array","_key","_step2","previousGroup","_iterator2","group","consolidate","reduce","g","RangeMap","_size","deleteCount","items","diff","before","after","Number","POSITIVE_INFINITY","middle","item","t","len","position","_step3","_iterator3","count","newSize","Math","floor","min","indexAt","_step4","_iterator4","groupCount","newCount","RowCache","cache","Map","transactionNodesPendingRemoval","inTransaction","getTemplateCache","pop","isStale","has","delete","templateData","getRenderer","row","isReusingConnectedDomNode","releaseRow","makeChanges","Error","doRemoveNode","classList","remove","parentElement","removeChild","removeFromParent","forEach","cachedRows","cachedRow","__decorate","decorators","target","desc","d","c","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","StaticDND","CurrentDragAndDropData","DefaultOptions","useShadows","verticalScrollMode","setRowLineHeight","setRowHeight","supportDynamicHeights","dnd","getDragElements","getDragURI","onDragStart","onDragOver","drop","horizontalScrolling","transformOptimization","alwaysConsumeMouseWheel","ElementsDragAndDropData","ExternalElementsDragAndDropData","NativeDragAndDropData","types","files","dataTransfer","_this$types","apply","_toConsumableArray","file","type","ListViewAccessibilityProvider","getSetSize","bind","l","getPosInSet","getRole","isChecked","ListView","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","domId","InstanceCount","renderWidth","_scrollHeight","scrollableElementUpdateDisposable","scrollableElementWidthDelayer","Delayer","splicing","dragOverAnimationStopDisposable","dragOverMouseY","canDrop","currentDragFeedbackDisposable","onDragLeaveTimeout","disposables","DisposableStore","_onDidChangeContentHeight","Emitter","_onDidChangeContentWidth","_horizontalScrolling","itemId","rangeMap","lastRenderTop","lastRenderHeight","document","createElement","className","tabIndex","toggle","mouseSupport","additionalScrollHeight","rowsContainer","transform","overflow","contain","Gesture","addTarget","scrollable","Scrollable","forceIntegerValues","smoothScrollDuration","smoothScrolling","scheduleAtNextAnimationFrame","cb","scrollableElement","SmoothScrollableElement","horizontal","vertical","mouseWheelScrollSensitivity","fastScrollSensitivity","scrollByPage","getDomNode","onScroll","addDisposableListener","TouchEventType","Change","onTouchChange","scrollTop","toDragEvent","onDrop","onDragLeave","onDragEnd","layout","initialSize","width","measureItemWidth","updateScrollWidth","setScrollDimensions","getContentWidth","max","scrollWidth","scrollableOptions","scrollHeight","setSmoothScrollDuration","_splice","fire","contentHeight","previousRenderRange","getRenderRange","deleteRange","removeRange","rowsToDispose","dragStartDisposable","checkedDisposable","rows","disposeElement","deleted","_this$items","previousRestRange","previousRenderedRestRange","previousUnrenderedRestRanges","relativeComplement","inserted","id","String","getTemplateId","getHeight","hasDynamicHeight","lastDynamicHeightWidth","uri","dropTarget","delta","renderRange","renderedRestRange","updateRange","updateItemInDOM","removeRanges","removeItemFromDOM","unrenderedRestRanges","insertRanges","beforeElement","getNextToLastElement","insertItemInDOM","_step5","_iterator5","values","_step6","_iterator6","release","eventuallyUpdateScrollDimensions","_rerender","renderHeight","trigger","_step7","_iterator7","_step8","_iterator8","getScrollDimensions","firstElTop","positionAt","nextElTop","indexAfter","scrollDimensions","getContentHeight","renderTop","renderLeft","updateItemsInDOM","rangesToInsert","rangesToRemove","rangesToUpdate","transact","_step9","_iterator9","_step10","_iterator10","left","top","alloc","role","setAttribute","checked","update","onDidChange","insertBefore","draggable","event","eventuallyUpdateScrollWidth","window","getComputedStyle","paddingLeft","parseFloat","paddingRight","elementTop","lineHeight","getElementDomId","getScrollPosition","reuseAnimation","setScrollPosition","getScrollTop","setScrollTop","_this7","DomEmitter","toMouseEvent","_this8","_this9","filter","button","_this10","_this11","_this12","_this13","any","Contextmenu","toGestureEvent","_this14","toTouchEvent","_this15","Tap","getItemIndexFromEventTarget","initialTarget","scrollLeft","inSmoothScrolling","console","error","preventDefault","stopPropagation","translationY","effectAllowed","setData","DataTransfers","TEXT","setDragImage","getDragLabel","dragImage","textContent","contains","body","getDragImageContainer","setTimeout","currentDragData","call","_this16","getData","setupDragAndDropScrollTopAnimation","feedback","f1","f2","accept","currentDragFeedback","dropEffect","effect","distinct","sort","isArray","toDisposable","_step11","_iterator11","_step12","_iterator12","_this17","disposableTimeout","clearDragOverFeedback","dragData","teardownDragAndDropScrollTopAnimation","_this18","dragOverAnimationDisposable","viewTop","getTopLeftOffset","animate","animateDragAndDropScrollTop","pageY","upperLimit","HTMLElement","rawIndex","getAttribute","isNaN","anchorElementIndex","anchorElementTopDelta","heightDiff","didChange","probeDynamicHeight","_step13","unrenderRanges","_iterator13","_step14","renderRanges","_iterator14","afterIndex","beforeRow","deltaScrollTop","getFutureScrollPosition","newScrollTop","getDynamicHeight","offsetHeight","BugIndicatingError","setDynamicHeight","ranges","lastRange","nextToLastItem","_step15","_iterator15","parentNode","memoize","prototype","CombinedSpliceable","spliceables","ListError","_Error","_inherits","_super","_createSuper","message","_wrapNativeSuper","__awaiter","thisArg","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","TraitRenderer","trait","renderedElements","name","renderedElementIndex","findIndex","el","rendered","unrender","renderIndex","insertCount","renderedElement","_step2$value","indexOf","Trait","_trait","sortedIndexes","_onChange","onChange","hasTrait","first","find","_set","numericSort","sortedResult","toRender","disjunction","renderIndexes","binarySearch","SelectionTrait","_Trait","setAriaSelected","_get","_getPrototypeOf","TraitSpliceable","view","identityProvider","pastElementsWithTrait","getId","toString","elementsWithTrait","isInputElement","tagName","isMonacoEditor","isButton","TypeNavigationMode","TypeNavigationControllerState","KeyboardController","multipleSelectionDisposables","onKeyDown","on","onEnter","onUpArrow","onDownArrow","onPageUpArrow","onPageDownArrow","onEscape","multipleSelectionSupport","platform","onCtrlA","chain","StandardKeyboardEvent","optionsUpdate","setSelection","focusPrevious","setAnchor","reveal","focus","focusNext","focusPreviousPage","focusNextPage","DefaultKeyboardNavigationDelegate","_class","TypeNavigationController","keyboardNavigationLabelProvider","keyboardNavigationEventFilter","delegate","enabled","state","Idle","mode","Automatic","triggered","previouslyFocused","enabledDisposables","typeNavigationEnabled","enable","disable","typeNavigationMode","typing","onChar","mightProducePrintableCharacter","EventHelper","stop","onClear","debounce","onInput","ariaLabel","alert","word","Typing","getKeyboardNavigationLabel","labelStr","matchesPrefix","setFocus","DOMFocusController","onTab","focusedDomElement","domElement","tabIndexElement","querySelector","visibility","display","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","DefaultMultipleSelectionController","MouseController","_onPointer","multipleSelectionController","onMouseDown","onContextMenu","onDoubleClick","onTouchStart","onMouseClick","onMouseMiddleClick","onTap","onViewPointer","activeElement","domFocus","isHandledByList","changeSelection","isSelectionChangeEvent","MouseEvent","anchor","getAnchor","currentFocus","rangeSelection","selection","contiguousRange","reverse","getContiguousRangeContaining","newSelection","one","other","j","DefaultStyleController","styleElement","selectorSuffix","suffix","content","listBackground","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listActiveSelectionIconForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","focusAndSelectionOutline","asCssValueWithDefault","listFocusAndSelectionOutline","listSelectionOutline","listFocusOutline","inactiveFocusAndSelectionOutline","listInactiveFocusOutline","listHoverOutline","listDropBackground","tableColumnsBorder","tableOddRowsBackgroundColor","join","unthemedListStyles","treeIndentGuidesStroke","treeInactiveIndentGuidesStroke","Color","fromHex","transparent","keyboardSupport","PipelineRenderer","_templateId","AccessibiltyRenderer","ariaLevel","getAriaLevel","ListViewDragAndDrop","getSelectedElements","originalEvent","targetElement","targetIndex","_options","eventBufferer","EventBufferer","_ariaLabel","_onDidDispose","getWidgetRole","baseRenderers","onDidChangeActiveDescendant","viewOptions","createListView","styleController","createStyleSheet","spliceable","keyboardController","keyboardNavigationDelegate","typeNavigationController","mouseController","createMouseController","onDidChangeFocus","_onFocusChange","_onSelectionChange","wrapEvent","toListEvent","onMouseOver","onMouseOut","didJustPressContextMenuKey","fromKeyDown","fromKeyUp","fromMouse","x","pageX","y","signal","bufferEvents","rerender","firstVisibleIndex","preventScroll","firstOrDefault","loop","findNextIndex","findPreviousIndex","_regeneratorRuntime","mark","_callee","lastPageIndex","currentlyFocusedElementIndex","lastGoodPageIndex","previousScrollTop","nextpageScrollTop","wrap","_context","prev","elementHeight","timeout","_callee2","firstPageIndex","firstGoodPageIndex","_context2","focusNth","relativeTop","isNumber","m","clamp","viewItemBottom","scrollBottom","getActiveDescendantId","Direction","MENU_MNEMONIC_REGEX","MENU_ESCAPED_MNEMONIC_REGEX","Menu","_ActionBar","actions","menuStyles","menuElement","orientation","actionViewItemProvider","action","doGetActionViewItem","parentData","context","actionRunner","ariaRole","focusOnlyEnabledItems","triggerKeys","keys","isMacintosh","isLinux","keyDown","actionsList","menuDisposables","_register","initializeOrUpdateStyleSheet","EventType","KEY_DOWN","enableMnemonics","toLocaleLowerCase","mnemonics","SubmenuMenuActionViewItem","focusItemByElement","onClick","focusedItem","viewItems","MOUSE_OUT","relatedTarget","isAncestor","updateFocus","MOUSE_OVER","lastFocusedItem","setFocusedItem","_assertThisInitialized","DomScrollableElement","verticalScrollbarSize","handleMouseWheel","scrollElement","styleScrollElement","MOUSE_UP","maxHeight","innerHeight","getBoundingClientRect","submenuIds","warn","icon","isMenu","scanDomNode","MenuSeparatorActionViewItem","array","updatePositionInSet","styleSheet","isInShadowDOM","globalStyleSheet","isForShadowDom","formatRule","Codicon","menuSelection","menuSubmenu","scrollbarShadowColor","scrollbarShadow","scrollbarSliderBackgroundColor","scrollbarSliderBackground","scrollbarSliderHoverBackgroundColor","scrollbarSliderHoverBackground","scrollbarSliderActiveBackgroundColor","scrollbarSliderActiveBackground","getMenuWidgetCSS","fgColor","foregroundColor","bgColor","border","shadow","shadowColor","outline","borderRadius","children","fromRight","round","Separator","SubmenuAction","menuActionViewItem","mnemonic","getMnemonic","isEnabled","actionViewItems","menuItemOptions","useEventAsContext","getKeyBinding","keybindingLabel","getLabel","BaseMenuActionViewItem","ActionBar","_BaseActionViewItem","_super2","ctx","menuStyle","cssClass","exec","runOnceToEnableMouseUp","RunOnceScheduler","isFirefox","StandardMouseEvent","rightButton","CONTEXT_MENU","_action","ID","check","ThemeIcon","asCSSSelector","schedule","updateClass","updateLabel","updateTooltip","updateEnabled","updateChecked","applyStyle","pos","setSize","stripIcons","cleanLabel","regex","mnemonicInText","replace","trim","cleanMnemonic","strings","lastIndex","escMatch","replaceDoubleEscapes","str","substr","innerText","_this$item$classList","split","_this$label$classList","class","isSelected","selectionForegroundColor","selectionBackgroundColor","selectionBorderColor","outlineOffset","BaseActionViewItem","_BaseMenuActionViewIt","_super3","submenuActions","submenuOptions","mysubmenu","submenuDisposables","mouseOver","expandDirection","Right","showScheduler","cleanupExistingSubmenu","createSubmenu","hideScheduler","getActiveElement","submenu","updateAriaExpanded","submenuIndicator","KEY_UP","MOUSE_LEAVE","FOCUS_OUT","force","submenuContainer","windowDimensions","ret","offset","selectFirstItem","computedStyles","paddingTop","zIndex","EmptySubmenuAction","entryBox","entryBoxUpdated","viewBox","_this$calculateSubmen","calculateSubmenuMenuLayout","Dimension","innerWidth","lift","onDidCancel","_ActionViewItem","_super4","separatorColor","ActionViewItem","fontCharacter","getCodiconFontCharacters"],"sourceRoot":""}