"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[692],{68537:function(e,t,i){i.d(t,{S:function(){return n}});var n="monaco-mouse-cursor-text"},22327:function(e,t,i){i.d(t,{k:function(){return y}});var n=i(15671),o=i(43144),r=i(60136),s=i(43668),l=i(53210),a=i(32590),d=i(17424),u=i(10526),h=i(57151),c="done",f="active",v="infinite",p="infinite-long-running",m="discrete",g={progressBarBackground:d.Il.fromHex("#0E70C0")},y=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,o){var r;return(0,n.Z)(this,i),(r=t.call(this)).options=o||Object.create(null),(0,h.jB)(r.options,g,!1),r.workedVal=0,r.progressBarBackground=r.options.progressBarBackground,r.showDelayedScheduler=r._register(new a.pY((function(){return(0,l.show)(r.element)}),0)),r.longRunningScheduler=r._register(new a.pY((function(){return r.infiniteLongRunning()}),i.LONG_RUNNING_INFINITE_THRESHOLD)),r.create(e),r}return(0,o.Z)(i,[{key:"create",value:function(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}},{key:"off",value:function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(f,v,p,m),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}},{key:"stop",value:function(){return this.doDone(!1)}},{key:"doDone",value:function(e){var t=this;return this.element.classList.add(c),this.element.classList.contains(v)?(this.bit.style.opacity="0",e?setTimeout((function(){return t.off()}),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((function(){return t.off()}),200):this.off()),this}},{key:"infinite",value:function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(m,c,p),this.element.classList.add(f,v),this.longRunningScheduler.schedule(),this}},{key:"infiniteLongRunning",value:function(){this.element.classList.add(p)}},{key:"getContainer",value:function(){return this.element}},{key:"style",value:function(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}},{key:"applyStyles",value:function(){if(this.bit){var e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}]),i}(u.JT);y.LONG_RUNNING_INFINITE_THRESHOLD=1e4},10150:function(e,t,i){i.d(t,{l:function(){return n},g:function(){return z}});var n,o=i(37762),r=i(97326),s=i(11752),l=i(61120),a=i(60136),d=i(43668),u=i(15671),h=i(43144),c=i(53210),f=i(70300),v=i(6287),p=i(32590),m=i(44628),g=i(28941),y=i(10526),b=i(4827),S=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e.North="north",e.South="south",e.East="east",e.West="west"}(n||(n={}));var _=new g.Q5,w=new g.Q5,N=function(){function e(){(0,u.Z)(this,e),this.disposables=new y.SL}return(0,h.Z)(e,[{key:"onPointerMove",get:function(){return this.disposables.add(new f.Y(window,"mousemove")).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new f.Y(window,"mouseup")).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();S([m.H],N.prototype,"onPointerMove",null),S([m.H],N.prototype,"onPointerUp",null);var k=function(){function e(t){(0,u.Z)(this,e),this.el=t,this.disposables=new y.SL}return(0,h.Z)(e,[{key:"onPointerMove",get:function(){return this.disposables.add(new f.Y(this.el,v.t.Change)).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new f.Y(this.el,v.t.End)).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();S([m.H],k.prototype,"onPointerMove",null),S([m.H],k.prototype,"onPointerUp",null);var D=function(){function e(t){(0,u.Z)(this,e),this.factory=t}return(0,h.Z)(e,[{key:"onPointerMove",get:function(){return this.factory.onPointerMove}},{key:"onPointerUp",get:function(){return this.factory.onPointerUp}},{key:"dispose",value:function(){}}]),e}();S([m.H],D.prototype,"onPointerMove",null),S([m.H],D.prototype,"onPointerUp",null);var C="pointer-events-disabled",z=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o){var s;(0,u.Z)(this,i),(s=t.call(this)).hoverDelay=300,s.hoverDelayer=s._register(new p.vp(s.hoverDelay)),s._state=3,s.onDidEnablementChange=s._register(new g.Q5),s._onDidStart=s._register(new g.Q5),s._onDidChange=s._register(new g.Q5),s._onDidReset=s._register(new g.Q5),s._onDidEnd=s._register(new g.Q5),s.orthogonalStartSashDisposables=s._register(new y.SL),s.orthogonalStartDragHandleDisposables=s._register(new y.SL),s.orthogonalEndSashDisposables=s._register(new y.SL),s.orthogonalEndDragHandleDisposables=s._register(new y.SL),s.onDidStart=s._onDidStart.event,s.onDidChange=s._onDidChange.event,s.onDidReset=s._onDidReset.event,s.onDidEnd=s._onDidEnd.event,s.linkedSash=void 0,s.el=(0,c.append)(e,(0,c.$)(".monaco-sash")),o.orthogonalEdge&&s.el.classList.add("orthogonal-edge-".concat(o.orthogonalEdge)),b.dz&&s.el.classList.add("mac");var l=s._register(new f.Y(s.el,"mousedown")).event;s._register(l((function(e){return s.onPointerStart(e,new N)}),(0,r.Z)(s)));var a=s._register(new f.Y(s.el,"dblclick")).event;s._register(a(s.onPointerDoublePress,(0,r.Z)(s)));var d=s._register(new f.Y(s.el,"mouseenter")).event;s._register(d((function(){return i.onMouseEnter((0,r.Z)(s))})));var h=s._register(new f.Y(s.el,"mouseleave")).event;s._register(h((function(){return i.onMouseLeave((0,r.Z)(s))}))),s._register(v.o.addTarget(s.el));var m=g.ju.map(s._register(new f.Y(s.el,v.t.Start)).event,(function(e){var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));s._register(m((function(e){return s.onPointerStart(e,new k(s.el))}),(0,r.Z)(s)));var S=s._register(new f.Y(s.el,v.t.Tap)).event,D=g.ju.map(g.ju.filter(g.ju.debounce(S,(function(e,t){var i;return{event:t,count:(null!==(i=null===e||void 0===e?void 0:e.count)&&void 0!==i?i:0)+1}}),250),(function(e){return 2===e.count})),(function(e){var t,i=e.event;return Object.assign(Object.assign({},i),{target:null!==(t=i.initialTarget)&&void 0!==t?t:null})}));return s._register(D(s.onPointerDoublePress,(0,r.Z)(s))),"number"===typeof o.size?(s.size=o.size,0===o.orientation?s.el.style.width="".concat(s.size,"px"):s.el.style.height="".concat(s.size,"px")):(s.size=4,s._register(_.event((function(e){s.size=e,s.layout()})))),s._register(w.event((function(e){return s.hoverDelay=e}))),s.layoutProvider=n,s.orthogonalStartSash=o.orthogonalStartSash,s.orthogonalEndSash=o.orthogonalEndSash,s.orientation=o.orientation||0,1===s.orientation?(s.el.classList.add("horizontal"),s.el.classList.remove("vertical")):(s.el.classList.remove("horizontal"),s.el.classList.add("vertical")),s.el.classList.toggle("debug",false),s.layout(),s}return(0,h.Z)(i,[{key:"state",get:function(){return this._state},set:function(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this.onDidEnablementChange.fire(e))}},{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(e){var t=this;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){var n=function(n){t.orthogonalStartDragHandleDisposables.clear(),0!==n&&(t._orthogonalStartDragHandle=(0,c.append)(t.el,(0,c.$)(".orthogonal-drag-handle.start")),t.orthogonalStartDragHandleDisposables.add((0,y.OF)((function(){return t._orthogonalStartDragHandle.remove()}))),t.orthogonalStartDragHandleDisposables.add(new f.Y(t._orthogonalStartDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(e)}),void 0,t.orthogonalStartDragHandleDisposables),t.orthogonalStartDragHandleDisposables.add(new f.Y(t._orthogonalStartDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(e)}),void 0,t.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(n,this)),n(e.state)}this._orthogonalStartSash=e}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(e){var t=this;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){var n=function(n){t.orthogonalEndDragHandleDisposables.clear(),0!==n&&(t._orthogonalEndDragHandle=(0,c.append)(t.el,(0,c.$)(".orthogonal-drag-handle.end")),t.orthogonalEndDragHandleDisposables.add((0,y.OF)((function(){return t._orthogonalEndDragHandle.remove()}))),t.orthogonalEndDragHandleDisposables.add(new f.Y(t._orthogonalEndDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(e)}),void 0,t.orthogonalEndDragHandleDisposables),t.orthogonalEndDragHandleDisposables.add(new f.Y(t._orthogonalEndDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(e)}),void 0,t.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(n,this)),n(e.state)}this._orthogonalEndSash=e}},{key:"onPointerStart",value:function(e,t){var i=this;c.EventHelper.stop(e);var n=!1;if(!e.__orthogonalSashEvent){var r=this.getOrthogonalSash(e);r&&(n=!0,e.__orthogonalSashEvent=!0,r.onPointerStart(e,new D(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new D(t))),this.state){var s,l=(0,c.getElementsByTagName)("iframe"),a=(0,o.Z)(l);try{for(a.s();!(s=a.n()).done;){s.value.classList.add(C)}}catch(g){a.e(g)}finally{a.f()}var d=e.pageX,u=e.pageY,h=e.altKey,f={startX:d,currentX:d,startY:u,currentY:u,altKey:h};this.el.classList.add("active"),this._onDidStart.fire(f);var v=(0,c.createStyleSheet)(this.el),p=function(){var e="";e=n?"all-scroll":1===i.orientation?1===i.state?"s-resize":2===i.state?"n-resize":b.dz?"row-resize":"ns-resize":1===i.state?"e-resize":2===i.state?"w-resize":b.dz?"col-resize":"ew-resize",v.textContent="* { cursor: ".concat(e," !important; }")},m=new y.SL;p(),n||this.onDidEnablementChange.event(p,null,m);t.onPointerMove((function(e){c.EventHelper.stop(e,!1);var t={startX:d,currentX:e.pageX,startY:u,currentY:e.pageY,altKey:h};i._onDidChange.fire(t)}),null,m),t.onPointerUp((function(e){c.EventHelper.stop(e,!1),i.el.removeChild(v),i.el.classList.remove("active"),i._onDidEnd.fire(),m.dispose();var t,n=(0,o.Z)(l);try{for(n.s();!(t=n.n()).done;){t.value.classList.remove(C)}}catch(g){n.e(g)}finally{n.f()}}),null,m),m.add(t)}}},{key:"onPointerDoublePress",value:function(e){var t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}},{key:"clearSashHoverState",value:function(){i.onMouseLeave(this)}},{key:"layout",value:function(){if(0===this.orientation){var e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{var t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}},{key:"getOrthogonalSash",value:function(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}},{key:"dispose",value:function(){(0,s.Z)((0,l.Z)(i.prototype),"dispose",this).call(this),this.el.remove()}}],[{key:"onMouseEnter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((function(){return e.el.classList.add("hover")}),e.hoverDelay).then(void 0,(function(){})),!t&&e.linkedSash&&i.onMouseEnter(e.linkedSash,!0)}},{key:"onMouseLeave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&i.onMouseLeave(e.linkedSash,!0)}}]),i}(y.JT)},48301:function(e,t,i){i.d(t,{s$:function(){return x},NB:function(){return L},$Z:function(){return Z}});var n=i(11752),o=i(61120),r=i(60136),s=i(43668),l=i(43144),a=i(15671),d=i(12426),u=i(53210),h=i(16688),c=i(96194),f=i(36727),v=i(93433),p=i(86457),m=i(32590),g=11,y=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n,o;return(0,a.Z)(this,i),(o=t.call(this))._onActivate=e.onActivate,o.bgDomNode=document.createElement("div"),o.bgDomNode.className="arrow-background",o.bgDomNode.style.position="absolute",o.bgDomNode.style.width=e.bgWidth+"px",o.bgDomNode.style.height=e.bgHeight+"px","undefined"!==typeof e.top&&(o.bgDomNode.style.top="0px"),"undefined"!==typeof e.left&&(o.bgDomNode.style.left="0px"),"undefined"!==typeof e.bottom&&(o.bgDomNode.style.bottom="0px"),"undefined"!==typeof e.right&&(o.bgDomNode.style.right="0px"),o.domNode=document.createElement("div"),o.domNode.className=e.className,(n=o.domNode.classList).add.apply(n,(0,v.Z)(e.icon.classNamesArray)),o.domNode.style.position="absolute",o.domNode.style.width="11px",o.domNode.style.height="11px","undefined"!==typeof e.top&&(o.domNode.style.top=e.top+"px"),"undefined"!==typeof e.left&&(o.domNode.style.left=e.left+"px"),"undefined"!==typeof e.bottom&&(o.domNode.style.bottom=e.bottom+"px"),"undefined"!==typeof e.right&&(o.domNode.style.right=e.right+"px"),o._mouseMoveMonitor=o._register(new f.Z),o.onmousedown(o.bgDomNode,(function(e){return o._arrowMouseDown(e)})),o.onmousedown(o.domNode,(function(e){return o._arrowMouseDown(e)})),o._mousedownRepeatTimer=o._register(new m.zh),o._mousedownScheduleRepeatTimer=o._register(new m._F),o}return(0,l.Z)(i,[{key:"_arrowMouseDown",value:function(e){var t=this;this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((function(){t._mousedownRepeatTimer.cancelAndSet((function(){return t._onActivate()}),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,f.e,(function(e){}),(function(){t._mousedownRepeatTimer.cancel(),t._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()}}]),i}(p.$),b=i(10526),S=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;return(0,a.Z)(this,i),(r=t.call(this))._visibility=e,r._visibleClassName=n,r._invisibleClassName=o,r._domNode=null,r._isVisible=!1,r._isNeeded=!1,r._rawShouldBeVisible=!1,r._shouldBeVisible=!1,r._revealTimer=r._register(new m._F),r}return(0,l.Z)(i,[{key:"setVisibility",value:function(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}},{key:"setShouldBeVisible",value:function(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}},{key:"_applyVisibilitySetting",value:function(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}},{key:"_updateShouldBeVisible",value:function(){var e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}},{key:"setIsNeeded",value:function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}},{key:"setDomNode",value:function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}},{key:"ensureVisibility",value:function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}},{key:"_reveal",value:function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((function(){e._domNode&&e._domNode.setClassName(e._visibleClassName)}),0))}},{key:"_hide",value:function(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}]),i}(b.JT),_=i(4827),w=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this))._lazyRender=e.lazyRender,n._host=e.host,n._scrollable=e.scrollable,n._scrollByPage=e.scrollByPage,n._scrollbarState=e.scrollbarState,n._visibilityController=n._register(new S(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),n._visibilityController.setIsNeeded(n._scrollbarState.isNeeded()),n._mouseMoveMonitor=n._register(new f.Z),n._shouldRender=!0,n.domNode=(0,h.X)(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n._visibilityController.setDomNode(n.domNode),n.domNode.setPosition("absolute"),n.onmousedown(n.domNode.domNode,(function(e){return n._domNodeMouseDown(e)})),n}return(0,l.Z)(i,[{key:"_createArrow",value:function(e){var t=this._register(new y(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}},{key:"_createSlider",value:function(e,t,i,n){var o=this;this.slider=(0,h.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"===typeof i&&this.slider.setWidth(i),"number"===typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(function(e){e.leftButton&&(e.preventDefault(),o._sliderMouseDown(e,(function(){})))})),this.onclick(this.slider.domNode,(function(e){e.leftButton&&e.stopPropagation()}))}},{key:"_onElementSize",value:function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollSize",value:function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollPosition",value:function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"beginReveal",value:function(){this._visibilityController.setShouldBeVisible(!0)}},{key:"beginHide",value:function(){this._visibilityController.setShouldBeVisible(!1)}},{key:"render",value:function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}},{key:"_domNodeMouseDown",value:function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}},{key:"delegateMouseDown",value:function(e){var t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);i<=o&&o<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(function(){}))):this._onMouseDown(e)}},{key:"_onMouseDown",value:function(e){var t,i;if(e.target===this.domNode.domNode&&"number"===typeof e.browserEvent.offsetX&&"number"===typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{var n=u.getDomNodePagePosition(this.domNode.domNode);t=e.posx-n.left,i=e.posy-n.top}var o=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(function(){})))}},{key:"_sliderMouseDown",value:function(e,t){var i=this,n=this._sliderMousePosition(e),o=this._sliderOrthogonalMousePosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,f.e,(function(e){var t=i._sliderOrthogonalMousePosition(e),s=Math.abs(t-o);if(_.ED&&s>140)i._setDesiredScrollPositionNow(r.getScrollPosition());else{var l=i._sliderMousePosition(e)-n;i._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(l))}}),(function(){i.slider.toggleClassName("active",!1),i._host.onDragEnd(),t()})),this._host.onDragStart()}},{key:"_setDesiredScrollPositionNow",value:function(e){var t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}},{key:"updateScrollbarSize",value:function(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}},{key:"isNeeded",value:function(){return this._scrollbarState.isNeeded()}}]),i}(p.$),N=function(){function e(t,i,n,o,r,s){(0,a.Z)(this,e),this._scrollbarSize=Math.round(i),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(t),this._visibleSize=o,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return(0,l.Z)(e,[{key:"clone",value:function(){return new e(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}},{key:"setVisibleSize",value:function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}},{key:"setScrollSize",value:function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}},{key:"setScrollPosition",value:function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}},{key:"setScrollbarSize",value:function(e){this._scrollbarSize=Math.round(e)}},{key:"setOppositeScrollbarSize",value:function(e){this._oppositeScrollbarSize=Math.round(e)}},{key:"_refreshComputedValues",value:function(){var t=e._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}},{key:"getArrowSize",value:function(){return this._arrowSize}},{key:"getScrollPosition",value:function(){return this._scrollPosition}},{key:"getRectangleLargeSize",value:function(){return this._computedAvailableSize}},{key:"getRectangleSmallSize",value:function(){return this._scrollbarSize}},{key:"isNeeded",value:function(){return this._computedIsNeeded}},{key:"getSliderSize",value:function(){return this._computedSliderSize}},{key:"getSliderPosition",value:function(){return this._computedSliderPosition}},{key:"getDesiredScrollPositionFromOffset",value:function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}},{key:"getDesiredScrollPositionFromOffsetPaged",value:function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}},{key:"getDesiredScrollPositionFromDelta",value:function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}],[{key:"_computeValues",value:function(e,t,i,n,o){var r=Math.max(0,i-e),s=Math.max(0,r-2*t),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};var a=Math.round(Math.max(20,Math.floor(i*s/n))),d=(s-a)/(n-i),u=o*d;return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:d,computedSliderPosition:Math.round(u)}}}]),e}(),k=i(7579),D=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;(0,a.Z)(this,i);var s=e.getScrollDimensions(),l=e.getCurrentScrollPosition();if(r=t.call(this,{lazyRender:n.lazyRender,host:o,scrollbarState:new N(n.horizontalHasArrows?n.arrowSize:0,2===n.horizontal?0:n.horizontalScrollbarSize,2===n.vertical?0:n.verticalScrollbarSize,s.width,s.scrollWidth,l.scrollLeft),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:n.scrollByPage}),n.horizontalHasArrows){var d=(n.arrowSize-g)/2,u=(n.horizontalScrollbarSize-g)/2;r._createArrow({className:"scra",icon:k.lA.scrollbarButtonLeft,top:u,left:d,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,1,0))}}),r._createArrow({className:"scra",icon:k.lA.scrollbarButtonRight,top:u,left:void 0,bottom:void 0,right:d,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,-1,0))}})}return r._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,void 0,n.horizontalSliderSize),r}return(0,l.Z)(i,[{key:"_updateSlider",value:function(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}},{key:"_renderDomNode",value:function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}},{key:"onDidScroll",value:function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}},{key:"_mouseDownRelativePosition",value:function(e,t){return e}},{key:"_sliderMousePosition",value:function(e){return e.posx}},{key:"_sliderOrthogonalMousePosition",value:function(e){return e.posy}},{key:"_updateScrollbarSize",value:function(e){this.slider.setHeight(e)}},{key:"writeScrollPosition",value:function(e,t){e.scrollLeft=t}},{key:"updateOptions",value:function(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}]),i}(w),C=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;(0,a.Z)(this,i);var s=e.getScrollDimensions(),l=e.getCurrentScrollPosition();if(r=t.call(this,{lazyRender:n.lazyRender,host:o,scrollbarState:new N(n.verticalHasArrows?n.arrowSize:0,2===n.vertical?0:n.verticalScrollbarSize,0,s.height,s.scrollHeight,l.scrollTop),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:n.scrollByPage}),n.verticalHasArrows){var d=(n.arrowSize-g)/2,u=(n.verticalScrollbarSize-g)/2;r._createArrow({className:"scra",icon:k.lA.scrollbarButtonUp,top:d,left:u,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,0,1))}}),r._createArrow({className:"scra",icon:k.lA.scrollbarButtonDown,top:void 0,left:u,bottom:d,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,0,-1))}})}return r._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,void 0),r}return(0,l.Z)(i,[{key:"_updateSlider",value:function(e,t){this.slider.setHeight(e),this.slider.setTop(t)}},{key:"_renderDomNode",value:function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}},{key:"onDidScroll",value:function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}},{key:"_mouseDownRelativePosition",value:function(e,t){return t}},{key:"_sliderMousePosition",value:function(e){return e.posy}},{key:"_sliderOrthogonalMousePosition",value:function(e){return e.posx}},{key:"_updateScrollbarSize",value:function(e){this.slider.setWidth(e)}},{key:"writeScrollPosition",value:function(e,t){e.scrollTop=t}},{key:"updateOptions",value:function(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}]),i}(w),z=i(28941),E=i(17603),I=(0,l.Z)((function e(t,i,n){(0,a.Z)(this,e),this.timestamp=t,this.deltaX=i,this.deltaY=n,this.score=0})),P=function(){function e(){(0,a.Z)(this,e),this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return(0,l.Z)(e,[{key:"isPhysicalMouseWheel",value:function(){if(-1===this._front&&-1===this._rear)return!1;for(var e=1,t=0,i=1,n=this._rear;;){var o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}},{key:"accept",value:function(e,t,i){var n=new I(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}},{key:"_computeScore",value:function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}},{key:"_isAlmostInt",value:function(e){return Math.abs(Math.round(e)-e)<.01}}]),e}();P.INSTANCE=new P;var T=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;(0,a.Z)(this,i),(r=t.call(this))._onScroll=r._register(new z.Q5),r.onScroll=r._onScroll.event,r._onWillScroll=r._register(new z.Q5),e.style.overflow="hidden",r._options=function(e){var t={lazyRender:"undefined"!==typeof e.lazyRender&&e.lazyRender,className:"undefined"!==typeof e.className?e.className:"",useShadows:"undefined"===typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"===typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!==typeof e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:"undefined"!==typeof e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:"undefined"!==typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!==typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!==typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:"undefined"!==typeof e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:"undefined"===typeof e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:"undefined"===typeof e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:"undefined"!==typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!==typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!==typeof e.horizontal?e.horizontal:1,horizontalScrollbarSize:"undefined"!==typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!==typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!==typeof e.vertical?e.vertical:1,verticalScrollbarSize:"undefined"!==typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!==typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:"undefined"!==typeof e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize="undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,_.dz&&(t.className+=" mac");return t}(n),r._scrollable=o,r._register(r._scrollable.onScroll((function(e){r._onWillScroll.fire(e),r._onDidScroll(e),r._onScroll.fire(e)})));var s={onMouseWheel:function(e){return r._onMouseWheel(e)},onDragStart:function(){return r._onDragStart()},onDragEnd:function(){return r._onDragEnd()}};return r._verticalScrollbar=r._register(new C(r._scrollable,r._options,s)),r._horizontalScrollbar=r._register(new D(r._scrollable,r._options,s)),r._domNode=document.createElement("div"),r._domNode.className="monaco-scrollable-element "+r._options.className,r._domNode.setAttribute("role","presentation"),r._domNode.style.position="relative",r._domNode.style.overflow="hidden",r._domNode.appendChild(e),r._domNode.appendChild(r._horizontalScrollbar.domNode.domNode),r._domNode.appendChild(r._verticalScrollbar.domNode.domNode),r._options.useShadows?(r._leftShadowDomNode=(0,h.X)(document.createElement("div")),r._leftShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._leftShadowDomNode.domNode),r._topShadowDomNode=(0,h.X)(document.createElement("div")),r._topShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._topShadowDomNode.domNode),r._topLeftShadowDomNode=(0,h.X)(document.createElement("div")),r._topLeftShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._topLeftShadowDomNode.domNode)):(r._leftShadowDomNode=null,r._topShadowDomNode=null,r._topLeftShadowDomNode=null),r._listenOnDomNode=r._options.listenOnDomNode||r._domNode,r._mouseWheelToDispose=[],r._setListeningToMouseWheel(r._options.handleMouseWheel),r.onmouseover(r._listenOnDomNode,(function(e){return r._onMouseOver(e)})),r.onnonbubblingmouseout(r._listenOnDomNode,(function(e){return r._onMouseOut(e)})),r._hideTimeout=r._register(new m._F),r._isDragging=!1,r._mouseIsOver=!1,r._shouldRender=!0,r._revealOnScroll=!0,r}return(0,l.Z)(i,[{key:"options",get:function(){return this._options}},{key:"dispose",value:function(){this._mouseWheelToDispose=(0,b.B9)(this._mouseWheelToDispose),(0,n.Z)((0,o.Z)(i.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getOverviewRulerLayoutInfo",value:function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}},{key:"delegateVerticalScrollbarMouseDown",value:function(e){this._verticalScrollbar.delegateMouseDown(e)}},{key:"getScrollDimensions",value:function(){return this._scrollable.getScrollDimensions()}},{key:"setScrollDimensions",value:function(e){this._scrollable.setScrollDimensions(e,!1)}},{key:"updateClassName",value:function(e){this._options.className=e,_.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}},{key:"updateOptions",value:function(e){"undefined"!==typeof e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),"undefined"!==typeof e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),"undefined"!==typeof e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),"undefined"!==typeof e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),"undefined"!==typeof e.horizontal&&(this._options.horizontal=e.horizontal),"undefined"!==typeof e.vertical&&(this._options.vertical=e.vertical),"undefined"!==typeof e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),"undefined"!==typeof e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),"undefined"!==typeof e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}},{key:"_setListeningToMouseWheel",value:function(e){var t=this;if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=(0,b.B9)(this._mouseWheelToDispose),e)){this._mouseWheelToDispose.push(u.addDisposableListener(this._listenOnDomNode,u.EventType.MOUSE_WHEEL,(function(e){t._onMouseWheel(new c.q(e))}),{passive:!1}))}}},{key:"_onMouseWheel",value:function(e){var t=P.INSTANCE,i=window.devicePixelRatio/(0,d.getZoomFactor)();_.ED||_.IJ?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY);var n=!1;if(e.deltaY||e.deltaX){var o=e.deltaY*this._options.mouseWheelScrollSensitivity,r=e.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis&&(Math.abs(o)>=Math.abs(r)?r=0:o=0),this._options.flipAxes){var s=[r,o];o=s[0],r=s[1]}var l=!_.dz&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!l||r||(r=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(r*=this._options.fastScrollSensitivity,o*=this._options.fastScrollSensitivity);var a=this._scrollable.getFutureScrollPosition(),u={};if(o){var h=50*o,c=a.scrollTop-(h<0?Math.floor(h):Math.ceil(h));this._verticalScrollbar.writeScrollPosition(u,c)}if(r){var f=50*r,v=a.scrollLeft-(f<0?Math.floor(f):Math.ceil(f));this._horizontalScrollbar.writeScrollPosition(u,v)}if(u=this._scrollable.validateScrollPosition(u),a.scrollLeft!==u.scrollLeft||a.scrollTop!==u.scrollTop)this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(u):this._scrollable.setScrollPositionNow(u),n=!0}var p=n;!p&&this._options.alwaysConsumeMouseWheel&&(p=!0),!p&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(p=!0),p&&(e.preventDefault(),e.stopPropagation())}},{key:"_onDidScroll",value:function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}},{key:"renderNow",value:function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}},{key:"_render",value:function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",r=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(n)),this._topShadowDomNode.setClassName("shadow".concat(o)),this._topLeftShadowDomNode.setClassName("shadow".concat(r).concat(o).concat(n))}}},{key:"_onDragStart",value:function(){this._isDragging=!0,this._reveal()}},{key:"_onDragEnd",value:function(){this._isDragging=!1,this._hide()}},{key:"_onMouseOut",value:function(e){this._mouseIsOver=!1,this._hide()}},{key:"_onMouseOver",value:function(e){this._mouseIsOver=!0,this._reveal()}},{key:"_reveal",value:function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}},{key:"_hide",value:function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}},{key:"_scheduleHide",value:function(){var e=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((function(){return e._hide()}),500)}}]),i}(p.$),L=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n){var o;(0,a.Z)(this,i),(n=n||{}).mouseWheelSmoothScroll=!1;var r=new E.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(e){return u.scheduleAtNextAnimationFrame(e)}});return(o=t.call(this,e,n,r))._register(r),o}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){this._scrollable.setScrollPositionNow(e)}}]),i}(T),Z=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){return(0,a.Z)(this,i),t.call(this,e,n,o)}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}}]),i}(T),x=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n){var o;(0,a.Z)(this,i),(n=n||{}).mouseWheelSmoothScroll=!1;var r=new E.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(e){return u.scheduleAtNextAnimationFrame(e)}});return(o=t.call(this,e,n,r))._register(r),o._element=e,o.onScroll((function(e){e.scrollTopChanged&&(o._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(o._element.scrollLeft=e.scrollLeft)})),o.scanDomNode(),o}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){this._scrollable.setScrollPositionNow(e)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"scanDomNode",value:function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}]),i}(T)},96622:function(e,t,i){i.d(t,{M:function(){return o},z:function(){return z}});var n,o,r=i(93433),s=i(37762),l=i(11752),a=i(61120),d=i(60136),u=i(43668),h=i(15671),c=i(43144),f=i(53210),v=i(10150),p=i(48301),m=i(71881),g=i(17424),y=i(28941),b=i(10526),S=i(53391),_=i(17603),w=i(64272),N={separatorBorder:g.Il.transparent},k=function(){function e(t,i,n,o){(0,h.Z)(this,e),this.container=t,this.view=i,this.disposable=o,this._cachedVisibleSize=void 0,"number"===typeof n?(this._size=n,this._cachedVisibleSize=void 0,t.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}return(0,c.Z)(e,[{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"visible",get:function(){return"undefined"===typeof this._cachedVisibleSize}},{key:"setVisible",value:function(e,t){e!==this.visible&&(e?(this.size=(0,S.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"===typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}},{key:"minimumSize",get:function(){return this.visible?this.view.minimumSize:0}},{key:"viewMinimumSize",get:function(){return this.view.minimumSize}},{key:"maximumSize",get:function(){return this.visible?this.view.maximumSize:0}},{key:"viewMaximumSize",get:function(){return this.view.maximumSize}},{key:"priority",get:function(){return this.view.priority}},{key:"snap",get:function(){return!!this.view.snap}},{key:"enabled",set:function(e){this.container.style.pointerEvents=e?"":"none"}},{key:"layout",value:function(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}},{key:"dispose",value:function(){return this.disposable.dispose(),this.view}}]),e}(),D=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,h.Z)(this,i),t.apply(this,arguments)}return(0,c.Z)(i,[{key:"layoutContainer",value:function(e){this.container.style.top="".concat(e,"px"),this.container.style.height="".concat(this.size,"px")}}]),i}(k),C=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,h.Z)(this,i),t.apply(this,arguments)}return(0,c.Z)(i,[{key:"layoutContainer",value:function(e){this.container.style.left="".concat(e,"px"),this.container.style.width="".concat(this.size,"px")}}]),i}(k);!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(n||(n={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(o||(o={}));var z=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){var o,r,s,l,a,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.Z)(this,i),(o=t.call(this)).size=0,o.contentSize=0,o.proportions=void 0,o.viewItems=[],o.sashItems=[],o.state=n.Idle,o._onDidSashChange=o._register(new y.Q5),o._onDidSashReset=o._register(new y.Q5),o._startSnappingEnabled=!0,o._endSnappingEnabled=!0,o.onDidSashChange=o._onDidSashChange.event,o.onDidSashReset=o._onDidSashReset.event,o.orientation=null!==(r=u.orientation)&&void 0!==r?r:0,o.inverseAltBehavior=null!==(s=u.inverseAltBehavior)&&void 0!==s&&s,o.proportionalLayout=null===(l=u.proportionalLayout)||void 0===l||l,o.getSashOrthogonalSize=u.getSashOrthogonalSize,o.el=document.createElement("div"),o.el.classList.add("monaco-split-view2"),o.el.classList.add(0===o.orientation?"vertical":"horizontal"),e.appendChild(o.el),o.sashContainer=(0,f.append)(o.el,(0,f.$)(".sash-container")),o.viewContainer=(0,f.$)(".split-view-container"),o.scrollable=new _.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:f.scheduleAtNextAnimationFrame}),o.scrollableElement=o._register(new p.$Z(o.viewContainer,{vertical:0===o.orientation?null!==(a=u.scrollbarVisibility)&&void 0!==a?a:1:2,horizontal:1===o.orientation?null!==(d=u.scrollbarVisibility)&&void 0!==d?d:1:2},o.scrollable)),o.onDidScroll=o.scrollableElement.onScroll,o._register(o.onDidScroll((function(e){o.viewContainer.scrollTop=e.scrollTop,o.viewContainer.scrollLeft=e.scrollLeft}))),(0,f.append)(o.el,o.scrollableElement.getDomNode()),o.style(u.styles||N),u.descriptor&&(o.size=u.descriptor.size,u.descriptor.views.forEach((function(e,t){var i=w.o8(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;o.doAddView(n,i,t,!0)})),o.contentSize=o.viewItems.reduce((function(e,t){return e+t.size}),0),o.saveProportions()),o}return(0,c.Z)(i,[{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(e){var t,i=(0,s.Z)(this.sashItems);try{for(i.s();!(t=i.n()).done;){t.value.sash.orthogonalStartSash=e}}catch(n){i.e(n)}finally{i.f()}this._orthogonalStartSash=e}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(e){var t,i=(0,s.Z)(this.sashItems);try{for(i.s();!(t=i.n()).done;){t.value.sash.orthogonalEndSash=e}}catch(n){i.e(n)}finally{i.f()}this._orthogonalEndSash=e}},{key:"startSnappingEnabled",get:function(){return this._startSnappingEnabled},set:function(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}},{key:"endSnappingEnabled",get:function(){return this._endSnappingEnabled},set:function(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}},{key:"style",value:function(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}},{key:"addView",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,n=arguments.length>3?arguments[3]:void 0;this.doAddView(e,t,i,n)}},{key:"layout",value:function(e,t){var i=this,n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(var o=0;o<this.viewItems.length;o++){var r=this.viewItems[o];r.size=(0,S.uZ)(Math.round(this.proportions[o]*e),r.minimumSize,r.maximumSize)}else{var s=(0,m.w6)(this.viewItems.length),l=s.filter((function(e){return 1===i.viewItems[e].priority})),a=s.filter((function(e){return 2===i.viewItems[e].priority}));this.resize(this.viewItems.length-1,e-n,void 0,l,a)}this.distributeEmptySpace(),this.layoutViews()}},{key:"saveProportions",value:function(){var e=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((function(t){return t.size/e.contentSize})))}},{key:"onSashStart",value:function(e){var t,i=this,n=e.sash,o=e.start,r=e.alt,l=(0,s.Z)(this.viewItems);try{for(l.s();!(t=l.n()).done;){t.value.enabled=!1}}catch(h){l.e(h)}finally{l.f()}var a=this.sashItems.findIndex((function(e){return e.sash===n})),d=(0,b.F8)((0,f.addDisposableListener)(document.body,"keydown",(function(e){return u(i.sashDragState.current,e.altKey)})),(0,f.addDisposableListener)(document.body,"keyup",(function(){return u(i.sashDragState.current,!1)}))),u=function(e,t){var n,o,r=i.viewItems.map((function(e){return e.size})),s=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(i.inverseAltBehavior&&(t=!t),t)if(a===i.sashItems.length-1){var u=i.viewItems[a];s=(u.minimumSize-u.size)/2,l=(u.maximumSize-u.size)/2}else{var h=i.viewItems[a+1];s=(h.size-h.maximumSize)/2,l=(h.size-h.minimumSize)/2}if(!t){var c=(0,m.w6)(a,-1),f=(0,m.w6)(a+1,i.viewItems.length),v=c.reduce((function(e,t){return e+(i.viewItems[t].minimumSize-r[t])}),0),p=c.reduce((function(e,t){return e+(i.viewItems[t].viewMaximumSize-r[t])}),0),g=0===f.length?Number.POSITIVE_INFINITY:f.reduce((function(e,t){return e+(r[t]-i.viewItems[t].minimumSize)}),0),y=0===f.length?Number.NEGATIVE_INFINITY:f.reduce((function(e,t){return e+(r[t]-i.viewItems[t].viewMaximumSize)}),0),b=Math.max(v,y),S=Math.min(g,p),_=i.findFirstSnapIndex(c),w=i.findFirstSnapIndex(f);if("number"===typeof _){var N=i.viewItems[_],k=Math.floor(N.viewMinimumSize/2);n={index:_,limitDelta:N.visible?b-k:b+k,size:N.size}}if("number"===typeof w){var D=i.viewItems[w],C=Math.floor(D.viewMinimumSize/2);o={index:w,limitDelta:D.visible?S+C:S-C,size:D.size}}}i.sashDragState={start:e,current:e,index:a,sizes:r,minDelta:s,maxDelta:l,alt:t,snapBefore:n,snapAfter:o,disposable:d}};u(o,r)}},{key:"onSashChange",value:function(e){var t=e.current,i=this.sashDragState,n=i.index,o=i.start,r=i.sizes,s=i.alt,l=i.minDelta,a=i.maxDelta,d=i.snapBefore,u=i.snapAfter;this.sashDragState.current=t;var h=t-o,c=this.resize(n,h,r,void 0,void 0,l,a,d,u);if(s){var f=n===this.sashItems.length-1,v=this.viewItems.map((function(e){return e.size})),p=f?n:n+1,m=this.viewItems[p],g=m.size-m.maximumSize,y=m.size-m.minimumSize,b=f?n-1:n+1;this.resize(b,-c,v,void 0,void 0,g,y)}this.distributeEmptySpace(),this.layoutViews()}},{key:"onSashEnd",value:function(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();var t,i=(0,s.Z)(this.viewItems);try{for(i.s();!(t=i.n()).done;){t.value.enabled=!0}}catch(n){i.e(n)}finally{i.f()}}},{key:"onViewChange",value:function(e,t){var i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"===typeof t?t:e.size,t=(0,S.uZ)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}},{key:"resizeView",value:function(e,t){var i=this;if(this.state!==n.Idle)throw new Error("Cant modify splitview");if(this.state=n.Busy,!(e<0||e>=this.viewItems.length)){var o=(0,m.w6)(this.viewItems.length).filter((function(t){return t!==e})),s=[].concat((0,r.Z)(o.filter((function(e){return 1===i.viewItems[e].priority}))),[e]),l=o.filter((function(e){return 2===i.viewItems[e].priority})),a=this.viewItems[e];t=Math.round(t),t=(0,S.uZ)(t,a.minimumSize,Math.min(a.maximumSize,this.size)),a.size=t,this.relayout(s,l),this.state=n.Idle}}},{key:"distributeViewSizes",value:function(){var e,t=this,i=[],n=0,o=(0,s.Z)(this.viewItems);try{for(o.s();!(e=o.n()).done;){var r=e.value;r.maximumSize-r.minimumSize>0&&(i.push(r),n+=r.size)}}catch(v){o.e(v)}finally{o.f()}for(var l=Math.floor(n/i.length),a=0,d=i;a<d.length;a++){var u=d[a];u.size=(0,S.uZ)(l,u.minimumSize,u.maximumSize)}var h=(0,m.w6)(this.viewItems.length),c=h.filter((function(e){return 1===t.viewItems[e].priority})),f=h.filter((function(e){return 2===t.viewItems[e].priority}));this.relayout(c,f)}},{key:"getViewSize",value:function(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}},{key:"doAddView",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,r=arguments.length>3?arguments[3]:void 0;if(this.state!==n.Idle)throw new Error("Cant modify splitview");this.state=n.Busy;var s=(0,f.$)(".split-view-view");o===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(o));var l,a=e.onDidChange((function(e){return i.onViewChange(c,e)})),d=(0,b.OF)((function(){return i.viewContainer.removeChild(s)})),u=(0,b.F8)(a,d);l="number"===typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;var h,c=0===this.orientation?new D(s,e,l,u):new C(s,e,l,u);if(this.viewItems.splice(o,0,c),this.viewItems.length>1){var p={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},g=0===this.orientation?new v.g(this.sashContainer,{getHorizontalSashTop:function(e){return i.getSashPosition(e)},getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},p),{orientation:1})):new v.g(this.sashContainer,{getVerticalSashLeft:function(e){return i.getSashPosition(e)},getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},p),{orientation:0})),S=0===this.orientation?function(e){return{sash:g,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:g,start:e.startX,current:e.currentX,alt:e.altKey}},_=y.ju.map(g.onDidStart,S),w=_(this.onSashStart,this),N=y.ju.map(g.onDidChange,S),k=N(this.onSashChange,this),z=y.ju.map(g.onDidEnd,(function(){return i.sashItems.findIndex((function(e){return e.sash===g}))})),E=z(this.onSashEnd,this),I=g.onDidReset((function(){var e=i.sashItems.findIndex((function(e){return e.sash===g})),t=(0,m.w6)(e,-1),n=(0,m.w6)(e+1,i.viewItems.length),o=i.findFirstSnapIndex(t),r=i.findFirstSnapIndex(n);("number"!==typeof o||i.viewItems[o].visible)&&("number"!==typeof r||i.viewItems[r].visible)&&i._onDidSashReset.fire(e)})),P=(0,b.F8)(w,k,E,I,g),T={sash:g,disposable:P};this.sashItems.splice(o-1,0,T)}s.appendChild(e.element),"number"!==typeof t&&"split"===t.type&&(h=[t.index]),r||this.relayout([o],h),this.state=n.Idle,r||"number"===typeof t||"distribute"!==t.type||this.distributeViewSizes()}},{key:"relayout",value:function(e,t){var i=this.viewItems.reduce((function(e,t){return e+t.size}),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}},{key:"resize",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.map((function(e){return e.size})),o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.POSITIVE_INFINITY,d=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0;if(e<0||e>=this.viewItems.length)return 0;var h=(0,m.w6)(e,-1),c=(0,m.w6)(e+1,this.viewItems.length);if(r){var f,v=(0,s.Z)(r);try{for(v.s();!(f=v.n()).done;){var p=f.value;(0,m.zI)(h,p),(0,m.zI)(c,p)}}catch(K){v.e(K)}finally{v.f()}}if(o){var g,y=(0,s.Z)(o);try{for(y.s();!(g=y.n()).done;){var b=g.value;(0,m.al)(h,b),(0,m.al)(c,b)}}catch(K){y.e(K)}finally{y.f()}}var _=h.map((function(e){return i.viewItems[e]})),w=h.map((function(e){return n[e]})),N=c.map((function(e){return i.viewItems[e]})),k=c.map((function(e){return n[e]})),D=h.reduce((function(e,t){return e+(i.viewItems[t].minimumSize-n[t])}),0),C=h.reduce((function(e,t){return e+(i.viewItems[t].maximumSize-n[t])}),0),z=0===c.length?Number.POSITIVE_INFINITY:c.reduce((function(e,t){return e+(n[t]-i.viewItems[t].minimumSize)}),0),E=0===c.length?Number.NEGATIVE_INFINITY:c.reduce((function(e,t){return e+(n[t]-i.viewItems[t].maximumSize)}),0),I=Math.max(D,E,l),P=Math.min(z,C,a),T=!1;if(d){var L=this.viewItems[d.index],Z=t>=d.limitDelta;T=Z!==L.visible,L.setVisible(Z,d.size)}if(!T&&u){var x=this.viewItems[u.index],O=t<u.limitDelta;T=O!==x.visible,x.setVisible(O,u.size)}if(T)return this.resize(e,t,n,o,r,l,a);for(var M=0,R=t=(0,S.uZ)(t,I,P);M<_.length;M++){var A=_[M],F=(0,S.uZ)(w[M]+R,A.minimumSize,A.maximumSize),H=F-w[M];R-=H,A.size=F}for(var B=0,V=t;B<N.length;B++){var W=N[B],j=(0,S.uZ)(k[B]-V,W.minimumSize,W.maximumSize),$=j-k[B];V+=$,W.size=j}return t}},{key:"distributeEmptySpace",value:function(e){var t,i=this,n=this.viewItems.reduce((function(e,t){return e+t.size}),0),o=this.size-n,r=(0,m.w6)(this.viewItems.length-1,-1),l=r.filter((function(e){return 1===i.viewItems[e].priority})),a=r.filter((function(e){return 2===i.viewItems[e].priority})),d=(0,s.Z)(a);try{for(d.s();!(t=d.n()).done;){var u=t.value;(0,m.zI)(r,u)}}catch(y){d.e(y)}finally{d.f()}var h,c=(0,s.Z)(l);try{for(c.s();!(h=c.n()).done;){var f=h.value;(0,m.al)(r,f)}}catch(y){c.e(y)}finally{c.f()}"number"===typeof e&&(0,m.al)(r,e);for(var v=0;0!==o&&v<r.length;v++){var p=this.viewItems[r[v]],g=(0,S.uZ)(p.size+o,p.minimumSize,p.maximumSize);o-=g-p.size,p.size=g}}},{key:"layoutViews",value:function(){this.contentSize=this.viewItems.reduce((function(e,t){return e+t.size}),0);var e,t=0,i=(0,s.Z)(this.viewItems);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.layout(t,this.layoutContext),t+=n.size}}catch(o){i.e(o)}finally{i.f()}this.sashItems.forEach((function(e){return e.sash.layout()})),this.updateSashEnablement(),this.updateScrollableElement()}},{key:"updateScrollableElement",value:function(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}},{key:"updateSashEnablement",value:function(){var e=!1,t=this.viewItems.map((function(t){return e=t.size-t.minimumSize>0||e}));e=!1;var i=this.viewItems.map((function(t){return e=t.maximumSize-t.size>0||e})),n=(0,r.Z)(this.viewItems).reverse();e=!1;var o=n.map((function(t){return e=t.size-t.minimumSize>0||e})).reverse();e=!1;for(var s=n.map((function(t){return e=t.maximumSize-t.size>0||e})).reverse(),l=0,a=0;a<this.sashItems.length;a++){var d=this.sashItems[a].sash;l+=this.viewItems[a].size;var u=!(t[a]&&s[a+1]),h=!(i[a]&&o[a+1]);if(u&&h){var c=(0,m.w6)(a,-1),f=(0,m.w6)(a+1,this.viewItems.length),v=this.findFirstSnapIndex(c),p=this.findFirstSnapIndex(f),g="number"===typeof v&&!this.viewItems[v].visible,y="number"===typeof p&&!this.viewItems[p].visible;g&&o[a]&&(l>0||this.startSnappingEnabled)?d.state=1:y&&t[a]&&(l<this.contentSize||this.endSnappingEnabled)?d.state=2:d.state=0}else d.state=u&&!h?1:!u&&h?2:3}}},{key:"getSashPosition",value:function(e){for(var t=0,i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}},{key:"findFirstSnapIndex",value:function(e){var t,i=(0,s.Z)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=this.viewItems[n];if(o.visible&&o.snap)return n}}catch(u){i.e(u)}finally{i.f()}var r,l=(0,s.Z)(e);try{for(l.s();!(r=l.n()).done;){var a=r.value,d=this.viewItems[a];if(d.visible&&d.maximumSize-d.minimumSize>0)return;if(!d.visible&&d.snap)return a}}catch(u){l.e(u)}finally{l.f()}}},{key:"dispose",value:function(){(0,l.Z)((0,a.Z)(i.prototype),"dispose",this).call(this),this.viewItems.forEach((function(e){return e.dispose()})),this.viewItems=[],this.sashItems.forEach((function(e){return e.disposable.dispose()})),this.sashItems=[]}}]),i}(b.JT)},86276:function(e,t,i){i.d(t,{i:function(){return p}});var n=i(29439),o=i(93433),r=i(37762),s=i(15671),l=i(43144),a=i(53210),d=i(34534),u=i(96622),h=i(28941),c=i(10526),f=function(){function e(t,i,n){(0,s.Z)(this,e),this.columns=t,this.getColumnSize=n,this.templateId=e.TemplateId,this.renderedTemplates=new Set;var o=new Map(i.map((function(e){return[e.templateId,e]})));this.renderers=[];var l,a=(0,r.Z)(t);try{for(a.s();!(l=a.n()).done;){var d=l.value,u=o.get(d.templateId);if(!u)throw new Error("Table cell renderer for template id ".concat(d.templateId," not found."));this.renderers.push(u)}}catch(h){a.e(h)}finally{a.f()}}return(0,l.Z)(e,[{key:"renderTemplate",value:function(e){for(var t=(0,a.append)(e,(0,a.$)(".monaco-table-tr")),i=[],n=[],o=0;o<this.columns.length;o++){var r=this.renderers[o],s=(0,a.append)(t,(0,a.$)(".monaco-table-td",{"data-col-index":o}));s.style.width="".concat(this.getColumnSize(o),"px"),i.push(s),n.push(r.renderTemplate(s))}var l={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(l),l}},{key:"renderElement",value:function(e,t,i,n){for(var o=0;o<this.columns.length;o++){var r=this.columns[o].project(e);this.renderers[o].renderElement(r,t,i.cellTemplateData[o],n)}}},{key:"disposeElement",value:function(e,t,i,n){for(var o=0;o<this.columns.length;o++){var r=this.renderers[o];if(r.disposeElement){var s=this.columns[o].project(e);r.disposeElement(s,t,i.cellTemplateData[o],n)}}}},{key:"disposeTemplate",value:function(e){for(var t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}(0,a.clearNode)(e.container),this.renderedTemplates.delete(e)}},{key:"layoutColumn",value:function(e,t){var i,n=(0,r.Z)(this.renderedTemplates);try{for(n.s();!(i=n.n()).done;){i.value.cellContainers[e].style.width="".concat(t,"px")}}catch(o){n.e(o)}finally{n.f()}}}]),e}();f.TemplateId="row";var v=function(){function e(t,i){(0,s.Z)(this,e),this.column=t,this.index=i,this._onDidLayout=new h.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,a.$)(".monaco-table-th",{"data-col-index":i,title:t.tooltip},t.label)}return(0,l.Z)(e,[{key:"minimumSize",get:function(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}},{key:"maximumSize",get:function(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}},{key:"onDidChange",get:function(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:h.ju.None}},{key:"layout",value:function(e){this._onDidLayout.fire([this.index,e])}}]),e}(),p=function(){function e(t,i,r,l,p,m){var g=this;(0,s.Z)(this,e),this.virtualDelegate=r,this.domId="table_id_".concat(++e.InstanceCount),this.disposables=new c.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,a.append)(i,(0,a.$)(".monaco-table.".concat(this.domId)));var y=l.map((function(e,t){return new v(e,t)})),b={size:y.reduce((function(e,t){return e+t.column.weight}),0),views:y.map((function(e){return{size:e.column.weight,view:e}}))};this.splitview=this.disposables.add(new u.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:function(){return g.cachedHeight},descriptor:b})),this.splitview.el.style.height="".concat(r.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(r.headerRowHeight,"px");var S,_=new f(l,p,(function(e){return g.splitview.getViewSize(e)}));this.list=this.disposables.add(new d.aV(t,this.domNode,(S=r,{getHeight:function(e){return S.getHeight(e)},getTemplateId:function(){return f.TemplateId}}),[_],m)),h.ju.any.apply(h.ju,(0,o.Z)(y.map((function(e){return e.onDidLayout}))))((function(e){var t=(0,n.Z)(e,2),i=t[0],o=t[1];return _.layoutColumn(i,o)}),null,this.disposables),this.splitview.onDidSashReset((function(e){var t=l.reduce((function(e,t){return e+t.weight}),0),i=l[e].weight/t*g.cachedWidth;g.splitview.resizeView(e,i)}),null,this.disposables),this.styleElement=(0,a.createStyleSheet)(this.domNode),this.style({})}return(0,l.Z)(e,[{key:"onDidChangeFocus",get:function(){return this.list.onDidChangeFocus}},{key:"onDidChangeSelection",get:function(){return this.list.onDidChangeSelection}},{key:"onMouseDblClick",get:function(){return this.list.onMouseDblClick}},{key:"onPointer",get:function(){return this.list.onPointer}},{key:"onDidFocus",get:function(){return this.list.onDidFocus}},{key:"onDidDispose",get:function(){return this.list.onDidDispose}},{key:"updateOptions",value:function(e){this.list.updateOptions(e)}},{key:"splice",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.list.splice(e,t,i)}},{key:"getHTMLElement",value:function(){return this.domNode}},{key:"style",value:function(e){var t=[];t.push(".monaco-table.".concat(this.domId," > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ").concat(this.virtualDelegate.headerRowHeight+1,"px;\n\t\t\theight: calc(100% - ").concat(this.virtualDelegate.headerRowHeight,"px);\n\t\t}")),this.styleElement.textContent=t.join("\n"),this.list.style(e)}},{key:"getSelectedElements",value:function(){return this.list.getSelectedElements()}},{key:"getSelection",value:function(){return this.list.getSelection()}},{key:"getFocus",value:function(){return this.list.getFocus()}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();p.InstanceCount=0},75770:function(e,t,i){i.d(t,{CH:function(){return $},cz:function(){return O}});var n=i(29439),o=i(11752),r=i(61120),s=i(37762),l=i(93433),a=i(43144),d=i(15671),u=i(60136),h=i(43668),c=i(92575),f=i(53210),v=i(70300),p=i(81882),m=i(51242),g=i(34534),y=i(91102),b=i(71232),S=i(71881),_=i(32590),w=i(7579),N=i(84286),k=i(28941),D=i(45842),C=i(10526),z=i(53391),E=i(4827),I=i(87697),P=function(e){(0,u.Z)(i,e);var t=(0,h.Z)(i);function i(e){var n;return(0,d.Z)(this,i),(n=t.call(this,e.elements.map((function(e){return e.element})))).data=e,n}return(0,a.Z)(i)}(m.kX);function T(e){return e instanceof m.kX?new P(e):e}var L=function(){function e(t,i){(0,d.Z)(this,e),this.modelProvider=t,this.dnd=i,this.autoExpandDisposable=C.JT.None}return(0,a.Z)(e,[{key:"getDragURI",value:function(e){return this.dnd.getDragURI(e.element)}},{key:"getDragLabel",value:function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)}},{key:"onDragStart",value:function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(T(e),t)}},{key:"onDragOver",value:function(e,t,i,n){var o=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.dnd.onDragOver(T(e),t&&t.element,i,n),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),"undefined"===typeof t)return s;if(l&&"boolean"!==typeof s&&s.autoExpand&&(this.autoExpandDisposable=(0,_.Vg)((function(){var e=o.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),o.autoExpandNode=void 0}),500)),"boolean"===typeof s||!s.accept||"undefined"===typeof s.bubble||s.feedback){if(!r){var a="boolean"===typeof s?s:s.accept,d="boolean"===typeof s?void 0:s.effect;return{accept:a,effect:d,feedback:[i]}}return s}if(1===s.bubble){var u=this.modelProvider(),h=u.getNodeLocation(t),c=u.getParentNodeLocation(h),f=u.getNode(c),v=c&&u.getListIndex(c);return this.onDragOver(e,f,v,n,!1)}var p=this.modelProvider(),m=p.getNodeLocation(t),g=p.getListIndex(m),y=p.getListRenderCount(m);return Object.assign(Object.assign({},s),{feedback:(0,S.w6)(g,g+y)})}},{key:"drop",value:function(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(T(e),t&&t.element,i,n)}},{key:"onDragEnd",value:function(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}]),e}();function Z(e,t){return t&&Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:function(e){return t.identityProvider.getId(e.element)}},dnd:t.dnd&&new L(e,t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return t.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent:function(e){return t.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:t.accessibilityProvider&&Object.assign(Object.assign({},t.accessibilityProvider),{getSetSize:function(t){var i=e(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet:function(e){return e.visibleChildIndex+1},isChecked:t.accessibilityProvider&&t.accessibilityProvider.isChecked?function(e){return t.accessibilityProvider.isChecked(e.element)}:void 0,getRole:t.accessibilityProvider&&t.accessibilityProvider.getRole?function(e){return t.accessibilityProvider.getRole(e.element)}:function(){return"treeitem"},getAriaLabel:function(e){return t.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel:function(){return t.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:t.accessibilityProvider&&t.accessibilityProvider.getWidgetRole?function(){return t.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:t.accessibilityProvider&&t.accessibilityProvider.getAriaLevel?function(e){return t.accessibilityProvider.getAriaLevel(e.element)}:function(e){return e.depth},getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&function(e){return t.accessibilityProvider.getActiveDescendantId(e.element)}}),keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),enableKeyboardNavigation:t.simpleKeyboardNavigation})}var x,O=function(){function e(t){(0,d.Z)(this,e),this.delegate=t}return(0,a.Z)(e,[{key:"getHeight",value:function(e){return this.delegate.getHeight(e.element)}},{key:"getTemplateId",value:function(e){return this.delegate.getTemplateId(e.element)}},{key:"hasDynamicHeight",value:function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}},{key:"setDynamicHeight",value:function(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}]),e}();!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(x||(x={}));var M=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,d.Z)(this,e),this._elements=n,this.onDidChange=k.ju.forEach(t,(function(e){return i._elements=e}))}return(0,a.Z)(e,[{key:"elements",get:function(){return this._elements}}]),e}(),R=function(){function e(t,i,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,d.Z)(this,e),this.renderer=t,this.modelProvider=i,this.activeNodes=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=e.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new N.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=C.JT.None,this.disposables=new C.SL,this.templateId=t.templateId,this.updateOptions(r),k.ju.map(n,(function(e){return e.node}))(this.onDidChangeNodeTwistieState,this,this.disposables),t.onDidChangeTwistieState&&t.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return(0,a.Z)(e,[{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof e.indent&&(this.indent=(0,z.uZ)(e.indent,0,40)),"undefined"!==typeof e.renderIndentGuides){var t=e.renderIndentGuides!==x.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){var i=new C.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}"undefined"!==typeof e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}},{key:"renderTemplate",value:function(e){var t=(0,f.append)(e,(0,f.$)(".monaco-tl-row")),i=(0,f.append)(t,(0,f.$)(".monaco-tl-indent")),n=(0,f.append)(t,(0,f.$)(".monaco-tl-twistie")),o=(0,f.append)(t,(0,f.$)(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:C.JT.None,templateData:r}}},{key:"renderElement",value:function(t,i,n,o){"number"===typeof o&&(this.renderedNodes.set(t,{templateData:n,height:o}),this.renderedElements.set(t.element,t));var r=e.DefaultIndent+(t.depth-1)*this.indent;n.twistie.style.paddingLeft="".concat(r,"px"),n.indent.style.width="".concat(r+this.indent-16,"px"),this.renderTwistie(t,n),"number"===typeof o&&this.renderIndentGuides(t,n),this.renderer.renderElement(t,i,n.templateData,o)}},{key:"disposeElement",value:function(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),"number"===typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"onDidChangeTwistieState",value:function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}},{key:"onDidChangeNodeTwistieState",value:function(e){var t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}},{key:"renderTwistie",value:function(e,t){var i;(i=t.twistie.classList).remove.apply(i,(0,l.Z)(w.lA.treeItemExpanded.classNamesArray));var n=!1;if(this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)){var o;if(!n)(o=t.twistie.classList).add.apply(o,(0,l.Z)(w.lA.treeItemExpanded.classNamesArray));t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)}else t.twistie.classList.remove("collapsible","collapsed");e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}},{key:"renderIndentGuides",value:function(e,t){var i=this;if((0,f.clearNode)(t.indent),t.indentGuidesDisposable.dispose(),this.shouldRenderIndentGuides){for(var n=new C.SL,o=this.modelProvider(),r=e,s=function(){var e=o.getNodeLocation(r),s=o.getParentNodeLocation(e);if(!s)return"break";var l=o.getNode(s),a=(0,f.$)(".indent-guide",{style:"width: ".concat(i.indent,"px")});i.activeIndentNodes.has(l)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),i.renderedIndentGuides.add(l,a),n.add((0,C.OF)((function(){return i.renderedIndentGuides.delete(l,a)}))),r=l};;){if("break"===s())break}t.indentGuidesDisposable=n}}},{key:"_onDidChangeActiveNodes",value:function(e){var t=this;if(this.shouldRenderIndentGuides){var i=new Set,n=this.modelProvider();e.forEach((function(e){var t=n.getNodeLocation(e);try{var o=n.getParentNodeLocation(t);e.collapsible&&e.children.length>0&&!e.collapsed?i.add(e):o&&i.add(n.getNode(o))}catch(r){}})),this.activeIndentNodes.forEach((function(e){i.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return e.classList.remove("active")}))})),i.forEach((function(e){t.activeIndentNodes.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return e.classList.add("active")}))})),this.activeIndentNodes=i}}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,C.B9)(this.disposables)}}]),e}();R.DefaultIndent=8;var A=function(){function e(t,i,n){(0,d.Z)(this,e),this.tree=t,this.keyboardNavigationLabelProvider=i,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new C.SL,t.onWillRefilter(this.reset,this,this.disposables)}return(0,a.Z)(e,[{key:"totalCount",get:function(){return this._totalCount}},{key:"matchCount",get:function(){return this._matchCount}},{key:"pattern",set:function(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}},{key:"filter",value:function(e,t){if(this._filter){var i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;if(0===("boolean"===typeof i?i?1:0:(0,y.gB)(i)?(0,y.aG)(i.visibility):i))return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:D.CL.Default,visibility:!0};var n,o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(o)?o:[o],l=(0,s.Z)(r);try{for(l.s();!(n=l.n()).done;){var a=n.value,d=a&&a.toString();if("undefined"===typeof d)return{data:D.CL.Default,visibility:!0};var u=(0,D.EW)(this._pattern,this._lowercasePattern,0,d,d.toLowerCase(),0,!0);if(u)return this._matchCount++,1===r.length?{data:u,visibility:!0}:{data:{label:d,score:u},visibility:!0}}}catch(h){l.e(h)}finally{l.f()}return this.tree.options.filterOnType?2:{data:D.CL.Default,visibility:!0}}},{key:"reset",value:function(){this._totalCount=0,this._matchCount=0}},{key:"dispose",value:function(){(0,C.B9)(this.disposables)}}]),e}(),F=function(){function e(t,i,n,o,r){var s=this;(0,d.Z)(this,e),this.tree=t,this.view=n,this.filter=o,this.keyboardNavigationDelegate=r,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new k.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new k.Q5,this.enabledDisposables=new C.SL,this.disposables=new C.SL,this.domNode=(0,f.$)(".monaco-list-type-filter.".concat(this.positionClassName)),this.domNode.draggable=!0,this.disposables.add((0,f.addDisposableListener)(this.domNode,"dragstart",(function(){return s.onDragStart()}))),this.messageDomNode=(0,f.append)(n.getHTMLElement(),(0,f.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,f.append)(this.domNode,(0,f.$)("span.label"));var l=(0,f.append)(this.domNode,(0,f.$)(".controls"));this._filterOnType=!!t.options.filterOnType,this.filterOnTypeDomNode=(0,f.append)(l,(0,f.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,f.addDisposableListener)(this.filterOnTypeDomNode,"input",(function(){return s.onDidChangeFilterOnType()}))),this.clearDomNode=(0,f.append)(l,(0,f.$)("button.clear"+w.lA.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,I.N)("clear","Clear"),this.keyboardNavigationEventFilter=t.options.keyboardNavigationEventFilter,i.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(t.options)}return(0,a.Z)(e,[{key:"enabled",get:function(){return this._enabled}},{key:"pattern",get:function(){return this._pattern}},{key:"filterOnType",get:function(){return this._filterOnType}},{key:"updateOptions",value:function(e){e.simpleKeyboardNavigation?this.disable():this.enable(),"undefined"!==typeof e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),"undefined"!==typeof e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}},{key:"enable",value:function(){var e=this;if(!this._enabled){var t=this.enabledDisposables.add(new v.Y(this.view.getHTMLElement(),"keydown")),i=k.ju.chain(t.event).filter((function(t){return!(0,g.cK)(t.target)||t.target===e.filterOnTypeDomNode})).filter((function(e){return"Dead"!==e.key&&!/^Media/.test(e.key)})).map((function(e){return new p.y(e)})).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter((function(){return e.automaticKeyboardNavigation||e.triggered})).filter((function(t){return e.keyboardNavigationDelegate.mightProducePrintableCharacter(t)&&!(18===t.keyCode||16===t.keyCode||15===t.keyCode||17===t.keyCode)||(e.pattern.length>0||e.triggered)&&(9===t.keyCode||1===t.keyCode)&&!t.altKey&&!t.ctrlKey&&!t.metaKey||1===t.keyCode&&(E.dz?t.altKey&&!t.metaKey:t.ctrlKey)&&!t.shiftKey})).forEach((function(e){e.stopPropagation(),e.preventDefault()})).event,n=this.enabledDisposables.add(new v.Y(this.clearDomNode,"click"));k.ju.chain(k.ju.any(i,n.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}}},{key:"disable",value:function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}},{key:"onEventOrInput",value:function(e){"string"===typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(E.dz?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}},{key:"onInput",value:function(e){var t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(function(e){return!D.CL.isDefault(e.filterData)}));var i=this.tree.getFocus();if(i.length>0){var n=i[0];null===this.tree.getRelativeTop(n)&&this.tree.reveal(n,.5)}this.render(),e||(this.triggered=!1)}},{key:"onDragStart",value:function(){var e=this,t=this.view.getHTMLElement(),i=(0,f.getDomNodePagePosition)(t).left,n=t.clientWidth,o=n/2,r=this.domNode.clientWidth,s=new C.SL,l=this.positionClassName,a=function(){switch(l){case"nw":e.domNode.style.top="4px",e.domNode.style.left="4px";break;case"ne":e.domNode.style.top="4px",e.domNode.style.left="".concat(n-r-6,"px")}};a(),this.domNode.classList.remove(l),this.domNode.classList.add("dragging"),s.add((0,C.OF)((function(){return e.domNode.classList.remove("dragging")}))),s.add((0,f.addDisposableListener)(document,"dragover",(function(e){return function(e){e.preventDefault();var t=e.clientX-i;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),l=t<o?"nw":"ne",a()}(e)}))),s.add((0,f.addDisposableListener)(this.domNode,"dragend",(function(){return e.positionClassName=l,e.domNode.className="monaco-list-type-filter ".concat(e.positionClassName),e.domNode.style.top="",e.domNode.style.left="",void(0,C.B9)(s)}))),c.P$.CurrentDragAndDropData=new c.TN("vscode-ui"),s.add((0,C.OF)((function(){return c.P$.CurrentDragAndDropData=void 0})))}},{key:"onDidSpliceModel",value:function(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}},{key:"onDidChangeFilterOnType",value:function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}},{key:"updateFilterOnTypeTitleAndIcon",value:function(){var e,t,i,n;this.filterOnType?((e=this.filterOnTypeDomNode.classList).remove.apply(e,(0,l.Z)(w.lA.treeFilterOnTypeOff.classNamesArray)),(t=this.filterOnTypeDomNode.classList).add.apply(t,(0,l.Z)(w.lA.treeFilterOnTypeOn.classNamesArray)),this.filterOnTypeDomNode.title=(0,I.N)("disable filter on type","Disable Filter on Type")):((i=this.filterOnTypeDomNode.classList).remove.apply(i,(0,l.Z)(w.lA.treeFilterOnTypeOn.classNamesArray)),(n=this.filterOnTypeDomNode.classList).add.apply(n,(0,l.Z)(w.lA.treeFilterOnTypeOff.classNamesArray)),this.filterOnTypeDomNode.title=(0,I.N)("enable filter on type","Enable Filter on Type"))}},{key:"render",value:function(){var e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=(0,I.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=(0,I.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}},{key:"shouldAllowFocus",value:function(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!D.CL.isDefault(e.filterData))}},{key:"dispose",value:function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,C.B9)(this.disposables)}}]),e}();function H(e){var t=b.sD.Unknown;return(0,f.hasParentWithClass)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=b.sD.Twistie:(0,f.hasParentWithClass)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=b.sD.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function B(e,t){t(e),e.children.forEach((function(e){return B(e,t)}))}var V=function(){function e(t,i){(0,d.Z)(this,e),this.getFirstViewElementWithTrait=t,this.identityProvider=i,this.nodes=[],this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event}return(0,a.Z)(e,[{key:"nodeSet",get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}},{key:"set",value:function(e,t){!(null===t||void 0===t?void 0:t.__forceEvent)&&(0,S.fS)(this.nodes,e)||this._set(e,!1,t)}},{key:"_set",value:function(e,t,i){if(this.nodes=(0,l.Z)(e),this.elements=void 0,this._nodeSet=void 0,!t){var n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}},{key:"get",value:function(){return this.elements||(this.elements=this.nodes.map((function(e){return e.element}))),(0,l.Z)(this.elements)}},{key:"getNodes",value:function(){return this.nodes}},{key:"has",value:function(e){return this.nodeSet.has(e)}},{key:"onDidModelSplice",value:function(e){var t=this,i=e.insertedNodes,n=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),r=function(e){return o.delete(e)};return n.forEach((function(e){return B(e,r)})),void this.set((0,l.Z)(o.values()))}var a=new Set,d=function(e){return a.add(t.identityProvider.getId(e.element).toString())};n.forEach((function(e){return B(e,d)}));var u=new Map,h=function(e){return u.set(t.identityProvider.getId(e.element).toString(),e)};i.forEach((function(e){return B(e,h)}));var c,f=[],v=(0,s.Z)(this.nodes);try{for(v.s();!(c=v.n()).done;){var p=c.value,m=this.identityProvider.getId(p.element).toString();if(a.has(m)){var g=u.get(m);g&&f.push(g)}else f.push(p)}}catch(b){v.e(b)}finally{v.f()}if(this.nodes.length>0&&0===f.length){var y=this.getFirstViewElementWithTrait();y&&f.push(y)}this._set(f,!0)}},{key:"createNodeSet",value:function(){var e,t=new Set,i=(0,s.Z)(this.nodes);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.add(n)}}catch(o){i.e(o)}finally{i.f()}return t}}]),e}(),W=function(e){(0,u.Z)(i,e);var t=(0,h.Z)(i);function i(e,n){var o;return(0,d.Z)(this,i),(o=t.call(this,e)).tree=n,o}return(0,a.Z)(i,[{key:"onViewPointer",value:function(e){if(!(0,g.cK)(e.browserEvent.target)&&!(0,g.hD)(e.browserEvent.target)){var t=e.element;if(!t)return(0,o.Z)((0,r.Z)(i.prototype),"onViewPointer",this).call(this,e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return(0,o.Z)((0,r.Z)(i.prototype),"onViewPointer",this).call(this,e);var n=e.browserEvent.target,s=n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,l=!1;if((l="function"===typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick)&&!s&&2!==e.browserEvent.detail)return(0,o.Z)((0,r.Z)(i.prototype),"onViewPointer",this).call(this,e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return(0,o.Z)((0,r.Z)(i.prototype),"onViewPointer",this).call(this,e);if(t.collapsible){var a=this.tree.model,d=a.getNodeLocation(t),u=e.browserEvent.altKey;if(this.tree.setFocus([d]),a.setCollapsed(d,void 0,u),l&&s)return}(0,o.Z)((0,r.Z)(i.prototype),"onViewPointer",this).call(this,e)}}},{key:"onDoubleClick",value:function(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(0,o.Z)((0,r.Z)(i.prototype),"onDoubleClick",this).call(this,e)}}]),i}(g.sx),j=function(e){(0,u.Z)(i,e);var t=(0,h.Z)(i);function i(e,n,o,r,s,l,a,u){var h;return(0,d.Z)(this,i),(h=t.call(this,e,n,o,r,u)).focusTrait=s,h.selectionTrait=l,h.anchorTrait=a,h}return(0,a.Z)(i,[{key:"createMouseController",value:function(e){return new W(this,e.tree)}},{key:"splice",value:function(e,t){var n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if((0,o.Z)((0,r.Z)(i.prototype),"splice",this).call(this,e,t,s),0!==s.length){var a,d=[],u=[];s.forEach((function(t,i){n.focusTrait.has(t)&&d.push(e+i),n.selectionTrait.has(t)&&u.push(e+i),n.anchorTrait.has(t)&&(a=e+i)})),d.length>0&&(0,o.Z)((0,r.Z)(i.prototype),"setFocus",this).call(this,(0,S.EB)([].concat((0,l.Z)((0,o.Z)((0,r.Z)(i.prototype),"getFocus",this).call(this)),d))),u.length>0&&(0,o.Z)((0,r.Z)(i.prototype),"setSelection",this).call(this,(0,S.EB)([].concat((0,l.Z)((0,o.Z)((0,r.Z)(i.prototype),"getSelection",this).call(this)),u))),"number"===typeof a&&(0,o.Z)((0,r.Z)(i.prototype),"setAnchor",this).call(this,a)}}},{key:"setFocus",value:function(e,t){var n=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.Z)((0,r.Z)(i.prototype),"setFocus",this).call(this,e,t),s||this.focusTrait.set(e.map((function(e){return n.element(e)})),t)}},{key:"setSelection",value:function(e,t){var n=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.Z)((0,r.Z)(i.prototype),"setSelection",this).call(this,e,t),s||this.selectionTrait.set(e.map((function(e){return n.element(e)})),t)}},{key:"setAnchor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.Z)((0,r.Z)(i.prototype),"setAnchor",this).call(this,e),t||("undefined"===typeof e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}]),i}(g.aV),$=function(){function e(t,i,n,o){var r=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,d.Z)(this,e),this._user=t,this._options=a,this.eventBufferer=new k.E7,this.disposables=new C.SL,this._onWillRefilter=new k.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new k.Q5;var u=new O(n),h=new k.ZD,c=new k.ZD,v=new M(c.event);this.renderers=o.map((function(e){return new R(e,(function(){return r.model}),h.event,v,a)}));var m,y,b=(0,s.Z)(this.renderers);try{for(b.s();!(m=b.n()).done;){var S=m.value;this.disposables.add(S)}}catch(D){b.e(D)}finally{b.f()}a.keyboardNavigationLabelProvider&&(y=new A(this,a.keyboardNavigationLabelProvider,a.filter),a=Object.assign(Object.assign({},a),{filter:y}),this.disposables.add(y)),this.focus=new V((function(){return r.view.getFocusedElements()[0]}),a.identityProvider),this.selection=new V((function(){return r.view.getSelectedElements()[0]}),a.identityProvider),this.anchor=new V((function(){return r.view.getAnchorElement()}),a.identityProvider),this.view=new j(t,i,u,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Z((function(){return r.model}),a)),{tree:this})),this.model=this.createModel(t,this.view,a),h.input=this.model.onDidChangeCollapseState;var _=k.ju.forEach(this.model.onDidSplice,(function(e){r.eventBufferer.bufferEvents((function(){r.focus.onDidModelSplice(e),r.selection.onDidModelSplice(e)}))}));if(_((function(){return null}),null,this.disposables),c.input=k.ju.chain(k.ju.any(_,this.focus.onDidChange,this.selection.onDidChange)).debounce((function(){return null}),0).map((function(){var e,t=new Set,i=(0,s.Z)(r.focus.getNodes());try{for(i.s();!(e=i.n()).done;){var n=e.value;t.add(n)}}catch(D){i.e(D)}finally{i.f()}var o,a=(0,s.Z)(r.selection.getNodes());try{for(a.s();!(o=a.n()).done;){var d=o.value;t.add(d)}}catch(D){a.e(D)}finally{a.f()}return(0,l.Z)(t.values())})).event,!1!==a.keyboardSupport){var w=k.ju.chain(this.view.onKeyDown).filter((function(e){return!(0,g.cK)(e.target)})).map((function(e){return new p.y(e)}));w.filter((function(e){return 15===e.keyCode})).on(this.onLeftArrow,this,this.disposables),w.filter((function(e){return 17===e.keyCode})).on(this.onRightArrow,this,this.disposables),w.filter((function(e){return 10===e.keyCode})).on(this.onSpace,this,this.disposables)}if(a.keyboardNavigationLabelProvider){var N=a.keyboardNavigationDelegate||g.WK;this.typeFilterController=new F(this,this.model,this.view,y,N),this.focusNavigationFilter=function(e){return r.typeFilterController.shouldAllowFocus(e)},this.disposables.add(this.typeFilterController)}this.styleElement=(0,f.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===x.Always)}return(0,a.Z)(e,[{key:"onDidChangeFocus",get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}},{key:"onDidChangeSelection",get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}},{key:"onMouseDblClick",get:function(){return k.ju.map(this.view.onMouseDblClick,H)}},{key:"onPointer",get:function(){return k.ju.map(this.view.onPointer,H)}},{key:"onDidFocus",get:function(){return this.view.onDidFocus}},{key:"onDidChangeModel",get:function(){return k.ju.signal(this.model.onDidSplice)}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"expandOnDoubleClick",get:function(){return"undefined"===typeof this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}},{key:"expandOnlyOnTwistieClick",get:function(){return"undefined"===typeof this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}},{key:"onDidDispose",get:function(){return this.view.onDidDispose}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=Object.assign(Object.assign({},this._options),e);var t,i=(0,s.Z)(this.renderers);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.updateOptions(e)}}catch(o){i.e(o)}finally{i.f()}this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===x.Always)}},{key:"options",get:function(){return this._options}},{key:"getHTMLElement",value:function(){return this.view.getHTMLElement()}},{key:"scrollTop",get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e}},{key:"domFocus",value:function(){this.view.domFocus()}},{key:"layout",value:function(e,t){this.view.layout(e,t)}},{key:"style",value:function(e){var t=".".concat(this.view.domId),i=[];e.treeIndentGuidesStroke&&(i.push(".monaco-list".concat(t,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(t,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(e.treeIndentGuidesStroke.transparent(.4),"; }")),i.push(".monaco-list".concat(t," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(e.treeIndentGuidesStroke,"; }"))),this.styleElement.textContent=i.join("\n"),this.view.style(e)}},{key:"getParentElement",value:function(e){var t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}},{key:"getFirstElementChild",value:function(e){return this.model.getFirstElementChild(e)}},{key:"getNode",value:function(e){return this.model.getNode(e)}},{key:"collapse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!0,t)}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!1,t)}},{key:"isCollapsible",value:function(e){return this.model.isCollapsible(e)}},{key:"setCollapsible",value:function(e,t){return this.model.setCollapsible(e,t)}},{key:"isCollapsed",value:function(e){return this.model.isCollapsed(e)}},{key:"refilter",value:function(){this._onWillRefilter.fire(void 0),this.model.refilter()}},{key:"setSelection",value:function(e,t){var i=this,n=e.map((function(e){return i.model.getNode(e)}));this.selection.set(n,t);var o=e.map((function(e){return i.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setSelection(o,t,!0)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"setFocus",value:function(e,t){var i=this,n=e.map((function(e){return i.model.getNode(e)}));this.focus.set(n,t);var o=e.map((function(e){return i.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setFocus(o,t,!0)}},{key:"focusNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.focusNavigationFilter;this.view.focusNext(e,t,i,n)}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"reveal",value:function(e,t){this.model.expandTo(e);var i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}},{key:"getRelativeTop",value:function(e){var t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}},{key:"onLeftArrow",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){var o=this.model.getParentNodeLocation(n);if(!o)return;var r=this.model.getListIndex(o);this.view.reveal(r),this.view.setFocus([r])}}}},{key:"onRightArrow",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!1)){if(!i.children.some((function(e){return e.visible})))return;var r=this.view.getFocus(),s=(0,n.Z)(r,1)[0]+1;this.view.reveal(s),this.view.setFocus([s])}}}},{key:"onSpace",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}}},{key:"dispose",value:function(){(0,C.B9)(this.disposables),this.view.dispose()}}]),e}()},23176:function(e,t,i){i.d(t,{c:function(){return R},h:function(){return H}});var n=i(11752),o=i(61120),r=i(37762),s=i(60136),l=i(43668),a=i(93433),d=i(15671),u=i(43144),h=i(87757),c=i.n(h),f=i(51242),v=i(75770),p=i(91102),m=i(13940),g=i(71232),y=i(32590),b=i(7579),S=i(68552),_=i(28941),w=i(25138),N=i(10526),k=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{a(n.next(e))}catch(t){r(t)}}function l(e){try{a(n.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}a((n=n.apply(e,t||[])).next())}))};function D(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function C(e,t){return!!t.parent&&(t.parent===e||C(e,t.parent))}function z(e,t){return e===t||C(e,t)||C(t,e)}var E=function(){function e(t){(0,d.Z)(this,e),this.node=t}return(0,u.Z)(e,[{key:"element",get:function(){return this.node.element.element}},{key:"children",get:function(){return this.node.children.map((function(t){return new e(t)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}(),I=function(){function e(t,i,n){(0,d.Z)(this,e),this.renderer=t,this.nodeMapper=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=t.templateId}return(0,u.Z)(e,[{key:"renderTemplate",value:function(e){return{templateData:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"renderTwistie",value:function(e,t){var i,n;return e.slow?((i=t.classList).add.apply(i,(0,a.Z)(b.lA.treeItemLoading.classNamesArray)),!0):((n=t.classList).remove.apply(n,(0,a.Z)(b.lA.treeItemLoading.classNamesArray)),!1)}},{key:"disposeElement",value:function(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear()}}]),e}();function P(e){return{browserEvent:e.browserEvent,elements:e.elements.map((function(e){return e.element}))}}function T(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}var L=function(e){(0,s.Z)(i,e);var t=(0,l.Z)(i);function i(e){var n;return(0,d.Z)(this,i),(n=t.call(this,e.elements.map((function(e){return e.element})))).data=e,n}return(0,u.Z)(i)}(f.kX);function Z(e){return e instanceof f.kX?new L(e):e}var x=function(){function e(t){(0,d.Z)(this,e),this.dnd=t}return(0,u.Z)(e,[{key:"getDragURI",value:function(e){return this.dnd.getDragURI(e.element)}},{key:"getDragLabel",value:function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)}},{key:"onDragStart",value:function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(Z(e),t)}},{key:"onDragOver",value:function(e,t,i,n){return this.dnd.onDragOver(Z(e),t&&t.element,i,n)}},{key:"drop",value:function(e,t,i,n){this.dnd.drop(Z(e),t&&t.element,i,n)}},{key:"onDragEnd",value:function(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}]),e}();function O(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new x(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?function(t){return e.accessibilityProvider.getRole(t.element)}:function(){return"treeitem"},isChecked:e.accessibilityProvider.isChecked?function(t){var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel:function(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider.getWidgetRole?function(){return e.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:e.accessibilityProvider.getAriaLevel&&function(t){return e.accessibilityProvider.getAriaLevel(t.element)},getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&function(t){return e.accessibilityProvider.getActiveDescendantId(t.element)}}),filter:e.filter&&{filter:function(t,i){return e.filter.filter(t.element,i)}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),sorter:void 0,expandOnlyOnTwistieClick:"undefined"===typeof e.expandOnlyOnTwistieClick?void 0:"function"!==typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:function(t){return e.expandOnlyOnTwistieClick(t.element)},additionalScrollHeight:e.additionalScrollHeight})}function M(e,t){t(e),e.children.forEach((function(e){return M(e,t)}))}var R=function(){function e(t,i,n,o,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};(0,d.Z)(this,e),this.user=t,this.dataSource=r,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new _.Q5,this._onDidChangeNodeSlowState=new _.Q5,this.nodeMapper=new g.VA((function(e){return new E(e)})),this.disposables=new N.SL,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren="undefined"!==typeof s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(t,i,n,o,s),this.root=D({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return(0,u.Z)(e,[{key:"onDidChangeFocus",get:function(){return _.ju.map(this.tree.onDidChangeFocus,P)}},{key:"onDidChangeSelection",get:function(){return _.ju.map(this.tree.onDidChangeSelection,P)}},{key:"onMouseDblClick",get:function(){return _.ju.map(this.tree.onMouseDblClick,T)}},{key:"onPointer",get:function(){return _.ju.map(this.tree.onPointer,T)}},{key:"onDidFocus",get:function(){return this.tree.onDidFocus}},{key:"onDidChangeModel",get:function(){return this.tree.onDidChangeModel}},{key:"onDidChangeCollapseState",get:function(){return this.tree.onDidChangeCollapseState}},{key:"onDidDispose",get:function(){return this.tree.onDidDispose}},{key:"createTree",value:function(e,t,i,n,o){var r=this,s=new v.cz(i),l=n.map((function(e){return new I(e,r.nodeMapper,r._onDidChangeNodeSlowState.event)})),a=O(o)||{};return new m.H(e,t,s,l,a)}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}},{key:"getHTMLElement",value:function(){return this.tree.getHTMLElement()}},{key:"scrollTop",get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e}},{key:"domFocus",value:function(){this.tree.domFocus()}},{key:"layout",value:function(e,t){this.tree.layout(e,t)}},{key:"style",value:function(e){this.tree.style(e)}},{key:"getInput",value:function(){return this.root.element}},{key:"setInput",value:function(e,t){return k(this,void 0,void 0,c().mark((function i(){var n;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.refreshPromises.forEach((function(e){return e.cancel()})),this.refreshPromises.clear(),this.root.element=e,n=t&&{viewState:t,focus:[],selection:[]},i.next=6,this._updateChildren(e,!0,!1,n);case 6:n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&"number"===typeof t.scrollTop&&(this.scrollTop=t.scrollTop);case 8:case"end":return i.stop()}}),i,this)})))}},{key:"_updateChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return k(this,void 0,void 0,c().mark((function r(){var s;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"!==typeof this.root.element){r.next=2;break}throw new g.ac(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){r.next=7;break}return r.next=5,this.root.refreshPromise;case 5:return r.next=7,_.ju.toPromise(this._onDidRender.event);case 7:return s=this.getDataNode(e),r.next=10,this.refreshAndRenderNode(s,t,n,o);case 10:if(i)try{this.tree.rerender(s)}catch(l){}case 11:case"end":return r.stop()}}),r,this)})))}},{key:"rerender",value:function(e){if(void 0!==e&&e!==this.root.element){var t=this.getDataNode(e);this.tree.rerender(t)}else this.tree.rerender()}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}},{key:"collapse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return k(this,void 0,void 0,c().mark((function i(){var n,o;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("undefined"!==typeof this.root.element){i.next=2;break}throw new g.ac(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){i.next=7;break}return i.next=5,this.root.refreshPromise;case 5:return i.next=7,_.ju.toPromise(this._onDidRender.event);case 7:if(n=this.getDataNode(e),!this.tree.hasElement(n)||this.tree.isCollapsible(n)){i.next=10;break}return i.abrupt("return",!1);case 10:if(!n.refreshPromise){i.next=15;break}return i.next=13,this.root.refreshPromise;case 13:return i.next=15,_.ju.toPromise(this._onDidRender.event);case 15:if(n===this.root||n.refreshPromise||this.tree.isCollapsed(n)){i.next=17;break}return i.abrupt("return",!1);case 17:if(o=this.tree.expand(n===this.root?null:n,t),!n.refreshPromise){i.next=23;break}return i.next=21,this.root.refreshPromise;case 21:return i.next=23,_.ju.toPromise(this._onDidRender.event);case 23:return i.abrupt("return",o);case 24:case"end":return i.stop()}}),i,this)})))}},{key:"setSelection",value:function(e,t){var i=this,n=e.map((function(e){return i.getDataNode(e)}));this.tree.setSelection(n,t)}},{key:"getSelection",value:function(){return this.tree.getSelection().map((function(e){return e.element}))}},{key:"setFocus",value:function(e,t){var i=this,n=e.map((function(e){return i.getDataNode(e)}));this.tree.setFocus(n,t)}},{key:"getFocus",value:function(){return this.tree.getFocus().map((function(e){return e.element}))}},{key:"reveal",value:function(e,t){this.tree.reveal(this.getDataNode(e),t)}},{key:"getParentElement",value:function(e){var t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}},{key:"getFirstElementChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}},{key:"getDataNode",value:function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new g.ac(this.user,"Data tree node not found: ".concat(e));return t}},{key:"refreshAndRenderNode",value:function(e,t,i,n){return k(this,void 0,void 0,c().mark((function o(){return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.refreshNode(e,t,i);case 2:this.render(e,i,n);case 3:case"end":return o.stop()}}),o,this)})))}},{key:"refreshNode",value:function(e,t,i){return k(this,void 0,void 0,c().mark((function n(){var o,r=this;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.subTreeRefreshPromises.forEach((function(n,s){!o&&z(s,e)&&(o=n.then((function(){return r.refreshNode(e,t,i)})))})),!o){n.next=3;break}return n.abrupt("return",o);case 3:return n.abrupt("return",this.doRefreshSubTree(e,t,i));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"doRefreshSubTree",value:function(e,t,i){return k(this,void 0,void 0,c().mark((function n(){var o,r,s=this;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.refreshPromise=new Promise((function(e){return o=e})),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((function(){e.refreshPromise=void 0,s.subTreeRefreshPromises.delete(e)})),n.prev=3,n.next=6,this.doRefreshNode(e,t,i);case 6:return r=n.sent,e.stale=!1,n.next=10,y.jT.settled(r.map((function(e){return s.doRefreshSubTree(e,t,i)})));case 10:return n.prev=10,o(),n.finish(10);case 13:case"end":return n.stop()}}),n,this,[[3,,10,13]])})))}},{key:"doRefreshNode",value:function(e,t,i){return k(this,void 0,void 0,c().mark((function n(){var o,r,s,l=this;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?((r=(0,y.Vs)(800)).then((function(){e.slow=!0,l._onDidChangeNodeSlowState.fire(e)}),(function(e){return null})),o=this.doGetChildren(e).finally((function(){return r.cancel()}))):o=Promise.resolve(w.$.empty()),n.prev=2,n.next=5,o;case 5:return s=n.sent,n.abrupt("return",this.setChildren(e,s,t,i));case 9:if(n.prev=9,n.t0=n.catch(2),e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),!(0,S.n2)(n.t0)){n.next=14;break}return n.abrupt("return",[]);case 14:throw n.t0;case 15:return n.prev=15,e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),n.finish(15);case 18:case"end":return n.stop()}}),n,this,[[2,9,15,18]])})))}},{key:"doGetChildren",value:function(e){var t=this,i=this.refreshPromises.get(e);return i||(i=(0,y.PG)((function(){return k(t,void 0,void 0,c().mark((function t(){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dataSource.getChildren(e.element);case 2:return i=t.sent,t.abrupt("return",this.processChildren(i));case 4:case"end":return t.stop()}}),t,this)})))})),this.refreshPromises.set(e,i),i.finally((function(){t.refreshPromises.delete(e)})))}},{key:"_onDidChangeCollapseState",value:function(e){var t=e.node,i=e.deep;null!==t.element&&!t.collapsed&&t.element.stale&&(i?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(S.dL))}},{key:"setChildren",value:function(e,t,i,n){var o,s=this,l=(0,a.Z)(t);if(0===e.children.length&&0===l.length)return[];var d,u=new Map,h=new Map,c=(0,r.Z)(e.children);try{for(c.s();!(d=c.n()).done;){var f=d.value;if(u.set(f.element,f),this.identityProvider){var v=this.tree.isCollapsed(f);h.set(f.id,{node:f,collapsed:v})}}}catch(w){c.e(w)}finally{c.f()}var p,m=[],g=l.map((function(t){var o=!!s.dataSource.hasChildren(t);if(!s.identityProvider){var r=D({element:t,parent:e,hasChildren:o});return o&&s.collapseByDefault&&!s.collapseByDefault(t)&&(r.collapsedByDefault=!1,m.push(r)),r}var l=s.identityProvider.getId(t).toString(),a=h.get(l);if(a){var d=a.node;return u.delete(d.element),s.nodes.delete(d.element),s.nodes.set(t,d),d.element=t,d.hasChildren=o,i?a.collapsed?(d.children.forEach((function(e){return M(e,(function(e){return s.nodes.delete(e.element)}))})),d.children.splice(0,d.children.length),d.stale=!0):m.push(d):o&&s.collapseByDefault&&!s.collapseByDefault(t)&&(d.collapsedByDefault=!1,m.push(d)),d}var c=D({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(c),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(c),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?m.push(c):o&&s.collapseByDefault&&!s.collapseByDefault(t)&&(c.collapsedByDefault=!1,m.push(c)),c})),y=(0,r.Z)(u.values());try{for(y.s();!(p=y.n()).done;){M(p.value,(function(e){return s.nodes.delete(e.element)}))}}catch(w){y.e(w)}finally{y.f()}var b,S=(0,r.Z)(g);try{for(S.s();!(b=S.n()).done;){var _=b.value;this.nodes.set(_.element,_)}}catch(w){S.e(w)}finally{S.f()}return(o=e.children).splice.apply(o,[0,e.children.length].concat((0,a.Z)(g))),e!==this.root&&this.autoExpandSingleChildren&&1===g.length&&0===m.length&&(g[0].collapsedByDefault=!1,m.push(g[0])),m}},{key:"render",value:function(e,t,i){var n=this,o=e.children.map((function(e){return n.asTreeElement(e,t)})),r=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:function(e){return i.diffIdentityProvider.getId(e.element)}}});this.tree.setChildren(e===this.root?null:e,o,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}},{key:"asTreeElement",value:function(e,t){var i,n=this;return e.stale?{element:e,collapsible:e.hasChildren,collapsed:!0}:(i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?w.$.map(e.children,(function(e){return n.asTreeElement(e,t)})):[],collapsible:e.hasChildren,collapsed:i})}},{key:"processChildren",value:function(e){return this.sorter&&(e=(0,a.Z)(e).sort(this.sorter.compare.bind(this.sorter))),e}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}(),A=function(){function e(t){(0,d.Z)(this,e),this.node=t}return(0,u.Z)(e,[{key:"element",get:function(){return{elements:this.node.element.elements.map((function(e){return e.element})),incompressible:this.node.element.incompressible}}},{key:"children",get:function(){return this.node.children.map((function(t){return new e(t)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}(),F=function(){function e(t,i,n,o){(0,d.Z)(this,e),this.renderer=t,this.nodeMapper=i,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=o,this.renderedNodes=new Map,this.disposables=[],this.templateId=t.templateId}return(0,u.Z)(e,[{key:"renderTemplate",value:function(e){return{templateData:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"renderCompressedElements",value:function(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}},{key:"renderTwistie",value:function(e,t){var i,n;return e.slow?((i=t.classList).add.apply(i,(0,a.Z)(b.lA.treeItemLoading.classNamesArray)),!0):((n=t.classList).remove.apply(n,(0,a.Z)(b.lA.treeItemLoading.classNamesArray)),!1)}},{key:"disposeElement",value:function(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"disposeCompressedElements",value:function(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.disposables=(0,N.B9)(this.disposables)}}]),e}();var H=function(e){(0,s.Z)(i,e);var t=(0,l.Z)(i);function i(e,n,o,r,s,l){var a,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return(0,d.Z)(this,i),(a=t.call(this,e,n,o,s,l,u)).compressionDelegate=r,a.compressibleNodeMapper=new g.VA((function(e){return new A(e)})),a.filter=u.filter,a}return(0,u.Z)(i,[{key:"createTree",value:function(e,t,i,n,o){var r=this,s=new v.cz(i),l=n.map((function(e){return new F(e,r.nodeMapper,(function(){return r.compressibleNodeMapper}),r._onDidChangeNodeSlowState.event)})),a=function(e){var t=e&&O(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((function(e){return e.element})))}})})}(o)||{};return new m.h(e,t,s,l,a)}},{key:"asTreeElement",value:function(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},(0,n.Z)((0,o.Z)(i.prototype),"asTreeElement",this).call(this,e,t))}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}},{key:"render",value:function(e,t){var s=this;if(!this.identityProvider)return(0,n.Z)((0,o.Z)(i.prototype),"render",this).call(this,e,t);var l=function(e){return s.identityProvider.getId(e).toString()},a=function(e){var t,i=new Set,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=s.tree.getCompressedTreeNode(o===s.root?null:o);if(a.element){var d,u=(0,r.Z)(a.element.elements);try{for(u.s();!(d=u.n()).done;){var h=d.value;i.add(l(h.element))}}catch(c){u.e(c)}finally{u.f()}}}}catch(c){n.e(c)}finally{n.f()}return i},d=a(this.tree.getSelection()),u=a(this.tree.getFocus());(0,n.Z)((0,o.Z)(i.prototype),"render",this).call(this,e,t);var h=this.getSelection(),c=!1,f=this.getFocus(),v=!1;!function e(t){var i=t.element;if(i)for(var n=0;n<i.elements.length;n++){var o=l(i.elements[n].element),r=i.elements[i.elements.length-1].element;d.has(o)&&-1===h.indexOf(r)&&(h.push(r),c=!0),u.has(o)&&-1===f.indexOf(r)&&(f.push(r),v=!0)}t.children.forEach(e)}(this.tree.getCompressedTreeNode(e===this.root?null:e)),c&&this.setSelection(h),v&&this.setFocus(f)}},{key:"processChildren",value:function(e){var t=this;return this.filter&&(e=w.$.filter(e,(function(e){var i,n=t.filter.filter(e,1),o="boolean"===typeof(i=n)?i?1:0:(0,p.gB)(i)?(0,p.aG)(i.visibility):(0,p.aG)(i);if(2===o)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===o}))),(0,n.Z)((0,o.Z)(i.prototype),"processChildren",this).call(this,e)}}]),i}(R)},69316:function(e,t,i){i.d(t,{u:function(){return d}});var n=i(15671),o=i(43144),r=i(60136),s=i(43668),l=i(75770),a=i(58679),d=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,o,r,s,l){var a,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return(0,n.Z)(this,i),(a=t.call(this,e,o,r,s,d)).user=e,a.dataSource=l,a.identityProvider=d.identityProvider,a}return(0,o.Z)(i,[{key:"createModel",value:function(e,t,i){return new a.F(e,t,i)}}]),i}(l.CH)},91102:function(e,t,i){i.d(t,{X:function(){return g},aG:function(){return p},gB:function(){return v}});var n=i(84506),o=i(37762),r=i(93433),s=i(15671),l=i(43144),a=i(71232),d=i(71881),u=i(32590),h=i(56199),c=i(28941),f=i(25138);function v(e){return"object"===typeof e&&"visibility"in e&&"data"in e}function p(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function m(e){return"boolean"===typeof e.collapsible}var g=function(){function e(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,s.Z)(this,e),this.user=t,this.list=i,this.rootRef=[],this.eventBufferer=new c.E7,this._onDidChangeCollapseState=new c.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new c.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new c.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new u.vp(u.ne),this.collapseByDefault="undefined"!==typeof o.collapseByDefault&&o.collapseByDefault,this.filter=o.filter,this.autoExpandSingleChildren="undefined"!==typeof o.autoExpandSingleChildren&&o.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}return(0,l.Z)(e,[{key:"splice",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.$.empty(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0===e.length)throw new a.ac(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}},{key:"spliceSmart",value:function(e,t,i,n,s,l){var a,d=this;void 0===n&&(n=f.$.empty()),void 0===l&&(l=null!==(a=s.diffDepth)&&void 0!==a?a:0);var u=this.getParentNodeWithListIndex(t).parentNode;if(!u.lastDiffIds)return this.spliceSimple(t,i,n,s);var c=(0,r.Z)(n),v=t[t.length-1],p=new h.Hs({getElements:function(){return u.lastDiffIds}},{getElements:function(){return[].concat((0,r.Z)(u.children.slice(0,v)),(0,r.Z)(c),(0,r.Z)(u.children.slice(v+i))).map((function(t){return e.getId(t.element).toString()}))}}).ComputeDiff(!1);if(p.quitEarly)return u.lastDiffIds=void 0,this.spliceSimple(t,i,c,s);var m,g=t.slice(0,-1),y=function(t,i,n){if(l>0)for(var o=0;o<n;o++)t--,i--,d.spliceSmart(e,[].concat((0,r.Z)(g),[t,0]),Number.MAX_SAFE_INTEGER,c[i].children,s,l-1)},b=Math.min(u.children.length,v+i),S=c.length,_=(0,o.Z)(p.changes.sort((function(e,t){return t.originalStart-e.originalStart})));try{for(_.s();!(m=_.n()).done;){var w=m.value;y(b,S,b-(w.originalStart+w.originalLength)),b=w.originalStart,S=w.modifiedStart-v,this.spliceSimple([].concat((0,r.Z)(g),[b]),w.originalLength,f.$.slice(c,S,S+w.modifiedLength),s)}}catch(N){_.e(N)}finally{_.f()}y(b,S,b)}},{key:"spliceSimple",value:function(e,t){for(var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.$.empty(),r=arguments.length>3?arguments[3]:void 0,s=r.onDidCreateNode,l=r.onDidDeleteNode,a=r.diffIdentityProvider,u=this.getParentNodeWithListIndex(e),h=u.parentNode,c=u.listIndex,v=u.revealed,p=u.visible,m=[],g=f.$.map(n,(function(e){return i.createTreeNode(e,h,h.visible?1:0,v,m,s)})),y=e[e.length-1],b=h.children.length>0,S=0,_=y;_>=0&&_<h.children.length;_--){var w=h.children[_];if(w.visible){S=w.visibleChildIndex;break}}var N,k=[],D=0,C=0,z=(0,o.Z)(g);try{for(z.s();!(N=z.n()).done;){var E=N.value;k.push(E),C+=E.renderNodeCount,E.visible&&(E.visibleChildIndex=S+D++)}}catch(H){z.e(H)}finally{z.f()}var I=(0,d.db)(h.children,y,t,k);a?h.lastDiffIds?(0,d.db)(h.lastDiffIds,y,t,k.map((function(e){return a.getId(e.element).toString()}))):h.lastDiffIds=h.children.map((function(e){return a.getId(e.element).toString()})):h.lastDiffIds=void 0;var P,T=0,L=(0,o.Z)(I);try{for(L.s();!(P=L.n()).done;){var Z=P.value;Z.visible&&T++}}catch(H){L.e(H)}finally{L.f()}if(0!==T)for(var x=y+k.length;x<h.children.length;x++){var O=h.children[x];O.visible&&(O.visibleChildIndex-=T)}if(h.visibleChildrenCount+=D-T,v&&p){var M=I.reduce((function(e,t){return e+(t.visible?t.renderNodeCount:0)}),0);this._updateAncestorsRenderNodeCount(h,C-M),this.list.splice(c,M,m)}if(I.length>0&&l){var R=function e(t){l(t),t.children.forEach(e)};I.forEach(R)}var A=h.children.length>0;b!==A&&this.setCollapsible(e.slice(0,-1),A),this._onDidSplice.fire({insertedNodes:k,deletedNodes:I});for(var F=h;F;){if(2===F.visibility){this.refilterDelayer.trigger((function(){return i.refilter()}));break}F=F.parent}}},{key:"rerender",value:function(e){if(0===e.length)throw new a.ac(this.user,"Invalid tree location");var t=this.getTreeNodeWithListIndex(e),i=t.node,n=t.listIndex,o=t.revealed;i.visible&&o&&this.list.splice(n,1,[i])}},{key:"has",value:function(e){return this.hasTreeNode(e)}},{key:"getListIndex",value:function(e){var t=this.getTreeNodeWithListIndex(e),i=t.listIndex,n=t.visible,o=t.revealed;return n&&o?i:-1}},{key:"getListRenderCount",value:function(e){return this.getTreeNode(e).renderNodeCount}},{key:"isCollapsible",value:function(e){return this.getTreeNode(e).collapsible}},{key:"setCollapsible",value:function(e,t){var i=this,n=this.getTreeNode(e);"undefined"===typeof t&&(t=!n.collapsible);var o={collapsible:t};return this.eventBufferer.bufferEvents((function(){return i._setCollapseState(e,o)}))}},{key:"isCollapsed",value:function(e){return this.getTreeNode(e).collapsed}},{key:"setCollapsed",value:function(e,t,i){var n=this,o=this.getTreeNode(e);"undefined"===typeof t&&(t=!o.collapsed);var r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((function(){return n._setCollapseState(e,r)}))}},{key:"_setCollapseState",value:function(e,t){var i=this.getTreeNodeWithListIndex(e),n=i.node,o=i.listIndex,s=i.revealed,l=this._setListNodeCollapseState(n,o,s,t);if(n!==this.root&&this.autoExpandSingleChildren&&l&&!m(t)&&n.collapsible&&!n.collapsed&&!t.recursive){for(var a=-1,d=0;d<n.children.length;d++){if(n.children[d].visible){if(a>-1){a=-1;break}a=d}}a>-1&&this._setCollapseState([].concat((0,r.Z)(e),[a]),t)}return l}},{key:"_setListNodeCollapseState",value:function(e,t,i,n){var o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;var r=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),l=r-(-1===t?0:1);return this.list.splice(t+1,l,s.slice(1)),o}},{key:"_setNodeCollapseState",value:function(e,t,i){var n;if(e===this.root?n=!1:(m(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!m(t)&&t.recursive){var r,s=(0,o.Z)(e.children);try{for(s.s();!(r=s.n()).done;){var l=r.value;n=this._setNodeCollapseState(l,t,!0)||n}}catch(a){s.e(a)}finally{s.f()}}return n}},{key:"expandTo",value:function(e){var t=this;this.eventBufferer.bufferEvents((function(){for(var i=t.getTreeNode(e);i.parent;)i=i.parent,e=e.slice(0,e.length-1),i.collapsed&&t._setCollapseState(e,{collapsed:!1,recursive:!1})}))}},{key:"refilter",value:function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}},{key:"createTreeNode",value:function(e,t,i,n,r,s){var l=this,a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"===typeof e.collapsible?e.collapsible:"undefined"!==typeof e.collapsed,collapsed:"undefined"===typeof e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},d=this._filterNode(a,i);a.visibility=d,n&&r.push(a);var u,h=e.children||f.$.empty(),c=n&&0!==d&&!a.collapsed,v=f.$.map(h,(function(e){return l.createTreeNode(e,a,d,c,r,s)})),p=0,m=1,g=(0,o.Z)(v);try{for(g.s();!(u=g.n()).done;){var y=u.value;a.children.push(y),m+=y.renderNodeCount,y.visible&&(y.visibleChildIndex=p++)}}catch(b){g.e(b)}finally{g.f()}return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=p,a.visible=2===d?p>0:1===d,a.visible?a.collapsed||(a.renderNodeCount=m):(a.renderNodeCount=0,n&&r.pop()),s&&s(a),a}},{key:"updateNodeAfterCollapseChange",value:function(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}},{key:"_updateNodeAfterCollapseChange",value:function(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed){var i,n=(0,o.Z)(e.children);try{for(n.s();!(i=n.n()).done;){var r=i.value;e.renderNodeCount+=this._updateNodeAfterCollapseChange(r,t)}}catch(s){n.e(s)}finally{n.f()}}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}},{key:"updateNodeAfterFilterChange",value:function(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}},{key:"_updateNodeAfterFilterChange",value:function(e,t,i){var n,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e!==this.root){if(0===(n=this._filterNode(e,t)))return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}var s=i.length;e.renderNodeCount=e===this.root?0:1;var l=!1;if(e.collapsed&&0===n)e.visibleChildrenCount=0;else{var a,d=0,u=(0,o.Z)(e.children);try{for(u.s();!(a=u.n()).done;){var h=a.value;l=this._updateNodeAfterFilterChange(h,n,i,r&&!e.collapsed)||l,h.visible&&(h.visibleChildIndex=d++)}}catch(c){u.e(c)}finally{u.f()}e.visibleChildrenCount=d}return e!==this.root&&(e.visible=2===n?l:1===n,e.visibility=n),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}},{key:"_updateAncestorsRenderNodeCount",value:function(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}},{key:"_filterNode",value:function(e,t){var i=this.filter?this.filter.filter(e.element,t):1;return"boolean"===typeof i?(e.filterData=void 0,i?1:0):v(i)?(e.filterData=i.data,p(i.visibility)):(e.filterData=void 0,p(i))}},{key:"hasTreeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return!0;var i=(0,n.Z)(e),o=i[0],r=i.slice(1);return!(o<0||o>t.children.length)&&this.hasTreeNode(r,t.children[o])}},{key:"getTreeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return t;var i=(0,n.Z)(e),o=i[0],r=i.slice(1);if(o<0||o>t.children.length)throw new a.ac(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[o])}},{key:"getTreeNodeWithListIndex",value:function(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var t=this.getParentNodeWithListIndex(e),i=t.parentNode,n=t.listIndex,o=t.revealed,r=t.visible,s=e[e.length-1];if(s<0||s>i.children.length)throw new a.ac(this.user,"Invalid tree location");var l=i.children[s];return{node:l,listIndex:n,revealed:o,visible:r&&l.visible}}},{key:"getParentNodeWithListIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=(0,n.Z)(e),l=s[0],d=s.slice(1);if(l<0||l>t.children.length)throw new a.ac(this.user,"Invalid tree location");for(var u=0;u<l;u++)i+=t.children[u].renderNodeCount;return o=o&&!t.collapsed,r=r&&t.visible,0===d.length?{parentNode:t,listIndex:i,revealed:o,visible:r}:this.getParentNodeWithListIndex(d,t.children[l],i+1,o,r)}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.getTreeNode(e)}},{key:"getNodeLocation",value:function(e){for(var t=[],i=e;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}},{key:"getParentNodeLocation",value:function(e){return 0===e.length?void 0:1===e.length?[]:(0,d.JH)(e)[0]}},{key:"getFirstElementChild",value:function(e){var t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}]),e}()},13940:function(e,t,i){i.d(t,{h:function(){return x},H:function(){return T}});var n=i(97326),o=i(11752),r=i(61120),s=i(15671),l=i(43144),a=i(60136),d=i(43668),u=i(75770),h=i(37762),c=i(29439),f=i(58679),v=i(71232),p=i(28941),m=i(25138);function g(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:m.$.map(m.$.from(e.children),g),collapsible:e.collapsible,collapsed:e.collapsed}}function y(e){for(var t,i,n=[e.element],o=e.incompressible||!1;;){var r=m.$.consume(m.$.from(e.children),2),s=(0,c.Z)(r,2);if(i=s[0],t=s[1],1!==i.length)break;if(i[0].incompressible)break;e=i[0],n.push(e.element)}return{element:{elements:n,incompressible:o},children:m.$.map(m.$.concat(i,t),y),collapsible:e.collapsible,collapsed:e.collapsed}}function b(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=i<e.element.elements.length-1?[b(e,i+1)]:m.$.map(m.$.from(e.children),(function(e){return b(e,0)})),0===i&&e.element.incompressible?{element:e.element.elements[i],children:t,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[i],children:t,collapsible:e.collapsible,collapsed:e.collapsed}}function S(e){return b(e,0)}function _(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:m.$.map(m.$.from(e.children),(function(e){return _(e,t,i)}))})}var w=function(e){return{getId:function(t){return t.elements.map((function(t){return e.getId(t).toString()})).join("\0")}}},N=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.Z)(this,e),this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new f.F(t,i,n),this.enabled="undefined"===typeof n.compressionEnabled||n.compressionEnabled,this.identityProvider=n.identityProvider}return(0,l.Z)(e,[{key:"onDidSplice",get:function(){return this.model.onDidSplice}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"onDidChangeRenderNodeCount",get:function(){return this.model.onDidChangeRenderNodeCount}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0,n=i.diffIdentityProvider&&w(i.diffIdentityProvider);if(null!==e){var o=this.nodes.get(e);if(!o)throw new Error("Unknown compressed tree node");var r=this.model.getNode(o),s=this.model.getParentNodeLocation(o),l=this.model.getNode(s),a=S(r),d=_(a,e,t),u=(this.enabled?y:g)(d),h=l.children.map((function(e){return e===r?u:e}));this._setChildren(l.element,h,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}else{var c=m.$.map(t,this.enabled?y:g);this._setChildren(null,c,{diffIdentityProvider:n,diffDepth:1/0})}}},{key:"setCompressionEnabled",value:function(e){if(e!==this.enabled){this.enabled=e;var t=this.model.getNode().children,i=m.$.map(t,S),n=m.$.map(i,e?y:g);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}}},{key:"_setChildren",value:function(e,t,i){var n=this,o=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:function(e){var t,i=(0,h.Z)(e.element.elements);try{for(i.s();!(t=i.n()).done;){var r=t.value;o.add(r),n.nodes.set(r,e.element)}}catch(s){i.e(s)}finally{i.f()}},onDidDeleteNode:function(e){var t,i=(0,h.Z)(e.element.elements);try{for(i.s();!(t=i.n()).done;){var r=t.value;o.has(r)||n.nodes.delete(r)}}catch(s){i.e(s)}finally{i.f()}}}))}},{key:"has",value:function(e){return this.nodes.has(e)}},{key:"getListIndex",value:function(e){var t=this.getCompressedNode(e);return this.model.getListIndex(t)}},{key:"getListRenderCount",value:function(e){var t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}},{key:"getNode",value:function(e){if("undefined"===typeof e)return this.model.getNode();var t=this.getCompressedNode(e);return this.model.getNode(t)}},{key:"getNodeLocation",value:function(e){var t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}},{key:"getParentNodeLocation",value:function(e){var t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}},{key:"getFirstElementChild",value:function(e){var t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}},{key:"isCollapsible",value:function(e){var t=this.getCompressedNode(e);return this.model.isCollapsible(t)}},{key:"setCollapsible",value:function(e,t){var i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}},{key:"isCollapsed",value:function(e){var t=this.getCompressedNode(e);return this.model.isCollapsed(t)}},{key:"setCollapsed",value:function(e,t,i){var n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}},{key:"expandTo",value:function(e){var t=this.getCompressedNode(e);this.model.expandTo(t)}},{key:"rerender",value:function(e){var t=this.getCompressedNode(e);this.model.rerender(t)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getCompressedNode",value:function(e){if(null===e)return null;var t=this.nodes.get(e);if(!t)throw new v.ac(this.user,"Tree element not found: ".concat(e));return t}}]),e}(),k=function(e){return e[e.length-1]},D=function(){function e(t,i){(0,s.Z)(this,e),this.unwrapper=t,this.node=i}return(0,l.Z)(e,[{key:"element",get:function(){return null===this.node.element?null:this.unwrapper(this.node.element)}},{key:"children",get:function(){var t=this;return this.node.children.map((function(i){return new e(t.unwrapper,i)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}();function C(e,t){return{splice:function(i,n,o){t.splice(i,n,o.map((function(t){return e.map(t)})))},updateElementHeight:function(e,i){t.updateElementHeight(e,i)}}}function z(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:function(i){return t.identityProvider.getId(e(i))}},sorter:t.sorter&&{compare:function(e,i){return t.sorter.compare(e.elements[0],i.elements[0])}},filter:t.filter&&{filter:function(i,n){return t.filter.filter(e(i),n)}}})}var E=function(){function e(t,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.Z)(this,e),this.rootRef=null,this.elementMapper=o.elementMapper||k;var r=function(e){return n.elementMapper(e.elements)};this.nodeMapper=new v.VA((function(e){return new D(r,e)})),this.model=new N(t,C(this.nodeMapper,i),z(r,o))}return(0,l.Z)(e,[{key:"onDidSplice",get:function(){var e=this;return p.ju.map(this.model.onDidSplice,(function(t){var i=t.insertedNodes,n=t.deletedNodes;return{insertedNodes:i.map((function(t){return e.nodeMapper.map(t)})),deletedNodes:n.map((function(t){return e.nodeMapper.map(t)}))}}))}},{key:"onDidChangeCollapseState",get:function(){var e=this;return p.ju.map(this.model.onDidChangeCollapseState,(function(t){var i=t.node,n=t.deep;return{node:e.nodeMapper.map(i),deep:n}}))}},{key:"onDidChangeRenderNodeCount",get:function(){var e=this;return p.ju.map(this.model.onDidChangeRenderNodeCount,(function(t){return e.nodeMapper.map(t)}))}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.model.setChildren(e,t,i)}},{key:"setCompressionEnabled",value:function(e){this.model.setCompressionEnabled(e)}},{key:"has",value:function(e){return this.model.has(e)}},{key:"getListIndex",value:function(e){return this.model.getListIndex(e)}},{key:"getListRenderCount",value:function(e){return this.model.getListRenderCount(e)}},{key:"getNode",value:function(e){return this.nodeMapper.map(this.model.getNode(e))}},{key:"getNodeLocation",value:function(e){return e.element}},{key:"getParentNodeLocation",value:function(e){return this.model.getParentNodeLocation(e)}},{key:"getFirstElementChild",value:function(e){var t=this.model.getFirstElementChild(e);return null===t||"undefined"===typeof t?t:this.elementMapper(t.elements)}},{key:"isCollapsible",value:function(e){return this.model.isCollapsible(e)}},{key:"setCollapsible",value:function(e,t){return this.model.setCollapsible(e,t)}},{key:"isCollapsed",value:function(e){return this.model.isCollapsed(e)}},{key:"setCollapsed",value:function(e,t,i){return this.model.setCollapsed(e,t,i)}},{key:"expandTo",value:function(e){return this.model.expandTo(e)}},{key:"rerender",value:function(e){return this.model.rerender(e)}},{key:"refilter",value:function(){return this.model.refilter()}},{key:"getCompressedTreeNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getNode(e)}}]),e}(),I=i(44628),P=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},T=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o,r){var l,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,s.Z)(this,i),(l=t.call(this,e,n,o,r,a)).user=e,l}return(0,l.Z)(i,[{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}},{key:"rerender",value:function(e){void 0!==e?this.model.rerender(e):this.view.rerender()}},{key:"hasElement",value:function(e){return this.model.has(e)}},{key:"createModel",value:function(e,t,i){return new f.F(e,t,i)}}]),i}(u.CH),L=function(){function e(t,i){(0,s.Z)(this,e),this._compressedTreeNodeProvider=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}return(0,l.Z)(e,[{key:"compressedTreeNodeProvider",get:function(){return this._compressedTreeNodeProvider()}},{key:"renderTemplate",value:function(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){var o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}},{key:"disposeElement",value:function(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.data)}},{key:"renderTwistie",value:function(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}]),e}();function Z(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(i){var n;try{n=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}P([I.H],L.prototype,"compressedTreeNodeProvider",null);var x=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,o,r,l){var a,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,s.Z)(this,i);var u=function(){return(0,n.Z)(a)},h=l.map((function(e){return new L(u,e)}));return a=t.call(this,e,o,r,h,Z(u,d))}return(0,l.Z)(i,[{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}},{key:"createModel",value:function(e,t,i){return new E(e,t,i)}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)((0,r.Z)(i.prototype),"updateOptions",this).call(this,e),"undefined"!==typeof e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}},{key:"getCompressedTreeNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getCompressedTreeNode(e)}}]),i}(T)},58679:function(e,t,i){i.d(t,{F:function(){return d}});var n=i(93433),o=i(15671),r=i(43144),s=i(91102),l=i(71232),a=i(25138),d=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(this,e),this.user=t,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new s.X(t,i,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:function(e,t){return n.sorter.compare(e.element,t.element)}}),this.identityProvider=n.identityProvider}return(0,r.Z)(e,[{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.$.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}},{key:"_setChildren",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.$.empty(),o=arguments.length>2?arguments[2]:void 0,r=new Set,s=new Set,l=function(e){var i;if(null!==e.element){var n=e;if(r.add(n.element),t.nodes.set(n.element,n),t.identityProvider){var l=t.identityProvider.getId(n.element).toString();s.add(l),t.nodesByIdentity.set(l,n)}null===(i=o.onDidCreateNode)||void 0===i||i.call(o,n)}},d=function(e){var i;if(null!==e.element){var n=e;if(r.has(n.element)||t.nodes.delete(n.element),t.identityProvider){var l=t.identityProvider.getId(n.element).toString();s.has(l)||t.nodesByIdentity.delete(l)}null===(i=o.onDidDeleteNode)||void 0===i||i.call(o,n)}};this.model.splice([].concat((0,n.Z)(e),[0]),Number.MAX_VALUE,i,Object.assign(Object.assign({},o),{onDidCreateNode:l,onDidDeleteNode:d}))}},{key:"preserveCollapseState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.$.empty();return this.sorter&&(t=(0,n.Z)(t).sort(this.sorter.compare.bind(this.sorter))),a.$.map(t,(function(t){var i=e.nodes.get(t.element);if(!i&&e.identityProvider){var n=e.identityProvider.getId(t.element).toString();i=e.nodesByIdentity.get(n)}if(!i)return Object.assign(Object.assign({},t),{children:e.preserveCollapseState(t.children)});var o="boolean"===typeof t.collapsible?t.collapsible:i.collapsible,r="undefined"!==typeof t.collapsed?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:o,collapsed:r,children:e.preserveCollapseState(t.children)})}))}},{key:"rerender",value:function(e){var t=this.getElementLocation(e);this.model.rerender(t)}},{key:"getFirstElementChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}},{key:"has",value:function(e){return this.nodes.has(e)}},{key:"getListIndex",value:function(e){var t=this.getElementLocation(e);return this.model.getListIndex(t)}},{key:"getListRenderCount",value:function(e){var t=this.getElementLocation(e);return this.model.getListRenderCount(t)}},{key:"isCollapsible",value:function(e){var t=this.getElementLocation(e);return this.model.isCollapsible(t)}},{key:"setCollapsible",value:function(e,t){var i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}},{key:"isCollapsed",value:function(e){var t=this.getElementLocation(e);return this.model.isCollapsed(t)}},{key:"setCollapsed",value:function(e,t,i){var n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}},{key:"expandTo",value:function(e){var t=this.getElementLocation(e);this.model.expandTo(t)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return this.model.getNode(this.model.rootRef);var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));return t}},{key:"getNodeLocation",value:function(e){return e.element}},{key:"getParentNodeLocation",value:function(e){if(null===e)throw new l.ac(this.user,"Invalid getParentNodeLocation call");var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));var i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}},{key:"getElementLocation",value:function(e){if(null===e)return[];var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));return this.model.getNodeLocation(t)}}]),e}()},71232:function(e,t,i){i.d(t,{VA:function(){return u},ac:function(){return d},sD:function(){return n}});var n,o=i(43144),r=i(15671),s=i(60136),l=i(43668),a=i(28664);!function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element"}(n||(n={}));var d=function(e){(0,s.Z)(i,e);var t=(0,l.Z)(i);function i(e,n){return(0,r.Z)(this,i),t.call(this,"TreeError [".concat(e,"] ").concat(n))}return(0,o.Z)(i)}((0,a.Z)(Error)),u=function(){function e(t){(0,r.Z)(this,e),this.fn=t,this._map=new WeakMap}return(0,o.Z)(e,[{key:"map",value:function(e){var t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}]),e}()},86457:function(e,t,i){i.d(t,{$:function(){return h}});var n=i(15671),o=i(43144),r=i(60136),s=i(43668),l=i(53210),a=i(81882),d=i(96194),u=i(6287),h=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(){return(0,n.Z)(this,i),t.apply(this,arguments)}return(0,o.Z)(i,[{key:"onclick",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.CLICK,(function(e){return t(new d.n(e))})))}},{key:"onmousedown",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_DOWN,(function(e){return t(new d.n(e))})))}},{key:"onmouseover",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_OVER,(function(e){return t(new d.n(e))})))}},{key:"onnonbubblingmouseout",value:function(e,t){this._register(l.addDisposableNonBubblingMouseOutListener(e,(function(e){return t(new d.n(e))})))}},{key:"onkeydown",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.KEY_DOWN,(function(e){return t(new a.y(e))})))}},{key:"onkeyup",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.KEY_UP,(function(e){return t(new a.y(e))})))}},{key:"oninput",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.INPUT,t))}},{key:"onblur",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.BLUR,t))}},{key:"onfocus",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.FOCUS,t))}},{key:"ignoreGesture",value:function(e){u.o.ignoreTarget(e)}}]),i}(i(10526).JT)}}]);
//# sourceMappingURL=monaco-editor-vendor.4743ffc1.6b2c8242.js.map