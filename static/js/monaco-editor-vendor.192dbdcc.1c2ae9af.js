"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[235],{67425:function(e,t,n){n.d(t,{M$:function(){return a},YA:function(){return u}});var i=n(60136),r=n(27277),o=n(43144),s=n(15671),a=(0,o.Z)((function e(t,n,i){(0,s.Z)(this,e),this.range=t,this.nestingLevel=n,this.isInvalid=i})),u=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i,r,o,a){var u;return(0,s.Z)(this,n),(u=t.call(this,e,i,r,o)).minVisibleColumnIndentation=a,u}return(0,o.Z)(n)}((0,o.Z)((function e(t,n,i,r){(0,s.Z)(this,e),this.range=t,this.openingBracketRange=n,this.closingBracketRange=i,this.nestingLevel=r})))},94583:function(e,t,n){n.d(t,{CZ:function(){return c},D8:function(){return f},Jx:function(){return s},Tx:function(){return h},dQ:function(){return d},fV:function(){return g},gk:function(){return a},lN:function(){return l},rU:function(){return u}});var i=n(37762),r=n(43144),o=n(15671),s=(0,r.Z)((function e(){(0,o.Z)(this,e),this.changeType=1})),a=function(){function e(t,n,i,r,s){(0,o.Z)(this,e),this.ownerId=t,this.lineNumber=n,this.column=i,this.options=r,this.order=s}return(0,r.Z)(e,null,[{key:"applyInjectedText",value:function(e,t){if(!t||0===t.length)return e;var n,r="",o=0,s=(0,i.Z)(t);try{for(s.s();!(n=s.n()).done;){var a=n.value;r+=e.substring(o,a.column-1),o=a.column-1,r+=a.options.content}}catch(u){s.e(u)}finally{s.f()}return r+=e.substring(o)}},{key:"fromDecorations",value:function(t){var n,r=[],o=(0,i.Z)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.options.before&&s.options.before.content.length>0&&r.push(new e(s.ownerId,s.range.startLineNumber,s.range.startColumn,s.options.before,0)),s.options.after&&s.options.after.content.length>0&&r.push(new e(s.ownerId,s.range.endLineNumber,s.range.endColumn,s.options.after,1))}}catch(a){o.e(a)}finally{o.f()}return r.sort((function(e,t){return e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber})),r}}]),e}(),u=(0,r.Z)((function e(t,n,i){(0,o.Z)(this,e),this.changeType=2,this.lineNumber=t,this.detail=n,this.injectedText=i})),l=(0,r.Z)((function e(t,n){(0,o.Z)(this,e),this.changeType=3,this.fromLineNumber=t,this.toLineNumber=n})),h=(0,r.Z)((function e(t,n,i,r){(0,o.Z)(this,e),this.changeType=4,this.injectedTexts=r,this.fromLineNumber=t,this.toLineNumber=n,this.detail=i})),c=(0,r.Z)((function e(){(0,o.Z)(this,e),this.changeType=5})),d=function(){function e(t,n,i,r){(0,o.Z)(this,e),this.changes=t,this.versionId=n,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}return(0,r.Z)(e,[{key:"containsEvent",value:function(e){for(var t=0,n=this.changes.length;t<n;t++){if(this.changes[t].changeType===e)return!0}return!1}}],[{key:"merge",value:function(t,n){return new e([].concat(t.changes).concat(n.changes),n.versionId,t.isUndoing||n.isUndoing,t.isRedoing||n.isRedoing)}}]),e}(),f=(0,r.Z)((function e(t){(0,o.Z)(this,e),this.changes=t})),g=function(){function e(t,n){(0,o.Z)(this,e),this.rawContentChangedEvent=t,this.contentChangedEvent=n}return(0,r.Z)(e,[{key:"merge",value:function(t){var n=d.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),i=e._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent);return new e(n,i)}}],[{key:"_mergeChangeEvents",value:function(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}]),e}()},54612:function(e,t,n){n.d(t,{UO:function(){return s},s6:function(){return i},vW:function(){return a}});var i,r=n(43144),o=n(15671);!function(e){e[e.Disabled=0]="Disabled",e[e.EnabledForActive=1]="EnabledForActive",e[e.Enabled=2]="Enabled"}(i||(i={}));var s=(0,r.Z)((function e(t,n,i){(0,o.Z)(this,e),this.visibleColumn=t,this.className=n,this.horizontalLine=i})),a=(0,r.Z)((function e(t,n){(0,o.Z)(this,e),this.top=t,this.endColumn=n}))},72669:function(e,t,n){n.d(t,{R:function(){return f}});var i=n(11752),r=n(61120),o=n(60136),s=n(27277),a=n(74165),u=n(15671),l=n(43144),h=n(28941),c=n(10526),d=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))},f=function(){function e(){(0,u.Z)(this,e),this._map=new Map,this._factories=new Map,this._onDidChange=new h.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}return(0,l.Z)(e,[{key:"fire",value:function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}},{key:"register",value:function(e,t){var n=this;return this._map.set(e,t),this.fire([e]),(0,c.OF)((function(){n._map.get(e)===t&&(n._map.delete(e),n.fire([e]))}))}},{key:"registerFactory",value:function(e,t){var n,i=this;null===(n=this._factories.get(e))||void 0===n||n.dispose();var r=new g(this,e,t);return this._factories.set(e,r),(0,c.OF)((function(){var t=i._factories.get(e);t&&t===r&&(i._factories.delete(e),t.dispose())}))}},{key:"getOrCreate",value:function(e){return d(this,void 0,void 0,(0,a.Z)().mark((function t(){var n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this.get(e))){t.next=3;break}return t.abrupt("return",n);case 3:if((i=this._factories.get(e))&&!i.isResolved){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,i.resolve();case 8:return t.abrupt("return",this.get(e));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"get",value:function(e){return this._map.get(e)||null}},{key:"isResolved",value:function(e){if(this.get(e))return!0;var t=this._factories.get(e);return!(t&&!t.isResolved)}},{key:"setColorMap",value:function(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}},{key:"getColorMap",value:function(){return this._colorMap}},{key:"getDefaultBackground",value:function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}]),e}(),g=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,i,r){var o;return(0,u.Z)(this,n),(o=t.call(this))._registry=e,o._languageId=i,o._factory=r,o._isDisposed=!1,o._resolvePromise=null,o._isResolved=!1,o}return(0,l.Z)(n,[{key:"isResolved",get:function(){return this._isResolved}},{key:"dispose",value:function(){this._isDisposed=!0,(0,i.Z)((0,r.Z)(n.prototype),"dispose",this).call(this)}},{key:"resolve",value:function(){return d(this,void 0,void 0,(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._resolvePromise||(this._resolvePromise=this._create()),e.abrupt("return",this._resolvePromise);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"_create",value:function(){return d(this,void 0,void 0,(0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(this._factory.createTokenizationSupport());case 2:t=e.sent,this._isResolved=!0,t&&!this._isDisposed&&this._register(this._registry.register(this._languageId,t));case 5:case"end":return e.stop()}}),e,this)})))}}]),n}(c.JT)},4723:function(e,t,n){n.d(t,{N:function(){return s}});var i=n(15671),r=n(43144),o=function(){function e(t,n){(0,i.Z)(this,e),this._startLineNumber=t,this._tokens=n}return(0,r.Z)(e,[{key:"startLineNumber",get:function(){return this._startLineNumber}},{key:"endLineNumber",get:function(){return this._startLineNumber+this._tokens.length-1}},{key:"getLineTokens",value:function(e){return this._tokens[e-this._startLineNumber]}},{key:"appendLineTokens",value:function(e){this._tokens.push(e)}}]),e}(),s=function(){function e(){(0,i.Z)(this,e),this._tokens=[]}return(0,r.Z)(e,[{key:"add",value:function(e,t){if(this._tokens.length>0){var n=this._tokens[this._tokens.length-1];if(n.endLineNumber+1===e)return void n.appendLineTokens(t)}this._tokens.push(new o(e,[t]))}},{key:"finalize",value:function(){return this._tokens}}]),e}()},10594:function(e,t,n){n.d(t,{l:function(){return d}});var i=n(15671),r=n(43144),o=n(71881),s=n(10849),a=n(58705),u=new Uint32Array(0).buffer,l=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"deleteBeginning",value:function(t,n){return null===t||t===u?t:e.delete(t,0,n)}},{key:"deleteEnding",value:function(t,n){if(null===t||t===u)return t;var i=h(t),r=i[i.length-2];return e.delete(t,n,r)}},{key:"delete",value:function(e,t,n){if(null===e||e===u||t===n)return e;var i=h(e),r=i.length>>>1;if(0===t&&i[i.length-2]===n)return u;var o,s,l=a.A.findIndexInTokensArray(i,t),c=l>0?i[l-1<<1]:0;if(n<i[l<<1]){for(var d=n-t,f=l;f<r;f++)i[f<<1]-=d;return e}c!==t?(i[l<<1]=t,o=l+1<<1,s=t):(o=l<<1,s=c);for(var g=n-t,v=l+1;v<r;v++){var m=i[v<<1]-g;m>s&&(i[o++]=m,i[o++]=i[1+(v<<1)],s=m)}if(o===i.length)return e;var _=new Uint32Array(o);return _.set(i.subarray(0,o),0),_.buffer}},{key:"append",value:function(e,t){if(t===u)return e;if(e===u)return t;if(null===e)return e;if(null===t)return null;var n=h(e),i=h(t),r=i.length>>>1,o=new Uint32Array(n.length+i.length);o.set(n,0);for(var s=n.length,a=n[n.length-2],l=0;l<r;l++)o[s++]=i[l<<1]+a,o[s++]=i[1+(l<<1)];return o.buffer}},{key:"insert",value:function(e,t,n){if(null===e||e===u)return e;var i=h(e),r=i.length>>>1,o=a.A.findIndexInTokensArray(i,t);o>0&&(i[o-1<<1]===t&&o--);for(var s=o;s<r;s++)i[s<<1]+=n;return e}}]),e}();function h(e){return e instanceof Uint32Array?e:new Uint32Array(e)}var c=n(56417),d=function(){function e(t){(0,i.Z)(this,e),this._lineTokens=[],this._len=0,this._languageIdCodec=t}return(0,r.Z)(e,[{key:"flush",value:function(){this._lineTokens=[],this._len=0}},{key:"getTokens",value:function(e,t,n){var i=null;if(t<this._len&&(i=this._lineTokens[t]),null!==i&&i!==u)return new a.A(h(i),n,this._languageIdCodec);var r=new Uint32Array(2);return r[0]=n.length,r[1]=f(this._languageIdCodec.encodeLanguageId(e)),new a.A(r,n,this._languageIdCodec)}},{key:"_ensureLine",value:function(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}},{key:"_deleteLines",value:function(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}},{key:"_insertLines",value:function(e,t){if(0!==t){for(var n=[],i=0;i<t;i++)n[i]=null;this._lineTokens=o.Zv(this._lineTokens,e,n),this._len+=t}}},{key:"setTokens",value:function(t,n,i,r,o){var s=e._massageTokens(this._languageIdCodec.encodeLanguageId(t),i,r);this._ensureLine(n);var a=this._lineTokens[n];return this._lineTokens[n]=s,!!o&&!e._equals(a,s)}},{key:"acceptEdit",value:function(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new s.L(e.startLineNumber,e.startColumn),t,n)}},{key:"_acceptDeleteRange",value:function(e){var t=e.startLineNumber-1;if(!(t>=this._len))if(e.startLineNumber!==e.endLineNumber){this._lineTokens[t]=l.deleteEnding(this._lineTokens[t],e.startColumn-1);var n=e.endLineNumber-1,i=null;n<this._len&&(i=l.deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=l.append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}else{if(e.startColumn===e.endColumn)return;this._lineTokens[t]=l.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1)}}},{key:"_acceptInsertText",value:function(e,t,n){if(0!==t||0!==n){var i=e.lineNumber-1;i>=this._len||(0!==t?(this._lineTokens[i]=l.deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=l.insert(this._lineTokens[i],e.column-1,n),this._insertLines(e.lineNumber,t)):this._lineTokens[i]=l.insert(this._lineTokens[i],e.column-1,n))}}}],[{key:"_massageTokens",value:function(e,t,n){var i=n?h(n):null;if(0===t){var r=!1;if(i&&i.length>1&&(r=c.NX.getLanguageId(i[1])!==e),!r)return u}if(!i||0===i.length){var o=new Uint32Array(2);return o[0]=t,o[1]=f(e),o.buffer}return i[i.length-2]=t,0===i.byteOffset&&i.byteLength===i.buffer.byteLength?i.buffer:i}},{key:"_equals",value:function(e,t){if(!e||!t)return!e&&!t;var n=h(e),i=h(t);if(n.length!==i.length)return!1;for(var r=0,o=n.length;r<o;r++)if(n[r]!==i[r])return!1;return!0}}]),e}();function f(e){return(16384|e<<0|2<<23)>>>0}},58705:function(e,t,n){n.d(t,{A:function(){return s}});var i=n(15671),r=n(43144),o=n(56417),s=function(){function e(t,n,r){(0,i.Z)(this,e),this._lineTokensBrand=void 0,this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=n,this._languageIdCodec=r}return(0,r.Z)(e,[{key:"equals",value:function(t){return t instanceof e&&this.slicedEquals(t,0,this._tokensCount)}},{key:"slicedEquals",value:function(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;for(var i=t<<1,r=i+(n<<1),o=i;o<r;o++)if(this._tokens[o]!==e._tokens[o])return!1;return!0}},{key:"getLineContent",value:function(){return this._text}},{key:"getCount",value:function(){return this._tokensCount}},{key:"getStartOffset",value:function(e){return e>0?this._tokens[e-1<<1]:0}},{key:"getMetadata",value:function(e){return this._tokens[1+(e<<1)]}},{key:"getLanguageId",value:function(e){var t=this._tokens[1+(e<<1)],n=o.NX.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(n)}},{key:"getStandardTokenType",value:function(e){var t=this._tokens[1+(e<<1)];return o.NX.getTokenType(t)}},{key:"getForeground",value:function(e){var t=this._tokens[1+(e<<1)];return o.NX.getForeground(t)}},{key:"getClassName",value:function(e){var t=this._tokens[1+(e<<1)];return o.NX.getClassNameFromMetadata(t)}},{key:"getInlineStyle",value:function(e,t){var n=this._tokens[1+(e<<1)];return o.NX.getInlineStyleFromMetadata(n,t)}},{key:"getPresentation",value:function(e){var t=this._tokens[1+(e<<1)];return o.NX.getPresentationFromMetadata(t)}},{key:"getEndOffset",value:function(e){return this._tokens[e<<1]}},{key:"findTokenIndexAtOffset",value:function(t){return e.findIndexInTokensArray(this._tokens,t)}},{key:"inflate",value:function(){return this}},{key:"sliceAndInflate",value:function(e,t,n){return new a(this,e,t,n)}},{key:"withInserted",value:function(t){if(0===t.length)return this;for(var n=0,i=0,r="",o=new Array,s=0;;){var a=n<this._tokensCount?this._tokens[n<<1]:-1,u=i<t.length?t[i]:null;if(-1!==a&&(null===u||a<=u.offset)){r+=this._text.substring(s,a);var l=this._tokens[1+(n<<1)];o.push(r.length,l),n++,s=a}else{if(!u)break;if(u.offset>s){r+=this._text.substring(s,u.offset);var h=this._tokens[1+(n<<1)];o.push(r.length,h),s=u.offset}r+=u.text,o.push(r.length,u.tokenMetadata),i++}}return new e(new Uint32Array(o),r,this._languageIdCodec)}}],[{key:"createEmpty",value:function(t,n){var i=e.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=t.length,r[1]=i,new e(r,t,n)}},{key:"convertToEndOffset",value:function(e,t){for(var n=(e.length>>>1)-1,i=0;i<n;i++)e[i<<1]=e[i+1<<1];e[n<<1]=t}},{key:"findIndexInTokensArray",value:function(e,t){if(e.length<=2)return 0;for(var n=0,i=(e.length>>>1)-1;n<i;){var r=n+Math.floor((i-n)/2),o=e[r<<1];if(o===t)return r+1;o<t?n=r+1:o>t&&(i=r)}return n}}]),e}();s.defaultTokenMetadata=16793600;var a=function(){function e(t,n,r,o){(0,i.Z)(this,e),this._source=t,this._startOffset=n,this._endOffset=r,this._deltaOffset=o,this._firstTokenIndex=t.findTokenIndexAtOffset(n),this._tokensCount=0;for(var s=this._firstTokenIndex,a=t.getCount();s<a;s++){if(t.getStartOffset(s)>=r)break;this._tokensCount++}}return(0,r.Z)(e,[{key:"getMetadata",value:function(e){return this._source.getMetadata(this._firstTokenIndex+e)}},{key:"getLanguageId",value:function(e){return this._source.getLanguageId(this._firstTokenIndex+e)}},{key:"getLineContent",value:function(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}},{key:"equals",value:function(t){return t instanceof e&&(this._startOffset===t._startOffset&&this._endOffset===t._endOffset&&this._deltaOffset===t._deltaOffset&&this._source.slicedEquals(t._source,this._firstTokenIndex,this._tokensCount))}},{key:"getCount",value:function(){return this._tokensCount}},{key:"getForeground",value:function(e){return this._source.getForeground(this._firstTokenIndex+e)}},{key:"getEndOffset",value:function(e){var t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}},{key:"getClassName",value:function(e){return this._source.getClassName(this._firstTokenIndex+e)}},{key:"getInlineStyle",value:function(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}},{key:"getPresentation",value:function(e){return this._source.getPresentation(this._firstTokenIndex+e)}},{key:"findTokenIndexAtOffset",value:function(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}]),e}()},83464:function(e,t,n){n.d(t,{Y:function(){return l}});var i=n(29439),r=n(15671),o=n(43144),s=n(10849),a=n(30788),u=n(63636),l=function(){function e(t,n){(0,r.Z)(this,e),this._startLineNumber=t,this._tokens=n,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}return(0,o.Z)(e,[{key:"startLineNumber",get:function(){return this._startLineNumber}},{key:"endLineNumber",get:function(){return this._endLineNumber}},{key:"toString",value:function(){return this._tokens.toString(this._startLineNumber)}},{key:"_updateEndLineNumber",value:function(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}},{key:"isEmpty",value:function(){return this._tokens.isEmpty()}},{key:"getLineTokens",value:function(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}},{key:"getRange",value:function(){var e=this._tokens.getRange();return e?new a.e(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn):e}},{key:"removeTokens",value:function(e){var t=e.startLineNumber-this._startLineNumber,n=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,n,e.endColumn-1),this._updateEndLineNumber()}},{key:"split",value:function(t){var n=t.startLineNumber-this._startLineNumber,r=t.endLineNumber-this._startLineNumber,o=this._tokens.split(n,t.startColumn-1,r,t.endColumn-1),s=(0,i.Z)(o,3),a=s[0],u=s[1],l=s[2];return[new e(this._startLineNumber,a),new e(this._startLineNumber+l,u)]}},{key:"applyEdit",value:function(e,t){var n=(0,u.Q)(t),r=(0,i.Z)(n,3),o=r[0],s=r[1],a=r[2];this.acceptEdit(e,o,s,a,t.length>0?t.charCodeAt(0):0)}},{key:"acceptEdit",value:function(e,t,n,i,r){this._acceptDeleteRange(e),this._acceptInsertText(new s.L(e.startLineNumber,e.startColumn),t,n,i,r),this._updateEndLineNumber()}},{key:"_acceptDeleteRange",value:function(e){if(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn){var t=e.startLineNumber-this._startLineNumber,n=e.endLineNumber-this._startLineNumber;if(n<0){var i=n-t;this._startLineNumber-=i}else{var r=this._tokens.getMaxDeltaLine();if(!(t>=r+1)){if(t<0&&n>=r+1)return this._startLineNumber=0,void this._tokens.clear();if(t<0){var o=-t;this._startLineNumber-=o,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,n,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,n,e.endColumn-1)}}}}},{key:"_acceptInsertText",value:function(e,t,n,i,r){if(0!==t||0!==n){var o=e.lineNumber-this._startLineNumber;if(o<0)this._startLineNumber+=t;else o>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(o,e.column-1,t,n,i,r)}}}],[{key:"create",value:function(t,n){return new e(t,new h(n))}}]),e}(),h=function(){function e(t){(0,r.Z)(this,e),this._tokens=t,this._tokenCount=t.length/4}return(0,o.Z)(e,[{key:"toString",value:function(e){for(var t=[],n=0;n<this._tokenCount;n++)t.push("(".concat(this._getDeltaLine(n)+e,",").concat(this._getStartCharacter(n),"-").concat(this._getEndCharacter(n),")"));return"[".concat(t.join(","),"]")}},{key:"getMaxDeltaLine",value:function(){var e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}},{key:"getRange",value:function(){var e=this._getTokenCount();if(0===e)return null;var t=this._getStartCharacter(0),n=this._getDeltaLine(e-1),i=this._getEndCharacter(e-1);return new a.e(0,t+1,n,i+1)}},{key:"_getTokenCount",value:function(){return this._tokenCount}},{key:"_getDeltaLine",value:function(e){return this._tokens[4*e]}},{key:"_getStartCharacter",value:function(e){return this._tokens[4*e+1]}},{key:"_getEndCharacter",value:function(e){return this._tokens[4*e+2]}},{key:"isEmpty",value:function(){return 0===this._getTokenCount()}},{key:"getLineTokens",value:function(e){for(var t=0,n=this._getTokenCount()-1;t<n;){var i=t+Math.floor((n-t)/2),r=this._getDeltaLine(i);if(r<e)t=i+1;else{if(!(r>e)){for(var o=i;o>t&&this._getDeltaLine(o-1)===e;)o--;for(var s=i;s<n&&this._getDeltaLine(s+1)===e;)s++;return new c(this._tokens.subarray(4*o,4*s+4))}n=i-1}}return this._getDeltaLine(t)===e?new c(this._tokens.subarray(4*t,4*t+4)):null}},{key:"clear",value:function(){this._tokenCount=0}},{key:"removeTokens",value:function(e,t,n,i){for(var r=this._tokens,o=this._tokenCount,s=0,a=!1,u=0,l=0;l<o;l++){var h=4*l,c=r[h],d=r[h+1],f=r[h+2],g=r[h+3];if((c>e||c===e&&f>=t)&&(c<n||c===n&&d<=i))a=!0;else{if(0===s&&(u=c),a){var v=4*s;r[v]=c-u,r[v+1]=d,r[v+2]=f,r[v+3]=g}s++}}return this._tokenCount=s,u}},{key:"split",value:function(t,n,i,r){for(var o=this._tokens,s=this._tokenCount,a=[],u=[],l=a,h=0,c=0,d=0;d<s;d++){var f=4*d,g=o[f],v=o[f+1],m=o[f+2],_=o[f+3];if(g>t||g===t&&m>=n){if(g<i||g===i&&v<=r)continue;l!==u&&(l=u,h=0,c=g)}l[h++]=g-c,l[h++]=v,l[h++]=m,l[h++]=_}return[new e(new Uint32Array(a)),new e(new Uint32Array(u)),c]}},{key:"acceptDeleteRange",value:function(e,t,n,i,r){for(var o=this._tokens,s=this._tokenCount,a=i-t,u=0,l=!1,h=0;h<s;h++){var c=4*h,d=o[c],f=o[c+1],g=o[c+2],v=o[c+3];if(d<t||d===t&&g<=n)u++;else{if(d===t&&f<n)d===i&&g>r?g-=r-n:g=n;else if(d===t&&f===n){if(!(d===i&&g>r)){l=!0;continue}g-=r-n}else if(d<i||d===i&&f<r){if(!(d===i&&g>r)){l=!0;continue}g=d===t?(f=n)+(g-r):(f=0)+(g-r)}else if(d>i){if(0===a&&!l){u=s;break}d-=a}else{if(!(d===i&&f>=r))throw new Error("Not possible!");e&&0===d&&(f+=e,g+=e),d-=a,f-=r-n,g-=r-n}var m=4*u;o[m]=d,o[m+1]=f,o[m+2]=g,o[m+3]=v,u++}}this._tokenCount=u}},{key:"acceptInsertText",value:function(e,t,n,i,r,o){for(var s=0===n&&1===i&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),a=this._tokens,u=this._tokenCount,l=0;l<u;l++){var h=4*l,c=a[h],d=a[h+1],f=a[h+2];if(!(c<e||c===e&&f<t)){if(c===e&&f===t){if(!s)continue;f+=1}else if(c===e&&d<t&&t<f)0===n?f+=i:f=t;else{if(c===e&&d===t&&s)continue;if(c===e)if(c+=n,0===n)d+=i,f+=i;else{var g=f-d;f=(d=r+(d-t))+g}else c+=n}a[h]=c,a[h+1]=d,a[h+2]=f}}}}]),e}(),c=function(){function e(t){(0,r.Z)(this,e),this._tokens=t}return(0,o.Z)(e,[{key:"getCount",value:function(){return this._tokens.length/4}},{key:"getStartCharacter",value:function(e){return this._tokens[4*e+1]}},{key:"getEndCharacter",value:function(e){return this._tokens[4*e+2]}},{key:"getMetadata",value:function(e){return this._tokens[4*e+3]}}]),e}()},22695:function(e,t,n){n.d(t,{u:function(){return l}});var i=n(37762),r=n(29439),o=n(15671),s=n(43144),a=n(71881),u=n(58705),l=function(){function e(t){(0,o.Z)(this,e),this._pieces=[],this._isComplete=!1,this._languageIdCodec=t}return(0,s.Z)(e,[{key:"flush",value:function(){this._pieces=[],this._isComplete=!1}},{key:"isEmpty",value:function(){return 0===this._pieces.length}},{key:"set",value:function(e,t){this._pieces=e||[],this._isComplete=t}},{key:"setPartial",value:function(e,t){var n=e;if(t.length>0){var i=t[0].getRange(),o=t[t.length-1].getRange();if(!i||!o)return e;n=e.plusRange(i).plusRange(o)}for(var s=null,u=0,l=this._pieces.length;u<l;u++){var h=this._pieces[u];if(!(h.endLineNumber<n.startLineNumber)){if(h.startLineNumber>n.endLineNumber){s=s||{index:u};break}if(h.removeTokens(n),h.isEmpty())this._pieces.splice(u,1),u--,l--;else if(!(h.endLineNumber<n.startLineNumber))if(h.startLineNumber>n.endLineNumber)s=s||{index:u};else{var c=h.split(n),d=(0,r.Z)(c,2),f=d[0],g=d[1];f.isEmpty()?s=s||{index:u}:g.isEmpty()||(this._pieces.splice(u,1,f,g),u++,l++,s=s||{index:u})}}}return s=s||{index:this._pieces.length},t.length>0&&(this._pieces=a.Zv(this._pieces,s.index,t)),n}},{key:"isComplete",value:function(){return this._isComplete}},{key:"addSparseTokens",value:function(t,n){var i=this._pieces;if(0===i.length)return n;var r=i[e._findFirstPieceWithLine(i,t)].getLineTokens(t);if(!r)return n;for(var o=n.getCount(),s=r.getCount(),a=0,l=[],h=0,c=0,d=function(e,t){e!==c&&(c=e,l[h++]=e,l[h++]=t)},f=0;f<s;f++){for(var g=r.getStartCharacter(f),v=r.getEndCharacter(f),m=r.getMetadata(f),_=((1&m?1024:0)|(2&m?2048:0)|(4&m?4096:0)|(8&m?8192:0)|(16&m?8372224:0)|(32&m?4286578688:0))>>>0,p=~_>>>0;a<o&&n.getEndOffset(a)<=g;)d(n.getEndOffset(a),n.getMetadata(a)),a++;for(a<o&&n.getStartOffset(a)<g&&d(g,n.getMetadata(a));a<o&&n.getEndOffset(a)<v;)d(n.getEndOffset(a),n.getMetadata(a)&p|m&_),a++;if(a<o)d(v,n.getMetadata(a)&p|m&_),n.getEndOffset(a)===v&&a++;else{var L=Math.min(Math.max(0,a-1),o-1);d(v,n.getMetadata(L)&p|m&_)}}for(;a<o;)d(n.getEndOffset(a),n.getMetadata(a)),a++;return new u.A(new Uint32Array(l),n.getLineContent(),this._languageIdCodec)}},{key:"acceptEdit",value:function(e,t,n,r,o){var s,a=(0,i.Z)(this._pieces);try{for(a.s();!(s=a.n()).done;){s.value.acceptEdit(e,t,n,r,o)}}catch(u){a.e(u)}finally{a.f()}}}],[{key:"_findFirstPieceWithLine",value:function(e,t){for(var n=0,i=e.length-1;n<i;){var r=n+Math.floor((i-n)/2);if(e[r].endLineNumber<t)n=r+1;else{if(!(e[r].startLineNumber>t)){for(;r>n&&e[r-1].startLineNumber<=t&&t<=e[r-1].endLineNumber;)r--;return r}i=r-1}}return n}}]),e}()},82978:function(e,t,n){n.d(t,{O:function(){return a}});var i=n(15671),r=n(43144),o=n(60136),s=n(27277),a=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this))._shouldRender=!0,e}return(0,r.Z)(n,[{key:"shouldRender",value:function(){return this._shouldRender}},{key:"forceShouldRender",value:function(){this._shouldRender=!0}},{key:"setShouldRender",value:function(){this._shouldRender=!0}},{key:"onDidRender",value:function(){this._shouldRender=!1}},{key:"onCompositionStart",value:function(e){return!1}},{key:"onCompositionEnd",value:function(e){return!1}},{key:"onConfigurationChanged",value:function(e){return!1}},{key:"onCursorStateChanged",value:function(e){return!1}},{key:"onDecorationsChanged",value:function(e){return!1}},{key:"onFlushed",value:function(e){return!1}},{key:"onFocusChanged",value:function(e){return!1}},{key:"onLanguageConfigurationChanged",value:function(e){return!1}},{key:"onLineMappingChanged",value:function(e){return!1}},{key:"onLinesChanged",value:function(e){return!1}},{key:"onLinesDeleted",value:function(e){return!1}},{key:"onLinesInserted",value:function(e){return!1}},{key:"onRevealRangeRequest",value:function(e){return!1}},{key:"onScrollChanged",value:function(e){return!1}},{key:"onThemeChanged",value:function(e){return!1}},{key:"onTokensChanged",value:function(e){return!1}},{key:"onTokensColorsChanged",value:function(e){return!1}},{key:"onZonesChanged",value:function(e){return!1}},{key:"handleEvents",value:function(e){for(var t=!1,n=0,i=e.length;n<i;n++){var r=e[n];switch(r.type){case 0:this.onCompositionStart(r)&&(t=!0);break;case 1:this.onCompositionEnd(r)&&(t=!0);break;case 2:this.onConfigurationChanged(r)&&(t=!0);break;case 3:this.onCursorStateChanged(r)&&(t=!0);break;case 4:this.onDecorationsChanged(r)&&(t=!0);break;case 5:this.onFlushed(r)&&(t=!0);break;case 6:this.onFocusChanged(r)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(r)&&(t=!0);break;case 8:this.onLineMappingChanged(r)&&(t=!0);break;case 9:this.onLinesChanged(r)&&(t=!0);break;case 10:this.onLinesDeleted(r)&&(t=!0);break;case 11:this.onLinesInserted(r)&&(t=!0);break;case 12:this.onRevealRangeRequest(r)&&(t=!0);break;case 13:this.onScrollChanged(r)&&(t=!0);break;case 15:this.onTokensChanged(r)&&(t=!0);break;case 14:this.onThemeChanged(r)&&(t=!0);break;case 16:this.onTokensColorsChanged(r)&&(t=!0);break;case 17:this.onZonesChanged(r)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(r)}}t&&(this._shouldRender=!0)}}]),n}(n(10526).JT)},46537:function(e,t,n){n.d(t,{Ay:function(){return p},CL:function(){return h},H9:function(){return C},Hf:function(){return L},IN:function(){return s},Ic:function(){return y},JP:function(){return o},K9:function(){return m},Qb:function(){return _},SJ:function(){return c},_0:function(){return d},d8:function(){return f},e$:function(){return u},il:function(){return g},uc:function(){return k},vA:function(){return l},vk:function(){return v},x4:function(){return a}});var i=n(43144),r=n(15671),o=(0,i.Z)((function e(){(0,r.Z)(this,e),this.type=0})),s=(0,i.Z)((function e(){(0,r.Z)(this,e),this.type=1})),a=function(){function e(t){(0,r.Z)(this,e),this.type=2,this._source=t}return(0,i.Z)(e,[{key:"hasChanged",value:function(e){return this._source.hasChanged(e)}}]),e}(),u=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this.type=3,this.selections=t,this.modelSelections=n})),l=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)})),h=(0,i.Z)((function e(){(0,r.Z)(this,e),this.type=5})),c=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.type=6,this.isFocused=t})),d=(0,i.Z)((function e(){(0,r.Z)(this,e),this.type=7})),f=(0,i.Z)((function e(){(0,r.Z)(this,e),this.type=8})),g=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this.type=9,this.fromLineNumber=t,this.toLineNumber=n})),v=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this.type=10,this.fromLineNumber=t,this.toLineNumber=n})),m=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this.type=11,this.fromLineNumber=t,this.toLineNumber=n})),_=(0,i.Z)((function e(t,n,i,o,s,a,u){(0,r.Z)(this,e),this.source=t,this.minimalReveal=n,this.range=i,this.selections=o,this.verticalType=s,this.revealHorizontal=a,this.scrollType=u,this.type=12})),p=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged})),L=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.theme=t,this.type=14})),C=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.type=15,this.ranges=t})),k=(0,i.Z)((function e(){(0,r.Z)(this,e),this.type=16})),y=(0,i.Z)((function e(){(0,r.Z)(this,e),this.type=17}))},50381:function(e,t,n){n.d(t,{Kp:function(){return a},k:function(){return h}});var i=n(37762),r=n(15671),o=n(43144),s=n(26684),a=function(){function e(t,n,i,o){(0,r.Z)(this,e),this.startColumn=t,this.endColumn=n,this.className=i,this.type=o,this._lineDecorationBrand=void 0}return(0,o.Z)(e,null,[{key:"_equals",value:function(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}},{key:"equalsArr",value:function(t,n){var i=t.length;if(i!==n.length)return!1;for(var r=0;r<i;r++)if(!e._equals(t[r],n[r]))return!1;return!0}},{key:"extractWrapped",value:function(t,n,r){if(0===t.length)return t;var o,s=n+1,a=r+1,u=r-n,l=[],h=0,c=(0,i.Z)(t);try{for(c.s();!(o=c.n()).done;){var d=o.value;d.endColumn<=s||d.startColumn>=a||(l[h++]=new e(Math.max(1,d.startColumn-s+1),Math.min(u+1,d.endColumn-s+1),d.className,d.type))}}catch(f){c.e(f)}finally{c.f()}return l}},{key:"filter",value:function(t,n,i,r){if(0===t.length)return[];for(var o=[],s=0,a=0,u=t.length;a<u;a++){var l=t[a],h=l.range;if(!(h.endLineNumber<n||h.startLineNumber>n)&&(!h.isEmpty()||0!==l.type&&3!==l.type)){var c=h.startLineNumber===n?h.startColumn:i,d=h.endLineNumber===n?h.endColumn:r;o[s++]=new e(c,d,l.inlineClassName,l.type)}}return o}},{key:"_typeCompare",value:function(e,t){var n=[2,0,1,3];return n[e]-n[t]}},{key:"compare",value:function(t,n){if(t.startColumn!==n.startColumn)return t.startColumn-n.startColumn;if(t.endColumn!==n.endColumn)return t.endColumn-n.endColumn;var i=e._typeCompare(t.type,n.type);return 0!==i?i:t.className!==n.className?t.className<n.className?-1:1:0}}]),e}(),u=(0,o.Z)((function e(t,n,i,o){(0,r.Z)(this,e),this.startOffset=t,this.endOffset=n,this.className=i,this.metadata=o})),l=function(){function e(){(0,r.Z)(this,e),this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}return(0,o.Z)(e,[{key:"consumeLowerThan",value:function(t,n,i){for(;this.count>0&&this.stopOffsets[0]<t;){for(var r=0;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;i.push(new u(n,this.stopOffsets[r],this.classNames.join(" "),e._metadata(this.metadata))),n=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&n<t&&(i.push(new u(n,t-1,this.classNames.join(" "),e._metadata(this.metadata))),n=t),n}},{key:"insert",value:function(e,t,n){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(n);else for(var i=0;i<this.count;i++)if(this.stopOffsets[i]>=e){this.stopOffsets.splice(i,0,e),this.classNames.splice(i,0,t),this.metadata.splice(i,0,n);break}this.count++}}],[{key:"_metadata",value:function(e){for(var t=0,n=0,i=e.length;n<i;n++)t|=e[n];return t}}]),e}(),h=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,null,[{key:"normalize",value:function(e,t){if(0===t.length)return[];for(var n=[],i=new l,r=0,o=0,a=t.length;o<a;o++){var u=t[o],h=u.startColumn,c=u.endColumn,d=u.className,f=1===u.type?2:2===u.type?4:0;if(h>1){var g=e.charCodeAt(h-2);s.ZG(g)&&h--}if(c>1){var v=e.charCodeAt(c-2);s.ZG(v)&&c--}var m=h-1,_=c-2;r=i.consumeLowerThan(m,r,n),0===i.count&&(r=m),i.insert(_,d,f)}return i.consumeLowerThan(1073741824,r,n),n}}]),e}()},78699:function(e,t,n){n.d(t,{IJ:function(){return c},Nd:function(){return d},d1:function(){return v},tF:function(){return _},zG:function(){return h}});var i=n(37762),r=n(15671),o=n(43144),s=n(26684),a=n(63633),u=n(50381),l=function(){function e(t,n,i){(0,r.Z)(this,e),this._linePartBrand=void 0,this.endIndex=t,this.type=n,this.metadata=i}return(0,o.Z)(e,[{key:"isWhitespace",value:function(){return!!(1&this.metadata)}},{key:"isPseudoAfter",value:function(){return!!(4&this.metadata)}}]),e}(),h=function(){function e(t,n){(0,r.Z)(this,e),this.startOffset=t,this.endOffset=n}return(0,o.Z)(e,[{key:"equals",value:function(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}]),e}(),c=function(){function e(t,n,i,o,s,a,l,h,c,d,f,g,v,m,_,p,L,C,k){(0,r.Z)(this,e),this.useMonospaceOptimizations=t,this.canUseHalfwidthRightwardsArrow=n,this.lineContent=i,this.continuesWithWrappedLine=o,this.isBasicASCII=s,this.containsRTL=a,this.fauxIndentLength=l,this.lineTokens=h,this.lineDecorations=c.sort(u.Kp.compare),this.tabSize=d,this.startVisibleColumn=f,this.spaceWidth=g,this.stopRenderingLineAfter=_,this.renderWhitespace="all"===p?4:"boundary"===p?1:"selection"===p?2:"trailing"===p?3:0,this.renderControlCharacters=L,this.fontLigatures=C,this.selectionsOnLine=k&&k.sort((function(e,t){return e.startOffset<t.startOffset?-1:1})),Math.abs(m-g)<Math.abs(v-g)?(this.renderSpaceWidth=m,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=v,this.renderSpaceCharCode=183)}return(0,o.Z)(e,[{key:"sameSelection",value:function(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(var t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}},{key:"equals",value:function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&u.Kp.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}]),e}(),d=(0,o.Z)((function e(t,n){(0,r.Z)(this,e),this.partIndex=t,this.charIndex=n})),f=function(){function e(t,n){(0,r.Z)(this,e),this.length=t,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return(0,o.Z)(e,[{key:"setColumnInfo",value:function(e,t,n,i){var r=(t<<16|n<<0)>>>0;this._data[e-1]=r,this._absoluteOffsets[e-1]=i+n}},{key:"getAbsoluteOffset",value:function(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}},{key:"charOffsetToPartData",value:function(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}},{key:"getDomPosition",value:function(t){var n=this.charOffsetToPartData(t-1),i=e.getPartIndex(n),r=e.getCharIndex(n);return new d(i,r)}},{key:"getColumn",value:function(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}},{key:"partDataToCharOffset",value:function(t,n,i){if(0===this.length)return 0;for(var r=(t<<16|i<<0)>>>0,o=0,s=this.length-1;o+1<s;){var a=o+s>>>1,u=this._data[a];if(u===r)return a;u>r?s=a:o=a}if(o===s)return o;var l=this._data[o],h=this._data[s];if(l===r)return o;if(h===r)return s;var c=e.getPartIndex(l);return i-e.getCharIndex(l)<=(c!==e.getPartIndex(h)?n:e.getCharIndex(h))-i?o:s}}],[{key:"getPartIndex",value:function(e){return(4294901760&e)>>>16}},{key:"getCharIndex",value:function(e){return(65535&e)>>>0}}]),e}(),g=(0,o.Z)((function e(t,n,i){(0,r.Z)(this,e),this._renderLineOutputBrand=void 0,this.characterMapping=t,this.containsRTL=n,this.containsForeignElements=i}));function v(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");var n,r=0,o=0,a=0,h=(0,i.Z)(e.lineDecorations);try{for(h.s();!(n=h.n()).done;){var c=n.value;1!==c.type&&2!==c.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(c.className),t.appendASCIIString('"></span>'),1===c.type&&(a|=1,r++),2===c.type&&(a|=2,o++))}}catch(v){h.e(v)}finally{h.f()}t.appendASCIIString("</span>");var d=new f(1,r+o);return d.setColumnInfo(1,r,0,0),new g(d,!1,a)}return t.appendASCIIString("<span><span></span></span>"),new g(new f(0,0),!1,0)}return function(e,t){var n=e.fontIsMonospace,i=e.canUseHalfwidthRightwardsArrow,r=e.containsForeignElements,o=e.lineContent,a=e.len,u=e.isOverflowing,l=e.parts,h=e.fauxIndentLength,c=e.tabSize,d=e.startVisibleColumn,v=e.containsRTL,m=e.spaceWidth,_=e.renderSpaceCharCode,p=e.renderWhitespace,k=e.renderControlCharacters,y=new f(a+1,l.length),w=!1,b=0,V=d,N=0,I=0,S=0,M=0;v?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(var P=0,T=l.length;P<T;P++){M+=S;var x=l[P],D=x.endIndex,Z=x.type,O=0!==p&&x.isWhitespace(),E=O&&!n&&("mtkw"===Z||!r),A=b===D&&x.isPseudoAfter();if(N=0,t.appendASCIIString('<span class="'),t.appendASCIIString(E?"mtkz":Z),t.appendASCII(34),O){for(var W=0,R=b,H=V;R<D;R++){var j=0|(9===o.charCodeAt(R)?c-H%c:1);W+=j,R>=h&&(H+=j)}for(E&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(m*W)),t.appendASCIIString('px"')),t.appendASCII(62);b<D;b++){y.setColumnInfo(b+1,P-I,N,M),I=0;var F=void 0;if(9===o.charCodeAt(b)){F=c-V%c|0,!i||F>1?t.write1(8594):t.write1(65515);for(var z=2;z<=F;z++)t.write1(160)}else F=1,t.write1(_);N+=F,b>=h&&(V+=F)}S=W}else{var B=0;for(t.appendASCII(62);b<D;b++){y.setColumnInfo(b+1,P-I,N,M),I=0;var U=o.charCodeAt(b),q=1,Q=1;switch(U){case 9:Q=q=c-V%c;for(var G=1;G<=q;G++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:k?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:s.K7(U)&&Q++,k&&U<32?t.write1(9216+U):k&&127===U?t.write1(9249):k&&L(U)?(t.appendASCIIString("[U+"),t.appendASCIIString(C(U)),t.appendASCIIString("]"),q=8):t.write1(U)}N+=q,B+=q,b>=h&&(V+=Q)}S=B}A?I++:I=0,b>=a&&!w&&x.isPseudoAfter()&&(w=!0,y.setColumnInfo(b+1,P,N,M)),t.appendASCIIString("</span>")}w||y.setColumnInfo(a+1,l.length-1,N,M);u&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new g(y,v,r)}(function(e){var t,n,r=e.lineContent;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<r.length?(t=!0,n=e.stopRenderingLineAfter):(t=!1,n=r.length);var o=function(e,t,n){var i=[],r=0;t>0&&(i[r++]=new l(t,"",0));for(var o=0,s=e.getCount();o<s;o++){var a=e.getEndOffset(o);if(!(a<=t)){var u=e.getClassName(o);if(a>=n){i[r++]=new l(n,u,0);break}i[r++]=new l(a,u,0)}}return i}(e.lineTokens,e.fauxIndentLength,n);e.renderControlCharacters&&!e.isBasicASCII&&(o=function(e,t){var n,r=[],o=new l(0,"",0),s=0,a=(0,i.Z)(t);try{for(a.s();!(n=a.n()).done;){for(var u=n.value,h=u.endIndex;s<h;s++){L(e.charCodeAt(s))&&(s>o.endIndex&&(o=new l(s,u.type,u.metadata),r.push(o)),o=new l(s+1,"mtkcontrol",u.metadata),r.push(o))}s>o.endIndex&&(o=new l(h,u.type,u.metadata),r.push(o))}}catch(v){a.e(v)}finally{a.f()}return r}(r,o));(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(o=function(e,t,n,i){var r,o=e.continuesWithWrappedLine,a=e.fauxIndentLength,u=e.tabSize,h=e.startVisibleColumn,c=e.useMonospaceOptimizations,d=e.selectionsOnLine,f=1===e.renderWhitespace,g=3===e.renderWhitespace,v=e.renderSpaceWidth!==e.spaceWidth,m=[],_=0,p=0,L=i[p].type,C=i[p].endIndex,k=i.length,y=!1,w=s.LC(t);-1===w?(y=!0,w=n,r=n):r=s.ow(t);for(var b=!1,V=0,N=d&&d[V],I=h%u,S=a;S<n;S++){var M=t.charCodeAt(S);N&&S>=N.endOffset&&(V++,N=d&&d[V]);var P=void 0;if(S<w||S>r)P=!0;else if(9===M)P=!0;else if(32===M)if(f)if(b)P=!0;else{var T=S+1<n?t.charCodeAt(S+1):0;P=32===T||9===T}else P=!0;else P=!1;if(P&&d&&(P=!!N&&N.startOffset<=S&&N.endOffset>S),P&&g&&(P=y||S>r),b){if(!P||!c&&I>=u){if(v)for(var x=(_>0?m[_-1].endIndex:a)+1;x<=S;x++)m[_++]=new l(x,"mtkw",1);else m[_++]=new l(S,"mtkw",1);I%=u}}else(S===C||P&&S>a)&&(m[_++]=new l(S,L,0),I%=u);for(9===M?I=u:s.K7(M)?I+=2:I++,b=P;S===C&&++p<k;)L=i[p].type,C=i[p].endIndex}var D=!1;if(b)if(o&&f){var Z=n>0?t.charCodeAt(n-1):0,O=n>1?t.charCodeAt(n-2):0;32===Z&&32!==O&&9!==O||(D=!0)}else D=!0;if(D)if(v)for(var E=(_>0?m[_-1].endIndex:a)+1;E<=n;E++)m[_++]=new l(E,"mtkw",1);else m[_++]=new l(n,"mtkw",1);else m[_++]=new l(n,L,0);return m}(e,r,n,o));var a=0;if(e.lineDecorations.length>0){for(var h=0,c=e.lineDecorations.length;h<c;h++){var d=e.lineDecorations[h];3===d.type||1===d.type?a|=1:2===d.type&&(a|=2)}o=function(e,t,n,i){i.sort(u.Kp.compare);for(var r=u.k.normalize(e,i),o=r.length,s=0,a=[],h=0,c=0,d=0,f=n.length;d<f;d++){for(var g=n[d],v=g.endIndex,m=g.type,_=g.metadata;s<o&&r[s].startOffset<v;){var p=r[s];if(p.startOffset>c&&(c=p.startOffset,a[h++]=new l(c,m,_)),!(p.endOffset+1<=v)){c=v,a[h++]=new l(c,m+" "+p.className,_|p.metadata);break}c=p.endOffset+1,a[h++]=new l(c,m+" "+p.className,_|p.metadata),s++}v>c&&(c=v,a[h++]=new l(c,m,_))}var L=n[n.length-1].endIndex;if(s<o&&r[s].startOffset===L)for(;s<o&&r[s].startOffset===L;){var C=r[s];a[h++]=new l(c,C.className,C.metadata),s++}return a}(r,0,o,e.lineDecorations)}e.containsRTL||(o=function(e,t,n){var i=0,r=[],o=0;if(n)for(var s=0,a=t.length;s<a;s++){var u=t[s],h=u.endIndex;if(i+50<h){for(var c=u.type,d=u.metadata,f=-1,g=i,v=i;v<h;v++)32===e.charCodeAt(v)&&(f=v),-1!==f&&v-g>=50&&(r[o++]=new l(f+1,c,d),g=f+1,f=-1);g!==h&&(r[o++]=new l(h,c,d))}else r[o++]=u;i=h}else for(var m=0,_=t.length;m<_;m++){var p=t[m],L=p.endIndex,C=L-i;if(C>50){for(var k=p.type,y=p.metadata,w=Math.ceil(C/50),b=1;b<w;b++){var V=i+50*b;r[o++]=new l(V,k,y)}r[o++]=new l(L,k,y)}else r[o++]=p;i=L}return r}(r,o,!e.isBasicASCII||e.fontLigatures));return new p(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,r,n,t,o,a,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}var m=(0,o.Z)((function e(t,n,i,o){(0,r.Z)(this,e),this.characterMapping=t,this.html=n,this.containsRTL=i,this.containsForeignElements=o}));function _(e){var t=(0,a.l$)(1e4),n=v(e,t);return new m(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}var p=(0,o.Z)((function e(t,n,i,o,s,a,u,l,h,c,d,f,g,v,m){(0,r.Z)(this,e),this.fontIsMonospace=t,this.canUseHalfwidthRightwardsArrow=n,this.lineContent=i,this.len=o,this.isOverflowing=s,this.parts=a,this.containsForeignElements=u,this.fauxIndentLength=l,this.tabSize=h,this.startVisibleColumn=c,this.containsRTL=d,this.spaceWidth=f,this.renderSpaceCharCode=g,this.renderWhitespace=v,this.renderControlCharacters=m}));function L(e){return e<32?9!==e:127===e||(e>=8234&&e<=8238||e>=8294&&e<=8297||e>=8206&&e<=8207||1564===e)}function C(e){return e.toString(16).toUpperCase().padStart(4,"0")}},14660:function(e,t,n){n.d(t,{x:function(){return s}});var i=n(15671),r=n(43144),o=n(30788),s=function(){function e(t,n,r,s){(0,i.Z)(this,e),this.selections=t,this.startLineNumber=0|n.startLineNumber,this.endLineNumber=0|n.endLineNumber,this.relativeVerticalOffset=n.relativeVerticalOffset,this.bigNumbersDelta=0|n.bigNumbersDelta,this.whitespaceViewportData=r,this._model=s,this.visibleRange=new o.e(n.startLineNumber,this._model.getLineMinColumn(n.startLineNumber),n.endLineNumber,this._model.getLineMaxColumn(n.endLineNumber))}return(0,r.Z)(e,[{key:"getViewLineRenderingData",value:function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}},{key:"getDecorationsInViewport",value:function(){return this._model.getDecorationsInViewport(this.visibleRange)}}]),e}()},50187:function(e,t,n){n.d(t,{$l:function(){return f},$t:function(){return c},IP:function(){return l},SQ:function(){return g},Wx:function(){return d},l_:function(){return a},ud:function(){return u},wA:function(){return h}});var i=n(43144),r=n(15671),o=n(26684),s=n(30788),a=(0,i.Z)((function e(t,n,i,o){(0,r.Z)(this,e),this._viewportBrand=void 0,this.top=0|t,this.left=0|n,this.width=0|i,this.height=0|o})),u=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this.tabSize=t,this.data=n})),l=(0,i.Z)((function e(t,n,i,o,s,a,u){(0,r.Z)(this,e),this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=n,this.minColumn=i,this.maxColumn=o,this.startVisibleColumn=s,this.tokens=a,this.inlineDecorations=u})),h=function(){function e(t,n,i,o,s,a,u,l,h,c){(0,r.Z)(this,e),this.minColumn=t,this.maxColumn=n,this.content=i,this.continuesWithWrappedLine=o,this.isBasicASCII=e.isBasicASCII(i,a),this.containsRTL=e.containsRTL(i,this.isBasicASCII,s),this.tokens=u,this.inlineDecorations=l,this.tabSize=h,this.startVisibleColumn=c}return(0,i.Z)(e,null,[{key:"isBasicASCII",value:function(e,t){return!t||o.$i(e)}},{key:"containsRTL",value:function(e,t,n){return!(t||!n)&&o.Ut(e)}}]),e}(),c=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e),this.range=t,this.inlineClassName=n,this.type=i})),d=function(){function e(t,n,i,o){(0,r.Z)(this,e),this.startOffset=t,this.endOffset=n,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=o}return(0,i.Z)(e,[{key:"toInlineDecoration",value:function(e){return new c(new s.e(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}]),e}(),f=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this._viewModelDecorationBrand=void 0,this.range=t,this.options=n})),g=function(){function e(t,n,i){(0,r.Z)(this,e),this.color=t,this.zIndex=n,this.data=i}return(0,i.Z)(e,null,[{key:"cmp",value:function(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}]),e}()},85551:function(e,t,n){n.d(t,{E:function(){return c}});var i=n(15671),r=n(43144),o=n(60136),s=n(27277),a=n(28941),u=n(10526),l=n(65782),h=n(56417),c=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this))._onDidChange=new a.Q5,e.onDidChange=e._onDidChange.event,e._updateColorMap(),e._register(h.RW.onDidChange((function(t){t.changedColorMap&&e._updateColorMap()}))),e}return(0,r.Z)(n,[{key:"_updateColorMap",value:function(){var e=h.RW.getColorMap();if(!e)return this._colors=[l.h.Empty],void(this._backgroundIsLight=!0);this._colors=[l.h.Empty];for(var t=1;t<e.length;t++){var n=e[t].rgba;this._colors[t]=new l.h(n.r,n.g,n.b,Math.round(255*n.a))}var i=e[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)}},{key:"getColor",value:function(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}},{key:"backgroundIsLight",value:function(){return this._backgroundIsLight}}],[{key:"getInstance",value:function(){return this._INSTANCE||(this._INSTANCE=(0,u.dk)(new n)),this._INSTANCE}}]),n}(u.JT);c._INSTANCE=null},49304:function(e,t,n){n.d(t,{p:function(){return c}});var i=n(60136),r=n(27277),o=n(15671),s=n(43144),a=n(26684),u=n(70779),l=n(94583),h=n(1219),c=function(){function e(t,n){(0,o.Z)(this,e),this.classifier=new d(t,n)}return(0,s.Z)(e,[{key:"createLineBreaksComputer",value:function(e,t,n,i){var r=this,o=[],s=[],a=[];return{addRequest:function(e,t,n){o.push(e),s.push(t),a.push(n)},finalize:function(){for(var u=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,l=[],h=0,c=o.length;h<c;h++){var d=s[h],_=a[h];!_||_.injectionOptions||d?l[h]=m(r.classifier,o[h],d,t,n,u,i):l[h]=v(r.classifier,_,o[h],t,n,u,i)}return f.length=0,g.length=0,l}}}}],[{key:"create",value:function(t){return new e(t.get(120),t.get(119))}}]),e}(),d=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i){var r;(0,o.Z)(this,n),r=t.call(this,0);for(var s=0;s<e.length;s++)r.set(e.charCodeAt(s),1);for(var a=0;a<i.length;a++)r.set(i.charCodeAt(a),2);return r}return(0,s.Z)(n,[{key:"get",value:function(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}]),n}(u.N),f=[],g=[];function v(e,t,n,i,r,o,s){if(-1===r)return null;var u=n.length;if(u<=1)return null;var l=t.breakOffsets,h=t.breakOffsetsVisibleColumn,c=C(n,i,r,o,s),d=r-c,v=f,m=g,p=0,k=0,y=0,w=r,b=l.length,V=0;if(V>=0)for(var N=Math.abs(h[V]-w);V+1<b;){var I=Math.abs(h[V+1]-w);if(I>=N)break;N=I,V++}for(;V<b;){var S=V<0?0:l[V],M=V<0?0:h[V];k>S&&(S=k,M=y);var P=0,T=0,x=0,D=0;if(M<=w){for(var Z=M,O=0===S?0:n.charCodeAt(S-1),E=0===S?0:e.get(O),A=!0,W=S;W<u;W++){var R=W,H=n.charCodeAt(W),j=void 0,F=void 0;if(a.ZG(H)?(W++,j=0,F=2):(j=e.get(H),F=_(H,Z,i,o)),R>k&&L(O,E,H,j)&&(P=R,T=Z),(Z+=F)>w){R>k?(x=R,D=Z-F):(x=W+1,D=Z),Z-T>d&&(P=0),A=!1;break}O=H,E=j}if(A){p>0&&(v[p]=l[l.length-1],m[p]=h[l.length-1],p++);break}}if(0===P){for(var z=M,B=n.charCodeAt(S),U=e.get(B),q=!1,Q=S-1;Q>=k;Q--){var G=Q+1,J=n.charCodeAt(Q);if(9===J){q=!0;break}var K=void 0,$=void 0;if(a.YK(J)?(Q--,K=0,$=2):(K=e.get(J),$=a.K7(J)?o:1),z<=w){if(0===x&&(x=G,D=z),z<=w-d)break;if(L(J,K,B,U)){P=G,T=z;break}}z-=$,B=J,U=K}if(0!==P){var X=d-(D-T);if(X<=i){var Y=n.charCodeAt(x);X-(a.ZG(Y)?2:_(Y,D,i,o))<0&&(P=0)}}if(q){V--;continue}}if(0===P&&(P=x,T=D),P<=k){var ee=n.charCodeAt(k);a.ZG(ee)?(P=k+2,T=y+2):(P=k+1,T=y+_(ee,y,i,o))}for(k=P,v[p]=P,y=T,m[p]=T,p++,w=T+d;V<0||V<b&&h[V]<T;)V++;for(var te=Math.abs(h[V]-w);V+1<b;){var ne=Math.abs(h[V+1]-w);if(ne>=te)break;te=ne,V++}}return 0===p?null:(v.length=p,m.length=p,f=t.breakOffsets,g=t.breakOffsetsVisibleColumn,t.breakOffsets=v,t.breakOffsetsVisibleColumn=m,t.wrappedTextIndentLength=c,t)}function m(e,t,n,i,r,o,s){var u,c,d=l.gk.applyInjectedText(t,n);if(n&&n.length>0?(u=n.map((function(e){return e.options})),c=n.map((function(e){return e.column-1}))):(u=null,c=null),-1===r)return u?new h.gD(c,u,[d.length],[],0):null;var f=d.length;if(f<=1)return u?new h.gD(c,u,[d.length],[],0):null;var g=C(d,i,r,o,s),v=r-g,m=[],p=[],k=0,y=0,w=0,b=r,V=d.charCodeAt(0),N=e.get(V),I=_(V,0,i,o),S=1;a.ZG(V)&&(I+=1,V=d.charCodeAt(1),N=e.get(V),S++);for(var M=S;M<f;M++){var P=M,T=d.charCodeAt(M),x=void 0,D=void 0;a.ZG(T)?(M++,x=0,D=2):(x=e.get(T),D=_(T,I,i,o)),L(V,N,T,x)&&(y=P,w=I),(I+=D)>b&&((0===y||I-w>v)&&(y=P,w=I-D),m[k]=y,p[k]=w,k++,b=w+v,y=0),V=T,N=x}return 0!==k||n&&0!==n.length?(m[k]=f,p[k]=I,new h.gD(c,u,m,p,g)):null}function _(e,t,n,i){return 9===e?n-t%n:a.K7(e)||e<32?i:1}function p(e,t){return t-e%t}function L(e,t,n,i){return 32!==n&&(2===t||3===t&&2!==i||1===i||3===i&&1!==t)}function C(e,t,n,i,r){var o=0;if(0!==r){var s=a.LC(e);if(-1!==s){for(var u=0;u<s;u++){o+=9===e.charCodeAt(u)?p(o,t):1}for(var l=3===r?2:2===r?1:0,h=0;h<l;h++){o+=p(o,t)}o+i>n&&(o=0)}}return o}},55522:function(e,t,n){n.d(t,{EY:function(){return s},Tj:function(){return a}});var i=n(15671),r=n(43144),o=function(){function e(t,n,r){(0,i.Z)(this,e),this._colorZoneBrand=void 0,this.from=0|t,this.to=0|n,this.colorId=0|r}return(0,r.Z)(e,null,[{key:"compare",value:function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}]),e}(),s=function(){function e(t,n,r,o){(0,i.Z)(this,e),this._overviewRulerZoneBrand=void 0,this.startLineNumber=t,this.endLineNumber=n,this.heightInLines=r,this.color=o,this._colorZone=null}return(0,r.Z)(e,[{key:"setColorZone",value:function(e){this._colorZone=e}},{key:"getColorZones",value:function(){return this._colorZone}}],[{key:"compare",value:function(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}}]),e}(),a=function(){function e(t){(0,i.Z)(this,e),this._getVerticalOffsetForLine=t,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return(0,r.Z)(e,[{key:"getId2Color",value:function(){return this._id2Color}},{key:"setZones",value:function(e){this._zones=e,this._zones.sort(s.compare)}},{key:"setLineHeight",value:function(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this._colorZonesInvalid=!0}},{key:"getDOMWidth",value:function(){return this._domWidth}},{key:"getCanvasWidth",value:function(){return this._domWidth*this._pixelRatio}},{key:"setDOMWidth",value:function(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}},{key:"getDOMHeight",value:function(){return this._domHeight}},{key:"getCanvasHeight",value:function(){return this._domHeight*this._pixelRatio}},{key:"setDOMHeight",value:function(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}},{key:"getOuterHeight",value:function(){return this._outerHeight}},{key:"setOuterHeight",value:function(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}},{key:"resolveColorZones",value:function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),i=n/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2),s=[],a=0,u=this._zones.length;a<u;a++){var l=this._zones[a];if(!e){var h=l.getColorZones();if(h){s.push(h);continue}}var c=this._getVerticalOffsetForLine(l.startLineNumber),d=0===l.heightInLines?this._getVerticalOffsetForLine(l.endLineNumber)+t:c+l.heightInLines*t,f=Math.floor(i*c),g=Math.floor(i*d),v=Math.floor((f+g)/2),m=g-v;m<r&&(m=r),v-m<0&&(v=m),v+m>n&&(v=n-m);var _=l.color,p=this._color2Id[_];p||(p=++this._lastAssignedId,this._color2Id[_]=p,this._id2Color[p]=_);var L=new o(v-m,v+m,p);l.setColorZone(L),s.push(L)}return this._colorZonesInvalid=!1,s.sort(o.compare),s}}]),e}()},8003:function(e,t,n){n.d(t,{A:function(){return s}});var i=n(15671),r=n(43144),o=n(24948),s=function(){function e(t,n,r){(0,i.Z)(this,e),this.configuration=t,this.theme=new o.b(n),this.viewModel=r,this.viewLayout=r.viewLayout}return(0,r.Z)(e,[{key:"addEventHandler",value:function(e){this.viewModel.addViewEventHandler(e)}},{key:"removeEventHandler",value:function(e){this.viewModel.removeViewEventHandler(e)}}]),e}()},13037:function(e,t,n){n.d(t,{$t:function(){return c},CU:function(){return l},Fd:function(){return h},zg:function(){return d}});var i=n(15671),r=n(43144),o=n(10849),s=n(30788),a=n(50187),u=n(31492),l=function(){function e(t,n,r,o,s){(0,i.Z)(this,e),this.editorId=t,this.model=n,this.configuration=r,this._linesCollection=o,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return(0,r.Z)(e,[{key:"_clearCachedModelDecorationsResolver",value:function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}},{key:"dispose",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"reset",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"onModelDecorationsChanged",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"onLineMappingChanged",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"_getOrCreateViewModelDecoration",value:function(e){var t=e.id,n=this._decorationsCache[t];if(!n){var i,r=e.range,u=e.options;if(u.isWholeLine){var l=this._coordinatesConverter.convertModelPositionToViewPosition(new o.L(r.startLineNumber,1),0),h=this._coordinatesConverter.convertModelPositionToViewPosition(new o.L(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);i=new s.e(l.lineNumber,l.column,h.lineNumber,h.column)}else i=this._coordinatesConverter.convertModelRangeToViewRange(r,1);n=new a.$l(i,u),this._decorationsCache[t]=n}return n}},{key:"getDecorationsViewportData",value:function(e){var t=null!==this._cachedModelDecorationsResolver;return(t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}},{key:"_getDecorationsViewportData",value:function(e){for(var t=this._linesCollection.getDecorationsInRange(e,this.editorId,(0,u.$J)(this.configuration.options)),n=e.startLineNumber,i=e.endLineNumber,r=[],o=0,l=[],c=n;c<=i;c++)l[c-n]=[];for(var d=0,f=t.length;d<f;d++){var g=t[d],v=g.options;if(h(this.model,g)){var m=this._getOrCreateViewModelDecoration(g),_=m.range;if(r[o++]=m,v.inlineClassName)for(var p=new a.$t(_,v.inlineClassName,v.inlineClassNameAffectsLetterSpacing?3:0),L=Math.max(n,_.startLineNumber),C=Math.min(i,_.endLineNumber),k=L;k<=C;k++)l[k-n].push(p);if(v.beforeContentClassName&&n<=_.startLineNumber&&_.startLineNumber<=i){var y=new a.$t(new s.e(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn),v.beforeContentClassName,1);l[_.startLineNumber-n].push(y)}if(v.afterContentClassName&&n<=_.endLineNumber&&_.endLineNumber<=i){var w=new a.$t(new s.e(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn),v.afterContentClassName,2);l[_.endLineNumber-n].push(w)}}}return{decorations:r,inlineDecorations:l}}}]),e}();function h(e,t){return(!t.options.hideInCommentTokens||!c(e,t))&&(!t.options.hideInStringTokens||!d(e,t))}function c(e,t){return f(e,t.range,(function(e){return 1===e}))}function d(e,t){return f(e,t.range,(function(e){return 2===e}))}function f(e,t,n){for(var i=t.startLineNumber;i<=t.endLineNumber;i++)for(var r=e.getLineTokens(i),o=i===t.startLineNumber,s=i===t.endLineNumber,a=o?r.findTokenIndexAtOffset(t.startColumn-1):0;a<r.getCount();){if(s)if(r.getStartOffset(a)>t.endColumn-1)break;if(!n(r.getStandardTokenType(a)))return!1;a++}return!0}},80270:function(e,t,n){n.d(t,{j:function(){return re}});var i=n(93433),r=n(29439),o=n(37762),s=n(15671),a=n(43144),u=n(97326),l=n(11752),h=n(61120),c=n(60136),d=n(27277),f=n(71881),g=n(32590),v=n(17424),m=n(10526),_=n(4827),p=n(26684),L=n(31492),C=n(48454),k=n(16263),y=n(10849),w=n(30788),b=n(94583),V=n(56417),N=n(73833),I=n(93586),S=n(46537),M=n(28941),P=n(17603),T=function(){function e(){(0,s.Z)(this,e),this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}return(0,a.Z)(e,[{key:"insert",value:function(e){this._hasPending=!0,this._inserts.push(e)}},{key:"change",value:function(e){this._hasPending=!0,this._changes.push(e)}},{key:"remove",value:function(e){this._hasPending=!0,this._removes.push(e)}},{key:"mustCommit",value:function(){return this._hasPending}},{key:"commit",value:function(e){if(this._hasPending){var t=this._inserts,n=this._changes,i=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,n,i)}}}]),e}(),x=(0,a.Z)((function e(t,n,i,r,o){(0,s.Z)(this,e),this.id=t,this.afterLineNumber=n,this.ordinal=i,this.height=r,this.minWidth=o,this.prefixSum=0})),D=function(){function e(t,n,i,r){(0,s.Z)(this,e),this._instanceId=p.PJ(++e.INSTANCE_COUNT),this._pendingChanges=new T,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=n,this._paddingTop=i,this._paddingBottom=r}return(0,a.Z)(e,[{key:"setLineHeight",value:function(e){this._checkPendingChanges(),this._lineHeight=e}},{key:"setPadding",value:function(e,t){this._paddingTop=e,this._paddingBottom=t}},{key:"onFlushed",value:function(e){this._checkPendingChanges(),this._lineCount=e}},{key:"changeWhitespace",value:function(e){var t=this,n=!1;try{e({insertWhitespace:function(e,i,r,o){n=!0,e|=0,i|=0,r|=0,o|=0;var s=t._instanceId+ ++t._lastWhitespaceId;return t._pendingChanges.insert(new x(s,e,i,r,o)),s},changeOneWhitespace:function(e,i,r){n=!0,i|=0,r|=0,t._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:r})},removeWhitespace:function(e){n=!0,t._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return n}},{key:"_commitPendingChanges",value:function(e,t,n){if((e.length>0||n.length>0)&&(this._minWidth=-1),e.length+t.length+n.length<=1){var i,r=(0,o.Z)(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;this._insertWhitespace(s)}}catch(b){r.e(b)}finally{r.f()}var a,u=(0,o.Z)(t);try{for(u.s();!(a=u.n()).done;){var l=a.value;this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight)}}catch(b){u.e(b)}finally{u.f()}var h,c=(0,o.Z)(n);try{for(c.s();!(h=c.n()).done;){var d=h.value,f=this._findWhitespaceIndex(d.id);-1!==f&&this._removeWhitespace(f)}}catch(b){c.e(b)}finally{c.f()}}else{var g,v=new Set,m=(0,o.Z)(n);try{for(m.s();!(g=m.n()).done;){var _=g.value;v.add(_.id)}}catch(b){m.e(b)}finally{m.f()}var p,L=new Map,C=(0,o.Z)(t);try{for(C.s();!(p=C.n()).done;){var k=p.value;L.set(k.id,k)}}catch(b){C.e(b)}finally{C.f()}var y=function(e){var t,n=[],i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(!v.has(r.id)){if(L.has(r.id)){var s=L.get(r.id);r.afterLineNumber=s.newAfterLineNumber,r.height=s.newHeight}n.push(r)}}}catch(b){i.e(b)}finally{i.f()}return n},w=y(this._arr).concat(y(e));w.sort((function(e,t){return e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber})),this._arr=w,this._prefixSumValidIndex=-1}}},{key:"_checkPendingChanges",value:function(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}},{key:"_insertWhitespace",value:function(t){var n=e.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(n,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)}},{key:"_findWhitespaceIndex",value:function(e){for(var t=this._arr,n=0,i=t.length;n<i;n++)if(t[n].id===e)return n;return-1}},{key:"_changeOneWhitespace",value:function(e,t,n){var i=this._findWhitespaceIndex(e);if(-1!==i&&(this._arr[i].height!==n&&(this._arr[i].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)),this._arr[i].afterLineNumber!==t)){var r=this._arr[i];this._removeWhitespace(i),r.afterLineNumber=t,this._insertWhitespace(r)}}},{key:"_removeWhitespace",value:function(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}},{key:"onLinesDeleted",value:function(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(var n=0,i=this._arr.length;n<i;n++){var r=this._arr[n].afterLineNumber;e<=r&&r<=t?this._arr[n].afterLineNumber=e-1:r>t&&(this._arr[n].afterLineNumber-=t-e+1)}}},{key:"onLinesInserted",value:function(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(var n=0,i=this._arr.length;n<i;n++){e<=this._arr[n].afterLineNumber&&(this._arr[n].afterLineNumber+=t-e+1)}}},{key:"getWhitespacesTotalHeight",value:function(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}},{key:"getWhitespacesAccumulatedHeight",value:function(e){this._checkPendingChanges(),e|=0;var t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(var n=t;n<=e;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}},{key:"getLinesTotalHeight",value:function(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}},{key:"getWhitespaceAccumulatedHeightBeforeLineNumber",value:function(e){this._checkPendingChanges(),e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}},{key:"_findLastWhitespaceBeforeLineNumber",value:function(e){e|=0;for(var t=this._arr,n=0,i=t.length-1;n<=i;){var r=n+((i-n|0)/2|0)|0;if(t[r].afterLineNumber<e){if(r+1>=t.length||t[r+1].afterLineNumber>=e)return r;n=r+1|0}else i=r-1|0}return-1}},{key:"_findFirstWhitespaceAfterLineNumber",value:function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}},{key:"getFirstWhitespaceIndexAfterLineNumber",value:function(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}},{key:"getVerticalOffsetForLineNumber",value:function(e){return this._checkPendingChanges(),((e|=0)>1?this._lineHeight*(e-1):0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}},{key:"getWhitespaceMinWidth",value:function(){if(this._checkPendingChanges(),-1===this._minWidth){for(var e=0,t=0,n=this._arr.length;t<n;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}},{key:"isAfterLines",value:function(e){return this._checkPendingChanges(),e>this.getLinesTotalHeight()}},{key:"isInTopPadding",value:function(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}},{key:"isInBottomPadding",value:function(e){return 0!==this._paddingBottom&&(this._checkPendingChanges(),e>=this.getLinesTotalHeight()-this._paddingBottom)}},{key:"getLineNumberAtOrAfterVerticalOffset",value:function(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;for(var t=0|this._lineCount,n=this._lineHeight,i=1,r=t;i<r;){var o=(i+r)/2|0,s=0|this.getVerticalOffsetForLineNumber(o);if(e>=s+n)i=o+1;else{if(e>=s)return o;r=o}}return i>t?t:i}},{key:"getLinesViewportData",value:function(e,t){this._checkPendingChanges(),e|=0,t|=0;var n,i,r=this._lineHeight,o=0|this.getLineNumberAtOrAfterVerticalOffset(e),s=0|this.getVerticalOffsetForLineNumber(o),a=0|this._lineCount,u=0|this.getFirstWhitespaceIndexAfterLineNumber(o),l=0|this.getWhitespacesCount();-1===u?(u=l,i=a+1,n=0):(i=0|this.getAfterLineNumberForWhitespaceIndex(u),n=0|this.getHeightForWhitespaceIndex(u));var h=s,c=h,d=5e5,f=0;s>=d&&(f=Math.floor(s/d)*d,c-=f=Math.floor(f/r)*r);for(var g=[],v=e+(t-e)/2,m=-1,_=o;_<=a;_++){if(-1===m){(h<=v&&v<h+r||h>v)&&(m=_)}for(h+=r,g[_-o]=c,c+=r;i===_;)c+=n,h+=n,++u>=l?i=a+1:(i=0|this.getAfterLineNumberForWhitespaceIndex(u),n=0|this.getHeightForWhitespaceIndex(u));if(h>=t){a=_;break}}-1===m&&(m=a);var p=0|this.getVerticalOffsetForLineNumber(a),L=o,C=a;return L<C&&s<e&&L++,L<C&&p+r>t&&C--,{bigNumbersDelta:f,startLineNumber:o,endLineNumber:a,relativeVerticalOffset:g,centeredLineNumber:m,completelyVisibleStartLineNumber:L,completelyVisibleEndLineNumber:C}}},{key:"getVerticalOffsetForWhitespaceIndex",value:function(e){this._checkPendingChanges(),e|=0;var t=this.getAfterLineNumberForWhitespaceIndex(e);return(t>=1?this._lineHeight*t:0)+(e>0?this.getWhitespacesAccumulatedHeight(e-1):0)+this._paddingTop}},{key:"getWhitespaceIndexAtOrAfterVerticallOffset",value:function(e){this._checkPendingChanges(),e|=0;var t=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(n)+this.getHeightForWhitespaceIndex(n))return-1;for(;t<n;){var i=Math.floor((t+n)/2),r=this.getVerticalOffsetForWhitespaceIndex(i);if(e>=r+this.getHeightForWhitespaceIndex(i))t=i+1;else{if(e>=r)return i;n=i}}return t}},{key:"getWhitespaceAtVerticalOffset",value:function(e){this._checkPendingChanges(),e|=0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;var n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;var i=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:n,height:i}}},{key:"getWhitespaceViewportData",value:function(e,t){this._checkPendingChanges(),e|=0,t|=0;var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this.getWhitespacesCount()-1;if(n<0)return[];for(var r=[],o=n;o<=i;o++){var s=this.getVerticalOffsetForWhitespaceIndex(o),a=this.getHeightForWhitespaceIndex(o);if(s>=t)break;r.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:s,height:a})}return r}},{key:"getWhitespaces",value:function(){return this._checkPendingChanges(),this._arr.slice(0)}},{key:"getWhitespacesCount",value:function(){return this._checkPendingChanges(),this._arr.length}},{key:"getIdForWhitespaceIndex",value:function(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}},{key:"getAfterLineNumberForWhitespaceIndex",value:function(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}},{key:"getHeightForWhitespaceIndex",value:function(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}],[{key:"findInsertionIndex",value:function(e,t,n){for(var i=0,r=e.length;i<r;){var o=i+r>>>1;t===e[o].afterLineNumber?n<e[o].ordinal?r=o:i=o+1:t<e[o].afterLineNumber?r=o:i=o+1}return i}}]),e}();D.INSTANCE_COUNT=0;var Z=n(50187),O=n(74306),E=function(){function e(t,n,i,r){(0,s.Z)(this,e),(t|=0)<0&&(t=0),(n|=0)<0&&(n=0),(i|=0)<0&&(i=0),(r|=0)<0&&(r=0),this.width=t,this.contentWidth=n,this.scrollWidth=Math.max(t,n),this.height=i,this.contentHeight=r,this.scrollHeight=Math.max(i,r)}return(0,a.Z)(e,[{key:"equals",value:function(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}]),e}(),A=function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e,i){var r;return(0,s.Z)(this,n),(r=t.call(this))._onDidContentSizeChange=r._register(new M.Q5),r.onDidContentSizeChange=r._onDidContentSizeChange.event,r._dimensions=new E(0,0,0,0),r._scrollable=r._register(new P.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:i})),r.onDidScroll=r._scrollable.onScroll,r}return(0,a.Z)(n,[{key:"getScrollable",value:function(){return this._scrollable}},{key:"setSmoothScrollDuration",value:function(e){this._scrollable.setSmoothScrollDuration(e)}},{key:"validateScrollPosition",value:function(e){return this._scrollable.validateScrollPosition(e)}},{key:"getScrollDimensions",value:function(){return this._dimensions}},{key:"setScrollDimensions",value:function(e){if(!this._dimensions.equals(e)){var t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);var n=t.contentWidth!==e.contentWidth,i=t.contentHeight!==e.contentHeight;(n||i)&&this._onDidContentSizeChange.fire(new O.zf(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}}},{key:"getFutureScrollPosition",value:function(){return this._scrollable.getFutureScrollPosition()}},{key:"getCurrentScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"setScrollPositionNow",value:function(e){this._scrollable.setScrollPositionNow(e)}},{key:"setScrollPositionSmooth",value:function(e){this._scrollable.setScrollPositionSmooth(e)}}]),n}(m.JT),W=function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e,i,r){var o;(0,s.Z)(this,n),(o=t.call(this))._configuration=e;var a=o._configuration.options,u=a.get(131),l=a.get(75);return o._linesLayout=new D(i,a.get(59),l.top,l.bottom),o._scrollable=o._register(new A(0,r)),o._configureSmoothScrollDuration(),o._scrollable.setScrollDimensions(new E(u.contentWidth,0,u.height,0)),o.onDidScroll=o._scrollable.onDidScroll,o.onDidContentSizeChange=o._scrollable.onDidContentSizeChange,o._updateHeight(),o}return(0,a.Z)(n,[{key:"dispose",value:function(){(0,l.Z)((0,h.Z)(n.prototype),"dispose",this).call(this)}},{key:"getScrollable",value:function(){return this._scrollable.getScrollable()}},{key:"onHeightMaybeChanged",value:function(){this._updateHeight()}},{key:"_configureSmoothScrollDuration",value:function(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?125:0)}},{key:"onConfigurationChanged",value:function(e){var t=this._configuration.options;if(e.hasChanged(59)&&this._linesLayout.setLineHeight(t.get(59)),e.hasChanged(75)){var n=t.get(75);this._linesLayout.setPadding(n.top,n.bottom)}if(e.hasChanged(131)){var i=t.get(131),r=i.contentWidth,o=i.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new E(r,s.contentWidth,o,this._getContentHeight(r,o,a)))}else this._updateHeight();e.hasChanged(103)&&this._configureSmoothScrollDuration()}},{key:"onFlushed",value:function(e){this._linesLayout.onFlushed(e)}},{key:"onLinesDeleted",value:function(e,t){this._linesLayout.onLinesDeleted(e,t)}},{key:"onLinesInserted",value:function(e,t){this._linesLayout.onLinesInserted(e,t)}},{key:"_getHorizontalScrollbarHeight",value:function(e,t){var n=this._configuration.options.get(92);return 2===n.horizontal||e>=t?0:n.horizontalScrollbarSize}},{key:"_getContentHeight",value:function(e,t,n){var i=this._configuration.options,r=this._linesLayout.getLinesTotalHeight();return i.get(94)?r+=Math.max(0,t-i.get(59)-i.get(75).bottom):r+=this._getHorizontalScrollbarHeight(e,n),r}},{key:"_updateHeight",value:function(){var e=this._scrollable.getScrollDimensions(),t=e.width,n=e.height,i=e.contentWidth;this._scrollable.setScrollDimensions(new E(t,e.contentWidth,n,this._getContentHeight(t,n,i)))}},{key:"getCurrentViewport",value:function(){var e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new Z.l_(t.scrollTop,t.scrollLeft,e.width,e.height)}},{key:"getFutureViewport",value:function(){var e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new Z.l_(t.scrollTop,t.scrollLeft,e.width,e.height)}},{key:"_computeContentWidth",value:function(e){var t=this._configuration.options,n=t.get(132),i=t.get(44);if(n.isViewportWrapping){var r=t.get(131),o=t.get(65);return e>r.contentWidth+i.typicalHalfwidthCharacterWidth&&o.enabled&&"right"===o.side?e+r.verticalScrollbarWidth:e}var s=t.get(93)*i.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+s,a)}},{key:"setMaxLineWidth",value:function(e){var t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new E(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}},{key:"saveState",value:function(){var e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:e.scrollLeft}}},{key:"changeWhitespace",value:function(e){var t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}},{key:"getVerticalOffsetForLineNumber",value:function(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}},{key:"isAfterLines",value:function(e){return this._linesLayout.isAfterLines(e)}},{key:"isInTopPadding",value:function(e){return this._linesLayout.isInTopPadding(e)}},{key:"isInBottomPadding",value:function(e){return this._linesLayout.isInBottomPadding(e)}},{key:"getLineNumberAtVerticalOffset",value:function(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}},{key:"getWhitespaceAtVerticalOffset",value:function(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}},{key:"getLinesViewportData",value:function(){var e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}},{key:"getLinesViewportDataAtScrollTop",value:function(e){var t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}},{key:"getWhitespaceViewportData",value:function(){var e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}},{key:"getWhitespaces",value:function(){return this._linesLayout.getWhitespaces()}},{key:"getContentWidth",value:function(){return this._scrollable.getScrollDimensions().contentWidth}},{key:"getScrollWidth",value:function(){return this._scrollable.getScrollDimensions().scrollWidth}},{key:"getContentHeight",value:function(){return this._scrollable.getScrollDimensions().contentHeight}},{key:"getScrollHeight",value:function(){return this._scrollable.getScrollDimensions().scrollHeight}},{key:"getCurrentScrollLeft",value:function(){return this._scrollable.getCurrentScrollPosition().scrollLeft}},{key:"getCurrentScrollTop",value:function(){return this._scrollable.getCurrentScrollPosition().scrollTop}},{key:"validateScrollPosition",value:function(e){return this._scrollable.validateScrollPosition(e)}},{key:"setScrollPosition",value:function(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}},{key:"deltaScrollNow",value:function(e,t){var n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})}}]),n}(m.JT),R=n(85551),H=n(13037),j=n(54612),F=n(27959),z=n(58705);function B(e,t){return null===e?t?q.INSTANCE:Q.INSTANCE:new U(e,t)}var U=function(){function e(t,n){(0,s.Z)(this,e),this._projectionData=t,this._isVisible=n}return(0,a.Z)(e,[{key:"isVisible",value:function(){return this._isVisible}},{key:"setVisible",value:function(e){return this._isVisible=e,this}},{key:"getProjectionData",value:function(){return this._projectionData}},{key:"getViewLineCount",value:function(){return this._isVisible?this._projectionData.getOutputLineCount():0}},{key:"getViewLineContent",value:function(e,t,n){var i=this;this._assertVisible();var r,o=n>0?this._projectionData.breakOffsets[n-1]:0,s=this._projectionData.breakOffsets[n];if(null!==this._projectionData.injectionOffsets){var a=this._projectionData.injectionOffsets.map((function(e,t){return new b.gk(0,0,e+1,i._projectionData.injectionOptions[t],0)}));r=b.gk.applyInjectedText(e.getLineContent(t),a).substring(o,s)}else r=e.getValueInRange({startLineNumber:t,startColumn:o+1,endLineNumber:t,endColumn:s+1});return n>0&&(r=J(this._projectionData.wrappedTextIndentLength)+r),r}},{key:"getViewLineLength",value:function(e,t,n){return this._assertVisible(),this._projectionData.getLineLength(n)}},{key:"getViewLineMinColumn",value:function(e,t,n){return this._assertVisible(),this._projectionData.getMinOutputOffset(n)+1}},{key:"getViewLineMaxColumn",value:function(e,t,n){return this._assertVisible(),this._projectionData.getMaxOutputOffset(n)+1}},{key:"getViewLineData",value:function(e,t,n){var i=new Array;return this.getViewLinesData(e,t,n,1,0,[!0],i),i[0]}},{key:"getViewLinesData",value:function(e,t,n,i,r,o,s){this._assertVisible();var a,u=this._projectionData,l=u.injectionOffsets,h=u.injectionOptions,c=null;if(l){c=[];for(var d=0,f=0,g=0;g<u.getOutputLineCount();g++){var v=new Array;c[g]=v;for(var m=g>0?u.breakOffsets[g-1]:0,_=u.breakOffsets[g];f<l.length;){var p=h[f].content.length,L=l[f]+d,C=L+p;if(L>_)break;if(m<C){var k=h[f];if(k.inlineClassName){var y=g>0?u.wrappedTextIndentLength:0,w=y+Math.max(L-m,0),b=y+Math.min(C-m,_);w!==b&&v.push(new Z.Wx(w,b,k.inlineClassName,k.inlineClassNameAffectsLetterSpacing))}}if(!(C<=_))break;d+=p,f++}}}a=l?e.getLineTokens(t).withInserted(l.map((function(e,t){return{offset:e,text:h[t].content,tokenMetadata:z.A.defaultTokenMetadata}}))):e.getLineTokens(t);for(var V=n;V<n+i;V++){var N=r+V-n;o[N]?s[N]=this._getViewLineData(a,c?c[V]:null,V):s[N]=null}}},{key:"_getViewLineData",value:function(e,t,n){this._assertVisible();var i=this._projectionData,r=n>0?i.wrappedTextIndentLength:0,o=n>0?i.breakOffsets[n-1]:0,s=i.breakOffsets[n],a=e.sliceAndInflate(o,s,r),u=a.getLineContent();n>0&&(u=J(i.wrappedTextIndentLength)+u);var l=this._projectionData.getMinOutputOffset(n)+1,h=u.length+1,c=n+1<this.getViewLineCount(),d=0===n?0:i.breakOffsetsVisibleColumn[n-1];return new Z.IP(u,c,l,h,d,a,t)}},{key:"getModelColumnOfViewPosition",value:function(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}},{key:"getViewPositionOfModelPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this._assertVisible();var i=this._projectionData.translateToOutputPosition(t-1,n);return i.toPosition(e)}},{key:"getViewLineNumberOfModelPosition",value:function(e,t){return this._assertVisible(),e+this._projectionData.translateToOutputPosition(t-1).outputLineIndex}},{key:"normalizePosition",value:function(e,t,n){var i=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,n).toPosition(i)}},{key:"getInjectedTextAt",value:function(e,t){return this._projectionData.getInjectedText(e,t-1)}},{key:"_assertVisible",value:function(){if(!this._isVisible)throw new Error("Not supported")}}]),e}(),q=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"isVisible",value:function(){return!0}},{key:"setVisible",value:function(e){return e?this:Q.INSTANCE}},{key:"getProjectionData",value:function(){return null}},{key:"getViewLineCount",value:function(){return 1}},{key:"getViewLineContent",value:function(e,t,n){return e.getLineContent(t)}},{key:"getViewLineLength",value:function(e,t,n){return e.getLineLength(t)}},{key:"getViewLineMinColumn",value:function(e,t,n){return e.getLineMinColumn(t)}},{key:"getViewLineMaxColumn",value:function(e,t,n){return e.getLineMaxColumn(t)}},{key:"getViewLineData",value:function(e,t,n){var i=e.getLineTokens(t),r=i.getLineContent();return new Z.IP(r,!1,1,r.length+1,0,i.inflate(),null)}},{key:"getViewLinesData",value:function(e,t,n,i,r,o,s){o[r]?s[r]=this.getViewLineData(e,t,0):s[r]=null}},{key:"getModelColumnOfViewPosition",value:function(e,t){return t}},{key:"getViewPositionOfModelPosition",value:function(e,t){return new y.L(e,t)}},{key:"getViewLineNumberOfModelPosition",value:function(e,t){return e}},{key:"normalizePosition",value:function(e,t,n){return t}},{key:"getInjectedTextAt",value:function(e,t){return null}}]),e}();q.INSTANCE=new q;var Q=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"isVisible",value:function(){return!1}},{key:"setVisible",value:function(e){return e?q.INSTANCE:this}},{key:"getProjectionData",value:function(){return null}},{key:"getViewLineCount",value:function(){return 0}},{key:"getViewLineContent",value:function(e,t,n){throw new Error("Not supported")}},{key:"getViewLineLength",value:function(e,t,n){throw new Error("Not supported")}},{key:"getViewLineMinColumn",value:function(e,t,n){throw new Error("Not supported")}},{key:"getViewLineMaxColumn",value:function(e,t,n){throw new Error("Not supported")}},{key:"getViewLineData",value:function(e,t,n){throw new Error("Not supported")}},{key:"getViewLinesData",value:function(e,t,n,i,r,o,s){throw new Error("Not supported")}},{key:"getModelColumnOfViewPosition",value:function(e,t){throw new Error("Not supported")}},{key:"getViewPositionOfModelPosition",value:function(e,t){throw new Error("Not supported")}},{key:"getViewLineNumberOfModelPosition",value:function(e,t){throw new Error("Not supported")}},{key:"normalizePosition",value:function(e,t,n){throw new Error("Not supported")}},{key:"getInjectedTextAt",value:function(e,t){throw new Error("Not supported")}}]),e}();Q.INSTANCE=new Q;var G=[""];function J(e){if(e>=G.length)for(var t=1;t<=e;t++)G[t]=K(t);return G[e]}function K(e){return new Array(e+1).join(" ")}var $=n(34725),X=function(){function e(t,n,i,r,o,a,u,l,h){(0,s.Z)(this,e),this._editorId=t,this.model=n,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=o,this.tabSize=a,this.wrappingStrategy=u,this.wrappingColumn=l,this.wrappingIndent=h,this._constructLines(!0,null)}return(0,a.Z)(e,[{key:"dispose",value:function(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}},{key:"createCoordinatesConverter",value:function(){return new te(this)}},{key:"_constructLines",value:function(e,t){var n=this;this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));for(var i=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),o=i.length,s=this.createLineBreaksComputer(),a=new f.H9(b.gk.fromDecorations(r)),u=function(e){var n=a.takeWhile((function(t){return t.lineNumber===e+1}));s.addRequest(i[e],n,t?t[e]:null)},l=0;l<o;l++)u(l);for(var h=s.finalize(),c=[],d=this.hiddenAreasDecorationIds.map((function(e){return n.model.getDecorationRange(e)})).sort(w.e.compareRangesUsingStarts),g=1,v=0,m=-1,_=m+1<d.length?v+1:o+2,p=0;p<o;p++){var L=p+1;L===_&&(g=d[++m].startLineNumber,v=d[m].endLineNumber,_=m+1<d.length?v+1:o+2);var C=L>=g&&L<=v,k=B(h[p],!C);c[p]=k.getViewLineCount(),this.modelLineProjections[p]=k}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new $.Ck(c)}},{key:"getHiddenAreas",value:function(){var e=this;return this.hiddenAreasDecorationIds.map((function(t){return e.model.getDecorationRange(t)}))}},{key:"setHiddenAreas",value:function(e){var t=this,n=function(e){if(0===e.length)return[];var t=e.slice();t.sort(w.e.compareRangesUsingStarts);for(var n=[],i=t[0].startLineNumber,r=t[0].endLineNumber,o=1,s=t.length;o<s;o++){var a=t[o];a.startLineNumber>r+1?(n.push(new w.e(i,1,r,1)),i=a.startLineNumber,r=a.endLineNumber):a.endLineNumber>r&&(r=a.endLineNumber)}return n.push(new w.e(i,1,r,1)),n}(e.map((function(e){return t.model.validateRange(e)}))),i=this.hiddenAreasDecorationIds.map((function(e){return t.model.getDecorationRange(e)})).sort(w.e.compareRangesUsingStarts);if(n.length===i.length){for(var r=!1,o=0;o<n.length;o++)if(!n[o].equalsRange(i[o])){r=!0;break}if(!r)return!1}var s=n.map((function(e){return{range:e,options:F.qx.EMPTY}}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);for(var a=n,u=1,l=0,h=-1,c=h+1<a.length?l+1:this.modelLineProjections.length+2,d=!1,f=0;f<this.modelLineProjections.length;f++){var g=f+1;g===c&&(u=a[++h].startLineNumber,l=a[h].endLineNumber,c=h+1<a.length?l+1:this.modelLineProjections.length+2);var v=!1;if(g>=u&&g<=l?this.modelLineProjections[f].isVisible()&&(this.modelLineProjections[f]=this.modelLineProjections[f].setVisible(!1),v=!0):(d=!0,this.modelLineProjections[f].isVisible()||(this.modelLineProjections[f]=this.modelLineProjections[f].setVisible(!0),v=!0)),v){var m=this.modelLineProjections[f].getViewLineCount();this.projectedModelLineLineCounts.setValue(f,m)}}return d||this.setHiddenAreas([]),!0}},{key:"modelPositionIsVisible",value:function(e,t){return!(e<1||e>this.modelLineProjections.length)&&this.modelLineProjections[e-1].isVisible()}},{key:"getModelLineViewLineCount",value:function(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}},{key:"setTabSize",value:function(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}},{key:"setWrappingSettings",value:function(e,t,n,i){var r=this.fontInfo.equals(e),o=this.wrappingStrategy===t,s=this.wrappingColumn===n,a=this.wrappingIndent===i;if(r&&o&&s&&a)return!1;var u=r&&o&&!s&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=i;var l=null;if(u){l=[];for(var h=0,c=this.modelLineProjections.length;h<c;h++)l[h]=this.modelLineProjections[h].getProjectionData()}return this._constructLines(!1,l),!0}},{key:"createLineBreaksComputer",value:function(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}},{key:"onModelFlushed",value:function(){this._constructLines(!0,null)}},{key:"onModelLinesDeleted",value:function(e,t,n){if(!e||e<=this._validModelVersionId)return null;var i=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,r=this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections.splice(t-1,n-t+1),this.projectedModelLineLineCounts.removeValues(t-1,n-t+1),new S.vk(i,r)}},{key:"onModelLinesInserted",value:function(e,t,n,i){if(!e||e<=this._validModelVersionId)return null;for(var r=t>2&&!this.modelLineProjections[t-2].isVisible(),o=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,s=0,a=[],u=[],l=0,h=i.length;l<h;l++){var c=B(i[l],!r);a.push(c);var d=c.getViewLineCount();s+=d,u[l]=d}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(a).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,u),new S.K9(o,o+s-1)}},{key:"onModelLineChanged",value:function(e,t,n){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];var i=t-1,r=this.modelLineProjections[i].getViewLineCount(),o=B(n,this.modelLineProjections[i].isVisible());this.modelLineProjections[i]=o;var s=this.modelLineProjections[i].getViewLineCount(),a=!1,u=0,l=-1,h=0,c=-1,d=0,f=-1;return r>s?(f=(d=(l=(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1)+s-1)+1)+(r-s)-1,a=!0):r<s?(c=(h=(l=(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1)+r-1)+1)+(s-r)-1,a=!0):l=(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1)+s-1,this.projectedModelLineLineCounts.setValue(i,s),[a,u<=l?new S.il(u,l):null,h<=c?new S.K9(h,c):null,d<=f?new S.vk(d,f):null]}},{key:"acceptVersionId",value:function(e){this._validModelVersionId=e,1!==this.modelLineProjections.length||this.modelLineProjections[0].isVisible()||this.setHiddenAreas([])}},{key:"getViewLineCount",value:function(){return this.projectedModelLineLineCounts.getTotalSum()}},{key:"_toValidViewLineNumber",value:function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:0|e}},{key:"getActiveIndentGuide",value:function(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),s=this.model.guides.getActiveIndentGuide(i.lineNumber,r.lineNumber,o.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),u=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:u.lineNumber,indent:s.indent}}},{key:"getViewLineInfo",value:function(e){e=this._toValidViewLineNumber(e);var t=this.projectedModelLineLineCounts.getIndexOf(e-1),n=t.index,i=t.remainder;return new Y(n+1,i)}},{key:"getMinColumnOfViewLine",value:function(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}},{key:"getModelStartPositionOfViewLine",value:function(e){var t=this.modelLineProjections[e.modelLineNumber-1],n=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new y.L(e.modelLineNumber,i)}},{key:"getModelEndPositionOfViewLine",value:function(e){var t=this.modelLineProjections[e.modelLineNumber-1],n=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new y.L(e.modelLineNumber,i)}},{key:"getViewLineInfosGroupedByModelRanges",value:function(e,t){for(var n=this.getViewLineInfo(e),i=this.getViewLineInfo(t),r=new Array,o=this.getModelStartPositionOfViewLine(n),s=new Array,a=n.modelLineNumber;a<=i.modelLineNumber;a++){var u=this.modelLineProjections[a-1];if(u.isVisible())for(var l=a===n.modelLineNumber?n.modelLineWrappedLineIdx:0,h=a===i.modelLineNumber?i.modelLineWrappedLineIdx+1:u.getViewLineCount(),c=l;c<h;c++)s.push(new Y(a,c));if(!u.isVisible()&&o){var d=new y.L(a-1,this.model.getLineMaxColumn(a-1)+1),f=w.e.fromPositions(o,d);r.push(new ee(f,s)),s=[],o=null}else u.isVisible()&&!o&&(o=new y.L(a,1))}if(o){var g=w.e.fromPositions(o,this.getModelEndPositionOfViewLine(i));r.push(new ee(g,s))}return r}},{key:"getViewLinesBracketGuides",value:function(e,t,n,i){var r,s=this,a=n?this.convertViewPositionToModelPosition(n.lineNumber,n.column):null,u=[],l=(0,o.Z)(this.getViewLineInfosGroupedByModelRanges(e,t));try{for(l.s();!(r=l.n()).done;){var h,c=r.value,d=c.modelRange.startLineNumber,f=this.model.guides.getLinesBracketGuides(d,c.modelRange.endLineNumber,a,i),g=(0,o.Z)(c.viewLines);try{var v=function(){var e=h.value;if(e.isWrappedLineContinuation&&1===s.getMinColumnOfViewLine(e))u.push([]);else{var t=f[e.modelLineNumber-d];t=t.map((function(t){return t.horizontalLine?new j.UO(t.visibleColumn,t.className,new j.vW(t.horizontalLine.top,s.convertModelPositionToViewPosition(e.modelLineNumber,t.horizontalLine.endColumn).column)):t})),u.push(t)}};for(g.s();!(h=g.n()).done;)v()}catch(m){g.e(m)}finally{g.f()}}}catch(m){l.e(m)}finally{l.f()}return u}},{key:"getViewLinesIndentGuides",value:function(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),r=[],o=[],s=[],a=n.lineNumber-1,u=i.lineNumber-1,l=null,h=a;h<=u;h++){var c=this.modelLineProjections[h];if(c.isVisible()){var d=c.getViewLineNumberOfModelPosition(0,h===a?n.column:1),f=c.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(h+1)),g=f-d+1,v=0;g>1&&1===c.getViewLineMinColumn(this.model,h+1,f)&&(v=0===d?1:2),o.push(g),s.push(v),null===l&&(l=new y.L(h+1,0))}else null!==l&&(r=r.concat(this.model.guides.getLinesIndentGuides(l.lineNumber,h)),l=null)}null!==l&&(r=r.concat(this.model.guides.getLinesIndentGuides(l.lineNumber,i.lineNumber)),l=null);for(var m=t-e+1,_=new Array(m),p=0,L=0,C=r.length;L<C;L++){var k=r[L],w=Math.min(m-p,o[L]),b=s[L],V=void 0;V=2===b?0:1===b?1:w;for(var N=0;N<w;N++)N===V&&(k=0),_[p++]=k}return _}},{key:"getViewLineContent",value:function(e){var t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}},{key:"getViewLineLength",value:function(e){var t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}},{key:"getViewLineMinColumn",value:function(e){var t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}},{key:"getViewLineMaxColumn",value:function(e){var t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}},{key:"getViewLineData",value:function(e){var t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}},{key:"getViewLinesData",value:function(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var i=this.projectedModelLineLineCounts.getIndexOf(e-1),r=e,o=i.index,s=i.remainder,a=[],u=o,l=this.model.getLineCount();u<l;u++){var h=this.modelLineProjections[u];if(h.isVisible()){var c=u===o?s:0,d=h.getViewLineCount()-c,f=!1;if(r+d>t&&(f=!0,d=t-r+1),h.getViewLinesData(this.model,u+1,c,d,r-e,n,a),r+=d,f)break}}return a}},{key:"validateViewPosition",value:function(e,t,n){e=this._toValidViewLineNumber(e);var i=this.projectedModelLineLineCounts.getIndexOf(e-1),r=i.index,o=i.remainder,s=this.modelLineProjections[r],a=s.getViewLineMinColumn(this.model,r+1,o),u=s.getViewLineMaxColumn(this.model,r+1,o);t<a&&(t=a),t>u&&(t=u);var l=s.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new y.L(r+1,l)).equals(n)?new y.L(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)}},{key:"validateViewRange",value:function(e,t){var n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new w.e(n.lineNumber,n.column,i.lineNumber,i.column)}},{key:"convertViewPositionToModelPosition",value:function(e,t){var n=this.getViewLineInfo(e),i=this.modelLineProjections[n.modelLineNumber-1].getModelColumnOfViewPosition(n.modelLineWrappedLineIdx,t);return this.model.validatePosition(new y.L(n.modelLineNumber,i))}},{key:"convertViewRangeToModelRange",value:function(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new w.e(t.lineNumber,t.column,n.lineNumber,n.column)}},{key:"convertModelPositionToViewPosition",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=this.model.validatePosition(new y.L(e,t)),r=i.lineNumber,o=i.column,s=r-1,a=!1;s>0&&!this.modelLineProjections[s].isVisible();)s--,a=!0;if(0===s&&!this.modelLineProjections[s].isVisible())return new y.L(1,1);var u=1+this.projectedModelLineLineCounts.getPrefixSum(s);return a?this.modelLineProjections[s].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(s+1),n):this.modelLineProjections[r-1].getViewPositionOfModelPosition(u,o,n)}},{key:"convertModelRangeToViewRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.isEmpty()){var n=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return w.e.fromPositions(n)}var i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new w.e(i.lineNumber,i.column,r.lineNumber,r.column)}},{key:"getViewLineNumberOfModelPosition",value:function(e,t){var n=e-1;if(this.modelLineProjections[n].isVisible()){var i=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(i,t)}for(;n>0&&!this.modelLineProjections[n].isVisible();)n--;if(0===n&&!this.modelLineProjections[n].isVisible())return 1;var r=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(n+1))}},{key:"getDecorationsInRange",value:function(e,t,n){var i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(r.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new w.e(i.lineNumber,1,r.lineNumber,r.column),t,n);for(var s=[],a=i.lineNumber-1,u=r.lineNumber-1,l=null,h=a;h<=u;h++){if(this.modelLineProjections[h].isVisible())null===l&&(l=new y.L(h+1,h===a?i.column:1));else if(null!==l){var c=this.model.getLineMaxColumn(h);s=s.concat(this.model.getDecorationsInRange(new w.e(l.lineNumber,l.column,h,c),t,n)),l=null}}null!==l&&(s=s.concat(this.model.getDecorationsInRange(new w.e(l.lineNumber,l.column,r.lineNumber,r.column),t,n)),l=null),s.sort((function(e,t){var n=w.e.compareRangesUsingStarts(e.range,t.range);return 0===n?e.id<t.id?-1:e.id>t.id?1:0:n}));var d,f=[],g=0,v=null,m=(0,o.Z)(s);try{for(m.s();!(d=m.n()).done;){var _=d.value,p=_.id;v!==p&&(v=p,f[g++]=_)}}catch(L){m.e(L)}finally{m.f()}return f}},{key:"getInjectedTextAt",value:function(e){var t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}},{key:"normalizePosition",value:function(e,t){var n=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[n.modelLineNumber-1].normalizePosition(n.modelLineWrappedLineIdx,e,t)}},{key:"getLineIndentColumn",value:function(e){var t=this.getViewLineInfo(e);return 0===t.modelLineWrappedLineIdx?this.model.getLineIndentColumn(t.modelLineNumber):0}}]),e}();var Y=function(){function e(t,n){(0,s.Z)(this,e),this.modelLineNumber=t,this.modelLineWrappedLineIdx=n}return(0,a.Z)(e,[{key:"isWrappedLineContinuation",get:function(){return this.modelLineWrappedLineIdx>0}}]),e}(),ee=(0,a.Z)((function e(t,n){(0,s.Z)(this,e),this.modelRange=t,this.viewLines=n})),te=function(){function e(t){(0,s.Z)(this,e),this._lines=t}return(0,a.Z)(e,[{key:"convertViewPositionToModelPosition",value:function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}},{key:"convertViewRangeToModelRange",value:function(e){return this._lines.convertViewRangeToModelRange(e)}},{key:"validateViewPosition",value:function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}},{key:"validateViewRange",value:function(e,t){return this._lines.validateViewRange(e,t)}},{key:"convertModelPositionToViewPosition",value:function(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}},{key:"convertModelRangeToViewRange",value:function(e,t){return this._lines.convertModelRangeToViewRange(e,t)}},{key:"modelPositionIsVisible",value:function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}},{key:"getModelLineViewLineCount",value:function(e){return this._lines.getModelLineViewLineCount(e)}},{key:"getViewLineNumberOfModelPosition",value:function(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}]),e}(),ne=function(){function e(t){(0,s.Z)(this,e),this.model=t}return(0,a.Z)(e,[{key:"dispose",value:function(){}},{key:"createCoordinatesConverter",value:function(){return new ie(this)}},{key:"getHiddenAreas",value:function(){return[]}},{key:"setHiddenAreas",value:function(e){return!1}},{key:"setTabSize",value:function(e){return!1}},{key:"setWrappingSettings",value:function(e,t,n,i){return!1}},{key:"createLineBreaksComputer",value:function(){var e=[];return{addRequest:function(t,n,i){e.push(null)},finalize:function(){return e}}}},{key:"onModelFlushed",value:function(){}},{key:"onModelLinesDeleted",value:function(e,t,n){return new S.vk(t,n)}},{key:"onModelLinesInserted",value:function(e,t,n,i){return new S.K9(t,n)}},{key:"onModelLineChanged",value:function(e,t,n){return[!1,new S.il(t,t),null,null]}},{key:"acceptVersionId",value:function(e){}},{key:"getViewLineCount",value:function(){return this.model.getLineCount()}},{key:"getActiveIndentGuide",value:function(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}}},{key:"getViewLinesBracketGuides",value:function(e,t,n){return new Array(t-e+1).fill([])}},{key:"getViewLinesIndentGuides",value:function(e,t){for(var n=t-e+1,i=new Array(n),r=0;r<n;r++)i[r]=0;return i}},{key:"getViewLineContent",value:function(e){return this.model.getLineContent(e)}},{key:"getViewLineLength",value:function(e){return this.model.getLineLength(e)}},{key:"getViewLineMinColumn",value:function(e){return this.model.getLineMinColumn(e)}},{key:"getViewLineMaxColumn",value:function(e){return this.model.getLineMaxColumn(e)}},{key:"getViewLineData",value:function(e){var t=this.model.getLineTokens(e),n=t.getLineContent();return new Z.IP(n,!1,1,n.length+1,0,t.inflate(),null)}},{key:"getViewLinesData",value:function(e,t,n){var i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);for(var r=[],o=e;o<=t;o++){var s=o-e;r[s]=n[s]?this.getViewLineData(o):null}return r}},{key:"getDecorationsInRange",value:function(e,t,n){return this.model.getDecorationsInRange(e,t,n)}},{key:"normalizePosition",value:function(e,t){return this.model.normalizePosition(e,t)}},{key:"getLineIndentColumn",value:function(e){return this.model.getLineIndentColumn(e)}},{key:"getInjectedTextAt",value:function(e){return null}}]),e}(),ie=function(){function e(t){(0,s.Z)(this,e),this._lines=t}return(0,a.Z)(e,[{key:"_validPosition",value:function(e){return this._lines.model.validatePosition(e)}},{key:"_validRange",value:function(e){return this._lines.model.validateRange(e)}},{key:"convertViewPositionToModelPosition",value:function(e){return this._validPosition(e)}},{key:"convertViewRangeToModelRange",value:function(e){return this._validRange(e)}},{key:"validateViewPosition",value:function(e,t){return this._validPosition(t)}},{key:"validateViewRange",value:function(e,t){return this._validRange(t)}},{key:"convertModelPositionToViewPosition",value:function(e){return this._validPosition(e)}},{key:"convertModelRangeToViewRange",value:function(e){return this._validRange(e)}},{key:"modelPositionIsVisible",value:function(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}},{key:"getModelLineViewLineCount",value:function(e){return 1}},{key:"getViewLineNumberOfModelPosition",value:function(e,t){return e}}]),e}(),re=function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e,i,r,o,a,l,h,c){var d;if((0,s.Z)(this,n),(d=t.call(this)).languageConfigurationService=h,d._themeService=c,d._editorId=e,d._configuration=i,d.model=r,d._eventDispatcher=new O.nu,d.onEvent=d._eventDispatcher.onEvent,d.cursorConfig=new k.LM(d.model.getLanguageId(),d.model.getOptions(),d._configuration,d.languageConfigurationService),d._tokenizeViewportSoon=d._register(new g.pY((function(){return d.tokenizeViewport()}),50)),d._updateConfigurationViewLineCount=d._register(new g.pY((function(){return d._updateConfigurationViewLineCountNow()}),0)),d._hasFocus=!1,d._viewportStartLine=-1,d._viewportStartLineTrackedRange=null,d._viewportStartLineDelta=0,d.model.isTooLargeForTokenization())d._lines=new ne(d.model);else{var f=d._configuration.options,v=f.get(44),m=f.get(125),_=f.get(132),p=f.get(124);d._lines=new X(d._editorId,d.model,o,a,v,d.model.getOptions().tabSize,m,_.wrappingColumn,p)}return d.coordinatesConverter=d._lines.createCoordinatesConverter(),d._cursor=d._register(new C.U(r,(0,u.Z)(d),d.coordinatesConverter,d.cursorConfig)),d.viewLayout=d._register(new W(d._configuration,d.getLineCount(),l)),d._register(d.viewLayout.onDidScroll((function(e){e.scrollTopChanged&&d._tokenizeViewportSoon.schedule(),d._eventDispatcher.emitSingleViewEvent(new S.Ay(e)),d._eventDispatcher.emitOutgoingEvent(new O.Pt(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),d._register(d.viewLayout.onDidContentSizeChange((function(e){d._eventDispatcher.emitOutgoingEvent(e)}))),d._decorations=new H.CU(d._editorId,d.model,d._configuration,d._lines,d.coordinatesConverter),d._registerModelEvents(),d._register(d._configuration.onDidChangeFast((function(e){try{var t=d._eventDispatcher.beginEmitViewEvents();d._onConfigurationChanged(t,e)}finally{d._eventDispatcher.endEmitViewEvents()}}))),d._register(R.E.getInstance().onDidChange((function(){d._eventDispatcher.emitSingleViewEvent(new S.uc)}))),d._register(d._themeService.onDidColorThemeChange((function(e){d._invalidateDecorationsColorCache(),d._eventDispatcher.emitSingleViewEvent(new S.Hf(e))}))),d._updateConfigurationViewLineCountNow(),d}return(0,a.Z)(n,[{key:"dispose",value:function(){(0,l.Z)((0,h.Z)(n.prototype),"dispose",this).call(this),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}},{key:"createLineBreaksComputer",value:function(){return this._lines.createLineBreaksComputer()}},{key:"addViewEventHandler",value:function(e){this._eventDispatcher.addViewEventHandler(e)}},{key:"removeViewEventHandler",value:function(e){this._eventDispatcher.removeViewEventHandler(e)}},{key:"_updateConfigurationViewLineCountNow",value:function(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}},{key:"tokenizeViewport",value:function(){var e,t=this.viewLayout.getLinesViewportData(),n=new w.e(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber)),i=this._toModelVisibleRanges(n),r=(0,o.Z)(i);try{for(r.s();!(e=r.n()).done;){var s=e.value;this.model.tokenizeViewport(s.startLineNumber,s.endLineNumber)}}catch(a){r.e(a)}finally{r.f()}}},{key:"setHasFocus",value:function(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new S.SJ(e)),this._eventDispatcher.emitOutgoingEvent(new O.Zw(!e,e))}},{key:"onCompositionStart",value:function(){this._eventDispatcher.emitSingleViewEvent(new S.JP)}},{key:"onCompositionEnd",value:function(){this._eventDispatcher.emitSingleViewEvent(new S.IN)}},{key:"_onConfigurationChanged",value:function(e,t){var n=null;if(-1!==this._viewportStartLine){var i=new y.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(i)}var r=!1,o=this._configuration.options,s=o.get(44),a=o.get(125),u=o.get(132),l=o.get(124);if(this._lines.setWrappingSettings(s,a,u.wrappingColumn,l)&&(e.emitViewEvent(new S.CL),e.emitViewEvent(new S.d8),e.emitViewEvent(new S.vA(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(r=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(81)&&(this._decorations.reset(),e.emitViewEvent(new S.vA(null))),e.emitViewEvent(new S.x4(t)),this.viewLayout.onConfigurationChanged(t),r&&n){var h=this.coordinatesConverter.convertModelPositionToViewPosition(n),c=this.viewLayout.getVerticalOffsetForLineNumber(h.lineNumber);this.viewLayout.setScrollPosition({scrollTop:c+this._viewportStartLineDelta},1)}k.LM.shouldRecreate(t)&&(this.cursorConfig=new k.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}},{key:"_registerModelEvents",value:function(){var e=this;this._register(this.model.onDidChangeContentOrInjectedText((function(t){try{var n,i=e._eventDispatcher.beginEmitViewEvents(),s=!1,a=!1,u=t.changes,l=t instanceof b.dQ?t.versionId:null,h=e._lines.createLineBreaksComputer(),c=(0,o.Z)(u);try{for(c.s();!(n=c.n()).done;){var d=n.value;switch(d.changeType){case 4:for(var g=0;g<d.detail.length;g++){var v=d.detail[g],m=d.injectedTexts[g];m&&(m=m.filter((function(t){return!t.ownerId||t.ownerId===e._editorId}))),h.addRequest(v,m,null)}break;case 2:var _=null;d.injectedText&&(_=d.injectedText.filter((function(t){return!t.ownerId||t.ownerId===e._editorId}))),h.addRequest(d.detail,_,null)}}}catch(R){c.e(R)}finally{c.f()}var p,L=h.finalize(),C=new f.H9(L),k=(0,o.Z)(u);try{for(k.s();!(p=k.n()).done;){var y=p.value;switch(y.changeType){case 1:e._lines.onModelFlushed(),i.emitViewEvent(new S.CL),e._decorations.reset(),e.viewLayout.onFlushed(e.getLineCount()),s=!0;break;case 3:var w=e._lines.onModelLinesDeleted(l,y.fromLineNumber,y.toLineNumber);null!==w&&(i.emitViewEvent(w),e.viewLayout.onLinesDeleted(w.fromLineNumber,w.toLineNumber)),s=!0;break;case 4:var V=C.takeCount(y.detail.length),N=e._lines.onModelLinesInserted(l,y.fromLineNumber,y.toLineNumber,V);null!==N&&(i.emitViewEvent(N),e.viewLayout.onLinesInserted(N.fromLineNumber,N.toLineNumber)),s=!0;break;case 2:var I=C.dequeue(),M=e._lines.onModelLineChanged(l,y.lineNumber,I),P=(0,r.Z)(M,4),T=P[0],x=P[1],D=P[2],Z=P[3];a=T,x&&i.emitViewEvent(x),D&&(i.emitViewEvent(D),e.viewLayout.onLinesInserted(D.fromLineNumber,D.toLineNumber)),Z&&(i.emitViewEvent(Z),e.viewLayout.onLinesDeleted(Z.fromLineNumber,Z.toLineNumber))}}}catch(R){k.e(R)}finally{k.f()}null!==l&&e._lines.acceptVersionId(l),e.viewLayout.onHeightMaybeChanged(),!s&&a&&(i.emitViewEvent(new S.d8),i.emitViewEvent(new S.vA(null)),e._cursor.onLineMappingChanged(i),e._decorations.onLineMappingChanged())}finally{e._eventDispatcher.endEmitViewEvents()}if(e._viewportStartLine=-1,e._configuration.setModelLineCount(e.model.getLineCount()),e._updateConfigurationViewLineCountNow(),!e._hasFocus&&e.model.getAttachedEditorCount()>=2&&e._viewportStartLineTrackedRange){var O=e.model._getTrackedRange(e._viewportStartLineTrackedRange);if(O){var E=e.coordinatesConverter.convertModelPositionToViewPosition(O.getStartPosition()),A=e.viewLayout.getVerticalOffsetForLineNumber(E.lineNumber);e.viewLayout.setScrollPosition({scrollTop:A+e._viewportStartLineDelta},1)}}try{var W=e._eventDispatcher.beginEmitViewEvents();e._cursor.onModelContentChanged(W,t)}finally{e._eventDispatcher.endEmitViewEvents()}e._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeTokens((function(t){for(var n=[],i=0,r=t.ranges.length;i<r;i++){var o=t.ranges[i],s=e.coordinatesConverter.convertModelPositionToViewPosition(new y.L(o.fromLineNumber,1)).lineNumber,a=e.coordinatesConverter.convertModelPositionToViewPosition(new y.L(o.toLineNumber,e.model.getLineMaxColumn(o.toLineNumber))).lineNumber;n[i]={fromLineNumber:s,toLineNumber:a}}e._eventDispatcher.emitSingleViewEvent(new S.H9(n)),t.tokenizationSupportChanged&&e._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((function(t){e._eventDispatcher.emitSingleViewEvent(new S._0),e.cursorConfig=new k.LM(e.model.getLanguageId(),e.model.getOptions(),e._configuration,e.languageConfigurationService),e._cursor.updateConfiguration(e.cursorConfig)}))),this._register(this.model.onDidChangeLanguage((function(t){e.cursorConfig=new k.LM(e.model.getLanguageId(),e.model.getOptions(),e._configuration,e.languageConfigurationService),e._cursor.updateConfiguration(e.cursorConfig)}))),this._register(this.model.onDidChangeOptions((function(t){if(e._lines.setTabSize(e.model.getOptions().tabSize)){try{var n=e._eventDispatcher.beginEmitViewEvents();n.emitViewEvent(new S.CL),n.emitViewEvent(new S.d8),n.emitViewEvent(new S.vA(null)),e._cursor.onLineMappingChanged(n),e._decorations.onLineMappingChanged(),e.viewLayout.onFlushed(e.getLineCount())}finally{e._eventDispatcher.endEmitViewEvents()}e._updateConfigurationViewLineCount.schedule()}e.cursorConfig=new k.LM(e.model.getLanguageId(),e.model.getOptions(),e._configuration,e.languageConfigurationService),e._cursor.updateConfiguration(e.cursorConfig)}))),this._register(this.model.onDidChangeDecorations((function(t){e._decorations.onModelDecorationsChanged(),e._eventDispatcher.emitSingleViewEvent(new S.vA(t))})))}},{key:"setHiddenAreas",value:function(e){var t=!1;try{var n=this._eventDispatcher.beginEmitViewEvents();(t=this._lines.setHiddenAreas(e))&&(n.emitViewEvent(new S.CL),n.emitViewEvent(new S.d8),n.emitViewEvent(new S.vA(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new O.Ic)}},{key:"getVisibleRangesPlusViewportAboveBelow",value:function(){var e=this._configuration.options.get(131),t=this._configuration.options.get(59),n=Math.max(20,Math.round(e.height/t)),i=this.viewLayout.getLinesViewportData(),r=Math.max(1,i.completelyVisibleStartLineNumber-n),o=Math.min(this.getLineCount(),i.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new w.e(r,this.getLineMinColumn(r),o,this.getLineMaxColumn(o)))}},{key:"getVisibleRanges",value:function(){var e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}},{key:"_toModelVisibleRanges",value:function(e){var t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this._lines.getHiddenAreas();if(0===n.length)return[t];for(var i=[],r=0,o=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,u=t.endColumn,l=0,h=n.length;l<h;l++){var c=n[l].startLineNumber,d=n[l].endLineNumber;d<o||(c>a||(o<c&&(i[r++]=new w.e(o,s,c-1,this.model.getLineMaxColumn(c-1))),o=d+1,s=1))}return(o<a||o===a&&s<u)&&(i[r++]=new w.e(o,s,a,u)),i}},{key:"getCompletelyVisibleViewRange",value:function(){var e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new w.e(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))}},{key:"getCompletelyVisibleViewRangeAtScrollTop",value:function(e){var t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new w.e(n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))}},{key:"saveState",value:function(){var e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new y.L(n,this.getLineMinColumn(n))),r=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:r}}},{key:"reduceRestoreState",value:function(e){if("undefined"===typeof e.firstPosition)return this._reduceRestoreStateCompatibility(e);var t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}}},{key:"_reduceRestoreStateCompatibility",value:function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}},{key:"getTabSize",value:function(){return this.model.getOptions().tabSize}},{key:"getLineCount",value:function(){return this._lines.getViewLineCount()}},{key:"setViewport",value:function(e,t,n){this._viewportStartLine=e;var i=this.coordinatesConverter.convertViewPositionToModelPosition(new y.L(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new w.e(i.lineNumber,i.column,i.lineNumber,i.column),1);var r=this.viewLayout.getVerticalOffsetForLineNumber(e),o=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=o-r}},{key:"getActiveIndentGuide",value:function(e,t,n){return this._lines.getActiveIndentGuide(e,t,n)}},{key:"getLinesIndentGuides",value:function(e,t){return this._lines.getViewLinesIndentGuides(e,t)}},{key:"getBracketGuidesInRangeByLine",value:function(e,t,n,i){return this._lines.getViewLinesBracketGuides(e,t,n,i)}},{key:"getLineContent",value:function(e){return this._lines.getViewLineContent(e)}},{key:"getLineLength",value:function(e){return this._lines.getViewLineLength(e)}},{key:"getLineMinColumn",value:function(e){return this._lines.getViewLineMinColumn(e)}},{key:"getLineMaxColumn",value:function(e){return this._lines.getViewLineMaxColumn(e)}},{key:"getLineFirstNonWhitespaceColumn",value:function(e){var t=p.LC(this.getLineContent(e));return-1===t?0:t+1}},{key:"getLineLastNonWhitespaceColumn",value:function(e){var t=p.ow(this.getLineContent(e));return-1===t?0:t+2}},{key:"getDecorationsInViewport",value:function(e){return this._decorations.getDecorationsViewportData(e).decorations}},{key:"getInjectedTextAt",value:function(e){return this._lines.getInjectedTextAt(e)}},{key:"getViewLineRenderingData",value:function(e,t){var n=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(t),a=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return s.inlineDecorations&&(a=[].concat((0,i.Z)(a),(0,i.Z)(s.inlineDecorations.map((function(e){return e.toInlineDecoration(t)}))))),new Z.wA(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,n,r,s.tokens,a,o,s.startVisibleColumn)}},{key:"getViewLineData",value:function(e){return this._lines.getViewLineData(e)}},{key:"getMinimapLinesRenderingData",value:function(e,t,n){var i=this._lines.getViewLinesData(e,t,n);return new Z.ud(this.getTabSize(),i)}},{key:"getAllOverviewRulerDecorations",value:function(e){var t,n=this.model.getOverviewRulerDecorations(this._editorId,(0,L.$J)(this._configuration.options)),i=new oe,r=(0,o.Z)(n);try{for(r.s();!(t=r.n()).done;){var s=t.value,a=s.options,u=a.overviewRuler;if(u){var l=u.position;if(0!==l){var h=u.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(s.range.startLineNumber,s.range.startColumn),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(s.range.endLineNumber,s.range.endColumn);i.accept(h,a.zIndex,c,d,l)}}}}catch(f){r.e(f)}finally{r.f()}return i.asArray}},{key:"_invalidateDecorationsColorCache",value:function(){var e,t=this.model.getOverviewRulerDecorations(),n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.options.overviewRuler;r&&r.invalidateCachedColor();var s=i.options.minimap;s&&s.invalidateCachedColor()}}catch(a){n.e(a)}finally{n.f()}}},{key:"getValueInRange",value:function(e,t){var n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)}},{key:"deduceModelPositionRelativeToViewPosition",value:function(e,t,n){var i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);var r=this.model.getOffsetAt(i)+t;return this.model.getPositionAt(r)}},{key:"getPlainTextToCopy",value:function(e,t,n){var i=n?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(w.e.compareRangesUsingStarts);var r,s=!1,a=!1,u=(0,o.Z)(e);try{for(u.s();!(r=u.n()).done;){r.value.isEmpty()?s=!0:a=!0}}catch(y){u.e(y)}finally{u.f()}if(!a){if(!t)return"";for(var l=e.map((function(e){return e.startLineNumber})),h="",c=0;c<l.length;c++)c>0&&l[c-1]===l[c]||(h+=this.model.getLineContent(l[c])+i);return h}if(s&&t){var d,f=[],g=0,v=(0,o.Z)(e);try{for(v.s();!(d=v.n()).done;){var m=d.value,_=m.startLineNumber;m.isEmpty()?_!==g&&f.push(this.model.getLineContent(_)):f.push(this.model.getValueInRange(m,n?2:0)),g=_}}catch(y){v.e(y)}finally{v.f()}return 1===f.length?f[0]:f}var p,L=[],C=(0,o.Z)(e);try{for(C.s();!(p=C.n()).done;){var k=p.value;k.isEmpty()||L.push(this.model.getValueInRange(k,n?2:0))}}catch(y){C.e(y)}finally{C.f()}return 1===L.length?L[0]:L}},{key:"getRichTextToCopy",value:function(e,t){var n=this.model.getLanguageId();if(n===N.bd)return null;if(1!==e.length)return null;var i=e[0];if(i.isEmpty()){if(!t)return null;var r=i.startLineNumber;i=new w.e(r,this.model.getLineMinColumn(r),r,this.model.getLineMaxColumn(r))}var o,s=this._configuration.options.get(44),a=this._getColorMap();if(/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===L.hL.fontFamily)o=L.hL.fontFamily;else{if(o=(o=s.fontFamily).replace(/"/g,"'"),!/[,']/.test(o))/[+ ]/.test(o)&&(o="'".concat(o,"'"));o="".concat(o,", ").concat(L.hL.fontFamily)}return{mode:n,html:'<div style="'+"color: ".concat(a[1],";")+"background-color: ".concat(a[2],";")+"font-family: ".concat(o,";")+"font-weight: ".concat(s.fontWeight,";")+"font-size: ".concat(s.fontSize,"px;")+"line-height: ".concat(s.lineHeight,"px;")+'white-space: pre;">'+this._getHTMLToCopy(i,a)+"</div>"}}},{key:"_getHTMLToCopy",value:function(e,t){for(var n=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,o=e.endColumn,s=this.getTabSize(),a="",u=n;u<=r;u++){var l=this.model.getLineTokens(u),h=l.getLineContent(),c=u===n?i-1:0,d=u===r?o-1:h.length;a+=""===h?"<br>":(0,I.Fq)(h,l.inflate(),t,c,d,s,_.ED)}return a}},{key:"_getColorMap",value:function(){var e=V.RW.getColorMap(),t=["#000000"];if(e)for(var n=1,i=e.length;n<i;n++)t[n]=v.Il.Format.CSS.formatHex(e[n]);return t}},{key:"getPrimaryCursorState",value:function(){return this._cursor.getPrimaryCursorState()}},{key:"getLastAddedCursorIndex",value:function(){return this._cursor.getLastAddedCursorIndex()}},{key:"getCursorStates",value:function(){return this._cursor.getCursorStates()}},{key:"setCursorStates",value:function(e,t,n){var i=this;return this._withViewEventsCollector((function(r){return i._cursor.setStates(r,e,t,n)}))}},{key:"getCursorColumnSelectData",value:function(){return this._cursor.getCursorColumnSelectData()}},{key:"getCursorAutoClosedCharacters",value:function(){return this._cursor.getAutoClosedCharacters()}},{key:"setCursorColumnSelectData",value:function(e){this._cursor.setCursorColumnSelectData(e)}},{key:"getPrevEditOperationType",value:function(){return this._cursor.getPrevEditOperationType()}},{key:"setPrevEditOperationType",value:function(e){this._cursor.setPrevEditOperationType(e)}},{key:"getSelection",value:function(){return this._cursor.getSelection()}},{key:"getSelections",value:function(){return this._cursor.getSelections()}},{key:"getPosition",value:function(){return this._cursor.getPrimaryCursorState().modelState.position}},{key:"setSelections",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._withViewEventsCollector((function(r){return n._cursor.setSelections(r,e,t,i)}))}},{key:"saveCursorState",value:function(){return this._cursor.saveState()}},{key:"restoreCursorState",value:function(e){var t=this;this._withViewEventsCollector((function(n){return t._cursor.restoreState(n,e)}))}},{key:"_executeCursorEdit",value:function(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new O.Ki):this._withViewEventsCollector(e)}},{key:"executeEdits",value:function(e,t,n){var i=this;this._executeCursorEdit((function(r){return i._cursor.executeEdits(r,e,t,n)}))}},{key:"startComposition",value:function(){var e=this;this._cursor.setIsDoingComposition(!0),this._executeCursorEdit((function(t){return e._cursor.startComposition(t)}))}},{key:"endComposition",value:function(e){var t=this;this._cursor.setIsDoingComposition(!1),this._executeCursorEdit((function(n){return t._cursor.endComposition(n,e)}))}},{key:"type",value:function(e,t){var n=this;this._executeCursorEdit((function(i){return n._cursor.type(i,e,t)}))}},{key:"compositionType",value:function(e,t,n,i,r){var o=this;this._executeCursorEdit((function(s){return o._cursor.compositionType(s,e,t,n,i,r)}))}},{key:"paste",value:function(e,t,n,i){var r=this;this._executeCursorEdit((function(o){return r._cursor.paste(o,e,t,n,i)}))}},{key:"cut",value:function(e){var t=this;this._executeCursorEdit((function(n){return t._cursor.cut(n,e)}))}},{key:"executeCommand",value:function(e,t){var n=this;this._executeCursorEdit((function(i){return n._cursor.executeCommand(i,e,t)}))}},{key:"executeCommands",value:function(e,t){var n=this;this._executeCursorEdit((function(i){return n._cursor.executeCommands(i,e,t)}))}},{key:"revealPrimaryCursor",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._withViewEventsCollector((function(r){return n._cursor.revealPrimary(r,e,i,0,t,0)}))}},{key:"revealTopMostCursor",value:function(e){var t=this._cursor.getTopMostViewPosition(),n=new w.e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((function(t){return t.emitViewEvent(new S.Qb(e,!1,n,null,0,!0,0))}))}},{key:"revealBottomMostCursor",value:function(e){var t=this._cursor.getBottomMostViewPosition(),n=new w.e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((function(t){return t.emitViewEvent(new S.Qb(e,!1,n,null,0,!0,0))}))}},{key:"revealRange",value:function(e,t,n,i,r){this._withViewEventsCollector((function(o){return o.emitViewEvent(new S.Qb(e,!1,n,null,i,t,r))}))}},{key:"changeWhitespace",value:function(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new S.Ic),this._eventDispatcher.emitOutgoingEvent(new O.Ic))}},{key:"_withViewEventsCollector",value:function(e){try{return e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}},{key:"normalizePosition",value:function(e,t){return this._lines.normalizePosition(e,t)}},{key:"getLineIndentColumn",value:function(e){return this._lines.getLineIndentColumn(e)}}]),n}(m.JT),oe=function(){function e(){(0,s.Z)(this,e),this._asMap=Object.create(null),this.asArray=[]}return(0,a.Z)(e,[{key:"accept",value:function(e,t,n,i,r){var o=this._asMap[e];if(o){var s=o.data,a=s[s.length-3],u=s[s.length-1];if(a===r&&u+1>=n)return void(i>u&&(s[s.length-1]=i));s.push(r,n,i)}else{var l=new Z.SQ(e,t,[r,n,i]);this._asMap[e]=l,this.asArray.push(l)}}}]),e}()},74306:function(e,t,n){n.d(t,{H6:function(){return v},Ic:function(){return g},Ki:function(){return m},Pt:function(){return f},Zw:function(){return d},nu:function(){return l},zf:function(){return c}});var i=n(37762),r=n(15671),o=n(43144),s=n(60136),a=n(27277),u=n(28941),l=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this))._onEvent=e._register(new u.Q5),e.onEvent=e._onEvent.event,e._eventHandlers=[],e._viewEventQueue=null,e._isConsumingViewEventQueue=!1,e._collector=null,e._collectorCnt=0,e._outgoingEvents=[],e}return(0,o.Z)(n,[{key:"emitOutgoingEvent",value:function(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}},{key:"_addOutgoingEvent",value:function(e){for(var t=0,n=this._outgoingEvents.length;t<n;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}},{key:"_emitOutgoingEvents",value:function(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;var e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}},{key:"addViewEventHandler",value:function(e){for(var t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}},{key:"removeViewEventHandler",value:function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}},{key:"beginEmitViewEvents",value:function(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new h),this._collector}},{key:"endEmitViewEvents",value:function(){if(this._collectorCnt--,0===this._collectorCnt){var e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;var n,r=(0,i.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._addOutgoingEvent(o)}}catch(s){r.e(s)}finally{r.f()}t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}},{key:"emitSingleViewEvent",value:function(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}},{key:"_emitMany",value:function(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}},{key:"_consumeViewEventQueue",value:function(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}},{key:"_doConsumeQueue",value:function(){for(;this._viewEventQueue;){var e=this._viewEventQueue;this._viewEventQueue=null;var t,n=this._eventHandlers.slice(0),r=(0,i.Z)(n);try{for(r.s();!(t=r.n()).done;){t.value.handleEvents(e)}}catch(o){r.e(o)}finally{r.f()}}}}]),n}(n(10526).JT),h=function(){function e(){(0,r.Z)(this,e),this.viewEvents=[],this.outgoingEvents=[]}return(0,o.Z)(e,[{key:"emitViewEvent",value:function(e){this.viewEvents.push(e)}},{key:"emitOutgoingEvent",value:function(e){this.outgoingEvents.push(e)}}]),e}(),c=function(){function e(t,n,i,o){(0,r.Z)(this,e),this.kind=0,this._oldContentWidth=t,this._oldContentHeight=n,this.contentWidth=i,this.contentHeight=o,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}return(0,o.Z)(e,[{key:"isNoOp",value:function(){return!this.contentWidthChanged&&!this.contentHeightChanged}},{key:"merge",value:function(t){return 0!==t.kind?this:new e(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}]),e}(),d=function(){function e(t,n){(0,r.Z)(this,e),this.kind=1,this.oldHasFocus=t,this.hasFocus=n}return(0,o.Z)(e,[{key:"isNoOp",value:function(){return this.oldHasFocus===this.hasFocus}},{key:"merge",value:function(t){return 1!==t.kind?this:new e(this.oldHasFocus,t.hasFocus)}}]),e}(),f=function(){function e(t,n,i,o,s,a,u,l){(0,r.Z)(this,e),this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=n,this._oldScrollHeight=i,this._oldScrollTop=o,this.scrollWidth=s,this.scrollLeft=a,this.scrollHeight=u,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}return(0,o.Z)(e,[{key:"isNoOp",value:function(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}},{key:"merge",value:function(t){return 2!==t.kind?this:new e(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}]),e}(),g=function(){function e(){(0,r.Z)(this,e),this.kind=3}return(0,o.Z)(e,[{key:"isNoOp",value:function(){return!1}},{key:"merge",value:function(e){return this}}]),e}(),v=function(){function e(t,n,i,o,s,a,u){(0,r.Z)(this,e),this.kind=6,this.oldSelections=t,this.selections=n,this.oldModelVersionId=i,this.modelVersionId=o,this.source=s,this.reason=a,this.reachedMaxCursorCount=u}return(0,o.Z)(e,[{key:"isNoOp",value:function(){return e._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}},{key:"merge",value:function(t){return 6!==t.kind?this:new e(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}],[{key:"_selectionsAreEqual",value:function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].equalsSelection(t[i]))return!1;return!0}}]),e}(),m=function(){function e(){(0,r.Z)(this,e),this.kind=5}return(0,o.Z)(e,[{key:"isNoOp",value:function(){return!1}},{key:"merge",value:function(e){return this}}]),e}()}}]);
//# sourceMappingURL=monaco-editor-vendor.192dbdcc.1c2ae9af.js.map