"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[658],{65615:function(e,t,n){n.d(t,{Hb:function(){return R},hT:function(){return M},mR:function(){return x}});var i=n(97326),o=n(11752),r=n(61120),s=n(37762),a=n(15671),u=n(43144),c=n(60136),l=n(27277),h=n(32959),d=n(94006),v=n(38102),f=n(65096),g=n(65631),p=n(17429),_=n(78519),y=n(70133),m=n(99964),b=n(24250),k=n(8022),w=n(64606),C=n(75256),S=n(51211),D=n(71049),Z=n(98926),L=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},N=function(e,t){return function(n,i){t(n,i,e)}},I=h.$,M=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,i,o){var r;(0,a.Z)(this,n),(r=t.call(this))._editor=e,r._instantiationService=i,r._keybindingService=o,r._widget=r._register(r._instantiationService.createInstance(R,r._editor)),r._currentResult=null,r._participants=[];var u,c=(0,s.Z)(b.Ae.getAll());try{for(c.s();!(u=c.n()).done;){var l=u.value;r._participants.push(r._instantiationService.createInstance(l,r._editor))}}catch(d){c.e(d)}finally{c.f()}return r._participants.sort((function(e,t){return e.hoverOrdinal-t.hoverOrdinal})),r._computer=new H(r._editor,r._participants),r._hoverOperation=r._register(new m.H(r._editor,r._computer)),r._register(r._hoverOperation.onResult((function(e){if(r._computer.anchor){var t=e.hasLoadingMessage?r._addLoadingMessage(e.value):e.value;r._withResult(new T(r._computer.anchor,t,e.isComplete))}}))),r._register(h.addStandardDisposableListener(r._widget.getDomNode(),"keydown",(function(e){e.equals(9)&&r.hide()}))),r._register(y.RW.onDidChange((function(){r._widget.position&&r._currentResult&&(r._widget.clear(),r._setCurrentResult(r._currentResult))}))),r}return(0,u.Z)(n,[{key:"maybeShowAt",value:function(e){var t,n=[],i=(0,s.Z)(this._participants);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.suggestHoverAnchor){var r=o.suggestHoverAnchor(e);r&&n.push(r)}}}catch(c){i.e(c)}finally{i.f()}var a=e.target;if(6===a.type&&n.push(new b.Qj(0,a.range,e.event.posx,e.event.posy)),7===a.type){var u=this._editor.getOption(48).typicalHalfwidthCharacterWidth/2;!a.detail.isAfterLines&&"number"===typeof a.detail.horizontalDistanceToText&&a.detail.horizontalDistanceToText<u&&n.push(new b.Qj(0,a.range,e.event.posx,e.event.posy))}return 0===n.length?this._startShowingOrUpdateHover(null,0,0,!1,e):(n.sort((function(e,t){return t.priority-e.priority})),this._startShowingOrUpdateHover(n[0],0,0,!1,e))}},{key:"startShowingAtRange",value:function(e,t,n,i){this._startShowingOrUpdateHover(new b.Qj(0,e,void 0,void 0),t,n,i,null)}},{key:"_startShowingOrUpdateHover",value:function(e,t,n,i,o){return this._widget.position&&this._currentResult?this._editor.getOption(58).sticky&&o&&this._widget.isMouseGettingCloser(o.event.posx,o.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,n,i,!0),!0):e?!(!e||!this._currentResult.anchor.equals(e))||(e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,n,i,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,n,i,!1),!0)):(this._setCurrentResult(null),!1):!!e&&(this._startHoverOperationIfNecessary(e,t,n,i,!1),!0)}},{key:"_startHoverOperationIfNecessary",value:function(e,t,n,i,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=i,this._computer.source=n,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}},{key:"_setCurrentResult",value:function(e){this._currentResult!==e&&(e&&0===e.messages.length&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}},{key:"isColorPickerVisible",value:function(){return this._widget.isColorPickerVisible}},{key:"isVisibleFromKeyboard",value:function(){return this._widget.isVisibleFromKeyboard}},{key:"isVisible",value:function(){return this._widget.isVisible}},{key:"containsNode",value:function(e){return!!e&&this._widget.getDomNode().contains(e)}},{key:"_addLoadingMessage",value:function(e){if(this._computer.anchor){var t,n=(0,s.Z)(this._participants);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.createLoadingMessage){var o=i.createLoadingMessage(this._computer.anchor);if(o)return e.slice(0).concat([o])}}}catch(r){n.e(r)}finally{n.f()}}return e}},{key:"_withResult",value:function(e){if(this._widget.position&&this._currentResult&&this._currentResult.isComplete){if(!e.isComplete)return;if(this._computer.insistOnKeepingHoverVisible&&0===e.messages.length)return}this._setCurrentResult(e)}},{key:"_renderMessages",value:function(e,t){var i,o=this,r=n.computeHoverRanges(this._editor,e.range,t),a=r.showAtPosition,u=r.showAtSecondaryPosition,c=r.highlightRange,l=new f.SL,h=l.add(new x(this._keybindingService)),d=document.createDocumentFragment(),v=null,g={fragment:d,statusBar:h,setColorPicker:function(e){return v=e},onContentsChanged:function(){return o._widget.onContentsChanged()},hide:function(){return o.hide()}},p=(0,s.Z)(this._participants);try{var _=function(){var e=i.value,n=t.filter((function(t){return t.owner===e}));n.length>0&&l.add(e.renderHoverParts(g,n))};for(p.s();!(i=p.n()).done;)_()}catch(b){p.e(b)}finally{p.f()}var y=t.some((function(e){return e.isBeforeContent}));if(h.hasContent&&d.appendChild(h.hoverElement),d.hasChildNodes()){if(c){var m=this._editor.createDecorationsCollection();m.set([{range:c,options:n._DECORATION_OPTIONS}]),l.add((0,f.OF)((function(){m.clear()})))}this._widget.showAt(d,new O(v,a,u,this._editor.getOption(58).above,this._computer.shouldFocus,this._computer.source,y,e.initialMousePosX,e.initialMousePosY,l))}else l.dispose()}},{key:"focus",value:function(){this._widget.focus()}},{key:"scrollUp",value:function(){this._widget.scrollUp()}},{key:"scrollDown",value:function(){this._widget.scrollDown()}},{key:"scrollLeft",value:function(){this._widget.scrollLeft()}},{key:"scrollRight",value:function(){this._widget.scrollRight()}},{key:"pageUp",value:function(){this._widget.pageUp()}},{key:"pageDown",value:function(){this._widget.pageDown()}},{key:"goToTop",value:function(){this._widget.goToTop()}},{key:"goToBottom",value:function(){this._widget.goToBottom()}},{key:"escape",value:function(){this._widget.escape()}}],[{key:"computeHoverRanges",value:function(e,t,n){var i=1;if(e.hasModel()){var o=e._getViewModel(),r=o.coordinatesConverter,a=r.convertModelRangeToViewRange(t),u=new g.L(a.startLineNumber,o.getLineMinColumn(a.startLineNumber));i=r.convertViewPositionToModelPosition(u).column}var c,l=t.startLineNumber,h=t.startColumn,d=n[0].range,v=null,f=(0,s.Z)(n);try{for(f.s();!(c=f.n()).done;){var _=c.value;d=p.e.plusRange(d,_.range),_.range.startLineNumber===l&&_.range.endLineNumber===l&&(h=Math.max(Math.min(h,_.range.startColumn),i)),_.forceShowAtRange&&(v=_.range)}}catch(y){f.e(y)}finally{f.f()}return{showAtPosition:v?v.getStartPosition():new g.L(l,t.startColumn),showAtSecondaryPosition:v?v.getStartPosition():new g.L(l,h),highlightRange:d}}}]),n}(f.JT);M._DECORATION_OPTIONS=_.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),M=L([N(1,w.TG),N(2,C.d)],M);var T=function(){function e(t,n,i){(0,a.Z)(this,e),this.anchor=t,this.messages=n,this.isComplete=i}return(0,u.Z)(e,[{key:"filter",value:function(e){var t=this.messages.filter((function(t){return t.isValidForHoverAnchor(e)}));return t.length===this.messages.length?this:new P(this,this.anchor,t,this.isComplete)}}]),e}(),P=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,i,o,r){var s;return(0,a.Z)(this,n),(s=t.call(this,i,o,r)).original=e,s}return(0,u.Z)(n,[{key:"filter",value:function(e){return this.original.filter(e)}}]),n}(T),O=(0,u.Z)((function e(t,n,i,o,r,s,u,c,l,h){(0,a.Z)(this,e),this.colorPicker=t,this.showAtPosition=n,this.showAtSecondaryPosition=i,this.preferAbove=o,this.stoleFocus=r,this.source=s,this.isBeforeContent=u,this.initialMousePosX=c,this.initialMousePosY=l,this.disposables=h,this.closestMouseDistance=void 0})),R=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,o){var r;return(0,a.Z)(this,n),(r=t.call(this))._editor=e,r._contextKeyService=o,r.allowEditorOverflow=!0,r._hoverVisibleKey=Z.u.hoverVisible.bindTo(r._contextKeyService),r._hoverFocusedKey=Z.u.hoverFocused.bindTo(r._contextKeyService),r._hover=r._register(new d.c),r._focusTracker=r._register(h.trackFocus(r.getDomNode())),r._horizontalScrollingBy=30,r._visibleData=null,r._register(r._editor.onDidLayoutChange((function(){return r._layout()}))),r._register(r._editor.onDidChangeConfiguration((function(e){e.hasChanged(48)&&r._updateFont()}))),r._setVisibleData(null),r._layout(),r._editor.addContentWidget((0,i.Z)(r)),r._register(r._focusTracker.onDidFocus((function(){r._hoverFocusedKey.set(!0)}))),r._register(r._focusTracker.onDidBlur((function(){r._hoverFocusedKey.set(!1)}))),r}return(0,u.Z)(n,[{key:"position",get:function(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}},{key:"isColorPickerVisible",get:function(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}},{key:"isVisibleFromKeyboard",get:function(){var e;return 1===(null===(e=this._visibleData)||void 0===e?void 0:e.source)}},{key:"isVisible",get:function(){var e;return null!==(e=this._hoverVisibleKey.get())&&void 0!==e&&e}},{key:"dispose",value:function(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),(0,o.Z)((0,r.Z)(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){if(!this._visibleData)return null;var e=this._visibleData.preferAbove;!e&&this._contextKeyService.getContextKeyValue(S._y.Visible.key)&&(e=!0);var t=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:e?[1,2]:[2,1],positionAffinity:t}}},{key:"isMouseGettingCloser",value:function(e,t){if(!this._visibleData)return!1;if("undefined"===typeof this._visibleData.initialMousePosX||"undefined"===typeof this._visibleData.initialMousePosY)return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;var n=h.getDomNodePagePosition(this.getDomNode());"undefined"===typeof this._visibleData.closestMouseDistance&&(this._visibleData.closestMouseDistance=A(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,n.left,n.top,n.width,n.height));var i=A(e,t,n.left,n.top,n.width,n.height);return!(i>this._visibleData.closestMouseDistance+4)&&(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,i),!0)}},{key:"_setVisibleData",value:function(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}},{key:"_layout",value:function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(48),n=t.fontSize,i=t.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(n,"px"),this._hover.contentsDomNode.style.lineHeight="".concat(i/n),this._hover.contentsDomNode.style.maxHeight="".concat(e,"px"),this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(.66*this._editor.getLayoutInfo().width,500),"px")}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"showAt",value:function(e,t){var n;this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),null===(n=t.colorPicker)||void 0===n||n.layout()}},{key:"hide",value:function(){if(this._visibleData){var e=this._visibleData.stoleFocus;this._setVisibleData(null),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}},{key:"onContentsChanged",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();var e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){var t="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingBottom!==t&&(this._hover.contentsDomNode.style.paddingBottom=t,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}},{key:"clear",value:function(){this._hover.contentsDomNode.textContent=""}},{key:"focus",value:function(){this._hover.containerDomNode.focus()}},{key:"scrollUp",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}},{key:"scrollDown",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}},{key:"scrollLeft",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-this._horizontalScrollingBy})}},{key:"scrollRight",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+this._horizontalScrollingBy})}},{key:"pageUp",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}},{key:"pageDown",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}},{key:"goToTop",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}},{key:"goToBottom",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}},{key:"escape",value:function(){this._editor.focus()}}]),n}(f.JT);R.ID="editor.contrib.contentHoverWidget",R=L([N(1,k.i6)],R);var x=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this))._keybindingService=e,i._hasContent=!1,i.hoverElement=I("div.hover-row.status-bar"),i.actionsElement=h.append(i.hoverElement,I("div.actions")),i}return(0,u.Z)(n,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(e){var t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(d.S.render(this.actionsElement,e,n))}},{key:"append",value:function(e){var t=h.append(this.actionsElement,e);return this._hasContent=!0,t}}]),n}(f.JT);x=L([N(0,C.d)],x);var H=function(){function e(t,n){(0,a.Z)(this,e),this._editor=t,this._participants=n,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}return(0,u.Z)(e,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"source",get:function(){return this._source},set:function(e){this._source=e}},{key:"insistOnKeepingHoverVisible",get:function(){return this._insistOnKeepingHoverVisible},set:function(e){this._insistOnKeepingHoverVisible=e}},{key:"computeAsync",value:function(t){var n=this._anchor;if(!this._editor.hasModel()||!n)return D.Aq.EMPTY;var i=e._getLineDecorations(this._editor,n);return D.Aq.merge(this._participants.map((function(e){return e.computeAsync?e.computeAsync(n,i,t):D.Aq.EMPTY})))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var t,n=e._getLineDecorations(this._editor,this._anchor),i=[],o=(0,s.Z)(this._participants);try{for(o.s();!(t=o.n()).done;){var r=t.value;i=i.concat(r.computeSync(this._anchor,n))}}catch(a){o.e(a)}finally{o.f()}return(0,v.kX)(i)}}],[{key:"_getLineDecorations",value:function(e,t){if(1!==t.type&&!t.supportsMarkerHover)return[];var n=e.getModel(),i=t.range.startLineNumber;if(i>n.getLineCount())return[];var o=n.getLineMaxColumn(i);return e.getLineDecorations(i).filter((function(e){if(e.options.isWholeLine)return!0;var n=e.range.startLineNumber===i?e.range.startColumn:1,r=e.range.endLineNumber===i?e.range.endColumn:o;if(e.options.showIfCollapsed){if(n>t.range.startColumn+1||t.range.endColumn-1>r)return!1}else if(n>t.range.startColumn||t.range.endColumn>r)return!1;return!0}))}}]),e}();function A(e,t,n,i,o,r){var s=n+o/2,a=i+r/2,u=Math.max(Math.abs(e-s)-o/2,0),c=Math.max(Math.abs(t-a)-r/2,0);return Math.sqrt(u*u+c*c)}},93630:function(e,t,n){n.d(t,{R8:function(){return v}});var i=n(74165),o=n(43144),r=n(15671),s=n(71049),a=n(7388),u=n(74146),c=n(95253),l=n(65441),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{u(i.next(e))}catch(t){r(t)}}function a(e){try{u(i.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))},d=(0,o.Z)((function e(t,n,i){(0,r.Z)(this,e),this.provider=t,this.hover=n,this.ordinal=i}));function v(e,t,n,o){var r=e.ordered(t).map((function(e,r){return function(e,t,n,o,r){return h(this,void 0,void 0,(0,i.Z)().mark((function s(){var a;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Promise.resolve(e.provideHover(n,o,r));case 3:if(!(a=i.sent)||!f(a)){i.next=6;break}return i.abrupt("return",new d(e,a,t));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),(0,u.Cp)(i.t0);case 11:return i.abrupt("return",void 0);case 12:case"end":return i.stop()}}),s,null,[[0,8]])})))}(e,r,t,n,o)}));return s.Aq.fromPromises(r).coalesce()}function f(e){var t="undefined"!==typeof e.range,n="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&n}(0,c.sb)("_executeHoverProvider",(function(e,t,n){return function(e,t,n,i){return v(e,t,n,i).map((function(e){return e.hover})).toPromise()}(e.get(l.p).hoverProvider,t,n,a.T.None)}))},85537:function(e,t,n){n.r(t),n.d(t,{ModesHoverController:function(){return ie}});var i=n(60136),o=n(27277),r=n(15671),s=n(43144),a=n(89490),u=n(65096),c=n(95253),l=n(17429),h=n(98926),d=n(58188),v=n(83317),f=n(65615),g=n(93433),p=n(37762),_=n(97326),y=n(11752),m=n(61120),b=n(32959),k=n(38102),w=n(71047),C=n(38425),S=n(99964),D=n(94006),Z=b.$,L=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,o){var s;return(0,r.Z)(this,n),(s=t.call(this))._renderDisposeables=s._register(new u.SL),s._editor=e,s._isVisible=!1,s._messages=[],s._hover=s._register(new D.c),s._hover.containerDomNode.classList.toggle("hidden",!s._isVisible),s._markdownRenderer=s._register(new C.$({editor:s._editor},i,o)),s._computer=new N(s._editor),s._hoverOperation=s._register(new S.H(s._editor,s._computer)),s._register(s._hoverOperation.onResult((function(e){s._withResult(e.value)}))),s._register(s._editor.onDidChangeModelDecorations((function(){return s._onModelDecorationsChanged()}))),s._register(s._editor.onDidChangeConfiguration((function(e){e.hasChanged(48)&&s._updateFont()}))),s._editor.addOverlayWidget((0,_.Z)(s)),s}return(0,s.Z)(n,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),(0,y.Z)((0,m.Z)(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(e,t){this._renderDisposeables.clear();var n,i=document.createDocumentFragment(),o=(0,p.Z)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value,s=Z("div.hover-row.markdown-hover"),a=b.append(s,Z("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(r.value));a.appendChild(u.element),i.appendChild(s)}}catch(c){o.e(c)}finally{o.f()}this._updateContents(i),this._showAt(e)}},{key:"_updateContents",value:function(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}},{key:"_showAt",value:function(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),i=this._editor.getScrollTop(),o=this._editor.getOption(64),r=n-i-(this._hover.containerDomNode.clientHeight-o)/2;this._hover.containerDomNode.style.left="".concat(t.glyphMarginLeft+t.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(r),0),"px")}}]),n}(u.JT);L.ID="editor.contrib.modesGlyphHoverWidget";var N=function(){function e(t){(0,r.Z)(this,e),this._editor=t,this._lineNumber=-1}return(0,s.Z)(e,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;var i,o=(0,p.Z)(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r.options.glyphMarginClassName){var s=r.options.glyphMarginHoverMessage;s&&!(0,w.CP)(s)&&n.push.apply(n,(0,g.Z)((0,k._2)(s).map(e)))}}}catch(a){o.e(a)}finally{o.f()}return n}}]),e}(),I=n(18420),M=n(64606),T=n(51713),P=n(43980),O=n(41335),R=n(24250),x=n(80592),H=n(71049),A=n(74146),F=n(44641),W=n(65441),E=n(36053),V=n(47150),U=n(32714),z=n(53222),Q=n(14573),K=n(81266),B=n(28322),Y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},q=function(e,t){return function(n,i){t(n,i,e)}},j=b.$,G=function(){function e(t,n,i){(0,r.Z)(this,e),this.owner=t,this.range=n,this.marker=i}return(0,s.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),J={type:1,filter:{include:z.yN.QuickFix},triggerAction:z.aQ.QuickFixHover},X=function(){function e(t,n,i,o){(0,r.Z)(this,e),this._editor=t,this._markerDecorationsService=n,this._openerService=i,this._languageFeaturesService=o,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}return(0,s.Z)(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type&&!e.supportsMarkerHover)return[];var n,i=this._editor.getModel(),o=e.range.startLineNumber,r=i.getLineMaxColumn(o),s=[],a=(0,p.Z)(t);try{for(a.s();!(n=a.n()).done;){var u=n.value,c=u.range.startLineNumber===o?u.range.startColumn:1,h=u.range.endLineNumber===o?u.range.endColumn:r,d=this._markerDecorationsService.getMarker(i.uri,u);if(d){var v=new l.e(e.range.startLineNumber,c,e.range.startLineNumber,h);s.push(new G(this,v,d))}}}catch(f){a.e(f)}finally{a.f()}return s}},{key:"renderHoverParts",value:function(e,t){var n=this;if(!t.length)return u.JT.None;var i=new u.SL;t.forEach((function(t){return e.fragment.appendChild(n.renderMarkerHover(t,i))}));var o=1===t.length?t[0]:t.sort((function(e,t){return K.ZL.compare(e.marker.severity,t.marker.severity)}))[0];return this.renderMarkerStatusbar(e,o,i),i}},{key:"renderMarkerHover",value:function(e,t){var n=this,i=j("div.hover-row"),o=b.append(i,j("div.marker.hover-contents")),r=e.marker,s=r.source,a=r.message,u=r.code,c=r.relatedInformation;this._editor.applyFontInfo(o);var l=b.append(o,j("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=a,s||u)if(u&&"string"!==typeof u){var h=j("span");if(s)b.append(h,j("span")).innerText=s;var d=b.append(h,j("a.code-link"));d.setAttribute("href",u.target.toString()),t.add(b.addDisposableListener(d,"click",(function(e){n._openerService.open(u.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),b.append(d,j("span")).innerText=u.value;var v=b.append(o,h);v.style.opacity="0.6",v.style.paddingLeft="6px"}else{var f=b.append(o,j("span"));f.style.opacity="0.6",f.style.paddingLeft="6px",f.innerText=s&&u?"".concat(s,"(").concat(u,")"):s||"(".concat(u,")")}if((0,k.Of)(c)){var g,_=(0,p.Z)(c);try{var y=function(){var e=g.value,i=e.message,r=e.resource,s=e.startLineNumber,a=e.startColumn,u=b.append(o,j("div"));u.style.marginTop="8px";var c=b.append(u,j("a"));c.innerText="".concat((0,F.EZ)(r),"(").concat(s,", ").concat(a,"): "),c.style.cursor="pointer",t.add(b.addDisposableListener(c,"click",(function(e){e.stopPropagation(),e.preventDefault(),n._openerService&&n._openerService.open(r,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:s,startColumn:a}}}).catch(A.dL)})));var l=b.append(u,j("span"));l.innerText=i,n._editor.applyFontInfo(l)};for(_.s();!(g=_.n()).done;)y()}catch(m){_.e(m)}finally{_.f()}}return i}},{key:"renderMarkerStatusbar",value:function(e,t,n){var i=this;if(t.marker.severity!==K.ZL.Error&&t.marker.severity!==K.ZL.Warning&&t.marker.severity!==K.ZL.Info||e.statusBar.addAction({label:I.NC("view problem","View Problem"),commandId:Q.NextMarkerAction.ID,run:function(){var n;e.hide(),null===(n=Q.MarkerController.get(i._editor))||void 0===n||n.showAtMarker(t.marker),i._editor.focus()}}),!this._editor.getOption(88)){var o=e.statusBar.append(j("div"));this.recentMarkerCodeActionsInfo&&(K.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===K.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=I.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?u.JT.None:n.add((0,H.Vg)((function(){return o.textContent=I.NC("checkingForQuickFixes","Checking for quick fixes...")}),200));o.textContent||(o.textContent=String.fromCharCode(160));var s=this.getCodeActions(t.marker);n.add((0,u.OF)((function(){return s.cancel()}))),s.then((function(s){if(r.dispose(),i.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!i.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(o.textContent=I.NC("noQuickFixes","No quick fixes available"));o.style.display="none";var a=!1;n.add((0,u.OF)((function(){a||s.dispose()}))),e.statusBar.addAction({label:I.NC("quick fixes","Quick Fix..."),commandId:V.cz,run:function(t){a=!0;var n=U.G.get(i._editor),o=b.getDomNodePagePosition(t);e.hide(),null===n||void 0===n||n.showCodeActions(J,s,{x:o.left,y:o.top,width:o.width,height:o.height})}})}),A.dL)}}},{key:"getCodeActions",value:function(e){var t=this;return(0,H.PG)((function(n){return(0,V.aI)(t._languageFeaturesService.codeActionProvider,t._editor.getModel(),new l.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),J,B.Ex.None,n)}))}}]),e}();X=Y([q(1,E.i),q(2,T.v4),q(3,W.p)],X);var $=n(39019),ee=n(75256),te=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ne=function(e,t){return function(n,i){t(n,i,e)}},ie=function(){function e(t,n,i,o,s){var a=this;(0,r.Z)(this,e),this._editor=t,this._instantiationService=n,this._openerService=i,this._languageService=o,this._keybindingService=s,this._toUnhook=new u.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(58)&&(a._unhookEvents(),a._hookEvents())}))}return(0,s.Z)(e,[{key:"_hookEvents",value:function(){var e=this,t=this._editor.getOption(58);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))):(this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))),this._toUnhook.add(this._editor.onMouseLeave((function(t){return e._onEditorMouseLeave(t)}))),this._toUnhook.add(this._editor.onDidChangeModel((function(){return e._hideWidgets()}))),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){this._isMouseDown=!0;var t=e.target;9!==t.type||t.detail!==f.Hb.ID?12===t.type&&t.detail===L.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var t,n=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(n))||this._hideWidgets()}},{key:"_onEditorMouseMove",value:function(e){var t,n,i,o,r,s,a,u,c=e.target;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==c.type||c.detail!==f.Hb.ID)&&(!this._isHoverSticky||!(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(null===(n=e.event.browserEvent.view)||void 0===n?void 0:n.document.activeElement))||(null===(o=null===(i=e.event.browserEvent.view)||void 0===i?void 0:i.getSelection())||void 0===o?void 0:o.isCollapsed))&&(this._isHoverSticky||9!==c.type||c.detail!==f.Hb.ID||!(null===(r=this._contentWidget)||void 0===r?void 0:r.isColorPickerVisible()))&&(!this._isHoverSticky||12!==c.type||c.detail!==L.ID)&&(!this._isHoverSticky||!(null===(s=this._contentWidget)||void 0===s?void 0:s.isVisibleFromKeyboard())))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===c.type&&c.position?(null===(u=this._contentWidget)||void 0===u||u.hide(),this._glyphWidget||(this._glyphWidget=new L(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(c.position.lineNumber)):void this._hideWidgets();null===(a=this._glyphWidget)||void 0===a||a.hide()}else this._hideWidgets()}},{key:"_onKeyDown",value:function(e){var t;if(this._editor.hasModel()){var n=this._keybindingService.softDispatch(e,this._editor.getDomNode()),i=1===n.kind||2===n.kind&&"editor.action.showHover"===n.commandId&&(null===(t=this._contentWidget)||void 0===t?void 0:t.isVisible());5===e.keyCode||6===e.keyCode||57===e.keyCode||4===e.keyCode||i||this._hideWidgets()}}},{key:"_hideWidgets",value:function(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||$.QG.dropDownVisible||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(f.hT,this._editor)),this._contentWidget}},{key:"isColorPickerVisible",value:function(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}},{key:"showContentHover",value:function(e,t,n,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,n,i)}},{key:"focus",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.focus()}},{key:"scrollUp",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollUp()}},{key:"scrollDown",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollDown()}},{key:"scrollLeft",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollLeft()}},{key:"scrollRight",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollRight()}},{key:"pageUp",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.pageUp()}},{key:"pageDown",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.pageDown()}},{key:"goToTop",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.goToTop()}},{key:"goToBottom",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.goToBottom()}},{key:"escape",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.escape()}},{key:"isHoverVisible",value:function(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isVisible()}},{key:"dispose",value:function(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();ie.ID="editor.contrib.hover",ie=te([ne(1,M.TG),ne(2,T.v4),ne(3,d.O),ne(4,ee.d)],ie);var oe=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.showHover",label:I.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,a.gx)(2089,2087),weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t,n){if(t.hasModel()){var i=ie.get(t);if(i){var o=t.getPosition(),r=new l.e(o.lineNumber,o.column,o.lineNumber,o.column),s=2===t.getOption(2)||!!(null===n||void 0===n?void 0:n.focus);i.isHoverVisible()?i.focus():i.showContentHover(r,1,1,s)}}}}]),n}(c.R6),re=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.showDefinitionPreviewHover",label:I.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);if(n){var i=t.getPosition();if(i){var o=new l.e(i.lineNumber,i.column,i.lineNumber,i.column),r=v.GotoDefinitionAtPositionEditorContribution.get(t);if(r)r.startFindDefinitionFromCursor(i).then((function(){n.showContentHover(o,1,1,!0)}))}}}}]),n}(c.R6),se=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.scrollUpHover",label:I.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:16,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.scrollUp()}}]),n}(c.R6),ae=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.scrollDownHover",label:I.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:18,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.scrollDown()}}]),n}(c.R6),ue=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.scrollLeftHover",label:I.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:15,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.scrollLeft()}}]),n}(c.R6),ce=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.scrollRightHover",label:I.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:17,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.scrollRight()}}]),n}(c.R6),le=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.pageUpHover",label:I.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:11,secondary:[528],weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.pageUp()}}]),n}(c.R6),he=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.pageDownHover",label:I.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:12,secondary:[530],weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.pageDown()}}]),n}(c.R6),de=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.goToTopHover",label:I.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.goToTop()}}]),n}(c.R6),ve=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.goToBottomHover",label:I.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.goToBottom()}}]),n}(c.R6),fe=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.escapeFocusHover",label:I.NC({key:"escapeFocusHover",comment:["Action that allows to escape from the hover widget with the escape command when the hover widget is focused."]},"Escape Focus Hover"),alias:"Escape Focus Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:9,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=ie.get(t);n&&n.escape()}}]),n}(c.R6);(0,c._K)(ie.ID,ie,2),(0,c.Qr)(oe),(0,c.Qr)(re),(0,c.Qr)(se),(0,c.Qr)(ae),(0,c.Qr)(ue),(0,c.Qr)(ce),(0,c.Qr)(le),(0,c.Qr)(he),(0,c.Qr)(de),(0,c.Qr)(ve),(0,c.Qr)(fe),R.Ae.register(x.D5),R.Ae.register(X),(0,O.Ic)((function(e,t){var n=e.getColor(P.CNo);n&&(t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(n.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(n.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(n.transparent(.5),"; }")))}))},99964:function(e,t,n){n.d(t,{H:function(){return _}});var i=n(74165),o=n(11752),r=n(61120),s=n(60136),a=n(27277),u=n(43144),c=n(15671),l=n(71049),h=n(74146),d=n(13880),v=n(65096),f=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{u(i.next(e))}catch(t){r(t)}}function a(e){try{u(i.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))},g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}},p=(0,u.Z)((function e(t,n,i){(0,c.Z)(this,e),this.value=t,this.isComplete=n,this.hasLoadingMessage=i})),_=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var o;return(0,c.Z)(this,n),(o=t.call(this))._editor=e,o._computer=i,o._onResult=o._register(new d.Q5),o.onResult=o._onResult.event,o._firstWaitScheduler=o._register(new l.pY((function(){return o._triggerAsyncComputation()}),0)),o._secondWaitScheduler=o._register(new l.pY((function(){return o._triggerSyncComputation()}),0)),o._loadingMessageScheduler=o._register(new l.pY((function(){return o._triggerLoadingMessage()}),0)),o._state=0,o._asyncIterable=null,o._asyncIterableDone=!1,o._result=[],o}return(0,u.Z)(n,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),(0,o.Z)((0,r.Z)(n.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(58).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._state=e,t&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var e=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,l.zS)((function(t){return e._computer.computeAsync(t)})),f(e,void 0,void 0,(0,i.Z)().mark((function e(){var t,n,o,r,s,a,u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,s=!0,a=g(this._asyncIterable);case 3:return e.next=5,a.next();case 5:if(u=e.sent,t=u.done){e.next=15;break}r=u.value,s=!1,(c=r)&&(this._result.push(c),this._fireResult());case 12:s=!0,e.next=3;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),n={error:e.t0};case 20:if(e.prev=20,e.prev=21,s||t||!(o=a.return)){e.next=25;break}return e.next=25,o.call(a);case 25:if(e.prev=25,!n){e.next=28;break}throw n.error;case 28:return e.finish(25);case 29:return e.finish(20);case 30:this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),(0,h.dL)(e.t1);case 37:case"end":return e.stop()}}),e,this,[[0,34],[1,17,20,30],[21,,25,29]])})))):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){3===this._state&&this._setState(4)}},{key:"_fireResult",value:function(){if(1!==this._state&&2!==this._state){var e=0===this._state,t=4===this._state;this._onResult.fire(new p(this._result.slice(0),e,t))}}},{key:"start",value:function(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),n}(v.JT)},24250:function(e,t,n){n.d(t,{Ae:function(){return a},Qj:function(){return r},YM:function(){return s}});var i=n(15671),o=n(43144),r=function(){function e(t,n,o,r){(0,i.Z)(this,e),this.priority=t,this.range=n,this.initialMousePosX=o,this.initialMousePosY=r,this.type=1}return(0,o.Z)(e,[{key:"equals",value:function(e){return 1===e.type&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}]),e}(),s=function(){function e(t,n,o,r,s,a){(0,i.Z)(this,e),this.priority=t,this.owner=n,this.range=o,this.initialMousePosX=r,this.initialMousePosY=s,this.supportsMarkerHover=a,this.type=2}return(0,o.Z)(e,[{key:"equals",value:function(e){return 2===e.type&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,t){return 2===e.type&&this.owner===e.owner}}]),e}(),a=new(function(){function e(){(0,i.Z)(this,e),this._participants=[]}return(0,o.Z)(e,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),e}())},80592:function(e,t,n){n.d(t,{D5:function(){return S},c:function(){return D},hU:function(){return C}});var i=n(37762),o=n(15671),r=n(43144),s=n(32959),a=n(38102),u=n(71049),c=n(71047),l=n(65096),h=n(38425),d=n(65631),v=n(17429),f=n(58188),g=n(93630),p=n(18420),_=n(77819),y=n(51713),m=n(65441),b=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},k=function(e,t){return function(n,i){t(n,i,e)}},w=s.$,C=function(){function e(t,n,i,r,s){(0,o.Z)(this,e),this.owner=t,this.range=n,this.contents=i,this.isBeforeContent=r,this.ordinal=s}return(0,r.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),S=function(){function e(t,n,i,r,s){(0,o.Z)(this,e),this._editor=t,this._languageService=n,this._openerService=i,this._configurationService=r,this._languageFeaturesService=s,this.hoverOrdinal=3}return(0,r.Z)(e,[{key:"createLoadingMessage",value:function(e){return new C(this,e.range,[(new c.W5).appendText(p.NC("modesContentHover.loading","Loading..."))],!1,2e3)}},{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n=this._editor.getModel(),o=e.range.startLineNumber,r=n.getLineMaxColumn(o),s=[],u=1e3,l=n.getLineLength(o),h=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(113),f=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:h}),g=!1;d>=0&&l>d&&e.range.startColumn>=d&&(g=!0,s.push(new C(this,e.range,[{value:p.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,u++))),!g&&"number"===typeof f&&l>=f&&s.push(new C(this,e.range,[{value:p.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,u++));var _,y=!1,m=(0,i.Z)(t);try{for(m.s();!(_=m.n()).done;){var b=_.value,k=b.range.startLineNumber===o?b.range.startColumn:1,w=b.range.endLineNumber===o?b.range.endColumn:r,S=b.options.hoverMessage;if(S&&!(0,c.CP)(S)){b.options.beforeContentClassName&&(y=!0);var D=new v.e(e.range.startLineNumber,k,e.range.startLineNumber,w);s.push(new C(this,D,(0,a._2)(S),y,u++))}}}catch(Z){m.e(Z)}finally{m.f()}return s}},{key:"computeAsync",value:function(e,t,n){var i=this;if(!this._editor.hasModel()||1!==e.type)return u.Aq.EMPTY;var o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return u.Aq.EMPTY;var r=new d.L(e.range.startLineNumber,e.range.startColumn);return(0,g.R8)(this._languageFeaturesService.hoverProvider,o,r,n).filter((function(e){return!(0,c.CP)(e.hover.contents)})).map((function(t){var n=t.hover.range?v.e.lift(t.hover.range):e.range;return new C(i,n,t.hover.contents,!1,t.ordinal)}))}},{key:"renderHoverParts",value:function(e,t){return D(e,t,this._editor,this._languageService,this._openerService)}}]),e}();function D(e,t,n,o,r){t.sort((function(e,t){return e.ordinal-t.ordinal}));var a,u=new l.SL,d=(0,i.Z)(t);try{for(d.s();!(a=d.n()).done;){var v,f=a.value,g=(0,i.Z)(f.contents);try{var p=function(){var t=v.value;if((0,c.CP)(t))return"continue";var i=w("div.hover-row.markdown-hover"),a=s.append(i,w("div.hover-contents")),l=u.add(new h.$({editor:n},o,r));u.add(l.onDidRenderAsync((function(){a.className="hover-contents code-hover-contents",e.onContentsChanged()})));var d=u.add(l.render(t));a.appendChild(d.element),e.fragment.appendChild(i)};for(g.s();!(v=g.n()).done;)p()}catch(_){g.e(_)}finally{g.f()}}}catch(_){d.e(_)}finally{d.f()}return u}S=b([k(1,f.O),k(2,y.v4),k(3,_.Ui),k(4,m.p)],S)},61034:function(e,t,n){n.r(t);var i=n(60136),o=n(27277),r=n(15671),s=n(43144),a=n(71049),u=n(74146),c=n(16836),l=n(95253),h=n(17429),d=n(96601),v=n(98926),f=n(78519),g=n(88697),p=n(18420),_=function(){function e(t,n,i){(0,r.Z)(this,e),this._editRange=t,this._originalSelection=n,this._text=i}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){t.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new d.Y(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new d.Y(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}]),e}(),y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},m=function(e,t){return function(n,i){t(n,i,e)}},b=function(){function e(t,n){(0,r.Z)(this,e),this.editor=t,this.editorWorkerService=n,this.decorations=this.editor.createDecorationsCollection()}return(0,s.Z)(e,[{key:"dispose",value:function(){}},{key:"run",value:function(t,n){var i,o=this;null===(i=this.currentRequest)||void 0===i||i.cancel();var r=this.editor.getSelection(),s=this.editor.getModel();if(s&&r){var l=r;if(l.startLineNumber===l.endLineNumber){var v=new c.yy(this.editor,5),f=s.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=(0,a.PG)((function(e){return o.editorWorkerService.navigateValueSet(f,l,n)})),this.currentRequest.then((function(n){var i;if(n&&n.range&&n.value&&v.validate(o.editor)){var r=h.e.lift(n.range),s=n.range,c=n.value.length-(l.endColumn-l.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+n.value.length},c>1&&(l=new d.Y(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+c-1));var f=new _(r,l,n.value);o.editor.pushUndoStop(),o.editor.executeCommand(t,f),o.editor.pushUndoStop(),o.decorations.set([{range:s,options:e.DECORATION}]),null===(i=o.decorationRemover)||void 0===i||i.cancel(),o.decorationRemover=(0,a.Vs)(350),o.decorationRemover.then((function(){return o.decorations.clear()})).catch(u.dL)}})).catch(u.dL)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();b.ID="editor.contrib.inPlaceReplaceController",b.DECORATION=f.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),b=y([m(1,g.p)],b);var k=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3159,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=b.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}]),n}(l.R6),w=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3161,weight:100}})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=b.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}]),n}(l.R6);(0,l._K)(b.ID,b,4),(0,l.Qr)(k),(0,l.Qr)(w)},25494:function(e,t,n){function i(e,t){for(var n=0,i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function o(e,t,n){e=e<0?0:e;var i="";if(!n){var o=Math.floor(e/t);e%=t;for(var r=0;r<o;r++)i+="\t"}for(var s=0;s<e;s++)i+=" ";return i}n.d(t,{J:function(){return o},Y:function(){return i}})},21376:function(e,t,n){n.r(t),n.d(t,{AutoIndentOnPaste:function(){return A},AutoIndentOnPasteCommand:function(){return H},ChangeIndentationSizeAction:function(){return I},ChangeTabDisplaySize:function(){return P},DetectIndentation:function(){return O},IndentUsingSpaces:function(){return T},IndentUsingTabs:function(){return M},IndentationToSpacesAction:function(){return L},IndentationToSpacesCommand:function(){return W},IndentationToTabsAction:function(){return N},IndentationToTabsCommand:function(){return E},ReindentLinesAction:function(){return R},ReindentSelectedLinesAction:function(){return x},getReindentEditOperations:function(){return Z}});var i=n(93433),o=n(37762),r=n(15671),s=n(43144),a=n(60136),u=n(27277),c=n(65096),l=n(31906),h=n(95253),d=n(2413),v=n(62557),f=n(17429),g=n(96601),p=n(98926),_=n(19536),y=n(26246),m=n(25494),b=n(18420),k=n(67949),w=n(52368),C=n(40469),S=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},D=function(e,t){return function(n,i){t(n,i,e)}};function Z(e,t,n,i,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var r=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!r)return[];for(i=Math.min(i,e.getLineCount());n<=i&&r.unIndentedLinePattern;){var s=e.getLineContent(n);if(!r.unIndentedLinePattern.test(s))break;n++}if(n>i-1)return[];var a,u=e.getOptions(),c=u.tabSize,h=u.indentSize,f=u.insertSpaces,p=function(e,t){return t=t||1,d.U.shiftIndent(e,e.length+t,c,h,f)},_=function(e,t){return t=t||1,d.U.unshiftIndent(e,e.length+t,c,h,f)},y=[],m=e.getLineContent(n),b=m;if(void 0!==o&&null!==o){a=o;var k=l.V8(m);b=a+m.substring(k.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(b)&&(b=(a=_(a))+m.substring(k.length)),m!==b&&y.push(v.h.replaceMove(new g.Y(n,1,n,k.length+1),(0,w.x)(a,h,f)))}else a=l.V8(m);var C=a;r.increaseIndentPattern&&r.increaseIndentPattern.test(b)?(C=p(C),a=p(a)):r.indentNextLinePattern&&r.indentNextLinePattern.test(b)&&(C=p(C));for(var S=++n;S<=i;S++){var D=e.getLineContent(S),Z=l.V8(D),L=C+D.substring(Z.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(L)&&(C=_(C),a=_(a)),Z!==C&&y.push(v.h.replaceMove(new g.Y(S,1,S,Z.length+1),(0,w.x)(C,h,f))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(D)||(C=r.increaseIndentPattern&&r.increaseIndentPattern.test(L)?a=p(a):r.indentNextLinePattern&&r.indentNextLinePattern.test(L)?p(C):a)}return y}var L=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:n.ID,label:b.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),o=t.getSelection();if(o){var r=new W(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}}}]),n}(h.R6);L.ID="editor.action.indentationToSpaces";var N=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:n.ID,label:b.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),o=t.getSelection();if(o){var r=new E(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}}}]),n}(h.R6);N.ID="editor.action.indentationToTabs";var I=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,i,o){var s;return(0,r.Z)(this,n),(s=t.call(this,o)).insertSpaces=e,s.displaySizeOnly=i,s}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=this,i=e.get(k.eJ),o=e.get(y.q),r=t.getModel();if(r){var s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),a=r.getOptions(),u=[1,2,3,4,5,6,7,8].map((function(e){return{id:e.toString(),label:e.toString(),description:e===s.tabSize&&e===a.tabSize?b.NC("configuredTabSize","Configured Tab Size"):e===s.tabSize?b.NC("defaultTabSize","Default Tab Size"):e===a.tabSize?b.NC("currentTabSize","Current Tab Size"):void 0}})),c=Math.min(r.getOptions().tabSize-1,7);setTimeout((function(){i.pick(u,{placeHolder:b.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:u[c]}).then((function(e){if(e&&r&&!r.isDisposed()){var t=parseInt(e.label,10);n.displaySizeOnly?r.updateOptions({tabSize:t}):r.updateOptions({tabSize:t,indentSize:t,insertSpaces:n.insertSpaces})}}))}),50)}}}]),n}(h.R6),M=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,!1,!1,{id:n.ID,label:b.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return(0,s.Z)(n)}(I);M.ID="editor.action.indentUsingTabs";var T=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,!0,!1,{id:n.ID,label:b.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return(0,s.Z)(n)}(I);T.ID="editor.action.indentUsingSpaces";var P=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,!0,!0,{id:n.ID,label:b.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}return(0,s.Z)(n)}(I);P.ID="editor.action.changeTabDisplaySize";var O=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:n.ID,label:b.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=e.get(y.q),i=t.getModel();if(i){var o=n.getCreationOptions(i.getLanguageId(),i.uri,i.isForSimpleWidget);i.detectIndentation(o.insertSpaces,o.tabSize)}}}]),n}(h.R6);O.ID="editor.action.detectIndentation";var R=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.reindentlines",label:b.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=e.get(_.c_),i=t.getModel();if(i){var o=Z(i,n,1,i.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}}]),n}(h.R6),x=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.reindentselectedlines",label:b.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:p.u.writable})}return(0,s.Z)(n,[{key:"run",value:function(e,t){var n=e.get(_.c_),r=t.getModel();if(r){var s=t.getSelections();if(null!==s){var a,u=[],c=(0,o.Z)(s);try{for(c.s();!(a=c.n()).done;){var l=a.value,h=l.startLineNumber,d=l.endLineNumber;if(h!==d&&1===l.endColumn&&d--,1===h){if(h===d)continue}else h--;var v=Z(r,n,h,d);u.push.apply(u,(0,i.Z)(v))}}catch(f){c.e(f)}finally{c.f()}u.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,u),t.pushUndoStop())}}}}]),n}(h.R6),H=function(){function e(t,n){(0,r.Z)(this,e),this._initialSelection=n,this._edits=[],this._selectionId=null;var i,s=(0,o.Z)(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.range&&"string"===typeof a.text&&this._edits.push(a)}}catch(u){s.e(u)}finally{s.f()}}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){var n,i=(0,o.Z)(this._edits);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.addEditOperation(f.e.lift(r.range),r.text)}}catch(a){i.e(a)}finally{i.f()}var s=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),s||(this._selectionId=t.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}(),A=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this.editor=t,this._languageConfigurationService=n,this.callOnDispose=new c.SL,this.callOnModel=new c.SL,this.callOnDispose.add(t.onDidChangeConfiguration((function(){return i.update()}))),this.callOnDispose.add(t.onDidChangeModel((function(){return i.update()}))),this.callOnDispose.add(t.onDidChangeModelLanguage((function(){return i.update()})))}return(0,s.Z)(e,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),this.editor.getOption(10)<4||this.editor.getOption(53)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;e.trigger(n)})))}},{key:"trigger",value:function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var n=this.editor.getModel();if(n&&n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var i=this.editor.getOption(10),o=n.getOptions(),r=o.tabSize,s=o.indentSize,a=o.insertSpaces,u=[],c={shiftIndent:function(e){return d.U.shiftIndent(e,e.length+1,r,s,a)},unshiftIndent:function(e){return d.U.unshiftIndent(e,e.length+1,r,s,a)}},h=e.startLineNumber;h<=e.endLineNumber&&this.shouldIgnoreLine(n,h);)h++;if(!(h>e.endLineNumber)){var v=n.getLineContent(h);if(!/\S/.test(v.substring(0,e.startColumn-1))){var g=(0,C.n8)(i,n,n.getLanguageId(),h,c,this._languageConfigurationService);if(null!==g){var p=l.V8(v),_=m.Y(g,r);if(_!==m.Y(p,r)){var y=m.J(_,r,a);u.push({range:new f.e(h,1,h,p.length+1),text:y}),v=y+v.substr(p.length)}else{var b=(0,C.tI)(n,h,this._languageConfigurationService);if(0===b||8===b)return}}}for(var k=h;h<e.endLineNumber&&!/\S/.test(n.getLineContent(h+1));)h++;if(h!==e.endLineNumber){var w={tokenization:{getLineTokens:function(e){return n.tokenization.getLineTokens(e)},getLanguageId:function(){return n.getLanguageId()},getLanguageIdAtPosition:function(e,t){return n.getLanguageIdAtPosition(e,t)}},getLineContent:function(e){return e===k?v:n.getLineContent(e)}},S=(0,C.n8)(i,w,n.getLanguageId(),h+1,c,this._languageConfigurationService);if(null!==S){var D=m.Y(S,r),Z=m.Y(l.V8(n.getLineContent(h+1)),r);if(D!==Z)for(var L=D-Z,N=h+1;N<=e.endLineNumber;N++){var I=n.getLineContent(N),M=l.V8(I),T=m.Y(M,r)+L,P=m.J(T,r,a);P!==M&&u.push({range:new f.e(N,1,N,M.length+1),text:P})}}}if(u.length>0){this.editor.pushUndoStop();var O=new H(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",O),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,t){e.tokenization.forceTokenization(t);var n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;var i=e.tokenization.getLineTokens(t);if(i.getCount()>0){var o=i.findTokenIndexAtOffset(n);if(o>=0&&1===i.getStandardTokenType(o))return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),e}();function F(e,t,n,i){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var o="",r=0;r<n;r++)o+=" ";for(var s=new RegExp(o,"gi"),a=1,u=e.getLineCount();a<=u;a++){var c=e.getLineFirstNonWhitespaceColumn(a);if(0===c&&(c=e.getLineMaxColumn(a)),1!==c){var l=new f.e(a,1,a,c),h=e.getValueInRange(l),d=i?h.replace(/\t/gi,o):h.replace(s,"\t");t.addEditOperation(l,d)}}}}A.ID="editor.contrib.autoIndentOnPaste",A=S([D(1,_.c_)],A);var W=function(){function e(t,n){(0,r.Z)(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),F(e,t,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}(),E=function(){function e(t,n){(0,r.Z)(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),F(e,t,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}();(0,h._K)(A.ID,A,2),(0,h.Qr)(L),(0,h.Qr)(N),(0,h.Qr)(M),(0,h.Qr)(T),(0,h.Qr)(P),(0,h.Qr)(O),(0,h.Qr)(R),(0,h.Qr)(x)}}]);
//# sourceMappingURL=monaco-editor-vendor.dbdc571d.3ae6db56.js.map