"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[698],{81562:function(e,t,n){n.d(t,{c:function(){return d}});var i=n(37762),r=n(15671),a=n(43144),o=n(28941),s=n(10526),u=n(36158),l=n(97998),h=n(38590);function c(e,t,n,r,a){if(Array.isArray(e)){var o,s=0,u=(0,i.Z)(e);try{for(u.s();!(o=u.n()).done;){var f=c(o.value,t,n,r,a);if(10===f)return f;f>s&&(s=f)}}catch(y){u.e(y)}finally{u.f()}return s}if("string"===typeof e)return r?"*"===e?5:e===n?10:0:0;if(e){var d=e.language,g=e.pattern,v=e.scheme,k=e.hasAccessToAllModels,p=e.notebookType;if(!r&&!k)return 0;var m=0;if(v)if(v===t.scheme)m=10;else{if("*"!==v)return 0;m=5}if(d)if(d===n)m=10;else{if("*"!==d)return 0;m=Math.max(m,5)}if(p)if(p===a)m=10;else{if("*"!==p)return 0;m=Math.max(m,5)}if(g){var C;if((C="string"===typeof g?g:Object.assign(Object.assign({},g),{base:(0,h.Fv)(g.base)}))!==t.fsPath&&!(0,l.EQ)(C,t.fsPath))return 0;m=10}return m}return 0}function f(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(f):!!e.exclusive)}var d=function(){function e(t){(0,r.Z)(this,e),this._notebookTypeResolver=t,this._clock=0,this._entries=[],this._onDidChange=new o.Q5,this.onDidChange=this._onDidChange.event}return(0,a.Z)(e,[{key:"register",value:function(e,t){var n=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,s.OF)((function(){if(i){var e=n._entries.indexOf(i);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),i=void 0)}}))}},{key:"has",value:function(e){return this.all(e).length>0}},{key:"all",value:function(e){if(!e)return[];this._updateScores(e);var t,n=[],r=(0,i.Z)(this._entries);try{for(r.s();!(t=r.n()).done;){var a=t.value;a._score>0&&n.push(a.provider)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"ordered",value:function(e){var t=[];return this._orderedForEach(e,(function(e){return t.push(e.provider)})),t}},{key:"orderedGroups",value:function(e){var t,n,i=[];return this._orderedForEach(e,(function(e){t&&n===e._score?t.push(e.provider):(n=e._score,t=[e.provider],i.push(t))})),i}},{key:"_orderedForEach",value:function(e,t){if(e){this._updateScores(e);var n,r=(0,i.Z)(this._entries);try{for(r.s();!(n=r.n()).done;){var a=n.value;a._score>0&&t(a)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"_updateScores",value:function(t){var n,r=null===(n=this._notebookTypeResolver)||void 0===n?void 0:n.call(this,t.uri),a={uri:t.uri.toString(),language:t.getLanguageId(),notebookType:r};if(!this._lastCandidate||this._lastCandidate.language!==a.language||this._lastCandidate.uri!==a.uri||this._lastCandidate.notebookType!==a.notebookType){this._lastCandidate=a;var o,s=(0,i.Z)(this._entries);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l._score=c(l.selector,t.uri,t.getLanguageId(),(0,u.pt)(t),r),f(l.selector)&&l._score>0){var h,d=(0,i.Z)(this._entries);try{for(d.s();!(h=d.n()).done;){h.value._score=0}}catch(g){d.e(g)}finally{d.f()}l._score=1e3;break}}}catch(g){s.e(g)}finally{s.f()}this._entries.sort(e._compareByScoreAndTime)}}}],[{key:"_compareByScoreAndTime",value:function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}]),e}()},56417:function(e,t,n){n.d(t,{AD:function(){return I},DI:function(){return p},MY:function(){return o},NX:function(){return g},RW:function(){return b},WU:function(){return v},WW:function(){return a},bw:function(){return r},gX:function(){return i},gl:function(){return y},hG:function(){return k},mY:function(){return C},uZ:function(){return s},vx:function(){return m}});var i,r,a,o,s,u=n(15671),l=n(43144),h=n(50605),c=n(30788),f=n(72669),d=n(7579),g=function(){function e(){(0,u.Z)(this,e)}return(0,l.Z)(e,null,[{key:"getLanguageId",value:function(e){return(255&e)>>>0}},{key:"getTokenType",value:function(e){return(768&e)>>>8}},{key:"getFontStyle",value:function(e){return(15360&e)>>>10}},{key:"getForeground",value:function(e){return(8372224&e)>>>14}},{key:"getBackground",value:function(e){return(4286578688&e)>>>23}},{key:"getClassNameFromMetadata",value:function(e){var t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),8&n&&(t+=" mtks"),t}},{key:"getInlineStyleFromMetadata",value:function(e,t){var n=this.getForeground(e),i=this.getFontStyle(e),r="color: ".concat(t[n],";");1&i&&(r+="font-style: italic;"),2&i&&(r+="font-weight: bold;");var a="";return 4&i&&(a+=" underline"),8&i&&(a+=" line-through"),a&&(r+="text-decoration:".concat(a,";")),r}},{key:"getPresentationFromMetadata",value:function(e){var t=this.getForeground(e),n=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}]),e}(),v=function(){function e(t,n,i){(0,u.Z)(this,e),this._tokenBrand=void 0,this.offset=t,this.type=n,this.language=i}return(0,l.Z)(e,[{key:"toString",value:function(){return"("+this.offset+", "+this.type+")"}}]),e}(),k=(0,l.Z)((function e(t,n){(0,u.Z)(this,e),this._tokenizationResultBrand=void 0,this.tokens=t,this.endState=n})),p=(0,l.Z)((function e(t,n){(0,u.Z)(this,e),this._encodedTokenizationResultBrand=void 0,this.tokens=t,this.endState=n}));function m(e){return e&&h.o.isUri(e.uri)&&c.e.isIRange(e.range)&&(c.e.isIRange(e.originSelectionRange)||c.e.isIRange(e.targetSelectionRange))}!function(e){var t=new Map;t.set(0,d.lA.symbolMethod),t.set(1,d.lA.symbolFunction),t.set(2,d.lA.symbolConstructor),t.set(3,d.lA.symbolField),t.set(4,d.lA.symbolVariable),t.set(5,d.lA.symbolClass),t.set(6,d.lA.symbolStruct),t.set(7,d.lA.symbolInterface),t.set(8,d.lA.symbolModule),t.set(9,d.lA.symbolProperty),t.set(10,d.lA.symbolEvent),t.set(11,d.lA.symbolOperator),t.set(12,d.lA.symbolUnit),t.set(13,d.lA.symbolValue),t.set(15,d.lA.symbolEnum),t.set(14,d.lA.symbolConstant),t.set(15,d.lA.symbolEnum),t.set(16,d.lA.symbolEnumMember),t.set(17,d.lA.symbolKeyword),t.set(27,d.lA.symbolSnippet),t.set(18,d.lA.symbolText),t.set(19,d.lA.symbolColor),t.set(20,d.lA.symbolFile),t.set(21,d.lA.symbolReference),t.set(22,d.lA.symbolCustomColor),t.set(23,d.lA.symbolFolder),t.set(24,d.lA.symbolTypeParameter),t.set(25,d.lA.account),t.set(26,d.lA.issues),e.toIcon=function(e){var n=t.get(e);return n||(console.info("No codicon found for CompletionItemKind "+e),n=d.lA.symbolProperty),n};var n=new Map;n.set("method",0),n.set("function",1),n.set("constructor",2),n.set("field",3),n.set("variable",4),n.set("class",5),n.set("struct",6),n.set("interface",7),n.set("module",8),n.set("property",9),n.set("event",10),n.set("operator",11),n.set("unit",12),n.set("value",13),n.set("constant",14),n.set("enum",15),n.set("enum-member",16),n.set("enumMember",16),n.set("keyword",17),n.set("snippet",27),n.set("text",18),n.set("color",19),n.set("file",20),n.set("reference",21),n.set("customcolor",22),n.set("folder",23),n.set("type-parameter",24),n.set("typeParameter",24),n.set("account",25),n.set("issue",26),e.fromString=function(e,t){var i=n.get(e);return"undefined"!==typeof i||t||(i=9),i}}(i||(i={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(r||(r={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(a||(a={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(o||(o={})),function(e){var t=new Map;t.set(0,d.lA.symbolFile),t.set(1,d.lA.symbolModule),t.set(2,d.lA.symbolNamespace),t.set(3,d.lA.symbolPackage),t.set(4,d.lA.symbolClass),t.set(5,d.lA.symbolMethod),t.set(6,d.lA.symbolProperty),t.set(7,d.lA.symbolField),t.set(8,d.lA.symbolConstructor),t.set(9,d.lA.symbolEnum),t.set(10,d.lA.symbolInterface),t.set(11,d.lA.symbolFunction),t.set(12,d.lA.symbolVariable),t.set(13,d.lA.symbolConstant),t.set(14,d.lA.symbolString),t.set(15,d.lA.symbolNumber),t.set(16,d.lA.symbolBoolean),t.set(17,d.lA.symbolArray),t.set(18,d.lA.symbolObject),t.set(19,d.lA.symbolKey),t.set(20,d.lA.symbolNull),t.set(21,d.lA.symbolEnumMember),t.set(22,d.lA.symbolStruct),t.set(23,d.lA.symbolEvent),t.set(24,d.lA.symbolOperator),t.set(25,d.lA.symbolTypeParameter),e.toIcon=function(e){var n=t.get(e);return n||(console.info("No codicon found for SymbolKind "+e),n=d.lA.symbolProperty),n}}(s||(s={}));var C,y,I=(0,l.Z)((function e(t){(0,u.Z)(this,e),this.value=t}));I.Comment=new I("comment"),I.Imports=new I("imports"),I.Region=new I("region"),function(e){e.is=function(e){return!(!e||"object"!==typeof e)&&("string"===typeof e.id&&"string"===typeof e.title)}}(C||(C={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(y||(y={}));var b=new f.R},63024:function(e,t,n){n.d(t,{O:function(){return i}});var i=(0,n(8850).yh)("languageService")},75057:function(e,t,n){n.d(t,{V6:function(){return s},c$:function(){return u},wU:function(){return i}});var i,r=n(37762),a=n(15671),o=n(43144);!function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(i||(i={}));var s=function(){function e(t){if((0,a.Z)(this,e),this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=t.open,this.close=t.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(t.notIn))for(var n=0,i=t.notIn.length;n<i;n++){switch(t.notIn[n]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}}return(0,o.Z)(e,[{key:"isOK",value:function(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}},{key:"shouldAutoClose",value:function(e,t){if(0===e.getTokenCount())return!0;var n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}},{key:"_findNeutralCharacterInRange",value:function(e,t){for(var n=e;n<=t;n++){var i=String.fromCharCode(n);if(!this.open.includes(i)&&!this.close.includes(i))return i}return null}},{key:"findNeutralCharacter",value:function(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}]),e}(),u=(0,o.Z)((function e(t){(0,a.Z)(this,e),this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;l(this.autoClosingPairsOpenByStart,o.open.charAt(0),o),l(this.autoClosingPairsOpenByEnd,o.open.charAt(o.open.length-1),o),l(this.autoClosingPairsCloseByStart,o.close.charAt(0),o),l(this.autoClosingPairsCloseByEnd,o.close.charAt(o.close.length-1),o),1===o.close.length&&1===o.open.length&&l(this.autoClosingPairsCloseSingleChar,o.close,o)}}catch(s){i.e(s)}finally{i.f()}}));function l(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},89125:function(e,t,n){n.d(t,{c_:function(){return E},zu:function(){return N}});var i=n(37762),r=n(29439),a=n(60136),o=n(43668),s=n(15671),u=n(43144),l=n(28941),h=n(10526),c=n(26684),f=n(47433),d=n(75057),g=n(10222),v=function(){function e(t){if((0,s.Z)(this,e),t.autoClosingPairs?this._autoClosingPairs=t.autoClosingPairs.map((function(e){return new d.V6(e)})):t.brackets?this._autoClosingPairs=t.brackets.map((function(e){return new d.V6({open:e[0],close:e[1]})})):this._autoClosingPairs=[],t.colorizedBracketPairs?this._colorizedBracketPairs=k(t.colorizedBracketPairs.map((function(e){return[e[0],e[1]]}))):t.brackets?this._colorizedBracketPairs=k(t.brackets.map((function(e){return[e[0],e[1]]})).filter((function(e){return!("<"===e[0]&&">"===e[1])}))):this._colorizedBracketPairs=[],t.__electricCharacterSupport&&t.__electricCharacterSupport.docComment){var n=t.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new d.V6({open:n.open,close:n.close||""}))}this._autoCloseBefore="string"===typeof t.autoCloseBefore?t.autoCloseBefore:e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}return(0,u.Z)(e,[{key:"getAutoClosingPairs",value:function(){return this._autoClosingPairs}},{key:"getAutoCloseBeforeSet",value:function(){return this._autoCloseBefore}},{key:"getSurroundingPairs",value:function(){return this._surroundingPairs}},{key:"getColorizedBrackets",value:function(){return this._colorizedBracketPairs}}]),e}();function k(e){return e.filter((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return""!==n&&""!==i}))}v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var p=n(71881),m=n(92586),C=function(){function e(t){(0,s.Z)(this,e),this._richEditBrackets=t}return(0,u.Z)(e,[{key:"getElectricCharacters",value:function(){var e=[];if(this._richEditBrackets){var t,n=(0,i.Z)(this._richEditBrackets.brackets);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,o=(0,i.Z)(a.close);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.charAt(s.length-1);e.push(u)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}}return(0,p.EB)(e)}},{key:"onElectricCharacter",value:function(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var i=t.findTokenIndexAtOffset(n-1);if((0,g.Bu)(t.getStandardTokenType(i)))return null;var r=this._richEditBrackets.reversedRegex,a=t.getLineContent().substring(0,n-1)+e,o=m.Vr.findPrevBracketInRange(r,1,a,0,a.length);if(!o)return null;var s=a.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[s])return null;var u=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:s}:null}}]),e}();function y(e){return e.global&&(e.lastIndex=0),!0}var I=function(){function e(t){(0,s.Z)(this,e),this._indentationRules=t}return(0,u.Z)(e,[{key:"shouldIncrease",value:function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}},{key:"shouldDecrease",value:function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}},{key:"shouldIndentNextLine",value:function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}},{key:"shouldIgnore",value:function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}},{key:"getIndentMetadata",value:function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}]),e}(),b=n(68552),_=function(){function e(t){var n=this;(0,s.Z)(this,e),(t=t||{}).brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],t.brackets.forEach((function(t){var i=e._createOpenBracketRegExp(t[0]),r=e._createCloseBracketRegExp(t[1]);i&&r&&n._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})})),this._regExpRules=t.onEnterRules||[]}return(0,u.Z)(e,[{key:"onEnter",value:function(e,t,n,i){if(e>=3)for(var r=0,a=this._regExpRules.length;r<a;r++){var o=this._regExpRules[r];if([{reg:o.beforeText,text:n},{reg:o.afterText,text:i},{reg:o.previousLineText,text:t}].every((function(e){return!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))})))return o.action}if(e>=2&&n.length>0&&i.length>0)for(var s=0,u=this._brackets.length;s<u;s++){var l=this._brackets[s];if(l.openRegExp.test(n)&&l.closeRegExp.test(i))return{indentAction:d.wU.IndentOutdent}}if(e>=2&&n.length>0)for(var h=0,c=this._brackets.length;h<c;h++){if(this._brackets[h].openRegExp.test(n))return{indentAction:d.wU.Indent}}return null}}],[{key:"_createOpenBracketRegExp",value:function(t){var n=c.ec(t);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",e._safeRegExp(n)}},{key:"_createCloseBracketRegExp",value:function(t){var n=c.ec(t);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,e._safeRegExp(n)}},{key:"_safeRegExp",value:function(e){try{return new RegExp(e)}catch(t){return(0,b.dL)(t),null}}}]),e}(),x=n(8850),L=n(64644),w=n(63024),O=n(11280),S=function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},T=function(e,t){return function(n,i){t(n,i,e)}},B=function(){function e(t){(0,s.Z)(this,e),this.languageId=t}return(0,u.Z)(e,[{key:"affects",value:function(e){return!this.languageId||this.languageId===e}}]),e}(),E=(0,x.yh)("languageConfigurationService"),A=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,a){var o;(0,s.Z)(this,n),(o=t.call(this)).configurationService=e,o.languageService=a,o.onDidChangeEmitter=o._register(new l.Q5),o.onDidChange=o.onDidChangeEmitter.event,o.configurations=new Map;var u=new Set(Object.values(Z));return o._register(o.configurationService.onDidChangeConfiguration((function(e){var t=e.change.keys.some((function(e){return u.has(e)})),n=e.change.overrides.filter((function(e){var t=(0,r.Z)(e,2);t[0];return t[1].some((function(e){return u.has(e)}))})).map((function(e){return(0,r.Z)(e,1)[0]}));if(t)o.configurations.clear(),o.onDidChangeEmitter.fire(new B(void 0));else{var a,s=(0,i.Z)(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;o.languageService.isRegisteredLanguageId(l)&&(o.configurations.delete(l),o.onDidChangeEmitter.fire(new B(l)))}}catch(h){s.e(h)}finally{s.f()}}}))),o._register(N.onDidChange((function(e){o.configurations.delete(e.languageId),o.onDidChangeEmitter.fire(new B(e.languageId))}))),o}return(0,u.Z)(n,[{key:"getLanguageConfiguration",value:function(e){var t=this.configurations.get(e);return t||(t=function(e,t,n){var i=N.getLanguageConfiguration(e);if(!i){if(!n.isRegisteredLanguageId(e))throw new Error('Language id "'.concat(e,'" is not configured nor known'));i=new j(e,{})}var r=function(e,t){var n=t.getValue(Z.brackets,{overrideIdentifier:e}),i=t.getValue(Z.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:R(n),colorizedBracketPairs:R(i)}}(i.languageId,t),a=D([i.underlyingConfig,r]);return new j(i.languageId,a)}(e,this.configurationService,this.languageService),this.configurations.set(e,t)),t}}]),n}(h.JT);A=S([T(0,L.Ui),T(1,w.O)],A);var Z={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function R(e){if(Array.isArray(e))return e.map((function(e){if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((function(e){return!!e}))}var M=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.languageId=t})),P=function(){function e(){(0,s.Z)(this,e),this._entries=new Map,this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event}return(0,u.Z)(e,[{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._entries.get(e);r||(r=new z(e),this._entries.set(e,r));var a=r.register(t,i);return this._onDidChange.fire(new M(e)),(0,h.OF)((function(){a.dispose(),n._onDidChange.fire(new M(e))}))}},{key:"getLanguageConfiguration",value:function(e){var t=this._entries.get(e);return(null===t||void 0===t?void 0:t.getResolvedConfiguration())||null}},{key:"getComments",value:function(e){var t=this.getLanguageConfiguration(e);return t&&t.comments||null}},{key:"getIndentRulesSupport",value:function(e){var t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}},{key:"getPrecedingValidLine",value:function(e,t,n){var i=e.getLanguageIdAtPosition(t,0);if(t>1){var r,a=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==i)return a;var o=e.getLineContent(r);if(!n.shouldIgnore(o)&&!/^\s+$/.test(o)&&""!==o)return r;a=r}}return-1}},{key:"getInheritIndentForLine",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e<4)return null;var r=this.getIndentRulesSupport(t.getLanguageId());if(!r)return null;if(n<=1)return{indentation:"",action:null};var a=this.getPrecedingValidLine(t,n,r);if(a<0)return null;if(a<1)return{indentation:"",action:null};var o=t.getLineContent(a);if(r.shouldIncrease(o)||r.shouldIndentNextLine(o))return{indentation:c.V8(o),action:d.wU.Indent,line:a};if(r.shouldDecrease(o))return{indentation:c.V8(o),action:null,line:a};if(1===a)return{indentation:c.V8(t.getLineContent(a)),action:null,line:a};var s=a-1,u=r.getIndentMetadata(t.getLineContent(s));if(!(3&u)&&4&u){for(var l=0,h=s-1;h>0;h--)if(!r.shouldIndentNextLine(t.getLineContent(h))){l=h;break}return{indentation:c.V8(t.getLineContent(l+1)),action:null,line:l+1}}if(i)return{indentation:c.V8(t.getLineContent(a)),action:null,line:a};for(var f=a;f>0;f--){var g=t.getLineContent(f);if(r.shouldIncrease(g))return{indentation:c.V8(g),action:d.wU.Indent,line:f};if(r.shouldIndentNextLine(g)){for(var v=0,k=f-1;k>0;k--)if(!r.shouldIndentNextLine(t.getLineContent(f))){v=k;break}return{indentation:c.V8(t.getLineContent(v+1)),action:null,line:v+1}}if(r.shouldDecrease(g))return{indentation:c.V8(g),action:null,line:f}}return{indentation:c.V8(t.getLineContent(1)),action:null,line:1}}},{key:"getGoodIndentForLine",value:function(e,t,n,i,r){if(e<4)return null;var a=this.getLanguageConfiguration(n);if(!a)return null;var o=this.getIndentRulesSupport(n);if(!o)return null;var s=this.getInheritIndentForLine(e,t,i),u=t.getLineContent(i);if(s){var l=s.line;if(void 0!==l){var h=a.onEnter(e,"",t.getLineContent(l),"");if(h){var f=c.V8(t.getLineContent(l));return h.removeText&&(f=f.substring(0,f.length-h.removeText)),h.indentAction===d.wU.Indent||h.indentAction===d.wU.IndentOutdent?f=r.shiftIndent(f):h.indentAction===d.wU.Outdent&&(f=r.unshiftIndent(f)),o.shouldDecrease(u)&&(f=r.unshiftIndent(f)),h.appendText&&(f+=h.appendText),c.V8(f)}}return o.shouldDecrease(u)?s.action===d.wU.Indent?s.indentation:r.unshiftIndent(s.indentation):s.action===d.wU.Indent?r.shiftIndent(s.indentation):s.indentation}return null}},{key:"getIndentForEnter",value:function(e,t,n,i){if(e<4)return null;t.forceTokenization(n.startLineNumber);var r,a,o=t.getLineTokens(n.startLineNumber),s=(0,g.wH)(o,n.startColumn-1),u=s.getLineContent(),l=!1;(s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(l=!0,r=u.substr(0,n.startColumn-1-s.firstCharOffset)):r=o.getLineContent().substring(0,n.startColumn-1),n.isEmpty())?a=u.substr(n.startColumn-1-s.firstCharOffset):a=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset);var h=this.getIndentRulesSupport(s.languageId);if(!h)return null;var f=r,v=c.V8(r),k={getLineTokens:function(e){return t.getLineTokens(e)},getLanguageId:function(){return t.getLanguageId()},getLanguageIdAtPosition:function(e,n){return t.getLanguageIdAtPosition(e,n)},getLineContent:function(e){return e===n.startLineNumber?f:t.getLineContent(e)}},p=c.V8(o.getLineContent()),m=this.getInheritIndentForLine(e,k,n.startLineNumber+1);if(!m){var C=l?p:v;return{beforeEnter:C,afterEnter:C}}var y=l?p:m.indentation;return m.action===d.wU.Indent&&(y=i.shiftIndent(y)),h.shouldDecrease(a)&&(y=i.unshiftIndent(y)),{beforeEnter:l?p:v,afterEnter:y}}},{key:"getIndentActionForType",value:function(e,t,n,i,r){if(e<4)return null;var a=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn);if(a.firstCharOffset)return null;var o=this.getIndentRulesSupport(a.languageId);if(!o)return null;var s,u=a.getLineContent(),l=u.substr(0,n.startColumn-1-a.firstCharOffset);n.isEmpty()?s=u.substr(n.startColumn-1-a.firstCharOffset):s=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-a.firstCharOffset);if(!o.shouldDecrease(l+s)&&o.shouldDecrease(l+i+s)){var h=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!h)return null;var c=h.indentation;return h.action!==d.wU.Indent&&(c=r.unshiftIndent(c)),c}return null}},{key:"getIndentMetadata",value:function(e,t){var n=this.getIndentRulesSupport(e.getLanguageId());return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null}},{key:"getEnterAction",value:function(e,t,n){var i=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),r=this.getLanguageConfiguration(i.languageId);if(!r)return null;var a,o=i.getLineContent(),s=o.substr(0,n.startColumn-1-i.firstCharOffset);n.isEmpty()?a=o.substr(n.startColumn-1-i.firstCharOffset):a=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-i.firstCharOffset);var u="";if(n.startLineNumber>1&&0===i.firstCharOffset){var l=this.getScopedLineTokens(t,n.startLineNumber-1);l.languageId===i.languageId&&(u=l.getLineContent())}var h=r.onEnter(e,u,s,a);if(!h)return null;var c=h.indentAction,f=h.appendText,g=h.removeText||0;f?c===d.wU.Indent&&(f="\t"+f):f=c===d.wU.Indent||c===d.wU.IndentOutdent?"\t":"";var v=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return g&&(v=v.substring(0,v.length-g)),{indentAction:c,appendText:f,removeText:g,indentation:v}}},{key:"getIndentationAtPosition",value:function(e,t,n){var i=e.getLineContent(t),r=c.V8(i);return r.length>n-1&&(r=r.substring(0,n-1)),r}},{key:"getScopedLineTokens",value:function(e,t,n){e.forceTokenization(t);var i=e.getLineTokens(t),r="undefined"===typeof n?e.getLineMaxColumn(t)-1:n-1;return(0,g.wH)(i,r)}}]),e}(),N=new P,z=function(){function e(t){(0,s.Z)(this,e),this.languageId=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}return(0,u.Z)(e,[{key:"register",value:function(e,t){var n=this,i=new F(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,h.OF)((function(){for(var e=0;e<n._entries.length;e++)if(n._entries[e]===i){n._entries.splice(e,1),n._resolved=null;break}}))}},{key:"getResolvedConfiguration",value:function(){if(!this._resolved){var e=this._resolve();e&&(this._resolved=new j(this.languageId,e))}return this._resolved}},{key:"_resolve",value:function(){return 0===this._entries.length?null:(this._entries.sort(F.cmp),D(this._entries.map((function(e){return e.configuration}))))}}]),e}();function D(e){var t,n={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0},r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n={comments:a.comments||n.comments,brackets:a.brackets||n.brackets,wordPattern:a.wordPattern||n.wordPattern,indentationRules:a.indentationRules||n.indentationRules,onEnterRules:a.onEnterRules||n.onEnterRules,autoClosingPairs:a.autoClosingPairs||n.autoClosingPairs,surroundingPairs:a.surroundingPairs||n.surroundingPairs,autoCloseBefore:a.autoCloseBefore||n.autoCloseBefore,folding:a.folding||n.folding,colorizedBracketPairs:a.colorizedBracketPairs||n.colorizedBracketPairs,__electricCharacterSupport:a.__electricCharacterSupport||n.__electricCharacterSupport}}}catch(o){r.e(o)}finally{r.f()}return n}var F=function(){function e(t,n,i){(0,s.Z)(this,e),this.configuration=t,this.priority=n,this.order=i}return(0,u.Z)(e,null,[{key:"cmp",value:function(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}]),e}(),j=function(){function e(t,n){(0,s.Z)(this,e),this.languageId=t,this.underlyingConfig=n,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new _(this.underlyingConfig):null,this.comments=e._handleComments(this.underlyingConfig),this.characterPair=new v(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||f.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new I(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}return(0,u.Z)(e,[{key:"getWordDefinition",value:function(){return(0,f.eq)(this.wordDefinition)}},{key:"brackets",get:function(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new m.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}},{key:"electricCharacter",get:function(){return this._electricCharacter||(this._electricCharacter=new C(this.brackets)),this._electricCharacter}},{key:"onEnter",value:function(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}},{key:"getAutoClosingPairs",value:function(){return new d.c$(this.characterPair.getAutoClosingPairs())}},{key:"getAutoCloseBeforeSet",value:function(){return this.characterPair.getAutoCloseBeforeSet()}},{key:"getSurroundingPairs",value:function(){return this.characterPair.getSurroundingPairs()}}],[{key:"_handleComments",value:function(e){var t=e.comments;if(!t)return null;var n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){var i=(0,r.Z)(t.blockComment,2),a=i[0],o=i[1];n.blockCommentStartToken=a,n.blockCommentEndToken=o}return n}}]),e}();(0,O.z)(E,A)},48682:function(e,t,n){n.d(t,{E:function(){return g}});var i=n(29439),r=n(15671),a=n(43144),o=n(70779),s=function(){function e(t,n,i){(0,r.Z)(this,e);for(var a=new Uint8Array(t*n),o=0,s=t*n;o<s;o++)a[o]=i;this._data=a,this.rows=t,this.cols=n}return(0,a.Z)(e,[{key:"get",value:function(e,t){return this._data[e*this.cols+t]}},{key:"set",value:function(e,t,n){this._data[e*this.cols+t]=n}}]),e}(),u=function(){function e(t){(0,r.Z)(this,e);for(var n=0,a=0,o=0,u=t.length;o<u;o++){var l=(0,i.Z)(t[o],3),h=l[0],c=l[1],f=l[2];c>n&&(n=c),h>a&&(a=h),f>a&&(a=f)}n++,a++;for(var d=new s(a,n,0),g=0,v=t.length;g<v;g++){var k=(0,i.Z)(t[g],3),p=k[0],m=k[1],C=k[2];d.set(p,m,C)}this._states=d,this._maxCharCode=n}return(0,a.Z)(e,[{key:"nextState",value:function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}]),e}(),l=null;function h(){return null===l&&(l=new u([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),l}var c=null;function f(){if(null===c){c=new o.N(0);for(var e=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026",t=0;t<e.length;t++)c.set(e.charCodeAt(t),1);for(var n=0;n<".,;".length;n++)c.set(".,;".charCodeAt(n),2)}return c}var d=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"_createLink",value:function(e,t,n,i,r){var a=r-1;do{var o=t.charCodeAt(a);if(2!==e.get(o))break;a--}while(a>i);if(i>0){var s=t.charCodeAt(i-1),u=t.charCodeAt(a);(40===s&&41===u||91===s&&93===u||123===s&&125===u)&&a--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:a+2},url:t.substring(i,a+1)}}},{key:"computeLinks",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h(),i=f(),r=[],a=1,o=t.getLineCount();a<=o;a++){for(var s=t.getLineContent(a),u=s.length,l=0,c=0,d=0,g=1,v=!1,k=!1,p=!1,m=!1;l<u;){var C=!1,y=s.charCodeAt(l);if(13===g){var I=void 0;switch(y){case 40:v=!0,I=0;break;case 41:I=v?0:1;break;case 91:p=!0,k=!0,I=0;break;case 93:p=!1,I=k?0:1;break;case 123:m=!0,I=0;break;case 125:I=m?0:1;break;case 39:I=34===d||96===d?0:1;break;case 34:I=39===d||96===d?0:1;break;case 96:I=39===d||34===d?0:1;break;case 42:I=42===d?1:0;break;case 124:I=124===d?1:0;break;case 32:I=p?0:1;break;default:I=i.get(y)}1===I&&(r.push(e._createLink(i,s,a,c,l)),C=!0)}else if(12===g){var b=void 0;91===y?(k=!0,b=0):b=i.get(y),1===b?C=!0:g=13}else 0===(g=n.nextState(g,y))&&(C=!0);C&&(g=1,v=!1,k=!1,m=!1,c=l+1,d=y),l++}13===g&&r.push(e._createLink(i,s,a,c,u))}return r}}]),e}();function g(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?d.computeLinks(e):[]}},73833:function(e,t,n){n.d(t,{bd:function(){return f},dQ:function(){return c}});var i=n(15671),r=n(43144),a=n(87697),o=n(28941),s=n(89125),u=n(254),l=n(67609),h=n(21072),c=new(function(){function e(){(0,i.Z)(this,e),this._onDidChangeLanguages=new o.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}return(0,r.Z)(e,[{key:"registerLanguage",value:function(e){var t=this;return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:function(){for(var n=0,i=t._languages.length;n<i;n++)if(t._languages[n]===e)return void t._languages.splice(n,1)}}}},{key:"getLanguages",value:function(){return this._languages}}]),e}());u.B.add("editor.modesRegistry",c);var f="plaintext";c.registerLanguage({id:f,extensions:[".txt"],aliases:[a.N("plainText.alias","Plain Text"),"text"],mimetypes:[l.v.text]}),s.zu.register(f,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),u.B.as(h.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},57942:function(e,t,n){n.d(t,{Dy:function(){return u},Ri:function(){return s},TJ:function(){return o}});var i=n(15671),r=n(43144),a=n(56417),o=new(function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"clone",value:function(){return this}},{key:"equals",value:function(e){return this===e}}]),e}());function s(e,t){return new a.hG([new a.WU(0,"",e)],t)}function u(e,t){var n=new Uint32Array(2);return n[0]=0,n[1]=(16384|e<<0|2<<23)>>>0,new a.DI(n,null===t?o:t)}},10222:function(e,t,n){n.d(t,{Bu:function(){return s},wH:function(){return a}});var i=n(15671),r=n(43144);function a(e,t){for(var n=e.getCount(),i=e.findTokenIndexAtOffset(t),r=e.getLanguageId(i),a=i;a+1<n&&e.getLanguageId(a+1)===r;)a++;for(var s=i;s>0&&e.getLanguageId(s-1)===r;)s--;return new o(e,r,s,a+1,e.getStartOffset(s),e.getEndOffset(a))}var o=function(){function e(t,n,r,a,o,s){(0,i.Z)(this,e),this._scopedLineTokensBrand=void 0,this._actual=t,this.languageId=n,this._firstTokenIndex=r,this._lastTokenIndex=a,this.firstCharOffset=o,this._lastCharOffset=s}return(0,r.Z)(e,[{key:"getLineContent",value:function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}},{key:"getActualLineContentBefore",value:function(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}},{key:"getTokenCount",value:function(){return this._lastTokenIndex-this._firstTokenIndex}},{key:"findTokenIndexAtOffset",value:function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}},{key:"getStandardTokenType",value:function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}]),e}();function s(e){return 0!==(3&e)}},97089:function(e,t,n){n.d(t,{J:function(){return a}});var i=n(15671),r=n(43144),a=function(){function e(){(0,i.Z)(this,e),this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return(0,r.Z)(e,[{key:"navigateValueSet",value:function(e,t,n,i,r){if(e&&t){var a=this.doNavigateValueSet(t,r);if(a)return{range:e,value:a}}if(n&&i){var o=this.doNavigateValueSet(i,r);if(o)return{range:n,value:o}}return null}},{key:"doNavigateValueSet",value:function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}},{key:"numberReplace",value:function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}},{key:"textReplace",value:function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}},{key:"valueSetsReplace",value:function(e,t,n){for(var i=null,r=0,a=e.length;null===i&&r<a;r++)i=this.valueSetReplace(e[r],t,n);return i}},{key:"valueSetReplace",value:function(e,t,n){var i=e.indexOf(t);return i>=0?((i+=n?1:-1)<0?i=e.length-1:i%=e.length,e[i]):null}}]),e}();a.INSTANCE=new a},92586:function(e,t,n){n.d(t,{EA:function(){return c},Vr:function(){return m}});var i=n(29439),r=n(37762),a=n(15671),o=n(43144),s=n(26684),u=n(63633),l=n(30788),h=function(){function e(t,n,i,r,o,s){(0,a.Z)(this,e),this._richEditBracketBrand=void 0,this.languageId=t,this.index=n,this.open=i,this.close=r,this.forwardRegex=o,this.reversedRegex=s,this._openSet=e._toSet(this.open),this._closeSet=e._toSet(this.close)}return(0,o.Z)(e,[{key:"isOpen",value:function(e){return this._openSet.has(e)}},{key:"isClose",value:function(e){return this._closeSet.has(e)}}],[{key:"_toSet",value:function(e){var t,n=new Set,i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.add(a)}}catch(o){i.e(o)}finally{i.f()}return n}}]),e}();var c=(0,o.Z)((function e(t,n){(0,a.Z)(this,e),this._richEditBracketsBrand=void 0;var o=function(e){var t=e.length;e=e.map((function(e){return[e[0].toLowerCase(),e[1].toLowerCase()]}));for(var n=[],r=0;r<t;r++)n[r]=r;for(var a=function(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),s=o[0],u=o[1];return r===s||r===u||a===s||a===u},o=function(e,i){for(var r=Math.min(e,i),a=Math.max(e,i),o=0;o<t;o++)n[o]===a&&(n[o]=r)},s=0;s<t;s++)for(var u=e[s],l=s+1;l<t;l++)a(u,e[l])&&o(n[s],n[l]);for(var h=[],c=0;c<t;c++){for(var f=[],d=[],g=0;g<t;g++)if(n[g]===c){var v=(0,i.Z)(e[g],2),k=v[0],p=v[1];f.push(k),d.push(p)}f.length>0&&h.push({open:f,close:d})}return h}(n);this.brackets=o.map((function(e,n){return new h(t,n,e.open,e.close,function(e,t,n,i){var r=[];r=(r=r.concat(e)).concat(t);for(var a=0,o=r.length;a<o;a++)f(r[a],n,i,r);return(r=g(r)).sort(d),r.reverse(),k(r)}(e.open,e.close,o,n),function(e,t,n,i){var r=[];r=(r=r.concat(e)).concat(t);for(var a=0,o=r.length;a<o;a++)f(r[a],n,i,r);return(r=g(r)).sort(d),r.reverse(),k(r.map(p))}(e.open,e.close,o,n))})),this.forwardRegex=function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,r.Z)(o.open);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push(u)}}catch(f){s.e(f)}finally{s.f()}var l,h=(0,r.Z)(o.close);try{for(h.s();!(l=h.n()).done;){var c=l.value;n.push(c)}}catch(f){h.e(f)}finally{h.f()}}}catch(f){i.e(f)}finally{i.f()}return k(n=g(n))}(this.brackets),this.reversedRegex=function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,r.Z)(o.open);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push(u)}}catch(f){s.e(f)}finally{s.f()}var l,h=(0,r.Z)(o.close);try{for(h.s();!(l=h.n()).done;){var c=l.value;n.push(c)}}catch(f){h.e(f)}finally{h.f()}}}catch(f){i.e(f)}finally{i.f()}return k((n=g(n)).map(p))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;var s,u=(0,r.Z)(this.brackets);try{for(u.s();!(s=u.n()).done;){var l,c=s.value,v=(0,r.Z)(c.open);try{for(v.s();!(l=v.n()).done;){var m=l.value;this.textIsBracket[m]=c,this.textIsOpenBracket[m]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,m.length)}}catch(b){v.e(b)}finally{v.f()}var C,y=(0,r.Z)(c.close);try{for(y.s();!(C=y.n()).done;){var I=C.value;this.textIsBracket[I]=c,this.textIsOpenBracket[I]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,I.length)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){u.e(b)}finally{u.f()}}));function f(e,t,n,i){for(var a=0,o=t.length;a<o;a++)if(a!==n){var s,u=t[a],l=(0,r.Z)(u.open);try{for(l.s();!(s=l.n()).done;){var h=s.value;h.indexOf(e)>=0&&i.push(h)}}catch(g){l.e(g)}finally{l.f()}var c,f=(0,r.Z)(u.close);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.indexOf(e)>=0&&i.push(d)}}catch(g){f.e(g)}finally{f.f()}}}function d(e,t){return e.length-t.length}function g(e){if(e.length<=1)return e;var t,n=[],i=new Set,a=(0,r.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.has(o)||(n.push(o),i.add(o))}}catch(s){a.e(s)}finally{a.f()}return n}function v(e){var t=/^[\w ]+$/.test(e);return e=s.ec(e),t?"\\b".concat(e,"\\b"):e}function k(e){var t="(".concat(e.map(v).join(")|("),")");return s.GF(t,!0)}var p=function(){var e=null,t=null;return function(n){return e!==n&&(t=function(e){if(u.lZ){for(var t=new Uint16Array(e.length),n=0,i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return u.oe().decode(t)}for(var r=[],a=0,o=e.length-1;o>=0;o--)r[a++]=e.charAt(o);return r.join("")}(e=n)),t}}(),m=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"_findPrevBracketInText",value:function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=n.length-(r.index||0),o=r[0].length,s=i+a;return new l.e(t,s-o+1,t,s+1)}},{key:"findPrevBracketInRange",value:function(e,t,n,i,r){var a=p(n).substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,a,i)}},{key:"findNextBracketInText",value:function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=r.index||0,o=r[0].length;if(0===o)return null;var s=i+a;return new l.e(t,s+1,t,s+1+o)}},{key:"findNextBracketInRange",value:function(e,t,n,i,r){var a=n.substring(i,r);return this.findNextBracketInText(e,t,a,i)}}]),e}()},4360:function(e,t,n){n.d(t,{si:function(){return c},yr:function(){return v}});var i=n(37762),r=n(43144),a=n(15671),o=n(17424),s=(0,r.Z)((function e(t,n,i,r,o){(0,a.Z)(this,e),this._parsedThemeRuleBrand=void 0,this.token=t,this.index=n,this.fontStyle=i,this.foreground=r,this.background=o}));function u(e,t){e.sort((function(e,t){var n=function(e,t){if(e<t)return-1;if(e>t)return 1;return 0}(e.token,t.token);return 0!==n?n:e.index-t.index}));for(var n=0,r="000000",a="ffffff";e.length>=1&&""===e[0].token;){var o=e.shift();-1!==o.fontStyle&&(n=o.fontStyle),null!==o.foreground&&(r=o.foreground),null!==o.background&&(a=o.background)}var s,u=new h,l=(0,i.Z)(t);try{for(l.s();!(s=l.n()).done;){var f=s.value;u.getId(f)}}catch(b){l.e(b)}finally{l.f()}for(var v=u.getId(r),k=u.getId(a),p=new d(n,v,k),m=new g(p),C=0,y=e.length;C<y;C++){var I=e[C];m.insert(I.token,I.fontStyle,u.getId(I.foreground),u.getId(I.background))}return new c(u,m)}var l=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,h=function(){function e(){(0,a.Z)(this,e),this._lastColorId=0,this._id2color=[],this._color2id=new Map}return(0,r.Z)(e,[{key:"getId",value:function(e){if(null===e)return 0;var t=e.match(l);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=o.Il.fromHex("#"+e),n)}},{key:"getColorMap",value:function(){return this._id2color.slice(0)}}]),e}(),c=function(){function e(t,n){(0,a.Z)(this,e),this._colorMap=t,this._root=n,this._cache=new Map}return(0,r.Z)(e,[{key:"getColorMap",value:function(){return this._colorMap.getColorMap()}},{key:"_match",value:function(e){return this._root.match(e)}},{key:"match",value:function(e,t){var n=this._cache.get(t);if("undefined"===typeof n){var i=this._match(t),r=function(e){var t=e.match(f);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(t);n=(i.metadata|r<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}],[{key:"createFromRawTokenTheme",value:function(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];for(var t=[],n=0,i=0,r=e.length;i<r;i++){var a=e[i],o=-1;if("string"===typeof a.fontStyle){o=0;for(var u=a.fontStyle.split(" "),l=0,h=u.length;l<h;l++)switch(u[l]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4;break;case"strikethrough":o|=8}}var c=null;"string"===typeof a.foreground&&(c=a.foreground);var f=null;"string"===typeof a.background&&(f=a.background),t[n++]=new s(a.token||"",i,o,c,f)}return t}(e),t)}},{key:"createFromParsedTokenTheme",value:function(e,t){return u(e,t)}}]),e}(),f=/\b(comment|string|regex|regexp)\b/;var d=function(){function e(t,n,i){(0,a.Z)(this,e),this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=n,this._background=i,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}return(0,r.Z)(e,[{key:"clone",value:function(){return new e(this._fontStyle,this._foreground,this._background)}},{key:"acceptOverwrite",value:function(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}]),e}(),g=function(){function e(t){(0,a.Z)(this,e),this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}return(0,r.Z)(e,[{key:"match",value:function(e){if(""===e)return this._mainRule;var t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));var r=this._children.get(t);return"undefined"!==typeof r?r.match(n):this._mainRule}},{key:"insert",value:function(t,n,i,r){if(""!==t){var a,o,s=t.indexOf(".");-1===s?(a=t,o=""):(a=t.substring(0,s),o=t.substring(s+1));var u=this._children.get(a);"undefined"===typeof u&&(u=new e(this._mainRule.clone()),this._children.set(a,u)),u.insert(o,n,i,r)}else this._mainRule.acceptOverwrite(n,i,r)}}]),e}();function v(e){for(var t=[],n=1,i=e.length;n<i;n++){var r=e[n];t[n]=".mtk".concat(n," { color: ").concat(r,"; }")}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join("\n")}},93586:function(e,t,n){n.d(t,{C2:function(){return c},Fq:function(){return f}});var i=n(87757),r=n.n(i),a=n(26684),o=n(58705),s=n(56417),u=n(57942),l=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{u(i.next(e))}catch(t){a(t)}}function s(e){try{u(i.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))},h={getInitialState:function(){return u.TJ},tokenizeEncoded:function(e,t,n){return(0,u.Dy)(0,n)}};function c(e,t,n){return l(this,void 0,void 0,r().mark((function i(){var a;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n){i.next=2;break}return i.abrupt("return",d(t,e.languageIdCodec,h));case 2:return i.next=4,s.RW.getOrCreate(n);case 4:return a=i.sent,i.abrupt("return",d(t,e.languageIdCodec,a||h));case 6:case"end":return i.stop()}}),i)})))}function f(e,t,n,i,r,a,o){for(var s="<div>",u=i,l=0,h=!0,c=0,f=t.getCount();c<f;c++){var d=t.getEndOffset(c);if(!(d<=i)){for(var g="";u<d&&u<r;u++){var v=e.charCodeAt(u);switch(v){case 9:var k=a-(u+l)%a;for(l+=k-1;k>0;)o&&h?(g+="&#160;",h=!1):(g+=" ",h=!0),k--;break;case 60:g+="&lt;",h=!1;break;case 62:g+="&gt;",h=!1;break;case 38:g+="&amp;",h=!1;break;case 0:g+="&#00;",h=!1;break;case 65279:case 8232:case 8233:case 133:g+="\ufffd",h=!1;break;case 13:g+="&#8203",h=!1;break;case 32:o&&h?(g+="&#160;",h=!1):(g+=" ",h=!0);break;default:g+=String.fromCharCode(v),h=!1}}if(s+='<span style="'.concat(t.getInlineStyle(c,n),'">').concat(g,"</span>"),d>r||u>=r)break}}return s+="</div>"}function d(e,t,n){for(var i='<div class="monaco-tokenized-source">',r=a.uq(e),s=n.getInitialState(),u=0,l=r.length;u<l;u++){var h=r[u];u>0&&(i+="<br/>");var c=n.tokenizeEncoded(h,!0,s);o.A.convertToEndOffset(c.tokens,h.length);for(var f=new o.A(c.tokens,h,t).inflate(),d=0,g=0,v=f.getCount();g<v;g++){var k=f.getClassName(g),p=f.getEndOffset(g);i+='<span class="'.concat(k,'">').concat(a.YU(h.substring(d,p)),"</span>"),d=p}s=c.endState}return i+="</div>"}},36158:function(e,t,n){n.d(t,{F5:function(){return r},Qi:function(){return c},RM:function(){return a},Tx:function(){return f},dJ:function(){return l},je:function(){return d},pt:function(){return g},sh:function(){return i},tk:function(){return h}});var i,r,a,o=n(15671),s=n(43144),u=n(57151);!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(i||(i={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(r||(r={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(a||(a={}));var l=function(){function e(t){(0,o.Z)(this,e),this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|t.tabSize),this.indentSize=0|t.tabSize,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}return(0,s.Z)(e,[{key:"equals",value:function(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&(0,u.fS)(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}},{key:"createChangeEvent",value:function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}]),e}(),h=(0,s.Z)((function e(t,n){(0,o.Z)(this,e),this._findMatchBrand=void 0,this.range=t,this.matches=n})),c=(0,s.Z)((function e(t,n,i,r,a,s){(0,o.Z)(this,e),this.identifier=t,this.range=n,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=a,this._isTracked=s})),f=(0,s.Z)((function e(t,n,i){(0,o.Z)(this,e),this.regex=t,this.wordSeparators=n,this.simpleSearch=i})),d=(0,s.Z)((function e(t,n,i){(0,o.Z)(this,e),this.reverseEdits=t,this.changes=n,this.trimAutoWhitespaceLineNumbers=i}));function g(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},80513:function(e,t,n){n.d(t,{Q:function(){return x}});var i=n(15671),r=n(43144),a=n(60136),o=n(43668),s=n(28941),u=n(10526),l=n(37762),h=n(30788),c=n(67425),f=n(33474),d=n(91802),g=n(51521),v=n(50781),k=n(98427),p=n(67344),m=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;if((0,i.Z)(this,n),(a=t.call(this)).textModel=e,a.getLanguageConfiguration=r,a.didChangeEmitter=new s.Q5,a.denseKeyProvider=new k.FE,a.brackets=new d.Z(a.denseKeyProvider,a.getLanguageConfiguration),a.onDidChange=a.didChangeEmitter.event,0===e.backgroundTokenizationState){var o=a.brackets.getSingleLanguageBracketTokens(a.textModel.getLanguageId()),u=new p.g(a.textModel.getValue(),o);a.initialAstWithoutTokens=(0,v.w)(u,[],void 0,!0),a.astWithTokens=a.initialAstWithoutTokens}else 2===e.backgroundTokenizationState?(a.initialAstWithoutTokens=void 0,a.astWithTokens=a.parseDocumentFromTextBuffer([],void 0,!1)):1===e.backgroundTokenizationState&&(a.initialAstWithoutTokens=a.parseDocumentFromTextBuffer([],void 0,!0),a.astWithTokens=a.initialAstWithoutTokens);return a}return(0,r.Z)(n,[{key:"didLanguageChange",value:function(e){return this.brackets.didLanguageChange(e)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){if(2===this.textModel.backgroundTokenizationState){var e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}},{key:"handleDidChangeTokens",value:function(e){var t=e.ranges.map((function(e){return new f.Q((0,g.Hg)(e.fromLineNumber-1,0),(0,g.Hg)(e.toLineNumber,0),(0,g.Hg)(e.toLineNumber-e.fromLineNumber+1,0))}));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}},{key:"handleContentChanged",value:function(e){var t=e.changes.map((function(e){var t=h.e.lift(e.range);return new f.Q((0,g.PZ)(t.getStartPosition()),(0,g.PZ)(t.getEndPosition()),(0,g.oR)(e.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}},{key:"parseDocumentFromTextBuffer",value:function(e,t,n){var i=t,r=new p.xH(this.textModel,this.brackets);return(0,v.w)(r,e,i,n)}},{key:"getBracketsInRange",value:function(e){var t=(0,g.Hg)(e.startLineNumber-1,e.startColumn-1),n=(0,g.Hg)(e.endLineNumber-1,e.endColumn-1),i=new Array,r=this.initialAstWithoutTokens||this.astWithTokens;return C(r,g.xl,r.length,t,n,i),i}},{key:"getBracketPairsInRange",value:function(e,t){var n=new Array,i=(0,g.PZ)(e.getStartPosition()),r=(0,g.PZ)(e.getEndPosition()),a=this.initialAstWithoutTokens||this.astWithTokens,o=new y(n,t,this.textModel);return I(a,g.xl,a.length,i,r,o),n}}]),n}(u.JT);function C(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(4===e.kind){var s,u=(0,l.Z)(e.children);try{for(u.s();!(s=u.n()).done;){var h=s.value;n=(0,g.Ii)(t,h.length),(0,g.By)(t,r)&&(0,g.Zq)(n,i)&&C(h,t,n,i,r,a,o),t=n}}catch(I){u.e(I)}finally{u.f()}}else if(2===e.kind){o++;var f=e.openingBracket;if(n=(0,g.Ii)(t,f.length),(0,g.By)(t,r)&&(0,g.Zq)(n,i)){var d=(0,g.Qw)(t,n);a.push(new c.M$(d,o-1,!e.closingBracket))}if(t=n,e.child){var v=e.child;n=(0,g.Ii)(t,v.length),(0,g.By)(t,r)&&(0,g.Zq)(n,i)&&C(v,t,n,i,r,a,o),t=n}if(e.closingBracket){var k=e.closingBracket;if(n=(0,g.Ii)(t,k.length),(0,g.By)(t,r)&&(0,g.Zq)(n,i)){var p=(0,g.Qw)(t,n);a.push(new c.M$(p,o-1,!1))}t=n}}else if(3===e.kind){var m=(0,g.Qw)(t,n);a.push(new c.M$(m,o-1,!0))}else if(1===e.kind){var y=(0,g.Qw)(t,n);a.push(new c.M$(y,o-1,!1))}}var y=(0,r.Z)((function e(t,n,r){(0,i.Z)(this,e),this.result=t,this.includeMinIndentation=n,this.textModel=r}));function I(e,t,n,i,r,a){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(2===e.kind){var u=(0,g.Ii)(t,e.openingBracket.length),h=-1;a.includeMinIndentation&&(h=e.computeMinIndentation(t,a.textModel)),a.result.push(new c.YA((0,g.Qw)(t,n),(0,g.Qw)(t,u),e.closingBracket?(0,g.Qw)((0,g.Ii)(u,(null===(o=e.child)||void 0===o?void 0:o.length)||g.xl),n):void 0,s,h)),s++}var f,d=t,v=(0,l.Z)(e.children);try{for(v.s();!(f=v.n()).done;){var k=f.value,p=d;d=(0,g.Ii)(d,k.length),(0,g.By)(p,r)&&(0,g.By)(i,d)&&I(k,p,d,i,r,a,s)}}catch(m){v.e(m)}finally{v.f()}}var b=n(10222),_=n(92586),x=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this)).textModel=e,a.languageConfigurationService=r,a.bracketPairsTree=a._register(new u.XK),a.onDidChangeEmitter=new s.Q5,a.onDidChange=a.onDidChangeEmitter.event,a.bracketsRequested=!1,a._register(a.languageConfigurationService.onDidChange((function(e){var t;e.languageId&&!(null===(t=a.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(a.bracketPairsTree.clear(),a.updateBracketPairsTree())}))),a}return(0,r.Z)(n,[{key:"isDocumentSupported",get:function(){return this.textModel.getValueLength()<=5e6}},{key:"handleDidChangeOptions",value:function(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeLanguage",value:function(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeContent",value:function(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}},{key:"handleDidChangeTokens",value:function(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}},{key:"updateBracketPairsTree",value:function(){var e,t,n=this;if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){var i=new u.SL;this.bracketPairsTree.value=(e=i.add(new m(this.textModel,(function(e){return n.languageConfigurationService.getLanguageConfiguration(e)}))),t=i,{object:e,dispose:function(){return null===t||void 0===t?void 0:t.dispose()}}),i.add(this.bracketPairsTree.value.object.onDidChange((function(e){return n.onDidChangeEmitter.fire(e)}))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}},{key:"getBracketPairsInRange",value:function(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||[]}},{key:"getBracketPairsInRangeWithMinIndentation",value:function(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||[]}},{key:"getBracketsInRange",value:function(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketsInRange(e))||[]}},{key:"findMatchingBracketUp",value:function(e,t,n){var i=e.toLowerCase(),r=this.textModel.validatePosition(t),a=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column),o=this.languageConfigurationService.getLanguageConfiguration(a).brackets;if(!o)return null;var s=o.textIsBracket[i];return s?O(this._findMatchingBracketUp(s,r,L(n))):null}},{key:"matchBracket",value:function(e,t){var n=L(t);return this._matchBracket(this.textModel.validatePosition(e),n)}},{key:"_establishBracketSearchOffsets",value:function(e,t,n,i){for(var r=t.getCount(),a=t.getLanguageId(i),o=Math.max(0,e.column-1-n.maxBracketLength),s=i-1;s>=0;s--){var u=t.getEndOffset(s);if(u<=o)break;if((0,b.Bu)(t.getStandardTokenType(s))||t.getLanguageId(s)!==a){o=u;break}}for(var l=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength),h=i+1;h<r;h++){var c=t.getStartOffset(h);if(c>=l)break;if((0,b.Bu)(t.getStandardTokenType(h))||t.getLanguageId(h)!==a){l=c;break}}return{searchStartOffset:o,searchEndOffset:l}}},{key:"_matchBracket",value:function(e,t){var n=e.lineNumber,i=this.textModel.getLineTokens(n),r=this.textModel.getLineContent(n),a=i.findTokenIndexAtOffset(e.column-1);if(a<0)return null;var o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(a)).brackets;if(o&&!(0,b.Bu)(i.getStandardTokenType(a))){for(var s=this._establishBracketSearchOffsets(e,i,o,a),u=s.searchStartOffset,l=s.searchEndOffset,h=null;;){var c=_.Vr.findNextBracketInRange(o.forwardRegex,n,r,u,l);if(!c)break;if(c.startColumn<=e.column&&e.column<=c.endColumn){var f=r.substring(c.startColumn-1,c.endColumn-1).toLowerCase(),d=this._matchFoundBracket(c,o.textIsBracket[f],o.textIsOpenBracket[f],t);if(d){if(d instanceof w)return null;h=d}}u=c.endColumn-1}if(h)return h}if(a>0&&i.getStartOffset(a)===e.column-1){var g=a-1,v=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(g)).brackets;if(v&&!(0,b.Bu)(i.getStandardTokenType(g))){var k=this._establishBracketSearchOffsets(e,i,v,g),p=k.searchStartOffset,m=k.searchEndOffset,C=_.Vr.findPrevBracketInRange(v.reversedRegex,n,r,p,m);if(C&&C.startColumn<=e.column&&e.column<=C.endColumn){var y=r.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),I=this._matchFoundBracket(C,v.textIsBracket[y],v.textIsOpenBracket[y],t);if(I)return I instanceof w?null:I}}}return null}},{key:"_matchFoundBracket",value:function(e,t,n,i){if(!t)return null;var r=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return r?r instanceof w?r:[e,r]:null}},{key:"_findMatchingBracketUp",value:function(e,t,n){for(var i=e.languageId,r=e.reversedRegex,a=-1,o=0,s=function(t,i,s,u){for(;;){if(n&&++o%100===0&&!n())return w.INSTANCE;var l=_.Vr.findPrevBracketInRange(r,t,i,s,u);if(!l)break;var h=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(h)?a++:e.isClose(h)&&a--,0===a)return l;u=l.startColumn-1}return null},u=t.lineNumber;u>=1;u--){var l=this.textModel.getLineTokens(u),h=l.getCount(),c=this.textModel.getLineContent(u),f=h-1,d=c.length,g=c.length;u===t.lineNumber&&(f=l.findTokenIndexAtOffset(t.column-1),d=t.column-1,g=t.column-1);for(var v=!0;f>=0;f--){var k=l.getLanguageId(f)===i&&!(0,b.Bu)(l.getStandardTokenType(f));if(k)v?d=l.getStartOffset(f):(d=l.getStartOffset(f),g=l.getEndOffset(f));else if(v&&d!==g){var p=s(u,c,d,g);if(p)return p}v=k}if(v&&d!==g){var m=s(u,c,d,g);if(m)return m}}return null}},{key:"_findMatchingBracketDown",value:function(e,t,n){for(var i=e.languageId,r=e.forwardRegex,a=1,o=0,s=function(t,i,s,u){for(;;){if(n&&++o%100===0&&!n())return w.INSTANCE;var l=_.Vr.findNextBracketInRange(r,t,i,s,u);if(!l)break;var h=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(h)?a++:e.isClose(h)&&a--,0===a)return l;s=l.endColumn-1}return null},u=this.textModel.getLineCount(),l=t.lineNumber;l<=u;l++){var h=this.textModel.getLineTokens(l),c=h.getCount(),f=this.textModel.getLineContent(l),d=0,g=0,v=0;l===t.lineNumber&&(d=h.findTokenIndexAtOffset(t.column-1),g=t.column-1,v=t.column-1);for(var k=!0;d<c;d++){var p=h.getLanguageId(d)===i&&!(0,b.Bu)(h.getStandardTokenType(d));if(p)k||(g=h.getStartOffset(d)),v=h.getEndOffset(d);else if(k&&g!==v){var m=s(l,f,g,v);if(m)return m}k=p}if(k&&g!==v){var C=s(l,f,g,v);if(C)return C}}return null}},{key:"findPrevBracket",value:function(e){for(var t=this.textModel.validatePosition(e),n=null,i=null,r=t.lineNumber;r>=1;r--){var a=this.textModel.getLineTokens(r),o=a.getCount(),s=this.textModel.getLineContent(r),u=o-1,l=s.length,h=s.length;if(r===t.lineNumber){u=a.findTokenIndexAtOffset(t.column-1),l=t.column-1,h=t.column-1;var c=a.getLanguageId(u);n!==c&&(n=c,i=this.languageConfigurationService.getLanguageConfiguration(n).brackets)}for(var f=!0;u>=0;u--){var d=a.getLanguageId(u);if(n!==d){if(i&&f&&l!==h){var g=_.Vr.findPrevBracketInRange(i.reversedRegex,r,s,l,h);if(g)return this._toFoundBracket(i,g);f=!1}n=d,i=this.languageConfigurationService.getLanguageConfiguration(n).brackets}var v=!!i&&!(0,b.Bu)(a.getStandardTokenType(u));if(v)f?l=a.getStartOffset(u):(l=a.getStartOffset(u),h=a.getEndOffset(u));else if(i&&f&&l!==h){var k=_.Vr.findPrevBracketInRange(i.reversedRegex,r,s,l,h);if(k)return this._toFoundBracket(i,k)}f=v}if(i&&f&&l!==h){var p=_.Vr.findPrevBracketInRange(i.reversedRegex,r,s,l,h);if(p)return this._toFoundBracket(i,p)}}return null}},{key:"findNextBracket",value:function(e){for(var t=this.textModel.validatePosition(e),n=this.textModel.getLineCount(),i=null,r=null,a=t.lineNumber;a<=n;a++){var o=this.textModel.getLineTokens(a),s=o.getCount(),u=this.textModel.getLineContent(a),l=0,h=0,c=0;if(a===t.lineNumber){l=o.findTokenIndexAtOffset(t.column-1),h=t.column-1,c=t.column-1;var f=o.getLanguageId(l);i!==f&&(i=f,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets)}for(var d=!0;l<s;l++){var g=o.getLanguageId(l);if(i!==g){if(r&&d&&h!==c){var v=_.Vr.findNextBracketInRange(r.forwardRegex,a,u,h,c);if(v)return this._toFoundBracket(r,v);d=!1}i=g,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets}var k=!!r&&!(0,b.Bu)(o.getStandardTokenType(l));if(k)d||(h=o.getStartOffset(l)),c=o.getEndOffset(l);else if(r&&d&&h!==c){var p=_.Vr.findNextBracketInRange(r.forwardRegex,a,u,h,c);if(p)return this._toFoundBracket(r,p)}d=k}if(r&&d&&h!==c){var m=_.Vr.findNextBracketInRange(r.forwardRegex,a,u,h,c);if(m)return this._toFoundBracket(r,m)}}return null}},{key:"findEnclosingBrackets",value:function(e,t){for(var n=this,i=L(t),r=this.textModel.validatePosition(e),a=this.textModel.getLineCount(),o=new Map,s=[],u=function(e,t){if(!o.has(e)){for(var n=[],i=0,r=t?t.brackets.length:0;i<r;i++)n[i]=0;o.set(e,n)}s=o.get(e)},l=0,h=function(e,t,r,a,o){for(;;){if(i&&++l%100===0&&!i())return w.INSTANCE;var u=_.Vr.findNextBracketInRange(e.forwardRegex,t,r,a,o);if(!u)break;var h=r.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),c=e.textIsBracket[h];if(c&&(c.isOpen(h)?s[c.index]++:c.isClose(h)&&s[c.index]--,-1===s[c.index]))return n._matchFoundBracket(u,c,!1,i);a=u.endColumn-1}return null},c=null,f=null,d=r.lineNumber;d<=a;d++){var g=this.textModel.getLineTokens(d),v=g.getCount(),k=this.textModel.getLineContent(d),p=0,m=0,C=0;if(d===r.lineNumber){p=g.findTokenIndexAtOffset(r.column-1),m=r.column-1,C=r.column-1;var y=g.getLanguageId(p);c!==y&&u(c=y,f=this.languageConfigurationService.getLanguageConfiguration(c).brackets)}for(var I=!0;p<v;p++){var x=g.getLanguageId(p);if(c!==x){if(f&&I&&m!==C){var S=h(f,d,k,m,C);if(S)return O(S);I=!1}u(c=x,f=this.languageConfigurationService.getLanguageConfiguration(c).brackets)}var T=!!f&&!(0,b.Bu)(g.getStandardTokenType(p));if(T)I||(m=g.getStartOffset(p)),C=g.getEndOffset(p);else if(f&&I&&m!==C){var B=h(f,d,k,m,C);if(B)return O(B)}I=T}if(f&&I&&m!==C){var E=h(f,d,k,m,C);if(E)return O(E)}}return null}},{key:"_toFoundBracket",value:function(e,t){if(!t)return null;var n=this.textModel.getValueInRange(t);n=n.toLowerCase();var i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null}}]),n}(u.JT);function L(e){if("undefined"===typeof e)return function(){return!0};var t=Date.now();return function(){return Date.now()-t<=e}}var w=(0,r.Z)((function e(){(0,i.Z)(this,e),this._searchCanceledBrand=void 0}));function O(e){return e instanceof w?null:e}w.INSTANCE=new w},44277:function(e,t,n){n.d(t,{BH:function(){return y},Dm:function(){return b},Kd:function(){return f},Y0:function(){return d},n2:function(){return I}});var i=n(93433),r=n(60136),a=n(43668),o=n(15671),s=n(43144),u=n(34538),l=n(51521),h=n(98427),c=function(){function e(t){(0,o.Z)(this,e),this._length=t}return(0,s.Z)(e,[{key:"length",get:function(){return this._length}}]),e}(),f=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a,s){var u;return(0,o.Z)(this,n),(u=t.call(this,e)).openingBracket=i,u.child=r,u.closingBracket=a,u.missingOpeningBracketIds=s,u}return(0,s.Z)(n,[{key:"kind",get:function(){return 2}},{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 3}},{key:"getChild",value:function(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}},{key:"children",get:function(){var e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}},{key:"canBeReused",value:function(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}},{key:"deepClone",value:function(){return new n(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(e,t){return this.child?this.child.computeMinIndentation((0,l.Ii)(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(e,t,i){var r=e.length;return t&&(r=(0,l.Ii)(r,t.length)),i&&(r=(0,l.Ii)(r,i.length)),new n(r,e,t,i,t?t.missingOpeningBracketIds:h.tS.getEmpty())}}]),n}(c),d=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).listHeight=i,a._missingOpeningBracketIds=r,a.cachedMinIndentation=-1,a}return(0,s.Z)(n,[{key:"kind",get:function(){return 4}},{key:"missingOpeningBracketIds",get:function(){return this._missingOpeningBracketIds}},{key:"throwIfImmutable",value:function(){}},{key:"makeLastElementMutable",value:function(){this.throwIfImmutable();var e=this.childrenLength;if(0!==e){var t=this.getChild(e-1),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}}},{key:"makeFirstElementMutable",value:function(){if(this.throwIfImmutable(),0!==this.childrenLength){var e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}}},{key:"canBeReused",value:function(e){if(e.intersects(this.missingOpeningBracketIds))return!1;for(var t,n=this;4===n.kind&&(t=n.childrenLength)>0;)n=n.getChild(t-1);return n.canBeReused(e)}},{key:"handleChildrenChanged",value:function(){this.throwIfImmutable();for(var e=this.childrenLength,t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds,i=1;i<e;i++){var r=this.getChild(i);t=(0,l.Ii)(t,r.length),n=n.merge(r.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}},{key:"computeMinIndentation",value:function(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;for(var n=Number.MAX_SAFE_INTEGER,i=e,r=0;r<this.childrenLength;r++){var a=this.getChild(r);a&&(n=Math.min(n,a.computeMinIndentation(i,t)),i=(0,l.Ii)(i,a.length))}return this.cachedMinIndentation=n,n}}],[{key:"create23",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.length,a=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(r=(0,l.Ii)(r,t.length),a=a.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");r=(0,l.Ii)(r,n.length),a=a.merge(n.missingOpeningBracketIds)}return i?new v(r,e.listHeight+1,e,t,n,a):new g(r,e.listHeight+1,e,t,n,a)}},{key:"getEmpty",value:function(){return new p(l.xl,0,[],h.tS.getEmpty())}}]),n}(c),g=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a,s,u){var l;return(0,o.Z)(this,n),(l=t.call(this,e,i,u))._item1=r,l._item2=a,l._item3=s,l}return(0,s.Z)(n,[{key:"childrenLength",get:function(){return null!==this._item3?3:2}},{key:"getChild",value:function(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}},{key:"setChild",value:function(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}},{key:"children",get:function(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}},{key:"item1",get:function(){return this._item1}},{key:"item2",get:function(){return this._item2}},{key:"item3",get:function(){return this._item3}},{key:"deepClone",value:function(){return new n(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}},{key:"unappendChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}},{key:"prependChildOfSameHeight",value:function(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}},{key:"unprependChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}},{key:"toMutable",value:function(){return this}}]),n}(d),v=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"toMutable",value:function(){return new g(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),n}(g),k=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a){var s;return(0,o.Z)(this,n),(s=t.call(this,e,i,a))._children=r,s}return(0,s.Z)(n,[{key:"childrenLength",get:function(){return this._children.length}},{key:"getChild",value:function(e){return this._children[e]}},{key:"setChild",value:function(e,t){this._children[e]=t}},{key:"children",get:function(){return this._children}},{key:"deepClone",value:function(){for(var e=new Array(this._children.length),t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new n(this.length,this.listHeight,e,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}},{key:"unappendChild",value:function(){this.throwIfImmutable();var e=this._children.pop();return this.handleChildrenChanged(),e}},{key:"prependChildOfSameHeight",value:function(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}},{key:"unprependChild",value:function(){this.throwIfImmutable();var e=this._children.shift();return this.handleChildrenChanged(),e}},{key:"toMutable",value:function(){return this}}]),n}(d),p=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"toMutable",value:function(){return new k(this.length,this.listHeight,(0,i.Z)(this.children),this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),n}(k),m=[],C=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 0}},{key:"getChild",value:function(e){return null}},{key:"children",get:function(){return m}},{key:"deepClone",value:function(){return this}}]),n}(c),y=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"kind",get:function(){return 0}},{key:"missingOpeningBracketIds",get:function(){return h.tS.getEmpty()}},{key:"canBeReused",value:function(e){return!0}},{key:"computeMinIndentation",value:function(e,t){for(var n=(0,l.Hw)(e),i=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,r=(0,l.W9)((0,l.Ii)(e,this.length))+1,a=Number.MAX_SAFE_INTEGER,o=i;o<=r;o++){var s=t.getLineFirstNonWhitespaceColumn(o),h=t.getLineContent(o);if(0!==s){var c=u.i.visibleColumnFromColumn(h,s,t.getOptions().tabSize);a=Math.min(a,c)}}return a}}]),n}(C),I=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).languageId=i,a.bracketIds=r,a}return(0,s.Z)(n,[{key:"kind",get:function(){return 1}},{key:"missingOpeningBracketIds",get:function(){return h.tS.getEmpty()}},{key:"canBeReused",value:function(e){return!1}},{key:"computeMinIndentation",value:function(e,t){return Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(e,t,i){return new n(e,t,i)}}]),n}(C),b=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this,i)).missingOpeningBracketIds=e,r}return(0,s.Z)(n,[{key:"kind",get:function(){return 3}},{key:"canBeReused",value:function(e){return!e.intersects(this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(e,t){return Number.MAX_SAFE_INTEGER}}]),n}(C)},33474:function(e,t,n){n.d(t,{Q:function(){return o},Y:function(){return s}});var i=n(43144),r=n(15671),a=n(51521),o=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e),this.startOffset=t,this.endOffset=n,this.newLength=i})),s=function(){function e(t,n){(0,r.Z)(this,e),this.documentLength=n,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=t.map((function(e){return u.from(e)}))}return(0,i.Z)(e,[{key:"getOffsetBeforeChange",value:function(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}},{key:"getDistanceToNextChange",value:function(e){this.adjustNextEdit(e);var t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):this.documentLength;return(0,a.BE)(e,n)}},{key:"translateOldToCur",value:function(e){return e.lineCount===this.deltaLineIdxInOld?(0,a.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):(0,a.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}},{key:"translateCurToOld",value:function(e){var t=(0,a.Hw)(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,a.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):(0,a.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}},{key:"adjustNextEdit",value:function(e){for(;this.nextEditIdx<this.edits.length;){var t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(!(0,a.By)(n,e))break;this.nextEditIdx++;var i=(0,a.Hw)(n),r=(0,a.Hw)(this.translateOldToCur(t.endOffsetBeforeObj)),o=i.lineCount-r.lineCount;this.deltaOldToNewLineCount+=o;var s=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,u=i.columnCount-r.columnCount;this.deltaOldToNewColumnCount=s+u,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}]),e}(),u=function(){function e(t,n,i){(0,r.Z)(this,e),this.endOffsetBeforeObj=(0,a.Hw)(n),this.endOffsetAfterObj=(0,a.Hw)((0,a.Ii)(t,i)),this.offsetObj=(0,a.Hw)(t)}return(0,i.Z)(e,null,[{key:"from",value:function(t){return new e(t.startOffset,t.endOffset,t.newLength)}}]),e}()},91802:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(29439),r=n(37762),a=n(93433),o=n(15671),s=n(43144),u=n(26684),l=n(44277),h=n(51521),c=n(98427),f=n(67344),d=function(){function e(t){(0,o.Z)(this,e),this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}return(0,s.Z)(e,[{key:"getRegExpStr",value:function(){if(this.isEmpty)return null;var e=(0,a.Z)(this.map.keys());return e.sort(),e.reverse(),e.map((function(e){return function(e){var t=(0,u.ec)(e);return/^[\w ]+$/.test(e)?"\\b".concat(t,"\\b"):t}(e)})).join("|")}},{key:"regExpGlobal",get:function(){if(!this.hasRegExp){var e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}},{key:"getToken",value:function(e){return this.map.get(e)}},{key:"findClosingTokenText",value:function(e){var t,n=(0,r.Z)(this.map);try{for(n.s();!(t=n.n()).done;){var a=(0,i.Z)(t.value,2),o=a[0];if(a[1].bracketIds.intersects(e))return o}}catch(s){n.e(s)}finally{n.f()}}},{key:"isEmpty",get:function(){return 0===this.map.size}}],[{key:"createFromLanguage",value:function(t,n){function a(e,t){return n.getKey("".concat(e,":::").concat(t))}var o,s=t.characterPair.getColorizedBrackets(),u=new Map,d=new Set,g=(0,r.Z)(s);try{for(g.s();!(o=g.n()).done;){var v=(0,i.Z)(o.value,2),k=v[0],p=v[1];d.add(k);var m=u.get(p),C=a(t.languageId,k);m||(m={openingBrackets:c.tS.getEmpty(),first:C},u.set(p,m)),m.openingBrackets=m.openingBrackets.add(C,c.Qw)}}catch(Z){g.e(Z)}finally{g.f()}var y,I=new Map,b=(0,r.Z)(u);try{for(b.s();!(y=b.n()).done;){var _=(0,i.Z)(y.value,2),x=_[0],L=_[1],w=(0,h.Hg)(0,x.length);I.set(x,new f.WU(w,2,L.first,L.openingBrackets,l.n2.create(w,t.languageId,L.openingBrackets)))}}catch(Z){b.e(Z)}finally{b.f()}var O,S=(0,r.Z)(d);try{for(S.s();!(O=S.n()).done;){var T=O.value,B=(0,h.Hg)(0,T.length),E=a(t.languageId,T),A=c.tS.getEmpty().add(E,c.Qw);I.set(T,new f.WU(B,1,E,A,l.n2.create(B,t.languageId,A)))}}catch(Z){S.e(Z)}finally{S.f()}return new e(I)}}]),e}();var g=function(){function e(t,n){(0,o.Z)(this,e),this.denseKeyProvider=t,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}return(0,s.Z)(e,[{key:"didLanguageChange",value:function(e){var t=this.languageIdToBracketTokens.get(e);if(!t)return!1;var n=d.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==n}},{key:"getSingleLanguageBracketTokens",value:function(e){var t=this.languageIdToBracketTokens.get(e);return t||(t=d.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}]),e}()},51521:function(e,t,n){n.d(t,{BE:function(){return p},By:function(){return C},F_:function(){return v},Hg:function(){return f},Hw:function(){return d},Ii:function(){return k},PZ:function(){return I},Qw:function(){return b},VR:function(){return m},W9:function(){return g},Zq:function(){return y},av:function(){return u},oR:function(){return _},xd:function(){return h},xl:function(){return l}});var i=n(15671),r=n(43144),a=n(26684),o=n(30788),s=function(){function e(t,n){(0,i.Z)(this,e),this.lineCount=t,this.columnCount=n}return(0,r.Z)(e,[{key:"toString",value:function(){return"".concat(this.lineCount,",").concat(this.columnCount)}}]),e}();function u(e,t,n,i){return e!==n?f(n-e,i):f(0,i-t)}s.zero=new s(0,0);var l=0;function h(e){return 0===e}var c=Math.pow(2,26);function f(e,t){return e*c+t}function d(e){var t=e,n=Math.floor(t/c);return new s(n,t-n*c)}function g(e){return Math.floor(e/c)}function v(e){return e}function k(e,t){return t<c?e+t:e-e%c+t}function p(e,t){var n=e,i=t;if(i-n<=0)return l;var r=Math.floor(n/c),a=Math.floor(i/c),o=i-a*c;return r===a?f(0,o-(n-r*c)):f(a-r,o)}function m(e,t){return e<t}function C(e,t){return e<=t}function y(e,t){return e>=t}function I(e){return f(e.lineNumber-1,e.column-1)}function b(e,t){var n=e,i=Math.floor(n/c),r=n-i*c,a=t,s=Math.floor(a/c),u=a-s*c;return new o.e(i+1,r+1,s+1,u+1)}function _(e){var t=(0,a.uq)(e);return f(t.length-1,t[t.length-1].length)}},50781:function(e,t,n){n.d(t,{w:function(){return v}});var i=n(15671),r=n(43144),a=n(44277),o=n(33474),s=n(98427),u=n(51521);function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return null;if(1===e.length)return e[0];for(var n=e.length;n>3;){for(var i=n>>1,r=0;r<i;r++){var o=r<<1;e[r]=a.Y0.create23(e[o],e[o+1],o+3===n?e[o+2]:null,t)}n=i}return a.Y0.create23(e[0],e[1],n>=3?e[2]:null,t)}function h(e,t){return Math.abs(e.listHeight-t.listHeight)}function c(e,t){return e.listHeight===t.listHeight?a.Y0.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){var n,i=e=e.toMutable(),r=new Array;for(;;){if(t.listHeight===i.listHeight){n=t;break}if(4!==i.kind)throw new Error("unexpected");r.push(i),i=i.makeLastElementMutable()}for(var o=r.length-1;o>=0;o--){var s=r[o];n?s.childrenLength>=3?n=a.Y0.create23(s.unappendChild(),n,null,!1):(s.appendChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?a.Y0.create23(e,n,null,!1):e}(e,t):function(e,t){var n=e=e.toMutable(),i=new Array;for(;t.listHeight!==n.listHeight;){if(4!==n.kind)throw new Error("unexpected");i.push(n),n=n.makeFirstElementMutable()}for(var r=t,o=i.length-1;o>=0;o--){var s=i[o];r?s.childrenLength>=3?r=a.Y0.create23(r,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(r),r=void 0):s.handleChildrenChanged()}return r?a.Y0.create23(r,e,null,!1):e}(t,e)}var f=function(){function e(t){(0,i.Z)(this,e),this.lastOffset=u.xl,this.nextNodes=[t],this.offsets=[u.xl],this.idxs=[]}return(0,r.Z)(e,[{key:"readLongestNodeAt",value:function(e,t){if((0,u.VR)(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){var n=g(this.nextNodes);if(!n)return;var i=g(this.offsets);if((0,u.VR)(e,i))return;if((0,u.VR)(i,e))if((0,u.Ii)(i,n.length)<=e)this.nextNodeAfterCurrent();else{var r=d(n);-1!==r?(this.nextNodes.push(n.getChild(r)),this.offsets.push(i),this.idxs.push(r)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;var a=d(n);if(-1===a)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(a)),this.offsets.push(i),this.idxs.push(a)}}}},{key:"nextNodeAfterCurrent",value:function(){for(;;){var e=g(this.offsets),t=g(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;var n=g(this.nextNodes),i=d(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push((0,u.Ii)(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}]),e}();function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function g(e){return e.length>0?e[e.length-1]:void 0}function v(e,t,n,i){return new k(e,t,n,i).parseDocument()}var k=function(){function e(t,n,r,a){if((0,i.Z)(this,e),this.tokenizer=t,this.createImmutableLists=a,this._itemsConstructed=0,this._itemsFromCache=0,r&&a)throw new Error("Not supported");this.oldNodeReader=r?new f(r):void 0,this.positionMapper=new o.Y(n,t.length)}return(0,r.Z)(e,[{key:"parseDocument",value:function(){this._itemsConstructed=0,this._itemsFromCache=0;var e=this.parseList(s.tS.getEmpty());return e||(e=a.Y0.getEmpty()),e}},{key:"parseList",value:function(e){for(var t=new Array;;){var n=this.tokenizer.peek();if(!n||2===n.kind&&n.bracketIds.intersects(e))break;var i=this.parseChild(e);4===i.kind&&0===i.childrenLength||t.push(i)}var r=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];var t=0;function n(){if(t>=e.length)return null;var n=t,i=e[n].listHeight;for(t++;t<e.length&&e[t].listHeight===i;)t++;return t-n>=2?l(0===n&&t===e.length?e:e.slice(n,t),!1):e[n]}var i=n(),r=n();if(!r)return i;for(var a=n();a;a=n())h(i,r)<=h(r,a)?(i=c(i,r),r=a):r=c(r,a);return c(i,r)}(t):l(t,this.createImmutableLists);return r}},{key:"parseChild",value:function(e){if(this.oldNodeReader){var t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,u.xd)(t)){var n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(function(n){return!!(0,u.VR)(n.length,t)&&n.canBeReused(e)}));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}this._itemsConstructed++;var i=this.tokenizer.read();switch(i.kind){case 2:return new a.Dm(i.bracketIds,i.length);case 0:return i.astNode;case 1:var r=e.merge(i.bracketIds),o=this.parseList(r),s=this.tokenizer.peek();return s&&2===s.kind&&(s.bracketId===i.bracketId||s.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),a.Kd.create(i.astNode,o,s.astNode)):a.Kd.create(i.astNode,o,null);default:throw new Error("unexpected")}}}]),e}()},98427:function(e,t,n){n.d(t,{FE:function(){return u},Qw:function(){return s},tS:function(){return o}});var i=n(15671),r=n(43144),a=new Array,o=function(){function e(t,n){(0,i.Z)(this,e),this.items=t,this.additionalItems=n}return(0,r.Z)(e,[{key:"add",value:function(t,n){var i=n.getKey(t),r=i>>5;if(0===r){var a=1<<i|this.items;return a===this.items?this:e.create(a,this.additionalItems)}r--;for(var o=this.additionalItems.slice(0);o.length<r;)o.push(0);return o[r]|=1<<(31&i),e.create(this.items,o)}},{key:"merge",value:function(t){var n=this.items|t.items;if(this.additionalItems===a&&t.additionalItems===a)return n===this.items?this:n===t.items?t:e.create(n,a);for(var i=new Array,r=0;r<Math.max(this.additionalItems.length,t.additionalItems.length);r++){var o=this.additionalItems[r]||0,s=t.additionalItems[r]||0;i.push(o|s)}return e.create(n,i)}},{key:"intersects",value:function(e){if(0!==(this.items&e.items))return!0;for(var t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!==(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}],[{key:"create",value:function(t,n){if(t<=128&&0===n.length){var i=e.cache[t];return i||(i=new e(t,n),e.cache[t]=i),i}return new e(t,n)}},{key:"getEmpty",value:function(){return this.empty}}]),e}();o.cache=new Array(129),o.empty=o.create(0,a);var s={getKey:function(e){return e}},u=function(){function e(){(0,i.Z)(this,e),this.items=new Map}return(0,r.Z)(e,[{key:"getKey",value:function(e){var t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}]),e}()},67344:function(e,t,n){n.d(t,{WU:function(){return h},g:function(){return d},xH:function(){return c}});var i=n(43144),r=n(15671),a=n(68552),o=n(56417),s=n(44277),u=n(51521),l=n(98427),h=(0,i.Z)((function e(t,n,i,a,o){(0,r.Z)(this,e),this.length=t,this.kind=n,this.bracketId=i,this.bracketIds=a,this.astNode=o})),c=function(){function e(t,n){(0,r.Z)(this,e),this.textModel=t,this.bracketTokens=n,this.reader=new f(this.textModel,this.bracketTokens),this._offset=u.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}return(0,i.Z)(e,[{key:"offset",get:function(){return this._offset}},{key:"length",get:function(){return(0,u.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}},{key:"skip",value:function(e){this.didPeek=!1,this._offset=(0,u.Ii)(this._offset,e);var t=(0,u.Hw)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}},{key:"read",value:function(){var e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=(0,u.Ii)(this._offset,e.length)),e}},{key:"peek",value:function(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}]),e}(),f=function(){function e(t,n){(0,r.Z)(this,e),this.textModel=t,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}return(0,i.Z)(e,[{key:"setPosition",value:function(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}},{key:"read",value:function(){if(this.peekedToken){var e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,u.F_)(e.length),e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));for(var t=this.lineIdx,n=this.lineCharOffset,i=0;;){var r=this.lineTokens,a=r.getCount(),c=null;if(this.lineTokenOffset<a){for(var f=r.getMetadata(this.lineTokenOffset);this.lineTokenOffset+1<a&&f===r.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;var d=0===o.NX.getTokenType(f),g=r.getEndOffset(this.lineTokenOffset);if(d&&g!==this.lineCharOffset){var v=r.getLanguageId(this.lineTokenOffset),k=this.line.substring(this.lineCharOffset,g),p=this.bracketTokens.getSingleLanguageBracketTokens(v),m=p.regExpGlobal;if(m){m.lastIndex=0;var C=m.exec(k);C&&(c=p.getToken(C[0]))&&(this.lineCharOffset+=C.index)}}if(i+=g-this.lineCharOffset,c){if(t!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=c;break}return this.lineCharOffset+=(0,u.F_)(c.length),c}this.lineTokenOffset++,this.lineCharOffset=g}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,(i+=33)>1e3)break}if(i>1500)break}var y=(0,u.av)(t,n,this.lineIdx,this.lineCharOffset);return new h(y,0,-1,l.tS.getEmpty(),new s.BH(y))}}]),e}(),d=function(){function e(t,n){(0,r.Z)(this,e),this.text=t,this._offset=u.xl,this.idx=0;for(var i,a=n.getRegExpStr()?new RegExp(n.getRegExpStr()+"|\n","g"):null,o=[],c=0,f=0,d=0,g=0,v=new Array,k=0;k<60;k++)v.push(new h((0,u.Hg)(0,k),0,-1,l.tS.getEmpty(),new s.BH((0,u.Hg)(0,k))));for(var p=new Array,m=0;m<60;m++)p.push(new h((0,u.Hg)(1,m),0,-1,l.tS.getEmpty(),new s.BH((0,u.Hg)(1,m))));if(a)for(a.lastIndex=0;null!==(i=a.exec(t));){var C=i.index,y=i[0];if("\n"===y)c++,f=C+1;else{if(d!==C){var I=void 0;if(g===c){var b=C-d;if(b<v.length)I=v[b];else{var _=(0,u.Hg)(0,b);I=new h(_,0,-1,l.tS.getEmpty(),new s.BH(_))}}else{var x=c-g,L=C-f;if(1===x&&L<p.length)I=p[L];else{var w=(0,u.Hg)(x,L);I=new h(w,0,-1,l.tS.getEmpty(),new s.BH(w))}}o.push(I)}o.push(n.getToken(y)),d=C+y.length,g=c}}var O=t.length;if(d!==O){var S=g===c?(0,u.Hg)(0,O-d):(0,u.Hg)(c-g,O-f);o.push(new h(S,0,-1,l.tS.getEmpty(),new s.BH(S)))}this.length=(0,u.Hg)(c,O-f),this.tokens=o}return(0,i.Z)(e,[{key:"offset",get:function(){return this._offset}},{key:"read",value:function(){return this.tokens[this.idx++]||null}},{key:"peek",value:function(){return this.tokens[this.idx]||null}},{key:"skip",value:function(e){throw new a.B8}}]),e}()},1901:function(e,t,n){n.d(t,{z:function(){return d}});var i=n(37762),r=n(15671),a=n(43144),o=n(60136),s=n(43668),u=n(28941),l=n(10526),h=n(30788),c=n(2374),f=n(3553),d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).textModel=e,i.colorProvider=new g,i.onDidChangeEmitter=new u.Q5,i.onDidChange=i.onDidChangeEmitter.event,i.colorizationOptions=e.getOptions().bracketPairColorizationOptions,i._register(e.bracketPairs.onDidChange((function(e){i.onDidChangeEmitter.fire()}))),i}return(0,a.Z)(n,[{key:"handleDidChangeOptions",value:function(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}},{key:"getDecorationsInRange",value:function(e,t,n){if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];var r,a=new Array,o=this.textModel.bracketPairs.getBracketsInRange(e),s=(0,i.Z)(o);try{for(s.s();!(r=s.n()).done;){var u=r.value;a.push({id:"bracket".concat(u.range.toString(),"-").concat(u.nestingLevel),options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(u)},ownerId:0,range:u.range})}}catch(l){s.e(l)}finally{s.f()}return a}},{key:"getAllDecorations",value:function(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new h.e(1,1,this.textModel.getLineCount(),1),e,t):[]}}]),n}(l.JT),g=function(){function e(){(0,r.Z)(this,e),this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}return(0,a.Z)(e,[{key:"getInlineClassName",value:function(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}},{key:"getInlineClassNameOfLevel",value:function(e){return"bracket-highlighting-".concat(e%30)}}]),e}();(0,f.Ic)((function(e,t){var n=[c.zJ,c.Vs,c.CE,c.UP,c.r0,c.m1],i=new g;t.addRule(".monaco-editor .".concat(i.unexpectedClosingBracketClassName," { color: ").concat(e.getColor(c.ts),"; }"));for(var r=n.map((function(t){return e.getColor(t)})).filter((function(e){return!!e})).filter((function(e){return!e.isTransparent()})),a=0;a<30;a++){var o=r[a%r.length];t.addRule(".monaco-editor .".concat(i.getInlineClassNameOfLevel(a)," { color: ").concat(o,"; }"))}}))},65396:function(e,t,n){n.d(t,{r:function(){return c}});var i=n(15671),r=n(43144),a=n(37762),o=n(91802),s=n(51521),u=n(50781),l=n(98427),h=n(67344);function c(e,t){var n=new l.FE,i=new o.Z(n,(function(e){return t.getLanguageConfiguration(e)})),r=new h.xH(new f([e]),i),c=(0,u.w)(r,[],void 0,!0),d="",g=e.getLineContent();return function e(t,n){if(2===t.kind)if(e(t.openingBracket,n),n=(0,s.Ii)(n,t.openingBracket.length),t.child&&(e(t.child,n),n=(0,s.Ii)(n,t.child.length)),t.closingBracket)e(t.closingBracket,n),n=(0,s.Ii)(n,t.closingBracket.length);else{var r=i.getSingleLanguageBracketTokens(t.openingBracket.languageId).findClosingTokenText(t.openingBracket.bracketIds);d+=r}else if(3===t.kind);else if(0===t.kind||1===t.kind)d+=g.substring((0,s.F_)(n),(0,s.F_)((0,s.Ii)(n,t.length)));else if(4===t.kind){var o,u=(0,a.Z)(t.children);try{for(u.s();!(o=u.n()).done;){var l=o.value;e(l,n),n=(0,s.Ii)(n,l.length)}}catch(h){u.e(h)}finally{u.f()}}}(c,s.xl),d}var f=function(){function e(t){(0,i.Z)(this,e),this.lines=t}return(0,r.Z)(e,[{key:"getLineCount",value:function(){return this.lines.length}},{key:"getLineLength",value:function(e){return this.lines[e-1].getLineContent().length}},{key:"getLineTokens",value:function(e){return this.lines[e-1]}}]),e}()},42097:function(e,t,n){n.d(t,{NL:function(){return C},e9:function(){return m}});var i=n(37762),r=n(15671),a=n(43144),o=n(87697),s=n(68552),u=n(52091),l=n(50605),h=n(34742),c=n(28017),f=n(34408);function d(e){return e.toString()}var g=function(){function e(t,n,i,a,o,s,u){(0,r.Z)(this,e),this.beforeVersionId=t,this.afterVersionId=n,this.beforeEOL=i,this.afterEOL=a,this.beforeCursorState=o,this.afterCursorState=s,this.changes=u}return(0,a.Z)(e,[{key:"append",value:function(e,t,n,i,r){t.length>0&&(this.changes=(0,h.b)(this.changes,t)),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=r}},{key:"serialize",value:function(){var t,n=10+e._writeSelectionsSize(this.beforeCursorState)+e._writeSelectionsSize(this.afterCursorState)+4,r=(0,i.Z)(this.changes);try{for(r.s();!(t=r.n()).done;){n+=t.value.writeSize()}}catch(l){r.e(l)}finally{r.f()}var a=new Uint8Array(n),o=0;c.T4(a,this.beforeVersionId,o),o+=4,c.T4(a,this.afterVersionId,o),o+=4,c.Cg(a,this.beforeEOL,o),o+=1,c.Cg(a,this.afterEOL,o),o+=1,o=e._writeSelections(a,this.beforeCursorState,o),o=e._writeSelections(a,this.afterCursorState,o),c.T4(a,this.changes.length,o),o+=4;var s,u=(0,i.Z)(this.changes);try{for(u.s();!(s=u.n()).done;){o=s.value.write(a,o)}}catch(l){u.e(l)}finally{u.f()}return a.buffer}}],[{key:"create",value:function(t,n){var i=t.getAlternativeVersionId(),r=p(t);return new e(i,i,r,r,n,n,[])}},{key:"_writeSelectionsSize",value:function(e){return 4+16*(e?e.length:0)}},{key:"_writeSelections",value:function(e,t,n){if(c.T4(e,t?t.length:0,n),n+=4,t){var r,a=(0,i.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;c.T4(e,o.selectionStartLineNumber,n),n+=4,c.T4(e,o.selectionStartColumn,n),n+=4,c.T4(e,o.positionLineNumber,n),n+=4,c.T4(e,o.positionColumn,n),n+=4}}catch(s){a.e(s)}finally{a.f()}}return n}},{key:"_readSelections",value:function(e,t,n){var i=c.Ag(e,t);t+=4;for(var r=0;r<i;r++){var a=c.Ag(e,t);t+=4;var o=c.Ag(e,t);t+=4;var s=c.Ag(e,t);t+=4;var l=c.Ag(e,t);t+=4,n.push(new u.Y(a,o,s,l))}return t}},{key:"deserialize",value:function(t){var n=new Uint8Array(t),i=0,r=c.Ag(n,i);i+=4;var a=c.Ag(n,i);i+=4;var o=c.Q$(n,i);i+=1;var s=c.Q$(n,i);i+=1;var u=[];i=e._readSelections(n,i,u);var l=[];i=e._readSelections(n,i,l);var f=c.Ag(n,i);i+=4;for(var d=[],g=0;g<f;g++)i=h.q.read(n,i,d);return new e(r,a,o,s,u,l,d)}}]),e}(),v=function(){function e(t,n){(0,r.Z)(this,e),this.model=t,this._data=g.create(t,n)}return(0,a.Z)(e,[{key:"type",get:function(){return 0}},{key:"resource",get:function(){return l.o.isUri(this.model)?this.model:this.model.uri}},{key:"label",get:function(){return o.N("edit","Typing")}},{key:"toString",value:function(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map((function(e){return e.toString()})).join(", ")}},{key:"matchesResource",value:function(e){return(l.o.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}},{key:"setModel",value:function(e){this.model=e}},{key:"canAppend",value:function(e){return this.model===e&&this._data instanceof g}},{key:"append",value:function(e,t,n,i,r){this._data instanceof g&&this._data.append(e,t,n,i,r)}},{key:"close",value:function(){this._data instanceof g&&(this._data=this._data.serialize())}},{key:"open",value:function(){this._data instanceof g||(this._data=g.deserialize(this._data))}},{key:"undo",value:function(){if(l.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());var e=g.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}},{key:"redo",value:function(){if(l.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());var e=g.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}},{key:"heapSize",value:function(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}]),e}(),k=function(){function e(t,n){(0,r.Z)(this,e),this.type=1,this.label=t,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;var a,o=(0,i.Z)(this._editStackElementsArr);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=d(s.resource);this._editStackElementsMap.set(u,s)}}catch(l){o.e(l)}finally{o.f()}this._delegate=null}return(0,a.Z)(e,[{key:"resources",get:function(){return this._editStackElementsArr.map((function(e){return e.resource}))}},{key:"prepareUndoRedo",value:function(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}},{key:"matchesResource",value:function(e){var t=d(e);return this._editStackElementsMap.has(t)}},{key:"setModel",value:function(e){var t=d(l.o.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}},{key:"canAppend",value:function(e){if(!this._isOpen)return!1;var t=d(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}},{key:"append",value:function(e,t,n,i,r){var a=d(e.uri);this._editStackElementsMap.get(a).append(e,t,n,i,r)}},{key:"close",value:function(){this._isOpen=!1}},{key:"open",value:function(){}},{key:"undo",value:function(){this._isOpen=!1;var e,t=(0,i.Z)(this._editStackElementsArr);try{for(t.s();!(e=t.n()).done;){e.value.undo()}}catch(n){t.e(n)}finally{t.f()}}},{key:"redo",value:function(){var e,t=(0,i.Z)(this._editStackElementsArr);try{for(t.s();!(e=t.n()).done;){e.value.redo()}}catch(n){t.e(n)}finally{t.f()}}},{key:"heapSize",value:function(e){var t=d(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}},{key:"split",value:function(){return this._editStackElementsArr}},{key:"toString",value:function(){var e,t=[],n=(0,i.Z)(this._editStackElementsArr);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push("".concat((0,f.EZ)(r.resource),": ").concat(r))}}catch(a){n.e(a)}finally{n.f()}return"{".concat(t.join(", "),"}")}}]),e}();function p(e){return"\n"===e.getEOL()?0:1}function m(e){return!!e&&(e instanceof v||e instanceof k)}var C=function(){function e(t,n){(0,r.Z)(this,e),this._model=t,this._undoRedoService=n}return(0,a.Z)(e,[{key:"pushStackElement",value:function(){var e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.close()}},{key:"popStackElement",value:function(){var e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.open()}},{key:"clear",value:function(){this._undoRedoService.removeElements(this._model.uri)}},{key:"_getOrCreateEditStackElement",value:function(e){var t=this._undoRedoService.getLastElement(this._model.uri);if(m(t)&&t.canAppend(this._model))return t;var n=new v(this._model,e);return this._undoRedoService.pushElement(n),n}},{key:"pushEOL",value:function(e){var t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],p(this._model),this._model.getAlternativeVersionId(),null)}},{key:"pushEditOperation",value:function(t,n,i){var r=this._getOrCreateEditStackElement(t),a=this._model.applyEdits(n,!0),o=e._computeCursorState(i,a),s=a.map((function(e,t){return{index:t,textChange:e.textChange}}));return s.sort((function(e,t){return e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition})),r.append(this._model,s.map((function(e){return e.textChange})),p(this._model),this._model.getAlternativeVersionId(),o),o}}],[{key:"_computeCursorState",value:function(e,t){try{return e?e(t):null}catch(n){return(0,s.dL)(n),null}}}]),e}()},1715:function(e,t,n){n.d(t,{W:function(){return k},l:function(){return v}});var i=n(37762),r=n(15671),a=n(43144),o=n(60136),s=n(43668),u=n(71881),l=n(26684),h=n(34538),c=n(30788),f=n(11227),d=n(59921),g=n(54612),v=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).textModel=e,a.languageConfigurationService=i,a}return(0,a.Z)(n,[{key:"getLanguageConfiguration",value:function(e){return this.languageConfigurationService.getLanguageConfiguration(e)}},{key:"_computeIndentLevel",value:function(e){return(0,d.q)(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}},{key:"getActiveIndentGuide",value:function(e,t,n){var i=this;this.assertNotDisposed();var r=this.textModel.getLineCount();if(e<1||e>r)throw new Error("Illegal value for lineNumber");for(var a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(a&&a.offSide),s=-2,u=-1,l=-2,h=-1,c=function(e){if(-1!==s&&(-2===s||s>e-1)){s=-1,u=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){s=t,u=n;break}}}if(-2===l){l=-1,h=-1;for(var a=e;a<r;a++){var o=i._computeIndentLevel(a);if(o>=0){l=a,h=o;break}}}},f=-2,d=-1,g=-2,v=-1,k=function(e){if(-2===f){f=-1,d=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){f=t,d=n;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,v=-1;for(var a=e;a<r;a++){var o=i._computeIndentLevel(a);if(o>=0){g=a,v=o;break}}}},p=0,m=!0,C=0,y=!0,I=0,b=0,_=0;m||y;_++){var x=e-_,L=e+_;_>1&&(x<1||x<t)&&(m=!1),_>1&&(L>r||L>n)&&(y=!1),_>5e4&&(m=!1,y=!1);var w=-1;if(m&&x>=1){var O=this._computeIndentLevel(x-1);O>=0?(l=x-1,h=O,w=Math.ceil(O/this.textModel.getOptions().indentSize)):(c(x),w=this._getIndentLevelForWhitespaceLine(o,u,h))}var S=-1;if(y&&L<=r){var T=this._computeIndentLevel(L-1);T>=0?(f=L-1,d=T,S=Math.ceil(T/this.textModel.getOptions().indentSize)):(k(L),S=this._getIndentLevelForWhitespaceLine(o,d,v))}if(0!==_){if(1===_){if(L<=r&&S>=0&&b+1===S){m=!1,p=L,C=L,I=S;continue}if(x>=1&&w>=0&&w-1===b){y=!1,p=x,C=x,I=w;continue}if(p=e,C=e,0===(I=b))return{startLineNumber:p,endLineNumber:C,indent:I}}m&&(w>=I?p=x:m=!1),y&&(S>=I?C=L:y=!1)}else b=w}return{startLineNumber:p,endLineNumber:C,indent:I}}},{key:"getLinesBracketGuides",value:function(e,t,n,r){var a,o,s,h,f,d=this,v=[],p=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new c.e(e,1,t,this.textModel.getLineMaxColumn(t))),m=void 0;if(n&&p.length>0){var C=e<=n.lineNumber&&n.lineNumber<=t?p.filter((function(e){return c.e.strictContainsPosition(e.range,n)})):this.textModel.bracketPairs.getBracketPairsInRange(c.e.fromPositions(n));m=null===(a=(0,u.dF)(C,(function(e){return e.range.startLineNumber!==e.range.endLineNumber})))||void 0===a?void 0:a.range}for(var y=new u.H9(p),I=new Array,b=new Array,_=new k,x=function(e){var t=new Array;b.length>0&&(t=t.concat(b),b.length=0),v.push(t);var n,a=(0,i.Z)(y.takeWhile((function(t){return t.openingBracketRange.startLineNumber<=e}))||[]);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(u.range.startLineNumber!==u.range.endLineNumber){var c=Math.min(d.getVisibleColumnFromPosition(u.openingBracketRange.getStartPosition()),d.getVisibleColumnFromPosition(null!==(s=null===(o=u.closingBracketRange)||void 0===o?void 0:o.getStartPosition())&&void 0!==s?s:u.range.getEndPosition()),u.minVisibleColumnIndentation+1),k=!1;if(u.closingBracketRange)l.LC(d.textModel.getLineContent(u.closingBracketRange.startLineNumber))<u.closingBracketRange.startColumn-1&&(k=!0);var p=u.openingBracketRange.getStartPosition(),C=null!==(f=null===(h=u.closingBracketRange)||void 0===h?void 0:h.getStartPosition())&&void 0!==f?f:u.range.getEndPosition();void 0===u.closingBracketRange?I[u.nestingLevel]=null:I[u.nestingLevel]={nestingLevel:u.nestingLevel,guideVisibleColumn:c,start:p,visibleStartColumn:d.getVisibleColumnFromPosition(p),end:C,visibleEndColumn:d.getVisibleColumnFromPosition(C),bracketPair:u,renderHorizontalEndLineAtTheBottom:k}}}}catch(R){a.e(R)}finally{a.f()}var x,L=(0,i.Z)(I);try{for(L.s();!(x=L.n()).done;){var w=x.value;if(w){var O=m&&w.bracketPair.range.equalsRange(m),S=_.getInlineClassNameOfLevel(w.nestingLevel)+(r.highlightActive&&O?" "+_.activeClassName:"");(O&&r.horizontalGuides!==g.s6.Disabled||r.includeInactive&&r.horizontalGuides===g.s6.Enabled)&&(w.start.lineNumber===e&&w.guideVisibleColumn<w.visibleStartColumn&&t.push(new g.UO(w.guideVisibleColumn,S,new g.vW(!1,w.start.column))),w.end.lineNumber===e+1&&w.guideVisibleColumn<w.visibleEndColumn&&b.push(new g.UO(w.guideVisibleColumn,S,new g.vW(!w.renderHorizontalEndLineAtTheBottom,w.end.column))))}}}catch(R){L.e(R)}finally{L.f()}for(var T=Number.MAX_SAFE_INTEGER,B=I.length-1;B>=0;B--){var E=I[B];if(E){var A=r.highlightActive&&m&&E.bracketPair.range.equalsRange(m),Z=_.getInlineClassNameOfLevel(E.nestingLevel)+(A?" "+_.activeClassName:"");(A||r.includeInactive)&&E.renderHorizontalEndLineAtTheBottom&&E.end.lineNumber===e+1&&b.push(new g.UO(E.guideVisibleColumn,Z,null)),E.end.lineNumber<=e||E.start.lineNumber>=e||E.guideVisibleColumn>=T&&!A||(T=E.guideVisibleColumn,(A||r.includeInactive)&&t.push(new g.UO(E.guideVisibleColumn,Z,null)))}}t.sort((function(e,t){return e.visibleColumn-t.visibleColumn}))},L=e;L<=t;L++)x(L);return v}},{key:"getVisibleColumnFromPosition",value:function(e){return h.i.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}},{key:"getLinesIndentGuides",value:function(e,t){this.assertNotDisposed();var n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");for(var i=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(r&&r.offSide),o=new Array(t-e+1),s=-2,u=-1,l=-2,h=-1,c=e;c<=t;c++){var f=c-e,d=this._computeIndentLevel(c-1);if(d>=0)s=c-1,u=d,o[f]=Math.ceil(d/i.indentSize);else{if(-2===s){s=-1,u=-1;for(var g=c-2;g>=0;g--){var v=this._computeIndentLevel(g);if(v>=0){s=g,u=v;break}}}if(-1!==l&&(-2===l||l<c-1)){l=-1,h=-1;for(var k=c;k<n;k++){var p=this._computeIndentLevel(k);if(p>=0){l=k,h=p;break}}}o[f]=this._getIndentLevelForWhitespaceLine(a,u,h)}}return o}},{key:"_getIndentLevelForWhitespaceLine",value:function(e,t,n){var i=this.textModel.getOptions();return-1===t||-1===n?0:t<n?1+Math.floor(t/i.indentSize):t===n||e?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}]),n}(f.U),k=function(){function e(){(0,r.Z)(this,e),this.activeClassName="indent-active"}return(0,a.Z)(e,[{key:"getInlineClassNameOfLevel",value:function(e){return"bracket-indent-guide lvl-".concat(e%30)}}]),e}()},8689:function(e,t,n){n.d(t,{L:function(){return s}});var i=n(43144),r=n(15671),a=(0,i.Z)((function e(){(0,r.Z)(this,e),this.spacesDiff=0,this.looksLikeAlignment=!1}));function o(e,t,n,i,r){var a;for(r.spacesDiff=0,r.looksLikeAlignment=!1,a=0;a<t&&a<i;a++){if(e.charCodeAt(a)!==n.charCodeAt(a))break}for(var o=0,s=0,u=a;u<t;u++){32===e.charCodeAt(u)?o++:s++}for(var l=0,h=0,c=a;c<i;c++){32===n.charCodeAt(c)?l++:h++}if(!(o>0&&s>0)&&!(l>0&&h>0)){var f=Math.abs(s-h),d=Math.abs(o-l);if(0===f)return r.spacesDiff=d,void(d>0&&0<=l-1&&l-1<e.length&&l<n.length&&32!==n.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(r.looksLikeAlignment=!0));d%f!==0||(r.spacesDiff=d/f)}}function s(e,t,n){for(var i=Math.min(e.getLineCount(),1e4),r=0,s=0,u="",l=0,h=[0,0,0,0,0,0,0,0,0],c=new a,f=1;f<=i;f++){for(var d=e.getLineLength(f),g=e.getLineContent(f),v=d<=65536,k=!1,p=0,m=0,C=0,y=0,I=d;y<I;y++){var b=v?g.charCodeAt(y):e.getLineCharCode(f,y);if(9===b)C++;else{if(32!==b){k=!0,p=y;break}m++}}if(k&&(C>0?r++:m>1&&s++,o(u,l,g,p,c),!c.looksLikeAlignment||n&&t===c.spacesDiff)){var _=c.spacesDiff;_<=8&&h[_]++,u=g,l=p}}var x=n;r!==s&&(x=r<s);var L=t;if(x){var w=x?0:.1*i;[2,4,6,8,3,5,7].forEach((function(e){var t=h[e];t>w&&(w=t,L=e)})),4===L&&h[4]>0&&h[2]>0&&h[2]>=h[4]/2&&(L=2)}return{insertSpaces:x,tabSize:L}}},28579:function(e,t,n){n.d(t,{IF:function(){return v},fL:function(){return d},sR:function(){return x}});var i=n(15671),r=n(43144);function a(e){return(1&e.metadata)>>>0}function o(e,t){e.metadata=254&e.metadata|t<<0}function s(e){return(2&e.metadata)>>>1===1}function u(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function l(e){return(4&e.metadata)>>>2===1}function h(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function c(e,t){e.metadata=231&e.metadata|t<<3}function f(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}var d=function(){function e(t,n,r){(0,i.Z)(this,e),this.metadata=0,this.parent=this,this.left=this,this.right=this,o(this,1),this.start=n,this.end=r,this.delta=0,this.maxEnd=r,this.id=t,this.ownerId=0,this.options=null,h(this,!1),c(this,1),f(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=n,this.cachedAbsoluteEnd=r,this.range=null,u(this,!1)}return(0,r.Z)(e,[{key:"reset",value:function(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}},{key:"setOptions",value:function(e){this.options=e;var t=this.options.className;h(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),c(this,this.options.stickiness),f(this,this.options.collapseOnReplaceEdit)}},{key:"setCachedOffsets",value:function(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}},{key:"detach",value:function(){this.parent=null,this.left=null,this.right=null}}]),e}(),g=new d(null,0,0);g.parent=g,g.left=g,g.right=g,o(g,0);var v=function(){function e(){(0,i.Z)(this,e),this.root=g,this.requestNormalizeDelta=!1}return(0,r.Z)(e,[{key:"intervalSearch",value:function(e,t,n,i,r){return this.root===g?[]:function(e,t,n,i,r,a){var o=e.root,h=0,c=0,f=0,d=[],v=0;for(;o!==g;)if(s(o))u(o.left,!1),u(o.right,!1),o===o.parent.right&&(h-=o.parent.delta),o=o.parent;else{if(!s(o.left)){if(h+o.maxEnd<t){u(o,!0);continue}if(o.left!==g){o=o.left;continue}}if((c=h+o.start)>n)u(o,!0);else{if((f=h+o.end)>=t){o.setCachedOffsets(c,f,a);var k=!0;i&&o.ownerId&&o.ownerId!==i&&(k=!1),r&&l(o)&&(k=!1),k&&(d[v++]=o)}u(o,!0),o.right===g||s(o.right)||(h+=o.delta,o=o.right)}}return u(e.root,!1),d}(this,e,t,n,i,r)}},{key:"search",value:function(e,t,n){return this.root===g?[]:function(e,t,n,i){var r=e.root,a=0,o=0,h=0,c=[],f=0;for(;r!==g;)if(s(r))u(r.left,!1),u(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),r=r.parent;else if(r.left===g||s(r.left)){o=a+r.start,h=a+r.end,r.setCachedOffsets(o,h,i);var d=!0;t&&r.ownerId&&r.ownerId!==t&&(d=!1),n&&l(r)&&(d=!1),d&&(c[f++]=r),u(r,!0),r.right===g||s(r.right)||(a+=r.delta,r=r.right)}else r=r.left;return u(e.root,!1),c}(this,e,t,n)}},{key:"collectNodesFromOwner",value:function(e){return function(e,t){var n=e.root,i=[],r=0;for(;n!==g;)s(n)?(u(n.left,!1),u(n.right,!1),n=n.parent):n.left===g||s(n.left)?(n.ownerId===t&&(i[r++]=n),u(n,!0),n.right===g||s(n.right)||(n=n.right)):n=n.left;return u(e.root,!1),i}(this,e)}},{key:"collectNodesPostOrder",value:function(){return function(e){var t=e.root,n=[],i=0;for(;t!==g;)s(t)?(u(t.left,!1),u(t.right,!1),t=t.parent):t.left===g||s(t.left)?t.right===g||s(t.right)?(n[i++]=t,u(t,!0)):t=t.right:t=t.left;return u(e.root,!1),n}(this)}},{key:"insert",value:function(e){m(this,e),this._normalizeDeltaIfNecessary()}},{key:"delete",value:function(e){C(this,e),this._normalizeDeltaIfNecessary()}},{key:"resolveNode",value:function(e,t){for(var n=e,i=0;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;var r=n.start+i,a=n.end+i;n.setCachedOffsets(r,a,t)}},{key:"acceptReplace",value:function(e,t,n,i){for(var r=function(e,t,n){var i=e.root,r=0,a=0,o=0,l=[],h=0;for(;i!==g;)if(s(i))u(i.left,!1),u(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;else{if(!s(i.left)){if(r+i.maxEnd<t){u(i,!0);continue}if(i.left!==g){i=i.left;continue}}(a=r+i.start)>n?u(i,!0):((o=r+i.end)>=t&&(i.setCachedOffsets(a,o,0),l[h++]=i),u(i,!0),i.right===g||s(i.right)||(r+=i.delta,i=i.right))}return u(e.root,!1),l}(this,e,e+t),a=0,o=r.length;a<o;a++){C(this,r[a])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){var r=e.root,a=0,o=i-(n-t);for(;r!==g;)if(s(r))u(r.left,!1),u(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),x(r),r=r.parent;else{if(!s(r.left)){if(a+r.maxEnd<t){u(r,!0);continue}if(r.left!==g){r=r.left;continue}}a+r.start>n?(r.start+=o,r.end+=o,r.delta+=o,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0),u(r,!0)):(u(r,!0),r.right===g||s(r.right)||(a+=r.delta,r=r.right))}u(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(var l=0,h=r.length;l<h;l++){var c=r[l];c.start=c.cachedAbsoluteStart,c.end=c.cachedAbsoluteEnd,p(c,e,e+t,n,i),c.maxEnd=c.end,m(this,c)}this._normalizeDeltaIfNecessary()}},{key:"_normalizeDeltaIfNecessary",value:function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){var t=e.root,n=0;for(;t!==g;)t.left===g||s(t.left)?t.right===g||s(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,x(t),u(t,!0),u(t.left,!1),u(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;u(e.root,!1)}(this))}}]),e}();function k(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function p(e,t,n,i,r){var a=function(e){return(24&e.metadata)>>>3}(e),o=0===a||2===a,s=1===a||2===a,u=n-t,l=i,h=Math.min(u,l),c=e.start,f=!1,d=e.end,g=!1;t<=c&&d<=n&&function(e){return(32&e.metadata)>>>5===1}(e)&&(e.start=t,f=!0,e.end=t,g=!0);var v=r?1:u>0?2:0;if(!f&&k(c,o,t,v)&&(f=!0),!g&&k(d,s,t,v)&&(g=!0),h>0&&!r){var p=u>l?2:0;!f&&k(c,o,t+h,p)&&(f=!0),!g&&k(d,s,t+h,p)&&(g=!0)}var m=r?1:0;!f&&k(c,o,n,m)&&(e.start=t+l,f=!0),!g&&k(d,s,n,m)&&(e.end=t+l,g=!0);var C=l-u;f||(e.start=Math.max(0,c+C)),g||(e.end=Math.max(0,d+C)),e.start>e.end&&(e.end=e.start)}function m(e,t){if(e.root===g)return t.parent=g,t.left=g,t.right=g,o(t,0),e.root=t,e.root;!function(e,t){var n=0,i=e.root,r=t.start,a=t.end;for(;;){if(w(r,a,i.start+n,i.end+n)<0){if(i.left===g){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===g){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=g,t.right=g,o(t,1)}(e,t),L(t.parent);for(var n=t;n!==e.root&&1===a(n.parent);)if(n.parent===n.parent.parent.left){var i=n.parent.parent.right;1===a(i)?(o(n.parent,0),o(i,0),o(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&I(e,n=n.parent),o(n.parent,0),o(n.parent.parent,1),b(e,n.parent.parent))}else{var r=n.parent.parent.left;1===a(r)?(o(n.parent,0),o(r,0),o(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&b(e,n=n.parent),o(n.parent,0),o(n.parent.parent,1),I(e,n.parent.parent))}return o(e.root,0),t}function C(e,t){var n,i;if(t.left===g?(i=t,(n=t.right).delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===g?(n=t.left,i=t):((n=(i=function(e){for(;e.left!==g;)e=e.left;return e}(t.right)).right).start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,o(n,0),t.detach(),y(),x(n),void(e.root.parent=g);var r,s=1===a(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,o(i,a(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==g&&(i.left.parent=i),i.right!==g&&(i.right.parent=i)),t.detach(),s)return L(n.parent),i!==t&&(L(i),L(i.parent)),void y();for(L(n),L(n.parent),i!==t&&(L(i),L(i.parent));n!==e.root&&0===a(n);)n===n.parent.left?(1===a(r=n.parent.right)&&(o(r,0),o(n.parent,1),I(e,n.parent),r=n.parent.right),0===a(r.left)&&0===a(r.right)?(o(r,1),n=n.parent):(0===a(r.right)&&(o(r.left,0),o(r,1),b(e,r),r=n.parent.right),o(r,a(n.parent)),o(n.parent,0),o(r.right,0),I(e,n.parent),n=e.root)):(1===a(r=n.parent.left)&&(o(r,0),o(n.parent,1),b(e,n.parent),r=n.parent.left),0===a(r.left)&&0===a(r.right)?(o(r,1),n=n.parent):(0===a(r.left)&&(o(r.right,0),o(r,1),I(e,r),r=n.parent.left),o(r,a(n.parent)),o(n.parent,0),o(r.left,0),b(e,n.parent),n=e.root));o(n,0),y()}function y(){g.parent=g,g.delta=0,g.start=0,g.end=0}function I(e,t){var n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==g&&(n.left.parent=t),n.parent=t.parent,t.parent===g?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,x(t),x(n)}function b(e,t){var n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==g&&(n.right.parent=t),n.parent=t.parent,t.parent===g?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,x(t),x(n)}function _(e){var t=e.end;if(e.left!==g){var n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==g){var i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function x(e){e.maxEnd=_(e)}function L(e){for(;e!==g;){var t=_(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function w(e,t,n,i){return e===n?t-i:e-n}},1219:function(e,t,n){n.d(t,{gD:function(){return u}});var i=n(15671),r=n(43144),a=n(64272),o=n(10849),s=n(36158),u=function(){function e(t,n,r,a,o){(0,i.Z)(this,e),this.injectionOffsets=t,this.injectionOptions=n,this.breakOffsets=r,this.breakOffsetsVisibleColumn=a,this.wrappedTextIndentLength=o}return(0,r.Z)(e,[{key:"getOutputLineCount",value:function(){return this.breakOffsets.length}},{key:"getMinOutputOffset",value:function(e){return e>0?this.wrappedTextIndentLength:0}},{key:"getLineLength",value:function(e){var t=e>0?this.breakOffsets[e-1]:0,n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}},{key:"getMaxOutputOffset",value:function(e){return this.getLineLength(e)}},{key:"translateToInputOffset",value:function(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));var n=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(var i=0;i<this.injectionOffsets.length&&n>this.injectionOffsets[i];i++)n<this.injectionOffsets[i]+this.injectionOptions[i].content.length?n=this.injectionOffsets[i]:n-=this.injectionOptions[i].content.length;return n}},{key:"translateToOutputPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e;if(null!==this.injectionOffsets)for(var i=0;i<this.injectionOffsets.length&&!(e<this.injectionOffsets[i])&&(1===t||e!==this.injectionOffsets[i]);i++)n+=this.injectionOptions[i].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,t)}},{key:"offsetInInputWithInjectionsToOutputPosition",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=0,i=this.breakOffsets.length-1,r=0,a=0;n<=i;){r=n+(i-n)/2|0;var o=this.breakOffsets[r];if(a=r>0?this.breakOffsets[r-1]:0,0===t)if(e<=a)i=r-1;else{if(!(e>o))break;n=r+1}else if(e<a)i=r-1;else{if(!(e>=o))break;n=r+1}}var s=e-a;return r>0&&(s+=this.wrappedTextIndentLength),new c(r,s)}},{key:"normalizeOutputPosition",value:function(e,t,n){if(null!==this.injectionOffsets){var i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(i,n);if(r!==i)return this.offsetInInputWithInjectionsToOutputPosition(r,n)}if(0===n){if(e>0&&t===this.getMinOutputOffset(e))return new c(e-1,this.getMaxOutputOffset(e-1))}else if(1===n){if(e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new c(e+1,this.getMinOutputOffset(e+1))}return new c(e,t)}},{key:"outputPositionToOffsetInInputWithInjections",value:function(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}},{key:"normalizeOffsetInInputWithInjectionsAroundInjections",value:function(e,t){var n=this.getInjectedTextAtOffset(e);if(!n)return e;if(2===t){if(e===n.offsetInInputWithInjections+n.length&&l(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;var i=n.offsetInInputWithInjections;if(h(this.injectionOptions[n.injectedTextIndex].cursorStops))return i;for(var r=n.injectedTextIndex-1;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[n.injectedTextIndex]&&!l(this.injectionOptions[r].cursorStops)&&(i-=this.injectionOptions[r].content.length,!h(this.injectionOptions[r].cursorStops));)r--;return i}if(1===t){for(var o=n.offsetInInputWithInjections+n.length,s=n.injectedTextIndex;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)o+=this.injectionOptions[s+1].content.length,s++;return o}if(0===t){for(var u=n.offsetInInputWithInjections,c=n.injectedTextIndex;c-1>=0&&this.injectionOffsets[c-1]===this.injectionOffsets[c];)u-=this.injectionOptions[c-1].content.length,c--;return u}(0,a.vE)(t)}},{key:"getInjectedText",value:function(e,t){var n=this.outputPositionToOffsetInInputWithInjections(e,t),i=this.getInjectedTextAtOffset(n);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}},{key:"getInjectedTextAtOffset",value:function(e){var t=this.injectionOffsets,n=this.injectionOptions;if(null!==t)for(var i=0,r=0;r<t.length;r++){var a=n[r].content.length,o=t[r]+i,s=t[r]+i+a;if(o>e)break;if(e<=s)return{injectedTextIndex:r,offsetInInputWithInjections:o,length:a};i+=a}}}]),e}();function l(e){return null===e||void 0===e||(e===s.RM.Right||e===s.RM.Both)}function h(e){return null===e||void 0===e||(e===s.RM.Left||e===s.RM.Both)}var c=function(){function e(t,n){(0,i.Z)(this,e),this.outputLineIndex=t,this.outputOffset=n}return(0,r.Z)(e,[{key:"toString",value:function(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset)}},{key:"toPosition",value:function(e){return new o.L(e+this.outputLineIndex,this.outputOffset+1)}}]),e}()}}]);
//# sourceMappingURL=monaco-editor-vendor.a60186e4.ae5f46bf.js.map