{"version":3,"file":"static/js/monaco-editor-vendor.a3a53265.a9c7ebc9.js","mappings":"2HAIO,MAAMA,EACTC,WAAAA,CAAYC,GACRC,KAAKD,QAAUA,EACfC,KAAKC,UAAY,GACjBD,KAAKE,OAAS,GACdF,KAAKG,QAAU,GACfH,KAAKI,KAAO,GACZJ,KAAKK,MAAQ,GACbL,KAAKM,QAAU,GACfN,KAAKO,OAAS,GACdP,KAAKQ,aAAe,GACpBR,KAAKS,YAAc,GACnBT,KAAKU,YAAc,GACnBV,KAAKW,UAAY,GACjBX,KAAKY,WAAa,GAClBZ,KAAKa,qBAAuB,GAC5Bb,KAAKc,uBAAyB,GAC9Bd,KAAKe,gBAAkB,GACvBf,KAAKgB,YAAc,GACnBhB,KAAKiB,eAAiB,GACtBjB,KAAKkB,WAAa,GAClBlB,KAAKmB,SAAW,GAChBnB,KAAKoB,UAAY,GACjBpB,KAAKqB,YAAc,GACnBrB,KAAKsB,OAAS,GACdtB,KAAKuB,iBAAmB,GACxBvB,KAAKwB,YAAa,EAClBxB,KAAKyB,SAAW,OAChBzB,KAAK0B,WAAa,EACtB,CACAC,WAAAA,CAAY1B,GACR,MAAM2B,EAAWC,EAAe5B,GAC5BD,KAAKC,YAAc2B,IAGvB5B,KAAKC,UAAY2B,EACjB5B,KAAKD,QAAQ+B,MAAMF,SAAW5B,KAAKC,UACvC,CACA8B,QAAAA,CAAS7B,GACL,MAAM8B,EAAQH,EAAe3B,GACzBF,KAAKE,SAAW8B,IAGpBhC,KAAKE,OAAS8B,EACdhC,KAAKD,QAAQ+B,MAAME,MAAQhC,KAAKE,OACpC,CACA+B,SAAAA,CAAU9B,GACN,MAAM+B,EAASL,EAAe1B,GAC1BH,KAAKG,UAAY+B,IAGrBlC,KAAKG,QAAU+B,EACflC,KAAKD,QAAQ+B,MAAMI,OAASlC,KAAKG,QACrC,CACAgC,MAAAA,CAAO/B,GACH,MAAMgC,EAAMP,EAAezB,GACvBJ,KAAKI,OAASgC,IAGlBpC,KAAKI,KAAOgC,EACZpC,KAAKD,QAAQ+B,MAAMM,IAAMpC,KAAKI,KAClC,CACAiC,OAAAA,CAAQhC,GACJ,MAAMiC,EAAOT,EAAexB,GACxBL,KAAKK,QAAUiC,IAGnBtC,KAAKK,MAAQiC,EACbtC,KAAKD,QAAQ+B,MAAMQ,KAAOtC,KAAKK,MACnC,CACAkC,SAAAA,CAAUjC,GACN,MAAMkC,EAASX,EAAevB,GAC1BN,KAAKM,UAAYkC,IAGrBxC,KAAKM,QAAUkC,EACfxC,KAAKD,QAAQ+B,MAAMU,OAASxC,KAAKM,QACrC,CACAmC,QAAAA,CAASlC,GACL,MAAMmC,EAAQb,EAAetB,GACzBP,KAAKO,SAAWmC,IAGpB1C,KAAKO,OAASmC,EACd1C,KAAKD,QAAQ+B,MAAMY,MAAQ1C,KAAKO,OACpC,CACAoC,cAAAA,CAAenC,GACX,MAAMoC,EAAcf,EAAerB,GAC/BR,KAAKQ,eAAiBoC,IAG1B5C,KAAKQ,aAAeoC,EACpB5C,KAAKD,QAAQ+B,MAAMc,YAAc5C,KAAKQ,aAC1C,CACAqC,aAAAA,CAAcC,GACN9C,KAAKS,cAAgBqC,IAGzB9C,KAAKS,YAAcqC,EACnB9C,KAAKD,QAAQ+B,MAAMgB,WAAa9C,KAAKS,YACzC,CACAsC,aAAAA,CAAcC,GACNhD,KAAKU,cAAgBsC,IAGzBhD,KAAKU,YAAcsC,EACnBhD,KAAKD,QAAQ+B,MAAMkB,WAAahD,KAAKU,YACzC,CACAuC,WAAAA,CAAYtC,GACR,MAAMuC,EAAWrB,EAAelB,GAC5BX,KAAKW,YAAcuC,IAGvBlD,KAAKW,UAAYuC,EACjBlD,KAAKD,QAAQ+B,MAAMoB,SAAWlD,KAAKW,UACvC,CACAwC,YAAAA,CAAaC,GACLpD,KAAKY,aAAewC,IAGxBpD,KAAKY,WAAawC,EAClBpD,KAAKD,QAAQ+B,MAAMsB,UAAYpD,KAAKY,WACxC,CACAyC,sBAAAA,CAAuBC,GACftD,KAAKa,uBAAyByC,IAGlCtD,KAAKa,qBAAuByC,EAC5BtD,KAAKD,QAAQ+B,MAAMwB,oBAAsBtD,KAAKa,qBAClD,CACA0C,wBAAAA,CAAyBC,GACjBxD,KAAKc,yBAA2B0C,IAGpCxD,KAAKc,uBAAyB0C,EAC9BxD,KAAKD,QAAQ+B,MAAM0B,sBAAwBxD,KAAKc,uBACpD,CACA2C,iBAAAA,CAAkBC,GACV1D,KAAKe,kBAAoB2C,IAG7B1D,KAAKe,gBAAkB2C,EACvB1D,KAAKD,QAAQ+B,MAAM4B,eAAiB1D,KAAKe,gBAC7C,CACA4C,aAAAA,CAAc3C,GACV,MAAM4C,EAAa/B,EAAeb,GAC9BhB,KAAKgB,cAAgB4C,IAGzB5D,KAAKgB,YAAc4C,EACnB5D,KAAKD,QAAQ+B,MAAM8B,WAAa5D,KAAKgB,YACzC,CACA6C,gBAAAA,CAAiB5C,GACb,MAAM6C,EAAgBjC,EAAeZ,GACjCjB,KAAKiB,iBAAmB6C,IAG5B9D,KAAKiB,eAAiB6C,EACtB9D,KAAKD,QAAQ+B,MAAMgC,cAAgB9D,KAAKiB,eAC5C,CACA8C,YAAAA,CAAaC,GACLhE,KAAKkB,aAAe8C,IAGxBhE,KAAKkB,WAAa8C,EAClBhE,KAAKD,QAAQiE,UAAYhE,KAAKkB,WAClC,CACA+C,eAAAA,CAAgBD,EAAWE,GACvBlE,KAAKD,QAAQoE,UAAUC,OAAOJ,EAAWE,GACzClE,KAAKkB,WAAalB,KAAKD,QAAQiE,SACnC,CACAK,UAAAA,CAAWC,GACHtE,KAAKmB,WAAamD,IAGtBtE,KAAKmB,SAAWmD,EAChBtE,KAAKD,QAAQ+B,MAAMwC,QAAUtE,KAAKmB,SACtC,CACAoD,WAAAA,CAAYC,GACJxE,KAAKoB,YAAcoD,IAGvBxE,KAAKoB,UAAYoD,EACjBxE,KAAKD,QAAQ+B,MAAM0C,SAAWxE,KAAKoB,UACvC,CACAqD,aAAAA,CAAcC,GACN1E,KAAKqB,cAAgBqD,IAGzB1E,KAAKqB,YAAcqD,EACnB1E,KAAKD,QAAQ+B,MAAM4C,WAAa1E,KAAKqB,YACzC,CACAsD,QAAAA,CAASC,GACD5E,KAAKsB,SAAWsD,IAGpB5E,KAAKsB,OAASsD,EACd5E,KAAKD,QAAQ+B,MAAM8C,MAAQ5E,KAAKsB,OACpC,CACAuD,kBAAAA,CAAmBC,GACX9E,KAAKuB,mBAAqBuD,IAG9B9E,KAAKuB,iBAAmBuD,EACxB9E,KAAKD,QAAQ+B,MAAMgD,gBAAkB9E,KAAKuB,iBAC9C,CACAwD,eAAAA,CAAgBC,GACRhF,KAAKwB,aAAewD,IAGxBhF,KAAKwB,WAAawD,EAClBhF,KAAKD,QAAQ+B,MAAMmD,UAAYjF,KAAKwB,WAAa,6BAA+B,GACpF,CACA0D,YAAAA,CAAaC,GACLnF,KAAK0B,aAAeyD,IAGxBnF,KAAK0B,WAAayD,EAClBnF,KAAKD,QAAQ+B,MAAMqD,UAAYA,EACnC,CACAC,UAAAA,CAAWC,GACHrF,KAAKyB,WAAa4D,IAGtBrF,KAAKyB,SAAW4D,EAChBrF,KAAKD,QAAQ+B,MAAMuD,QAAUrF,KAAKyB,SACtC,CACA6D,YAAAA,CAAaC,EAAMC,GACfxF,KAAKD,QAAQuF,aAAaC,EAAMC,EACpC,CACAC,eAAAA,CAAgBF,GACZvF,KAAKD,QAAQ0F,gBAAgBF,EACjC,CACAG,WAAAA,CAAYC,GACR3F,KAAKD,QAAQ2F,YAAYC,EAAM5F,QACnC,CACA6F,WAAAA,CAAYD,GACR3F,KAAKD,QAAQ6F,YAAYD,EAAM5F,QACnC,EAEJ,SAAS8B,EAAe2D,GACpB,MAAyB,kBAAVA,EAAqB,GAAHK,OAAML,EAAK,MAAOA,CACvD,CACO,SAASM,EAAkB/F,GAC9B,OAAO,IAAIF,EAAYE,EAC3B,C,qECpPO,SAASgG,EAAWC,GACvB,MAAMC,EAAUC,EADoBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,GAGxC,OADAF,EAAQK,YAAcN,EACfC,CACX,CACO,SAASM,EAAoBC,GAA6B,IAAdC,EAAON,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC1D,MAAMF,EAAUC,EAAcO,GAE9B,OADAC,EAAqBT,EAmEzB,SAA4BU,EAASC,GACjC,MAAMC,EAAO,CACTC,KAAM,EACNC,SAAU,IAEd,IAAIC,EAAsB,EACtBC,EAAUJ,EACd,MAAMK,EAAQ,GACRC,EAAS,IAAIC,EAAaT,GAChC,MAAQQ,EAAOE,OAAO,CAClB,IAAIC,EAAOH,EAAOG,OAClB,MAAMC,EAAgC,OAATD,GAAqE,IAApDE,EAAcL,EAAOM,OAAQb,GAI3E,GAHIW,IACAD,EAAOH,EAAOG,SAEbC,GAAuBG,EAAYJ,EAAMV,IAAsBU,IAASH,EAAOM,OAAQ,CACxFN,EAAOQ,UACc,IAAjBV,EAAQH,OACRG,EAAUC,EAAMU,OAEpB,MAAMd,EAAOU,EAAcF,EAAMV,GACjC,GAAIK,EAAQH,OAASA,GAA0B,IAAjBG,EAAQH,MAA+C,IAATA,EACxEG,EAAUC,EAAMU,UAEf,CACD,MAAMC,EAAa,CACff,KAAMA,EACNC,SAAU,IAED,IAATD,IACAe,EAAWC,MAAQd,EACnBA,KAEJC,EAAQF,SAASgB,KAAKF,GACtBX,EAAMa,KAAKd,GACXA,EAAUY,CACd,CACJ,MACK,GAAa,OAATP,EACgB,IAAjBL,EAAQH,OACRG,EAAUC,EAAMU,OAEpBX,EAAQF,SAASgB,KAAK,CAClBjB,KAAM,SAIV,GAAqB,IAAjBG,EAAQH,KAAkC,CAC1C,MAAMkB,EAAc,CAChBlB,KAAM,EACNH,QAASW,GAEbL,EAAQF,SAASgB,KAAKC,GACtBd,EAAMa,KAAKd,GACXA,EAAUe,CACd,MAEIf,EAAQN,SAAWW,CAG/B,CACqB,IAAjBL,EAAQH,OACRG,EAAUC,EAAMU,OAEhBV,EAAMd,OAGV,OAAOS,CACX,CAvIkCoB,CAAmBzB,IAAiBC,EAAQyB,oBAAqBzB,EAAQ0B,cAAe1B,EAAQyB,oBACvHjC,CACX,CACO,SAASC,EAAcO,GAC1B,MAAM2B,EAAU3B,EAAQ4B,OAAS,OAAS,MACpCpC,EAAUqC,SAASpC,cAAckC,GAIvC,OAHI3B,EAAQzC,YACRiC,EAAQjC,UAAYyC,EAAQzC,WAEzBiC,CACX,CACA,MAAMmB,EACFtH,WAAAA,CAAYyI,GACRvI,KAAKuI,OAASA,EACdvI,KAAK8H,MAAQ,CACjB,CACAT,GAAAA,GACI,OAAOrH,KAAK8H,OAAS9H,KAAKuI,OAAOnC,MACrC,CACAkB,IAAAA,GACI,MAAMA,EAAOtH,KAAKyH,OAElB,OADAzH,KAAK2H,UACEL,CACX,CACAG,IAAAA,GACI,OAAOzH,KAAKuI,OAAOvI,KAAK8H,MAC5B,CACAH,OAAAA,GACI3H,KAAK8H,OACT,EAEJ,SAASpB,EAAqBT,EAASuC,EAAUL,EAAeD,GAC5D,IAAIvC,EACJ,GAAsB,IAAlB6C,EAAS1B,KACTnB,EAAQ2C,SAASG,eAAeD,EAAS7B,SAAW,SAEnD,GAAsB,IAAlB6B,EAAS1B,KACdnB,EAAQ2C,SAASpC,cAAc,UAE9B,GAAsB,IAAlBsC,EAAS1B,KACdnB,EAAQ2C,SAASpC,cAAc,UAE9B,GAAsB,IAAlBsC,EAAS1B,MAAoCoB,EAClDvC,EAAQ2C,SAASpC,cAAc,aAE9B,GAAsB,IAAlBsC,EAAS1B,MAAsCqB,EAAe,CACnE,MAAMO,EAAIJ,SAASpC,cAAc,KACjCiC,EAAcQ,YAAYC,IAAIC,EAAAA,GAAkCH,EAAG,SAAUI,IACzEX,EAAcY,SAASC,OAAOR,EAASV,OAAQgB,EAAM,KAEzDnD,EAAQ+C,CACZ,MAC2B,IAAlBF,EAAS1B,KACdnB,EAAQ2C,SAASpC,cAAc,MAER,IAAlBsC,EAAS1B,OACdnB,EAAQM,GAERN,GAASM,IAAYN,GACrBM,EAAQP,YAAYC,GAEpBA,GAASsD,MAAMC,QAAQV,EAASzB,WAChCyB,EAASzB,SAASoC,SAASC,IACvB1C,EAAqBf,EAAOyD,EAAWjB,EAAeD,EAAmB,GAGrF,CAsEA,SAASR,EAAY2B,EAAMC,GACvB,OAAoD,IAA7C9B,EAAc6B,EAAMC,EAC/B,CACA,SAAS9B,EAAc6B,EAAMC,GACzB,OAAQD,GACJ,IAAK,IACD,OAAO,EACX,IAAK,IACD,OAAO,EACX,IAAK,IACD,OAAO,EACX,IAAK,IACD,OAAO,EACX,IAAK,IACD,OAAOC,EAAsB,EAA0B,EAC3D,QACI,OAAO,EAEnB,C,6DChKO,MAAMC,EACTzJ,WAAAA,GACIE,KAAKwJ,OAAS,IAAIC,EAAAA,GAClBzJ,KAAK0J,qBAAuB,KAC5B1J,KAAK2J,gBAAkB,IAC3B,CACAC,OAAAA,GACI5J,KAAK6J,gBAAe,GACpB7J,KAAKwJ,OAAOI,SAChB,CACAC,cAAAA,CAAeC,EAAoBC,GAC/B,IAAK/J,KAAKgK,eAEN,OAGJhK,KAAKwJ,OAAOS,QACZjK,KAAK0J,qBAAuB,KAC5B,MAAMQ,EAAiBlK,KAAK2J,gBAC5B3J,KAAK2J,gBAAkB,KACnBG,GAAsBI,GACtBA,EAAeH,EAEvB,CACAC,YAAAA,GACI,QAAShK,KAAK0J,oBAClB,CACAS,eAAAA,CAAgBC,EAAgBC,EAAWC,EAAgBC,EAAqBL,GACxElK,KAAKgK,gBACLhK,KAAK6J,gBAAe,GAExB7J,KAAK0J,qBAAuBa,EAC5BvK,KAAK2J,gBAAkBO,EACvB,IAAIM,EAAcJ,EAClB,IACIA,EAAeK,kBAAkBJ,GACjCrK,KAAKwJ,OAAOZ,KAAI8B,EAAAA,EAAAA,KAAa,KACzB,IACIN,EAAeO,sBAAsBN,EACzC,CACA,MAAOO,GAOH,KAGZ,CACA,MAAOA,GASHJ,EAAcK,MAClB,CACA7K,KAAKwJ,OAAOZ,IAAIkC,EAAAA,GAA0BN,EAAaM,EAAAA,GAAcC,cAAeC,IAC5EA,EAAEC,UAAYX,GAKlBU,EAAEE,iBACFlL,KAAK0J,qBAAqBsB,IAJtBhL,KAAK6J,gBAAe,EAII,KAEhC7J,KAAKwJ,OAAOZ,IAAIkC,EAAAA,GAA0BN,EAAaM,EAAAA,GAAcK,YAAaH,GAAMhL,KAAK6J,gBAAe,KAChH,E,mFC3BJ,MAAMuB,EAAcC,EAAAA,GAAuB,IAA2B,KAGhEC,EAAcD,EAAAA,GAAuB,KAA4B,IAChE,MAAME,EACTzL,WAAAA,CAAYyI,GACRvI,KAAKwL,6BAA8B,EACnC,MAAMR,EAAIzC,EACVvI,KAAK+J,aAAeiB,EACpBhL,KAAKyL,OAAST,EAAES,OAChBzL,KAAK0L,QAAUV,EAAEU,QACjB1L,KAAK2L,SAAWX,EAAEW,SAClB3L,KAAK4L,OAASZ,EAAEY,OAChB5L,KAAK6L,QAAUb,EAAEa,QACjB7L,KAAK8L,YAAcd,EAAEe,iBAAiB,YACtC/L,KAAKgM,QA1Db,SAAwBhB,GACpB,GAAIA,EAAEiB,SAAU,CAEZ,MAAM5C,EAAOL,OAAOkD,aAAalB,EAAEiB,UAAUE,cAC7C,OAAOC,EAAAA,GAAaC,WAAWhD,EACnC,CACA,MAAM2C,EAAUhB,EAAEgB,QAElB,GAAgB,IAAZA,EACA,OAAO,EAEN,GAAIM,EAAAA,UACL,OAAQN,GACJ,KAAK,GAAI,OAAO,GAChB,KAAK,GACD,GAAIX,EAAAA,GACA,OAAO,GAEX,MACJ,KAAK,GAAI,OAAO,GAEhB,KAAK,IAAK,OAAO,IACjB,KAAK,IAAK,OAAO,IACjB,KAAK,IAAK,OAAO,GACjB,KAAK,IACD,GAAIA,EAAAA,GACA,OAAO,QAKlB,GAAIiB,EAAAA,SAAkB,CACvB,GAAIjB,EAAAA,IAAoC,KAAZW,EAExB,OAAO,GAEN,IAAKX,EAAAA,IAAoC,KAAZW,EAC9B,OAAO,EAEf,CAEA,OAAOO,EAAAA,GAAmBP,IAAY,CAC1C,CAgBuBQ,CAAexB,GAC9BhL,KAAKyM,KAAOzB,EAAEyB,KAEdzM,KAAK0L,QAAU1L,KAAK0L,SAA4B,IAAjB1L,KAAKgM,QACpChM,KAAK4L,OAAS5L,KAAK4L,QAA2B,IAAjB5L,KAAKgM,QAClChM,KAAK2L,SAAW3L,KAAK2L,UAA6B,IAAjB3L,KAAKgM,QACtChM,KAAK6L,QAAU7L,KAAK6L,SAA4B,KAAjB7L,KAAKgM,QACpChM,KAAK0M,cAAgB1M,KAAK2M,qBAC1B3M,KAAK4M,gBAAkB5M,KAAK6M,sBAEhC,CACA3B,cAAAA,GACQlL,KAAK+J,cAAgB/J,KAAK+J,aAAamB,gBACvClL,KAAK+J,aAAamB,gBAE1B,CACA4B,eAAAA,GACQ9M,KAAK+J,cAAgB/J,KAAK+J,aAAa+C,iBACvC9M,KAAK+J,aAAa+C,iBAE1B,CACAC,cAAAA,GACI,OAAO/M,KAAK4M,eAChB,CACAI,MAAAA,CAAOC,GACH,OAAOjN,KAAK0M,gBAAkBO,CAClC,CACAN,kBAAAA,GACI,IAAIO,EAAM,EACW,IAAjBlN,KAAKgM,SAAqD,IAAjBhM,KAAKgM,SAAsD,IAAjBhM,KAAKgM,SAAoD,KAAjBhM,KAAKgM,UAChIkB,EAAMlN,KAAKgM,SAEf,IAAImB,EAAS,EAcb,OAbInN,KAAK0L,UACLyB,GAAU/B,GAEVpL,KAAK4L,SACLuB,GAnDM,KAqDNnN,KAAK2L,WACLwB,GArDQ,MAuDRnN,KAAK6L,UACLsB,GAAU7B,GAEd6B,GAAUD,EACHC,CACX,CACAN,oBAAAA,GACI,IAAIK,EAAM,EAIV,OAHqB,IAAjBlN,KAAKgM,SAAqD,IAAjBhM,KAAKgM,SAAsD,IAAjBhM,KAAKgM,SAAoD,KAAjBhM,KAAKgM,UAChIkB,EAAMlN,KAAKgM,SAER,IAAIoB,EAAAA,GAAapN,KAAK0L,QAAS1L,KAAK2L,SAAU3L,KAAK4L,OAAQ5L,KAAK6L,QAASqB,EACpF,E,uRC/FJ,MAAMG,EAAyBC,OAAOC,OAAO,CACzCC,MAAOA,CAACC,EAAMC,EAAO1H,KACjB,IAAI2H,EAAa,GACbC,EAAa,GAcjB,OAbIH,MACGA,OAAME,eAAeE,EAAAA,EAAAA,IAAuBJ,IAC/CG,EAAW7F,KAAK,QAADlC,QAASiI,EAAAA,EAAAA,IAAmBL,GAAK,OAEhDzH,GACA4H,EAAW7F,KAAK,QAADlC,QAASiI,EAAAA,EAAAA,IAAmB9H,GAAK,MAEhD0H,GACAE,EAAW7F,KAAK,UAADlC,QAAWiI,EAAAA,EAAAA,IAAmBJ,GAAM,MAEnDC,EAAWvH,SACXwH,EAAaA,EAAW/H,OAAO8H,IAE5B,QAAUC,EAAWG,KAAK,KAAO,GAAG,EAE/CC,UAAYhI,GACD,MAAPH,OAAaG,EAAI,QAErBiI,KAAMA,CAACR,EAAMC,EAAO1H,IACI,kBAATyH,EACA,IAGPA,IAASzH,IACTA,GAAOkI,EAAAA,EAAAA,IAAsBlI,IAEjC0H,EAAyB,kBAAVA,GAAqBI,EAAAA,EAAAA,KAAmBI,EAAAA,EAAAA,IAAsBR,IAAU,GAGvFD,GAFAA,GAAOS,EAAAA,EAAAA,IAAsBT,IAEjBU,QAAQ,KAAM,SACrBA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,SACZ,YAAPtI,OAAmB4H,EAAI,aAAA5H,OAAY6H,GAASD,EAAI,MAAA5H,OAAKG,EAAI,WAS1D,SAASoI,EAAeC,GAA4C,IAAlC5H,EAAON,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGmI,EAAanI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACpE,IAAIoI,EAAIC,EACR,MAAM7F,EAAc,IAAIc,EAAAA,GACxB,IAAIgF,GAAa,EACjB,MAAMxI,GAAUC,EAAAA,EAAAA,IAAcO,GACxBiI,EAAc,SAAUC,GAC1B,IAAIC,EACJ,IACIA,GAAOC,EAAAA,EAAAA,IAAMC,mBAAmBH,GACpC,CACA,MAAO3D,GACH,CAEJ,OAAK4D,GAGLA,GAAOG,EAAAA,EAAAA,IAAeH,GAAMpJ,GACpB6I,EAASW,MAAQX,EAASW,KAAKxJ,GACxByJ,EAAAA,EAAIC,OAAOb,EAASW,KAAKxJ,SAGhC,IAGD2J,mBAAmBC,KAAKC,UAAUT,KAV9BD,CAWf,EACMW,EAAQ,SAAU7B,EAAM8B,GAC1B,MAAMX,EAAOP,EAASW,MAAQX,EAASW,KAAKvB,GAC5C,IAAI+B,EAAMP,EAAAA,EAAIC,OAAON,GACrB,OAAIW,EACI9B,EAAKgC,WAAWC,EAAAA,GAAQd,KAAO,KACxBnB,GAEN+B,IACDA,EAAMP,EAAAA,EAAIJ,MAAMpB,IAMbkC,EAAAA,GAAWC,gBAAgBJ,GAAKK,UAAS,IAE/CL,EAGDP,EAAAA,EAAIJ,MAAMpB,GAAMoC,aAAeL,EAAIK,WAC5BpC,GAEP+B,EAAIM,QACJN,EAAMA,EAAIO,KAAK,CAAED,MAAOpB,EAAYc,EAAIM,UAErCN,EAAIK,YARApC,CASf,EACMuC,EAAW,IAAIC,EAAAA,GAAOC,SAC5BF,EAASxC,MAAQH,EAAuBG,MACxCwC,EAAS/B,KAAOZ,EAAuBY,KACvC+B,EAAShC,UAAYX,EAAuBW,UAE5C,MAAMmC,EAAa,GACbC,EAAiB,GAiBvB,GAhBI3J,EAAQ4J,sBACRL,EAASvD,KAAO,CAACA,EAAM6D,KACnB,MAAMC,EAAKC,EAAAA,EAAiBC,SACtBjL,EAAQiB,EAAQ4J,sBAAsBK,EAA+BJ,GAAO7D,GAElF,OADA2D,EAAerI,KAAK,CAACwI,EAAI/K,IAClB,gCAAPK,OAAuC0K,EAAE,MAAA1K,QAAK8K,EAAAA,EAAAA,IAAOlE,GAAK,WAGzDhG,EAAQmK,oBACbZ,EAASvD,KAAO,CAACA,EAAM6D,KACnB,MAAMC,EAAKC,EAAAA,EAAiBC,SACtBjL,EAAQiB,EAAQmK,kBAAkBF,EAA+BJ,GAAO7D,GAE9E,OADA0D,EAAWpI,KAAKvC,EAAMqL,MAAK5K,GAAW,CAACsK,EAAItK,MACpC,gCAAPJ,OAAuC0K,EAAE,MAAA1K,QAAK8K,EAAAA,EAAAA,IAAOlE,GAAK,YAG9DhG,EAAQ0B,cAAe,CACvB,MAAM2I,EAAgB,SAAUhI,GAC5B,IAAI2C,EAAS3C,EAAM2C,OACnB,GAAuB,MAAnBA,EAAOrD,UACPqD,EAASA,EAAOsF,cACXtF,GAA6B,MAAnBA,EAAOrD,SAI1B,IACI,IAAIqF,EAAOhC,EAAOuF,QAAc,KAC5BvD,IACIY,EAAS4C,UACTxD,EAAOyD,EAAmBjC,EAAAA,EAAIkC,KAAK9C,EAAS4C,SAAUxD,IAE1DhH,EAAQ0B,cAAcY,SAAS0E,EAAM3E,GAE7C,CACA,MAAO8B,IACHwG,EAAAA,EAAAA,IAAkBxG,EACtB,CAAC,QAEG9B,EAAMoC,gBACV,CACJ,EACMmG,EAAU5K,EAAQ0B,cAAcQ,YAAYC,IAAI,IAAI0I,EAAAA,EAAWrL,EAAS,UACxEsL,EAAa9K,EAAQ0B,cAAcQ,YAAYC,IAAI,IAAI0I,EAAAA,EAAWrL,EAAS,aACjFQ,EAAQ0B,cAAcQ,YAAYC,IAAI4I,EAAAA,GAAMC,IAAIJ,EAAQvI,MAAOyI,EAAWzI,MAApC0I,EAA2CxG,IAC7E,MAAM0G,EAAa,IAAIC,EAAAA,EAAmB3G,IACrC0G,EAAWE,YAAeF,EAAWG,eAG1Cf,EAAcY,EAAW,KAE7BjL,EAAQ0B,cAAcQ,YAAYC,IAAIC,EAAAA,GAA0B5C,EAAS,WAAY+E,IACjF,MAAM8G,EAAgB,IAAIvG,EAAAA,EAAsBP,IAC3C8G,EAAc9E,OAAO,KAA4B8E,EAAc9E,OAAO,KAG3E8D,EAAcgB,EAAc,IAEpC,CACKzD,EAAS0D,cAOVzD,EAAc0D,UAAaC,IACT5D,EAAS6D,UAAYD,EAAKE,MAAM,sCAAmC9L,GAClE4L,EAAO,GAE1B3D,EAAc8D,UAAW,EACzB9D,EAAc+D,QAAS,GAE3B/D,EAAc0B,SAAWA,EAEzB,IAQIsC,EARA9M,EAAkC,QAAzB+I,EAAKF,EAAS7I,aAA0B,IAAP+I,EAAgBA,EAAK,GASnE,GARI/I,EAAMY,OAAS,MACfZ,EAAQ,GAAHK,OAAML,EAAM+M,OAAO,EAAG,KAAO,WAGlClE,EAASmE,oBACThN,GAAQiN,EAAAA,EAAAA,IAA2BjN,IAGnCiB,EAAQiM,uBAAwB,CAEhC,MAAMC,EAAOrF,OAAOsF,OAAOtF,OAAOsF,OAAO,CAAC,EAAG3C,EAAAA,GAAO4C,UAAWvE,GAEzDwE,EA0UP,SAAgCC,GACnC,IAAIC,EACAF,EACJ,IAAKE,EAAI,EAAGA,EAAID,EAAO3M,OAAQ4M,IAAK,CAChC,MAAMC,EAAQF,EAAOC,GACrB,GAAmB,cAAfC,EAAMnM,MAAwBmM,EAAMC,IAAIf,MAAM,aAAc,CAE5DW,EAAYK,EAAkBJ,EAAOK,MAAMJ,IAC3C,KACJ,CACA,GAAmB,cAAfC,EAAMnM,MAAwBmM,EAAMC,IAAIf,MAAM,YAAa,CAC3DW,EAAYO,EAAcN,EAAOK,MAAMJ,IACvC,KACJ,CAQA,GAAIA,IAAMD,EAAO3M,OAAS,GAAoB,cAAf6M,EAAMnM,KAAsB,CAEvD,MAAMwM,EAAWC,EAA0BN,GAC3C,GAAIK,EAAU,CACVR,EAAY,CAACQ,GACb,KACJ,CACJ,CACJ,CACA,GAAIR,EAAW,CACX,MAAMU,EAAgB,IACfT,EAAOK,MAAM,EAAGJ,MAChBF,GAGP,OADAU,EAAcC,MAAQV,EAAOU,MACtBD,CACX,CACA,OAAOT,CACX,CAjX0BL,CADHzC,EAAAA,GAAOyD,MAAMlO,EAAOmN,IAEnCL,EAAmBrC,EAAAA,GAAO0D,OAAOb,EAAWH,EAChD,MAEIL,EAAmBrC,EAAAA,GAAOpB,MAAMrJ,EAAO8I,GAG3C,GAAID,EAASmE,kBAAmB,CAE5BF,GADiBsB,EAAAA,EAAAA,GAAqBtB,GACVuB,KAAI7I,GAAkB,kBAANA,EAAiBA,EAAIA,EAAE8I,YAAW/F,KAAK,GACvF,CACA,MACMgG,GADa,IAAIC,WACYC,gBAAgBC,EAAyB7F,EAAUiE,GAAmB,aAmCzG,GAlCAyB,EAAgBI,KAAKC,iBAAiB,OACjCjL,SAAQkL,IACT,MAAMC,EAAMD,EAAIE,aAAa,OAC7B,GAAID,EAAK,CACL,IAAI7G,EAAO6G,EACX,IACQjG,EAAS4C,UACTxD,EAAOyD,EAAmBjC,EAAAA,EAAIkC,KAAK9C,EAAS4C,SAAUxD,GAE9D,CACA,MAAO7C,GAAO,CACdyJ,EAAIC,IAAMhF,EAAM7B,GAAM,EAC1B,KAEJsG,EAAgBI,KAAKC,iBAAiB,KACjCjL,SAAQT,IACT,MAAM+E,EAAO/E,EAAE6L,aAAa,QAE5B,GADA7L,EAAEpD,aAAa,OAAQ,KAClBmI,GACE,sBAAsB+G,KAAK/G,IAC1B,aAAa+G,KAAK/G,KAAUY,EAAS6D,WACtC,kDAAkDsC,KAAK/G,GAE1D/E,EAAE+L,eAAe/L,EAAEgM,gBAElB,CACD,IAAIC,EAAerF,EAAM7B,GAAM,GAC3BY,EAAS4C,UACT0D,EAAezD,EAAmBjC,EAAAA,EAAIkC,KAAK9C,EAAS4C,SAAUxD,IAElE/E,EAAEsI,QAAQvD,KAAOkH,CACrB,KAEJ1O,EAAQ2O,UAAYV,EAAyB7F,EAAU0F,EAAgBI,KAAKS,WACxEzE,EAAW/J,OAAS,EACpByO,QAAQC,IAAI3E,GAAYU,MAAMkE,IAC1B,IAAIxG,EAAIC,EACR,GAAIC,EACA,OAEJ,MAAMuG,EAAmB,IAAIC,IAAIF,GAC3BG,EAAsBjP,EAAQmO,iBAAiB,kBACrD,IAAK,MAAMe,KAAsBD,EAAqB,CAClD,MAAME,EAAkBJ,EAAiBK,IAAkD,QAA7C9G,EAAK4G,EAAmBnE,QAAc,YAAsB,IAAPzC,EAAgBA,EAAK,IACpH6G,GACAvM,EAAAA,GAAUsM,EAAoBC,EAEtC,CACuC,QAAtC5G,EAAK/H,EAAQ6O,2BAAwC,IAAP9G,GAAyBA,EAAG+G,KAAK9O,EAAQ,SAG3F,GAAI2J,EAAehK,OAAS,EAAG,CAChC,MAAM4O,EAAmB,IAAIC,IAAI7E,GAC3B8E,EAAsBjP,EAAQmO,iBAAiB,kBACrD,IAAK,MAAMe,KAAsBD,EAAqB,CAClD,MAAME,EAAkBJ,EAAiBK,IAAkD,QAA7C7G,EAAK2G,EAAmBnE,QAAc,YAAsB,IAAPxC,EAAgBA,EAAK,IACpH4G,GACAvM,EAAAA,GAAUsM,EAAoBC,EAEtC,CACJ,CAEA,GAAI3O,EAAQ6O,oBACR,IAAK,MAAMjB,KAAOpO,EAAQuP,qBAAqB,OAAQ,CACnD,MAAMC,EAAW9M,EAAYC,IAAIC,EAAAA,GAA0BwL,EAAK,QAAQ,KACpEoB,EAAS7L,UACTnD,EAAQ6O,qBAAqB,IAErC,CAEJ,MAAO,CACHrP,UACA2D,QAASA,KACL6E,GAAa,EACb9F,EAAYiB,SAAS,EAGjC,CACA,SAAS8G,EAA+BJ,GACpC,IAAKA,EACD,MAAO,GAEX,MAAMoF,EAAQpF,EAAKqF,MAAM,kBAAmB,GAC5C,OAAID,EAAMtP,OACCsP,EAAM,GAEVpF,CACX,CACA,SAASY,EAAmBD,EAASxD,GAEjC,MADkB,iBAAiB+G,KAAK/G,GAE7BA,EAEPwD,EAAQ2E,KAAKC,SAAS,MACfC,EAAAA,EAAAA,IAAY7E,EAASxD,GAAMoC,YAG3BiG,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,IAAQ9E,GAAUxD,GAAMoC,UAEnD,CACA,SAASqE,EAAyBzN,EAAS6L,GACvC,MAAM,OAAE0D,EAAM,eAAEC,GA+CpB,SAA6BxP,GACzB,MAAMwP,EAAiB,CACnBvG,EAAAA,GAAQwG,KACRxG,EAAAA,GAAQyG,MACRzG,EAAAA,GAAQ0G,OACR1G,EAAAA,GAAQd,KACRc,EAAAA,GAAQ2G,KACR3G,EAAAA,GAAQ4G,mBACR5G,EAAAA,GAAQ6G,aACR7G,EAAAA,GAAQ8G,sBAER/P,EAAQyL,WACR+D,EAAelO,KAAK2H,EAAAA,GAAQ+G,SAEhC,MAAO,CACHT,OAAQ,CAKJU,aAAc,IAAI7N,EAAAA,IAClB8N,aAAcC,EACdC,yBAAyB,GAE7BZ,iBAER,CAzEuCa,CAAoBrQ,GACvDsQ,EAAAA,GAAkB,yBAAyB,CAAC9Q,EAAS+E,KACjD,GAAmB,UAAfA,EAAEgM,UAAuC,UAAfhM,EAAEgM,cAAhC,CACI,GAAwB,SAApB/Q,EAAQmC,QAAoB,CAC5B,GAAmB,UAAf4C,EAAEgM,SAEF,YADAhM,EAAEiM,SAAW,8HAA8HzC,KAAKxJ,EAAEkM,YAGjJ,GAAmB,UAAflM,EAAEgM,SAEP,YADAhM,EAAEiM,SAAW,0DAA0DzC,KAAKxJ,EAAEkM,WAGtF,CACAlM,EAAEiM,UAAW,CAEjB,KAEJ,MAAME,EAAOtO,EAAAA,GAAqCoN,GAClD,IACI,OAAOc,EAAAA,GAAmBzE,EAAkBhF,OAAOsF,OAAOtF,OAAOsF,OAAO,CAAC,EAAGoD,GAAS,CAAEoB,qBAAqB,IAChH,CAAC,QAEGL,EAAAA,GAAqB,yBACrBI,EAAKvN,SACT,CACJ,CACO,MAAMgN,EAAsB,CAC/B,QACA,WACA,MACA,QACA,WACA,YACA,YACA,SACA,OACA,OACA,QACA,cACA,SACA,MACA,QACA,SACA,QACA,QACA,SAiCG,SAASS,EAAwBC,GACpC,MAAyB,kBAAXA,EAAsBA,EAKjC,SAAmCjJ,GACtC,IAAIE,EAEJ,IAAI/I,EAAkC,QAAzB+I,EAAKF,EAAS7I,aAA0B,IAAP+I,EAAgBA,EAAK,GAC/D/I,EAAMY,OAAS,MACfZ,EAAQ,GAAHK,OAAML,EAAM+M,OAAO,EAAG,KAAO,WAGtC,OAAO2B,EAAyB,CAAEhC,WAAW,GADhCjC,EAAAA,GAAOpB,MAAMrJ,EAAO,CAAEwK,SAAUuH,EAAkB/R,QAAS2I,QAAQ,uBAAuBqJ,IAAO,IAAIjJ,EAAI,OAAsC,QAA9BA,EAAKkJ,EAAapC,IAAImC,UAAuB,IAAPjJ,EAAgBA,EAAKiJ,CAAC,KAC9H3H,UAChE,CAdiD6H,CAA0BJ,EAC3E,CAcA,MAAMG,EAAe,IAAIxC,IAAI,CACzB,CAAC,SAAU,KACX,CAAC,SAAU,KACX,CAAC,QAAS,KACV,CAAC,QAAS,KACV,CAAC,OAAQ,KACT,CAAC,OAAQ,OAEPsC,EAAoB,IAAII,EAAAA,GAAK,KAC/B,MAAM3H,EAAW,IAAIC,EAAAA,GAAOC,SA0D5B,OAzDAF,EAASvD,KAAQA,GACNA,EAEXuD,EAAS4H,WAAcC,GACZA,EAEX7H,EAASiC,KAAQ6F,GACN,GAEX9H,EAAS+H,QAAU,CAAC/R,EAAMgS,EAAQC,IACvBjS,EAAO,KAElBgK,EAASkI,GAAK,IACH,GAEXlI,EAASmI,KAAO,CAAChE,EAAMiE,IACZjE,EAEXnE,EAASqI,SAAYrS,GACVA,EAAO,KAElBgK,EAAShC,UAAahI,GACXA,EAAO,KAElBgK,EAASsI,MAAQ,CAACC,EAAQpE,IACfoE,EAASpE,EAAO,KAE3BnE,EAASwI,SAAY7R,GACVA,EAEXqJ,EAASyI,UAAY,CAAC9R,EAAS+R,IACpB/R,EAAU,IAErBqJ,EAAS2I,OAAU3S,GACRA,EAEXgK,EAAS4I,GAAM5S,GACJA,EAEXgK,EAAS6I,SAAYpM,GACVA,EAEXuD,EAAS8I,GAAK,IACH,KAEX9I,EAAS+I,IAAO/S,GACLA,EAEXgK,EAASxC,MAAQ,CAAC8B,EAAO0J,EAAQC,IACtB,GAEXjJ,EAAShK,KAAQA,GACNA,EAEXgK,EAAS/B,KAAO,CAACqB,EAAO0J,EAAQhT,IACrBA,EAEJgK,CAAQ,IAEnB,SAASkJ,EAAkBnG,GACvB,IAAIoG,EAAkB,GAItB,OAHApG,EAAO5J,SAAQ8J,IACXkG,GAAmBlG,EAAMC,GAAG,IAEzBiG,CACX,CACA,SAAS5F,EAA0BN,GAC/B,IAAK,MAAMmG,KAAYnG,EAAMF,OACzB,GAAsB,SAAlBqG,EAAStS,KAAiB,CAC1B,MAAMuS,EAAQD,EAASlG,IAAIyC,MAAM,MAC3B2D,EAAWD,EAAMA,EAAMjT,OAAS,GACtC,GAAIkT,EAASC,SAAS,KAClB,OAAOC,EAAiBvG,GAEvB,GAAIqG,EAASC,SAAS,MACvB,OAiGLE,EAjG+BxG,EAiGJ,MA/FrB,GAAIqG,EAASnH,MAAM,QACpB,OAAOuH,EAAazG,GAEnB,GAAIqG,EAASnH,MAAM,cACpB,OAAOwH,EAAyB1G,GAE/B,GAAIqG,EAASnH,MAAM,aACpB,OAAOyH,EAAmB3G,GAEzB,GAAIqG,EAASnH,MAAM,qBACpB,OAAO0H,EAAmB5G,GAEzB,GAAIqG,EAASnH,MAAM,cACpB,OAAO2H,EAAiB7G,EAEhC,CAGR,CAyDA,SAASE,EAAkBJ,GACvB,MAAMgH,EAAgBb,EAAkBnG,GACxC,OAAO9C,EAAAA,GAAOyD,MAAMqG,EAAgB,QACxC,CACA,SAASP,EAAiBvG,GACtB,OAAOwG,EAAmBxG,EAAO,IACrC,CACA,SAASyG,EAAa3G,GAClB,OAAO0G,EAAmB1G,EAAQ,IACtC,CACA,SAAS6G,EAAmB7G,GACxB,OAAO0G,EAAmB1G,EAAQ,IACtC,CACA,SAAS8G,EAAmB9G,GACxB,OAAO0G,EAAmB1G,EAAQ,IACtC,CACA,SAAS+G,EAAiB/G,GACtB,OAAO0G,EAAmB1G,EAAQ,iBACtC,CAIA,SAAS4G,EAAyB5G,GAC9B,OAAO0G,EAAmB1G,EAAQ,KACtC,CACA,SAAS0G,EAAmB1G,EAAQiH,GAChC,MAAMD,EAAgBb,EAAkBjQ,MAAMC,QAAQ6J,GAAUA,EAAS,CAACA,IAG1E,OAAO9C,EAAAA,GAAOyD,MAAMqG,EAAgBC,GAAe,EACvD,CACA,SAAS3G,EAAcN,GACnB,MAAMgH,EAAgBb,EAAkBnG,GAClCsG,EAAQU,EAAcpE,MAAM,MAClC,IAAIsE,EACAC,GAAkB,EACtB,IAAK,IAAIlH,EAAI,EAAGA,EAAIqG,EAAMjT,OAAQ4M,IAAK,CACnC,MAAMmH,EAAOd,EAAMrG,GAAGoH,OACtB,GAAuB,qBAAZH,GAA2BE,EAAKhI,MAAM,UAAW,CACxD,MAAMkI,EAAeF,EAAKhI,MAAM,uBAC5BkI,IACAJ,EAAUI,EAAajU,OAE/B,MACK,GAAuB,kBAAZ6T,EAAsB,CAClC,IAAIE,EAAKhI,MAAM,UAWX,OAVA,GAAIa,IAAMqG,EAAMjT,OAAS,EAGrB,OAGJ8T,GAAkB,CAM1B,CACJ,CACA,GAAuB,kBAAZD,GAAwBA,EAAU,EAAG,CAC5C,MAAMK,EAAaJ,EAAkBb,EAAMjG,MAAM,GAAI,GAAGrF,KAAK,MAAQgM,EAC/DQ,IAAoBD,EAAWnI,MAAM,UACrCqI,EAAaF,GAAcC,EAAkB,GAAK,KAAO,MAAH1U,OAAS,SAAS4U,OAAOR,IACrF,OAAOhK,EAAAA,GAAOyD,MAAM8G,EACxB,CAEJ,C,0DC5oBA,IAAIE,GAAiC,EACjCC,EAA6B,KACjC,SAASC,EAA4BC,GACjC,IAAKA,EAAEC,QAAUD,EAAEC,SAAWD,EAC1B,OAAO,KAGX,IACI,MAAME,EAAWF,EAAEE,SACbC,EAAiBH,EAAEC,OAAOC,SAChC,GAAwB,SAApBA,EAASE,QAA+C,SAA1BD,EAAeC,QAAqBF,EAASE,SAAWD,EAAeC,OAErG,OADAP,GAAiC,EAC1B,IAEf,CACA,MAAO1P,GAEH,OADA0P,GAAiC,EAC1B,IACX,CACA,OAAOG,EAAEC,MACb,CACO,MAAMI,EAMT,+BAAOC,GACH,IAAKR,EAA4B,CAC7BA,EAA6B,GAC7B,IACIG,EADAD,EAAIhQ,OAER,GACIiQ,EAASF,EAA4BC,GACjCC,EACAH,EAA2B5S,KAAK,CAC5B8C,OAAQgQ,EACRO,cAAeP,EAAEQ,cAAgB,OAIrCV,EAA2B5S,KAAK,CAC5B8C,OAAQgQ,EACRO,cAAe,OAGvBP,EAAIC,QACCD,EACb,CACA,OAAOF,EAA2BvH,MAAM,EAC5C,CAIA,uDAAOkI,CAAiDC,EAAaC,GACjE,IAAKA,GAAkBD,IAAgBC,EACnC,MAAO,CACHpZ,IAAK,EACLE,KAAM,GAGd,IAAIF,EAAM,EAAGE,EAAO,EACpB,MAAMmZ,EAAczb,KAAKmb,2BACzB,IAAK,MAAMO,KAAiBD,EAAa,CAGrC,GAFArZ,GAAOsZ,EAAc7Q,OAAO8Q,QAC5BrZ,GAAQoZ,EAAc7Q,OAAO+Q,QACzBF,EAAc7Q,SAAW2Q,EACzB,MAEJ,IAAKE,EAAcN,cACf,MAEJ,MAAMS,EAAeH,EAAcN,cAAcU,wBACjD1Z,GAAOyZ,EAAazZ,IACpBE,GAAQuZ,EAAavZ,IACzB,CACA,MAAO,CACHF,IAAKA,EACLE,KAAMA,EAEd,E,eC7EG,MAAMqP,EACT7R,WAAAA,CAAYkL,GACRhL,KAAK+b,UAAYC,KAAKC,MACtBjc,KAAK+J,aAAeiB,EACpBhL,KAAK4R,WAA0B,IAAb5G,EAAEkR,OACpBlc,KAAK6R,aAA4B,IAAb7G,EAAEkR,OACtBlc,KAAKmc,YAA2B,IAAbnR,EAAEkR,OACrBlc,KAAKiL,QAAUD,EAAEC,QACjBjL,KAAKyL,OAAST,EAAES,OAChBzL,KAAKoc,OAASpR,EAAEoR,QAAU,EACX,aAAXpR,EAAElE,OACF9G,KAAKoc,OAAS,GAElBpc,KAAK0L,QAAUV,EAAEU,QACjB1L,KAAK2L,SAAWX,EAAEW,SAClB3L,KAAK4L,OAASZ,EAAEY,OAChB5L,KAAK6L,QAAUb,EAAEa,QACM,kBAAZb,EAAEqR,OACTrc,KAAKsc,KAAOtR,EAAEqR,MACdrc,KAAKuc,KAAOvR,EAAEwR,QAIdxc,KAAKsc,KAAOtR,EAAEyR,QAAUnU,SAAS6L,KAAKuI,WAAapU,SAASqU,gBAAgBD,WAC5E1c,KAAKuc,KAAOvR,EAAE4R,QAAUtU,SAAS6L,KAAK0I,UAAYvU,SAASqU,gBAAgBE,WAG/E,MAAMC,EAAgB5B,EAAYI,iDAAiDzQ,OAAQG,EAAE+R,MAC7F/c,KAAKsc,MAAQQ,EAAcxa,KAC3BtC,KAAKuc,MAAQO,EAAc1a,GAC/B,CACA8I,cAAAA,GACIlL,KAAK+J,aAAamB,gBACtB,CACA4B,eAAAA,GACI9M,KAAK+J,aAAa+C,iBACtB,EAEG,MAAMkQ,EACTld,WAAAA,CAAYkL,GAA2B,IAAxBiS,EAAM9W,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EAAG+W,EAAM/W,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EAKhC,GAJAnG,KAAK+J,aAAeiB,GAAK,KACzBhL,KAAKyL,OAAST,EAAKA,EAAES,QAAUT,EAAEmS,YAAcnS,EAAEoS,WAAc,KAC/Dpd,KAAKkd,OAASA,EACdld,KAAKid,OAASA,EACVjS,EAAG,CAEH,MAAMqS,EAAKrS,EACLsS,EAAKtS,EAEX,GAA8B,qBAAnBqS,EAAGE,YACVvd,KAAKkd,OAASG,EAAGE,YAAc,SAE9B,GAAgC,qBAArBD,EAAGE,eAAiCF,EAAGG,OAASH,EAAGE,cAC/Dxd,KAAKkd,QAAUI,EAAGlB,OAAS,OAE1B,GAAe,UAAXpR,EAAElE,KAAkB,CAGzB,MAAM4W,EAAK1S,EACP0S,EAAGC,YAAcD,EAAGE,eAEhBtR,EAAQuR,YAAcxS,EAAAA,GACtBrL,KAAKkd,QAAUlS,EAAEkS,OAAS,EAG1Bld,KAAKkd,QAAUlS,EAAEkS,OAIrBld,KAAKkd,QAAUlS,EAAEkS,OAAS,EAElC,CAEA,GAA8B,qBAAnBG,EAAGS,YACNxR,EAAQyR,UAAY1S,EAAAA,GACpBrL,KAAKid,QAAWI,EAAGS,YAAc,IAGjC9d,KAAKid,OAASI,EAAGS,YAAc,SAGlC,GAAkC,qBAAvBR,EAAGU,iBAAmCV,EAAGG,OAASH,EAAGU,gBACjEhe,KAAKid,QAAUjS,EAAEoR,OAAS,OAEzB,GAAe,UAAXpR,EAAElE,KAAkB,CAGzB,MAAM4W,EAAK1S,EACP0S,EAAGC,YAAcD,EAAGE,eAEhBtR,EAAQuR,YAAcxS,EAAAA,GACtBrL,KAAKid,QAAUjS,EAAEiS,OAAS,EAG1Bjd,KAAKid,QAAUjS,EAAEiS,OAIrBjd,KAAKid,QAAUjS,EAAEiS,OAAS,EAElC,CAEoB,IAAhBjd,KAAKkd,QAAgC,IAAhBld,KAAKid,QAAgBjS,EAAEiT,aAC5Cje,KAAKkd,OAASlS,EAAEiT,WAAa,IAErC,CACJ,CACA/S,cAAAA,GACI,IAAIqD,EACyB,QAA5BA,EAAKvO,KAAK+J,oBAAiC,IAAPwE,GAAyBA,EAAGrD,gBACrE,CACA4B,eAAAA,GACI,IAAIyB,EACyB,QAA5BA,EAAKvO,KAAK+J,oBAAiC,IAAPwE,GAAyBA,EAAGzB,iBACrE,E,kBCrHG,IAAIoR,E,iBACX,SAAWA,GACP,MAAMC,EAAmB,CAAEC,MAAO,EAAGC,IAAKC,OAAOC,UAAWC,IAAK,GAC3DC,EAAiBnR,OAAOsF,OAAO,CAAC,EAAGuL,GACnCO,EAAkBpR,OAAOsF,OAAO,CAAC,EAAGuL,GACpCQ,EAAwBrR,OAAOsF,OAAO,CAAC,EAAGuL,GAChD,IAAIS,EAAoB,EACxB,MAAMC,EAAQ,CACVC,QAAS,EACTC,MAAO,EACPC,OAAQ,GAiBZ,SAASC,IACiB,IAAlBJ,EAAMC,UACNI,YAAYC,KAAK,eACjBN,EAAMC,QAAU,EAExB,CAIA,SAASM,IACLF,YAAYC,KAAK,eACjBN,EAAME,MAAQ,EAEdM,GACJ,CAaA,SAASC,IACe,IAAhBT,EAAME,QACNG,YAAYC,KAAK,aACjBN,EAAME,MAAQ,EAEtB,CAmCA,SAASQ,IACgB,IAAjBV,EAAMG,SACNE,YAAYC,KAAK,cACjBN,EAAMG,OAAS,EAEvB,CACA,SAASK,IAILG,WAAWC,EACf,CAyBA,SAASA,IACiB,IAAlBZ,EAAMC,SAA2D,IAAhBD,EAAME,OAA0D,IAAjBF,EAAMG,SACtGE,YAAYC,KAAK,oBACjBD,YAAYQ,QAAQ,UAAW,gBAAiB,eAChDR,YAAYQ,QAAQ,QAAS,cAAe,aAC5CR,YAAYQ,QAAQ,SAAU,eAAgB,cAC9CR,YAAYQ,QAAQ,eAAgB,qBAAsB,oBAC1DC,EAAW,UAAWxB,GACtBwB,EAAW,QAASlB,GACpBkB,EAAW,SAAUjB,GACrBiB,EAAW,eAAgBhB,GAQ3BC,IAcJM,YAAYU,WAAW,iBACvBV,YAAYU,WAAW,eACvBV,YAAYU,WAAW,eACvBV,YAAYU,WAAW,aACvBV,YAAYU,WAAW,gBACvBV,YAAYU,WAAW,cACvBV,YAAYU,WAAW,sBACvBV,YAAYU,WAAW,oBACvBV,YAAYW,cAAc,WAC1BX,YAAYW,cAAc,SAC1BX,YAAYW,cAAc,UAC1BX,YAAYW,cAAc,gBAC1BhB,EAAMC,QAAU,EAChBD,EAAME,MAAQ,EACdF,EAAMG,OAAS,EAzBnB,CACA,SAASW,EAAWG,EAAWC,GAC3B,MAAMC,EAAWd,YAAYe,iBAAiBH,GAAW,GAAGE,SAC5DD,EAAsB3B,OAAS4B,EAC/BD,EAAsB1B,IAAM6B,KAAK7B,IAAI0B,EAAsB1B,IAAK2B,GAChED,EAAsBvB,IAAM0B,KAAK1B,IAAIuB,EAAsBvB,IAAKwB,EACpE,CA8CA,SAASG,EAA6BC,GAClC,MAAO,CACHC,QAASD,EAAWhC,MAAQQ,EAC5BJ,IAAK4B,EAAW5B,IAChBH,IAAK+B,EAAW/B,IAExB,CACA,SAASiC,EAA2BF,GAChCA,EAAWhC,MAAQ,EACnBgC,EAAW/B,IAAMC,OAAOC,UACxB6B,EAAW5B,IAAM,CACrB,CA/LAN,EAAaqC,UARb,WAEId,IACAP,YAAYC,KAAK,sBACjBD,YAAYC,KAAK,iBACjBN,EAAMC,QAAU,EAChB0B,eAAevB,EACnB,EAoBAf,EAAakB,cAAgBA,EAW7BlB,EAAauC,QAPb,WACwB,IAAhB5B,EAAME,OAENK,IAEJoB,eAAelB,EACnB,EAeApB,EAAawC,QAJb,WAEIjB,GACJ,EASAvB,EAAayC,kBAJb,WAEIlB,GACJ,EAgBAvB,EAAa0C,cAXb,WAE0B,IAAlB/B,EAAMC,SAA2D,IAAhBD,EAAME,OAA0D,IAAjBF,EAAMG,SAEtGE,YAAYC,KAAK,gBACjBN,EAAMG,OAAS,EACfwB,eAAejB,GAEfF,IAER,EAiHAnB,EAAa2C,wBApBb,WACI,GAA0B,IAAtBjC,EACA,OAGJ,MAAMzR,EAAS,CACX2R,QAASqB,EAA6BhC,GACtCY,MAAOoB,EAA6B1B,GACpCO,OAAQmB,EAA6BzB,GACrCN,MAAO+B,EAA6BxB,GACpCmC,YAAalC,GAQjB,OALA0B,EAA2BnC,GAC3BmC,EAA2B7B,GAC3B6B,EAA2B5B,GAC3B4B,EAA2B3B,GAC3BC,EAAoB,EACbzR,CACX,CAcH,CAtND,CAsNG+Q,IAAiBA,EAAe,CAAC,G,+CC5MzB6C,E,uDAXPC,EAA0C,SAAUC,EAAYxV,EAAQyB,EAAKgU,GAC7E,IAA2HC,EAAvHC,EAAIjb,UAAUC,OAAQib,EAAID,EAAI,EAAI3V,EAAkB,OAATyV,EAAgBA,EAAO5T,OAAOgU,yBAAyB7V,EAAQyB,GAAOgU,EACrH,GAAuB,kBAAZK,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASP,EAAYxV,EAAQyB,EAAKgU,QACpH,IAAK,IAAIlO,EAAIiO,EAAW7a,OAAS,EAAG4M,GAAK,EAAGA,KAASmO,EAAIF,EAAWjO,MAAIqO,GAAKD,EAAI,EAAID,EAAEE,GAAKD,EAAI,EAAID,EAAE1V,EAAQyB,EAAKmU,GAAKF,EAAE1V,EAAQyB,KAASmU,GAChJ,OAAOD,EAAI,GAAKC,GAAK/T,OAAOmU,eAAehW,EAAQyB,EAAKmU,GAAIA,CAChE,GAOA,SAAWN,GACPA,EAAUW,IAAM,qBAChBX,EAAUY,OAAS,wBACnBZ,EAAUa,MAAQ,uBAClBb,EAAUc,IAAM,sBAChBd,EAAUe,YAAc,4BAC3B,CAND,CAMGf,IAAcA,EAAY,CAAC,IACvB,MAAMgB,UAAgBC,EAAAA,GACzBliB,WAAAA,GACImiB,QACAjiB,KAAKkiB,YAAa,EAClBliB,KAAKmiB,QAAU,IAAIC,EAAAA,EACnBpiB,KAAKqiB,cAAgB,IAAID,EAAAA,EACzBpiB,KAAKsiB,cAAgB,CAAC,EACtBtiB,KAAKuiB,OAAS,KACdviB,KAAKwiB,qBAAuB,EAC5BxiB,KAAKyiB,UAAUC,EAAAA,GAA+Bpa,SAAU,cAAe0C,GAAMhL,KAAK2iB,aAAa3X,IAAI,CAAE4X,SAAS,KAC9G5iB,KAAKyiB,UAAUC,EAAAA,GAA+Bpa,SAAU,YAAa0C,GAAMhL,KAAK6iB,WAAW7X,MAC3FhL,KAAKyiB,UAAUC,EAAAA,GAA+Bpa,SAAU,aAAc0C,GAAMhL,KAAK8iB,YAAY9X,IAAI,CAAE4X,SAAS,IAChH,CACA,gBAAOG,CAAU9c,GACb,IAAK8b,EAAQiB,gBACT,OAAOhB,EAAAA,GAAWiB,KAEjBlB,EAAQmB,WACTnB,EAAQmB,SAAW,IAAInB,GAE3B,MAAMoB,EAASpB,EAAQmB,SAASf,QAAQpa,KAAK9B,GAC7C,OAAOyE,EAAAA,EAAAA,IAAayY,EACxB,CACA,mBAAOC,CAAand,GAChB,IAAK8b,EAAQiB,gBACT,OAAOhB,EAAAA,GAAWiB,KAEjBlB,EAAQmB,WACTnB,EAAQmB,SAAW,IAAInB,GAE3B,MAAMoB,EAASpB,EAAQmB,SAASb,cAActa,KAAK9B,GACnD,OAAOyE,EAAAA,EAAAA,IAAayY,EACxB,CACA,oBAAOH,GAGH,MAAO,iBAAkBnY,QAAUwY,UAAUC,eAAiB,CAClE,CACA1Z,OAAAA,GACQ5J,KAAKuiB,SACLviB,KAAKuiB,OAAO3Y,UACZ5J,KAAKuiB,OAAS,MAElBN,MAAMrY,SACV,CACA+Y,YAAAA,CAAa3X,GACT,MAAM+Q,EAAYC,KAAKC,MACnBjc,KAAKuiB,SACLviB,KAAKuiB,OAAO3Y,UACZ5J,KAAKuiB,OAAS,MAElB,IAAK,IAAIvP,EAAI,EAAGuQ,EAAMvY,EAAEwY,cAAcpd,OAAQ4M,EAAIuQ,EAAKvQ,IAAK,CACxD,MAAMyQ,EAAQzY,EAAEwY,cAAcE,KAAK1Q,GACnChT,KAAKsiB,cAAcmB,EAAME,YAAc,CACnCpT,GAAIkT,EAAME,WACVC,cAAeH,EAAMhY,OACrBoY,iBAAkB9H,EAClB+H,aAAcL,EAAMpH,MACpB0H,aAAcN,EAAMjH,MACpBwH,kBAAmB,CAACjI,GACpBkI,aAAc,CAACR,EAAMpH,OACrB6H,aAAc,CAACT,EAAMjH,QAEzB,MAAM2H,EAAMnkB,KAAKokB,gBAAgBrD,EAAUa,MAAO6B,EAAMhY,QACxD0Y,EAAI9H,MAAQoH,EAAMpH,MAClB8H,EAAI3H,MAAQiH,EAAMjH,MAClBxc,KAAKqkB,cAAcF,EACvB,CACInkB,KAAKkiB,aACLlX,EAAEE,iBACFF,EAAE8B,kBACF9M,KAAKkiB,YAAa,EAE1B,CACAW,UAAAA,CAAW7X,GACP,MAAM+Q,EAAYC,KAAKC,MACjBqI,EAAmBhX,OAAOiX,KAAKvkB,KAAKsiB,eAAelc,OACzD,IAAK,IAAI4M,EAAI,EAAGuQ,EAAMvY,EAAEwZ,eAAepe,OAAQ4M,EAAIuQ,EAAKvQ,IAAK,CACzD,MAAMyQ,EAAQzY,EAAEwZ,eAAed,KAAK1Q,GACpC,IAAKhT,KAAKsiB,cAAcmC,eAAezb,OAAOya,EAAME,aAAc,CAC9De,QAAQC,KAAK,2BAA4BlB,GACzC,QACJ,CACA,MAAM7U,EAAO5O,KAAKsiB,cAAcmB,EAAME,YAAaiB,EAAW5I,KAAKC,MAAQrN,EAAKiV,iBAChF,GAAIe,EAAW7C,EAAQ8C,YAChB3E,KAAK4E,IAAIlW,EAAKkV,aAAeiB,EAAAA,GAAYnW,EAAKqV,eAAiB,IAC/D/D,KAAK4E,IAAIlW,EAAKmV,aAAegB,EAAAA,GAAYnW,EAAKsV,eAAiB,GAAI,CACtE,MAAMC,EAAMnkB,KAAKokB,gBAAgBrD,EAAUW,IAAK9S,EAAKgV,eACrDO,EAAI9H,MAAQ0I,EAAAA,GAAYnW,EAAKqV,cAC7BE,EAAI3H,MAAQuI,EAAAA,GAAYnW,EAAKsV,cAC7BlkB,KAAKqkB,cAAcF,EACvB,MACK,GAAIS,GAAY7C,EAAQ8C,YACtB3E,KAAK4E,IAAIlW,EAAKkV,aAAeiB,EAAAA,GAAYnW,EAAKqV,eAAiB,IAC/D/D,KAAK4E,IAAIlW,EAAKmV,aAAegB,EAAAA,GAAYnW,EAAKsV,eAAiB,GAAI,CACtE,MAAMC,EAAMnkB,KAAKokB,gBAAgBrD,EAAUe,YAAalT,EAAKgV,eAC7DO,EAAI9H,MAAQ0I,EAAAA,GAAYnW,EAAKqV,cAC7BE,EAAI3H,MAAQuI,EAAAA,GAAYnW,EAAKsV,cAC7BlkB,KAAKqkB,cAAcF,EACvB,MACK,GAAyB,IAArBG,EAAwB,CAC7B,MAAMU,EAASD,EAAAA,GAAYnW,EAAKqV,cAC1BgB,EAASF,EAAAA,GAAYnW,EAAKsV,cAC1BgB,EAASH,EAAAA,GAAYnW,EAAKoV,mBAAqBpV,EAAKoV,kBAAkB,GACtE/G,EAAS+H,EAASpW,EAAKqV,aAAa,GACpC/G,EAAS+H,EAASrW,EAAKsV,aAAa,GAEpCiB,EAAa,IAAInlB,KAAKmiB,SAASiD,QAAOC,GAAKzW,EAAKgV,yBAAyB0B,MAAQD,EAAEE,SAAS3W,EAAKgV,iBACvG5jB,KAAKwlB,QAAQL,EAAYpJ,EACzBmE,KAAK4E,IAAI7H,GAAUiI,EACnBjI,EAAS,EAAI,GAAK,EAClB+H,EACA9E,KAAK4E,IAAI5H,GAAUgI,EACnBhI,EAAS,EAAI,GAAK,EAClB+H,EAEJ,CACAjlB,KAAKqkB,cAAcrkB,KAAKokB,gBAAgBrD,EAAUc,IAAKjT,EAAKgV,uBAErD5jB,KAAKsiB,cAAcmB,EAAME,WACpC,CACI3jB,KAAKkiB,aACLlX,EAAEE,iBACFF,EAAE8B,kBACF9M,KAAKkiB,YAAa,EAE1B,CACAkC,eAAAA,CAAgBtd,EAAM8c,GAClB,MAAM9a,EAAQR,SAASmd,YAAY,eAInC,OAHA3c,EAAM4c,UAAU5e,GAAM,GAAO,GAC7BgC,EAAM8a,cAAgBA,EACtB9a,EAAM6c,SAAW,EACV7c,CACX,CACAub,aAAAA,CAAcvb,GACV,GAAIA,EAAMhC,OAASia,EAAUW,IAAK,CAC9B,MAAMkE,GAAe,IAAI5J,MAAQ6J,UACjC,IAAIC,EAAc,EAEdA,EADAF,EAAc5lB,KAAKwiB,qBAAuBT,EAAQgE,qBACpC,EAGA,EAElB/lB,KAAKwiB,qBAAuBoD,EAC5B9c,EAAM6c,SAAWG,CACrB,MACShd,EAAMhC,OAASia,EAAUY,QAAU7Y,EAAMhC,OAASia,EAAUe,cAEjE9hB,KAAKwiB,qBAAuB,GAEhC,GAAI1Z,EAAM8a,yBAAyB0B,KAAM,CACrC,IAAK,MAAMlC,KAAgBpjB,KAAKqiB,cAC5B,GAAIe,EAAamC,SAASzc,EAAM8a,eAC5B,OAGR,IAAK,MAAMnY,KAAUzL,KAAKmiB,QAClB1W,EAAO8Z,SAASzc,EAAM8a,iBACtBnY,EAAO4Y,cAAcvb,GACrB9I,KAAKkiB,YAAa,EAG9B,CACJ,CACAsD,OAAAA,CAAQL,EAAYa,EAAIC,EAAIC,EAAMC,EAAGC,EAAIC,EAAMC,GAC3CtmB,KAAKuiB,OAASG,EAAAA,IAAsC,KAChD,MAAMzG,EAAMD,KAAKC,MAEXiJ,EAASjJ,EAAM+J,EACrB,IAAIO,EAAc,EAAGC,EAAc,EAC/BC,GAAU,EACdR,GAAMlE,EAAQ2E,gBAAkBxB,EAChCkB,GAAMrE,EAAQ2E,gBAAkBxB,EAC5Be,EAAK,IACLQ,GAAU,EACVF,EAAcL,EAAOD,EAAKf,GAE1BkB,EAAK,IACLK,GAAU,EACVD,EAAcH,EAAOD,EAAKlB,GAG9B,MAAMf,EAAMnkB,KAAKokB,gBAAgBrD,EAAUY,QAC3CwC,EAAIwC,aAAeJ,EACnBpC,EAAIyC,aAAeJ,EACnBrB,EAAWhc,SAAQgY,GAAKA,EAAEkD,cAAcF,KACnCsC,GACDzmB,KAAKwlB,QAAQL,EAAYlJ,EAAKgK,EAAIC,EAAMC,EAAII,EAAaH,EAAIC,EAAMC,EAAIE,EAC3E,GAER,CACA1D,WAAAA,CAAY9X,GACR,MAAM+Q,EAAYC,KAAKC,MACvB,IAAK,IAAIjJ,EAAI,EAAGuQ,EAAMvY,EAAEwZ,eAAepe,OAAQ4M,EAAIuQ,EAAKvQ,IAAK,CACzD,MAAMyQ,EAAQzY,EAAEwZ,eAAed,KAAK1Q,GACpC,IAAKhT,KAAKsiB,cAAcmC,eAAezb,OAAOya,EAAME,aAAc,CAC9De,QAAQC,KAAK,0BAA2BlB,GACxC,QACJ,CACA,MAAM7U,EAAO5O,KAAKsiB,cAAcmB,EAAME,YAChCQ,EAAMnkB,KAAKokB,gBAAgBrD,EAAUY,OAAQ/S,EAAKgV,eACxDO,EAAIwC,aAAelD,EAAMpH,MAAQ0I,EAAAA,GAAYnW,EAAKqV,cAClDE,EAAIyC,aAAenD,EAAMjH,MAAQuI,EAAAA,GAAYnW,EAAKsV,cAClDC,EAAI9H,MAAQoH,EAAMpH,MAClB8H,EAAI3H,MAAQiH,EAAMjH,MAClBxc,KAAKqkB,cAAcF,GAEfvV,EAAKqV,aAAa7d,OAAS,IAC3BwI,EAAKqV,aAAa4C,QAClBjY,EAAKsV,aAAa2C,QAClBjY,EAAKoV,kBAAkB6C,SAE3BjY,EAAKqV,aAAalc,KAAK0b,EAAMpH,OAC7BzN,EAAKsV,aAAanc,KAAK0b,EAAMjH,OAC7B5N,EAAKoV,kBAAkBjc,KAAKgU,EAChC,CACI/b,KAAKkiB,aACLlX,EAAEE,iBACFF,EAAE8B,kBACF9M,KAAKkiB,YAAa,EAE1B,EAEJH,EAAQ2E,iBAAmB,KAC3B3E,EAAQ8C,WAAa,IACrB9C,EAAQgE,qBAAuB,IAC/B/E,EAAW,CACP8F,EAAAA,GACD/E,EAAS,gBAAiB,K,iDCvPtB,SAASgF,EAAyBC,EAAYC,GACjD,IAAI1Y,EACJ,MAAM2Y,EAAoBC,WAAWC,kBACrC,GAA0B,OAAtBF,QAAoD,IAAtBA,OAA+B,EAASA,EAAkBH,yBACxF,IACI,OAAOG,EAAkBH,yBAAyBC,EAAYC,EAClE,CACA,MAAOrc,GAEH,YADAwG,EAAAA,EAAAA,IAAkBxG,EAEtB,CAEJ,IACI,OAAsC,QAA9B2D,EAAK1D,OAAOwc,oBAAiC,IAAP9Y,OAAgB,EAASA,EAAG+Y,aAAaN,EAAYC,EACvG,CACA,MAAOrc,GAEH,YADAwG,EAAAA,EAAAA,IAAkBxG,EAEtB,CACJ,C,6LCRO,MAAM2c,UAA2BvF,EAAAA,GACpC,UAAIwF,GACA,OAAOxnB,KAAKynB,OAChB,CACA3nB,WAAAA,CAAY4nB,EAASF,GAAsB,IAAd/gB,EAAON,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACpC8b,QACAjiB,KAAKyG,QAAUA,EACfzG,KAAK2nB,SAAWD,GAAW1nB,KAC3BA,KAAKynB,QAAUD,EACXA,aAAkBI,EAAAA,IAClB5nB,KAAKyiB,UAAU+E,EAAOK,aAAY/e,IACzB9I,KAAKiG,SAKVjG,KAAK8nB,wBAAwBhf,EAAM,IAG/C,CACAgf,uBAAAA,CAAwBhf,QACEzC,IAAlByC,EAAMif,SACN/nB,KAAKgoB,qBAEa3hB,IAAlByC,EAAMmf,SACNjoB,KAAKkoB,qBAEW7hB,IAAhByC,EAAMqf,OACNnoB,KAAKooB,mBAEW/hB,IAAhByC,EAAMuf,QACNroB,KAAKsoB,cACLtoB,KAAKuoB,sBAEaliB,IAAlByC,EAAM0f,SACNxoB,KAAKuoB,eAEb,CACA,gBAAIE,GAIA,OAHKzoB,KAAK0oB,gBACN1oB,KAAK0oB,cAAgB1oB,KAAKyiB,UAAU,IAAIkG,EAAAA,KAErC3oB,KAAK0oB,aAChB,CACA,gBAAID,CAAaA,GACbzoB,KAAK0oB,cAAgBD,CACzB,CACAG,SAAAA,GACI,OAAO5oB,KAAKynB,QAAQM,OACxB,CACAc,gBAAAA,CAAiBC,GACb9oB,KAAK2nB,SAAWmB,CACpB,CACA9J,MAAAA,CAAO+J,GACH,MAAM9iB,EAAUjG,KAAKiG,QAAU8iB,EAC/B/oB,KAAKyiB,UAAUV,EAAAA,EAAQgB,UAAUgG,IACjC,MAAMC,EAAiBhpB,KAAKyG,SAAWzG,KAAKyG,QAAQwiB,UAChDD,IACAD,EAAUE,WAAY,EAClBpL,EAAAA,WAEA7d,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBH,EAAWhI,EAAAA,GAAUoI,YAAYne,IAAO,IAAIuD,EAAI,OAAiC,QAAzBA,EAAKvD,EAAEoe,oBAAiC,IAAP7a,OAAgB,EAASA,EAAG8a,QAAQC,EAAAA,EAAcC,KAAMvpB,KAAKynB,QAAQY,MAAM,MAGjNroB,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBjjB,EAASujB,EAAAA,EAAe9H,KAAK1W,GAAKhL,KAAKqR,QAAQrG,GAAG,MACvFhL,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBjjB,EAAS8a,EAAAA,GAAU0I,YAAYze,IAC3Dge,GACDU,EAAAA,GAAYC,KAAK3e,GAAG,GAEpBhL,KAAKynB,QAAQM,SAAwB,IAAb/c,EAAEkR,QAC1BjW,EAAQ9B,UAAUyE,IAAI,SAC1B,KAEAyC,EAAAA,IAKArL,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBjjB,EAAS8a,EAAAA,GAAU6I,cAAc5e,IACjD,IAAbA,EAAEkR,SAA8B,IAAdlR,EAAEU,SACpB1L,KAAKqR,QAAQrG,EACjB,KAGRhL,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBjjB,EAAS8a,EAAAA,GAAU8I,OAAO7e,IAC3D0e,EAAAA,GAAYC,KAAK3e,GAAG,GAEdhL,KAAKyG,SAAWzG,KAAKyG,QAAQqjB,QAC/B9pB,KAAKqR,QAAQrG,EACjB,KAEJhL,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBjjB,EAAS8a,EAAAA,GAAUgJ,UAAU/e,IAC9D0e,EAAAA,GAAYC,KAAK3e,GAAG,EAAK,KAE7B,CAAC+V,EAAAA,GAAUiJ,SAAUjJ,EAAAA,GAAUkJ,WAAW9gB,SAAQL,IAC9C9I,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBjjB,EAAS6C,GAAOkC,IACjD0e,EAAAA,GAAYC,KAAK3e,GACjB/E,EAAQ9B,UAAUgf,OAAO,SAAS,IACnC,GAEX,CACA9R,OAAAA,CAAQvI,GAA8B,IAAvBohB,EAAa/jB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACxB,IAAIoI,EACJmb,EAAAA,GAAYC,KAAK7gB,GAAO,GACxB,MAAM4e,EAAUyC,EAAAA,GAAwBnqB,KAAK2nB,WAAqC,QAAvBpZ,EAAKvO,KAAKyG,eAA4B,IAAP8H,OAAgB,EAASA,EAAG6b,mBAAqBthB,EAAQ,CAAEohB,iBAAkBlqB,KAAK2nB,SAC5K3nB,KAAKyoB,aAAa4B,IAAIrqB,KAAKynB,QAASC,EACxC,CAGA4C,KAAAA,GACQtqB,KAAKiG,UACLjG,KAAKiG,QAAQskB,SAAW,EACxBvqB,KAAKiG,QAAQqkB,QACbtqB,KAAKiG,QAAQ9B,UAAUyE,IAAI,WAEnC,CACA4hB,IAAAA,GACQxqB,KAAKiG,UACLjG,KAAKiG,QAAQukB,OACbxqB,KAAKiG,QAAQskB,UAAY,EACzBvqB,KAAKiG,QAAQ9B,UAAUgf,OAAO,WAEtC,CACAsH,YAAAA,CAAaC,GACL1qB,KAAKiG,UACLjG,KAAKiG,QAAQskB,SAAWG,EAAY,GAAK,EAEjD,CACA,wBAAIC,GACA,OAAO,CACX,CACA3C,aAAAA,GACI,CAEJM,WAAAA,GACI,CAEJsC,UAAAA,GACI,OAAO5qB,KAAKwnB,OAAOgB,OACvB,CACAD,aAAAA,GACI,IAAIha,EACJ,IAAKvO,KAAKiG,QACN,OAEJ,MAAMyH,EAAqC,QAA5Ba,EAAKvO,KAAK4qB,oBAAiC,IAAPrc,EAAgBA,EAAK,GACxEvO,KAAK6qB,kBACA7qB,KAAKyG,QAAQqkB,eAId9qB,KAAKiG,QAAQyH,MAAQ,GAChB1N,KAAK+qB,YAKN/qB,KAAK+qB,YAAYC,OAAOtd,IAJxB1N,KAAK+qB,aAAcE,EAAAA,EAAAA,GAAiBjrB,KAAKyG,QAAQqkB,cAAe9qB,KAAKiG,QAASyH,GAC9E1N,KAAKkrB,OAAOtiB,IAAI5I,KAAK+qB,eANzB/qB,KAAKiG,QAAQyH,MAAQA,CAY7B,CACAmd,eAAAA,GACI,IAAItc,EACJ,GAAIvO,KAAKiG,QAAS,CACd,MAAMyH,EAAqC,QAA5Ba,EAAKvO,KAAK4qB,oBAAiC,IAAPrc,EAAgBA,EAAK,GACxEvO,KAAKiG,QAAQX,aAAa,aAAcoI,EAC5C,CACJ,CACA0a,WAAAA,GACI,CAEJF,aAAAA,GACI,CAEJte,OAAAA,GACQ5J,KAAKiG,UACLjG,KAAKiG,QAAQkd,SACbnjB,KAAKiG,aAAUI,GAEnBrG,KAAK2nB,cAAWthB,EAChB4b,MAAMrY,SACV,EAEG,MAAMuhB,UAAuB5D,EAChCznB,WAAAA,CAAY4nB,EAASF,EAAQ/gB,GACzBwb,MAAMyF,EAASF,EAAQ/gB,GACvBzG,KAAKyG,QAAUA,EACfzG,KAAKyG,QAAQ2kB,UAAwB/kB,IAAjBI,EAAQ2kB,MAAqB3kB,EAAQ2kB,KACzDprB,KAAKyG,QAAQ4hB,WAA0BhiB,IAAlBI,EAAQ4hB,OAAsB5hB,EAAQ4hB,MAC3DroB,KAAKqrB,SAAW,EACpB,CACArM,MAAAA,CAAO+J,GACH9G,MAAMjD,OAAO+J,GACT/oB,KAAKiG,UACLjG,KAAKqoB,OAAQiD,EAAAA,EAAAA,IAAOtrB,KAAKiG,SAASslB,EAAAA,EAAAA,GAAE,oBAEpCvrB,KAAKqoB,OACLroB,KAAKqoB,MAAM/iB,aAAa,OAAQtF,KAAKwrB,sBAErCxrB,KAAKyG,QAAQ4hB,OAASroB,KAAKyG,QAAQglB,YAAczrB,KAAKiG,WACtDqlB,EAAAA,EAAAA,IAAOtrB,KAAKiG,SAASslB,EAAAA,EAAAA,GAAE,oBAAoBjlB,YAActG,KAAKyG,QAAQglB,YAE1EzrB,KAAKooB,cACLpoB,KAAKsoB,cACLtoB,KAAKuoB,gBACLvoB,KAAKgoB,gBACLhoB,KAAKkoB,eACT,CACAsD,kBAAAA,GACI,OAAIxrB,KAAKynB,QAAQlX,KAAOmb,EAAAA,GAAUC,GACvB,eAGH3rB,KAAKyG,QAAQqjB,OACN,WAGA,QAGnB,CAGAQ,KAAAA,GACQtqB,KAAKqoB,QACLroB,KAAKqoB,MAAMkC,SAAW,EACtBvqB,KAAKqoB,MAAMiC,QAEnB,CACAE,IAAAA,GACQxqB,KAAKqoB,QACLroB,KAAKqoB,MAAMkC,UAAY,EAE/B,CACAE,YAAAA,CAAaC,GACL1qB,KAAKqoB,QACLroB,KAAKqoB,MAAMkC,SAAWG,EAAY,GAAK,EAE/C,CACApC,WAAAA,GACQtoB,KAAKyG,QAAQ4hB,OAASroB,KAAKqoB,QAC3BroB,KAAKqoB,MAAM/hB,YAActG,KAAKwnB,OAAOa,MAE7C,CACAuC,UAAAA,GACI,IAAIld,EAAQ,KAUZ,OATI1N,KAAKwnB,OAAOgB,QACZ9a,EAAQ1N,KAAKwnB,OAAOgB,SAEdxoB,KAAKyG,QAAQ4hB,OAASroB,KAAKwnB,OAAOa,OAASroB,KAAKyG,QAAQ2kB,OAC9D1d,EAAQ1N,KAAKwnB,OAAOa,MAChBroB,KAAKyG,QAAQglB,aACb/d,EAAQke,EAAAA,GAAa,CAAE1e,IAAK,aAAc2e,QAAS,CAAC,eAAgB,sBAAwB,YAAane,EAAO1N,KAAKyG,QAAQglB,cAGpH,OAAV/d,QAA4B,IAAVA,EAAmBA,OAAQrH,CACxD,CACA+hB,WAAAA,GACI,IAAI7Z,EACAvO,KAAKqrB,UAAYrrB,KAAKqoB,OACtBroB,KAAKqoB,MAAMlkB,UAAUgf,UAAUnjB,KAAKqrB,SAAS1V,MAAM,MAEnD3V,KAAKyG,QAAQ2kB,MACbprB,KAAKqrB,SAAWrrB,KAAKwnB,OAAOW,MACxBnoB,KAAKqoB,QACLroB,KAAKqoB,MAAMlkB,UAAUyE,IAAI,WACrB5I,KAAKqrB,UACLrrB,KAAKqoB,MAAMlkB,UAAUyE,OAAO5I,KAAKqrB,SAAS1V,MAAM,OAGxD3V,KAAKgoB,iBAGiB,QAArBzZ,EAAKvO,KAAKqoB,aAA0B,IAAP9Z,GAAyBA,EAAGpK,UAAUgf,OAAO,UAEnF,CACA6E,aAAAA,GACI,IAAIzZ,EAAIC,EACJxO,KAAKwnB,OAAOO,SACR/nB,KAAKqoB,QACLroB,KAAKqoB,MAAM5iB,gBAAgB,iBAC3BzF,KAAKqoB,MAAMlkB,UAAUgf,OAAO,aAER,QAAvB5U,EAAKvO,KAAKiG,eAA4B,IAAPsI,GAAyBA,EAAGpK,UAAUgf,OAAO,cAGzEnjB,KAAKqoB,QACLroB,KAAKqoB,MAAM/iB,aAAa,gBAAiB,QACzCtF,KAAKqoB,MAAMlkB,UAAUyE,IAAI,aAEL,QAAvB4F,EAAKxO,KAAKiG,eAA4B,IAAPuI,GAAyBA,EAAGrK,UAAUyE,IAAI,YAElF,CACAiiB,eAAAA,GACI,IAAItc,EACJ,GAAIvO,KAAKqoB,MAAO,CACZ,MAAM3a,EAAqC,QAA5Ba,EAAKvO,KAAK4qB,oBAAiC,IAAPrc,EAAgBA,EAAK,GACxEvO,KAAKqoB,MAAM/iB,aAAa,aAAcoI,EAC1C,CACJ,CACAwa,aAAAA,GACQloB,KAAKqoB,aACuBhiB,IAAxBrG,KAAKwnB,OAAOS,SACZjoB,KAAKqoB,MAAMlkB,UAAUC,OAAO,UAAWpE,KAAKwnB,OAAOS,SACnDjoB,KAAKqoB,MAAM/iB,aAAa,eAAgBtF,KAAKwnB,OAAOS,QAAU,OAAS,SACvEjoB,KAAKqoB,MAAM/iB,aAAa,OAAQ,cAGhCtF,KAAKqoB,MAAMlkB,UAAUgf,OAAO,WAC5BnjB,KAAKqoB,MAAM/iB,aAAa,eAAgB,IACxCtF,KAAKqoB,MAAM/iB,aAAa,OAAQtF,KAAKwrB,uBAGjD,EAEG,MAAMM,UAA6BvE,EACtCznB,WAAAA,CAAYisB,EAAKvE,EAAQ/gB,EAASulB,EAAUC,EAAqBC,EAAQC,GACrElK,MAAM8J,EAAKvE,GACXxnB,KAAKosB,UAAY,IAAIC,EAAAA,EAAU5lB,EAASulB,EAAUC,EAAqBC,EAAQC,GAC/EnsB,KAAKosB,UAAU3B,cAAa,GAC5BzqB,KAAKyiB,UAAUziB,KAAKosB,WACpBpsB,KAAKssB,mBACT,CACAC,MAAAA,CAAOzkB,GACH9H,KAAKosB,UAAUG,OAAOzkB,EAC1B,CACAwkB,iBAAAA,GACItsB,KAAKyiB,UAAUziB,KAAKosB,UAAUI,aAAYxhB,GAAKhL,KAAKysB,UAAUzhB,EAAEghB,SAAUhhB,EAAElD,SAChF,CACA2kB,SAAAA,CAAUC,EAAQ5kB,GACd9H,KAAKyoB,aAAa4B,IAAIrqB,KAAKynB,QAASznB,KAAK2sB,iBAAiBD,EAAQ5kB,GACtE,CACA6kB,gBAAAA,CAAiBD,EAAQ5kB,GACrB,OAAO4kB,CACX,CACAjC,YAAAA,CAAaC,GACT1qB,KAAKosB,UAAU3B,aAAaC,EAChC,CACAJ,KAAAA,GACI,IAAI/b,EACsB,QAAzBA,EAAKvO,KAAKosB,iBAA8B,IAAP7d,GAAyBA,EAAG+b,OAClE,CACAE,IAAAA,GACI,IAAIjc,EACsB,QAAzBA,EAAKvO,KAAKosB,iBAA8B,IAAP7d,GAAyBA,EAAGic,MAClE,CACAxL,MAAAA,CAAO+J,GACH/oB,KAAKosB,UAAUpN,OAAO+J,EAC1B,E,oHCxWA6D,G,SAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIlY,WAAU,SAAUoY,EAASC,GAC/C,SAASC,EAAU3nB,GAAS,IAAM4nB,EAAKJ,EAAU1lB,KAAK9B,GAAS,CAAE,MAAOwF,GAAKkiB,EAAOliB,EAAI,CAAE,CAC1F,SAASqiB,EAAS7nB,GAAS,IAAM4nB,EAAKJ,EAAiB,MAAExnB,GAAS,CAAE,MAAOwF,GAAKkiB,EAAOliB,EAAI,CAAE,CAC7F,SAASoiB,EAAKjgB,GAJlB,IAAe3H,EAIa2H,EAAOmgB,KAAOL,EAAQ9f,EAAO3H,QAJ1CA,EAIyD2H,EAAO3H,MAJhDA,aAAiBunB,EAAIvnB,EAAQ,IAAIunB,GAAE,SAAUE,GAAWA,EAAQznB,EAAQ,KAIjBqL,KAAKsc,EAAWE,EAAW,CAC7GD,GAAMJ,EAAYA,EAAUO,MAAMV,EAASC,GAAc,KAAKxlB,OAClE,GACJ,GASO,MAAMkmB,UAAkBxL,EAAAA,GAC3BliB,WAAAA,CAAYipB,GAAyB,IAAdtiB,EAAON,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC9B,IAAIoI,EAAIC,EAAIif,EAAIC,EAAIC,EAAIC,EAuCxB,IAAIC,EACAC,EACJ,OAxCA7L,QACAjiB,KAAK+tB,yBAA2B/tB,KAAKyiB,UAAU,IAAIhZ,EAAAA,IACnDzJ,KAAKguB,oBAAsBhuB,KAAKyiB,UAAU,IAAIwL,EAAAA,IAE9CjuB,KAAKkuB,gBAAiB,EACtBluB,KAAK0qB,WAAY,EACjB1qB,KAAKmuB,WAAanuB,KAAKyiB,UAAU,IAAI2L,EAAAA,IACrCpuB,KAAKquB,UAAYruB,KAAKmuB,WAAWrlB,MACjC9I,KAAKsuB,aAAetuB,KAAKyiB,UAAU,IAAI2L,EAAAA,GAAQ,CAAEG,uBAAwBA,IAAMvuB,KAAKwuB,mBAAoB,KACxGxuB,KAAKyuB,YAAczuB,KAAKsuB,aAAaxlB,MACrC9I,KAAKwuB,mBAAoB,EACzBxuB,KAAK0uB,UAAY1uB,KAAKyiB,UAAU,IAAI2L,EAAAA,IACpCpuB,KAAK2uB,SAAW3uB,KAAK0uB,UAAU5lB,MAC/B9I,KAAK4uB,WAAa5uB,KAAKyiB,UAAU,IAAI2L,EAAAA,IACrCpuB,KAAK6uB,UAAY7uB,KAAK4uB,WAAW9lB,MACjC9I,KAAKyG,QAAUA,EACfzG,KAAK2nB,SAAsC,QAA1BpZ,EAAK9H,EAAQihB,eAA4B,IAAPnZ,EAAgBA,EAAK,KACxEvO,KAAK8uB,aAAmD,QAAnCtgB,EAAKxO,KAAKyG,QAAQsoB,mBAAgC,IAAPvgB,EAAgBA,EAAK,EACrFxO,KAAKgvB,aAAe,CAChBC,QAAoG,QAA1FvB,EAAyC,QAAnCD,EAAKztB,KAAKyG,QAAQyoB,mBAAgC,IAAPzB,OAAgB,EAASA,EAAGwB,eAA4B,IAAPvB,GAAgBA,EAC5HnJ,KAA8F,QAAvFqJ,EAAyC,QAAnCD,EAAK3tB,KAAKyG,QAAQyoB,mBAAgC,IAAPvB,OAAgB,EAASA,EAAGpJ,YAAyB,IAAPqJ,EAAgBA,EAAK,CAAC,EAAuB,KAEnJ5tB,KAAKyG,QAAQgiB,aACbzoB,KAAK0oB,cAAgB1oB,KAAKyG,QAAQgiB,cAGlCzoB,KAAK0oB,cAAgB,IAAIC,EAAAA,GACzB3oB,KAAK+tB,yBAAyBnlB,IAAI5I,KAAK0oB,gBAE3C1oB,KAAK+tB,yBAAyBnlB,IAAI5I,KAAK0oB,cAAciG,UAAS3jB,GAAKhL,KAAK0uB,UAAUS,KAAKnkB,MACvFhL,KAAK+tB,yBAAyBnlB,IAAI5I,KAAK0oB,cAAcmG,WAAU7jB,GAAKhL,KAAK4uB,WAAWO,KAAKnkB,MACzFhL,KAAKovB,UAAY,GACjBpvB,KAAKqvB,iBAAchpB,EACnBrG,KAAKD,QAAUuI,SAASpC,cAAc,OACtClG,KAAKD,QAAQiE,UAAY,qBACA,IAArByC,EAAQ6oB,UACRtvB,KAAKD,QAAQoE,UAAUyE,IAAI,YAIvB5I,KAAK8uB,cACT,KAAK,EACDjB,EAAe,CAAC,IAChBC,EAAW,CAAC,IACZ,MACJ,KAAK,EACDD,EAAe,CAAC,IAChBC,EAAW,CAAC,IACZ9tB,KAAKD,QAAQiE,WAAa,YAGlChE,KAAKyiB,UAAU5Z,EAAAA,GAA0B7I,KAAKD,QAAS8I,EAAAA,GAAc0mB,UAAUvkB,IAC3E,MAAMlC,EAAQ,IAAIyC,EAAAA,EAAsBP,GACxC,IAAIwkB,GAAe,EACnB,MAAMH,EAA0C,kBAArBrvB,KAAKqvB,YAA2BrvB,KAAKovB,UAAUpvB,KAAKqvB,kBAAehpB,EAC1FwnB,IAAiB/kB,EAAMkE,OAAO6gB,EAAa,KAAO/kB,EAAMkE,OAAO6gB,EAAa,KAC5E2B,EAAexvB,KAAKyvB,gBAEf3B,IAAahlB,EAAMkE,OAAO8gB,EAAS,KAAOhlB,EAAMkE,OAAO8gB,EAAS,KACrE0B,EAAexvB,KAAK0vB,YAEf5mB,EAAMkE,OAAO,IAA2BhN,KAAKwuB,kBAClDxuB,KAAKsuB,aAAaa,OAEbrmB,EAAMkE,OAAO,IAClBwiB,EAAexvB,KAAK2vB,aAEf7mB,EAAMkE,OAAO,IAClBwiB,EAAexvB,KAAK4vB,YAEf9mB,EAAMkE,OAAO,IAAwBqiB,aAAuB9H,EAAAA,IAAsB8H,EAAY1E,qBACnG6E,EAAexvB,KAAK0vB,YAEf1vB,KAAK6vB,kBAAkB/mB,GAExB9I,KAAKgvB,aAAaC,QAClBjvB,KAAK8vB,UAAUhnB,GAGf9I,KAAKkuB,gBAAiB,EAI1BsB,GAAe,EAEfA,IACA1mB,EAAMoC,iBACNpC,EAAMgE,kBACV,KAEJ9M,KAAKyiB,UAAU5Z,EAAAA,GAA0B7I,KAAKD,QAAS8I,EAAAA,GAAcknB,QAAQ/kB,IACzE,MAAMlC,EAAQ,IAAIyC,EAAAA,EAAsBP,GAEpChL,KAAK6vB,kBAAkB/mB,KAClB9I,KAAKgvB,aAAaC,SAAWjvB,KAAKkuB,iBACnCluB,KAAKkuB,gBAAiB,EACtBluB,KAAK8vB,UAAUhnB,IAEnBA,EAAMoC,iBACNpC,EAAMgE,oBAGDhE,EAAMkE,OAAO,IAAwBlE,EAAMkE,OAAO,QACvDhN,KAAKgwB,mBACT,KAEJhwB,KAAKiwB,aAAejwB,KAAKyiB,UAAU5Z,EAAAA,GAAe7I,KAAKD,UACvDC,KAAKyiB,UAAUziB,KAAKiwB,aAAa5B,WAAU,KACnCxlB,EAAAA,OAA2B7I,KAAKD,SAAY8I,EAAAA,GAAeA,EAAAA,KAAwB7I,KAAKD,WACxFC,KAAKmuB,WAAWgB,OAChBnvB,KAAKqvB,iBAAchpB,EACnBrG,KAAKkwB,2BAAwB7pB,EAC7BrG,KAAKkuB,gBAAiB,EAC1B,KAEJluB,KAAKyiB,UAAUziB,KAAKiwB,aAAaE,YAAW,IAAMnwB,KAAKgwB,uBACvDhwB,KAAKowB,YAAc9nB,SAASpC,cAAc,MAC1ClG,KAAKowB,YAAYpsB,UAAY,oBAC7BhE,KAAKowB,YAAY9qB,aAAa,OAAQtF,KAAKyG,QAAQ4pB,UAAY,WAC3DrwB,KAAKyG,QAAQ6pB,WACbtwB,KAAKowB,YAAY9qB,aAAa,aAActF,KAAKyG,QAAQ6pB,WAE7DtwB,KAAKD,QAAQ2F,YAAY1F,KAAKowB,aAC9BrH,EAAUrjB,YAAY1F,KAAKD,QAC/B,CACAwwB,WAAAA,GACQvwB,KAAKoG,UAAY,EACjBpG,KAAKowB,YAAY9qB,aAAa,OAAQtF,KAAKyG,QAAQ4pB,UAAY,WAG/DrwB,KAAKowB,YAAY9qB,aAAa,OAAQ,eAE9C,CAIAmlB,YAAAA,CAAaC,GAET,GADA1qB,KAAK0qB,UAAYA,EACb1qB,KAAK0qB,UAAW,CAChB,MAAM8F,EAAexwB,KAAKovB,UAAUqB,MAAKC,GAAMA,aAAcnJ,EAAAA,IAAsBmJ,EAAG9H,cAClF4H,aAAwBjJ,EAAAA,IACxBiJ,EAAa/F,cAAa,EAElC,MAEIzqB,KAAKovB,UAAUjmB,SAAQunB,IACfA,aAAcnJ,EAAAA,IACdmJ,EAAGjG,cAAa,EACpB,GAGZ,CACAoF,iBAAAA,CAAkB/mB,GACd,IAAI6nB,GAAM,EAIV,OAHA3wB,KAAKgvB,aAAazK,KAAKpb,SAAQ6C,IAC3B2kB,EAAMA,GAAO7nB,EAAMkE,OAAOhB,EAAQ,IAE/B2kB,CACX,CACAX,iBAAAA,GACI,IAAK,IAAIhd,EAAI,EAAGA,EAAIhT,KAAKowB,YAAYrpB,SAASX,OAAQ4M,IAAK,CACvD,MAAM4d,EAAO5wB,KAAKowB,YAAYrpB,SAASiM,GACvC,GAAInK,EAAAA,GAAeA,EAAAA,KAAwB+nB,GAAO,CAC9C5wB,KAAKqvB,YAAcrc,EACnB,KACJ,CACJ,CACJ,CACA,WAAI0U,GACA,OAAO1nB,KAAK2nB,QAChB,CACA,WAAID,CAAQA,GACR1nB,KAAK2nB,SAAWD,EAChB1nB,KAAKovB,UAAUjmB,SAAQ6J,GAAKA,EAAE6V,iBAAiBnB,IACnD,CACA,gBAAIe,GACA,OAAOzoB,KAAK0oB,aAChB,CACA,gBAAID,CAAaA,GACbzoB,KAAK0oB,cAAgBD,EAGrBzoB,KAAK+tB,yBAAyB9jB,QAC9BjK,KAAK+tB,yBAAyBnlB,IAAI5I,KAAK0oB,cAAciG,UAAS3jB,GAAKhL,KAAK0uB,UAAUS,KAAKnkB,MACvFhL,KAAK+tB,yBAAyBnlB,IAAI5I,KAAK0oB,cAAcmG,WAAU7jB,GAAKhL,KAAK4uB,WAAWO,KAAKnkB,MACzFhL,KAAKovB,UAAUjmB,SAAQua,GAAQA,EAAK+E,aAAeA,GACvD,CACAoI,YAAAA,GACI,OAAO7wB,KAAKD,OAChB,CACA+wB,SAAAA,CAAUC,GACN,IAAIxiB,EAEJ,GAA8B,kBAAnBwiB,EACP,OAAiD,QAAzCxiB,EAAKvO,KAAKovB,UAAU2B,UAAoC,IAAPxiB,OAAgB,EAASA,EAAGiZ,OAGzF,GAAIuJ,aAA0BC,YAAa,CACvC,KAAOD,EAAehgB,gBAAkB/Q,KAAKowB,aAAa,CACtD,IAAKW,EAAehgB,cAChB,OAEJggB,EAAiBA,EAAehgB,aACpC,CACA,IAAK,IAAIiC,EAAI,EAAGA,EAAIhT,KAAKowB,YAAY1b,WAAWtO,OAAQ4M,IACpD,GAAIhT,KAAKowB,YAAY1b,WAAW1B,KAAO+d,EACnC,OAAO/wB,KAAKovB,UAAUpc,GAAGwU,MAGrC,CAEJ,CACAzf,IAAAA,CAAKkpB,GAAmB,IAAdxqB,EAAON,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACjB,MAAM+qB,EAAUjoB,MAAMC,QAAQ+nB,GAAOA,EAAM,CAACA,GAC5C,IAAInpB,EAAQqiB,EAAAA,GAAe1jB,EAAQqB,OAASrB,EAAQqB,MAAQ,KAC5DopB,EAAQ/nB,SAASqe,IACb,MAAM2J,EAAwB7oB,SAASpC,cAAc,MAGrD,IAAIwd,EAFJyN,EAAsBntB,UAAY,cAClCmtB,EAAsB7rB,aAAa,OAAQ,gBAE3C,MAAM8rB,EAAkB9jB,OAAOsF,OAAO,CAAEkY,cAAe9qB,KAAKyG,QAAQqkB,eAAiBrkB,GACjFzG,KAAKyG,QAAQ4qB,yBACb3N,EAAO1jB,KAAKyG,QAAQ4qB,uBAAuB7J,EAAQ4J,IAElD1N,IACDA,EAAO,IAAIyH,EAAAA,GAAenrB,KAAK0nB,QAASF,EAAQ4J,IAG/CpxB,KAAKyG,QAAQ6qB,kBACdtxB,KAAKguB,oBAAoBuD,IAAI7N,EAAM7a,EAAAA,GAA0BsoB,EAAuBtoB,EAAAA,GAAc+gB,cAAe5e,IAC7GnC,EAAAA,GAAgB8gB,KAAK3e,GAAG,EAAK,KAGrC0Y,EAAK+E,aAAezoB,KAAK0oB,cACzBhF,EAAKmF,iBAAiB7oB,KAAK0nB,SAC3BhE,EAAK1E,OAAOmS,GACRnxB,KAAK0qB,WAAahH,aAAgB6D,EAAAA,IAAgD,IAA1BvnB,KAAKovB,UAAUhpB,QAEvEsd,EAAK+G,cAAa,GAER,OAAV3iB,GAAkBA,EAAQ,GAAKA,GAAS9H,KAAKowB,YAAYrpB,SAASX,QAClEpG,KAAKowB,YAAY1qB,YAAYyrB,GAC7BnxB,KAAKovB,UAAUrnB,KAAK2b,KAGpB1jB,KAAKowB,YAAYoB,aAAaL,EAAuBnxB,KAAKowB,YAAYrpB,SAASe,IAC/E9H,KAAKovB,UAAUqC,OAAO3pB,EAAO,EAAG4b,GAChC5b,IACJ,IAE4B,kBAArB9H,KAAKqvB,aAEZrvB,KAAKsqB,MAAMtqB,KAAKqvB,aAEpBrvB,KAAKuwB,aACT,CACAtmB,KAAAA,GACQjK,KAAK0xB,YAGT1xB,KAAKovB,WAAYxlB,EAAAA,EAAAA,IAAQ5J,KAAKovB,WAC9BpvB,KAAKguB,oBAAoB2D,qBACzB9oB,EAAAA,GAAc7I,KAAKowB,aACnBpwB,KAAKuwB,cACT,CACAnqB,MAAAA,GACI,OAAOpG,KAAKovB,UAAUhpB,MAC1B,CACAsrB,OAAAA,GACI,OAAiC,IAA1B1xB,KAAKovB,UAAUhpB,MAC1B,CACAkkB,KAAAA,CAAM2G,GACF,IACInpB,EADA8pB,GAAc,EAWlB,QATYvrB,IAAR4qB,EACAW,GAAc,EAEM,kBAARX,EACZnpB,EAAQmpB,EAEY,mBAARA,IACZW,EAAcX,GAEdW,GAA2C,qBAArB5xB,KAAKqvB,YAA6B,CACxD,MAAMmB,EAAexwB,KAAKovB,UAAUyC,WAAUnO,GAAQA,EAAKkF,cAE3D5oB,KAAKqvB,aAAgC,IAAlBmB,OAAsBnqB,EAAYmqB,EACrDxwB,KAAK8xB,iBAAYzrB,OAAWA,GAAW,EAC3C,WAEkBA,IAAVyB,IACA9H,KAAKqvB,YAAcvnB,GAEvB9H,KAAK8xB,iBAAYzrB,OAAWA,GAAW,EAE/C,CACAspB,UAAAA,GAEI,OADA3vB,KAAKqvB,YAAcrvB,KAAKoG,SAAW,EAC5BpG,KAAK0vB,WAAU,EAC1B,CACAE,SAAAA,GAEI,OADA5vB,KAAKqvB,YAAc,EACZrvB,KAAKyvB,eAAc,EAC9B,CACAC,SAAAA,CAAUqC,GACN,GAAgC,qBAArB/xB,KAAKqvB,YACZrvB,KAAKqvB,YAAcrvB,KAAKovB,UAAUhpB,OAAS,OAE1C,GAAIpG,KAAKovB,UAAUhpB,QAAU,EAC9B,OAAO,EAEX,MAAM4rB,EAAahyB,KAAKqvB,YACxB,IAAI3L,EACJ,EAAG,CACC,IAAKqO,GAAa/xB,KAAKyG,QAAQwrB,uBAAyBjyB,KAAKqvB,YAAc,GAAKrvB,KAAKovB,UAAUhpB,OAE3F,OADApG,KAAKqvB,YAAc2C,GACZ,EAEXhyB,KAAKqvB,aAAervB,KAAKqvB,YAAc,GAAKrvB,KAAKovB,UAAUhpB,OAC3Dsd,EAAO1jB,KAAKovB,UAAUpvB,KAAKqvB,YAC/B,OAASrvB,KAAKqvB,cAAgB2C,IAAgBhyB,KAAKyG,QAAQyrB,wBAA0BxO,EAAKkF,aAAgBlF,EAAK8D,OAAOjX,KAAOmb,EAAAA,GAAUC,KAEvI,OADA3rB,KAAK8xB,eACE,CACX,CACArC,aAAAA,CAAcsC,GACV,GAAgC,qBAArB/xB,KAAKqvB,YACZrvB,KAAKqvB,YAAc,OAElB,GAAIrvB,KAAKovB,UAAUhpB,QAAU,EAC9B,OAAO,EAEX,MAAM4rB,EAAahyB,KAAKqvB,YACxB,IAAI3L,EACJ,EAAG,CAEC,GADA1jB,KAAKqvB,YAAcrvB,KAAKqvB,YAAc,EAClCrvB,KAAKqvB,YAAc,EAAG,CACtB,IAAK0C,GAAa/xB,KAAKyG,QAAQwrB,sBAE3B,OADAjyB,KAAKqvB,YAAc2C,GACZ,EAEXhyB,KAAKqvB,YAAcrvB,KAAKovB,UAAUhpB,OAAS,CAC/C,CACAsd,EAAO1jB,KAAKovB,UAAUpvB,KAAKqvB,YAC/B,OAASrvB,KAAKqvB,cAAgB2C,IAAgBhyB,KAAKyG,QAAQyrB,wBAA0BxO,EAAKkF,aAAgBlF,EAAK8D,OAAOjX,KAAOmb,EAAAA,GAAUC,KAEvI,OADA3rB,KAAK8xB,aAAY,IACV,CACX,CACAA,WAAAA,CAAYK,EAAWC,GAAmC,IAApBC,EAAUlsB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC5C,IAAIoI,EAC4B,qBAArBvO,KAAKqvB,aACZrvB,KAAKowB,YAAY9F,MAAM,CAAE8H,uBAEM/rB,IAA/BrG,KAAKkwB,uBAAuClwB,KAAKkwB,wBAA0BlwB,KAAKqvB,cAC1B,QAArD9gB,EAAKvO,KAAKovB,UAAUpvB,KAAKkwB,8BAA2C,IAAP3hB,GAAyBA,EAAGic,QAE9F,MAAM8H,OAAsCjsB,IAArBrG,KAAKqvB,aAA6BrvB,KAAKovB,UAAUpvB,KAAKqvB,aAC7E,GAAIiD,EAAgB,CAChB,IAAIC,GAAY,EACXpI,EAAAA,GAAiBmI,EAAehI,SACjCiI,GAAY,GAEZvyB,KAAKyG,QAAQyrB,uBAAyB/H,EAAAA,GAAiBmI,EAAe1J,aAAe0J,EAAe1J,cACpG2J,GAAY,GAEZD,EAAe9K,OAAOjX,KAAOmb,EAAAA,GAAUC,KACvC4G,GAAY,GAEXA,GAIIF,GAAcryB,KAAKkwB,wBAA0BlwB,KAAKqvB,eACvDiD,EAAehI,MAAM6H,GACrBnyB,KAAKkwB,sBAAwBlwB,KAAKqvB,cALlCrvB,KAAKowB,YAAY9F,MAAM,CAAE8H,kBACzBpyB,KAAKkwB,2BAAwB7pB,EAMrC,CACJ,CACAypB,SAAAA,CAAUhnB,GACN,GAAgC,qBAArB9I,KAAKqvB,YACZ,OAGJ,MAAMiD,EAAiBtyB,KAAKovB,UAAUpvB,KAAKqvB,aAC3C,GAAIiD,aAA0B/K,EAAAA,GAAoB,CAC9C,MAAMG,EAAuC,OAA5B4K,EAAe3K,eAAiDthB,IAA5BisB,EAAe3K,SAA0B7e,EAAQwpB,EAAe3K,SACrH3nB,KAAKqqB,IAAIiI,EAAe7K,QAASC,EACrC,CACJ,CACA2C,GAAAA,CAAI7C,EAAQE,GACR,OAAOkF,EAAU5sB,UAAM,OAAQ,GAAQ,kBAC7BA,KAAK0oB,cAAc2B,IAAI7C,EAAQE,EACzC,GACJ,CACA9d,OAAAA,GACI5J,KAAK2nB,cAAWthB,EAChBrG,KAAKovB,WAAYxlB,EAAAA,EAAAA,IAAQ5J,KAAKovB,WAC9BpvB,KAAK6wB,eAAe1N,SACpBlB,MAAMrY,SACV,E,gFC9ZJ,MAAM4oB,EAAqB,IAC3B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACG,SAASC,EAAiBhY,GAC7B2X,EAAgBnqB,SAASpC,cAAc,OACvCusB,EAAczuB,UAAY,wBAC1B,MAAM+uB,EAAuBA,KACzB,MAAM9sB,EAAUqC,SAASpC,cAAc,OAKvC,OAJAD,EAAQjC,UAAY,eACpBiC,EAAQX,aAAa,OAAQ,SAC7BW,EAAQX,aAAa,cAAe,QACpCmtB,EAAc/sB,YAAYO,GACnBA,CAAO,EAElBysB,EAAiBK,IACjBJ,EAAkBI,IAClB,MAAMC,EAAwBA,KAC1B,MAAM/sB,EAAUqC,SAASpC,cAAc,OAMvC,OALAD,EAAQjC,UAAY,gBACpBiC,EAAQX,aAAa,OAAQ,iBAC7BW,EAAQX,aAAa,YAAa,UAClCW,EAAQX,aAAa,cAAe,QACpCmtB,EAAc/sB,YAAYO,GACnBA,CAAO,EAElB2sB,EAAkBI,IAClBH,EAAmBG,IACnBlY,EAAOpV,YAAY+sB,EACvB,CAIO,SAASQ,EAAMC,GACbT,IAIDC,EAAepsB,cAAgB4sB,GAC/BpoB,EAAAA,GAAc6nB,GACdQ,EAAcT,EAAgBQ,KAG9BpoB,EAAAA,GAAc4nB,GACdS,EAAcR,EAAiBO,IAEvC,CAIO,SAASE,EAAOF,GACdT,IAGDY,EAAAA,GACAJ,EAAMC,GAGFN,EAAgBtsB,cAAgB4sB,GAChCpoB,EAAAA,GAAc+nB,GACdM,EAAcP,EAAiBM,KAG/BpoB,EAAAA,GAAc8nB,GACdO,EAAcN,EAAkBK,IAG5C,CACA,SAASC,EAAc1nB,EAAQynB,GAC3BpoB,EAAAA,GAAcW,GACVynB,EAAI9sB,OAASosB,IACbU,EAAMA,EAAI3gB,OAAO,EAAGigB,IAExB/mB,EAAOnF,YAAc4sB,EAErBznB,EAAO3J,MAAM4C,WAAa,SAC1B+G,EAAO3J,MAAM4C,WAAa,SAC9B,C,qJCzEqB4uB,EAAAA,GAAMC,MAAM1jB,WACXyjB,EAAAA,GAAMC,MAAM1jB,WAM3B,MAAM2jB,UAAexR,EAAAA,GACxB,cAAIyR,GAAe,OAAOzzB,KAAK0zB,YAAY5qB,KAAO,CAClDhJ,WAAAA,CAAYipB,EAAWtiB,GACnBwb,QACAjiB,KAAK2zB,OAAS,GACd3zB,KAAK0zB,YAAc1zB,KAAKyiB,UAAU,IAAI2L,EAAAA,IACtCpuB,KAAKyG,QAAUA,EACfzG,KAAK4zB,SAAWtrB,SAASpC,cAAc,KACvClG,KAAK4zB,SAASzvB,UAAUyE,IAAI,iBAC5B5I,KAAK4zB,SAASrJ,SAAW,EACzBvqB,KAAK4zB,SAAStuB,aAAa,OAAQ,UACnC,MAAMuuB,EAAaptB,EAAQqtB,UAAYrtB,EAAQstB,0BAA4BttB,EAAQutB,iBAC7EC,EAAaxtB,EAAQqtB,UAAYrtB,EAAQytB,0BAA4BztB,EAAQ0tB,iBACnFn0B,KAAK4zB,SAAS9xB,MAAM8C,MAAQqvB,GAAc,GAC1Cj0B,KAAK4zB,SAAS9xB,MAAMgD,gBAAkB+uB,GAAc,GAChDptB,EAAQ2tB,oBACRp0B,KAAKq0B,mBAAqB/rB,SAASpC,cAAc,OACjDlG,KAAKq0B,mBAAmBlwB,UAAUyE,IAAI,6BACtC5I,KAAK4zB,SAASluB,YAAY1F,KAAKq0B,oBAC/Br0B,KAAKs0B,cAAgBhsB,SAASpC,cAAc,OAC5ClG,KAAKs0B,cAAcnwB,UAAUyE,IAAI,uBACjC5I,KAAK4zB,SAASluB,YAAY1F,KAAKs0B,eAC/Bt0B,KAAK4zB,SAASzvB,UAAUyE,IAAI,wCAEhCmgB,EAAUrjB,YAAY1F,KAAK4zB,UAC3B5zB,KAAKyiB,UAAUV,EAAAA,EAAQgB,UAAU/iB,KAAK4zB,WACtC,CAAC7S,EAAAA,GAAU8I,MAAOL,EAAAA,EAAe9H,KAAKvY,SAAQorB,IAC1Cv0B,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBlpB,KAAK4zB,SAAUW,GAAWvpB,IACtDhL,KAAK+nB,QAIV/nB,KAAK0zB,YAAYvE,KAAKnkB,GAHlB0e,EAAAA,GAAYC,KAAK3e,EAGG,IACzB,IAEPhL,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBlpB,KAAK4zB,SAAU7S,EAAAA,GAAUwO,UAAUvkB,IACpE,MAAMlC,EAAQ,IAAIyC,EAAAA,EAAsBP,GACxC,IAAIwkB,GAAe,EACfxvB,KAAK+nB,UAAYjf,EAAMkE,OAAO,IAA0BlE,EAAMkE,OAAO,MACrEhN,KAAK0zB,YAAYvE,KAAKnkB,GACtBwkB,GAAe,GAEV1mB,EAAMkE,OAAO,KAClBhN,KAAK4zB,SAASpJ,OACdgF,GAAe,GAEfA,GACA9F,EAAAA,GAAYC,KAAK7gB,GAAO,EAC5B,KAEJ9I,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBlpB,KAAK4zB,SAAU7S,EAAAA,GAAUyT,YAAYxpB,IACjEhL,KAAK4zB,SAASzvB,UAAUohB,SAAS,aAClCvlB,KAAKy0B,kBAAiB,EAC1B,KAEJz0B,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBlpB,KAAK4zB,SAAU7S,EAAAA,GAAUkJ,WAAWjf,IACrEhL,KAAKy0B,kBAAiB,EAAM,KAGhCz0B,KAAKiwB,aAAejwB,KAAKyiB,WAAUiS,EAAAA,EAAAA,IAAW10B,KAAK4zB,WACnD5zB,KAAKyiB,UAAUziB,KAAKiwB,aAAaE,YAAW,KAAYnwB,KAAK+nB,SACzD/nB,KAAKy0B,kBAAiB,EAC1B,KACAz0B,KAAKyiB,UAAUziB,KAAKiwB,aAAa5B,WAAU,KAAYruB,KAAK+nB,SACxD/nB,KAAKy0B,kBAAiB,EAC1B,IACJ,CACAE,kBAAAA,CAAmBhuB,GACf,MAAMiuB,EAAW,GACjB,IAAK,IAAIC,KAAWjhB,EAAAA,EAAAA,GAAqBjN,GACrC,GAAyB,kBAAbkuB,EAAuB,CAG/B,GAFAA,EAAUA,EAAQza,OAEF,KAAZya,EACA,SAGJ,MAAMC,EAAOxsB,SAASpC,cAAc,QACpC4uB,EAAKxuB,YAAcuuB,EACnBD,EAAS7sB,KAAK+sB,EAClB,MAEIF,EAAS7sB,KAAK8sB,GAGtB,OAAOD,CACX,CACAH,gBAAAA,CAAiBM,GACb,IAAIlB,EAEAA,EADA7zB,KAAKyG,QAAQqtB,UACAiB,EAAQ/0B,KAAKyG,QAAQuuB,+BAAiCh1B,KAAKyG,QAAQstB,0BAGnEgB,EAAQ/0B,KAAKyG,QAAQwuB,sBAAwBj1B,KAAKyG,QAAQutB,iBAEvEH,IACA7zB,KAAK4zB,SAAS9xB,MAAMgD,gBAAkB+uB,EAE9C,CACA,WAAI5tB,GACA,OAAOjG,KAAK4zB,QAChB,CACA,SAAIvL,CAAM7iB,GACN,IAAI+I,EACJ,GAAIvO,KAAK2zB,SAAWnuB,EAChB,OAEJ,IAAI0vB,EAAAA,EAAAA,IAAiBl1B,KAAK2zB,UAAWuB,EAAAA,EAAAA,IAAiB1vB,KAAU2vB,EAAAA,EAAAA,IAAoBn1B,KAAK2zB,OAAQnuB,GAC7F,OAEJxF,KAAK4zB,SAASzvB,UAAUyE,IAAI,sBAC5B,MAAMwsB,EAAep1B,KAAKyG,QAAQ2tB,kBAAoBp0B,KAAKs0B,cAAgBt0B,KAAK4zB,SAChF,IAAIsB,EAAAA,EAAAA,IAAiB1vB,GAAQ,CACzB,MAAM6vB,GAAWjnB,EAAAA,EAAAA,IAAe5I,EAAO,CAAE6C,QAAQ,IACjDgtB,EAASzrB,UAET,MAAM/C,EAAsD,QAA9C0H,EAAK8mB,EAASpvB,QAAQqvB,cAAc,YAAyB,IAAP/mB,OAAgB,EAASA,EAAGqG,UAChG,GAAI/N,EAAM,CAEN,MAAM0uB,GAAYnjB,EAAAA,EAAAA,IAASvL,EAAM,CAAE2uB,SAAU,CAAC,IAAK,IAAK,IAAK,OAAQ,QAAS7e,aAAc,CAAC,SAAUS,qBAAqB,IAC5Hge,EAAaxgB,UAAY2gB,CAC7B,MAEIE,EAAAA,EAAAA,IAAML,EAEd,MAEQp1B,KAAKyG,QAAQivB,cACbD,EAAAA,EAAAA,IAAML,KAAiBp1B,KAAK20B,mBAAmBnvB,IAG/C4vB,EAAa9uB,YAAcd,EAGD,kBAAvBxF,KAAKyG,QAAQiH,MACpB1N,KAAK4zB,SAASlmB,MAAQ1N,KAAKyG,QAAQiH,MAE9B1N,KAAKyG,QAAQiH,QAClB1N,KAAK4zB,SAASlmB,OAAQ2J,EAAAA,EAAAA,IAAwB7R,IAElDxF,KAAK2zB,OAASnuB,CAClB,CACA,SAAI6iB,GACA,OAAOroB,KAAK2zB,MAChB,CACA,WAAI5L,CAAQviB,GACJA,GACAxF,KAAK4zB,SAASzvB,UAAUgf,OAAO,YAC/BnjB,KAAK4zB,SAAStuB,aAAa,gBAAiB0D,QAAO,IACnDhJ,KAAK4zB,SAASrJ,SAAW,IAGzBvqB,KAAK4zB,SAASzvB,UAAUyE,IAAI,YAC5B5I,KAAK4zB,SAAStuB,aAAa,gBAAiB0D,QAAO,IAE3D,CACA,WAAI+e,GACA,OAAQ/nB,KAAK4zB,SAASzvB,UAAUohB,SAAS,WAC7C,E,6DCzKOoQ,E,uDAUJ,SAASC,EAAOC,EAAcC,EAAUC,GAC3C,MAAMC,EAA4BD,EAAOE,OAASN,EAAiBO,MAAQH,EAAOI,OAASJ,EAAOI,OAASJ,EAAOK,KAC5GC,EAA6BN,EAAOE,OAASN,EAAiBO,MAAQH,EAAOI,OAASJ,EAAOK,KAAOL,EAAOI,OACjH,OAAwB,IAApBJ,EAAOvxB,SACHsxB,GAAYD,EAAeG,EACpBA,EAEPF,GAAYO,EACLA,EAA6BP,EAEjC5V,KAAK1B,IAAIqX,EAAeC,EAAU,GAGrCA,GAAYO,EACLA,EAA6BP,EAEpCA,GAAYD,EAAeG,EACpBA,EAEJ,CAEf,EA9BA,SAAWL,GACPA,EAAiBA,EAAwB,MAAI,GAAK,QAClDA,EAAiBA,EAAwB,MAAI,GAAK,OACrD,CAHD,CAGGA,IAAqBA,EAAmB,CAAC,IA4BrC,MAAMW,UAAoBtU,EAAAA,GAC7BliB,WAAAA,CAAYipB,EAAWwN,GACnBtU,QACAjiB,KAAK+oB,UAAY,KACjB/oB,KAAKw2B,SAAW,KAChBx2B,KAAKy2B,iBAAmBzU,EAAAA,GAAWiB,KACnCjjB,KAAK02B,wBAA0B1U,EAAAA,GAAWiB,KAC1CjjB,KAAK22B,WAAa,KAClB32B,KAAK42B,sBAAwB,KAC7B52B,KAAK+c,KAAOlU,EAAAA,EAAM,iBAClB7I,KAAK62B,kBAAmB,EACxB72B,KAAK82B,cAAe,EACpBjuB,EAAAA,GAAS7I,KAAK+c,MACd/c,KAAK+2B,aAAahO,EAAWwN,GAC7Bv2B,KAAKyiB,WAAU/X,EAAAA,EAAAA,KAAa,IAAM1K,KAAK+2B,aAAa,KAAM,KAC9D,CACAA,YAAAA,CAAahO,EAAWwN,GACpB,IAAIhoB,EAcJ,GAbIvO,KAAK+oB,YACL/oB,KAAK02B,wBAAwB9sB,UACzB5J,KAAK22B,YACL32B,KAAK22B,WAAW/wB,YAAY5F,KAAK+c,MACjC/c,KAAK22B,WAAa,KACoB,QAArCpoB,EAAKvO,KAAK42B,6BAA0C,IAAProB,GAAyBA,EAAG4U,SAC1EnjB,KAAK42B,sBAAwB,MAG7B52B,KAAK+oB,UAAUnjB,YAAY5F,KAAK+c,MAEpC/c,KAAK+oB,UAAY,MAEjBA,EAAW,CAIX,GAHA/oB,KAAK+oB,UAAYA,EACjB/oB,KAAK62B,iBAAmC,IAAhBN,EACxBv2B,KAAK82B,aAA+B,IAAhBP,EAChBv2B,KAAK82B,aAAc,CACnB92B,KAAK42B,sBAAwB/tB,EAAAA,EAAM,qBACnC7I,KAAK+oB,UAAUrjB,YAAY1F,KAAK42B,uBAChC52B,KAAK22B,WAAa32B,KAAK42B,sBAAsBI,aAAa,CAAEf,KAAM,SAClE,MAAMn0B,EAAQwG,SAASpC,cAAc,SACrCpE,EAAMwE,YAAc2wB,EACpBj3B,KAAK22B,WAAWjxB,YAAY5D,GAC5B9B,KAAK22B,WAAWjxB,YAAY1F,KAAK+c,MACjC/c,KAAK22B,WAAWjxB,YAAYmD,EAAAA,EAAM,QACtC,MAEI7I,KAAK+oB,UAAUrjB,YAAY1F,KAAK+c,MAEpC,MAAM2Z,EAA0B,IAAIjtB,EAAAA,GACpC6sB,EAAYY,iBAAiB/tB,SAAQL,IACjC4tB,EAAwB9tB,IAAIC,EAAAA,GAAkC7I,KAAK+oB,UAAWjgB,GAAQkC,IAClFhL,KAAKm3B,WAAWnsB,GAAG,EAAM,IAC1B,IAEPsrB,EAAYc,mBAAmBjuB,SAAQL,IACnC4tB,EAAwB9tB,IAAIC,EAAAA,GAAkC7I,KAAK+oB,UAAWjgB,GAAQkC,IAClFhL,KAAKm3B,WAAWnsB,GAAG,EAAK,IACzB,GAAM,IAEbhL,KAAK02B,wBAA0BA,CACnC,CACJ,CACAW,IAAAA,CAAKb,GACD,IAAIjoB,EAAIC,EACJxO,KAAKs3B,aACLt3B,KAAKu3B,OAGT1uB,EAAAA,GAAc7I,KAAK+c,MACnB/c,KAAK+c,KAAK/Y,UAAY,eACtBhE,KAAK+c,KAAKjb,MAAMM,IAAM,MACtBpC,KAAK+c,KAAKjb,MAAMQ,KAAO,MACvBtC,KAAK+c,KAAKjb,MAAM01B,OAAS,OACzBx3B,KAAK+c,KAAKjb,MAAM0C,SAAWxE,KAAK62B,iBAAmB,QAAU,WAC7DhuB,EAAAA,GAAS7I,KAAK+c,MAEd/c,KAAKy2B,iBAAmBD,EAASxX,OAAOhf,KAAK+c,OAASiF,EAAAA,GAAWiB,KAEjEjjB,KAAKw2B,SAAWA,EAEhBx2B,KAAKy3B,WAEiC,QAArCjpB,GAAMD,EAAKvO,KAAKw2B,UAAUlM,aAA0B,IAAP9b,GAAyBA,EAAG+G,KAAKhH,EACnF,CACAmpB,cAAAA,GACI,OAAO13B,KAAK+c,IAChB,CACA6Y,MAAAA,GACS51B,KAAKs3B,eAGwB,IAA9Bt3B,KAAKw2B,SAASmB,aAA2BtsB,EAAAA,IAAkBusB,EAAAA,EAAgBC,eAI3E73B,KAAKw2B,SAASZ,QACd51B,KAAKw2B,SAASZ,SAElB51B,KAAKy3B,YANDz3B,KAAKu3B,OAOb,CACAE,QAAAA,GAEI,IAAKz3B,KAAKs3B,YACN,OAGJ,MAAMvB,EAAS/1B,KAAKw2B,SAASsB,YAE7B,IAAIC,EAEJ,GAAIlvB,EAAAA,GAAkBktB,GAAS,CAC3B,MAAMiC,EAAkBnvB,EAAAA,EAA2BktB,GAI7CkC,EAAOpvB,EAAAA,GAAwBktB,GACrCgC,EAAS,CACL31B,IAAK41B,EAAgB51B,IAAM61B,EAC3B31B,KAAM01B,EAAgB11B,KAAO21B,EAC7Bj2B,MAAOg2B,EAAgBh2B,MAAQi2B,EAC/B/1B,OAAQ81B,EAAgB91B,OAAS+1B,EAEzC,MAEIF,EAAS,CACL31B,IAAK2zB,EAAOzP,EACZhkB,KAAMyzB,EAAO5P,EACbnkB,MAAO+zB,EAAO/zB,OAAS,EACvBE,OAAQ6zB,EAAO7zB,QAAU,GAGjC,MAAMg2B,EAAgBrvB,EAAAA,EAAkB7I,KAAK+c,MACvCob,EAAiBtvB,EAAAA,GAAmB7I,KAAK+c,MACzCqb,EAAiBp4B,KAAKw2B,SAAS4B,gBAAkB,EACjDC,EAAkBr4B,KAAKw2B,SAAS6B,iBAAmB,EAEzD,IAAIj2B,EACAE,EACJ,GAA4B,KAHAtC,KAAKw2B,SAAS8B,qBAAuB,GAGC,CAC9D,MAAMC,EAAiB,CAAEpC,OAAQ4B,EAAO31B,IAAMyI,OAAO2tB,YAAapC,KAAM2B,EAAO71B,OAAQsC,SAA6B,IAAnB4zB,EAAkD,EAAsC,GACnLK,EAAmB,CAAEtC,OAAQ4B,EAAOz1B,KAAM8zB,KAAM2B,EAAO/1B,MAAOwC,SAA8B,IAApB6zB,EAAmD,EAAsC,EAAoCpC,KAAMN,EAAiBO,OAClO9zB,EAAMwzB,EAAO/qB,OAAO6tB,YAAaP,EAAgBI,GAAkB1tB,OAAO2tB,YAEtEG,EAAAA,EAAMC,WAAW,CAAEC,MAAOz2B,EAAK02B,IAAK12B,EAAM+1B,GAAkB,CAAEU,MAAON,EAAepC,OAAQ2C,IAAKP,EAAepC,OAASoC,EAAenC,SACxIqC,EAAiBxC,KAAON,EAAiBoD,OAE7Cz2B,EAAOszB,EAAO/qB,OAAOmuB,WAAYd,EAAeO,EACpD,KACK,CACD,MAAMA,EAAmB,CAAEtC,OAAQ4B,EAAOz1B,KAAM8zB,KAAM2B,EAAO/1B,MAAOwC,SAA8B,IAApB6zB,EAAmD,EAAsC,GACjKE,EAAiB,CAAEpC,OAAQ4B,EAAO31B,IAAKg0B,KAAM2B,EAAO71B,OAAQsC,SAA6B,IAAnB4zB,EAAkD,EAAsC,EAAoCnC,KAAMN,EAAiBO,OAC/N5zB,EAAOszB,EAAO/qB,OAAOmuB,WAAYd,EAAeO,GAE5CE,EAAAA,EAAMC,WAAW,CAAEC,MAAOv2B,EAAMw2B,IAAKx2B,EAAO41B,GAAiB,CAAEW,MAAOJ,EAAiBtC,OAAQ2C,IAAKL,EAAiBtC,OAASsC,EAAiBrC,SAC/ImC,EAAetC,KAAON,EAAiBoD,OAE3C32B,EAAMwzB,EAAO/qB,OAAO6tB,YAAaP,EAAgBI,GAAkB1tB,OAAO2tB,WAC9E,CACAx4B,KAAK+c,KAAK5Y,UAAUgf,OAAO,MAAO,SAAU,OAAQ,SACpDnjB,KAAK+c,KAAK5Y,UAAUyE,IAAuB,IAAnBwvB,EAAkD,SAAW,OACrFp4B,KAAK+c,KAAK5Y,UAAUyE,IAAwB,IAApByvB,EAAmD,OAAS,SACpFr4B,KAAK+c,KAAK5Y,UAAUC,OAAO,QAASpE,KAAK62B,kBACzC,MAAMoC,EAAoBpwB,EAAAA,EAA2B7I,KAAK+oB,WAC1D/oB,KAAK+c,KAAKjb,MAAMM,IAAM,GAAHyD,OAAMzD,GAAOpC,KAAK62B,iBAAmBhuB,EAAAA,EAA2B7I,KAAK+c,MAAM3a,IAAM62B,EAAkB72B,KAAI,MAC1HpC,KAAK+c,KAAKjb,MAAMQ,KAAO,GAAHuD,OAAMvD,GAAQtC,KAAK62B,iBAAmBhuB,EAAAA,EAA2B7I,KAAK+c,MAAMza,KAAO22B,EAAkB32B,MAAK,MAC9HtC,KAAK+c,KAAKjb,MAAME,MAAQ,SAC5B,CACAu1B,IAAAA,CAAK3oB,GACD,MAAM4nB,EAAWx2B,KAAKw2B,SACtBx2B,KAAKw2B,SAAW,MACC,OAAbA,QAAkC,IAAbA,OAAsB,EAASA,EAAS0C,SAC7D1C,EAAS0C,OAAOtqB,GAEpB5O,KAAKy2B,iBAAiB7sB,UACtBf,EAAAA,GAAS7I,KAAK+c,KAClB,CACAua,SAAAA,GACI,QAASt3B,KAAKw2B,QAClB,CACAW,UAAAA,CAAWnsB,EAAGmuB,GACNn5B,KAAKw2B,WACDx2B,KAAKw2B,SAASW,WACdn3B,KAAKw2B,SAASW,WAAWnsB,EAAG1C,SAAS8wB,eAEhCD,IAActwB,EAAAA,GAAemC,EAAES,OAAQzL,KAAK+oB,YACjD/oB,KAAKu3B,OAGjB,CACA3tB,OAAAA,GACI5J,KAAKu3B,OACLtV,MAAMrY,SACV,EAEJ0sB,EAAYY,iBAAmB,CAAC,QAAS,UAAW,QAAS,QAC7DZ,EAAYc,mBAAqB,CAAC,SAClC,MAAMH,EAA2B,6/E,6DCvO1B,MAAMoC,EACTv5B,WAAAA,CAAYipB,EAAWtiB,EAASylB,GAC5BlsB,KAAKyG,QAAUA,EACfzG,KAAKksB,OAASA,EACdlsB,KAAKs5B,MAAQ,EACbt5B,KAAKiG,SAAUqlB,EAAAA,EAAAA,IAAOvC,GAAWwC,EAAAA,EAAAA,GAAE,wBACnCvrB,KAAKu5B,YAAcv5B,KAAKyG,QAAQ8yB,aAAe,MAC/Cv5B,KAAKw5B,YAAcx5B,KAAKyG,QAAQ+yB,aAAe,GAC/Cx5B,KAAKy5B,SAASz5B,KAAKyG,QAAQ6yB,OAAS,EACxC,CACAG,QAAAA,CAASH,GACLt5B,KAAKs5B,MAAQA,EACbt5B,KAAKgf,QACT,CACA0a,cAAAA,CAAeF,GACXx5B,KAAKw5B,YAAcA,EACnBx5B,KAAKgf,QACT,CACAA,MAAAA,GACI,IAAIzQ,EAAIC,EACRxO,KAAKiG,QAAQK,aAAcqzB,EAAAA,EAAAA,IAAO35B,KAAKu5B,YAAav5B,KAAKs5B,OACzDt5B,KAAKiG,QAAQyH,OAAQisB,EAAAA,EAAAA,IAAO35B,KAAKw5B,YAAax5B,KAAKs5B,OACnDt5B,KAAKiG,QAAQnE,MAAMgD,gBAAyD,QAAtCyJ,EAAKvO,KAAKksB,OAAO0N,uBAAoC,IAAPrrB,EAAgBA,EAAK,GACzGvO,KAAKiG,QAAQnE,MAAM8C,MAA+C,QAAtC4J,EAAKxO,KAAKksB,OAAO2N,uBAAoC,IAAPrrB,EAAgBA,EAAK,GAC3FxO,KAAKksB,OAAO4N,cACZ95B,KAAKiG,QAAQnE,MAAMi4B,OAAS,aAAHl0B,OAAgB7F,KAAKksB,OAAO4N,aAE7D,E,yGCxBJ,MAAME,UAAqBrR,EAAAA,GACvB7oB,WAAAA,CAAYipB,EAAWtiB,GACnBwb,QACAjiB,KAAKi6B,uBAAyBj6B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACjDpuB,KAAKk6B,sBAAwBl6B,KAAKi6B,uBAAuBnxB,MACzD9I,KAAK4zB,UAAWtI,EAAAA,EAAAA,IAAOvC,GAAWwC,EAAAA,EAAAA,GAAE,qBACpCvrB,KAAK2zB,QAASrI,EAAAA,EAAAA,IAAOtrB,KAAK4zB,UAAUrI,EAAAA,EAAAA,GAAE,oBACtC,IAAI4O,EAAgB1zB,EAAQ0zB,cACvBA,IACDA,EAAiBpR,IACbA,EAAUziB,YAAcG,EAAQ4hB,OAAS,GAClC,OAGf,IAAK,MAAMvf,IAAS,CAACiY,EAAAA,GAAU8I,MAAO9I,EAAAA,GAAU0I,WAAY2Q,EAAAA,EAAiB1Y,KACzE1hB,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBlpB,KAAKiG,QAAS6C,GAAOkC,GAAK0e,EAAAA,GAAYC,KAAK3e,GAAG,MAEvF,IAAK,MAAMlC,IAAS,CAACiY,EAAAA,GAAU0I,WAAY2Q,EAAAA,EAAiB1Y,KACxD1hB,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBlpB,KAAK2zB,OAAQ7qB,GAAOkC,IACjDA,aAAaqvB,aAAervB,EAAEoR,OAAS,GAAkB,IAAbpR,EAAEkR,UAK9Clc,KAAKs6B,QACLt6B,KAAKu3B,OAGLv3B,KAAKq3B,OACT,KAGRr3B,KAAKyiB,WAAUyG,EAAAA,EAAAA,IAAsBlpB,KAAK2zB,OAAQ5S,EAAAA,GAAUgP,QAAQ/kB,IAChE,MAAMlC,EAAQ,IAAIyC,EAAAA,EAAsBP,IACpClC,EAAMkE,OAAO,IAA0BlE,EAAMkE,OAAO,OACpD0c,EAAAA,GAAYC,KAAK3e,GAAG,GAChBhL,KAAKs6B,QACLt6B,KAAKu3B,OAGLv3B,KAAKq3B,OAEb,KAEJ,MAAMkD,EAAYJ,EAAcn6B,KAAK2zB,QACjC4G,GACAv6B,KAAKyiB,UAAU8X,GAEnBv6B,KAAKyiB,UAAUV,EAAAA,EAAQgB,UAAU/iB,KAAK2zB,QAC1C,CACA,WAAI1tB,GACA,OAAOjG,KAAK4zB,QAChB,CACAyD,IAAAA,GACSr3B,KAAKs6B,UACNt6B,KAAKs6B,SAAU,EACft6B,KAAKi6B,uBAAuB9K,MAAK,GAEzC,CACAoI,IAAAA,GACQv3B,KAAKs6B,UACLt6B,KAAKs6B,SAAU,EACft6B,KAAKi6B,uBAAuB9K,MAAK,GAEzC,CACAvlB,OAAAA,GACIqY,MAAMrY,UACN5J,KAAKu3B,OACDv3B,KAAKw6B,eACLx6B,KAAKw6B,aAAarX,SAClBnjB,KAAKw6B,kBAAen0B,GAEpBrG,KAAKy6B,WACLz6B,KAAKy6B,SAAStX,SACdnjB,KAAKy6B,cAAWp0B,GAEhBrG,KAAK2zB,SACL3zB,KAAK2zB,OAAOxQ,SACZnjB,KAAK2zB,YAASttB,EAEtB,EAEG,MAAMq0B,UAAqBV,EAC9Bl6B,WAAAA,CAAYipB,EAAWtiB,GACnBwb,MAAM8G,EAAWtiB,GACjBzG,KAAK26B,SAAW,GAChB36B,KAAK46B,qBAAuBn0B,EAAQo0B,oBACpC76B,KAAKkxB,QAAUzqB,EAAQyqB,SAAW,GAClClxB,KAAK86B,eAAiBr0B,EAAQq0B,eAC9B96B,KAAK+6B,cAAgBt0B,EAAQs0B,eAAiB,GAC9C/6B,KAAKg7B,cAAgBv0B,EAAQu0B,WACjC,CACA,eAAIC,CAAYx0B,GACZzG,KAAKk7B,aAAez0B,CACxB,CACA,eAAIw0B,GACA,OAAOj7B,KAAKk7B,YAChB,CACA,WAAIhK,GACA,OAAIlxB,KAAK86B,eACE96B,KAAK86B,eAAeK,aAExBn7B,KAAK26B,QAChB,CACA,WAAIzJ,CAAQA,GACRlxB,KAAK26B,SAAWzJ,CACpB,CACAmG,IAAAA,GACIpV,MAAMoV,OACNr3B,KAAKiG,QAAQ9B,UAAUyE,IAAI,UAC3B5I,KAAK46B,qBAAqBQ,gBAAgB,CACtCtD,UAAWA,IAAM93B,KAAKiG,QACtBk1B,WAAYA,IAAMn7B,KAAKkxB,QACvBmK,kBAAmBA,IAAMr7B,KAAKi7B,YAAcj7B,KAAKi7B,YAAYvT,QAAU,KACvE4T,kBAAmBA,CAAC9T,EAAQ/gB,IAAYzG,KAAKi7B,aAAej7B,KAAKi7B,YAAY5J,uBAAyBrxB,KAAKi7B,YAAY5J,uBAAuB7J,EAAQ/gB,QAAWJ,EACjKk1B,cAAe/T,GAAUxnB,KAAKi7B,aAAej7B,KAAKi7B,YAAYM,cAAgBv7B,KAAKi7B,YAAYM,cAAc/T,QAAUnhB,EACvHm1B,iBAAkBA,IAAMx7B,KAAK+6B,cAC7B7B,OAAQA,IAAMl5B,KAAKk5B,SACnBzQ,aAAczoB,KAAKi7B,YAAcj7B,KAAKi7B,YAAYxS,kBAAepiB,EACjEgyB,gBAAiBr4B,KAAKi7B,YAAcj7B,KAAKi7B,YAAY5C,gBAAkB,EACvEoD,iBAAkBz7B,KAAKg7B,YAAch7B,KAAKiG,aAAUI,GAE5D,CACAkxB,IAAAA,GACItV,MAAMsV,MACV,CACA2B,MAAAA,GACIl5B,KAAKu3B,OACLv3B,KAAKiG,QAAQ9B,UAAUgf,OAAO,SAClC,ECtIG,MAAMuY,UAAmCnU,EAAAA,GAC5CznB,WAAAA,CAAY0nB,EAAQmU,EAAuBd,GAAoD,IAA/Bp0B,EAAON,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGmH,OAAOsuB,OAAO,MACpF3Z,MAAM,KAAMuF,EAAQ/gB,GACpBzG,KAAK67B,WAAa,KAClB77B,KAAKi6B,uBAAyBj6B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACjDpuB,KAAKk6B,sBAAwBl6B,KAAKi6B,uBAAuBnxB,MACzD9I,KAAK27B,sBAAwBA,EAC7B37B,KAAK66B,oBAAsBA,EAC3B76B,KAAKyG,QAAUA,EACXzG,KAAKyG,QAAQgiB,eACbzoB,KAAKyoB,aAAezoB,KAAKyG,QAAQgiB,aAEzC,CACAzJ,MAAAA,CAAO+J,GACH/oB,KAAK67B,WAAa9S,EAClB,MAqBM+S,EAAiB7yB,MAAMC,QAAQlJ,KAAK27B,uBACpCl1B,EAAU,CACZo0B,oBAAqB76B,KAAK66B,oBAC1BV,cAxBmB4B,IACnB/7B,KAAKiG,SAAUqlB,EAAAA,EAAAA,IAAOyQ,GAAIxQ,EAAAA,EAAAA,GAAE,mBAC5B,IAAIyQ,EAAa,GAiBjB,MAhBuC,kBAA5Bh8B,KAAKyG,QAAQu1B,WACpBA,EAAah8B,KAAKyG,QAAQu1B,WAAWrmB,MAAM,QAAQyP,QAAO6W,KAAOA,IAE5Dj8B,KAAKyG,QAAQu1B,aAClBA,EAAah8B,KAAKyG,QAAQu1B,YAGzBA,EAAWvL,MAAKrP,GAAW,SAANA,KACtB4a,EAAWj0B,KAAK,WAEpB/H,KAAKiG,QAAQ9B,UAAUyE,OAAOozB,GAC9Bh8B,KAAKiG,QAAQX,aAAa,OAAQ,UAClCtF,KAAKiG,QAAQX,aAAa,gBAAiB,QAC3CtF,KAAKiG,QAAQX,aAAa,gBAAiB,SAC3CtF,KAAKiG,QAAQyH,MAAQ1N,KAAKynB,QAAQY,OAAS,GAC3CroB,KAAKiG,QAAQqqB,UAAYtwB,KAAKynB,QAAQY,OAAS,GACxC,IAAI,EAMX2S,YAAah7B,KAAKyG,QAAQu0B,YAC1B9J,QAAS4K,EAAiB97B,KAAK27B,2BAAwBt1B,EACvDy0B,eAAgBgB,OAAiBz1B,EAAYrG,KAAK27B,uBActD,GAZA37B,KAAKk8B,aAAel8B,KAAKyiB,UAAU,IAAIiY,EAAa3R,EAAWtiB,IAC/DzG,KAAKyiB,UAAUziB,KAAKk8B,aAAahC,uBAAsBI,IACnD,IAAI/rB,EACoB,QAAvBA,EAAKvO,KAAKiG,eAA4B,IAAPsI,GAAyBA,EAAGjJ,aAAa,gBAAiB,GAAFO,OAAKy0B,IAC7Ft6B,KAAKi6B,uBAAuB9K,KAAKmL,EAAQ,KAE7Ct6B,KAAKk8B,aAAajB,YAAc,CAC5B5J,uBAAwBrxB,KAAKyG,QAAQ4qB,uBACrC5I,aAAczoB,KAAKyoB,aACnB8S,cAAev7B,KAAKyG,QAAQ01B,mBAC5BzU,QAAS1nB,KAAK2nB,UAEd3nB,KAAKyG,QAAQ21B,wBAAyB,CACtC,MAAMC,EAAOr8B,KACbA,KAAKk8B,aAAajB,YAAc3tB,OAAOsF,OAAOtF,OAAOsF,OAAO,CAAC,EAAG5S,KAAKk8B,aAAajB,aAAc,CAAE,mBAAI5C,GAC9F,OAAOgE,EAAK51B,QAAQ21B,yBACxB,GACR,CACAp8B,KAAKuoB,gBACLvoB,KAAKgoB,eACT,CACA4C,UAAAA,GACI,IAAIld,EAAQ,KAOZ,OANI1N,KAAKwnB,OAAOgB,QACZ9a,EAAQ1N,KAAKwnB,OAAOgB,QAEfxoB,KAAKwnB,OAAOa,QACjB3a,EAAQ1N,KAAKwnB,OAAOa,OAEP,OAAV3a,QAA4B,IAAVA,EAAmBA,OAAQrH,CACxD,CACAwiB,gBAAAA,CAAiBC,GACb7G,MAAM4G,iBAAiBC,GACnB9oB,KAAKk8B,eACDl8B,KAAKk8B,aAAajB,YAClBj7B,KAAKk8B,aAAajB,YAAYvT,QAAUoB,EAGxC9oB,KAAKk8B,aAAajB,YAAc,CAAEvT,QAASoB,GAGvD,CACAuO,IAAAA,GACI,IAAI9oB,EACyB,QAA5BA,EAAKvO,KAAKk8B,oBAAiC,IAAP3tB,GAAyBA,EAAG8oB,MACrE,CACArP,aAAAA,GACI,IAAIzZ,EAAIC,EACR,MAAM8tB,GAAYt8B,KAAKwnB,OAAOO,QACH,QAA1BxZ,EAAKvO,KAAK67B,kBAA+B,IAAPttB,GAAyBA,EAAGpK,UAAUC,OAAO,WAAYk4B,GACpE,QAAvB9tB,EAAKxO,KAAKiG,eAA4B,IAAPuI,GAAyBA,EAAGrK,UAAUC,OAAO,WAAYk4B,EAC7F,E,6HCxFJ,MAAMC,EAAoB3Q,EAAAA,GAAa,eAAgB,SAChD,MAAM4Q,UAAkBC,EAAAA,EAC3B38B,WAAAA,CAAYgb,EAAQmR,EAAqBxlB,GACrCwb,QACAjiB,KAAK08B,8BAA+B,EACpC18B,KAAK28B,sBAAuB,EAC5B38B,KAAK48B,6BAA+B,IAAInzB,EAAAA,GACxCzJ,KAAK68B,kBAAoB,GACzB78B,KAAK88B,mBAAqB98B,KAAKyiB,UAAU,IAAI2L,EAAAA,IAC7CpuB,KAAK+8B,kBAAoB/8B,KAAK88B,mBAAmBh0B,MACjD9I,KAAKg9B,WAAah9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACrCpuB,KAAKugB,UAAYvgB,KAAKg9B,WAAWl0B,MACjC9I,KAAKi9B,aAAej9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACvCpuB,KAAKk9B,YAAcl9B,KAAKi9B,aAAan0B,MACrC9I,KAAKm9B,SAAWn9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACnCpuB,KAAKo9B,SAAWp9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACnCpuB,KAAKq9B,wBAA0Br9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IAClDpuB,KAAKs9B,uBAAyBt9B,KAAKq9B,wBAAwBv0B,MAC3D9I,KAAKu9B,gBAAkBv9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IAC1CpuB,KAAKw9B,eAAiBx9B,KAAKu9B,gBAAgBz0B,MAC3C9I,KAAKy9B,0BAA4B,EACjCz9B,KAAK09B,YAAcj3B,EAAQi3B,aAAe,GAC1C19B,KAAK29B,WAAal3B,EAAQk3B,WAC1B39B,KAAKqoB,MAAQ5hB,EAAQ4hB,OAASkU,EAC9Bv8B,KAAK49B,wBAA0Bn3B,EAAQm3B,sBACvC,MAAMC,EAA2Bp3B,EAAQo3B,0BAA4B,GAC/DC,EAAwBr3B,EAAQq3B,uBAAyB,GACzDC,EAAmBt3B,EAAQs3B,kBAAoB,GAC/CC,EAAUv3B,EAAQu3B,SAAW,GAC7BC,IAAmBx3B,EAAQw3B,eAC3BC,IAAkBz3B,EAAQy3B,cAC1BC,EAAoB13B,EAAQ03B,kBAgBlC,GAfAn+B,KAAKD,QAAUuI,SAASpC,cAAc,OACtClG,KAAKD,QAAQoE,UAAUyE,IAAI,oBAC3B5I,KAAKo+B,SAAWp+B,KAAKyiB,UAAU,IAAI4b,EAAAA,GAAgBr+B,KAAKD,QAASksB,EAAqB,CAClFyR,YAAa19B,KAAK09B,aAAe,GACjCpN,UAAWtwB,KAAKqoB,OAAS,GACzBiW,kBAAmB,CACfX,WAAY39B,KAAK29B,YAErBK,UACAO,gBAAiB93B,EAAQ83B,gBACzBN,iBACAC,gBACAC,oBACAK,eAAgB/3B,EAAQ+3B,kBAExBx+B,KAAK49B,sBAAuB,CAC5B59B,KAAKy+B,MAAQz+B,KAAKyiB,UAAU,IAAIic,EAAAA,GAAYpxB,OAAOsF,OAAO,CAAE+rB,YAAaZ,EAAkBa,WAAW,GAASn4B,EAAQo4B,gBACvH7+B,KAAKyiB,UAAUziB,KAAKy+B,MAAMK,UAASC,IAC/B/+B,KAAK88B,mBAAmB3N,KAAK4P,IACxBA,GAAe/+B,KAAK08B,8BACrB18B,KAAKo+B,SAAS9T,QAElBtqB,KAAKg/B,UAAU,KAEnBh/B,KAAKyiB,UAAUziB,KAAKy+B,MAAMle,WAAUvV,IAChChL,KAAKu9B,gBAAgBpO,KAAKnkB,EAAE,KAEhChL,KAAKi/B,WAAaj/B,KAAKyiB,UAAU,IAAIyc,EAAAA,GAAiB5xB,OAAOsF,OAAO,CAAE+rB,YAAab,EAAuBc,WAAW,GAASn4B,EAAQo4B,gBACtI7+B,KAAKyiB,UAAUziB,KAAKi/B,WAAWH,UAASC,IACpC/+B,KAAK88B,mBAAmB3N,KAAK4P,IACxBA,GAAe/+B,KAAK08B,8BACrB18B,KAAKo+B,SAAS9T,QAElBtqB,KAAKg/B,UAAU,KAEnBh/B,KAAKm/B,cAAgBn/B,KAAKyiB,UAAU,IAAI2c,EAAAA,GAAoB9xB,OAAOsF,OAAO,CAAE+rB,YAAad,EAA0Be,WAAW,GAASn4B,EAAQo4B,gBAC/I7+B,KAAKyiB,UAAUziB,KAAKm/B,cAAcL,UAASC,IACvC/+B,KAAK88B,mBAAmB3N,KAAK4P,IACxBA,GAAe/+B,KAAK08B,8BACrB18B,KAAKo+B,SAAS9T,QAElBtqB,KAAKg/B,UAAU,KAEnBh/B,KAAKyiB,UAAUziB,KAAKm/B,cAAc5e,WAAUvV,IACxChL,KAAKq9B,wBAAwBlO,KAAKnkB,EAAE,KAGxC,MAAMq0B,EAAU,CAACr/B,KAAKm/B,cAAcp/B,QAASC,KAAKi/B,WAAWl/B,QAASC,KAAKy+B,MAAM1+B,SACjFC,KAAKs/B,UAAUt/B,KAAKD,SAAU+I,IAC1B,GAAIA,EAAMkE,OAAO,KAA+BlE,EAAMkE,OAAO,KAAgClE,EAAMkE,OAAO,GAAyB,CAC/H,MAAMlF,EAAQu3B,EAAQE,QAAQj3B,SAAS8wB,eACvC,GAAItxB,GAAS,EAAG,CACZ,IAAI03B,GAAY,EACZ12B,EAAMkE,OAAO,IACbwyB,GAAY13B,EAAQ,GAAKu3B,EAAQj5B,OAE5B0C,EAAMkE,OAAO,MAEdwyB,EADU,IAAV13B,EACWu3B,EAAQj5B,OAAS,EAGjB0B,EAAQ,GAGvBgB,EAAMkE,OAAO,IACbqyB,EAAQv3B,GAAO0iB,OACfxqB,KAAKo+B,SAAS9T,SAETkV,GAAY,GACjBH,EAAQG,GAAUlV,QAEtBxf,EAAAA,GAAgB6e,KAAK7gB,GAAO,EAChC,CACJ,IAER,CACA9I,KAAKy/B,SAAWn3B,SAASpC,cAAc,OACvClG,KAAKy/B,SAASz7B,UAAY,WAC1BhE,KAAKy/B,SAAS39B,MAAMwC,QAAUtE,KAAK49B,sBAAwB,GAAK,OAC5D59B,KAAKm/B,eACLn/B,KAAKy/B,SAASnU,OAAOtrB,KAAKm/B,cAAcp/B,SAExCC,KAAKi/B,YACLj/B,KAAKy/B,SAAS/5B,YAAY1F,KAAKi/B,WAAWl/B,SAE1CC,KAAKy+B,OACLz+B,KAAKy/B,SAAS/5B,YAAY1F,KAAKy+B,MAAM1+B,SAEzCC,KAAK0/B,qBAAiC,OAAZj5B,QAAgC,IAAZA,OAAqB,EAASA,EAAQo2B,mBAChF78B,KAAKy/B,UACLz/B,KAAKD,QAAQ2F,YAAY1F,KAAKy/B,UAEvB,OAAX3kB,QAA8B,IAAXA,GAA6BA,EAAOpV,YAAY1F,KAAKD,SACxEC,KAAKyiB,UAAU3X,EAAAA,GAA0B9K,KAAKo+B,SAASuB,aAAc,oBAAqB30B,IACtFhL,KAAK28B,sBAAuB,CAAI,KAEpC38B,KAAKyiB,UAAU3X,EAAAA,GAA0B9K,KAAKo+B,SAASuB,aAAc,kBAAmB30B,IACpFhL,KAAK28B,sBAAuB,EAC5B38B,KAAKm9B,SAAShO,MAAM,KAExBnvB,KAAKs/B,UAAUt/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKg9B,WAAW7N,KAAKnkB,KACvEhL,KAAK4/B,QAAQ5/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKo9B,SAASjO,KAAKnkB,KACnEhL,KAAK6/B,QAAQ7/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKm9B,SAAShO,SAC9DnvB,KAAK8/B,YAAY9/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKi9B,aAAa9N,KAAKnkB,IAC/E,CACA,eAAI6c,GACA,OAAO7nB,KAAKo+B,SAASvW,WACzB,CACA+N,MAAAA,CAAO9zB,GACH9B,KAAKo+B,SAASxI,SACd51B,KAAK+/B,sBAAsBj+B,EAAMk+B,oBACrC,CACAC,MAAAA,GACI,IAAI1xB,EAAIC,EAAIif,EACZztB,KAAKD,QAAQoE,UAAUgf,OAAO,YAC9BnjB,KAAKo+B,SAAS6B,SACQ,QAArB1xB,EAAKvO,KAAKy+B,aAA0B,IAAPlwB,GAAyBA,EAAG0xB,SAC/B,QAA1BzxB,EAAKxO,KAAKi/B,kBAA+B,IAAPzwB,GAAyBA,EAAGyxB,SACjC,QAA7BxS,EAAKztB,KAAKm/B,qBAAkC,IAAP1R,GAAyBA,EAAGwS,SAClE,IAAK,MAAM77B,KAAUpE,KAAK68B,kBACtBz4B,EAAO67B,QAEf,CACAC,OAAAA,GACI,IAAI3xB,EAAIC,EAAIif,EACZztB,KAAKD,QAAQoE,UAAUyE,IAAI,YAC3B5I,KAAKo+B,SAAS8B,UACQ,QAArB3xB,EAAKvO,KAAKy+B,aAA0B,IAAPlwB,GAAyBA,EAAG2xB,UAC/B,QAA1B1xB,EAAKxO,KAAKi/B,kBAA+B,IAAPzwB,GAAyBA,EAAG0xB,UACjC,QAA7BzS,EAAKztB,KAAKm/B,qBAAkC,IAAP1R,GAAyBA,EAAGyS,UAClE,IAAK,MAAM97B,KAAUpE,KAAK68B,kBACtBz4B,EAAO87B,SAEf,CACAC,0BAAAA,CAA2B36B,GACvBxF,KAAK08B,6BAA+Bl3B,CACxC,CACA46B,UAAAA,CAAWrY,GACHA,EACA/nB,KAAKigC,SAGLjgC,KAAKkgC,SAEb,CACAR,oBAAAA,CAAqBW,GACjB,IAAK,MAAMC,KAAiBtgC,KAAK68B,kBAC7ByD,EAAcvgC,QAAQojB,SAE1BnjB,KAAK68B,kBAAoB,GACzB78B,KAAK48B,6BAA6BhzB,UAClC5J,KAAK48B,6BAA+B,IAAInzB,EAAAA,GACxC,IAAK,MAAMrF,KAAsB,OAAZi8B,QAAgC,IAAZA,EAAqBA,EAAU,GACpErgC,KAAK48B,6BAA6Bh0B,IAAIxE,GACtCpE,KAAKy/B,SAAS/5B,YAAYtB,EAAOrE,SACjCC,KAAK48B,6BAA6Bh0B,IAAIxE,EAAO06B,UAASC,IAClD/+B,KAAK88B,mBAAmB3N,KAAK4P,IACxBA,GAAe/+B,KAAK08B,8BACrB18B,KAAKo+B,SAAS9T,OAClB,KAEJtqB,KAAK68B,kBAAkB90B,KAAK3D,GAE5BpE,KAAK68B,kBAAkBz2B,OAAS,IAChCpG,KAAKy/B,SAAS39B,MAAMwC,QAAU,IAElCtE,KAAK+/B,uBACT,CACAA,qBAAAA,GAA8C,IAAxBQ,EAAcp6B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAChC,IAAIoI,EAAIC,EAAIif,EAAIC,EAAIC,EAAIC,EAEpB5tB,KAAKo+B,SAASoC,aADdD,EAC6B,GAI8D,QAApF/xB,EAAmC,QAA7BD,EAAKvO,KAAKm/B,qBAAkC,IAAP5wB,OAAgB,EAASA,EAAGvM,eAA4B,IAAPwM,EAAgBA,EAAK,IAAwF,QAAjFkf,EAAgC,QAA1BD,EAAKztB,KAAKi/B,kBAA+B,IAAPxR,OAAgB,EAASA,EAAGzrB,eAA4B,IAAP0rB,EAAgBA,EAAK,IAAmF,QAA5EE,EAA2B,QAArBD,EAAK3tB,KAAKy+B,aAA0B,IAAP9Q,OAAgB,EAASA,EAAG3rB,eAA4B,IAAP4rB,EAAgBA,EAAK,GACnV5tB,KAAK68B,kBAAkB4D,QAAO,CAACpf,EAAGgE,IAAMhE,EAAIgE,EAAErjB,SAAS,EAEzE,CACA0+B,QAAAA,GACI,OAAO1gC,KAAKo+B,SAAS54B,KACzB,CACAm7B,QAAAA,CAASn7B,GACDxF,KAAKo+B,SAAS54B,QAAUA,IACxBxF,KAAKo+B,SAAS54B,MAAQA,EAE9B,CACA+mB,MAAAA,GACIvsB,KAAKo+B,SAAS7R,QAClB,CACAjC,KAAAA,GACItqB,KAAKo+B,SAAS9T,OAClB,CACAsW,gBAAAA,GACI,IAAIryB,EAAIC,EACR,OAA4F,QAApFA,EAAmC,QAA7BD,EAAKvO,KAAKm/B,qBAAkC,IAAP5wB,OAAgB,EAASA,EAAG0Z,eAA4B,IAAPzZ,GAAgBA,CACxH,CACAqyB,gBAAAA,CAAiBr7B,GACTxF,KAAKm/B,gBACLn/B,KAAKm/B,cAAclX,QAAUziB,EAErC,CACAs7B,aAAAA,GACI,IAAIvyB,EAAIC,EACR,OAAyF,QAAjFA,EAAgC,QAA1BD,EAAKvO,KAAKi/B,kBAA+B,IAAP1wB,OAAgB,EAASA,EAAG0Z,eAA4B,IAAPzZ,GAAgBA,CACrH,CACAuyB,aAAAA,CAAcv7B,GACNxF,KAAKi/B,aACLj/B,KAAKi/B,WAAWhX,QAAUziB,EAElC,CACAw7B,QAAAA,GACI,IAAIzyB,EAAIC,EACR,OAAoF,QAA5EA,EAA2B,QAArBD,EAAKvO,KAAKy+B,aAA0B,IAAPlwB,OAAgB,EAASA,EAAG0Z,eAA4B,IAAPzZ,GAAgBA,CAChH,CACAyyB,QAAAA,CAASz7B,GACDxF,KAAKy+B,QACLz+B,KAAKy+B,MAAMxW,QAAUziB,EACrBxF,KAAKg/B,WAEb,CACAkC,oBAAAA,GACI,IAAI3yB,EAC0B,QAA7BA,EAAKvO,KAAKm/B,qBAAkC,IAAP5wB,GAAyBA,EAAG+b,OACtE,CACA6W,oBAAAA,GACInhC,KAAKD,QAAQoE,UAAUgf,OAAO,aAAgBnjB,KAAKy9B,2BACnDz9B,KAAKy9B,0BAA4B,EAAIz9B,KAAKy9B,0BAC1Cz9B,KAAKD,QAAQoE,UAAUyE,IAAI,aAAgB5I,KAAKy9B,0BACpD,CACAuB,QAAAA,GACIh/B,KAAKo+B,SAASY,UAClB,CACAoC,WAAAA,CAAYC,GACRrhC,KAAKo+B,SAASgD,YAAYC,EAC9B,CACAC,YAAAA,GACIthC,KAAKo+B,SAASmD,aAClB,E,2FCnRJ,MAAMC,EAAkC5V,EAAAA,GAAa,kBAAmB,cAClE6V,EAA8B7V,EAAAA,GAAa,mBAAoB,oBAC/D8V,EAAyB9V,EAAAA,GAAa,mBAAoB,0BACzD,MAAMwT,UAA4BuC,EAAAA,EACrC7hC,WAAAA,CAAY6S,GACRsP,MAAM,CACFmJ,KAAMwW,EAAAA,EAAQzC,cACdzxB,MAAO8zB,EAAkC7uB,EAAKgsB,YAC9CC,UAAWjsB,EAAKisB,UAChBiD,wBAAyBlvB,EAAKkvB,wBAC9BC,4BAA6BnvB,EAAKmvB,4BAClCC,4BAA6BpvB,EAAKovB,6BAE1C,EAEG,MAAM7C,UAAyByC,EAAAA,EAClC7hC,WAAAA,CAAY6S,GACRsP,MAAM,CACFmJ,KAAMwW,EAAAA,EAAQI,UACdt0B,MAAO+zB,EAA8B9uB,EAAKgsB,YAC1CC,UAAWjsB,EAAKisB,UAChBiD,wBAAyBlvB,EAAKkvB,wBAC9BC,4BAA6BnvB,EAAKmvB,4BAClCC,4BAA6BpvB,EAAKovB,6BAE1C,EAEG,MAAMrD,UAAoBiD,EAAAA,EAC7B7hC,WAAAA,CAAY6S,GACRsP,MAAM,CACFmJ,KAAMwW,EAAAA,EAAQnD,MACd/wB,MAAOg0B,EAAyB/uB,EAAKgsB,YACrCC,UAAWjsB,EAAKisB,UAChBiD,wBAAyBlvB,EAAKkvB,wBAC9BC,4BAA6BnvB,EAAKmvB,4BAClCC,4BAA6BpvB,EAAKovB,6BAE1C,E,6HChCJ,MAAMxF,EAAoB3Q,EAAAA,GAAa,eAAgB,SACjDqW,EAA0BrW,EAAAA,GAAa,2BAA4B,iBACzE,MAAMsW,UAA2BP,EAAAA,EAC7B7hC,WAAAA,CAAY6S,GACRsP,MAAM,CAEFmJ,KAAMwW,EAAAA,EAAQO,aACdz0B,MAAOu0B,EAA0BtvB,EAAKgsB,YACtCC,UAAWjsB,EAAKisB,UAChBiD,wBAAyBlvB,EAAKkvB,wBAC9BC,4BAA6BnvB,EAAKmvB,4BAClCC,4BAA6BpvB,EAAKovB,6BAE1C,EAEG,MAAMK,UAAqB3F,EAAAA,EAC9B38B,WAAAA,CAAYgb,EAAQmR,EAAqBoW,EAAoB57B,GACzDwb,QACAjiB,KAAKqiC,mBAAqBA,EAC1BriC,KAAK08B,8BAA+B,EACpC18B,KAAKsiC,mBAAqB,EAC1BtiC,KAAK88B,mBAAqB98B,KAAKyiB,UAAU,IAAI2L,EAAAA,IAC7CpuB,KAAK+8B,kBAAoB/8B,KAAK88B,mBAAmBh0B,MACjD9I,KAAKg9B,WAAah9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACrCpuB,KAAKugB,UAAYvgB,KAAKg9B,WAAWl0B,MACjC9I,KAAKi9B,aAAej9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACvCpuB,KAAKm9B,SAAWn9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACnCpuB,KAAKo9B,SAAWp9B,KAAKyiB,UAAU,IAAI2L,EAAAA,IACnCpuB,KAAKuiC,uBAAyBviC,KAAKyiB,UAAU,IAAI2L,EAAAA,IACjDpuB,KAAKwiC,sBAAwBxiC,KAAKuiC,uBAAuBz5B,MACzD9I,KAAKisB,oBAAsBA,EAC3BjsB,KAAK09B,YAAcj3B,EAAQi3B,aAAe,GAC1C19B,KAAK29B,WAAal3B,EAAQk3B,WAC1B39B,KAAKqoB,MAAQ5hB,EAAQ4hB,OAASkU,EAC9B,MAAMkG,EAA0Bh8B,EAAQg8B,yBAA2B,GAC7DzE,EAAUv3B,EAAQu3B,SAAW,GAC7BC,IAAmBx3B,EAAQw3B,eAC3BC,IAAkBz3B,EAAQy3B,cAC1BC,EAAoB13B,EAAQ03B,kBAClCn+B,KAAKD,QAAUuI,SAASpC,cAAc,OACtClG,KAAKD,QAAQoE,UAAUyE,IAAI,oBAC3B5I,KAAKo+B,SAAWp+B,KAAKyiB,UAAU,IAAI4b,EAAAA,GAAgBr+B,KAAKD,QAASC,KAAKisB,oBAAqB,CACvFqE,UAAWtwB,KAAKqoB,OAAS,GACzBqV,YAAa19B,KAAK09B,aAAe,GACjCY,kBAAmB,CACfX,WAAY39B,KAAK29B,YAErBK,UACAO,gBAAiB93B,EAAQ83B,gBACzBN,iBACAC,gBACAC,oBACAK,eAAgB/3B,EAAQ+3B,kBAE5Bx+B,KAAKmiC,aAAeniC,KAAKyiB,UAAU,IAAIyf,EAAmB50B,OAAOsF,OAAO,CAAE+rB,YAAa8D,EAAyB7D,WAAW,GAASn4B,EAAQo4B,gBAC5I7+B,KAAKyiB,UAAUziB,KAAKmiC,aAAarD,UAASC,IACtC/+B,KAAK88B,mBAAmB3N,KAAK4P,IACxBA,GAAe/+B,KAAK08B,8BACrB18B,KAAKo+B,SAAS9T,QAElBtqB,KAAKg/B,UAAU,KAEnBh/B,KAAKyiB,UAAUziB,KAAKmiC,aAAa5hB,WAAUvV,IACvChL,KAAKuiC,uBAAuBpT,KAAKnkB,EAAE,KAEnChL,KAAKqiC,mBACLriC,KAAKsiC,mBAAqBtiC,KAAKmiC,aAAangC,QAG5ChC,KAAKsiC,mBAAqB,EAG9B,MAAMjD,EAAU,CAACr/B,KAAKmiC,aAAapiC,SACnCC,KAAKs/B,UAAUt/B,KAAKD,SAAU+I,IAC1B,GAAIA,EAAMkE,OAAO,KAA+BlE,EAAMkE,OAAO,KAAgClE,EAAMkE,OAAO,GAAyB,CAC/H,MAAMlF,EAAQu3B,EAAQE,QAAQj3B,SAAS8wB,eACvC,GAAItxB,GAAS,EAAG,CACZ,IAAI03B,GAAY,EACZ12B,EAAMkE,OAAO,IACbwyB,GAAY13B,EAAQ,GAAKu3B,EAAQj5B,OAE5B0C,EAAMkE,OAAO,MAEdwyB,EADU,IAAV13B,EACWu3B,EAAQj5B,OAAS,EAGjB0B,EAAQ,GAGvBgB,EAAMkE,OAAO,IACbqyB,EAAQv3B,GAAO0iB,OACfxqB,KAAKo+B,SAAS9T,SAETkV,GAAY,GACjBH,EAAQG,GAAUlV,QAEtBxf,EAAAA,GAAgB6e,KAAK7gB,GAAO,EAChC,CACJ,KAEJ,MAAM22B,EAAWn3B,SAASpC,cAAc,OACxCu5B,EAASz7B,UAAY,WACrBy7B,EAAS39B,MAAMwC,QAAUtE,KAAKqiC,mBAAqB,QAAU,OAC7D5C,EAAS/5B,YAAY1F,KAAKmiC,aAAapiC,SACvCC,KAAKD,QAAQ2F,YAAY+5B,GACd,OAAX3kB,QAA8B,IAAXA,GAA6BA,EAAOpV,YAAY1F,KAAKD,SACxEC,KAAKs/B,UAAUt/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKg9B,WAAW7N,KAAKnkB,KACvEhL,KAAK4/B,QAAQ5/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKo9B,SAASjO,KAAKnkB,KACnEhL,KAAK6/B,QAAQ7/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKm9B,SAAShO,SAC9DnvB,KAAK8/B,YAAY9/B,KAAKo+B,SAASuB,cAAe30B,GAAMhL,KAAKi9B,aAAa9N,KAAKnkB,IAC/E,CACAi1B,MAAAA,GACIjgC,KAAKD,QAAQoE,UAAUgf,OAAO,YAC9BnjB,KAAKo+B,SAAS6B,SACdjgC,KAAKmiC,aAAalC,QACtB,CACAC,OAAAA,GACIlgC,KAAKD,QAAQoE,UAAUyE,IAAI,YAC3B5I,KAAKo+B,SAAS8B,UACdlgC,KAAKmiC,aAAajC,SACtB,CACAE,UAAAA,CAAWrY,GACHA,EACA/nB,KAAKigC,SAGLjgC,KAAKkgC,SAEb,CACA3T,MAAAA,GACIvsB,KAAKo+B,SAAS7R,QAClB,CACAjC,KAAAA,GACItqB,KAAKo+B,SAAS9T,OAClB,CACAoY,eAAAA,GACI,OAAO1iC,KAAKmiC,aAAala,OAC7B,CACA0a,eAAAA,CAAgBn9B,GACZxF,KAAKmiC,aAAala,QAAUziB,CAChC,CACAo9B,eAAAA,GACI5iC,KAAKmiC,aAAa7X,OACtB,CACA0U,QAAAA,GACI,IAAIzwB,EACqB,QAAxBA,EAAKvO,KAAKo+B,gBAA6B,IAAP7vB,GAAyBA,EAAGywB,UACjE,CACA,SAAIh9B,CAAM6gC,GACN7iC,KAAKo+B,SAASoC,aAAexgC,KAAKsiC,mBAClCtiC,KAAKD,QAAQ+B,MAAME,MAAQ6gC,EAAW,IAC1C,CACAj5B,OAAAA,GACIqY,MAAMrY,SACV,E,uEC3JG,MAAMk5B,EAMThjC,WAAAA,CAAYipB,EAAWtiB,GACnB,IAAI8H,EACJvO,KAAKgG,KAAO,GACZhG,KAAK0N,MAAQ,GACb1N,KAAK+iC,WAAa,GAClB/iC,KAAKgjC,eAAgB,EACrBhjC,KAAK01B,aAAiG,QAAjFnnB,EAAiB,OAAZ9H,QAAgC,IAAZA,OAAqB,EAASA,EAAQivB,oBAAiC,IAAPnnB,GAAgBA,EAC9HvO,KAAKD,QAAU+K,EAAAA,GAAWie,EAAWje,EAAAA,EAAM,iCAC/C,CAIA,WAAI7E,GACA,OAAOjG,KAAKD,OAChB,CAUAwxB,GAAAA,CAAIvrB,GAAmD,IAA7C+8B,EAAU58B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIuH,EAAKvH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC1BH,IACDA,EAAO,KAFsCG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,KAM7CL,EAAO88B,EAAiBG,eAAej9B,EAAM+8B,IAE7C/iC,KAAKgjC,eAAiBhjC,KAAKgG,OAASA,GAAQhG,KAAK0N,QAAUA,GAASw1B,EAAAA,GAAeljC,KAAK+iC,WAAYA,KAGxG/iC,KAAKgG,KAAOA,EACZhG,KAAK0N,MAAQA,EACb1N,KAAK+iC,WAAaA,EAClB/iC,KAAKgf,SACT,CACAA,MAAAA,GACI,MAAMjY,EAAW,GACjB,IAAIo8B,EAAM,EACV,IAAK,MAAMC,KAAapjC,KAAK+iC,WAAY,CACrC,GAAIK,EAAUtK,MAAQsK,EAAUvK,MAC5B,SAEJ,GAAIsK,EAAMC,EAAUvK,MAAO,CACvB,MAAMwK,EAAYrjC,KAAKgG,KAAKq9B,UAAUF,EAAKC,EAAUvK,OACjD74B,KAAK01B,aACL3uB,EAASgB,SAAQ6L,EAAAA,EAAAA,GAAqByvB,IAGtCt8B,EAASgB,KAAKs7B,GAElBF,EAAMC,EAAUvK,KACpB,CACA,MAAMwK,EAAYrjC,KAAKgG,KAAKq9B,UAAUF,EAAKC,EAAUtK,KAC/C7yB,EAAU6E,EAAAA,EAAM,sBAAkBzE,KAAcrG,KAAK01B,cAAe9hB,EAAAA,EAAAA,GAAqByvB,GAAa,CAACA,IACzGD,EAAUE,cACVr9B,EAAQ9B,UAAUyE,OAAOw6B,EAAUE,cAEvCv8B,EAASgB,KAAK9B,GACdk9B,EAAMC,EAAUtK,GACpB,CACA,GAAIqK,EAAMnjC,KAAKgG,KAAKI,OAAQ,CACxB,MAAMi9B,EAAYrjC,KAAKgG,KAAKq9B,UAAUF,GAClCnjC,KAAK01B,aACL3uB,EAASgB,SAAQ6L,EAAAA,EAAAA,GAAqByvB,IAGtCt8B,EAASgB,KAAKs7B,EAEtB,CACAv4B,EAAAA,GAAU9K,KAAKD,WAAYgH,GACvB/G,KAAK0N,MACL1N,KAAKD,QAAQ2N,MAAQ1N,KAAK0N,MAG1B1N,KAAKD,QAAQ0F,gBAAgB,SAEjCzF,KAAKgjC,eAAgB,CACzB,CACA,qBAAOC,CAAej9B,EAAM+8B,GACxB,IAAI3kB,EAAQ,EACRmlB,EAAQ,EACZ,OAAOv9B,EAAKmI,QAAQ,eAAe,CAACgE,EAAOgkB,KACvCoN,EAAkB,SAAVpxB,GAAoB,EAAI,EAChCgkB,GAAU/X,EACV,IAAK,MAAMglB,KAAaL,EAChBK,EAAUtK,KAAO3C,IAGjBiN,EAAUvK,OAAS1C,IACnBiN,EAAUvK,OAAS0K,GAEnBH,EAAUtK,KAAO3C,IACjBiN,EAAUtK,KAAOyK,IAIzB,OADAnlB,GAASmlB,EACF,QAAQ,GAEvB,E,2FC/GJ,MAAMhY,EAAIzgB,EAAIygB,EACP,MAAMiY,UAAoBxhB,EAAAA,GAC7BliB,WAAAA,GACImiB,QACAjiB,KAAKyjC,iBAAmBn7B,SAASpC,cAAc,OAC/ClG,KAAKyjC,iBAAiBz/B,UAAY,eAClChE,KAAKyjC,iBAAiBlZ,SAAW,EACjCvqB,KAAKyjC,iBAAiBn+B,aAAa,OAAQ,WAC3CtF,KAAK0jC,gBAAkBp7B,SAASpC,cAAc,OAC9ClG,KAAK0jC,gBAAgB1/B,UAAY,uBACjChE,KAAK2jC,UAAY3jC,KAAKyiB,UAAU,IAAImhB,EAAAA,GAAqB5jC,KAAK0jC,gBAAiB,CAC3EG,sCAAsC,KAE1C7jC,KAAKyjC,iBAAiB/9B,YAAY1F,KAAK2jC,UAAUG,aACrD,CACAC,iBAAAA,GACI/jC,KAAK2jC,UAAUK,aACnB,EAEG,MAAMC,UAAoBjiB,EAAAA,GAC7B,aAAOhD,CAAOlE,EAAQopB,EAAeC,GACjC,OAAO,IAAIF,EAAYnpB,EAAQopB,EAAeC,EAClD,CACArkC,WAAAA,CAAYgb,EAAQopB,EAAeC,GAC/BliB,QACAjiB,KAAKokC,gBAAkBt5B,EAAAA,GAAWgQ,EAAQyQ,EAAE,yBAC5CvrB,KAAKokC,gBAAgB9+B,aAAa,WAAY,KAC9CtF,KAAKwnB,OAAS1c,EAAAA,GAAW9K,KAAKokC,gBAAiB7Y,EAAE,aACjDvrB,KAAKwnB,OAAOliB,aAAa,OAAQ,UAC7B4+B,EAAcG,WACdv5B,EAAAA,GAAW9K,KAAKwnB,OAAQ+D,EAAE,aAAD1lB,OAAcq+B,EAAcG,aAE3Cv5B,EAAAA,GAAW9K,KAAKwnB,OAAQ+D,EAAE,SAClCjlB,YAAc69B,EAAkB,GAAHt+B,OAAMq+B,EAAc7b,MAAK,MAAAxiB,OAAKs+B,EAAe,KAAMD,EAAc7b,MACpGroB,KAAKyiB,UAAU3X,EAAAA,GAA0B9K,KAAKokC,gBAAiBt5B,EAAAA,GAAc+e,OAAO7e,IAChFA,EAAE8B,kBACF9B,EAAEE,iBACFg5B,EAAc7Z,IAAIrqB,KAAKokC,gBAAgB,KAE3CpkC,KAAKyiB,UAAU3X,EAAAA,GAA0B9K,KAAKokC,gBAAiBt5B,EAAAA,GAAcykB,UAAUvkB,IACnF,MAAMlC,EAAQ,IAAIyC,EAAAA,EAAsBP,IACpClC,EAAMkE,OAAO,IAA0BlE,EAAMkE,OAAO,OACpDhC,EAAE8B,kBACF9B,EAAEE,iBACFg5B,EAAc7Z,IAAIrqB,KAAKokC,iBAC3B,KAEJpkC,KAAKogC,YAAW,EACpB,CACAA,UAAAA,CAAWrY,GACHA,GACA/nB,KAAKokC,gBAAgBjgC,UAAUgf,OAAO,YACtCnjB,KAAKokC,gBAAgB3+B,gBAAgB,mBAGrCzF,KAAKokC,gBAAgBjgC,UAAUyE,IAAI,YACnC5I,KAAKokC,gBAAgB9+B,aAAa,gBAAiB,QAE3D,E,sGCxDJ,MAAMg/B,EACFxkC,WAAAA,CAAY8zB,GACR5zB,KAAK4zB,SAAWA,CACpB,CACA,WAAI3tB,GACA,OAAOjG,KAAK4zB,QAChB,CACA,eAAIttB,CAAYK,GACR3G,KAAKukC,UAAY59B,IAAY3G,KAAKwkC,eAGtCxkC,KAAKwkC,aAAe79B,EACpB3G,KAAK4zB,SAASttB,YAAcK,EAChC,CACA,aAAI3C,CAAUA,GACNhE,KAAKukC,UAAYvgC,IAAchE,KAAKkB,aAGxClB,KAAKkB,WAAa8C,EAClBhE,KAAK4zB,SAAS5vB,UAAYA,EAC9B,CACA,SAAIygC,CAAMA,GACFzkC,KAAKukC,UAAYE,IAAUzkC,KAAK0kC,SAGpC1kC,KAAK0kC,OAASD,EACdzkC,KAAK4zB,SAAS9xB,MAAM6iC,WAAaF,EAAQ,IAAM,GACnD,CACA76B,OAAAA,GACI5J,KAAKukC,UAAW,CACpB,EAEG,MAAMK,UAAkB5iB,EAAAA,GAC3BliB,WAAAA,CAAYipB,EAAWtiB,GACnBwb,QACAjiB,KAAK6kC,aAAe,IAAI5vB,IACxBjV,KAAK8kC,gBAAkBr+B,EACvBzG,KAAKD,QAAUC,KAAKyiB,UAAU,IAAI6hB,EAAcx5B,EAAAA,GAAWie,EAAWje,EAAIygB,EAAE,yBAC5EvrB,KAAK+kC,eAAiBj6B,EAAAA,GAAW9K,KAAKD,QAAQkG,QAAS6E,EAAIygB,EAAE,iCAC7D,MAAMyZ,EAAgBl6B,EAAAA,GAAW9K,KAAK+kC,eAAgBj6B,EAAIygB,EAAE,qCAC3C,OAAZ9kB,QAAgC,IAAZA,OAAqB,EAASA,EAAQw+B,qBAAmC,OAAZx+B,QAAgC,IAAZA,OAAqB,EAASA,EAAQivB,cAC5I11B,KAAKklC,SAAW,IAAIC,EAAoBH,IAAiBv+B,EAAQivB,cAGjE11B,KAAKklC,SAAW,IAAIE,EAAMJ,GAE9BhlC,KAAK8qB,cAA4B,OAAZrkB,QAAgC,IAAZA,OAAqB,EAASA,EAAQqkB,aACnF,CACA,WAAI7kB,GACA,OAAOjG,KAAKD,QAAQkG,OACxB,CACAo/B,QAAAA,CAAShd,EAAOid,EAAa7+B,GACzB,MAAM8+B,EAAe,CAAC,qBAChBC,EAAmB,CAAC,+BAmB1B,GAlBI/+B,IACIA,EAAQ68B,cACRiC,EAAax9B,QAAQtB,EAAQ68B,cAE7B78B,EAAQg/B,QACRF,EAAax9B,KAAK,UAElBtB,EAAQi/B,eACRH,EAAax9B,KAAK,iBAElBtB,EAAQk/B,iBACRH,EAAiBz9B,KAAK,aAG9B/H,KAAKD,QAAQiE,UAAYuhC,EAAax3B,KAAK,KAC3C/N,KAAK+kC,eAAe/gC,UAAYwhC,EAAiBz3B,KAAK,KACtD/N,KAAK4lC,YAAwB,OAAZn/B,QAAgC,IAAZA,OAAqB,EAASA,EAAQo/B,kBAAoB7lC,KAAK+kC,eAAiB/kC,KAAKiG,QAAqB,OAAZQ,QAAgC,IAAZA,OAAqB,EAASA,EAAQiH,OAC7L1N,KAAKklC,SAASG,SAAShd,EAAO5hB,GAC1B6+B,GAAetlC,KAAK8lC,gBAAiB,CACrC,MAAMA,EAAkB9lC,KAAK+lC,6BACzBD,aAA2BhD,EAAAA,GAC3BgD,EAAgBvU,IAAI+T,GAAe,GAAI7+B,EAAUA,EAAQu/B,wBAAqB3/B,OAAWA,EAAuB,OAAZI,QAAgC,IAAZA,OAAqB,EAASA,EAAQw/B,qBAC9JjmC,KAAK4lC,WAAWE,EAAgB7/B,QAAqB,OAAZQ,QAAgC,IAAZA,OAAqB,EAASA,EAAQo/B,oBAGnGC,EAAgBx/B,YAAcg/B,IAA4B,OAAZ7+B,QAAgC,IAAZA,OAAqB,EAASA,EAAQw/B,qBAAuBnD,EAAAA,EAAiBG,eAAeqC,EAAa,IAAOA,GAAe,GAClMtlC,KAAK4lC,WAAWE,EAAgB7/B,SAAsB,OAAZQ,QAAgC,IAAZA,OAAqB,EAASA,EAAQo/B,mBAAqB,IACzHC,EAAgBrB,OAASa,EAEjC,CACJ,CACAM,UAAAA,CAAWM,EAAa1d,GACpB,MAAM2d,EAAsBnmC,KAAK6kC,aAAaxvB,IAAI6wB,GAKlD,GAJIC,IACAA,EAAoBv8B,UACpB5J,KAAK6kC,aAAauB,OAAOF,IAExB1d,EAIL,GAAKxoB,KAAK8qB,cAGL,CACD,MAAMub,GAAkBpb,EAAAA,EAAAA,GAAiBjrB,KAAK8qB,cAAeob,EAAa1d,GACtE6d,GACArmC,KAAK6kC,aAAatT,IAAI2U,EAAaG,EAE3C,MAPIC,EAAAA,EAAAA,GAAiBJ,EAAa1d,QAJ9B0d,EAAYzgC,gBAAgB,QAYpC,CACAmE,OAAAA,GACIqY,MAAMrY,UACN,IAAK,MAAM28B,KAAcvmC,KAAK6kC,aAAa2B,SACvCD,EAAW38B,UAEf5J,KAAK6kC,aAAa56B,OACtB,CACA87B,0BAAAA,GACI,IAAIx3B,EACJ,IAAKvO,KAAK8lC,gBAAiB,CACvB,MAAMW,EAAuBzmC,KAAKyiB,UAAU,IAAI6hB,EAAcx5B,EAAAA,GAAW9K,KAAK+kC,eAAgBj6B,EAAIygB,EAAE,8CAChE,QAA/Bhd,EAAKvO,KAAK8kC,uBAAoC,IAAPv2B,OAAgB,EAASA,EAAGm4B,8BACpE1mC,KAAK8lC,gBAAkB,IAAIhD,EAAAA,EAAiBh4B,EAAAA,GAAW27B,EAAqBxgC,QAAS6E,EAAIygB,EAAE,2BAA4B,CAAEmK,eAAgB11B,KAAK8kC,gBAAgBpP,eAG9J11B,KAAK8lC,gBAAkB9lC,KAAKyiB,UAAU,IAAI6hB,EAAcx5B,EAAAA,GAAW27B,EAAqBxgC,QAAS6E,EAAIygB,EAAE,4BAE/G,CACA,OAAOvrB,KAAK8lC,eAChB,EAEJ,MAAMV,EACFtlC,WAAAA,CAAYipB,GACR/oB,KAAK+oB,UAAYA,EACjB/oB,KAAKqoB,WAAQhiB,EACbrG,KAAK2mC,iBAActgC,CACvB,CACAg/B,QAAAA,CAAShd,EAAO5hB,GACZ,GAAIzG,KAAKqoB,QAAUA,KAASrb,EAAAA,EAAAA,IAAOhN,KAAKyG,QAASA,GAKjD,GAFAzG,KAAKqoB,MAAQA,EACbroB,KAAKyG,QAAUA,EACM,kBAAV4hB,EACFroB,KAAK2mC,cACN3mC,KAAK+oB,UAAU6d,UAAY,GAC3B5mC,KAAK+oB,UAAU5kB,UAAUgf,OAAO,YAChCnjB,KAAK2mC,YAAc77B,EAAAA,GAAW9K,KAAK+oB,UAAWje,EAAIygB,EAAE,eAAgB,CAAEhb,GAAgB,OAAZ9J,QAAgC,IAAZA,OAAqB,EAASA,EAAQogC,UAExI7mC,KAAK2mC,YAAYrgC,YAAc+hB,MAE9B,CACDroB,KAAK+oB,UAAU6d,UAAY,GAC3B5mC,KAAK+oB,UAAU5kB,UAAUyE,IAAI,YAC7B5I,KAAK2mC,iBAActgC,EACnB,IAAK,IAAI2M,EAAI,EAAGA,EAAIqV,EAAMjiB,OAAQ4M,IAAK,CACnC,MAAM8zB,EAAIze,EAAMrV,GACVzC,GAAkB,OAAZ9J,QAAgC,IAAZA,OAAqB,EAASA,EAAQogC,QAAU,GAALhhC,OAAoB,OAAZY,QAAgC,IAAZA,OAAqB,EAASA,EAAQogC,MAAK,KAAAhhC,OAAImN,GACtJlI,EAAAA,GAAW9K,KAAK+oB,UAAWje,EAAIygB,EAAE,eAAgB,CAAEhb,KAAI,wBAAyB8X,EAAMjiB,OAAQ,wBAAyB4M,EAAG,KAAQ,YAAc8zB,IAC5I9zB,EAAIqV,EAAMjiB,OAAS,GACnB0E,EAAAA,GAAW9K,KAAK+oB,UAAWje,EAAIygB,EAAE,4BAAwBllB,GAAwB,OAAZI,QAAgC,IAAZA,OAAqB,EAASA,EAAQsgC,YAAc,KAErJ,CACJ,CACJ,EAiBJ,MAAM5B,EACFrlC,WAAAA,CAAYipB,EAAW2M,GACnB11B,KAAK+oB,UAAYA,EACjB/oB,KAAK01B,aAAeA,EACpB11B,KAAKqoB,WAAQhiB,EACbrG,KAAK2mC,iBAActgC,CACvB,CACAg/B,QAAAA,CAAShd,EAAO5hB,GACZ,GAAIzG,KAAKqoB,QAAUA,KAASrb,EAAAA,EAAAA,IAAOhN,KAAKyG,QAASA,GAKjD,GAFAzG,KAAKqoB,MAAQA,EACbroB,KAAKyG,QAAUA,EACM,kBAAV4hB,EACFroB,KAAK2mC,cACN3mC,KAAK+oB,UAAU6d,UAAY,GAC3B5mC,KAAK+oB,UAAU5kB,UAAUgf,OAAO,YAChCnjB,KAAK2mC,YAAc,IAAI7D,EAAAA,EAAiBh4B,EAAAA,GAAW9K,KAAK+oB,UAAWje,EAAIygB,EAAE,eAAgB,CAAEhb,GAAgB,OAAZ9J,QAAgC,IAAZA,OAAqB,EAASA,EAAQogC,SAAW,CAAEnR,aAAc11B,KAAK01B,gBAE7L11B,KAAK2mC,YAAYpV,IAAIlJ,EAAmB,OAAZ5hB,QAAgC,IAAZA,OAAqB,EAASA,EAAQugC,aAAS3gC,EAAuB,OAAZI,QAAgC,IAAZA,OAAqB,EAASA,EAAQw/B,yBAEnK,CACDjmC,KAAK+oB,UAAU6d,UAAY,GAC3B5mC,KAAK+oB,UAAU5kB,UAAUyE,IAAI,YAC7B5I,KAAK2mC,iBAActgC,EACnB,MAAM0gC,GAAyB,OAAZtgC,QAAgC,IAAZA,OAAqB,EAASA,EAAQsgC,YAAc,IACrFC,EAzClB,SAAsBC,EAAQF,EAAWC,GACrC,IAAKA,EACD,OAEJ,IAAIE,EAAa,EACjB,OAAOD,EAAOpzB,KAAIwU,IACd,MAAM8e,EAAa,CAAEtO,MAAOqO,EAAYpO,IAAKoO,EAAa7e,EAAMjiB,QAC1D+G,EAAS65B,EACVnzB,KAAI1B,GAASwmB,EAAAA,EAAMyO,UAAUD,EAAYh1B,KACzCiT,QAAOiiB,IAAU1O,EAAAA,EAAMjH,QAAQ2V,KAC/BxzB,KAAIyzB,IAAA,IAAC,MAAEzO,EAAK,IAAEC,GAAKwO,EAAA,MAAM,CAAEzO,MAAOA,EAAQqO,EAAYpO,IAAKA,EAAMoO,EAAY,IAElF,OADAA,EAAaC,EAAWrO,IAAMiO,EAAU3gC,OACjC+G,CAAM,GAErB,CA2B4Bo6B,CAAalf,EAAO0e,EAAuB,OAAZtgC,QAAgC,IAAZA,OAAqB,EAASA,EAAQugC,SACzG,IAAK,IAAIh0B,EAAI,EAAGA,EAAIqV,EAAMjiB,OAAQ4M,IAAK,CACnC,MAAM8zB,EAAIze,EAAMrV,GACVwE,EAAIwvB,EAAUA,EAAQh0B,QAAK3M,EAC3BkK,GAAkB,OAAZ9J,QAAgC,IAAZA,OAAqB,EAASA,EAAQogC,QAAU,GAALhhC,OAAoB,OAAZY,QAAgC,IAAZA,OAAqB,EAASA,EAAQogC,MAAK,KAAAhhC,OAAImN,GAChJzN,EAAOuF,EAAIygB,EAAE,eAAgB,CAAEhb,KAAI,wBAAyB8X,EAAMjiB,OAAQ,wBAAyB4M,EAAG,KAAQ,aAC3F,IAAI8vB,EAAAA,EAAiBh4B,EAAAA,GAAW9K,KAAK+oB,UAAWxjB,GAAO,CAAEmwB,aAAc11B,KAAK01B,eACpFnE,IAAIuV,EAAGtvB,OAAGnR,EAAuB,OAAZI,QAAgC,IAAZA,OAAqB,EAASA,EAAQw/B,qBAC5FjzB,EAAIqV,EAAMjiB,OAAS,GACnB0E,EAAAA,GAAWvF,EAAMuF,EAAIygB,EAAE,4BAAwBllB,EAAW0gC,GAElE,CACJ,CACJ,E,sIC9NAna,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIlY,WAAU,SAAUoY,EAASC,GAC/C,SAASC,EAAU3nB,GAAS,IAAM4nB,EAAKJ,EAAU1lB,KAAK9B,GAAS,CAAE,MAAOwF,GAAKkiB,EAAOliB,EAAI,CAAE,CAC1F,SAASqiB,EAAS7nB,GAAS,IAAM4nB,EAAKJ,EAAiB,MAAExnB,GAAS,CAAE,MAAOwF,GAAKkiB,EAAOliB,EAAI,CAAE,CAC7F,SAASoiB,EAAKjgB,GAJlB,IAAe3H,EAIa2H,EAAOmgB,KAAOL,EAAQ9f,EAAO3H,QAJ1CA,EAIyD2H,EAAO3H,MAJhDA,aAAiBunB,EAAIvnB,EAAQ,IAAIunB,GAAE,SAAUE,GAAWA,EAAQznB,EAAQ,KAIjBqL,KAAKsc,EAAWE,EAAW,CAC7GD,GAAMJ,EAAYA,EAAUO,MAAMV,EAASC,GAAc,KAAKxlB,OAClE,GACJ,EASO,SAASg/B,EAAiBJ,EAAa1d,IACtCgf,EAAAA,EAAAA,IAAShf,GAET0d,EAAYx4B,OAAQ+5B,EAAAA,EAAAA,IAAWjf,IAEd,OAAZA,QAAgC,IAAZA,OAAqB,EAASA,EAAQkf,8BAC/DxB,EAAYx4B,MAAQ8a,EAAQkf,6BAG5BxB,EAAYzgC,gBAAgB,QAEpC,CACA,MAAMkiC,EACF7nC,WAAAA,CAAYgrB,EAAerf,EAAQm8B,GAC/B5nC,KAAK8qB,cAAgBA,EACrB9qB,KAAKyL,OAASA,EACdzL,KAAK4nC,gBAAkBA,CAC3B,CACA5c,MAAAA,CAAOrkB,EAAS2jB,EAAO7jB,GACnB,IAAI8H,EACJ,OAAOqe,EAAU5sB,UAAM,OAAQ,GAAQ,YAMnC,GALIA,KAAK6nC,2BAEL7nC,KAAK6nC,yBAAyBj+B,SAAQ,GACtC5J,KAAK6nC,8BAA2BxhC,GAEhCrG,KAAKyO,WACL,OAEJ,IAAIq5B,EACJ,QAAgBzhC,IAAZM,IAAyB6gC,EAAAA,EAAAA,IAAS7gC,IAAYA,aAAmBqqB,YACjE8W,EAAkBnhC,OAEjB,IAAKohC,EAAAA,EAAAA,IAAWphC,EAAQ0H,UAGxB,CAGIrO,KAAKgoC,cACNhoC,KAAKq3B,MAAK4Q,EAAAA,EAAAA,IAAS,oBAAqB,cAAe3d,GAG3DtqB,KAAK6nC,yBAA2B,IAAIK,EAAAA,EACpC,MAAMj1B,EAAQjT,KAAK6nC,yBAAyB50B,MAK5C,GAJA60B,QAAwBnhC,EAAQ0H,SAAS4E,QACjB5M,IAApByhC,IACAA,EAAkBnhC,EAAQ+gC,8BAE1B1nC,KAAKyO,YAAcwE,EAAMk1B,wBAGzB,MAER,MApBIL,EAA8C,QAA3Bv5B,EAAK5H,EAAQ0H,gBAA6B,IAAPE,EAAgBA,EAAK5H,EAAQ+gC,6BAqBvF1nC,KAAKq3B,KAAKyQ,EAAiBxd,EAAO7jB,EACtC,GACJ,CACA4wB,IAAAA,CAAK1wB,EAAS2jB,EAAO7jB,GACjB,MAAM2hC,EAAiBpoC,KAAKgoC,aAC5B,GAAIhoC,KAAKqoC,WAAW1hC,GAAU,CAC1B,MAAM2hC,EAAeh7B,OAAOsF,OAAO,CAAEjM,UAAS8E,OAAQzL,KAAKyL,OAAQ88B,YAA8C,YAAjCvoC,KAAK8qB,cAAc0d,UAAyBC,cAAe,EAA6BC,qBAAsB1oC,KAAK4nC,mBAAqBQ,GAAkB3hC,GAC1OzG,KAAKgoC,aAAehoC,KAAK8qB,cAAc6d,UAAUL,EAAche,EACnE,CACmB,OAAnB8d,QAA8C,IAAnBA,GAAqCA,EAAex+B,SACnF,CACAy+B,UAAAA,CAAW1hC,GACP,QAAKA,MAGDuuB,EAAAA,EAAAA,IAAiBvuB,MACRA,EAAQnB,MAGzB,CACA,cAAIiJ,GACA,IAAIF,EACJ,OAAoC,QAA5BA,EAAKvO,KAAKgoC,oBAAiC,IAAPz5B,OAAgB,EAASA,EAAGE,UAC5E,CACA7E,OAAAA,GACI,IAAI2E,EAAIC,EACqB,QAA5BD,EAAKvO,KAAKgoC,oBAAiC,IAAPz5B,GAAyBA,EAAG3E,UACxB,QAAxC4E,EAAKxO,KAAK6nC,gCAA6C,IAAPr5B,GAAyBA,EAAG5E,SAAQ,GACrF5J,KAAK6nC,8BAA2BxhC,CACpC,EAEG,SAAS4kB,EAAiBH,EAAeob,EAAav/B,EAASF,GAClE,IAAImiC,EACAC,EACJ,MAAMC,EAAYA,CAACC,EAAeC,KAC9B,IAAIz6B,EACJ,MAAM06B,OAA2B5iC,IAAhBwiC,EACbE,IACgB,OAAhBF,QAAwC,IAAhBA,GAAkCA,EAAYj/B,UACtEi/B,OAAcxiC,GAEd2iC,IACqB,OAArBJ,QAAkD,IAArBA,GAAuCA,EAAiBh/B,UACrFg/B,OAAmBviC,GAEnB4iC,IACwC,QAAvC16B,EAAKuc,EAAcoe,sBAAmC,IAAP36B,GAAyBA,EAAGgH,KAAKuV,GACrF,EAEEqe,EAAmBA,CAACC,EAAO9e,EAAO7e,IAC7B,IAAI49B,EAAAA,IAAa,IAAMzc,EAAU5sB,UAAM,OAAQ,GAAQ,YACrD6oC,IAAeA,EAAYp6B,aAC5Bo6B,EAAc,IAAIlB,EAAqB7c,EAAerf,GAAUy6B,EAAakD,EAAQ,SAC/EP,EAAY7d,OAAOrkB,EAAS2jB,EAAO7jB,GAEjD,KAAI2iC,GA4BFE,EAAsBx+B,EAAAA,GAA0Bo7B,EAAap7B,EAAAA,GAAc0pB,YA1B7D+U,KAChB,GAAIX,EACA,OAEJ,MAAMY,EAAY,IAAI//B,EAAAA,GAEtB+/B,EAAU5gC,IAAIkC,EAAAA,GAA0Bo7B,EAAap7B,EAAAA,GAAc2+B,aAD7Cz+B,GAAM89B,GAAU,EAAO99B,EAAE0+B,cAAgBxD,KAC+B,IAE9FsD,EAAU5gC,IAAIkC,EAAAA,GAA0Bo7B,EAAap7B,EAAAA,GAAc2e,YAD/CyT,IAAM4L,GAAU,GAAM,KACkD,IAC5F,MAAMr9B,EAAS,CACXk+B,eAAgB,CAACzD,GACjBt8B,QAASA,QAEb,QAAgCvD,IAA5BykB,EAAc0d,WAAuD,UAA5B1d,EAAc0d,UAAuB,CAE9E,MAAMoB,EAAe5+B,IACjBS,EAAO0a,EAAInb,EAAEmb,EAAI,GACZnb,EAAES,kBAAkBulB,aAAgBhmB,EAAES,OAAOtH,UAAUohB,SAAS,iBACjEujB,GAAU,GAAM,EACpB,EAEJU,EAAU5gC,IAAIkC,EAAAA,GAA0Bo7B,EAAap7B,EAAAA,GAAc++B,WAAYD,GAAa,GAChG,CACAJ,EAAU5gC,IAAIugC,EAAiBre,EAAcse,OAAO,EAAO39B,IAC3Dm9B,EAAmBY,CAAS,IAE0E,GAkB1G,MAjBc,CACVnS,KAAM/M,IACFwe,GAAU,GAAO,GACjBK,EAAiB,EAAG7e,EAAM,EAE9BiN,KAAMA,KACFuR,GAAU,GAAM,EAAK,EAEzB9d,OAAQA,CAAC8e,EAAYxB,IAAiB1b,EAAU5sB,UAAM,OAAQ,GAAQ,YAClE2G,EAAUmjC,QACa,OAAhBjB,QAAwC,IAAhBA,OAAyB,EAASA,EAAY7d,OAAOrkB,OAASN,EAAWiiC,EAC5G,IACA1+B,QAASA,KACL0/B,EAAoB1/B,UACpBk/B,GAAU,GAAM,EAAK,EAIjC,C,6DC5KA,MAAMiB,EAAsB,IAAIC,OAAO,iBAADnkC,OAAkBokC,EAAAA,EAAUC,mBAAkB,OAAArkC,OAAMokC,EAAAA,EAAUE,uBAAsB,UAAU,KAC7H,SAASv2B,EAAqB5N,GACjC,MAAM4uB,EAAW,IAAI3rB,MACrB,IAAIkJ,EACAi4B,EAAY,EAAGC,EAAW,EAC9B,KAAoD,QAA5Cl4B,EAAQ43B,EAAoBO,KAAKtkC,KAAiB,CACtDqkC,EAAWl4B,EAAMrK,OAAS,EACtBsiC,EAAYC,GACZzV,EAAS7sB,KAAK/B,EAAKq9B,UAAU+G,EAAWC,IAE5CD,GAAaj4B,EAAMrK,OAAS,GAAKqK,EAAM,GAAG/L,OAC1C,MAAO,CAAEmkC,EAASC,GAAWr4B,EAC7ByiB,EAAS7sB,KAAKwiC,EAAU,KAAH1kC,OAAQ2kC,EAAO,KAAMC,EAAW,CAAEl6B,GAAIi6B,IAC/D,CAIA,OAHIJ,EAAYpkC,EAAKI,QACjBwuB,EAAS7sB,KAAK/B,EAAKq9B,UAAU+G,IAE1BxV,CACX,CACO,SAAS6V,EAAWrf,GACvB,MAAM0J,EAAOhqB,EAAAA,EAAM,QAEnB,OADAgqB,EAAK3wB,UAAUyE,OAAOqhC,EAAAA,EAAUS,iBAAiBtf,IAC1C0J,CACX,C,wKCbA,MAAMvJ,EAAIzgB,EAAIygB,EACDof,EAAsB,CAC/BC,gBAAiB,UACjBC,gBAAiB,UACjBC,0BAA2B,UAC3BC,8BAA+B,UAC/BC,6BAA8B,UAC9BC,iCAAkC,UAClCC,2BAA4B,UAC5BC,+BAAgC,UAChCC,iBAAa/kC,EACbglC,oCAAgChlC,EAChCilC,mCAA+BjlC,EAC/BklC,sCAAkCllC,GAE/B,MAAMmlC,UAAiB/O,EAAAA,EAC1B38B,WAAAA,CAAYipB,EAAWkD,EAAqBxlB,GACxC,IAAI8H,EACJ0T,QACAjiB,KAAK6e,MAAQ,OACb7e,KAAKyrC,UAAYntB,OAAOotB,kBACxB1rC,KAAK2rC,aAAe3rC,KAAKyiB,UAAU,IAAI2L,EAAAA,IACvCpuB,KAAK6nB,YAAc7nB,KAAK2rC,aAAa7iC,MACrC9I,KAAK4rC,mBAAqB5rC,KAAKyiB,UAAU,IAAI2L,EAAAA,IAC7CpuB,KAAK6rC,kBAAoB7rC,KAAK4rC,mBAAmB9iC,MACjD9I,KAAKisB,oBAAsBA,EAC3BjsB,KAAKyG,QAAUA,EACfzG,KAAKqhC,QAAU,KACfrhC,KAAK09B,YAAc19B,KAAKyG,QAAQi3B,aAAe,GAC/C19B,KAAKwoB,QAA0C,QAA/Bja,EAAKvO,KAAKyG,QAAQ+hB,eAA4B,IAAPja,EAAgBA,EAAMvO,KAAK09B,aAAe,GACjG19B,KAAKswB,UAAYtwB,KAAKyG,QAAQ6pB,WAAa,GACvCtwB,KAAKyG,QAAQ63B,oBACbt+B,KAAK29B,WAAa39B,KAAKyG,QAAQ63B,kBAAkBX,YAErD39B,KAAKiG,QAAU6E,EAAAA,GAAWie,EAAWwC,EAAE,0BACvC,MAAMnjB,EAAUpI,KAAKyG,QAAQw3B,eAAiB,WAAa,QACrD6N,EAAUhhC,EAAAA,GAAW9K,KAAKiG,QAASslB,EAAE,eAO3C,GANAvrB,KAAK+e,MAAQjU,EAAAA,GAAWghC,EAASvgB,EAAEnjB,EAAU,iBAC7CpI,KAAK+e,MAAMzZ,aAAa,cAAe,OACvCtF,KAAK+e,MAAMzZ,aAAa,iBAAkB,OAC1CtF,KAAK+e,MAAMzZ,aAAa,aAAc,SACtCtF,KAAK+rC,QAAQ/rC,KAAK+e,OAAO,IAAM/e,KAAKiG,QAAQ9B,UAAUyE,IAAI,qBAC1D5I,KAAKgsC,OAAOhsC,KAAK+e,OAAO,IAAM/e,KAAKiG,QAAQ9B,UAAUgf,OAAO,qBACxDnjB,KAAKyG,QAAQw3B,eAAgB,CAC7Bj+B,KAAKyrC,UAAsD,kBAAnCzrC,KAAKyG,QAAQ03B,kBAAiCn+B,KAAKyG,QAAQ03B,kBAAoB7f,OAAOotB,kBAC9G1rC,KAAKisC,OAASnhC,EAAAA,GAAWghC,EAASvgB,EAAE,eACpCvrB,KAAKisC,OAAOrF,UAAY,OACxB5mC,KAAKksC,kBAAoB,IAAIC,EAAAA,GAAkBnsC,KAAKiG,QAAS,CAAEmmC,SAAU,IACrEpsC,KAAKyG,QAAQy3B,gBACbl+B,KAAK+e,MAAMzZ,aAAa,OAAQ,OAChCtF,KAAKisC,OAAOnqC,MAAMuqC,WAAa,MAC/BrsC,KAAKisC,OAAOnqC,MAAMwqC,SAAW,WAEjCxhC,EAAAA,GAAWie,EAAW/oB,KAAKksC,kBAAkBpI,cAC7C9jC,KAAKyiB,UAAUziB,KAAKksC,mBAEpBlsC,KAAKyiB,UAAUziB,KAAKksC,kBAAkBK,UAASvhC,GAAKhL,KAAK+e,MAAMlC,UAAY7R,EAAE6R,aAC7E,MAAM8D,EAAoB3gB,KAAKyiB,UAAU,IAAInR,EAAAA,EAAWhJ,SAAU,oBAC5DkkC,EAA4Bh7B,EAAAA,GAAM4T,OAAOzE,EAAkB7X,OAAO,KACpE,MAAM2jC,EAAYnkC,SAASokC,eAC3B,OAAsB,OAAdD,QAAoC,IAAdA,OAAuB,EAASA,EAAUE,cAAgBb,CAAO,IAGnG9rC,KAAKyiB,UAAU+pB,EAA0BxsC,KAAK4sC,uBAAwB5sC,OACtEA,KAAKyiB,UAAUziB,KAAK6rC,kBAAkB7rC,KAAK4sC,uBAAwB5sC,MACvE,MAEIA,KAAK+e,MAAMjY,KAAO9G,KAAKyG,QAAQK,MAAQ,OACvC9G,KAAK+e,MAAMzZ,aAAa,OAAQ,OAEhCtF,KAAKswB,WACLtwB,KAAK+e,MAAMzZ,aAAa,aAActF,KAAKswB,WAE3CtwB,KAAK09B,cAAgB19B,KAAKyG,QAAQomC,wBAClC7sC,KAAK8sC,eAAe9sC,KAAK09B,aAEzB19B,KAAKwoB,SACLxoB,KAAK+sC,WAAW/sC,KAAKwoB,SAEzBxoB,KAAK6/B,QAAQ7/B,KAAK+e,OAAO,IAAM/e,KAAKgtC,kBACpChtC,KAAKgsC,OAAOhsC,KAAK+e,OAAO,IAAM/e,KAAKitC,WACnCjtC,KAAK+rC,QAAQ/rC,KAAK+e,OAAO,IAAM/e,KAAKktC,YACpCltC,KAAKyiB,UAAUziB,KAAKmtC,cAAcntC,KAAK+e,QACvCS,YAAW,IAAMxf,KAAKotC,gBAAgB,GAElCptC,KAAKyG,QAAQyqB,UACblxB,KAAKqtC,UAAYrtC,KAAKyiB,UAAU,IAAI+K,EAAAA,EAAUxtB,KAAKiG,UACnDjG,KAAKqtC,UAAUtlC,KAAK/H,KAAKyG,QAAQyqB,QAAS,CAAE9F,MAAM,EAAM/C,OAAO,KAEnEroB,KAAKstC,aACT,CACAL,MAAAA,GACIjtC,KAAKutC,eACDvtC,KAAKyG,QAAQomC,wBACb7sC,KAAK+e,MAAMzZ,aAAa,cAAe,GAE/C,CACA4nC,OAAAA,GACIltC,KAAKwtC,eACDxtC,KAAKyG,QAAQomC,wBACb7sC,KAAK+e,MAAMzZ,aAAa,cAAetF,KAAK09B,aAAe,GAEnE,CACAoP,cAAAA,CAAeW,GACXztC,KAAK09B,YAAc+P,EACnBztC,KAAK+e,MAAMzZ,aAAa,cAAemoC,EAC3C,CACAV,UAAAA,CAAWvkB,GACPxoB,KAAKwoB,QAAUA,EACfxoB,KAAK+e,MAAMrR,MAAQ8a,CACvB,CACA,gBAAImX,GACA,OAAO3/B,KAAK+e,KAChB,CACA,SAAIvZ,GACA,OAAOxF,KAAK+e,MAAMvZ,KACtB,CACA,SAAIA,CAAMkoC,GACF1tC,KAAK+e,MAAMvZ,QAAUkoC,IACrB1tC,KAAK+e,MAAMvZ,MAAQkoC,EACnB1tC,KAAKgtC,gBAEb,CACA,UAAI9qC,GACA,MAAoC,kBAAtBlC,KAAK2tC,aAA4B3tC,KAAK2tC,aAAe7iC,EAAAA,GAAmB9K,KAAKiG,QAC/F,CACAqkB,KAAAA,GACItqB,KAAK+e,MAAMuL,OACf,CACAE,IAAAA,GACIxqB,KAAK+e,MAAMyL,MACf,CACAojB,QAAAA,GACI,OAAOtlC,SAAS8wB,gBAAkBp5B,KAAK+e,KAC3C,CACAwN,MAAAA,GAAqB,IAAd8a,EAAKlhC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACXnG,KAAK+e,MAAMwN,SACP8a,IACArnC,KAAK+e,MAAM8uB,kBAAkBxG,EAAMxO,MAAOwO,EAAMvO,KAC5CuO,EAAMvO,MAAQ94B,KAAK+e,MAAMvZ,MAAMY,SAC/BpG,KAAK+e,MAAMrC,WAAa1c,KAAK+e,MAAM+uB,aAG/C,CACAC,gBAAAA,GACI,OAAO/tC,KAAK+e,MAAMivB,eAAiBhuC,KAAK+e,MAAMvZ,MAAMY,QAAUpG,KAAK+e,MAAMkvB,iBAAmBjuC,KAAK+e,MAAMivB,YAC3G,CACA/N,MAAAA,GACIjgC,KAAK+e,MAAMtZ,gBAAgB,WAC/B,CACAy6B,OAAAA,GACIlgC,KAAKwqB,OACLxqB,KAAK+e,MAAMud,UAAW,EACtBt8B,KAAKutC,cACT,CACA,gBAAI/M,CAAaA,GAEbxgC,KAAK+e,MAAMjd,MAAME,MAAQ,eAAH6D,OAAkB26B,EAAY,OAChDxgC,KAAKisC,SACLjsC,KAAKisC,OAAOnqC,MAAM0+B,aAAeA,EAAe,KAExD,CACAoM,sBAAAA,GACI,GAAwC,kBAA7B5sC,KAAKkuC,qBAAiE,kBAAtBluC,KAAK2tC,eAA8B3tC,KAAKksC,kBAC/F,OAEJ,MAAMiC,EAAenuC,KAAKkuC,oBACpBhsC,EAASlC,KAAK2tC,aACd9wB,EAAY7c,KAAK+e,MAAMlC,UAC7B7c,KAAKksC,kBAAkBkC,oBAAoB,CAAED,eAAcjsC,WAC3DlC,KAAKksC,kBAAkBmC,kBAAkB,CAAExxB,aAC/C,CACAukB,WAAAA,CAAYC,EAASiN,GACjB,GAAmB,SAAftuC,KAAK6e,QAAoB7R,EAAAA,EAAAA,IAAOhN,KAAKqhC,QAASA,GAE9C,OAEJrhC,KAAKqhC,QAAUA,EACfrhC,KAAKiG,QAAQ9B,UAAUgf,OAAO,QAC9BnjB,KAAKiG,QAAQ9B,UAAUgf,OAAO,QAC9BnjB,KAAKiG,QAAQ9B,UAAUgf,OAAO,WAC9BnjB,KAAKiG,QAAQ9B,UAAUgf,OAAO,SAC9BnjB,KAAKiG,QAAQ9B,UAAUyE,IAAI5I,KAAKuuC,aAAalN,EAAQv6B,OACrD,MAAMolB,EAASlsB,KAAKwuC,cAAcxuC,KAAKqhC,QAAQv6B,MAC/C9G,KAAKiG,QAAQnE,MAAMi4B,OAAS,aAAHl0B,OAAgBiF,EAAAA,GAA0BohB,EAAO6N,OAAQ,gBAC9E/5B,KAAKqhC,QAAQ16B,UAAY3G,KAAK4tC,YAAcU,IAC5CtuC,KAAKwtC,cAEb,CACAjM,WAAAA,GACIvhC,KAAKqhC,QAAU,KACfrhC,KAAKiG,QAAQ9B,UAAUgf,OAAO,QAC9BnjB,KAAKiG,QAAQ9B,UAAUgf,OAAO,WAC9BnjB,KAAKiG,QAAQ9B,UAAUgf,OAAO,SAC9BnjB,KAAKiG,QAAQ9B,UAAUyE,IAAI,QAC3B5I,KAAKutC,eACLvtC,KAAKstC,aACT,CACAtO,QAAAA,GACI,IAAIyP,EAAW,KAYf,OAXIzuC,KAAK29B,aACL8Q,EAAWzuC,KAAK29B,WAAW39B,KAAKwF,OAC5BipC,GACAzuC,KAAK2/B,aAAar6B,aAAa,eAAgB,QAC/CtF,KAAKohC,YAAYqN,IAEZzuC,KAAK2/B,aAAa+O,aAAa,kBACpC1uC,KAAK2/B,aAAal6B,gBAAgB,gBAClCzF,KAAKuhC,gBAGO,OAAbkN,QAAkC,IAAbA,OAAsB,EAASA,EAAS3nC,IACxE,CACA0nC,aAAAA,CAAc1nC,GACV,MAAMolB,EAASlsB,KAAKyG,QAAQ+3B,eAC5B,OAAQ13B,GACJ,KAAK,EAA0B,MAAO,CAAEizB,OAAQ7N,EAAO4e,0BAA2BjX,WAAY3H,EAAO6e,8BAA+B9W,WAAY/H,EAAOof,+BACvJ,KAAK,EAA6B,MAAO,CAAEvR,OAAQ7N,EAAO8e,6BAA8BnX,WAAY3H,EAAO+e,iCAAkChX,WAAY/H,EAAOqf,kCAChK,QAAS,MAAO,CAAExR,OAAQ7N,EAAOgf,2BAA4BrX,WAAY3H,EAAOif,+BAAgClX,WAAY/H,EAAOmf,gCAE3I,CACAkD,YAAAA,CAAaznC,GACT,OAAQA,GACJ,KAAK,EAA0B,MAAO,OACtC,KAAK,EAA6B,MAAO,UACzC,QAAS,MAAO,QAExB,CACA0mC,YAAAA,GACI,IAAKxtC,KAAKisB,sBAAwBjsB,KAAKqhC,QACnC,OAEJ,IAAIsN,EACJ,MAAM/Y,EAASA,IAAM+Y,EAAI7sC,MAAME,MAAQ8I,EAAAA,EAAkB9K,KAAKiG,SAAW,KAgCzE,IAAI2oC,EA/BJ5uC,KAAKisB,oBAAoB4iB,gBAAgB,CACrC/W,UAAWA,IAAM93B,KAAKiG,QACtBoyB,gBAAiB,EACjBrZ,OAAS+J,IACL,IAAIxa,EAAIC,EACR,IAAKxO,KAAKqhC,QACN,OAAO,KAEXsN,EAAM7jC,EAAAA,GAAWie,EAAWwC,EAAE,+BAC9BqK,IACA,MAAMkZ,EAAgB,CAClBzmC,QAAQ,EACRrE,UAAW,2BAET+qC,EAAe/uC,KAAKqhC,QAAQ2N,eAC5BzoC,EAAAA,EAAAA,IAAoBvG,KAAKqhC,QAAQ16B,QAASmoC,IAC1C/oC,EAAAA,EAAAA,IAAW/F,KAAKqhC,QAAQ16B,QAASmoC,GACvCC,EAAY5qC,UAAUyE,IAAI5I,KAAKuuC,aAAavuC,KAAKqhC,QAAQv6B,OACzD,MAAMolB,EAASlsB,KAAKwuC,cAAcxuC,KAAKqhC,QAAQv6B,MAK/C,OAJAioC,EAAYjtC,MAAMgD,gBAA+C,QAA5ByJ,EAAK2d,EAAO2H,kBAA+B,IAAPtlB,EAAgBA,EAAK,GAC9FwgC,EAAYjtC,MAAM8C,MAAqC,QAA5B4J,EAAK0d,EAAO+H,kBAA+B,IAAPzlB,EAAgBA,EAAK,GACpFugC,EAAYjtC,MAAMi4B,OAAS7N,EAAO6N,OAAS,aAAHl0B,OAAgBqmB,EAAO6N,QAAW,GAC1EjvB,EAAAA,GAAW6jC,EAAKI,GACT,IAAI,EAEf7V,OAAQA,KACJl5B,KAAK6e,MAAQ,QAAQ,EAEzB+W,OAAQA,IAKRgZ,EADsB,IAAtB5uC,KAAKqhC,QAAQv6B,KACD8kB,EAAAA,GAAa,oBAAqB,aAAc5rB,KAAKqhC,QAAQ16B,SAE9C,IAAtB3G,KAAKqhC,QAAQv6B,KACN8kB,EAAAA,GAAa,sBAAuB,eAAgB5rB,KAAKqhC,QAAQ16B,SAGjEilB,EAAAA,GAAa,mBAAoB,YAAa5rB,KAAKqhC,QAAQ16B,SAE3EsoC,EAAAA,GAAWL,GACX5uC,KAAK6e,MAAQ,MACjB,CACA0uB,YAAAA,GACSvtC,KAAKisB,sBAGS,SAAfjsB,KAAK6e,OACL7e,KAAKisB,oBAAoBijB,kBAE7BlvC,KAAK6e,MAAQ,OACjB,CACAmuB,aAAAA,GACIhtC,KAAK2rC,aAAaxc,KAAKnvB,KAAKwF,OAC5BxF,KAAKg/B,WACLh/B,KAAKotC,eACLptC,KAAK+e,MAAM5a,UAAUC,OAAO,SAAUpE,KAAKwF,OACxB,SAAfxF,KAAK6e,OAAoB7e,KAAKisB,qBAC9BjsB,KAAKisB,oBAAoB2J,QAEjC,CACAwX,YAAAA,GACI,IAAKptC,KAAKisC,OACN,OAEJ,MAAMzmC,EAAQxF,KAAKwF,MAEb2pC,EAA0B,KADX3pC,EAAM4pC,WAAW5pC,EAAMY,OAAS,GAChB,IAAM,IAChBZ,EAAQ2pC,GAC9BhhC,QAAQ,UAAW,IAEpBnO,KAAKisC,OAAO3lC,YAAcd,EAAQ2pC,EAGlCnvC,KAAKisC,OAAOrF,UAAY,OAE5B5mC,KAAK41B,QACT,CACA0X,WAAAA,GACI,IAAI/+B,EAAIC,EAAIif,EACZ,MAAMvB,EAASlsB,KAAKyG,QAAQ+3B,eACtB3K,EAA+C,QAAjCtlB,EAAK2d,EAAO0e,uBAAoC,IAAPr8B,EAAgBA,EAAK,GAC5E0lB,EAA+C,QAAjCzlB,EAAK0d,EAAO2e,uBAAoC,IAAPr8B,EAAgBA,EAAK,GAC5EurB,EAAuC,QAA7BtM,EAAKvB,EAAOkf,mBAAgC,IAAP3d,EAAgBA,EAAK,GAC1EztB,KAAKiG,QAAQnE,MAAMgD,gBAAkB+uB,EACrC7zB,KAAKiG,QAAQnE,MAAM8C,MAAQqvB,EAC3Bj0B,KAAK+e,MAAMjd,MAAMgD,gBAAkB,UACnC9E,KAAK+e,MAAMjd,MAAM8C,MAAQqvB,EAEzBj0B,KAAKiG,QAAQnE,MAAMi4B,OAAS,aAAHl0B,OAAgBiF,EAAAA,GAA0BivB,EAAQ,eAC/E,CACAnE,MAAAA,GACI,IAAK51B,KAAKisC,OACN,OAEJ,MAAMoD,EAAiBrvC,KAAKkuC,oBAC5BluC,KAAKkuC,oBAAsBpjC,EAAAA,GAAmB9K,KAAKisC,QAC/CoD,IAAmBrvC,KAAKkuC,sBACxBluC,KAAK2tC,aAAeztB,KAAK7B,IAAIre,KAAKkuC,oBAAqBluC,KAAKyrC,WAC5DzrC,KAAK+e,MAAMjd,MAAMI,OAASlC,KAAK2tC,aAAe,KAC9C3tC,KAAK4rC,mBAAmBzc,KAAKnvB,KAAKkuC,qBAE1C,CACAoB,cAAAA,CAAetpC,GACX,MAAM25B,EAAe3/B,KAAK2/B,aACpB9G,EAAQ8G,EAAasO,eACrBnV,EAAM6G,EAAaqO,aACnBrnC,EAAUg5B,EAAan6B,MACf,OAAVqzB,GAA0B,OAARC,IAClB94B,KAAKwF,MAAQmB,EAAQ4L,OAAO,EAAGsmB,GAAS7yB,EAAOW,EAAQ4L,OAAOumB,GAC9D6G,EAAakO,kBAAkBhV,EAAQ,EAAGA,EAAQ,GAClD74B,KAAK41B,SAEb,CACAhsB,OAAAA,GACI,IAAI2E,EACJvO,KAAKutC,eACLvtC,KAAKqhC,QAAU,KACW,QAAzB9yB,EAAKvO,KAAKqtC,iBAA8B,IAAP9+B,GAAyBA,EAAG3E,UAC9DqY,MAAMrY,SACV,EAEG,MAAMy0B,UAAwBmN,EACjC1rC,WAAAA,CAAYipB,EAAWkD,EAAqBxlB,GACxC,MAAM8oC,EAA+B3jB,EAAAA,GAAa,CAAE1e,IAAK,wBAAyB2e,QAAS,CAAC,+GAAiH,eACvM2jB,EAAsC,cAAH3pC,OAAiB0pC,GACpDE,EAAgD,YAAH5pC,OAAe0pC,EAA4B,KAC9FttB,MAAM8G,EAAWkD,EAAqBxlB,GACtCzG,KAAK0vC,YAAc1vC,KAAKyiB,UAAU,IAAI2L,EAAAA,IACtCpuB,KAAKmwB,WAAanwB,KAAK0vC,YAAY5mC,MACnC9I,KAAKmuB,WAAanuB,KAAKyiB,UAAU,IAAI2L,EAAAA,IACrCpuB,KAAKquB,UAAYruB,KAAKmuB,WAAWrlB,MACjC9I,KAAKg+B,QAAU,IAAI2R,EAAAA,EAAiBlpC,EAAQu3B,QAAS,KAErD,MAAM4R,EAAYA,KACd,GAAInpC,EAAQ83B,iBAAmB93B,EAAQ83B,oBAAsBv+B,KAAK09B,YAAY7nB,SAAS25B,KAAyCxvC,KAAK09B,YAAY7nB,SAAS45B,IAAkDzvC,KAAKg+B,QAAQ6R,aAAazpC,OAAQ,CAC1O,MAAM+oC,EAASnvC,KAAK09B,YAAY7nB,SAAS,KAAO25B,EAAsCC,EAChFK,EAAsB9vC,KAAK09B,YAAcyR,EAC3C1oC,EAAQomC,wBAA0BvkC,SAAS8wB,gBAAkBp5B,KAAK+e,MAClE/e,KAAK09B,YAAcoS,EAGnB9vC,KAAK8sC,eAAegD,EAE5B,GAIJ9vC,KAAK+vC,SAAW,IAAIC,kBAAiB,CAACC,EAAcF,KAChDE,EAAa9mC,SAAS+mC,IACbA,EAASzkC,OAAOnF,aACjBspC,GACJ,GACF,IAEN5vC,KAAK+vC,SAASI,QAAQnwC,KAAK+e,MAAO,CAAEqxB,gBAAiB,CAAC,WACtDpwC,KAAK+rC,QAAQ/rC,KAAK+e,OAAO,IAAM6wB,MAC/B5vC,KAAKgsC,OAAOhsC,KAAK+e,OAAO,KACpB,MAAMsxB,EAAoBC,IACtB,GAAKtwC,KAAK09B,YAAY7nB,SAASy6B,GAG1B,CACD,MAAMC,EAAsBvwC,KAAK09B,YAAYtqB,MAAM,EAAGpT,KAAK09B,YAAYt3B,OAASkqC,EAAYlqC,QAO5F,OANIK,EAAQomC,uBACR7sC,KAAK09B,YAAc6S,EAGnBvwC,KAAK8sC,eAAeyD,IAEjB,CACX,CAXI,OAAO,CAWX,EAECF,EAAiBZ,IAClBY,EAAiBb,EACrB,GAER,CACA5lC,OAAAA,GACIqY,MAAMrY,UACF5J,KAAK+vC,WACL/vC,KAAK+vC,SAASS,aACdxwC,KAAK+vC,cAAW1pC,EAExB,CACAoqC,YAAAA,CAAaC,GACL1wC,KAAKwF,QAAUkrC,GAAU1wC,KAAKwF,QAAUxF,KAAK2wC,oBAC7C3wC,KAAKg+B,QAAQp1B,IAAI5I,KAAKwF,MAE9B,CACAorC,iBAAAA,GACI,OAAO5wC,KAAKg+B,QAAQ6S,QACxB,CACAC,kBAAAA,GACI,OAAO9wC,KAAKg+B,QAAQ+S,WACxB,CACAC,aAAAA,GACShxC,KAAKg+B,QAAQiT,IAAIjxC,KAAKwF,QACvBxF,KAAKywC,eAET,IAAInpC,EAAOtH,KAAKkxC,eACZ5pC,IACAA,EAAOA,IAAStH,KAAKwF,MAAQxF,KAAKkxC,eAAiB5pC,GAEvDtH,KAAKwF,MAAiB,OAAT8B,QAA0B,IAATA,EAAkBA,EAAO,GACvD2nC,EAAAA,GAAYjvC,KAAKwF,MAAQxF,KAAKwF,MAAQomB,EAAAA,GAAa,eAAgB,iBACvE,CACAulB,iBAAAA,GACSnxC,KAAKg+B,QAAQiT,IAAIjxC,KAAKwF,QACvBxF,KAAKywC,eAET,IAAIW,EAAWpxC,KAAKqxC,mBAChBD,IACAA,EAAWA,IAAapxC,KAAKwF,MAAQxF,KAAKqxC,mBAAqBD,GAE/DA,IACApxC,KAAKwF,MAAQ4rC,EACbnC,EAAAA,GAAYjvC,KAAKwF,OAEzB,CACAynC,MAAAA,GACIhrB,MAAMgrB,SACNjtC,KAAKmuB,WAAWgB,MACpB,CACA+d,OAAAA,GACIjrB,MAAMirB,UACNltC,KAAK0vC,YAAYvgB,MACrB,CACAwhB,eAAAA,GACI,IAAIW,EAAetxC,KAAKg+B,QAAQ/2B,UAKhC,OAJKqqC,IACDA,EAAetxC,KAAKg+B,QAAQuT,OAC5BvxC,KAAKg+B,QAAQ12B,QAEVgqC,CACX,CACAD,gBAAAA,GACI,OAAOrxC,KAAKg+B,QAAQoT,YAAcpxC,KAAKg+B,QAAQwT,OACnD,CACAN,YAAAA,GACI,OAAOlxC,KAAKg+B,QAAQ12B,MACxB,E","sources":["../../node_modules/monaco-editor/esm/vs/base/browser/fastDomNode.js","../../node_modules/monaco-editor/esm/vs/base/browser/formattedTextRenderer.js","../../node_modules/monaco-editor/esm/vs/base/browser/globalPointerMoveMonitor.js","../../node_modules/monaco-editor/esm/vs/base/browser/keyboardEvent.js","../../node_modules/monaco-editor/esm/vs/base/browser/markdownRenderer.js","../../node_modules/monaco-editor/esm/vs/base/browser/iframe.js","../../node_modules/monaco-editor/esm/vs/base/browser/mouseEvent.js","../../node_modules/monaco-editor/esm/vs/base/browser/performance.js","../../node_modules/monaco-editor/esm/vs/base/browser/touch.js","../../node_modules/monaco-editor/esm/vs/base/browser/trustedTypes.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionViewItems.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/button/button.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/contextview/contextview.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdown.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputToggles.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabelHover.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabels.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class FastDomNode {\n    constructor(domNode) {\n        this.domNode = domNode;\n        this._maxWidth = '';\n        this._width = '';\n        this._height = '';\n        this._top = '';\n        this._left = '';\n        this._bottom = '';\n        this._right = '';\n        this._paddingLeft = '';\n        this._fontFamily = '';\n        this._fontWeight = '';\n        this._fontSize = '';\n        this._fontStyle = '';\n        this._fontFeatureSettings = '';\n        this._fontVariationSettings = '';\n        this._textDecoration = '';\n        this._lineHeight = '';\n        this._letterSpacing = '';\n        this._className = '';\n        this._display = '';\n        this._position = '';\n        this._visibility = '';\n        this._color = '';\n        this._backgroundColor = '';\n        this._layerHint = false;\n        this._contain = 'none';\n        this._boxShadow = '';\n    }\n    setMaxWidth(_maxWidth) {\n        const maxWidth = numberAsPixels(_maxWidth);\n        if (this._maxWidth === maxWidth) {\n            return;\n        }\n        this._maxWidth = maxWidth;\n        this.domNode.style.maxWidth = this._maxWidth;\n    }\n    setWidth(_width) {\n        const width = numberAsPixels(_width);\n        if (this._width === width) {\n            return;\n        }\n        this._width = width;\n        this.domNode.style.width = this._width;\n    }\n    setHeight(_height) {\n        const height = numberAsPixels(_height);\n        if (this._height === height) {\n            return;\n        }\n        this._height = height;\n        this.domNode.style.height = this._height;\n    }\n    setTop(_top) {\n        const top = numberAsPixels(_top);\n        if (this._top === top) {\n            return;\n        }\n        this._top = top;\n        this.domNode.style.top = this._top;\n    }\n    setLeft(_left) {\n        const left = numberAsPixels(_left);\n        if (this._left === left) {\n            return;\n        }\n        this._left = left;\n        this.domNode.style.left = this._left;\n    }\n    setBottom(_bottom) {\n        const bottom = numberAsPixels(_bottom);\n        if (this._bottom === bottom) {\n            return;\n        }\n        this._bottom = bottom;\n        this.domNode.style.bottom = this._bottom;\n    }\n    setRight(_right) {\n        const right = numberAsPixels(_right);\n        if (this._right === right) {\n            return;\n        }\n        this._right = right;\n        this.domNode.style.right = this._right;\n    }\n    setPaddingLeft(_paddingLeft) {\n        const paddingLeft = numberAsPixels(_paddingLeft);\n        if (this._paddingLeft === paddingLeft) {\n            return;\n        }\n        this._paddingLeft = paddingLeft;\n        this.domNode.style.paddingLeft = this._paddingLeft;\n    }\n    setFontFamily(fontFamily) {\n        if (this._fontFamily === fontFamily) {\n            return;\n        }\n        this._fontFamily = fontFamily;\n        this.domNode.style.fontFamily = this._fontFamily;\n    }\n    setFontWeight(fontWeight) {\n        if (this._fontWeight === fontWeight) {\n            return;\n        }\n        this._fontWeight = fontWeight;\n        this.domNode.style.fontWeight = this._fontWeight;\n    }\n    setFontSize(_fontSize) {\n        const fontSize = numberAsPixels(_fontSize);\n        if (this._fontSize === fontSize) {\n            return;\n        }\n        this._fontSize = fontSize;\n        this.domNode.style.fontSize = this._fontSize;\n    }\n    setFontStyle(fontStyle) {\n        if (this._fontStyle === fontStyle) {\n            return;\n        }\n        this._fontStyle = fontStyle;\n        this.domNode.style.fontStyle = this._fontStyle;\n    }\n    setFontFeatureSettings(fontFeatureSettings) {\n        if (this._fontFeatureSettings === fontFeatureSettings) {\n            return;\n        }\n        this._fontFeatureSettings = fontFeatureSettings;\n        this.domNode.style.fontFeatureSettings = this._fontFeatureSettings;\n    }\n    setFontVariationSettings(fontVariationSettings) {\n        if (this._fontVariationSettings === fontVariationSettings) {\n            return;\n        }\n        this._fontVariationSettings = fontVariationSettings;\n        this.domNode.style.fontVariationSettings = this._fontVariationSettings;\n    }\n    setTextDecoration(textDecoration) {\n        if (this._textDecoration === textDecoration) {\n            return;\n        }\n        this._textDecoration = textDecoration;\n        this.domNode.style.textDecoration = this._textDecoration;\n    }\n    setLineHeight(_lineHeight) {\n        const lineHeight = numberAsPixels(_lineHeight);\n        if (this._lineHeight === lineHeight) {\n            return;\n        }\n        this._lineHeight = lineHeight;\n        this.domNode.style.lineHeight = this._lineHeight;\n    }\n    setLetterSpacing(_letterSpacing) {\n        const letterSpacing = numberAsPixels(_letterSpacing);\n        if (this._letterSpacing === letterSpacing) {\n            return;\n        }\n        this._letterSpacing = letterSpacing;\n        this.domNode.style.letterSpacing = this._letterSpacing;\n    }\n    setClassName(className) {\n        if (this._className === className) {\n            return;\n        }\n        this._className = className;\n        this.domNode.className = this._className;\n    }\n    toggleClassName(className, shouldHaveIt) {\n        this.domNode.classList.toggle(className, shouldHaveIt);\n        this._className = this.domNode.className;\n    }\n    setDisplay(display) {\n        if (this._display === display) {\n            return;\n        }\n        this._display = display;\n        this.domNode.style.display = this._display;\n    }\n    setPosition(position) {\n        if (this._position === position) {\n            return;\n        }\n        this._position = position;\n        this.domNode.style.position = this._position;\n    }\n    setVisibility(visibility) {\n        if (this._visibility === visibility) {\n            return;\n        }\n        this._visibility = visibility;\n        this.domNode.style.visibility = this._visibility;\n    }\n    setColor(color) {\n        if (this._color === color) {\n            return;\n        }\n        this._color = color;\n        this.domNode.style.color = this._color;\n    }\n    setBackgroundColor(backgroundColor) {\n        if (this._backgroundColor === backgroundColor) {\n            return;\n        }\n        this._backgroundColor = backgroundColor;\n        this.domNode.style.backgroundColor = this._backgroundColor;\n    }\n    setLayerHinting(layerHint) {\n        if (this._layerHint === layerHint) {\n            return;\n        }\n        this._layerHint = layerHint;\n        this.domNode.style.transform = this._layerHint ? 'translate3d(0px, 0px, 0px)' : '';\n    }\n    setBoxShadow(boxShadow) {\n        if (this._boxShadow === boxShadow) {\n            return;\n        }\n        this._boxShadow = boxShadow;\n        this.domNode.style.boxShadow = boxShadow;\n    }\n    setContain(contain) {\n        if (this._contain === contain) {\n            return;\n        }\n        this._contain = contain;\n        this.domNode.style.contain = this._contain;\n    }\n    setAttribute(name, value) {\n        this.domNode.setAttribute(name, value);\n    }\n    removeAttribute(name) {\n        this.domNode.removeAttribute(name);\n    }\n    appendChild(child) {\n        this.domNode.appendChild(child.domNode);\n    }\n    removeChild(child) {\n        this.domNode.removeChild(child.domNode);\n    }\n}\nfunction numberAsPixels(value) {\n    return (typeof value === 'number' ? `${value}px` : value);\n}\nexport function createFastDomNode(domNode) {\n    return new FastDomNode(domNode);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nexport function renderText(text, options = {}) {\n    const element = createElement(options);\n    element.textContent = text;\n    return element;\n}\nexport function renderFormattedText(formattedText, options = {}) {\n    const element = createElement(options);\n    _renderFormattedText(element, parseFormattedText(formattedText, !!options.renderCodeSegments), options.actionHandler, options.renderCodeSegments);\n    return element;\n}\nexport function createElement(options) {\n    const tagName = options.inline ? 'span' : 'div';\n    const element = document.createElement(tagName);\n    if (options.className) {\n        element.className = options.className;\n    }\n    return element;\n}\nclass StringStream {\n    constructor(source) {\n        this.source = source;\n        this.index = 0;\n    }\n    eos() {\n        return this.index >= this.source.length;\n    }\n    next() {\n        const next = this.peek();\n        this.advance();\n        return next;\n    }\n    peek() {\n        return this.source[this.index];\n    }\n    advance() {\n        this.index++;\n    }\n}\nfunction _renderFormattedText(element, treeNode, actionHandler, renderCodeSegments) {\n    let child;\n    if (treeNode.type === 2 /* FormatType.Text */) {\n        child = document.createTextNode(treeNode.content || '');\n    }\n    else if (treeNode.type === 3 /* FormatType.Bold */) {\n        child = document.createElement('b');\n    }\n    else if (treeNode.type === 4 /* FormatType.Italics */) {\n        child = document.createElement('i');\n    }\n    else if (treeNode.type === 7 /* FormatType.Code */ && renderCodeSegments) {\n        child = document.createElement('code');\n    }\n    else if (treeNode.type === 5 /* FormatType.Action */ && actionHandler) {\n        const a = document.createElement('a');\n        actionHandler.disposables.add(DOM.addStandardDisposableListener(a, 'click', (event) => {\n            actionHandler.callback(String(treeNode.index), event);\n        }));\n        child = a;\n    }\n    else if (treeNode.type === 8 /* FormatType.NewLine */) {\n        child = document.createElement('br');\n    }\n    else if (treeNode.type === 1 /* FormatType.Root */) {\n        child = element;\n    }\n    if (child && element !== child) {\n        element.appendChild(child);\n    }\n    if (child && Array.isArray(treeNode.children)) {\n        treeNode.children.forEach((nodeChild) => {\n            _renderFormattedText(child, nodeChild, actionHandler, renderCodeSegments);\n        });\n    }\n}\nfunction parseFormattedText(content, parseCodeSegments) {\n    const root = {\n        type: 1 /* FormatType.Root */,\n        children: []\n    };\n    let actionViewItemIndex = 0;\n    let current = root;\n    const stack = [];\n    const stream = new StringStream(content);\n    while (!stream.eos()) {\n        let next = stream.next();\n        const isEscapedFormatType = (next === '\\\\' && formatTagType(stream.peek(), parseCodeSegments) !== 0 /* FormatType.Invalid */);\n        if (isEscapedFormatType) {\n            next = stream.next(); // unread the backslash if it escapes a format tag type\n        }\n        if (!isEscapedFormatType && isFormatTag(next, parseCodeSegments) && next === stream.peek()) {\n            stream.advance();\n            if (current.type === 2 /* FormatType.Text */) {\n                current = stack.pop();\n            }\n            const type = formatTagType(next, parseCodeSegments);\n            if (current.type === type || (current.type === 5 /* FormatType.Action */ && type === 6 /* FormatType.ActionClose */)) {\n                current = stack.pop();\n            }\n            else {\n                const newCurrent = {\n                    type: type,\n                    children: []\n                };\n                if (type === 5 /* FormatType.Action */) {\n                    newCurrent.index = actionViewItemIndex;\n                    actionViewItemIndex++;\n                }\n                current.children.push(newCurrent);\n                stack.push(current);\n                current = newCurrent;\n            }\n        }\n        else if (next === '\\n') {\n            if (current.type === 2 /* FormatType.Text */) {\n                current = stack.pop();\n            }\n            current.children.push({\n                type: 8 /* FormatType.NewLine */\n            });\n        }\n        else {\n            if (current.type !== 2 /* FormatType.Text */) {\n                const textCurrent = {\n                    type: 2 /* FormatType.Text */,\n                    content: next\n                };\n                current.children.push(textCurrent);\n                stack.push(current);\n                current = textCurrent;\n            }\n            else {\n                current.content += next;\n            }\n        }\n    }\n    if (current.type === 2 /* FormatType.Text */) {\n        current = stack.pop();\n    }\n    if (stack.length) {\n        // incorrectly formatted string literal\n    }\n    return root;\n}\nfunction isFormatTag(char, supportCodeSegments) {\n    return formatTagType(char, supportCodeSegments) !== 0 /* FormatType.Invalid */;\n}\nfunction formatTagType(char, supportCodeSegments) {\n    switch (char) {\n        case '*':\n            return 3 /* FormatType.Bold */;\n        case '_':\n            return 4 /* FormatType.Italics */;\n        case '[':\n            return 5 /* FormatType.Action */;\n        case ']':\n            return 6 /* FormatType.ActionClose */;\n        case '`':\n            return supportCodeSegments ? 7 /* FormatType.Code */ : 0 /* FormatType.Invalid */;\n        default:\n            return 0 /* FormatType.Invalid */;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from './dom.js';\nimport { DisposableStore, toDisposable } from '../common/lifecycle.js';\nexport class GlobalPointerMoveMonitor {\n    constructor() {\n        this._hooks = new DisposableStore();\n        this._pointerMoveCallback = null;\n        this._onStopCallback = null;\n    }\n    dispose() {\n        this.stopMonitoring(false);\n        this._hooks.dispose();\n    }\n    stopMonitoring(invokeStopCallback, browserEvent) {\n        if (!this.isMonitoring()) {\n            // Not monitoring\n            return;\n        }\n        // Unhook\n        this._hooks.clear();\n        this._pointerMoveCallback = null;\n        const onStopCallback = this._onStopCallback;\n        this._onStopCallback = null;\n        if (invokeStopCallback && onStopCallback) {\n            onStopCallback(browserEvent);\n        }\n    }\n    isMonitoring() {\n        return !!this._pointerMoveCallback;\n    }\n    startMonitoring(initialElement, pointerId, initialButtons, pointerMoveCallback, onStopCallback) {\n        if (this.isMonitoring()) {\n            this.stopMonitoring(false);\n        }\n        this._pointerMoveCallback = pointerMoveCallback;\n        this._onStopCallback = onStopCallback;\n        let eventSource = initialElement;\n        try {\n            initialElement.setPointerCapture(pointerId);\n            this._hooks.add(toDisposable(() => {\n                try {\n                    initialElement.releasePointerCapture(pointerId);\n                }\n                catch (err) {\n                    // See https://github.com/microsoft/vscode/issues/161731\n                    //\n                    // `releasePointerCapture` sometimes fails when being invoked with the exception:\n                    //     DOMException: Failed to execute 'releasePointerCapture' on 'Element':\n                    //     No active pointer with the given id is found.\n                    //\n                    // There's no need to do anything in case of failure\n                }\n            }));\n        }\n        catch (err) {\n            // See https://github.com/microsoft/vscode/issues/144584\n            // See https://github.com/microsoft/vscode/issues/146947\n            // `setPointerCapture` sometimes fails when being invoked\n            // from a `mousedown` listener on macOS and Windows\n            // and it always fails on Linux with the exception:\n            //     DOMException: Failed to execute 'setPointerCapture' on 'Element':\n            //     No active pointer with the given id is found.\n            // In case of failure, we bind the listeners on the window\n            eventSource = window;\n        }\n        this._hooks.add(dom.addDisposableListener(eventSource, dom.EventType.POINTER_MOVE, (e) => {\n            if (e.buttons !== initialButtons) {\n                // Buttons state has changed in the meantime\n                this.stopMonitoring(true);\n                return;\n            }\n            e.preventDefault();\n            this._pointerMoveCallback(e);\n        }));\n        this._hooks.add(dom.addDisposableListener(eventSource, dom.EventType.POINTER_UP, (e) => this.stopMonitoring(true)));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { EVENT_KEY_CODE_MAP, KeyCodeUtils } from '../common/keyCodes.js';\nimport { KeyCodeChord } from '../common/keybindings.js';\nimport * as platform from '../common/platform.js';\nfunction extractKeyCode(e) {\n    if (e.charCode) {\n        // \"keypress\" events mostly\n        const char = String.fromCharCode(e.charCode).toUpperCase();\n        return KeyCodeUtils.fromString(char);\n    }\n    const keyCode = e.keyCode;\n    // browser quirks\n    if (keyCode === 3) {\n        return 7 /* KeyCode.PauseBreak */;\n    }\n    else if (browser.isFirefox) {\n        switch (keyCode) {\n            case 59: return 85 /* KeyCode.Semicolon */;\n            case 60:\n                if (platform.isLinux) {\n                    return 97 /* KeyCode.IntlBackslash */;\n                }\n                break;\n            case 61: return 86 /* KeyCode.Equal */;\n            // based on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#numpad_keys\n            case 107: return 109 /* KeyCode.NumpadAdd */;\n            case 109: return 111 /* KeyCode.NumpadSubtract */;\n            case 173: return 88 /* KeyCode.Minus */;\n            case 224:\n                if (platform.isMacintosh) {\n                    return 57 /* KeyCode.Meta */;\n                }\n                break;\n        }\n    }\n    else if (browser.isWebKit) {\n        if (platform.isMacintosh && keyCode === 93) {\n            // the two meta keys in the Mac have different key codes (91 and 93)\n            return 57 /* KeyCode.Meta */;\n        }\n        else if (!platform.isMacintosh && keyCode === 92) {\n            return 57 /* KeyCode.Meta */;\n        }\n    }\n    // cross browser keycodes:\n    return EVENT_KEY_CODE_MAP[keyCode] || 0 /* KeyCode.Unknown */;\n}\nconst ctrlKeyMod = (platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */);\nconst altKeyMod = 512 /* KeyMod.Alt */;\nconst shiftKeyMod = 1024 /* KeyMod.Shift */;\nconst metaKeyMod = (platform.isMacintosh ? 2048 /* KeyMod.CtrlCmd */ : 256 /* KeyMod.WinCtrl */);\nexport class StandardKeyboardEvent {\n    constructor(source) {\n        this._standardKeyboardEventBrand = true;\n        const e = source;\n        this.browserEvent = e;\n        this.target = e.target;\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        this.altGraphKey = e.getModifierState('AltGraph');\n        this.keyCode = extractKeyCode(e);\n        this.code = e.code;\n        // console.info(e.type + \": keyCode: \" + e.keyCode + \", which: \" + e.which + \", charCode: \" + e.charCode + \", detail: \" + e.detail + \" ====> \" + this.keyCode + ' -- ' + KeyCode[this.keyCode]);\n        this.ctrlKey = this.ctrlKey || this.keyCode === 5 /* KeyCode.Ctrl */;\n        this.altKey = this.altKey || this.keyCode === 6 /* KeyCode.Alt */;\n        this.shiftKey = this.shiftKey || this.keyCode === 4 /* KeyCode.Shift */;\n        this.metaKey = this.metaKey || this.keyCode === 57 /* KeyCode.Meta */;\n        this._asKeybinding = this._computeKeybinding();\n        this._asKeyCodeChord = this._computeKeyCodeChord();\n        // console.log(`code: ${e.code}, keyCode: ${e.keyCode}, key: ${e.key}`);\n    }\n    preventDefault() {\n        if (this.browserEvent && this.browserEvent.preventDefault) {\n            this.browserEvent.preventDefault();\n        }\n    }\n    stopPropagation() {\n        if (this.browserEvent && this.browserEvent.stopPropagation) {\n            this.browserEvent.stopPropagation();\n        }\n    }\n    toKeyCodeChord() {\n        return this._asKeyCodeChord;\n    }\n    equals(other) {\n        return this._asKeybinding === other;\n    }\n    _computeKeybinding() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        let result = 0;\n        if (this.ctrlKey) {\n            result |= ctrlKeyMod;\n        }\n        if (this.altKey) {\n            result |= altKeyMod;\n        }\n        if (this.shiftKey) {\n            result |= shiftKeyMod;\n        }\n        if (this.metaKey) {\n            result |= metaKeyMod;\n        }\n        result |= key;\n        return result;\n    }\n    _computeKeyCodeChord() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        return new KeyCodeChord(this.ctrlKey, this.shiftKey, this.altKey, this.metaKey, key);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nimport * as dompurify from './dompurify/dompurify.js';\nimport { DomEmitter } from './event.js';\nimport { createElement } from './formattedTextRenderer.js';\nimport { StandardKeyboardEvent } from './keyboardEvent.js';\nimport { StandardMouseEvent } from './mouseEvent.js';\nimport { renderLabelWithIcons } from './ui/iconLabel/iconLabels.js';\nimport { onUnexpectedError } from '../common/errors.js';\nimport { Event } from '../common/event.js';\nimport { escapeDoubleQuotes, parseHrefAndDimensions, removeMarkdownEscapes } from '../common/htmlContent.js';\nimport { markdownEscapeEscapedIcons } from '../common/iconLabels.js';\nimport { defaultGenerator } from '../common/idGenerator.js';\nimport { Lazy } from '../common/lazy.js';\nimport { DisposableStore } from '../common/lifecycle.js';\nimport { marked } from '../common/marked/marked.js';\nimport { parse } from '../common/marshalling.js';\nimport { FileAccess, Schemas } from '../common/network.js';\nimport { cloneAndChange } from '../common/objects.js';\nimport { dirname, resolvePath } from '../common/resources.js';\nimport { escape } from '../common/strings.js';\nimport { URI } from '../common/uri.js';\nconst defaultMarkedRenderers = Object.freeze({\n    image: (href, title, text) => {\n        let dimensions = [];\n        let attributes = [];\n        if (href) {\n            ({ href, dimensions } = parseHrefAndDimensions(href));\n            attributes.push(`src=\"${escapeDoubleQuotes(href)}\"`);\n        }\n        if (text) {\n            attributes.push(`alt=\"${escapeDoubleQuotes(text)}\"`);\n        }\n        if (title) {\n            attributes.push(`title=\"${escapeDoubleQuotes(title)}\"`);\n        }\n        if (dimensions.length) {\n            attributes = attributes.concat(dimensions);\n        }\n        return '<img ' + attributes.join(' ') + '>';\n    },\n    paragraph: (text) => {\n        return `<p>${text}</p>`;\n    },\n    link: (href, title, text) => {\n        if (typeof href !== 'string') {\n            return '';\n        }\n        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829\n        if (href === text) { // raw link case\n            text = removeMarkdownEscapes(text);\n        }\n        title = typeof title === 'string' ? escapeDoubleQuotes(removeMarkdownEscapes(title)) : '';\n        href = removeMarkdownEscapes(href);\n        // HTML Encode href\n        href = href.replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;');\n        return `<a href=\"${href}\" title=\"${title || href}\">${text}</a>`;\n    },\n});\n/**\n * Low-level way create a html element from a markdown string.\n *\n * **Note** that for most cases you should be using [`MarkdownRenderer`](./src/vs/editor/contrib/markdownRenderer/browser/markdownRenderer.ts)\n * which comes with support for pretty code block rendering and which uses the default way of handling links.\n */\nexport function renderMarkdown(markdown, options = {}, markedOptions = {}) {\n    var _a, _b;\n    const disposables = new DisposableStore();\n    let isDisposed = false;\n    const element = createElement(options);\n    const _uriMassage = function (part) {\n        let data;\n        try {\n            data = parse(decodeURIComponent(part));\n        }\n        catch (e) {\n            // ignore\n        }\n        if (!data) {\n            return part;\n        }\n        data = cloneAndChange(data, value => {\n            if (markdown.uris && markdown.uris[value]) {\n                return URI.revive(markdown.uris[value]);\n            }\n            else {\n                return undefined;\n            }\n        });\n        return encodeURIComponent(JSON.stringify(data));\n    };\n    const _href = function (href, isDomUri) {\n        const data = markdown.uris && markdown.uris[href];\n        let uri = URI.revive(data);\n        if (isDomUri) {\n            if (href.startsWith(Schemas.data + ':')) {\n                return href;\n            }\n            if (!uri) {\n                uri = URI.parse(href);\n            }\n            // this URI will end up as \"src\"-attribute of a dom node\n            // and because of that special rewriting needs to be done\n            // so that the URI uses a protocol that's understood by\n            // browsers (like http or https)\n            return FileAccess.uriToBrowserUri(uri).toString(true);\n        }\n        if (!uri) {\n            return href;\n        }\n        if (URI.parse(href).toString() === uri.toString()) {\n            return href; // no transformation performed\n        }\n        if (uri.query) {\n            uri = uri.with({ query: _uriMassage(uri.query) });\n        }\n        return uri.toString();\n    };\n    const renderer = new marked.Renderer();\n    renderer.image = defaultMarkedRenderers.image;\n    renderer.link = defaultMarkedRenderers.link;\n    renderer.paragraph = defaultMarkedRenderers.paragraph;\n    // Will collect [id, renderedElement] tuples\n    const codeBlocks = [];\n    const syncCodeBlocks = [];\n    if (options.codeBlockRendererSync) {\n        renderer.code = (code, lang) => {\n            const id = defaultGenerator.nextId();\n            const value = options.codeBlockRendererSync(postProcessCodeBlockLanguageId(lang), code);\n            syncCodeBlocks.push([id, value]);\n            return `<div class=\"code\" data-code=\"${id}\">${escape(code)}</div>`;\n        };\n    }\n    else if (options.codeBlockRenderer) {\n        renderer.code = (code, lang) => {\n            const id = defaultGenerator.nextId();\n            const value = options.codeBlockRenderer(postProcessCodeBlockLanguageId(lang), code);\n            codeBlocks.push(value.then(element => [id, element]));\n            return `<div class=\"code\" data-code=\"${id}\">${escape(code)}</div>`;\n        };\n    }\n    if (options.actionHandler) {\n        const _activateLink = function (event) {\n            let target = event.target;\n            if (target.tagName !== 'A') {\n                target = target.parentElement;\n                if (!target || target.tagName !== 'A') {\n                    return;\n                }\n            }\n            try {\n                let href = target.dataset['href'];\n                if (href) {\n                    if (markdown.baseUri) {\n                        href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                    }\n                    options.actionHandler.callback(href, event);\n                }\n            }\n            catch (err) {\n                onUnexpectedError(err);\n            }\n            finally {\n                event.preventDefault();\n            }\n        };\n        const onClick = options.actionHandler.disposables.add(new DomEmitter(element, 'click'));\n        const onAuxClick = options.actionHandler.disposables.add(new DomEmitter(element, 'auxclick'));\n        options.actionHandler.disposables.add(Event.any(onClick.event, onAuxClick.event)(e => {\n            const mouseEvent = new StandardMouseEvent(e);\n            if (!mouseEvent.leftButton && !mouseEvent.middleButton) {\n                return;\n            }\n            _activateLink(mouseEvent);\n        }));\n        options.actionHandler.disposables.add(DOM.addDisposableListener(element, 'keydown', (e) => {\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            if (!keyboardEvent.equals(10 /* KeyCode.Space */) && !keyboardEvent.equals(3 /* KeyCode.Enter */)) {\n                return;\n            }\n            _activateLink(keyboardEvent);\n        }));\n    }\n    if (!markdown.supportHtml) {\n        // TODO: Can we deprecated this in favor of 'supportHtml'?\n        // Use our own sanitizer so that we can let through only spans.\n        // Otherwise, we'd be letting all html be rendered.\n        // If we want to allow markdown permitted tags, then we can delete sanitizer and sanitize.\n        // We always pass the output through dompurify after this so that we don't rely on\n        // marked for sanitization.\n        markedOptions.sanitizer = (html) => {\n            const match = markdown.isTrusted ? html.match(/^(<span[^>]+>)|(<\\/\\s*span>)$/) : undefined;\n            return match ? html : '';\n        };\n        markedOptions.sanitize = true;\n        markedOptions.silent = true;\n    }\n    markedOptions.renderer = renderer;\n    // values that are too long will freeze the UI\n    let value = (_a = markdown.value) !== null && _a !== void 0 ? _a : '';\n    if (value.length > 100000) {\n        value = `${value.substr(0, 100000)}`;\n    }\n    // escape theme icons\n    if (markdown.supportThemeIcons) {\n        value = markdownEscapeEscapedIcons(value);\n    }\n    let renderedMarkdown;\n    if (options.fillInIncompleteTokens) {\n        // The defaults are applied by parse but not lexer()/parser(), and they need to be present\n        const opts = Object.assign(Object.assign({}, marked.defaults), markedOptions);\n        const tokens = marked.lexer(value, opts);\n        const newTokens = fillInIncompleteTokens(tokens);\n        renderedMarkdown = marked.parser(newTokens, opts);\n    }\n    else {\n        renderedMarkdown = marked.parse(value, markedOptions);\n    }\n    // Rewrite theme icons\n    if (markdown.supportThemeIcons) {\n        const elements = renderLabelWithIcons(renderedMarkdown);\n        renderedMarkdown = elements.map(e => typeof e === 'string' ? e : e.outerHTML).join('');\n    }\n    const htmlParser = new DOMParser();\n    const markdownHtmlDoc = htmlParser.parseFromString(sanitizeRenderedMarkdown(markdown, renderedMarkdown), 'text/html');\n    markdownHtmlDoc.body.querySelectorAll('img')\n        .forEach(img => {\n        const src = img.getAttribute('src'); // Get the raw 'src' attribute value as text, not the resolved 'src'\n        if (src) {\n            let href = src;\n            try {\n                if (markdown.baseUri) { // absolute or relative local path, or file: uri\n                    href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                }\n            }\n            catch (err) { }\n            img.src = _href(href, true);\n        }\n    });\n    markdownHtmlDoc.body.querySelectorAll('a')\n        .forEach(a => {\n        const href = a.getAttribute('href'); // Get the raw 'href' attribute value as text, not the resolved 'href'\n        a.setAttribute('href', ''); // Clear out href. We use the `data-href` for handling clicks instead\n        if (!href\n            || /^data:|javascript:/i.test(href)\n            || (/^command:/i.test(href) && !markdown.isTrusted)\n            || /^command:(\\/\\/\\/)?_workbench\\.downloadResource/i.test(href)) {\n            // drop the link\n            a.replaceWith(...a.childNodes);\n        }\n        else {\n            let resolvedHref = _href(href, false);\n            if (markdown.baseUri) {\n                resolvedHref = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n            }\n            a.dataset.href = resolvedHref;\n        }\n    });\n    element.innerHTML = sanitizeRenderedMarkdown(markdown, markdownHtmlDoc.body.innerHTML);\n    if (codeBlocks.length > 0) {\n        Promise.all(codeBlocks).then((tuples) => {\n            var _a, _b;\n            if (isDisposed) {\n                return;\n            }\n            const renderedElements = new Map(tuples);\n            const placeholderElements = element.querySelectorAll(`div[data-code]`);\n            for (const placeholderElement of placeholderElements) {\n                const renderedElement = renderedElements.get((_a = placeholderElement.dataset['code']) !== null && _a !== void 0 ? _a : '');\n                if (renderedElement) {\n                    DOM.reset(placeholderElement, renderedElement);\n                }\n            }\n            (_b = options.asyncRenderCallback) === null || _b === void 0 ? void 0 : _b.call(options);\n        });\n    }\n    else if (syncCodeBlocks.length > 0) {\n        const renderedElements = new Map(syncCodeBlocks);\n        const placeholderElements = element.querySelectorAll(`div[data-code]`);\n        for (const placeholderElement of placeholderElements) {\n            const renderedElement = renderedElements.get((_b = placeholderElement.dataset['code']) !== null && _b !== void 0 ? _b : '');\n            if (renderedElement) {\n                DOM.reset(placeholderElement, renderedElement);\n            }\n        }\n    }\n    // signal size changes for image tags\n    if (options.asyncRenderCallback) {\n        for (const img of element.getElementsByTagName('img')) {\n            const listener = disposables.add(DOM.addDisposableListener(img, 'load', () => {\n                listener.dispose();\n                options.asyncRenderCallback();\n            }));\n        }\n    }\n    return {\n        element,\n        dispose: () => {\n            isDisposed = true;\n            disposables.dispose();\n        }\n    };\n}\nfunction postProcessCodeBlockLanguageId(lang) {\n    if (!lang) {\n        return '';\n    }\n    const parts = lang.split(/[\\s+|:|,|\\{|\\?]/, 1);\n    if (parts.length) {\n        return parts[0];\n    }\n    return lang;\n}\nfunction resolveWithBaseUri(baseUri, href) {\n    const hasScheme = /^\\w[\\w\\d+.-]*:/.test(href);\n    if (hasScheme) {\n        return href;\n    }\n    if (baseUri.path.endsWith('/')) {\n        return resolvePath(baseUri, href).toString();\n    }\n    else {\n        return resolvePath(dirname(baseUri), href).toString();\n    }\n}\nfunction sanitizeRenderedMarkdown(options, renderedMarkdown) {\n    const { config, allowedSchemes } = getSanitizerOptions(options);\n    dompurify.addHook('uponSanitizeAttribute', (element, e) => {\n        if (e.attrName === 'style' || e.attrName === 'class') {\n            if (element.tagName === 'SPAN') {\n                if (e.attrName === 'style') {\n                    e.keepAttr = /^(color\\:(#[0-9a-fA-F]+|var\\(--vscode(-[a-zA-Z]+)+\\));)?(background-color\\:(#[0-9a-fA-F]+|var\\(--vscode(-[a-zA-Z]+)+\\));)?$/.test(e.attrValue);\n                    return;\n                }\n                else if (e.attrName === 'class') {\n                    e.keepAttr = /^codicon codicon-[a-z\\-]+( codicon-modifier-[a-z\\-]+)?$/.test(e.attrValue);\n                    return;\n                }\n            }\n            e.keepAttr = false;\n            return;\n        }\n    });\n    const hook = DOM.hookDomPurifyHrefAndSrcSanitizer(allowedSchemes);\n    try {\n        return dompurify.sanitize(renderedMarkdown, Object.assign(Object.assign({}, config), { RETURN_TRUSTED_TYPE: true }));\n    }\n    finally {\n        dompurify.removeHook('uponSanitizeAttribute');\n        hook.dispose();\n    }\n}\nexport const allowedMarkdownAttr = [\n    'align',\n    'autoplay',\n    'alt',\n    'class',\n    'controls',\n    'data-code',\n    'data-href',\n    'height',\n    'href',\n    'loop',\n    'muted',\n    'playsinline',\n    'poster',\n    'src',\n    'style',\n    'target',\n    'title',\n    'width',\n    'start',\n];\nfunction getSanitizerOptions(options) {\n    const allowedSchemes = [\n        Schemas.http,\n        Schemas.https,\n        Schemas.mailto,\n        Schemas.data,\n        Schemas.file,\n        Schemas.vscodeFileResource,\n        Schemas.vscodeRemote,\n        Schemas.vscodeRemoteResource,\n    ];\n    if (options.isTrusted) {\n        allowedSchemes.push(Schemas.command);\n    }\n    return {\n        config: {\n            // allowedTags should included everything that markdown renders to.\n            // Since we have our own sanitize function for marked, it's possible we missed some tag so let dompurify make sure.\n            // HTML tags that can result from markdown are from reading https://spec.commonmark.org/0.29/\n            // HTML table tags that can result from markdown are from https://github.github.com/gfm/#tables-extension-\n            ALLOWED_TAGS: [...DOM.basicMarkupHtmlTags],\n            ALLOWED_ATTR: allowedMarkdownAttr,\n            ALLOW_UNKNOWN_PROTOCOLS: true,\n        },\n        allowedSchemes\n    };\n}\n/**\n * Strips all markdown from `string`, if it's an IMarkdownString. For example\n * `# Header` would be output as `Header`. If it's not, the string is returned.\n */\nexport function renderStringAsPlaintext(string) {\n    return typeof string === 'string' ? string : renderMarkdownAsPlaintext(string);\n}\n/**\n * Strips all markdown from `markdown`. For example `# Header` would be output as `Header`.\n */\nexport function renderMarkdownAsPlaintext(markdown) {\n    var _a;\n    // values that are too long will freeze the UI\n    let value = (_a = markdown.value) !== null && _a !== void 0 ? _a : '';\n    if (value.length > 100000) {\n        value = `${value.substr(0, 100000)}`;\n    }\n    const html = marked.parse(value, { renderer: plainTextRenderer.value }).replace(/&(#\\d+|[a-zA-Z]+);/g, m => { var _a; return (_a = unescapeInfo.get(m)) !== null && _a !== void 0 ? _a : m; });\n    return sanitizeRenderedMarkdown({ isTrusted: false }, html).toString();\n}\nconst unescapeInfo = new Map([\n    ['&quot;', '\"'],\n    ['&nbsp;', ' '],\n    ['&amp;', '&'],\n    ['&#39;', '\\''],\n    ['&lt;', '<'],\n    ['&gt;', '>'],\n]);\nconst plainTextRenderer = new Lazy(() => {\n    const renderer = new marked.Renderer();\n    renderer.code = (code) => {\n        return code;\n    };\n    renderer.blockquote = (quote) => {\n        return quote;\n    };\n    renderer.html = (_html) => {\n        return '';\n    };\n    renderer.heading = (text, _level, _raw) => {\n        return text + '\\n';\n    };\n    renderer.hr = () => {\n        return '';\n    };\n    renderer.list = (body, _ordered) => {\n        return body;\n    };\n    renderer.listitem = (text) => {\n        return text + '\\n';\n    };\n    renderer.paragraph = (text) => {\n        return text + '\\n';\n    };\n    renderer.table = (header, body) => {\n        return header + body + '\\n';\n    };\n    renderer.tablerow = (content) => {\n        return content;\n    };\n    renderer.tablecell = (content, _flags) => {\n        return content + ' ';\n    };\n    renderer.strong = (text) => {\n        return text;\n    };\n    renderer.em = (text) => {\n        return text;\n    };\n    renderer.codespan = (code) => {\n        return code;\n    };\n    renderer.br = () => {\n        return '\\n';\n    };\n    renderer.del = (text) => {\n        return text;\n    };\n    renderer.image = (_href, _title, _text) => {\n        return '';\n    };\n    renderer.text = (text) => {\n        return text;\n    };\n    renderer.link = (_href, _title, text) => {\n        return text;\n    };\n    return renderer;\n});\nfunction mergeRawTokenText(tokens) {\n    let mergedTokenText = '';\n    tokens.forEach(token => {\n        mergedTokenText += token.raw;\n    });\n    return mergedTokenText;\n}\nfunction completeSingleLinePattern(token) {\n    for (const subtoken of token.tokens) {\n        if (subtoken.type === 'text') {\n            const lines = subtoken.raw.split('\\n');\n            const lastLine = lines[lines.length - 1];\n            if (lastLine.includes('`')) {\n                return completeCodespan(token);\n            }\n            else if (lastLine.includes('**')) {\n                return completeDoublestar(token);\n            }\n            else if (lastLine.match(/\\*\\w/)) {\n                return completeStar(token);\n            }\n            else if (lastLine.match(/(^|\\s)__\\w/)) {\n                return completeDoubleUnderscore(token);\n            }\n            else if (lastLine.match(/(^|\\s)_\\w/)) {\n                return completeUnderscore(token);\n            }\n            else if (lastLine.match(/(^|\\s)\\[.*\\]\\(\\w*/)) {\n                return completeLinkTarget(token);\n            }\n            else if (lastLine.match(/(^|\\s)\\[\\w/)) {\n                return completeLinkText(token);\n            }\n        }\n    }\n    return undefined;\n}\n// function completeListItemPattern(token: marked.Tokens.List): marked.Tokens.List | undefined {\n// \t// Patch up this one list item\n// \tconst lastItem = token.items[token.items.length - 1];\n// \tconst newList = completeSingleLinePattern(lastItem);\n// \tif (!newList || newList.type !== 'list') {\n// \t\t// Nothing to fix, or not a pattern we were expecting\n// \t\treturn;\n// \t}\n// \t// Re-parse the whole list with the last item replaced\n// \tconst completeList = marked.lexer(mergeRawTokenText(token.items.slice(0, token.items.length - 1)) + newList.items[0].raw);\n// \tif (completeList.length === 1 && completeList[0].type === 'list') {\n// \t\treturn completeList[0];\n// \t}\n// \t// Not a pattern we were expecting\n// \treturn undefined;\n// }\nexport function fillInIncompleteTokens(tokens) {\n    let i;\n    let newTokens;\n    for (i = 0; i < tokens.length; i++) {\n        const token = tokens[i];\n        if (token.type === 'paragraph' && token.raw.match(/(\\n|^)```/)) {\n            // If the code block was complete, it would be in a type='code'\n            newTokens = completeCodeBlock(tokens.slice(i));\n            break;\n        }\n        if (token.type === 'paragraph' && token.raw.match(/(\\n|^)\\|/)) {\n            newTokens = completeTable(tokens.slice(i));\n            break;\n        }\n        // if (i === tokens.length - 1 && token.type === 'list') {\n        // \tconst newListToken = completeListItemPattern(token);\n        // \tif (newListToken) {\n        // \t\tnewTokens = [newListToken];\n        // \t\tbreak;\n        // \t}\n        // }\n        if (i === tokens.length - 1 && token.type === 'paragraph') {\n            // Only operates on a single token, because any newline that follows this should break these patterns\n            const newToken = completeSingleLinePattern(token);\n            if (newToken) {\n                newTokens = [newToken];\n                break;\n            }\n        }\n    }\n    if (newTokens) {\n        const newTokensList = [\n            ...tokens.slice(0, i),\n            ...newTokens\n        ];\n        newTokensList.links = tokens.links;\n        return newTokensList;\n    }\n    return tokens;\n}\nfunction completeCodeBlock(tokens) {\n    const mergedRawText = mergeRawTokenText(tokens);\n    return marked.lexer(mergedRawText + '\\n```');\n}\nfunction completeCodespan(token) {\n    return completeWithString(token, '`');\n}\nfunction completeStar(tokens) {\n    return completeWithString(tokens, '*');\n}\nfunction completeUnderscore(tokens) {\n    return completeWithString(tokens, '_');\n}\nfunction completeLinkTarget(tokens) {\n    return completeWithString(tokens, ')');\n}\nfunction completeLinkText(tokens) {\n    return completeWithString(tokens, '](about:blank)');\n}\nfunction completeDoublestar(tokens) {\n    return completeWithString(tokens, '**');\n}\nfunction completeDoubleUnderscore(tokens) {\n    return completeWithString(tokens, '__');\n}\nfunction completeWithString(tokens, closingString) {\n    const mergedRawText = mergeRawTokenText(Array.isArray(tokens) ? tokens : [tokens]);\n    // If it was completed correctly, this should be a single token.\n    // Expecting either a Paragraph or a List\n    return marked.lexer(mergedRawText + closingString)[0];\n}\nfunction completeTable(tokens) {\n    const mergedRawText = mergeRawTokenText(tokens);\n    const lines = mergedRawText.split('\\n');\n    let numCols; // The number of line1 col headers\n    let hasSeparatorRow = false;\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim();\n        if (typeof numCols === 'undefined' && line.match(/^\\s*\\|/)) {\n            const line1Matches = line.match(/(\\|[^\\|]+)(?=\\||$)/g);\n            if (line1Matches) {\n                numCols = line1Matches.length;\n            }\n        }\n        else if (typeof numCols === 'number') {\n            if (line.match(/^\\s*\\|/)) {\n                if (i !== lines.length - 1) {\n                    // We got the line1 header row, and the line2 separator row, but there are more lines, and it wasn't parsed as a table!\n                    // That's strange and means that the table is probably malformed in the source, so I won't try to patch it up.\n                    return undefined;\n                }\n                // Got a line2 separator row- partial or complete, doesn't matter, we'll replace it with a correct one\n                hasSeparatorRow = true;\n            }\n            else {\n                // The line after the header row isn't a valid separator row, so the table is malformed, don't fix it up\n                return undefined;\n            }\n        }\n    }\n    if (typeof numCols === 'number' && numCols > 0) {\n        const prefixText = hasSeparatorRow ? lines.slice(0, -1).join('\\n') : mergedRawText;\n        const line1EndsInPipe = !!prefixText.match(/\\|\\s*$/);\n        const newRawText = prefixText + (line1EndsInPipe ? '' : '|') + `\\n|${' --- |'.repeat(numCols)}`;\n        return marked.lexer(newRawText);\n    }\n    return undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet hasDifferentOriginAncestorFlag = false;\nlet sameOriginWindowChainCache = null;\nfunction getParentWindowIfSameOrigin(w) {\n    if (!w.parent || w.parent === w) {\n        return null;\n    }\n    // Cannot really tell if we have access to the parent window unless we try to access something in it\n    try {\n        const location = w.location;\n        const parentLocation = w.parent.location;\n        if (location.origin !== 'null' && parentLocation.origin !== 'null' && location.origin !== parentLocation.origin) {\n            hasDifferentOriginAncestorFlag = true;\n            return null;\n        }\n    }\n    catch (e) {\n        hasDifferentOriginAncestorFlag = true;\n        return null;\n    }\n    return w.parent;\n}\nexport class IframeUtils {\n    /**\n     * Returns a chain of embedded windows with the same origin (which can be accessed programmatically).\n     * Having a chain of length 1 might mean that the current execution environment is running outside of an iframe or inside an iframe embedded in a window with a different origin.\n     * To distinguish if at one point the current execution environment is running inside a window with a different origin, see hasDifferentOriginAncestor()\n     */\n    static getSameOriginWindowChain() {\n        if (!sameOriginWindowChainCache) {\n            sameOriginWindowChainCache = [];\n            let w = window;\n            let parent;\n            do {\n                parent = getParentWindowIfSameOrigin(w);\n                if (parent) {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: w.frameElement || null\n                    });\n                }\n                else {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: null\n                    });\n                }\n                w = parent;\n            } while (w);\n        }\n        return sameOriginWindowChainCache.slice(0);\n    }\n    /**\n     * Returns the position of `childWindow` relative to `ancestorWindow`\n     */\n    static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {\n        if (!ancestorWindow || childWindow === ancestorWindow) {\n            return {\n                top: 0,\n                left: 0\n            };\n        }\n        let top = 0, left = 0;\n        const windowChain = this.getSameOriginWindowChain();\n        for (const windowChainEl of windowChain) {\n            top += windowChainEl.window.scrollY;\n            left += windowChainEl.window.scrollX;\n            if (windowChainEl.window === ancestorWindow) {\n                break;\n            }\n            if (!windowChainEl.iframeElement) {\n                break;\n            }\n            const boundingRect = windowChainEl.iframeElement.getBoundingClientRect();\n            top += boundingRect.top;\n            left += boundingRect.left;\n        }\n        return {\n            top: top,\n            left: left\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { IframeUtils } from './iframe.js';\nimport * as platform from '../common/platform.js';\nexport class StandardMouseEvent {\n    constructor(e) {\n        this.timestamp = Date.now();\n        this.browserEvent = e;\n        this.leftButton = e.button === 0;\n        this.middleButton = e.button === 1;\n        this.rightButton = e.button === 2;\n        this.buttons = e.buttons;\n        this.target = e.target;\n        this.detail = e.detail || 1;\n        if (e.type === 'dblclick') {\n            this.detail = 2;\n        }\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        if (typeof e.pageX === 'number') {\n            this.posx = e.pageX;\n            this.posy = e.pageY;\n        }\n        else {\n            // Probably hit by MSGestureEvent\n            this.posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n            this.posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        // Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n        const iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window, e.view);\n        this.posx -= iframeOffsets.left;\n        this.posy -= iframeOffsets.top;\n    }\n    preventDefault() {\n        this.browserEvent.preventDefault();\n    }\n    stopPropagation() {\n        this.browserEvent.stopPropagation();\n    }\n}\nexport class StandardWheelEvent {\n    constructor(e, deltaX = 0, deltaY = 0) {\n        this.browserEvent = e || null;\n        this.target = e ? (e.target || e.targetNode || e.srcElement) : null;\n        this.deltaY = deltaY;\n        this.deltaX = deltaX;\n        if (e) {\n            // Old (deprecated) wheel events\n            const e1 = e;\n            const e2 = e;\n            // vertical delta scroll\n            if (typeof e1.wheelDeltaY !== 'undefined') {\n                this.deltaY = e1.wheelDeltaY / 120;\n            }\n            else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n                this.deltaY = -e2.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaY = -e.deltaY / 3;\n                    }\n                    else {\n                        this.deltaY = -e.deltaY;\n                    }\n                }\n                else {\n                    this.deltaY = -e.deltaY / 40;\n                }\n            }\n            // horizontal delta scroll\n            if (typeof e1.wheelDeltaX !== 'undefined') {\n                if (browser.isSafari && platform.isWindows) {\n                    this.deltaX = -(e1.wheelDeltaX / 120);\n                }\n                else {\n                    this.deltaX = e1.wheelDeltaX / 120;\n                }\n            }\n            else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n                this.deltaX = -e.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaX = -e.deltaX / 3;\n                    }\n                    else {\n                        this.deltaX = -e.deltaX;\n                    }\n                }\n                else {\n                    this.deltaX = -e.deltaX / 40;\n                }\n            }\n            // Assume a vertical scroll if nothing else worked\n            if (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n                this.deltaY = e.wheelDelta / 120;\n            }\n        }\n    }\n    preventDefault() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.preventDefault();\n    }\n    stopPropagation() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var inputLatency;\n(function (inputLatency) {\n    const totalKeydownTime = { total: 0, min: Number.MAX_VALUE, max: 0 };\n    const totalInputTime = Object.assign({}, totalKeydownTime);\n    const totalRenderTime = Object.assign({}, totalKeydownTime);\n    const totalInputLatencyTime = Object.assign({}, totalKeydownTime);\n    let measurementsCount = 0;\n    const state = {\n        keydown: 0 /* EventPhase.Before */,\n        input: 0 /* EventPhase.Before */,\n        render: 0 /* EventPhase.Before */,\n    };\n    /**\n     * Record the start of the keydown event.\n     */\n    function onKeyDown() {\n        /** Direct Check C. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n        performance.mark('inputlatency/start');\n        performance.mark('keydown/start');\n        state.keydown = 1 /* EventPhase.InProgress */;\n        queueMicrotask(markKeyDownEnd);\n    }\n    inputLatency.onKeyDown = onKeyDown;\n    /**\n     * Mark the end of the keydown event.\n     */\n    function markKeyDownEnd() {\n        if (state.keydown === 1 /* EventPhase.InProgress */) {\n            performance.mark('keydown/end');\n            state.keydown = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the beforeinput event.\n     */\n    function onBeforeInput() {\n        performance.mark('input/start');\n        state.input = 1 /* EventPhase.InProgress */;\n        /** Schedule Task A. See explanation in {@link recordIfFinished} */\n        scheduleRecordIfFinishedTask();\n    }\n    inputLatency.onBeforeInput = onBeforeInput;\n    /**\n     * Record the start of the input event.\n     */\n    function onInput() {\n        if (state.input === 0 /* EventPhase.Before */) {\n            // it looks like we didn't receive a `beforeinput`\n            onBeforeInput();\n        }\n        queueMicrotask(markInputEnd);\n    }\n    inputLatency.onInput = onInput;\n    function markInputEnd() {\n        if (state.input === 1 /* EventPhase.InProgress */) {\n            performance.mark('input/end');\n            state.input = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the keyup event.\n     */\n    function onKeyUp() {\n        /** Direct Check D. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onKeyUp = onKeyUp;\n    /**\n     * Record the start of the selectionchange event.\n     */\n    function onSelectionChange() {\n        /** Direct Check E. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onSelectionChange = onSelectionChange;\n    /**\n     * Record the start of the animation frame performing the rendering.\n     */\n    function onRenderStart() {\n        // Render may be triggered during input, but we only measure the following animation frame\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 0 /* EventPhase.Before */) {\n            // Only measure the first render after keyboard input\n            performance.mark('render/start');\n            state.render = 1 /* EventPhase.InProgress */;\n            queueMicrotask(markRenderEnd);\n            /** Schedule Task B. See explanation in {@link recordIfFinished} */\n            scheduleRecordIfFinishedTask();\n        }\n    }\n    inputLatency.onRenderStart = onRenderStart;\n    /**\n     * Mark the end of the animation frame performing the rendering.\n     */\n    function markRenderEnd() {\n        if (state.render === 1 /* EventPhase.InProgress */) {\n            performance.mark('render/end');\n            state.render = 2 /* EventPhase.Finished */;\n        }\n    }\n    function scheduleRecordIfFinishedTask() {\n        // Here we can safely assume that the `setTimeout` will not be\n        // artificially delayed by 4ms because we schedule it from\n        // event handlers\n        setTimeout(recordIfFinished);\n    }\n    /**\n     * Record the input latency sample if input handling and rendering are finished.\n     *\n     * The challenge here is that we want to record the latency in such a way that it includes\n     * also the layout and painting work the browser does during the animation frame task.\n     *\n     * Simply scheduling a new task (via `setTimeout`) from the animation frame task would\n     * schedule the new task at the end of the task queue (after other code that uses `setTimeout`),\n     * so we need to use multiple strategies to make sure our task runs before others:\n     *\n     * We schedule tasks (A and B):\n     *    - we schedule a task A (via a `setTimeout` call) when the input starts in `markInputStart`.\n     *      If the animation frame task is scheduled quickly by the browser, then task A has a very good\n     *      chance of being the very first task after the animation frame and thus will record the input latency.\n     *    - however, if the animation frame task is scheduled a bit later, then task A might execute\n     *      before the animation frame task. We therefore schedule another task B from `markRenderStart`.\n     *\n     * We do direct checks in browser event handlers (C, D, E):\n     *    - if the browser has multiple keydown events queued up, they will be scheduled before the `setTimeout` tasks,\n     *      so we do a direct check in the keydown event handler (C).\n     *    - depending on timing, sometimes the animation frame is scheduled even before the `keyup` event, so we\n     *      do a direct check there too (E).\n     *    - the browser oftentimes emits a `selectionchange` event after an `input`, so we do a direct check there (D).\n     */\n    function recordIfFinished() {\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 2 /* EventPhase.Finished */) {\n            performance.mark('inputlatency/end');\n            performance.measure('keydown', 'keydown/start', 'keydown/end');\n            performance.measure('input', 'input/start', 'input/end');\n            performance.measure('render', 'render/start', 'render/end');\n            performance.measure('inputlatency', 'inputlatency/start', 'inputlatency/end');\n            addMeasure('keydown', totalKeydownTime);\n            addMeasure('input', totalInputTime);\n            addMeasure('render', totalRenderTime);\n            addMeasure('inputlatency', totalInputLatencyTime);\n            // console.info(\n            // \t`input latency=${performance.getEntriesByName('inputlatency')[0].duration.toFixed(1)} [` +\n            // \t`keydown=${performance.getEntriesByName('keydown')[0].duration.toFixed(1)}, ` +\n            // \t`input=${performance.getEntriesByName('input')[0].duration.toFixed(1)}, ` +\n            // \t`render=${performance.getEntriesByName('render')[0].duration.toFixed(1)}` +\n            // \t`]`\n            // );\n            measurementsCount++;\n            reset();\n        }\n    }\n    function addMeasure(entryName, cumulativeMeasurement) {\n        const duration = performance.getEntriesByName(entryName)[0].duration;\n        cumulativeMeasurement.total += duration;\n        cumulativeMeasurement.min = Math.min(cumulativeMeasurement.min, duration);\n        cumulativeMeasurement.max = Math.max(cumulativeMeasurement.max, duration);\n    }\n    /**\n     * Clear the current sample.\n     */\n    function reset() {\n        performance.clearMarks('keydown/start');\n        performance.clearMarks('keydown/end');\n        performance.clearMarks('input/start');\n        performance.clearMarks('input/end');\n        performance.clearMarks('render/start');\n        performance.clearMarks('render/end');\n        performance.clearMarks('inputlatency/start');\n        performance.clearMarks('inputlatency/end');\n        performance.clearMeasures('keydown');\n        performance.clearMeasures('input');\n        performance.clearMeasures('render');\n        performance.clearMeasures('inputlatency');\n        state.keydown = 0 /* EventPhase.Before */;\n        state.input = 0 /* EventPhase.Before */;\n        state.render = 0 /* EventPhase.Before */;\n    }\n    /**\n     * Gets all input latency samples and clears the internal buffers to start recording a new set\n     * of samples.\n     */\n    function getAndClearMeasurements() {\n        if (measurementsCount === 0) {\n            return undefined;\n        }\n        // Assemble the result\n        const result = {\n            keydown: cumulativeToFinalMeasurement(totalKeydownTime),\n            input: cumulativeToFinalMeasurement(totalInputTime),\n            render: cumulativeToFinalMeasurement(totalRenderTime),\n            total: cumulativeToFinalMeasurement(totalInputLatencyTime),\n            sampleCount: measurementsCount\n        };\n        // Clear the cumulative measurements\n        clearCumulativeMeasurement(totalKeydownTime);\n        clearCumulativeMeasurement(totalInputTime);\n        clearCumulativeMeasurement(totalRenderTime);\n        clearCumulativeMeasurement(totalInputLatencyTime);\n        measurementsCount = 0;\n        return result;\n    }\n    inputLatency.getAndClearMeasurements = getAndClearMeasurements;\n    function cumulativeToFinalMeasurement(cumulative) {\n        return {\n            average: cumulative.total / measurementsCount,\n            max: cumulative.max,\n            min: cumulative.min,\n        };\n    }\n    function clearCumulativeMeasurement(cumulative) {\n        cumulative.total = 0;\n        cumulative.min = Number.MAX_VALUE;\n        cumulative.max = 0;\n    }\n})(inputLatency || (inputLatency = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport * as DomUtils from './dom.js';\nimport * as arrays from '../common/arrays.js';\nimport { memoize } from '../common/decorators.js';\nimport { Disposable, toDisposable } from '../common/lifecycle.js';\nimport { LinkedList } from '../common/linkedList.js';\nexport var EventType;\n(function (EventType) {\n    EventType.Tap = '-monaco-gesturetap';\n    EventType.Change = '-monaco-gesturechange';\n    EventType.Start = '-monaco-gesturestart';\n    EventType.End = '-monaco-gesturesend';\n    EventType.Contextmenu = '-monaco-gesturecontextmenu';\n})(EventType || (EventType = {}));\nexport class Gesture extends Disposable {\n    constructor() {\n        super();\n        this.dispatched = false;\n        this.targets = new LinkedList();\n        this.ignoreTargets = new LinkedList();\n        this.activeTouches = {};\n        this.handle = null;\n        this._lastSetTapCountTime = 0;\n        this._register(DomUtils.addDisposableListener(document, 'touchstart', (e) => this.onTouchStart(e), { passive: false }));\n        this._register(DomUtils.addDisposableListener(document, 'touchend', (e) => this.onTouchEnd(e)));\n        this._register(DomUtils.addDisposableListener(document, 'touchmove', (e) => this.onTouchMove(e), { passive: false }));\n    }\n    static addTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = new Gesture();\n        }\n        const remove = Gesture.INSTANCE.targets.push(element);\n        return toDisposable(remove);\n    }\n    static ignoreTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = new Gesture();\n        }\n        const remove = Gesture.INSTANCE.ignoreTargets.push(element);\n        return toDisposable(remove);\n    }\n    static isTouchDevice() {\n        // `'ontouchstart' in window` always evaluates to true with typescript's modern typings. This causes `window` to be\n        // `never` later in `window.navigator`. That's why we need the explicit `window as Window` cast\n        return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    }\n    dispose() {\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        super.dispose();\n    }\n    onTouchStart(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        for (let i = 0, len = e.targetTouches.length; i < len; i++) {\n            const touch = e.targetTouches.item(i);\n            this.activeTouches[touch.identifier] = {\n                id: touch.identifier,\n                initialTarget: touch.target,\n                initialTimeStamp: timestamp,\n                initialPageX: touch.pageX,\n                initialPageY: touch.pageY,\n                rollingTimestamps: [timestamp],\n                rollingPageX: [touch.pageX],\n                rollingPageY: [touch.pageY]\n            };\n            const evt = this.newGestureEvent(EventType.Start, touch.target);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    onTouchEnd(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        const activeTouchCount = Object.keys(this.activeTouches).length;\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('move of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier], holdTime = Date.now() - data.initialTimeStamp;\n            if (holdTime < Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Tap, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (holdTime >= Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Contextmenu, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (activeTouchCount === 1) {\n                const finalX = arrays.tail(data.rollingPageX);\n                const finalY = arrays.tail(data.rollingPageY);\n                const deltaT = arrays.tail(data.rollingTimestamps) - data.rollingTimestamps[0];\n                const deltaX = finalX - data.rollingPageX[0];\n                const deltaY = finalY - data.rollingPageY[0];\n                // We need to get all the dispatch targets on the start of the inertia event\n                const dispatchTo = [...this.targets].filter(t => data.initialTarget instanceof Node && t.contains(data.initialTarget));\n                this.inertia(dispatchTo, timestamp, // time now\n                Math.abs(deltaX) / deltaT, // speed\n                deltaX > 0 ? 1 : -1, // x direction\n                finalX, // x now\n                Math.abs(deltaY) / deltaT, // y speed\n                deltaY > 0 ? 1 : -1, // y direction\n                finalY // y now\n                );\n            }\n            this.dispatchEvent(this.newGestureEvent(EventType.End, data.initialTarget));\n            // forget about this touch\n            delete this.activeTouches[touch.identifier];\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    newGestureEvent(type, initialTarget) {\n        const event = document.createEvent('CustomEvent');\n        event.initEvent(type, false, true);\n        event.initialTarget = initialTarget;\n        event.tapCount = 0;\n        return event;\n    }\n    dispatchEvent(event) {\n        if (event.type === EventType.Tap) {\n            const currentTime = (new Date()).getTime();\n            let setTapCount = 0;\n            if (currentTime - this._lastSetTapCountTime > Gesture.CLEAR_TAP_COUNT_TIME) {\n                setTapCount = 1;\n            }\n            else {\n                setTapCount = 2;\n            }\n            this._lastSetTapCountTime = currentTime;\n            event.tapCount = setTapCount;\n        }\n        else if (event.type === EventType.Change || event.type === EventType.Contextmenu) {\n            // tap is canceled by scrolling or context menu\n            this._lastSetTapCountTime = 0;\n        }\n        if (event.initialTarget instanceof Node) {\n            for (const ignoreTarget of this.ignoreTargets) {\n                if (ignoreTarget.contains(event.initialTarget)) {\n                    return;\n                }\n            }\n            for (const target of this.targets) {\n                if (target.contains(event.initialTarget)) {\n                    target.dispatchEvent(event);\n                    this.dispatched = true;\n                }\n            }\n        }\n    }\n    inertia(dispatchTo, t1, vX, dirX, x, vY, dirY, y) {\n        this.handle = DomUtils.scheduleAtNextAnimationFrame(() => {\n            const now = Date.now();\n            // velocity: old speed + accel_over_time\n            const deltaT = now - t1;\n            let delta_pos_x = 0, delta_pos_y = 0;\n            let stopped = true;\n            vX += Gesture.SCROLL_FRICTION * deltaT;\n            vY += Gesture.SCROLL_FRICTION * deltaT;\n            if (vX > 0) {\n                stopped = false;\n                delta_pos_x = dirX * vX * deltaT;\n            }\n            if (vY > 0) {\n                stopped = false;\n                delta_pos_y = dirY * vY * deltaT;\n            }\n            // dispatch translation event\n            const evt = this.newGestureEvent(EventType.Change);\n            evt.translationX = delta_pos_x;\n            evt.translationY = delta_pos_y;\n            dispatchTo.forEach(d => d.dispatchEvent(evt));\n            if (!stopped) {\n                this.inertia(dispatchTo, now, vX, dirX, x + delta_pos_x, vY, dirY, y + delta_pos_y);\n            }\n        });\n    }\n    onTouchMove(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('end of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier];\n            const evt = this.newGestureEvent(EventType.Change, data.initialTarget);\n            evt.translationX = touch.pageX - arrays.tail(data.rollingPageX);\n            evt.translationY = touch.pageY - arrays.tail(data.rollingPageY);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n            // only keep a few data points, to average the final speed\n            if (data.rollingPageX.length > 3) {\n                data.rollingPageX.shift();\n                data.rollingPageY.shift();\n                data.rollingTimestamps.shift();\n            }\n            data.rollingPageX.push(touch.pageX);\n            data.rollingPageY.push(touch.pageY);\n            data.rollingTimestamps.push(timestamp);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n}\nGesture.SCROLL_FRICTION = -0.005;\nGesture.HOLD_DELAY = 700;\nGesture.CLEAR_TAP_COUNT_TIME = 400; // ms\n__decorate([\n    memoize\n], Gesture, \"isTouchDevice\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { onUnexpectedError } from '../common/errors.js';\nexport function createTrustedTypesPolicy(policyName, policyOptions) {\n    var _a;\n    const monacoEnvironment = globalThis.MonacoEnvironment;\n    if (monacoEnvironment === null || monacoEnvironment === void 0 ? void 0 : monacoEnvironment.createTrustedTypesPolicy) {\n        try {\n            return monacoEnvironment.createTrustedTypesPolicy(policyName, policyOptions);\n        }\n        catch (err) {\n            onUnexpectedError(err);\n            return undefined;\n        }\n    }\n    try {\n        return (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(policyName, policyOptions);\n    }\n    catch (err) {\n        onUnexpectedError(err);\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { setupCustomHover } from '../iconLabel/iconLabelHover.js';\nimport { SelectBox } from '../selectBox/selectBox.js';\nimport { Action, ActionRunner, Separator } from '../../../common/actions.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nimport * as nls from '../../../../nls.js';\nexport class BaseActionViewItem extends Disposable {\n    get action() {\n        return this._action;\n    }\n    constructor(context, action, options = {}) {\n        super();\n        this.options = options;\n        this._context = context || this;\n        this._action = action;\n        if (action instanceof Action) {\n            this._register(action.onDidChange(event => {\n                if (!this.element) {\n                    // we have not been rendered yet, so there\n                    // is no point in updating the UI\n                    return;\n                }\n                this.handleActionChangeEvent(event);\n            }));\n        }\n    }\n    handleActionChangeEvent(event) {\n        if (event.enabled !== undefined) {\n            this.updateEnabled();\n        }\n        if (event.checked !== undefined) {\n            this.updateChecked();\n        }\n        if (event.class !== undefined) {\n            this.updateClass();\n        }\n        if (event.label !== undefined) {\n            this.updateLabel();\n            this.updateTooltip();\n        }\n        if (event.tooltip !== undefined) {\n            this.updateTooltip();\n        }\n    }\n    get actionRunner() {\n        if (!this._actionRunner) {\n            this._actionRunner = this._register(new ActionRunner());\n        }\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n    }\n    isEnabled() {\n        return this._action.enabled;\n    }\n    setActionContext(newContext) {\n        this._context = newContext;\n    }\n    render(container) {\n        const element = this.element = container;\n        this._register(Gesture.addTarget(container));\n        const enableDragging = this.options && this.options.draggable;\n        if (enableDragging) {\n            container.draggable = true;\n            if (isFirefox) {\n                // Firefox: requires to set a text data transfer to get going\n                this._register(addDisposableListener(container, EventType.DRAG_START, e => { var _a; return (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData(DataTransfers.TEXT, this._action.label); }));\n            }\n        }\n        this._register(addDisposableListener(element, TouchEventType.Tap, e => this.onClick(e, true))); // Preserve focus on tap #125470\n        this._register(addDisposableListener(element, EventType.MOUSE_DOWN, e => {\n            if (!enableDragging) {\n                EventHelper.stop(e, true); // do not run when dragging is on because that would disable it\n            }\n            if (this._action.enabled && e.button === 0) {\n                element.classList.add('active');\n            }\n        }));\n        if (platform.isMacintosh) {\n            // macOS: allow to trigger the button when holding Ctrl+key and pressing the\n            // main mouse button. This is for scenarios where e.g. some interaction forces\n            // the Ctrl+key to be pressed and hold but the user still wants to interact\n            // with the actions (for example quick access in quick navigation mode).\n            this._register(addDisposableListener(element, EventType.CONTEXT_MENU, e => {\n                if (e.button === 0 && e.ctrlKey === true) {\n                    this.onClick(e);\n                }\n            }));\n        }\n        this._register(addDisposableListener(element, EventType.CLICK, e => {\n            EventHelper.stop(e, true);\n            // menus do not use the click event\n            if (!(this.options && this.options.isMenu)) {\n                this.onClick(e);\n            }\n        }));\n        this._register(addDisposableListener(element, EventType.DBLCLICK, e => {\n            EventHelper.stop(e, true);\n        }));\n        [EventType.MOUSE_UP, EventType.MOUSE_OUT].forEach(event => {\n            this._register(addDisposableListener(element, event, e => {\n                EventHelper.stop(e);\n                element.classList.remove('active');\n            }));\n        });\n    }\n    onClick(event, preserveFocus = false) {\n        var _a;\n        EventHelper.stop(event, true);\n        const context = types.isUndefinedOrNull(this._context) ? ((_a = this.options) === null || _a === void 0 ? void 0 : _a.useEventAsContext) ? event : { preserveFocus } : this._context;\n        this.actionRunner.run(this._action, context);\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.element) {\n            this.element.tabIndex = 0;\n            this.element.focus();\n            this.element.classList.add('focused');\n        }\n    }\n    blur() {\n        if (this.element) {\n            this.element.blur();\n            this.element.tabIndex = -1;\n            this.element.classList.remove('focused');\n        }\n    }\n    setFocusable(focusable) {\n        if (this.element) {\n            this.element.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    get trapsArrowNavigation() {\n        return false;\n    }\n    updateEnabled() {\n        // implement in subclass\n    }\n    updateLabel() {\n        // implement in subclass\n    }\n    getTooltip() {\n        return this.action.tooltip;\n    }\n    updateTooltip() {\n        var _a;\n        if (!this.element) {\n            return;\n        }\n        const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n        this.updateAriaLabel();\n        if (!this.options.hoverDelegate) {\n            this.element.title = title;\n        }\n        else {\n            this.element.title = '';\n            if (!this.customHover) {\n                this.customHover = setupCustomHover(this.options.hoverDelegate, this.element, title);\n                this._store.add(this.customHover);\n            }\n            else {\n                this.customHover.update(title);\n            }\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.element) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.element.setAttribute('aria-label', title);\n        }\n    }\n    updateClass() {\n        // implement in subclass\n    }\n    updateChecked() {\n        // implement in subclass\n    }\n    dispose() {\n        if (this.element) {\n            this.element.remove();\n            this.element = undefined;\n        }\n        this._context = undefined;\n        super.dispose();\n    }\n}\nexport class ActionViewItem extends BaseActionViewItem {\n    constructor(context, action, options) {\n        super(context, action, options);\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n    }\n    render(container) {\n        super.render(container);\n        if (this.element) {\n            this.label = append(this.element, $('a.action-label'));\n        }\n        if (this.label) {\n            this.label.setAttribute('role', this.getDefaultAriaRole());\n        }\n        if (this.options.label && this.options.keybinding && this.element) {\n            append(this.element, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n    }\n    getDefaultAriaRole() {\n        if (this._action.id === Separator.ID) {\n            return 'presentation'; // A separator is a presentation item\n        }\n        else {\n            if (this.options.isMenu) {\n                return 'menuitem';\n            }\n            else {\n                return 'button';\n            }\n        }\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.label) {\n            this.label.tabIndex = 0;\n            this.label.focus();\n        }\n    }\n    blur() {\n        if (this.label) {\n            this.label.tabIndex = -1;\n        }\n    }\n    setFocusable(focusable) {\n        if (this.label) {\n            this.label.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this.action.label;\n        }\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (!this.options.label && this.action.label && this.options.icon) {\n            title = this.action.label;\n            if (this.options.keybinding) {\n                title = nls.localize({ key: 'titleLabel', comment: ['action title', 'action keybinding'] }, \"{0} ({1})\", title, this.options.keybinding);\n            }\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    updateClass() {\n        var _a;\n        if (this.cssClass && this.label) {\n            this.label.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon) {\n            this.cssClass = this.action.class;\n            if (this.label) {\n                this.label.classList.add('codicon');\n                if (this.cssClass) {\n                    this.label.classList.add(...this.cssClass.split(' '));\n                }\n            }\n            this.updateEnabled();\n        }\n        else {\n            (_a = this.label) === null || _a === void 0 ? void 0 : _a.classList.remove('codicon');\n        }\n    }\n    updateEnabled() {\n        var _a, _b;\n        if (this.action.enabled) {\n            if (this.label) {\n                this.label.removeAttribute('aria-disabled');\n                this.label.classList.remove('disabled');\n            }\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.classList.remove('disabled');\n        }\n        else {\n            if (this.label) {\n                this.label.setAttribute('aria-disabled', 'true');\n                this.label.classList.add('disabled');\n            }\n            (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.add('disabled');\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.label) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.label.setAttribute('aria-label', title);\n        }\n    }\n    updateChecked() {\n        if (this.label) {\n            if (this.action.checked !== undefined) {\n                this.label.classList.toggle('checked', this.action.checked);\n                this.label.setAttribute('aria-checked', this.action.checked ? 'true' : 'false');\n                this.label.setAttribute('role', 'checkbox');\n            }\n            else {\n                this.label.classList.remove('checked');\n                this.label.setAttribute('aria-checked', '');\n                this.label.setAttribute('role', this.getDefaultAriaRole());\n            }\n        }\n    }\n}\nexport class SelectActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options, selected, contextViewProvider, styles, selectBoxOptions) {\n        super(ctx, action);\n        this.selectBox = new SelectBox(options, selected, contextViewProvider, styles, selectBoxOptions);\n        this.selectBox.setFocusable(false);\n        this._register(this.selectBox);\n        this.registerListeners();\n    }\n    select(index) {\n        this.selectBox.select(index);\n    }\n    registerListeners() {\n        this._register(this.selectBox.onDidSelect(e => this.runAction(e.selected, e.index)));\n    }\n    runAction(option, index) {\n        this.actionRunner.run(this._action, this.getActionContext(option, index));\n    }\n    getActionContext(option, index) {\n        return option;\n    }\n    setFocusable(focusable) {\n        this.selectBox.setFocusable(focusable);\n    }\n    focus() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    blur() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.blur();\n    }\n    render(container) {\n        this.selectBox.render(container);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as DOM from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem } from './actionViewItems.js';\nimport { ActionRunner, Separator } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable, DisposableMap, DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nexport class ActionBar extends Disposable {\n    constructor(container, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        super();\n        this._actionRunnerDisposables = this._register(new DisposableStore());\n        this.viewItemDisposables = this._register(new DisposableMap());\n        // Trigger Key Tracking\n        this.triggerKeyDown = false;\n        this.focusable = true;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this._onDidCancel = this._register(new Emitter({ onWillAddFirstListener: () => this.cancelHasListener = true }));\n        this.onDidCancel = this._onDidCancel.event;\n        this.cancelHasListener = false;\n        this._onDidRun = this._register(new Emitter());\n        this.onDidRun = this._onDidRun.event;\n        this._onWillRun = this._register(new Emitter());\n        this.onWillRun = this._onWillRun.event;\n        this.options = options;\n        this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;\n        this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0 /* ActionsOrientation.HORIZONTAL */;\n        this._triggerKeys = {\n            keyDown: (_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : false,\n            keys: (_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3 /* KeyCode.Enter */, 10 /* KeyCode.Space */]\n        };\n        if (this.options.actionRunner) {\n            this._actionRunner = this.options.actionRunner;\n        }\n        else {\n            this._actionRunner = new ActionRunner();\n            this._actionRunnerDisposables.add(this._actionRunner);\n        }\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems = [];\n        this.focusedItem = undefined;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-action-bar';\n        if (options.animated !== false) {\n            this.domNode.classList.add('animated');\n        }\n        let previousKeys;\n        let nextKeys;\n        switch (this._orientation) {\n            case 0 /* ActionsOrientation.HORIZONTAL */:\n                previousKeys = [15 /* KeyCode.LeftArrow */];\n                nextKeys = [17 /* KeyCode.RightArrow */];\n                break;\n            case 1 /* ActionsOrientation.VERTICAL */:\n                previousKeys = [16 /* KeyCode.UpArrow */];\n                nextKeys = [18 /* KeyCode.DownArrow */];\n                this.domNode.className += ' vertical';\n                break;\n        }\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = true;\n            const focusedItem = typeof this.focusedItem === 'number' ? this.viewItems[this.focusedItem] : undefined;\n            if (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\n                eventHandled = this.focusPrevious();\n            }\n            else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\n                eventHandled = this.focusNext();\n            }\n            else if (event.equals(9 /* KeyCode.Escape */) && this.cancelHasListener) {\n                this._onDidCancel.fire();\n            }\n            else if (event.equals(14 /* KeyCode.Home */)) {\n                eventHandled = this.focusFirst();\n            }\n            else if (event.equals(13 /* KeyCode.End */)) {\n                eventHandled = this.focusLast();\n            }\n            else if (event.equals(2 /* KeyCode.Tab */) && focusedItem instanceof BaseActionViewItem && focusedItem.trapsArrowNavigation) {\n                eventHandled = this.focusNext();\n            }\n            else if (this.isTriggerKeyEvent(event)) {\n                // Staying out of the else branch even if not triggered\n                if (this._triggerKeys.keyDown) {\n                    this.doTrigger(event);\n                }\n                else {\n                    this.triggerKeyDown = true;\n                }\n            }\n            else {\n                eventHandled = false;\n            }\n            if (eventHandled) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }));\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            // Run action on Enter/Space\n            if (this.isTriggerKeyEvent(event)) {\n                if (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n                    this.triggerKeyDown = false;\n                    this.doTrigger(event);\n                }\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            // Recompute focused item\n            else if (event.equals(2 /* KeyCode.Tab */) || event.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n                this.updateFocusedItem();\n            }\n        }));\n        this.focusTracker = this._register(DOM.trackFocus(this.domNode));\n        this._register(this.focusTracker.onDidBlur(() => {\n            if (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\n                this._onDidBlur.fire();\n                this.focusedItem = undefined;\n                this.previouslyFocusedItem = undefined;\n                this.triggerKeyDown = false;\n            }\n        }));\n        this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\n        this.actionsList = document.createElement('ul');\n        this.actionsList.className = 'actions-container';\n        this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        if (this.options.ariaLabel) {\n            this.actionsList.setAttribute('aria-label', this.options.ariaLabel);\n        }\n        this.domNode.appendChild(this.actionsList);\n        container.appendChild(this.domNode);\n    }\n    refreshRole() {\n        if (this.length() >= 2) {\n            this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        }\n        else {\n            this.actionsList.setAttribute('role', 'presentation');\n        }\n    }\n    // Some action bars should not be focusable at times\n    // When an action bar is not focusable make sure to make all the elements inside it not focusable\n    // When an action bar is focusable again, make sure the first item can be focused\n    setFocusable(focusable) {\n        this.focusable = focusable;\n        if (this.focusable) {\n            const firstEnabled = this.viewItems.find(vi => vi instanceof BaseActionViewItem && vi.isEnabled());\n            if (firstEnabled instanceof BaseActionViewItem) {\n                firstEnabled.setFocusable(true);\n            }\n        }\n        else {\n            this.viewItems.forEach(vi => {\n                if (vi instanceof BaseActionViewItem) {\n                    vi.setFocusable(false);\n                }\n            });\n        }\n    }\n    isTriggerKeyEvent(event) {\n        let ret = false;\n        this._triggerKeys.keys.forEach(keyCode => {\n            ret = ret || event.equals(keyCode);\n        });\n        return ret;\n    }\n    updateFocusedItem() {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    get context() {\n        return this._context;\n    }\n    set context(context) {\n        this._context = context;\n        this.viewItems.forEach(i => i.setActionContext(context));\n    }\n    get actionRunner() {\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n        // when setting a new `IActionRunner` make sure to dispose old listeners and\n        // start to forward events from the new listener\n        this._actionRunnerDisposables.clear();\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems.forEach(item => item.actionRunner = actionRunner);\n    }\n    getContainer() {\n        return this.domNode;\n    }\n    getAction(indexOrElement) {\n        var _a;\n        // by index\n        if (typeof indexOrElement === 'number') {\n            return (_a = this.viewItems[indexOrElement]) === null || _a === void 0 ? void 0 : _a.action;\n        }\n        // by element\n        if (indexOrElement instanceof HTMLElement) {\n            while (indexOrElement.parentElement !== this.actionsList) {\n                if (!indexOrElement.parentElement) {\n                    return undefined;\n                }\n                indexOrElement = indexOrElement.parentElement;\n            }\n            for (let i = 0; i < this.actionsList.childNodes.length; i++) {\n                if (this.actionsList.childNodes[i] === indexOrElement) {\n                    return this.viewItems[i].action;\n                }\n            }\n        }\n        return undefined;\n    }\n    push(arg, options = {}) {\n        const actions = Array.isArray(arg) ? arg : [arg];\n        let index = types.isNumber(options.index) ? options.index : null;\n        actions.forEach((action) => {\n            const actionViewItemElement = document.createElement('li');\n            actionViewItemElement.className = 'action-item';\n            actionViewItemElement.setAttribute('role', 'presentation');\n            let item;\n            const viewItemOptions = Object.assign({ hoverDelegate: this.options.hoverDelegate }, options);\n            if (this.options.actionViewItemProvider) {\n                item = this.options.actionViewItemProvider(action, viewItemOptions);\n            }\n            if (!item) {\n                item = new ActionViewItem(this.context, action, viewItemOptions);\n            }\n            // Prevent native context menu on actions\n            if (!this.options.allowContextMenu) {\n                this.viewItemDisposables.set(item, DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, (e) => {\n                    DOM.EventHelper.stop(e, true);\n                }));\n            }\n            item.actionRunner = this._actionRunner;\n            item.setActionContext(this.context);\n            item.render(actionViewItemElement);\n            if (this.focusable && item instanceof BaseActionViewItem && this.viewItems.length === 0) {\n                // We need to allow for the first enabled item to be focused on using tab navigation #106441\n                item.setFocusable(true);\n            }\n            if (index === null || index < 0 || index >= this.actionsList.children.length) {\n                this.actionsList.appendChild(actionViewItemElement);\n                this.viewItems.push(item);\n            }\n            else {\n                this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\n                this.viewItems.splice(index, 0, item);\n                index++;\n            }\n        });\n        if (typeof this.focusedItem === 'number') {\n            // After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n            this.focus(this.focusedItem);\n        }\n        this.refreshRole();\n    }\n    clear() {\n        if (this.isEmpty()) {\n            return;\n        }\n        this.viewItems = dispose(this.viewItems);\n        this.viewItemDisposables.clearAndDisposeAll();\n        DOM.clearNode(this.actionsList);\n        this.refreshRole();\n    }\n    length() {\n        return this.viewItems.length;\n    }\n    isEmpty() {\n        return this.viewItems.length === 0;\n    }\n    focus(arg) {\n        let selectFirst = false;\n        let index = undefined;\n        if (arg === undefined) {\n            selectFirst = true;\n        }\n        else if (typeof arg === 'number') {\n            index = arg;\n        }\n        else if (typeof arg === 'boolean') {\n            selectFirst = arg;\n        }\n        if (selectFirst && typeof this.focusedItem === 'undefined') {\n            const firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\n            // Focus the first enabled item\n            this.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n            this.updateFocus(undefined, undefined, true);\n        }\n        else {\n            if (index !== undefined) {\n                this.focusedItem = index;\n            }\n            this.updateFocus(undefined, undefined, true);\n        }\n    }\n    focusFirst() {\n        this.focusedItem = this.length() - 1;\n        return this.focusNext(true);\n    }\n    focusLast() {\n        this.focusedItem = 0;\n        return this.focusPrevious(true);\n    }\n    focusNext(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = this.viewItems.length - 1;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            if (!forceLoop && this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\n                this.focusedItem = startIndex;\n                return false;\n            }\n            this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus();\n        return true;\n    }\n    focusPrevious(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = 0;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            this.focusedItem = this.focusedItem - 1;\n            if (this.focusedItem < 0) {\n                if (!forceLoop && this.options.preventLoopNavigation) {\n                    this.focusedItem = startIndex;\n                    return false;\n                }\n                this.focusedItem = this.viewItems.length - 1;\n            }\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus(true);\n        return true;\n    }\n    updateFocus(fromRight, preventScroll, forceFocus = false) {\n        var _a;\n        if (typeof this.focusedItem === 'undefined') {\n            this.actionsList.focus({ preventScroll });\n        }\n        if (this.previouslyFocusedItem !== undefined && this.previouslyFocusedItem !== this.focusedItem) {\n            (_a = this.viewItems[this.previouslyFocusedItem]) === null || _a === void 0 ? void 0 : _a.blur();\n        }\n        const actionViewItem = this.focusedItem !== undefined && this.viewItems[this.focusedItem];\n        if (actionViewItem) {\n            let focusItem = true;\n            if (!types.isFunction(actionViewItem.focus)) {\n                focusItem = false;\n            }\n            if (this.options.focusOnlyEnabledItems && types.isFunction(actionViewItem.isEnabled) && !actionViewItem.isEnabled()) {\n                focusItem = false;\n            }\n            if (actionViewItem.action.id === Separator.ID) {\n                focusItem = false;\n            }\n            if (!focusItem) {\n                this.actionsList.focus({ preventScroll });\n                this.previouslyFocusedItem = undefined;\n            }\n            else if (forceFocus || this.previouslyFocusedItem !== this.focusedItem) {\n                actionViewItem.focus(fromRight);\n                this.previouslyFocusedItem = this.focusedItem;\n            }\n        }\n    }\n    doTrigger(event) {\n        if (typeof this.focusedItem === 'undefined') {\n            return; //nothing to focus\n        }\n        // trigger action\n        const actionViewItem = this.viewItems[this.focusedItem];\n        if (actionViewItem instanceof BaseActionViewItem) {\n            const context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\n            this.run(actionViewItem._action, context);\n        }\n    }\n    run(action, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._actionRunner.run(action, context);\n        });\n    }\n    dispose() {\n        this._context = undefined;\n        this.viewItems = dispose(this.viewItems);\n        this.getContainer().remove();\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './aria.css';\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n    ariaContainer = document.createElement('div');\n    ariaContainer.className = 'monaco-aria-container';\n    const createAlertContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-alert';\n        element.setAttribute('role', 'alert');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    alertContainer = createAlertContainer();\n    alertContainer2 = createAlertContainer();\n    const createStatusContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-status';\n        element.setAttribute('role', 'complementary');\n        element.setAttribute('aria-live', 'polite');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    statusContainer = createStatusContainer();\n    statusContainer2 = createStatusContainer();\n    parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    // Use alternate containers such that duplicated messages get read out by screen readers #99466\n    if (alertContainer.textContent !== msg) {\n        dom.clearNode(alertContainer2);\n        insertMessage(alertContainer, msg);\n    }\n    else {\n        dom.clearNode(alertContainer);\n        insertMessage(alertContainer2, msg);\n    }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    if (isMacintosh) {\n        alert(msg); // VoiceOver does not seem to support status role\n    }\n    else {\n        if (statusContainer.textContent !== msg) {\n            dom.clearNode(statusContainer2);\n            insertMessage(statusContainer, msg);\n        }\n        else {\n            dom.clearNode(statusContainer);\n            insertMessage(statusContainer2, msg);\n        }\n    }\n}\nfunction insertMessage(target, msg) {\n    dom.clearNode(target);\n    if (msg.length > MAX_MESSAGE_LENGTH) {\n        msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n    }\n    target.textContent = msg;\n    // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n    target.style.visibility = 'hidden';\n    target.style.visibility = 'visible';\n}\n","import { addDisposableListener, EventHelper, EventType, reset, trackFocus } from '../../dom.js';\nimport { sanitize } from '../../dompurify/dompurify.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { renderMarkdown, renderStringAsPlaintext } from '../../markdownRenderer.js';\nimport { Gesture, EventType as TouchEventType } from '../../touch.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter } from '../../../common/event.js';\nimport { isMarkdownString, markdownStringEqual } from '../../../common/htmlContent.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './button.css';\nexport const unthemedButtonStyles = {\n    buttonBackground: '#0E639C',\n    buttonHoverBackground: '#006BB3',\n    buttonSeparator: Color.white.toString(),\n    buttonForeground: Color.white.toString(),\n    buttonBorder: undefined,\n    buttonSecondaryBackground: undefined,\n    buttonSecondaryForeground: undefined,\n    buttonSecondaryHoverBackground: undefined\n};\nexport class Button extends Disposable {\n    get onDidClick() { return this._onDidClick.event; }\n    constructor(container, options) {\n        super();\n        this._label = '';\n        this._onDidClick = this._register(new Emitter());\n        this.options = options;\n        this._element = document.createElement('a');\n        this._element.classList.add('monaco-button');\n        this._element.tabIndex = 0;\n        this._element.setAttribute('role', 'button');\n        const background = options.secondary ? options.buttonSecondaryBackground : options.buttonBackground;\n        const foreground = options.secondary ? options.buttonSecondaryForeground : options.buttonForeground;\n        this._element.style.color = foreground || '';\n        this._element.style.backgroundColor = background || '';\n        if (options.supportShortLabel) {\n            this._labelShortElement = document.createElement('div');\n            this._labelShortElement.classList.add('monaco-button-label-short');\n            this._element.appendChild(this._labelShortElement);\n            this._labelElement = document.createElement('div');\n            this._labelElement.classList.add('monaco-button-label');\n            this._element.appendChild(this._labelElement);\n            this._element.classList.add('monaco-text-button-with-short-label');\n        }\n        container.appendChild(this._element);\n        this._register(Gesture.addTarget(this._element));\n        [EventType.CLICK, TouchEventType.Tap].forEach(eventType => {\n            this._register(addDisposableListener(this._element, eventType, e => {\n                if (!this.enabled) {\n                    EventHelper.stop(e);\n                    return;\n                }\n                this._onDidClick.fire(e);\n            }));\n        });\n        this._register(addDisposableListener(this._element, EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = false;\n            if (this.enabled && (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */))) {\n                this._onDidClick.fire(e);\n                eventHandled = true;\n            }\n            else if (event.equals(9 /* KeyCode.Escape */)) {\n                this._element.blur();\n                eventHandled = true;\n            }\n            if (eventHandled) {\n                EventHelper.stop(event, true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OVER, e => {\n            if (!this._element.classList.contains('disabled')) {\n                this.updateBackground(true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OUT, e => {\n            this.updateBackground(false); // restore standard styles\n        }));\n        // Also set hover background when button is focused for feedback\n        this.focusTracker = this._register(trackFocus(this._element));\n        this._register(this.focusTracker.onDidFocus(() => { if (this.enabled) {\n            this.updateBackground(true);\n        } }));\n        this._register(this.focusTracker.onDidBlur(() => { if (this.enabled) {\n            this.updateBackground(false);\n        } }));\n    }\n    getContentElements(content) {\n        const elements = [];\n        for (let segment of renderLabelWithIcons(content)) {\n            if (typeof (segment) === 'string') {\n                segment = segment.trim();\n                // Ignore empty segment\n                if (segment === '') {\n                    continue;\n                }\n                // Convert string segments to <span> nodes\n                const node = document.createElement('span');\n                node.textContent = segment;\n                elements.push(node);\n            }\n            else {\n                elements.push(segment);\n            }\n        }\n        return elements;\n    }\n    updateBackground(hover) {\n        let background;\n        if (this.options.secondary) {\n            background = hover ? this.options.buttonSecondaryHoverBackground : this.options.buttonSecondaryBackground;\n        }\n        else {\n            background = hover ? this.options.buttonHoverBackground : this.options.buttonBackground;\n        }\n        if (background) {\n            this._element.style.backgroundColor = background;\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    set label(value) {\n        var _a;\n        if (this._label === value) {\n            return;\n        }\n        if (isMarkdownString(this._label) && isMarkdownString(value) && markdownStringEqual(this._label, value)) {\n            return;\n        }\n        this._element.classList.add('monaco-text-button');\n        const labelElement = this.options.supportShortLabel ? this._labelElement : this._element;\n        if (isMarkdownString(value)) {\n            const rendered = renderMarkdown(value, { inline: true });\n            rendered.dispose();\n            // Don't include outer `<p>`\n            const root = (_a = rendered.element.querySelector('p')) === null || _a === void 0 ? void 0 : _a.innerHTML;\n            if (root) {\n                // Only allow a very limited set of inline html tags\n                const sanitized = sanitize(root, { ADD_TAGS: ['b', 'i', 'u', 'code', 'span'], ALLOWED_ATTR: ['class'], RETURN_TRUSTED_TYPE: true });\n                labelElement.innerHTML = sanitized;\n            }\n            else {\n                reset(labelElement);\n            }\n        }\n        else {\n            if (this.options.supportIcons) {\n                reset(labelElement, ...this.getContentElements(value));\n            }\n            else {\n                labelElement.textContent = value;\n            }\n        }\n        if (typeof this.options.title === 'string') {\n            this._element.title = this.options.title;\n        }\n        else if (this.options.title) {\n            this._element.title = renderStringAsPlaintext(value);\n        }\n        this._label = value;\n    }\n    get label() {\n        return this._label;\n    }\n    set enabled(value) {\n        if (value) {\n            this._element.classList.remove('disabled');\n            this._element.setAttribute('aria-disabled', String(false));\n            this._element.tabIndex = 0;\n        }\n        else {\n            this._element.classList.add('disabled');\n            this._element.setAttribute('aria-disabled', String(true));\n        }\n    }\n    get enabled() {\n        return !this._element.classList.contains('disabled');\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BrowserFeatures } from '../../canIUse.js';\nimport * as DOM from '../../dom.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Range } from '../../../common/range.js';\nimport './contextview.css';\nexport var LayoutAnchorMode;\n(function (LayoutAnchorMode) {\n    LayoutAnchorMode[LayoutAnchorMode[\"AVOID\"] = 0] = \"AVOID\";\n    LayoutAnchorMode[LayoutAnchorMode[\"ALIGN\"] = 1] = \"ALIGN\";\n})(LayoutAnchorMode || (LayoutAnchorMode = {}));\n/**\n * Lays out a one dimensional view next to an anchor in a viewport.\n *\n * @returns The view offset within the viewport.\n */\nexport function layout(viewportSize, viewSize, anchor) {\n    const layoutAfterAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset : anchor.offset + anchor.size;\n    const layoutBeforeAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset + anchor.size : anchor.offset;\n    if (anchor.position === 0 /* LayoutAnchorPosition.Before */) {\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // happy case, lay it out after the anchor\n        }\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // ok case, lay it out before the anchor\n        }\n        return Math.max(viewportSize - viewSize, 0); // sad case, lay it over the anchor\n    }\n    else {\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // happy case, lay it out before the anchor\n        }\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // ok case, lay it out after the anchor\n        }\n        return 0; // sad case, lay it over the anchor\n    }\n}\nexport class ContextView extends Disposable {\n    constructor(container, domPosition) {\n        super();\n        this.container = null;\n        this.delegate = null;\n        this.toDisposeOnClean = Disposable.None;\n        this.toDisposeOnSetContainer = Disposable.None;\n        this.shadowRoot = null;\n        this.shadowRootHostElement = null;\n        this.view = DOM.$('.context-view');\n        this.useFixedPosition = false;\n        this.useShadowDOM = false;\n        DOM.hide(this.view);\n        this.setContainer(container, domPosition);\n        this._register(toDisposable(() => this.setContainer(null, 1 /* ContextViewDOMPosition.ABSOLUTE */)));\n    }\n    setContainer(container, domPosition) {\n        var _a;\n        if (this.container) {\n            this.toDisposeOnSetContainer.dispose();\n            if (this.shadowRoot) {\n                this.shadowRoot.removeChild(this.view);\n                this.shadowRoot = null;\n                (_a = this.shadowRootHostElement) === null || _a === void 0 ? void 0 : _a.remove();\n                this.shadowRootHostElement = null;\n            }\n            else {\n                this.container.removeChild(this.view);\n            }\n            this.container = null;\n        }\n        if (container) {\n            this.container = container;\n            this.useFixedPosition = domPosition !== 1 /* ContextViewDOMPosition.ABSOLUTE */;\n            this.useShadowDOM = domPosition === 3 /* ContextViewDOMPosition.FIXED_SHADOW */;\n            if (this.useShadowDOM) {\n                this.shadowRootHostElement = DOM.$('.shadow-root-host');\n                this.container.appendChild(this.shadowRootHostElement);\n                this.shadowRoot = this.shadowRootHostElement.attachShadow({ mode: 'open' });\n                const style = document.createElement('style');\n                style.textContent = SHADOW_ROOT_CSS;\n                this.shadowRoot.appendChild(style);\n                this.shadowRoot.appendChild(this.view);\n                this.shadowRoot.appendChild(DOM.$('slot'));\n            }\n            else {\n                this.container.appendChild(this.view);\n            }\n            const toDisposeOnSetContainer = new DisposableStore();\n            ContextView.BUBBLE_UP_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, false);\n                }));\n            });\n            ContextView.BUBBLE_DOWN_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, true);\n                }, true));\n            });\n            this.toDisposeOnSetContainer = toDisposeOnSetContainer;\n        }\n    }\n    show(delegate) {\n        var _a, _b;\n        if (this.isVisible()) {\n            this.hide();\n        }\n        // Show static box\n        DOM.clearNode(this.view);\n        this.view.className = 'context-view';\n        this.view.style.top = '0px';\n        this.view.style.left = '0px';\n        this.view.style.zIndex = '2575';\n        this.view.style.position = this.useFixedPosition ? 'fixed' : 'absolute';\n        DOM.show(this.view);\n        // Render content\n        this.toDisposeOnClean = delegate.render(this.view) || Disposable.None;\n        // Set active delegate\n        this.delegate = delegate;\n        // Layout\n        this.doLayout();\n        // Focus\n        (_b = (_a = this.delegate).focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    getViewElement() {\n        return this.view;\n    }\n    layout() {\n        if (!this.isVisible()) {\n            return;\n        }\n        if (this.delegate.canRelayout === false && !(platform.isIOS && BrowserFeatures.pointerEvents)) {\n            this.hide();\n            return;\n        }\n        if (this.delegate.layout) {\n            this.delegate.layout();\n        }\n        this.doLayout();\n    }\n    doLayout() {\n        // Check that we still have a delegate - this.delegate.layout may have hidden\n        if (!this.isVisible()) {\n            return;\n        }\n        // Get anchor\n        const anchor = this.delegate.getAnchor();\n        // Compute around\n        let around;\n        // Get the element's position and size (to anchor the view)\n        if (DOM.isHTMLElement(anchor)) {\n            const elementPosition = DOM.getDomNodePagePosition(anchor);\n            // In areas where zoom is applied to the element or its ancestors, we need to adjust the size of the element\n            // e.g. The title bar has counter zoom behavior meaning it applies the inverse of zoom level.\n            // Window Zoom Level: 1.5, Title Bar Zoom: 1/1.5, Size Multiplier: 1.5\n            const zoom = DOM.getDomNodeZoomLevel(anchor);\n            around = {\n                top: elementPosition.top * zoom,\n                left: elementPosition.left * zoom,\n                width: elementPosition.width * zoom,\n                height: elementPosition.height * zoom\n            };\n        }\n        else {\n            around = {\n                top: anchor.y,\n                left: anchor.x,\n                width: anchor.width || 1,\n                height: anchor.height || 2\n            };\n        }\n        const viewSizeWidth = DOM.getTotalWidth(this.view);\n        const viewSizeHeight = DOM.getTotalHeight(this.view);\n        const anchorPosition = this.delegate.anchorPosition || 0 /* AnchorPosition.BELOW */;\n        const anchorAlignment = this.delegate.anchorAlignment || 0 /* AnchorAlignment.LEFT */;\n        const anchorAxisAlignment = this.delegate.anchorAxisAlignment || 0 /* AnchorAxisAlignment.VERTICAL */;\n        let top;\n        let left;\n        if (anchorAxisAlignment === 0 /* AnchorAxisAlignment.VERTICAL */) {\n            const verticalAnchor = { offset: around.top - window.pageYOffset, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n            // if view intersects vertically with anchor,  we must avoid the anchor\n            if (Range.intersects({ start: top, end: top + viewSizeHeight }, { start: verticalAnchor.offset, end: verticalAnchor.offset + verticalAnchor.size })) {\n                horizontalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n        }\n        else {\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const verticalAnchor = { offset: around.top, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n            // if view intersects horizontally with anchor, we must avoid the anchor\n            if (Range.intersects({ start: left, end: left + viewSizeWidth }, { start: horizontalAnchor.offset, end: horizontalAnchor.offset + horizontalAnchor.size })) {\n                verticalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n        }\n        this.view.classList.remove('top', 'bottom', 'left', 'right');\n        this.view.classList.add(anchorPosition === 0 /* AnchorPosition.BELOW */ ? 'bottom' : 'top');\n        this.view.classList.add(anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 'left' : 'right');\n        this.view.classList.toggle('fixed', this.useFixedPosition);\n        const containerPosition = DOM.getDomNodePagePosition(this.container);\n        this.view.style.top = `${top - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).top : containerPosition.top)}px`;\n        this.view.style.left = `${left - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).left : containerPosition.left)}px`;\n        this.view.style.width = 'initial';\n    }\n    hide(data) {\n        const delegate = this.delegate;\n        this.delegate = null;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.onHide) {\n            delegate.onHide(data);\n        }\n        this.toDisposeOnClean.dispose();\n        DOM.hide(this.view);\n    }\n    isVisible() {\n        return !!this.delegate;\n    }\n    onDOMEvent(e, onCapture) {\n        if (this.delegate) {\n            if (this.delegate.onDOMEvent) {\n                this.delegate.onDOMEvent(e, document.activeElement);\n            }\n            else if (onCapture && !DOM.isAncestor(e.target, this.container)) {\n                this.hide();\n            }\n        }\n    }\n    dispose() {\n        this.hide();\n        super.dispose();\n    }\n}\nContextView.BUBBLE_UP_EVENTS = ['click', 'keydown', 'focus', 'blur'];\nContextView.BUBBLE_DOWN_EVENTS = ['click'];\nconst SHADOW_ROOT_CSS = /* css */ `\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*='codicon-'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"HelveticaNeue-Light\", system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Hiragino Sans GB\", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang TC\", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, \"Hiragino Kaku Gothic Pro\", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, \"Nanum Gothic\", \"Apple SD Gothic Neo\", \"AppleGothic\", sans-serif; }\n\n\t:host-context(.windows) { font-family: \"Segoe WPC\", \"Segoe UI\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft YaHei\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft Jhenghei\", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Yu Gothic UI\", \"Meiryo UI\", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Malgun Gothic\", \"Dotom\", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans SC\", \"Source Han Sans CN\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans TC\", \"Source Han Sans TW\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans J\", \"Source Han Sans JP\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans K\", \"Source Han Sans JR\", \"Source Han Sans\", \"UnDotum\", \"FBaekmuk Gulim\", sans-serif; }\n`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { format } from '../../../common/strings.js';\nimport './countBadge.css';\nexport class CountBadge {\n    constructor(container, options, styles) {\n        this.options = options;\n        this.styles = styles;\n        this.count = 0;\n        this.element = append(container, $('.monaco-count-badge'));\n        this.countFormat = this.options.countFormat || '{0}';\n        this.titleFormat = this.options.titleFormat || '';\n        this.setCount(this.options.count || 0);\n    }\n    setCount(count) {\n        this.count = count;\n        this.render();\n    }\n    setTitleFormat(titleFormat) {\n        this.titleFormat = titleFormat;\n        this.render();\n    }\n    render() {\n        var _a, _b;\n        this.element.textContent = format(this.countFormat, this.count);\n        this.element.title = format(this.titleFormat, this.count);\n        this.element.style.backgroundColor = (_a = this.styles.badgeBackground) !== null && _a !== void 0 ? _a : '';\n        this.element.style.color = (_b = this.styles.badgeForeground) !== null && _b !== void 0 ? _b : '';\n        if (this.styles.badgeBorder) {\n            this.element.style.border = `1px solid ${this.styles.badgeBorder}`;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { EventType as GestureEventType, Gesture } from '../../touch.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nclass BaseDropdown extends ActionRunner {\n    constructor(container, options) {\n        super();\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this._element = append(container, $('.monaco-dropdown'));\n        this._label = append(this._element, $('.dropdown-label'));\n        let labelRenderer = options.labelRenderer;\n        if (!labelRenderer) {\n            labelRenderer = (container) => {\n                container.textContent = options.label || '';\n                return null;\n            };\n        }\n        for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\n        }\n        for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this._label, event, e => {\n                if (e instanceof MouseEvent && (e.detail > 1 || e.button !== 0)) {\n                    // prevent right click trigger to allow separate context menu (https://github.com/microsoft/vscode/issues/151064)\n                    // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\n                    return;\n                }\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }));\n        }\n        this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }\n        }));\n        const cleanupFn = labelRenderer(this._label);\n        if (cleanupFn) {\n            this._register(cleanupFn);\n        }\n        this._register(Gesture.addTarget(this._label));\n    }\n    get element() {\n        return this._element;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this._onDidChangeVisibility.fire(true);\n        }\n    }\n    hide() {\n        if (this.visible) {\n            this.visible = false;\n            this._onDidChangeVisibility.fire(false);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hide();\n        if (this.boxContainer) {\n            this.boxContainer.remove();\n            this.boxContainer = undefined;\n        }\n        if (this.contents) {\n            this.contents.remove();\n            this.contents = undefined;\n        }\n        if (this._label) {\n            this._label.remove();\n            this._label = undefined;\n        }\n    }\n}\nexport class DropdownMenu extends BaseDropdown {\n    constructor(container, options) {\n        super(container, options);\n        this._actions = [];\n        this._contextMenuProvider = options.contextMenuProvider;\n        this.actions = options.actions || [];\n        this.actionProvider = options.actionProvider;\n        this.menuClassName = options.menuClassName || '';\n        this.menuAsChild = !!options.menuAsChild;\n    }\n    set menuOptions(options) {\n        this._menuOptions = options;\n    }\n    get menuOptions() {\n        return this._menuOptions;\n    }\n    get actions() {\n        if (this.actionProvider) {\n            return this.actionProvider.getActions();\n        }\n        return this._actions;\n    }\n    set actions(actions) {\n        this._actions = actions;\n    }\n    show() {\n        super.show();\n        this.element.classList.add('active');\n        this._contextMenuProvider.showContextMenu({\n            getAnchor: () => this.element,\n            getActions: () => this.actions,\n            getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\n            getActionViewItem: (action, options) => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action, options) : undefined,\n            getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\n            getMenuClassName: () => this.menuClassName,\n            onHide: () => this.onHide(),\n            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\n            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* AnchorAlignment.LEFT */,\n            domForShadowRoot: this.menuAsChild ? this.element : undefined\n        });\n    }\n    hide() {\n        super.hide();\n    }\n    onHide() {\n        this.hide();\n        this.element.classList.remove('active');\n    }\n}\n","import { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            this.element.title = this._action.label || '';\n            this.element.ariaLabel = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            var _a;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), { get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                } });\n        }\n        this.updateTooltip();\n        this.updateEnabled();\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (this.action.label) {\n            title = this.action.label;\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    show() {\n        var _a;\n        (_a = this.dropdownMenu) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    updateEnabled() {\n        var _a, _b;\n        const disabled = !this.action.enabled;\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CaseSensitiveToggle, RegexToggle, WholeWordsToggle } from './findInputToggles.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nexport class FindInput extends Widget {\n    constructor(parent, contextViewProvider, options) {\n        super();\n        this.fixFocusOnOptionClickEnabled = true;\n        this.imeSessionInProgress = false;\n        this.additionalTogglesDisposables = new DisposableStore();\n        this.additionalToggles = [];\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this.onMouseDown = this._onMouseDown.event;\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onCaseSensitiveKeyDown = this._register(new Emitter());\n        this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;\n        this._onRegexKeyDown = this._register(new Emitter());\n        this.onRegexKeyDown = this._onRegexKeyDown.event;\n        this._lastHighlightFindOptions = 0;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.showCommonFindToggles = !!options.showCommonFindToggles;\n        const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\n        const appendWholeWordsLabel = options.appendWholeWordsLabel || '';\n        const appendRegexLabel = options.appendRegexLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, contextViewProvider, {\n            placeholder: this.placeholder || '',\n            ariaLabel: this.label || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles,\n        }));\n        if (this.showCommonFindToggles) {\n            this.regex = this._register(new RegexToggle(Object.assign({ appendTitle: appendRegexLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.regex.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.regex.onKeyDown(e => {\n                this._onRegexKeyDown.fire(e);\n            }));\n            this.wholeWords = this._register(new WholeWordsToggle(Object.assign({ appendTitle: appendWholeWordsLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.wholeWords.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this.caseSensitive = this._register(new CaseSensitiveToggle(Object.assign({ appendTitle: appendCaseSensitiveLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.caseSensitive.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.caseSensitive.onKeyDown(e => {\n                this._onCaseSensitiveKeyDown.fire(e);\n            }));\n            // Arrow-Key support to navigate between options\n            const indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];\n            this.onkeydown(this.domNode, (event) => {\n                if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                    const index = indexes.indexOf(document.activeElement);\n                    if (index >= 0) {\n                        let newIndex = -1;\n                        if (event.equals(17 /* KeyCode.RightArrow */)) {\n                            newIndex = (index + 1) % indexes.length;\n                        }\n                        else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                            if (index === 0) {\n                                newIndex = indexes.length - 1;\n                            }\n                            else {\n                                newIndex = index - 1;\n                            }\n                        }\n                        if (event.equals(9 /* KeyCode.Escape */)) {\n                            indexes[index].blur();\n                            this.inputBox.focus();\n                        }\n                        else if (newIndex >= 0) {\n                            indexes[newIndex].focus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                    }\n                }\n            });\n        }\n        this.controls = document.createElement('div');\n        this.controls.className = 'controls';\n        this.controls.style.display = this.showCommonFindToggles ? '' : 'none';\n        if (this.caseSensitive) {\n            this.controls.append(this.caseSensitive.domNode);\n        }\n        if (this.wholeWords) {\n            this.controls.appendChild(this.wholeWords.domNode);\n        }\n        if (this.regex) {\n            this.controls.appendChild(this.regex.domNode);\n        }\n        this.setAdditionalToggles(options === null || options === void 0 ? void 0 : options.additionalToggles);\n        if (this.controls) {\n            this.domNode.appendChild(this.controls);\n        }\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionstart', (e) => {\n            this.imeSessionInProgress = true;\n        }));\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionend', (e) => {\n            this.imeSessionInProgress = false;\n            this._onInput.fire();\n        }));\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    get onDidChange() {\n        return this.inputBox.onDidChange;\n    }\n    layout(style) {\n        this.inputBox.layout();\n        this.updateInputBoxPadding(style.collapsedFindWidget);\n    }\n    enable() {\n        var _a, _b, _c;\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.enable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.enable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.enable();\n        for (const toggle of this.additionalToggles) {\n            toggle.enable();\n        }\n    }\n    disable() {\n        var _a, _b, _c;\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.disable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.disable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.disable();\n        for (const toggle of this.additionalToggles) {\n            toggle.disable();\n        }\n    }\n    setFocusInputOnOptionClick(value) {\n        this.fixFocusOnOptionClickEnabled = value;\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    setAdditionalToggles(toggles) {\n        for (const currentToggle of this.additionalToggles) {\n            currentToggle.domNode.remove();\n        }\n        this.additionalToggles = [];\n        this.additionalTogglesDisposables.dispose();\n        this.additionalTogglesDisposables = new DisposableStore();\n        for (const toggle of toggles !== null && toggles !== void 0 ? toggles : []) {\n            this.additionalTogglesDisposables.add(toggle);\n            this.controls.appendChild(toggle.domNode);\n            this.additionalTogglesDisposables.add(toggle.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n            }));\n            this.additionalToggles.push(toggle);\n        }\n        if (this.additionalToggles.length > 0) {\n            this.controls.style.display = '';\n        }\n        this.updateInputBoxPadding();\n    }\n    updateInputBoxPadding(controlsHidden = false) {\n        var _a, _b, _c, _d, _e, _f;\n        if (controlsHidden) {\n            this.inputBox.paddingRight = 0;\n        }\n        else {\n            this.inputBox.paddingRight =\n                (((_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.width()) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = this.wholeWords) === null || _c === void 0 ? void 0 : _c.width()) !== null && _d !== void 0 ? _d : 0) + ((_f = (_e = this.regex) === null || _e === void 0 ? void 0 : _e.width()) !== null && _f !== void 0 ? _f : 0))\n                    + this.additionalToggles.reduce((r, t) => r + t.width(), 0);\n        }\n    }\n    getValue() {\n        return this.inputBox.value;\n    }\n    setValue(value) {\n        if (this.inputBox.value !== value) {\n            this.inputBox.value = value;\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getCaseSensitive() {\n        var _a, _b;\n        return (_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setCaseSensitive(value) {\n        if (this.caseSensitive) {\n            this.caseSensitive.checked = value;\n        }\n    }\n    getWholeWords() {\n        var _a, _b;\n        return (_b = (_a = this.wholeWords) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setWholeWords(value) {\n        if (this.wholeWords) {\n            this.wholeWords.checked = value;\n        }\n    }\n    getRegex() {\n        var _a, _b;\n        return (_b = (_a = this.regex) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setRegex(value) {\n        if (this.regex) {\n            this.regex.checked = value;\n            this.validate();\n        }\n    }\n    focusOnCaseSensitive() {\n        var _a;\n        (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    highlightFindOptions() {\n        this.domNode.classList.remove('highlight-' + (this._lastHighlightFindOptions));\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\n        this.domNode.classList.add('highlight-' + (this._lastHighlightFindOptions));\n    }\n    validate() {\n        this.inputBox.validate();\n    }\n    showMessage(message) {\n        this.inputBox.showMessage(message);\n    }\n    clearMessage() {\n        this.inputBox.hideMessage();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Toggle } from '../toggle/toggle.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport * as nls from '../../../../nls.js';\nconst NLS_CASE_SENSITIVE_TOGGLE_LABEL = nls.localize('caseDescription', \"Match Case\");\nconst NLS_WHOLE_WORD_TOGGLE_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\nconst NLS_REGEX_TOGGLE_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\nexport class CaseSensitiveToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.caseSensitive,\n            title: NLS_CASE_SENSITIVE_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class WholeWordsToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.wholeWord,\n            title: NLS_WHOLE_WORD_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class RegexToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.regex,\n            title: NLS_REGEX_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { Toggle } from '../toggle/toggle.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nconst NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseToggle', \"Preserve Case\");\nclass PreserveCaseToggle extends Toggle {\n    constructor(opts) {\n        super({\n            // TODO: does this need its own icon?\n            icon: Codicon.preserveCase,\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class ReplaceInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.cachedOptionsWidth = 0;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onPreserveCaseKeyDown = this._register(new Emitter());\n        this.onPreserveCaseKeyDown = this._onPreserveCaseKeyDown.event;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        const appendPreserveCaseLabel = options.appendPreserveCaseLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            ariaLabel: this.label || '',\n            placeholder: this.placeholder || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles\n        }));\n        this.preserveCase = this._register(new PreserveCaseToggle(Object.assign({ appendTitle: appendPreserveCaseLabel, isChecked: false }, options.toggleStyles)));\n        this._register(this.preserveCase.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.preserveCase.onKeyDown(e => {\n            this._onPreserveCaseKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.cachedOptionsWidth = this.preserveCase.width();\n        }\n        else {\n            this.cachedOptionsWidth = 0;\n        }\n        // Arrow-Key support to navigate between options\n        const indexes = [this.preserveCase.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                const index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* KeyCode.RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* KeyCode.Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        const controls = document.createElement('div');\n        controls.className = 'controls';\n        controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        controls.appendChild(this.preserveCase.domNode);\n        this.domNode.appendChild(controls);\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.preserveCase.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.preserveCase.disable();\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getPreserveCase() {\n        return this.preserveCase.checked;\n    }\n    setPreserveCase(value) {\n        this.preserveCase.checked = value;\n    }\n    focusOnPreserve() {\n        this.preserveCase.focus();\n    }\n    validate() {\n        var _a;\n        (_a = this.inputBox) === null || _a === void 0 ? void 0 : _a.validate();\n    }\n    set width(newWidth) {\n        this.inputBox.paddingRight = this.cachedOptionsWidth;\n        this.domNode.style.width = newWidth + 'px';\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel {\n    /**\n     * Create a new {@link HighlightedLabel}.\n     *\n     * @param container The parent container to append to.\n     */\n    constructor(container, options) {\n        var _a;\n        this.text = '';\n        this.title = '';\n        this.highlights = [];\n        this.didEverRender = false;\n        this.supportIcons = (_a = options === null || options === void 0 ? void 0 : options.supportIcons) !== null && _a !== void 0 ? _a : false;\n        this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n    }\n    /**\n     * The label's DOM node.\n     */\n    get element() {\n        return this.domNode;\n    }\n    /**\n     * Set the label and highlights.\n     *\n     * @param text The label to display.\n     * @param highlights The ranges to highlight.\n     * @param title An optional title for the hover tooltip.\n     * @param escapeNewLines Whether to escape new lines.\n     * @returns\n     */\n    set(text, highlights = [], title = '', escapeNewLines) {\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    }\n    render() {\n        const children = [];\n        let pos = 0;\n        for (const highlight of this.highlights) {\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                const substring = this.text.substring(pos, highlight.start);\n                if (this.supportIcons) {\n                    children.push(...renderLabelWithIcons(substring));\n                }\n                else {\n                    children.push(substring);\n                }\n                pos = highlight.start;\n            }\n            const substring = this.text.substring(pos, highlight.end);\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\n            if (highlight.extraClasses) {\n                element.classList.add(...highlight.extraClasses);\n            }\n            children.push(element);\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            const substring = this.text.substring(pos);\n            if (this.supportIcons) {\n                children.push(...renderLabelWithIcons(substring));\n            }\n            else {\n                children.push(substring);\n            }\n        }\n        dom.reset(this.domNode, ...children);\n        if (this.title) {\n            this.domNode.title = this.title;\n        }\n        else {\n            this.domNode.removeAttribute('title');\n        }\n        this.didEverRender = true;\n    }\n    static escapeNewLines(text, highlights) {\n        let total = 0;\n        let extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (const highlight of highlights) {\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './hover.css';\nconst $ = dom.$;\nexport class HoverWidget extends Disposable {\n    constructor() {\n        super();\n        this.containerDomNode = document.createElement('div');\n        this.containerDomNode.className = 'monaco-hover';\n        this.containerDomNode.tabIndex = 0;\n        this.containerDomNode.setAttribute('role', 'tooltip');\n        this.contentsDomNode = document.createElement('div');\n        this.contentsDomNode.className = 'monaco-hover-content';\n        this.scrollbar = this._register(new DomScrollableElement(this.contentsDomNode, {\n            consumeMouseWheelIfScrollbarIsNeeded: true\n        }));\n        this.containerDomNode.appendChild(this.scrollbar.getDomNode());\n    }\n    onContentsChanged() {\n        this.scrollbar.scanDomNode();\n    }\n}\nexport class HoverAction extends Disposable {\n    static render(parent, actionOptions, keybindingLabel) {\n        return new HoverAction(parent, actionOptions, keybindingLabel);\n    }\n    constructor(parent, actionOptions, keybindingLabel) {\n        super();\n        this.actionContainer = dom.append(parent, $('div.action-container'));\n        this.actionContainer.setAttribute('tabindex', '0');\n        this.action = dom.append(this.actionContainer, $('a.action'));\n        this.action.setAttribute('role', 'button');\n        if (actionOptions.iconClass) {\n            dom.append(this.action, $(`span.icon.${actionOptions.iconClass}`));\n        }\n        const label = dom.append(this.action, $('span'));\n        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.CLICK, e => {\n            e.stopPropagation();\n            e.preventDefault();\n            actionOptions.run(this.actionContainer);\n        }));\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                e.stopPropagation();\n                e.preventDefault();\n                actionOptions.run(this.actionContainer);\n            }\n        }));\n        this.setEnabled(true);\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.actionContainer.classList.remove('disabled');\n            this.actionContainer.removeAttribute('aria-disabled');\n        }\n        else {\n            this.actionContainer.classList.add('disabled');\n            this.actionContainer.setAttribute('aria-disabled', 'true');\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './iconlabel.css';\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nclass FastLabelNode {\n    constructor(_element) {\n        this._element = _element;\n    }\n    get element() {\n        return this._element;\n    }\n    set textContent(content) {\n        if (this.disposed || content === this._textContent) {\n            return;\n        }\n        this._textContent = content;\n        this._element.textContent = content;\n    }\n    set className(className) {\n        if (this.disposed || className === this._className) {\n            return;\n        }\n        this._className = className;\n        this._element.className = className;\n    }\n    set empty(empty) {\n        if (this.disposed || empty === this._empty) {\n            return;\n        }\n        this._empty = empty;\n        this._element.style.marginLeft = empty ? '0' : '';\n    }\n    dispose() {\n        this.disposed = true;\n    }\n}\nexport class IconLabel extends Disposable {\n    constructor(container, options) {\n        super();\n        this.customHovers = new Map();\n        this.creationOptions = options;\n        this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n        this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n        const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n        if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n            this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n        }\n        else {\n            this.nameNode = new Label(nameContainer);\n        }\n        this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n    }\n    get element() {\n        return this.domNode.element;\n    }\n    setLabel(label, description, options) {\n        const labelClasses = ['monaco-icon-label'];\n        const containerClasses = ['monaco-icon-label-container'];\n        if (options) {\n            if (options.extraClasses) {\n                labelClasses.push(...options.extraClasses);\n            }\n            if (options.italic) {\n                labelClasses.push('italic');\n            }\n            if (options.strikethrough) {\n                labelClasses.push('strikethrough');\n            }\n            if (options.disabledCommand) {\n                containerClasses.push('disabled');\n            }\n        }\n        this.domNode.className = labelClasses.join(' ');\n        this.labelContainer.className = containerClasses.join(' ');\n        this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n        this.nameNode.setLabel(label, options);\n        if (description || this.descriptionNode) {\n            const descriptionNode = this.getOrCreateDescriptionNode();\n            if (descriptionNode instanceof HighlightedLabel) {\n                descriptionNode.set(description || '', options ? options.descriptionMatches : undefined, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                this.setupHover(descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n            }\n            else {\n                descriptionNode.textContent = description && (options === null || options === void 0 ? void 0 : options.labelEscapeNewLines) ? HighlightedLabel.escapeNewLines(description, []) : (description || '');\n                this.setupHover(descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n                descriptionNode.empty = !description;\n            }\n        }\n    }\n    setupHover(htmlElement, tooltip) {\n        const previousCustomHover = this.customHovers.get(htmlElement);\n        if (previousCustomHover) {\n            previousCustomHover.dispose();\n            this.customHovers.delete(htmlElement);\n        }\n        if (!tooltip) {\n            htmlElement.removeAttribute('title');\n            return;\n        }\n        if (!this.hoverDelegate) {\n            setupNativeHover(htmlElement, tooltip);\n        }\n        else {\n            const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n            if (hoverDisposable) {\n                this.customHovers.set(htmlElement, hoverDisposable);\n            }\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const disposable of this.customHovers.values()) {\n            disposable.dispose();\n        }\n        this.customHovers.clear();\n    }\n    getOrCreateDescriptionNode() {\n        var _a;\n        if (!this.descriptionNode) {\n            const descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n            if ((_a = this.creationOptions) === null || _a === void 0 ? void 0 : _a.supportDescriptionHighlights) {\n                this.descriptionNode = new HighlightedLabel(dom.append(descriptionContainer.element, dom.$('span.label-description')), { supportIcons: !!this.creationOptions.supportIcons });\n            }\n            else {\n                this.descriptionNode = this._register(new FastLabelNode(dom.append(descriptionContainer.element, dom.$('span.label-description'))));\n            }\n        }\n        return this.descriptionNode;\n    }\n}\nclass Label {\n    constructor(container) {\n        this.container = container;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\n            }\n            this.singleLabel.textContent = label;\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                dom.append(this.container, dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' }, l));\n                if (i < label.length - 1) {\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n                }\n            }\n        }\n    }\n}\nfunction splitMatches(labels, separator, matches) {\n    if (!matches) {\n        return undefined;\n    }\n    let labelStart = 0;\n    return labels.map(label => {\n        const labelRange = { start: labelStart, end: labelStart + label.length };\n        const result = matches\n            .map(match => Range.intersect(labelRange, match))\n            .filter(range => !Range.isEmpty(range))\n            .map(({ start, end }) => ({ start: start - labelStart, end: end - labelStart }));\n        labelStart = labelRange.end + separator.length;\n        return result;\n    });\n}\nclass LabelWithHighlights {\n    constructor(container, supportIcons) {\n        this.container = container;\n        this.supportIcons = supportIcons;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), { supportIcons: this.supportIcons });\n            }\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n            const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const m = matches ? matches[i] : undefined;\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                const name = dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' });\n                const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), { supportIcons: this.supportIcons });\n                highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                if (i < label.length - 1) {\n                    dom.append(name, dom.$('span.label-separator', undefined, separator));\n                }\n            }\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../dom.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { isMarkdownString } from '../../../common/htmlContent.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isFunction, isString } from '../../../common/types.js';\nimport { localize } from '../../../../nls.js';\nexport function setupNativeHover(htmlElement, tooltip) {\n    if (isString(tooltip)) {\n        // Icons don't render in the native hover so we strip them out\n        htmlElement.title = stripIcons(tooltip);\n    }\n    else if (tooltip === null || tooltip === void 0 ? void 0 : tooltip.markdownNotSupportedFallback) {\n        htmlElement.title = tooltip.markdownNotSupportedFallback;\n    }\n    else {\n        htmlElement.removeAttribute('title');\n    }\n}\nclass UpdatableHoverWidget {\n    constructor(hoverDelegate, target, fadeInAnimation) {\n        this.hoverDelegate = hoverDelegate;\n        this.target = target;\n        this.fadeInAnimation = fadeInAnimation;\n    }\n    update(content, focus, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cancellationTokenSource) {\n                // there's an computation ongoing, cancel it\n                this._cancellationTokenSource.dispose(true);\n                this._cancellationTokenSource = undefined;\n            }\n            if (this.isDisposed) {\n                return;\n            }\n            let resolvedContent;\n            if (content === undefined || isString(content) || content instanceof HTMLElement) {\n                resolvedContent = content;\n            }\n            else if (!isFunction(content.markdown)) {\n                resolvedContent = (_a = content.markdown) !== null && _a !== void 0 ? _a : content.markdownNotSupportedFallback;\n            }\n            else {\n                // compute the content, potentially long-running\n                // show 'Loading' if no hover is up yet\n                if (!this._hoverWidget) {\n                    this.show(localize('iconLabel.loading', \"Loading...\"), focus);\n                }\n                // compute the content\n                this._cancellationTokenSource = new CancellationTokenSource();\n                const token = this._cancellationTokenSource.token;\n                resolvedContent = yield content.markdown(token);\n                if (resolvedContent === undefined) {\n                    resolvedContent = content.markdownNotSupportedFallback;\n                }\n                if (this.isDisposed || token.isCancellationRequested) {\n                    // either the widget has been closed in the meantime\n                    // or there has been a new call to `update`\n                    return;\n                }\n            }\n            this.show(resolvedContent, focus, options);\n        });\n    }\n    show(content, focus, options) {\n        const oldHoverWidget = this._hoverWidget;\n        if (this.hasContent(content)) {\n            const hoverOptions = Object.assign({ content, target: this.target, showPointer: this.hoverDelegate.placement === 'element', hoverPosition: 2 /* HoverPosition.BELOW */, skipFadeInAnimation: !this.fadeInAnimation || !!oldHoverWidget }, options);\n            this._hoverWidget = this.hoverDelegate.showHover(hoverOptions, focus);\n        }\n        oldHoverWidget === null || oldHoverWidget === void 0 ? void 0 : oldHoverWidget.dispose();\n    }\n    hasContent(content) {\n        if (!content) {\n            return false;\n        }\n        if (isMarkdownString(content)) {\n            return !!content.value;\n        }\n        return true;\n    }\n    get isDisposed() {\n        var _a;\n        return (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.isDisposed;\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._cancellationTokenSource) === null || _b === void 0 ? void 0 : _b.dispose(true);\n        this._cancellationTokenSource = undefined;\n    }\n}\nexport function setupCustomHover(hoverDelegate, htmlElement, content, options) {\n    let hoverPreparation;\n    let hoverWidget;\n    const hideHover = (disposeWidget, disposePreparation) => {\n        var _a;\n        const hadHover = hoverWidget !== undefined;\n        if (disposeWidget) {\n            hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.dispose();\n            hoverWidget = undefined;\n        }\n        if (disposePreparation) {\n            hoverPreparation === null || hoverPreparation === void 0 ? void 0 : hoverPreparation.dispose();\n            hoverPreparation = undefined;\n        }\n        if (hadHover) {\n            (_a = hoverDelegate.onDidHideHover) === null || _a === void 0 ? void 0 : _a.call(hoverDelegate);\n        }\n    };\n    const triggerShowHover = (delay, focus, target) => {\n        return new TimeoutTimer(() => __awaiter(this, void 0, void 0, function* () {\n            if (!hoverWidget || hoverWidget.isDisposed) {\n                hoverWidget = new UpdatableHoverWidget(hoverDelegate, target || htmlElement, delay > 0);\n                yield hoverWidget.update(content, focus, options);\n            }\n        }), delay);\n    };\n    const onMouseOver = () => {\n        if (hoverPreparation) {\n            return;\n        }\n        const toDispose = new DisposableStore();\n        const onMouseLeave = (e) => hideHover(false, e.fromElement === htmlElement);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_LEAVE, onMouseLeave, true));\n        const onMouseDown = () => hideHover(true, true);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_DOWN, onMouseDown, true));\n        const target = {\n            targetElements: [htmlElement],\n            dispose: () => { }\n        };\n        if (hoverDelegate.placement === undefined || hoverDelegate.placement === 'mouse') {\n            // track the mouse position\n            const onMouseMove = (e) => {\n                target.x = e.x + 10;\n                if ((e.target instanceof HTMLElement) && e.target.classList.contains('action-label')) {\n                    hideHover(true, true);\n                }\n            };\n            toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_MOVE, onMouseMove, true));\n        }\n        toDispose.add(triggerShowHover(hoverDelegate.delay, false, target));\n        hoverPreparation = toDispose;\n    };\n    const mouseOverDomEmitter = dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_OVER, onMouseOver, true);\n    const hover = {\n        show: focus => {\n            hideHover(false, true); // terminate a ongoing mouse over preparation\n            triggerShowHover(0, focus); // show hover immediately\n        },\n        hide: () => {\n            hideHover(true, true);\n        },\n        update: (newContent, hoverOptions) => __awaiter(this, void 0, void 0, function* () {\n            content = newContent;\n            yield (hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.update(content, undefined, hoverOptions));\n        }),\n        dispose: () => {\n            mouseOverDomEmitter.dispose();\n            hideHover(true, true);\n        }\n    };\n    return hover;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nconst labelWithIconsRegex = new RegExp(`(\\\\\\\\)?\\\\$\\\\((${ThemeIcon.iconNameExpression}(?:${ThemeIcon.iconModifierExpression})?)\\\\)`, 'g');\nexport function renderLabelWithIcons(text) {\n    const elements = new Array();\n    let match;\n    let textStart = 0, textStop = 0;\n    while ((match = labelWithIconsRegex.exec(text)) !== null) {\n        textStop = match.index || 0;\n        if (textStart < textStop) {\n            elements.push(text.substring(textStart, textStop));\n        }\n        textStart = (match.index || 0) + match[0].length;\n        const [, escaped, codicon] = match;\n        elements.push(escaped ? `$(${codicon})` : renderIcon({ id: codicon }));\n    }\n    if (textStart < text.length) {\n        elements.push(text.substring(textStart));\n    }\n    return elements;\n}\nexport function renderIcon(icon) {\n    const node = dom.$(`span`);\n    node.classList.add(...ThemeIcon.asClassNameArray(icon));\n    return node;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { equals } from '../../../common/objects.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedInboxStyles = {\n    inputBackground: '#3C3C3C',\n    inputForeground: '#CCCCCC',\n    inputValidationInfoBorder: '#55AAFF',\n    inputValidationInfoBackground: '#063B49',\n    inputValidationWarningBorder: '#B89500',\n    inputValidationWarningBackground: '#352A05',\n    inputValidationErrorBorder: '#BE1100',\n    inputValidationErrorBackground: '#5A1D1D',\n    inputBorder: undefined,\n    inputValidationErrorForeground: undefined,\n    inputValidationInfoForeground: undefined,\n    inputValidationWarningForeground: undefined\n};\nexport class InputBox extends Widget {\n    constructor(container, contextViewProvider, options) {\n        var _a;\n        super();\n        this.state = 'idle';\n        this.maxHeight = Number.POSITIVE_INFINITY;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        this._onDidHeightChange = this._register(new Emitter());\n        this.onDidHeightChange = this._onDidHeightChange.event;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options;\n        this.message = null;\n        this.placeholder = this.options.placeholder || '';\n        this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : (this.placeholder || '');\n        this.ariaLabel = this.options.ariaLabel || '';\n        if (this.options.validationOptions) {\n            this.validation = this.options.validationOptions.validation;\n        }\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        const tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n        const wrapper = dom.append(this.element, $('.ibwrapper'));\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n        this.input.setAttribute('autocorrect', 'off');\n        this.input.setAttribute('autocapitalize', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n        if (this.options.flexibleHeight) {\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n            this.mirror = dom.append(wrapper, $('div.mirror'));\n            this.mirror.innerText = '\\u00a0';\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* ScrollbarVisibility.Auto */ });\n            if (this.options.flexibleWidth) {\n                this.input.setAttribute('wrap', 'off');\n                this.mirror.style.whiteSpace = 'pre';\n                this.mirror.style.wordWrap = 'initial';\n            }\n            dom.append(container, this.scrollableElement.getDomNode());\n            this._register(this.scrollableElement);\n            // from ScrollableElement to DOM\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n            const onSelectionChange = this._register(new DomEmitter(document, 'selectionchange'));\n            const onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n                const selection = document.getSelection();\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n            });\n            // from DOM to ScrollableElement\n            this._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n        }\n        else {\n            this.input.type = this.options.type || 'text';\n            this.input.setAttribute('wrap', 'off');\n        }\n        if (this.ariaLabel) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        if (this.placeholder && !this.options.showPlaceholderOnFocus) {\n            this.setPlaceHolder(this.placeholder);\n        }\n        if (this.tooltip) {\n            this.setTooltip(this.tooltip);\n        }\n        this.oninput(this.input, () => this.onValueChange());\n        this.onblur(this.input, () => this.onBlur());\n        this.onfocus(this.input, () => this.onFocus());\n        this._register(this.ignoreGesture(this.input));\n        setTimeout(() => this.updateMirror(), 0);\n        // Support actions\n        if (this.options.actions) {\n            this.actionbar = this._register(new ActionBar(this.element));\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\n        }\n        this.applyStyles();\n    }\n    onBlur() {\n        this._hideMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', '');\n        }\n    }\n    onFocus() {\n        this._showMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', this.placeholder || '');\n        }\n    }\n    setPlaceHolder(placeHolder) {\n        this.placeholder = placeHolder;\n        this.input.setAttribute('placeholder', placeHolder);\n    }\n    setTooltip(tooltip) {\n        this.tooltip = tooltip;\n        this.input.title = tooltip;\n    }\n    get inputElement() {\n        return this.input;\n    }\n    get value() {\n        return this.input.value;\n    }\n    set value(newValue) {\n        if (this.input.value !== newValue) {\n            this.input.value = newValue;\n            this.onValueChange();\n        }\n    }\n    get height() {\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    }\n    focus() {\n        this.input.focus();\n    }\n    blur() {\n        this.input.blur();\n    }\n    hasFocus() {\n        return document.activeElement === this.input;\n    }\n    select(range = null) {\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n            if (range.end === this.input.value.length) {\n                this.input.scrollLeft = this.input.scrollWidth;\n            }\n        }\n    }\n    isSelectionAtEnd() {\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n    }\n    enable() {\n        this.input.removeAttribute('disabled');\n    }\n    disable() {\n        this.blur();\n        this.input.disabled = true;\n        this._hideMessage();\n    }\n    set paddingRight(paddingRight) {\n        // Set width to avoid hint text overlapping buttons\n        this.input.style.width = `calc(100% - ${paddingRight}px)`;\n        if (this.mirror) {\n            this.mirror.style.paddingRight = paddingRight + 'px';\n        }\n    }\n    updateScrollDimensions() {\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n            return;\n        }\n        const scrollHeight = this.cachedContentHeight;\n        const height = this.cachedHeight;\n        const scrollTop = this.input.scrollTop;\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\n        this.scrollableElement.setScrollPosition({ scrollTop });\n    }\n    showMessage(message, force) {\n        if (this.state === 'open' && equals(this.message, message)) {\n            // Already showing\n            return;\n        }\n        this.message = message;\n        this.element.classList.remove('idle');\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add(this.classForType(message.type));\n        const styles = this.stylesForType(this.message.type);\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(styles.border, 'transparent')}`;\n        if (this.message.content && (this.hasFocus() || force)) {\n            this._showMessage();\n        }\n    }\n    hideMessage() {\n        this.message = null;\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add('idle');\n        this._hideMessage();\n        this.applyStyles();\n    }\n    validate() {\n        let errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n    }\n    stylesForType(type) {\n        const styles = this.options.inputBoxStyles;\n        switch (type) {\n            case 1 /* MessageType.INFO */: return { border: styles.inputValidationInfoBorder, background: styles.inputValidationInfoBackground, foreground: styles.inputValidationInfoForeground };\n            case 2 /* MessageType.WARNING */: return { border: styles.inputValidationWarningBorder, background: styles.inputValidationWarningBackground, foreground: styles.inputValidationWarningForeground };\n            default: return { border: styles.inputValidationErrorBorder, background: styles.inputValidationErrorBackground, foreground: styles.inputValidationErrorForeground };\n        }\n    }\n    classForType(type) {\n        switch (type) {\n            case 1 /* MessageType.INFO */: return 'info';\n            case 2 /* MessageType.WARNING */: return 'warning';\n            default: return 'error';\n        }\n    }\n    _showMessage() {\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        let div;\n        const layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.element,\n            anchorAlignment: 1 /* AnchorAlignment.RIGHT */,\n            render: (container) => {\n                var _a, _b;\n                if (!this.message) {\n                    return null;\n                }\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                const renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                const spanElement = (this.message.formatContent\n                    ? renderFormattedText(this.message.content, renderOptions)\n                    : renderText(this.message.content, renderOptions));\n                spanElement.classList.add(this.classForType(this.message.type));\n                const styles = this.stylesForType(this.message.type);\n                spanElement.style.backgroundColor = (_a = styles.background) !== null && _a !== void 0 ? _a : '';\n                spanElement.style.color = (_b = styles.foreground) !== null && _b !== void 0 ? _b : '';\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n                dom.append(div, spanElement);\n                return null;\n            },\n            onHide: () => {\n                this.state = 'closed';\n            },\n            layout: layout\n        });\n        // ARIA Support\n        let alertText;\n        if (this.message.type === 3 /* MessageType.ERROR */) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n        }\n        else if (this.message.type === 2 /* MessageType.WARNING */) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n        }\n        aria.alert(alertText);\n        this.state = 'open';\n    }\n    _hideMessage() {\n        if (!this.contextViewProvider) {\n            return;\n        }\n        if (this.state === 'open') {\n            this.contextViewProvider.hideContextView();\n        }\n        this.state = 'idle';\n    }\n    onValueChange() {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        this.input.classList.toggle('empty', !this.value);\n        if (this.state === 'open' && this.contextViewProvider) {\n            this.contextViewProvider.layout();\n        }\n    }\n    updateMirror() {\n        if (!this.mirror) {\n            return;\n        }\n        const value = this.value;\n        const lastCharCode = value.charCodeAt(value.length - 1);\n        const suffix = lastCharCode === 10 ? ' ' : '';\n        const mirrorTextContent = (value + suffix)\n            .replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n        if (mirrorTextContent) {\n            this.mirror.textContent = value + suffix;\n        }\n        else {\n            this.mirror.innerText = '\\u00a0';\n        }\n        this.layout();\n    }\n    applyStyles() {\n        var _a, _b, _c;\n        const styles = this.options.inputBoxStyles;\n        const background = (_a = styles.inputBackground) !== null && _a !== void 0 ? _a : '';\n        const foreground = (_b = styles.inputForeground) !== null && _b !== void 0 ? _b : '';\n        const border = (_c = styles.inputBorder) !== null && _c !== void 0 ? _c : '';\n        this.element.style.backgroundColor = background;\n        this.element.style.color = foreground;\n        this.input.style.backgroundColor = 'inherit';\n        this.input.style.color = foreground;\n        // there's always a border, even if the color is not set.\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(border, 'transparent')}`;\n    }\n    layout() {\n        if (!this.mirror) {\n            return;\n        }\n        const previousHeight = this.cachedContentHeight;\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedContentHeight) {\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedContentHeight);\n        }\n    }\n    insertAtCursor(text) {\n        const inputElement = this.inputElement;\n        const start = inputElement.selectionStart;\n        const end = inputElement.selectionEnd;\n        const content = inputElement.value;\n        if (start !== null && end !== null) {\n            this.value = content.substr(0, start) + text + content.substr(end);\n            inputElement.setSelectionRange(start + 1, start + 1);\n            this.layout();\n        }\n    }\n    dispose() {\n        var _a;\n        this._hideMessage();\n        this.message = null;\n        (_a = this.actionbar) === null || _a === void 0 ? void 0 : _a.dispose();\n        super.dispose();\n    }\n}\nexport class HistoryInputBox extends InputBox {\n    constructor(container, contextViewProvider, options) {\n        const NLS_PLACEHOLDER_HISTORY_HINT = nls.localize({ key: 'history.inputbox.hint', comment: ['Text will be prefixed with \\u21C5 plus a single space, then used as a hint where input field keeps history'] }, \"for history\");\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX = ` or \\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT}`;\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = ` (\\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT})`;\n        super(container, contextViewProvider, options);\n        this._onDidFocus = this._register(new Emitter());\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this.history = new HistoryNavigator(options.history, 100);\n        // Function to append the history suffix to the placeholder if necessary\n        const addSuffix = () => {\n            if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n                const suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n                const suffixedPlaceholder = this.placeholder + suffix;\n                if (options.showPlaceholderOnFocus && document.activeElement !== this.input) {\n                    this.placeholder = suffixedPlaceholder;\n                }\n                else {\n                    this.setPlaceHolder(suffixedPlaceholder);\n                }\n            }\n        };\n        // Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n        // and add the history suffix to the placeholder if not yet present\n        this.observer = new MutationObserver((mutationList, observer) => {\n            mutationList.forEach((mutation) => {\n                if (!mutation.target.textContent) {\n                    addSuffix();\n                }\n            });\n        });\n        this.observer.observe(this.input, { attributeFilter: ['class'] });\n        this.onfocus(this.input, () => addSuffix());\n        this.onblur(this.input, () => {\n            const resetPlaceholder = (historyHint) => {\n                if (!this.placeholder.endsWith(historyHint)) {\n                    return false;\n                }\n                else {\n                    const revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n                    if (options.showPlaceholderOnFocus) {\n                        this.placeholder = revertedPlaceholder;\n                    }\n                    else {\n                        this.setPlaceHolder(revertedPlaceholder);\n                    }\n                    return true;\n                }\n            };\n            if (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n                resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = undefined;\n        }\n    }\n    addToHistory(always) {\n        if (this.value && (always || this.value !== this.getCurrentValue())) {\n            this.history.add(this.value);\n        }\n    }\n    isAtLastInHistory() {\n        return this.history.isLast();\n    }\n    isNowhereInHistory() {\n        return this.history.isNowhere();\n    }\n    showNextValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let next = this.getNextValue();\n        if (next) {\n            next = next === this.value ? this.getNextValue() : next;\n        }\n        this.value = next !== null && next !== void 0 ? next : '';\n        aria.status(this.value ? this.value : nls.localize('clearedInput', \"Cleared Input\"));\n    }\n    showPreviousValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let previous = this.getPreviousValue();\n        if (previous) {\n            previous = previous === this.value ? this.getPreviousValue() : previous;\n        }\n        if (previous) {\n            this.value = previous;\n            aria.status(this.value);\n        }\n    }\n    onBlur() {\n        super.onBlur();\n        this._onDidBlur.fire();\n    }\n    onFocus() {\n        super.onFocus();\n        this._onDidFocus.fire();\n    }\n    getCurrentValue() {\n        let currentValue = this.history.current();\n        if (!currentValue) {\n            currentValue = this.history.last();\n            this.history.next();\n        }\n        return currentValue;\n    }\n    getPreviousValue() {\n        return this.history.previous() || this.history.first();\n    }\n    getNextValue() {\n        return this.history.next();\n    }\n}\n"],"names":["FastDomNode","constructor","domNode","this","_maxWidth","_width","_height","_top","_left","_bottom","_right","_paddingLeft","_fontFamily","_fontWeight","_fontSize","_fontStyle","_fontFeatureSettings","_fontVariationSettings","_textDecoration","_lineHeight","_letterSpacing","_className","_display","_position","_visibility","_color","_backgroundColor","_layerHint","_contain","_boxShadow","setMaxWidth","maxWidth","numberAsPixels","style","setWidth","width","setHeight","height","setTop","top","setLeft","left","setBottom","bottom","setRight","right","setPaddingLeft","paddingLeft","setFontFamily","fontFamily","setFontWeight","fontWeight","setFontSize","fontSize","setFontStyle","fontStyle","setFontFeatureSettings","fontFeatureSettings","setFontVariationSettings","fontVariationSettings","setTextDecoration","textDecoration","setLineHeight","lineHeight","setLetterSpacing","letterSpacing","setClassName","className","toggleClassName","shouldHaveIt","classList","toggle","setDisplay","display","setPosition","position","setVisibility","visibility","setColor","color","setBackgroundColor","backgroundColor","setLayerHinting","layerHint","transform","setBoxShadow","boxShadow","setContain","contain","setAttribute","name","value","removeAttribute","appendChild","child","removeChild","concat","createFastDomNode","renderText","text","element","createElement","arguments","length","undefined","textContent","renderFormattedText","formattedText","options","_renderFormattedText","content","parseCodeSegments","root","type","children","actionViewItemIndex","current","stack","stream","StringStream","eos","next","isEscapedFormatType","formatTagType","peek","isFormatTag","advance","pop","newCurrent","index","push","textCurrent","parseFormattedText","renderCodeSegments","actionHandler","tagName","inline","document","source","treeNode","createTextNode","a","disposables","add","DOM","event","callback","String","Array","isArray","forEach","nodeChild","char","supportCodeSegments","GlobalPointerMoveMonitor","_hooks","DisposableStore","_pointerMoveCallback","_onStopCallback","dispose","stopMonitoring","invokeStopCallback","browserEvent","isMonitoring","clear","onStopCallback","startMonitoring","initialElement","pointerId","initialButtons","pointerMoveCallback","eventSource","setPointerCapture","toDisposable","releasePointerCapture","err","window","dom","POINTER_MOVE","e","buttons","preventDefault","POINTER_UP","ctrlKeyMod","platform","metaKeyMod","StandardKeyboardEvent","_standardKeyboardEventBrand","target","ctrlKey","shiftKey","altKey","metaKey","altGraphKey","getModifierState","keyCode","charCode","fromCharCode","toUpperCase","KeyCodeUtils","fromString","browser","EVENT_KEY_CODE_MAP","extractKeyCode","code","_asKeybinding","_computeKeybinding","_asKeyCodeChord","_computeKeyCodeChord","stopPropagation","toKeyCodeChord","equals","other","key","result","KeyCodeChord","defaultMarkedRenderers","Object","freeze","image","href","title","dimensions","attributes","parseHrefAndDimensions","escapeDoubleQuotes","join","paragraph","link","removeMarkdownEscapes","replace","renderMarkdown","markdown","markedOptions","_a","_b","isDisposed","_uriMassage","part","data","parse","decodeURIComponent","cloneAndChange","uris","URI","revive","encodeURIComponent","JSON","stringify","_href","isDomUri","uri","startsWith","Schemas","FileAccess","uriToBrowserUri","toString","query","with","renderer","marked","Renderer","codeBlocks","syncCodeBlocks","codeBlockRendererSync","lang","id","defaultGenerator","nextId","postProcessCodeBlockLanguageId","escape","codeBlockRenderer","then","_activateLink","parentElement","dataset","baseUri","resolveWithBaseUri","from","onUnexpectedError","onClick","DomEmitter","onAuxClick","Event","any","mouseEvent","StandardMouseEvent","leftButton","middleButton","keyboardEvent","supportHtml","sanitizer","html","isTrusted","match","sanitize","silent","renderedMarkdown","substr","supportThemeIcons","markdownEscapeEscapedIcons","fillInIncompleteTokens","opts","assign","defaults","newTokens","tokens","i","token","raw","completeCodeBlock","slice","completeTable","newToken","completeSingleLinePattern","newTokensList","links","lexer","parser","renderLabelWithIcons","map","outerHTML","markdownHtmlDoc","DOMParser","parseFromString","sanitizeRenderedMarkdown","body","querySelectorAll","img","src","getAttribute","test","replaceWith","childNodes","resolvedHref","innerHTML","Promise","all","tuples","renderedElements","Map","placeholderElements","placeholderElement","renderedElement","get","asyncRenderCallback","call","getElementsByTagName","listener","parts","split","path","endsWith","resolvePath","dirname","config","allowedSchemes","http","https","mailto","file","vscodeFileResource","vscodeRemote","vscodeRemoteResource","command","ALLOWED_TAGS","ALLOWED_ATTR","allowedMarkdownAttr","ALLOW_UNKNOWN_PROTOCOLS","getSanitizerOptions","dompurify","attrName","keepAttr","attrValue","hook","RETURN_TRUSTED_TYPE","renderStringAsPlaintext","string","plainTextRenderer","m","unescapeInfo","renderMarkdownAsPlaintext","Lazy","blockquote","quote","_html","heading","_level","_raw","hr","list","_ordered","listitem","table","header","tablerow","tablecell","_flags","strong","em","codespan","br","del","_title","_text","mergeRawTokenText","mergedTokenText","subtoken","lines","lastLine","includes","completeCodespan","completeWithString","completeStar","completeDoubleUnderscore","completeUnderscore","completeLinkTarget","completeLinkText","mergedRawText","closingString","numCols","hasSeparatorRow","line","trim","line1Matches","prefixText","line1EndsInPipe","newRawText","repeat","hasDifferentOriginAncestorFlag","sameOriginWindowChainCache","getParentWindowIfSameOrigin","w","parent","location","parentLocation","origin","IframeUtils","getSameOriginWindowChain","iframeElement","frameElement","getPositionOfChildWindowRelativeToAncestorWindow","childWindow","ancestorWindow","windowChain","windowChainEl","scrollY","scrollX","boundingRect","getBoundingClientRect","timestamp","Date","now","button","rightButton","detail","pageX","posx","posy","pageY","clientX","scrollLeft","documentElement","clientY","scrollTop","iframeOffsets","view","StandardWheelEvent","deltaX","deltaY","targetNode","srcElement","e1","e2","wheelDeltaY","VERTICAL_AXIS","axis","ev","deltaMode","DOM_DELTA_LINE","isFirefox","wheelDeltaX","isSafari","HORIZONTAL_AXIS","wheelDelta","inputLatency","totalKeydownTime","total","min","Number","MAX_VALUE","max","totalInputTime","totalRenderTime","totalInputLatencyTime","measurementsCount","state","keydown","input","render","markKeyDownEnd","performance","mark","onBeforeInput","scheduleRecordIfFinishedTask","markInputEnd","markRenderEnd","setTimeout","recordIfFinished","measure","addMeasure","clearMarks","clearMeasures","entryName","cumulativeMeasurement","duration","getEntriesByName","Math","cumulativeToFinalMeasurement","cumulative","average","clearCumulativeMeasurement","onKeyDown","queueMicrotask","onInput","onKeyUp","onSelectionChange","onRenderStart","getAndClearMeasurements","sampleCount","EventType","__decorate","decorators","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Tap","Change","Start","End","Contextmenu","Gesture","Disposable","super","dispatched","targets","LinkedList","ignoreTargets","activeTouches","handle","_lastSetTapCountTime","_register","DomUtils","onTouchStart","passive","onTouchEnd","onTouchMove","addTarget","isTouchDevice","None","INSTANCE","remove","ignoreTarget","navigator","maxTouchPoints","len","targetTouches","touch","item","identifier","initialTarget","initialTimeStamp","initialPageX","initialPageY","rollingTimestamps","rollingPageX","rollingPageY","evt","newGestureEvent","dispatchEvent","activeTouchCount","keys","changedTouches","hasOwnProperty","console","warn","holdTime","HOLD_DELAY","abs","arrays","finalX","finalY","deltaT","dispatchTo","filter","t","Node","contains","inertia","createEvent","initEvent","tapCount","currentTime","getTime","setTapCount","CLEAR_TAP_COUNT_TIME","t1","vX","dirX","x","vY","dirY","y","delta_pos_x","delta_pos_y","stopped","SCROLL_FRICTION","translationX","translationY","shift","memoize","createTrustedTypesPolicy","policyName","policyOptions","monacoEnvironment","globalThis","MonacoEnvironment","trustedTypes","createPolicy","BaseActionViewItem","action","_action","context","_context","Action","onDidChange","handleActionChangeEvent","enabled","updateEnabled","checked","updateChecked","class","updateClass","label","updateLabel","updateTooltip","tooltip","actionRunner","_actionRunner","ActionRunner","isEnabled","setActionContext","newContext","container","enableDragging","draggable","addDisposableListener","DRAG_START","dataTransfer","setData","DataTransfers","TEXT","TouchEventType","MOUSE_DOWN","EventHelper","stop","CONTEXT_MENU","CLICK","isMenu","DBLCLICK","MOUSE_UP","MOUSE_OUT","preserveFocus","types","useEventAsContext","run","focus","tabIndex","blur","setFocusable","focusable","trapsArrowNavigation","getTooltip","updateAriaLabel","hoverDelegate","customHover","update","setupCustomHover","_store","ActionViewItem","icon","cssClass","append","$","getDefaultAriaRole","keybinding","Separator","ID","nls","comment","SelectActionViewItem","ctx","selected","contextViewProvider","styles","selectBoxOptions","selectBox","SelectBox","registerListeners","select","onDidSelect","runAction","option","getActionContext","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","rejected","done","apply","ActionBar","_c","_d","_e","_f","previousKeys","nextKeys","_actionRunnerDisposables","viewItemDisposables","DisposableMap","triggerKeyDown","_onDidBlur","Emitter","onDidBlur","_onDidCancel","onWillAddFirstListener","cancelHasListener","onDidCancel","_onDidRun","onDidRun","_onWillRun","onWillRun","_orientation","orientation","_triggerKeys","keyDown","triggerKeys","fire","viewItems","focusedItem","animated","KEY_DOWN","eventHandled","focusPrevious","focusNext","focusFirst","focusLast","isTriggerKeyEvent","doTrigger","KEY_UP","updateFocusedItem","focusTracker","previouslyFocusedItem","onDidFocus","actionsList","ariaRole","ariaLabel","refreshRole","firstEnabled","find","vi","ret","elem","getContainer","getAction","indexOrElement","HTMLElement","arg","actions","actionViewItemElement","viewItemOptions","actionViewItemProvider","allowContextMenu","set","insertBefore","splice","isEmpty","clearAndDisposeAll","selectFirst","findIndex","updateFocus","forceLoop","startIndex","preventLoopNavigation","focusOnlyEnabledItems","fromRight","preventScroll","forceFocus","actionViewItem","focusItem","MAX_MESSAGE_LENGTH","ariaContainer","alertContainer","alertContainer2","statusContainer","statusContainer2","setARIAContainer","createAlertContainer","createStatusContainer","alert","msg","insertMessage","status","isMacintosh","Color","white","Button","onDidClick","_onDidClick","_label","_element","background","secondary","buttonSecondaryBackground","buttonBackground","foreground","buttonSecondaryForeground","buttonForeground","supportShortLabel","_labelShortElement","_labelElement","eventType","MOUSE_OVER","updateBackground","trackFocus","getContentElements","elements","segment","node","hover","buttonSecondaryHoverBackground","buttonHoverBackground","isMarkdownString","markdownStringEqual","labelElement","rendered","querySelector","sanitized","ADD_TAGS","reset","supportIcons","LayoutAnchorMode","layout","viewportSize","viewSize","anchor","layoutAfterAnchorBoundary","mode","ALIGN","offset","size","layoutBeforeAnchorBoundary","ContextView","domPosition","delegate","toDisposeOnClean","toDisposeOnSetContainer","shadowRoot","shadowRootHostElement","useFixedPosition","useShadowDOM","setContainer","attachShadow","SHADOW_ROOT_CSS","BUBBLE_UP_EVENTS","onDOMEvent","BUBBLE_DOWN_EVENTS","show","isVisible","hide","zIndex","doLayout","getViewElement","canRelayout","BrowserFeatures","pointerEvents","getAnchor","around","elementPosition","zoom","viewSizeWidth","viewSizeHeight","anchorPosition","anchorAlignment","anchorAxisAlignment","verticalAnchor","pageYOffset","horizontalAnchor","innerHeight","Range","intersects","start","end","AVOID","innerWidth","containerPosition","onHide","onCapture","activeElement","CountBadge","count","countFormat","titleFormat","setCount","setTitleFormat","format","badgeBackground","badgeForeground","badgeBorder","border","BaseDropdown","_onDidChangeVisibility","onDidChangeVisibility","labelRenderer","GestureEventType","MouseEvent","visible","cleanupFn","boxContainer","contents","DropdownMenu","_actions","_contextMenuProvider","contextMenuProvider","actionProvider","menuClassName","menuAsChild","menuOptions","_menuOptions","getActions","showContextMenu","getActionsContext","getActionViewItem","getKeyBinding","getMenuClassName","domForShadowRoot","DropdownMenuActionViewItem","menuActionsOrProvider","create","actionItem","isActionsArray","el","classNames","s","dropdownMenu","keybindingProvider","anchorAlignmentProvider","that","disabled","NLS_DEFAULT_LABEL","FindInput","Widget","fixFocusOnOptionClickEnabled","imeSessionInProgress","additionalTogglesDisposables","additionalToggles","_onDidOptionChange","onDidOptionChange","_onKeyDown","_onMouseDown","onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","placeholder","validation","showCommonFindToggles","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","history","flexibleHeight","flexibleWidth","flexibleMaxHeight","inputBox","HistoryInputBox","validationOptions","showHistoryHint","inputBoxStyles","regex","RegexToggle","appendTitle","isChecked","toggleStyles","onChange","viaKeyboard","validate","wholeWords","WholeWordsToggle","caseSensitive","CaseSensitiveToggle","indexes","onkeydown","indexOf","newIndex","controls","setAdditionalToggles","inputElement","onkeyup","oninput","onmousedown","updateInputBoxPadding","collapsedFindWidget","enable","disable","setFocusInputOnOptionClick","setEnabled","toggles","currentToggle","controlsHidden","paddingRight","reduce","getValue","setValue","getCaseSensitive","setCaseSensitive","getWholeWords","setWholeWords","getRegex","setRegex","focusOnCaseSensitive","highlightFindOptions","showMessage","message","clearMessage","hideMessage","NLS_CASE_SENSITIVE_TOGGLE_LABEL","NLS_WHOLE_WORD_TOGGLE_LABEL","NLS_REGEX_TOGGLE_LABEL","Toggle","Codicon","inputActiveOptionBorder","inputActiveOptionForeground","inputActiveOptionBackground","wholeWord","NLS_PRESERVE_CASE_LABEL","PreserveCaseToggle","preserveCase","ReplaceInput","_showOptionButtons","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","appendPreserveCaseLabel","getPreserveCase","setPreserveCase","focusOnPreserve","newWidth","HighlightedLabel","highlights","didEverRender","escapeNewLines","objects","pos","highlight","substring","extraClasses","extra","HoverWidget","containerDomNode","contentsDomNode","scrollbar","DomScrollableElement","consumeMouseWheelIfScrollbarIsNeeded","getDomNode","onContentsChanged","scanDomNode","HoverAction","actionOptions","keybindingLabel","actionContainer","iconClass","FastLabelNode","disposed","_textContent","empty","_empty","marginLeft","IconLabel","customHovers","creationOptions","labelContainer","nameContainer","supportHighlights","nameNode","LabelWithHighlights","Label","setLabel","description","labelClasses","containerClasses","italic","strikethrough","disabledCommand","setupHover","descriptionTitle","descriptionNode","getOrCreateDescriptionNode","descriptionMatches","labelEscapeNewLines","htmlElement","previousCustomHover","delete","hoverDisposable","setupNativeHover","disposable","values","descriptionContainer","supportDescriptionHighlights","singleLabel","innerText","domId","l","separator","matches","labels","labelStart","labelRange","intersect","range","_ref","splitMatches","isString","stripIcons","markdownNotSupportedFallback","UpdatableHoverWidget","fadeInAnimation","_cancellationTokenSource","resolvedContent","isFunction","_hoverWidget","localize","CancellationTokenSource","isCancellationRequested","oldHoverWidget","hasContent","hoverOptions","showPointer","placement","hoverPosition","skipFadeInAnimation","showHover","hoverPreparation","hoverWidget","hideHover","disposeWidget","disposePreparation","hadHover","onDidHideHover","triggerShowHover","delay","TimeoutTimer","mouseOverDomEmitter","onMouseOver","toDispose","MOUSE_LEAVE","fromElement","targetElements","onMouseMove","MOUSE_MOVE","newContent","labelWithIconsRegex","RegExp","ThemeIcon","iconNameExpression","iconModifierExpression","textStart","textStop","exec","escaped","codicon","renderIcon","asClassNameArray","unthemedInboxStyles","inputBackground","inputForeground","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","inputBorder","inputValidationErrorForeground","inputValidationInfoForeground","inputValidationWarningForeground","InputBox","maxHeight","POSITIVE_INFINITY","_onDidChange","_onDidHeightChange","onDidHeightChange","wrapper","onfocus","onblur","mirror","scrollableElement","ScrollableElement","vertical","whiteSpace","wordWrap","onScroll","onAnchoredSelectionChange","selection","getSelection","anchorNode","updateScrollDimensions","showPlaceholderOnFocus","setPlaceHolder","setTooltip","onValueChange","onBlur","onFocus","ignoreGesture","updateMirror","actionbar","applyStyles","_hideMessage","_showMessage","placeHolder","newValue","cachedHeight","hasFocus","setSelectionRange","scrollWidth","isSelectionAtEnd","selectionEnd","selectionStart","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","force","classForType","stylesForType","errorMsg","hasAttribute","div","alertText","showContextView","renderOptions","spanElement","formatContent","aria","hideContextView","suffix","charCodeAt","previousHeight","insertAtCursor","NLS_PLACEHOLDER_HISTORY_HINT","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS","_onDidFocus","HistoryNavigator","addSuffix","getHistory","suffixedPlaceholder","observer","MutationObserver","mutationList","mutation","observe","attributeFilter","resetPlaceholder","historyHint","revertedPlaceholder","disconnect","addToHistory","always","getCurrentValue","isAtLastInHistory","isLast","isNowhereInHistory","isNowhere","showNextValue","has","getNextValue","showPreviousValue","previous","getPreviousValue","currentValue","last","first"],"sourceRoot":""}