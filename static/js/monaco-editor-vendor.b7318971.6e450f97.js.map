{"version":3,"file":"static/js/monaco-editor-vendor.b7318971.6e450f97.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/platform/accessibility/browser/accessibilityService.js","../node_modules/monaco-editor/esm/vs/platform/accessibility/common/accessibility.js","../node_modules/monaco-editor/esm/vs/platform/actions/browser/menuEntryActionViewItem.js","../node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js","../node_modules/monaco-editor/esm/vs/platform/actions/common/menuService.js","../node_modules/monaco-editor/esm/vs/platform/clipboard/browser/clipboardService.js","../node_modules/monaco-editor/esm/vs/platform/clipboard/common/clipboardService.js","../node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js","../node_modules/monaco-editor/esm/vs/platform/configuration/common/configuration.js","../node_modules/monaco-editor/esm/vs/platform/configuration/common/configurationModels.js","../node_modules/monaco-editor/esm/vs/platform/configuration/common/configurationRegistry.js","../node_modules/monaco-editor/esm/vs/platform/contextkey/browser/contextKeyService.js","../node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js","../node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkeys.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextMenuHandler.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextMenuService.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextView.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextViewService.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../common/accessibility.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nlet AccessibilityService = class AccessibilityService extends Disposable {\n    constructor(_contextKeyService, _configurationService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._configurationService = _configurationService;\n        this._accessibilitySupport = 0 /* Unknown */;\n        this._onDidChangeScreenReaderOptimized = new Emitter();\n        this._accessibilityModeEnabledContext = CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);\n        const updateContextKey = () => this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());\n        this._register(this._configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration('editor.accessibilitySupport')) {\n                updateContextKey();\n                this._onDidChangeScreenReaderOptimized.fire();\n            }\n        }));\n        updateContextKey();\n        this.onDidChangeScreenReaderOptimized(() => updateContextKey());\n    }\n    get onDidChangeScreenReaderOptimized() {\n        return this._onDidChangeScreenReaderOptimized.event;\n    }\n    isScreenReaderOptimized() {\n        const config = this._configurationService.getValue('editor.accessibilitySupport');\n        return config === 'on' || (config === 'auto' && this._accessibilitySupport === 2 /* Enabled */);\n    }\n    getAccessibilitySupport() {\n        return this._accessibilitySupport;\n    }\n};\nAccessibilityService = __decorate([\n    __param(0, IContextKeyService),\n    __param(1, IConfigurationService)\n], AccessibilityService);\nexport { AccessibilityService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IAccessibilityService = createDecorator('accessibilityService');\nexport const CONTEXT_ACCESSIBILITY_MODE_ENABLED = new RawContextKey('accessibilityModeEnabled', false);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { $, addDisposableListener, append, asCSSUrl, EventType, ModifierKeyEmitter, prepend } from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { DropdownMenuActionViewItem } from '../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { ActionRunner, Separator, SubmenuAction } from '../../../base/common/actions.js';\nimport { UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { DisposableStore, MutableDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { isLinux, isWindows, OS } from '../../../base/common/platform.js';\nimport './menuEntryActionViewItem.css';\nimport { localize } from '../../../nls.js';\nimport { IMenuService, MenuItemAction, SubmenuItemAction } from '../common/actions.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ThemeIcon } from '../../theme/common/themeService.js';\nexport function createAndFillInActionBarActions(menu, options, target, primaryGroup, primaryMaxCount, shouldInlineSubmenu, useSeparatorsInPrimaryActions) {\n    const groups = menu.getActions(options);\n    const isPrimaryAction = typeof primaryGroup === 'string' ? (actionGroup) => actionGroup === primaryGroup : primaryGroup;\n    // Action bars handle alternative actions on their own so the alternative actions should be ignored\n    fillInActions(groups, target, false, isPrimaryAction, primaryMaxCount, shouldInlineSubmenu, useSeparatorsInPrimaryActions);\n    return asDisposable(groups);\n}\nfunction asDisposable(groups) {\n    const disposables = new DisposableStore();\n    for (const [, actions] of groups) {\n        for (const action of actions) {\n            disposables.add(action);\n        }\n    }\n    return disposables;\n}\nfunction fillInActions(groups, target, useAlternativeActions, isPrimaryAction = actionGroup => actionGroup === 'navigation', primaryMaxCount = Number.MAX_SAFE_INTEGER, shouldInlineSubmenu = () => false, useSeparatorsInPrimaryActions = false) {\n    let primaryBucket;\n    let secondaryBucket;\n    if (Array.isArray(target)) {\n        primaryBucket = target;\n        secondaryBucket = target;\n    }\n    else {\n        primaryBucket = target.primary;\n        secondaryBucket = target.secondary;\n    }\n    const submenuInfo = new Set();\n    for (const [group, actions] of groups) {\n        let target;\n        if (isPrimaryAction(group)) {\n            target = primaryBucket;\n            if (target.length > 0 && useSeparatorsInPrimaryActions) {\n                target.push(new Separator());\n            }\n        }\n        else {\n            target = secondaryBucket;\n            if (target.length > 0) {\n                target.push(new Separator());\n            }\n        }\n        for (let action of actions) {\n            if (useAlternativeActions) {\n                action = action instanceof MenuItemAction && action.alt ? action.alt : action;\n            }\n            const newLen = target.push(action);\n            // keep submenu info for later inlining\n            if (action instanceof SubmenuAction) {\n                submenuInfo.add({ group, action, index: newLen - 1 });\n            }\n        }\n    }\n    // ask the outside if submenu should be inlined or not. only ask when\n    // there would be enough space\n    for (const { group, action, index } of submenuInfo) {\n        const target = isPrimaryAction(group) ? primaryBucket : secondaryBucket;\n        // inlining submenus with length 0 or 1 is easy,\n        // larger submenus need to be checked with the overall limit\n        const submenuActions = action.actions;\n        if ((submenuActions.length <= 1 || target.length + submenuActions.length - 2 <= primaryMaxCount) && shouldInlineSubmenu(action, group, target.length)) {\n            target.splice(index, 1, ...submenuActions);\n        }\n    }\n    // overflow items from the primary group into the secondary bucket\n    if (primaryBucket !== secondaryBucket && primaryBucket.length > primaryMaxCount) {\n        const overflow = primaryBucket.splice(primaryMaxCount, primaryBucket.length - primaryMaxCount);\n        secondaryBucket.unshift(...overflow, new Separator());\n    }\n}\nlet MenuEntryActionViewItem = class MenuEntryActionViewItem extends ActionViewItem {\n    constructor(_action, options, _keybindingService, _notificationService, _contextKeyService) {\n        super(undefined, _action, { icon: !!(_action.class || _action.item.icon), label: !_action.class && !_action.item.icon, draggable: options === null || options === void 0 ? void 0 : options.draggable });\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextKeyService = _contextKeyService;\n        this._wantsAltCommand = false;\n        this._itemClassDispose = this._register(new MutableDisposable());\n        this._altKey = ModifierKeyEmitter.getInstance();\n    }\n    get _menuItemAction() {\n        return this._action;\n    }\n    get _commandAction() {\n        return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;\n    }\n    onClick(event) {\n        return __awaiter(this, void 0, void 0, function* () {\n            event.preventDefault();\n            event.stopPropagation();\n            try {\n                yield this.actionRunner.run(this._commandAction, this._context);\n            }\n            catch (err) {\n                this._notificationService.error(err);\n            }\n        });\n    }\n    render(container) {\n        super.render(container);\n        container.classList.add('menu-entry');\n        this._updateItemClass(this._menuItemAction.item);\n        let mouseOver = false;\n        let alternativeKeyDown = this._altKey.keyStatus.altKey || ((isWindows || isLinux) && this._altKey.keyStatus.shiftKey);\n        const updateAltState = () => {\n            const wantsAltCommand = mouseOver && alternativeKeyDown;\n            if (wantsAltCommand !== this._wantsAltCommand) {\n                this._wantsAltCommand = wantsAltCommand;\n                this.updateLabel();\n                this.updateTooltip();\n                this.updateClass();\n            }\n        };\n        if (this._menuItemAction.alt) {\n            this._register(this._altKey.event(value => {\n                alternativeKeyDown = value.altKey || ((isWindows || isLinux) && value.shiftKey);\n                updateAltState();\n            }));\n        }\n        this._register(addDisposableListener(container, 'mouseleave', _ => {\n            mouseOver = false;\n            updateAltState();\n        }));\n        this._register(addDisposableListener(container, 'mouseenter', _ => {\n            mouseOver = true;\n            updateAltState();\n        }));\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this._commandAction.label;\n        }\n    }\n    updateTooltip() {\n        if (this.label) {\n            const keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);\n            const keybindingLabel = keybinding && keybinding.getLabel();\n            const tooltip = this._commandAction.tooltip || this._commandAction.label;\n            let title = keybindingLabel\n                ? localize('titleAndKb', \"{0} ({1})\", tooltip, keybindingLabel)\n                : tooltip;\n            if (!this._wantsAltCommand && this._menuItemAction.alt) {\n                const altTooltip = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label;\n                const altKeybinding = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService);\n                const altKeybindingLabel = altKeybinding && altKeybinding.getLabel();\n                const altTitleSection = altKeybindingLabel\n                    ? localize('titleAndKb', \"{0} ({1})\", altTooltip, altKeybindingLabel)\n                    : altTooltip;\n                title += `\\n[${UILabelProvider.modifierLabels[OS].altKey}] ${altTitleSection}`;\n            }\n            this.label.title = title;\n        }\n    }\n    updateClass() {\n        if (this.options.icon) {\n            if (this._commandAction !== this._menuItemAction) {\n                if (this._menuItemAction.alt) {\n                    this._updateItemClass(this._menuItemAction.alt.item);\n                }\n            }\n            else if (this._menuItemAction.alt) {\n                this._updateItemClass(this._menuItemAction.item);\n            }\n        }\n    }\n    _updateItemClass(item) {\n        var _a;\n        this._itemClassDispose.value = undefined;\n        const { element, label } = this;\n        if (!element || !label) {\n            return;\n        }\n        const icon = this._commandAction.checked && ((_a = item.toggled) === null || _a === void 0 ? void 0 : _a.icon) ? item.toggled.icon : item.icon;\n        if (!icon) {\n            return;\n        }\n        if (ThemeIcon.isThemeIcon(icon)) {\n            // theme icons\n            const iconClasses = ThemeIcon.asClassNameArray(icon);\n            label.classList.add(...iconClasses);\n            this._itemClassDispose.value = toDisposable(() => {\n                label.classList.remove(...iconClasses);\n            });\n        }\n        else {\n            // icon path/url\n            if (icon.light) {\n                label.style.setProperty('--menu-entry-icon-light', asCSSUrl(icon.light));\n            }\n            if (icon.dark) {\n                label.style.setProperty('--menu-entry-icon-dark', asCSSUrl(icon.dark));\n            }\n            label.classList.add('icon');\n            this._itemClassDispose.value = toDisposable(() => {\n                label.classList.remove('icon');\n                label.style.removeProperty('--menu-entry-icon-light');\n                label.style.removeProperty('--menu-entry-icon-dark');\n            });\n        }\n    }\n};\nMenuEntryActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextKeyService)\n], MenuEntryActionViewItem);\nexport { MenuEntryActionViewItem };\nlet SubmenuEntryActionViewItem = class SubmenuEntryActionViewItem extends DropdownMenuActionViewItem {\n    constructor(action, options, contextMenuService) {\n        var _a, _b;\n        const dropdownOptions = Object.assign({}, options !== null && options !== void 0 ? options : Object.create(null), {\n            menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : false,\n            classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : (ThemeIcon.isThemeIcon(action.item.icon) ? ThemeIcon.asClassName(action.item.icon) : undefined),\n        });\n        super(action, { getActions: () => action.actions }, contextMenuService, dropdownOptions);\n    }\n    render(container) {\n        super.render(container);\n        if (this.element) {\n            container.classList.add('menu-entry');\n            const { icon } = this._action.item;\n            if (icon && !ThemeIcon.isThemeIcon(icon)) {\n                this.element.classList.add('icon');\n                if (icon.light) {\n                    this.element.style.setProperty('--menu-entry-icon-light', asCSSUrl(icon.light));\n                }\n                if (icon.dark) {\n                    this.element.style.setProperty('--menu-entry-icon-dark', asCSSUrl(icon.dark));\n                }\n            }\n        }\n    }\n};\nSubmenuEntryActionViewItem = __decorate([\n    __param(2, IContextMenuService)\n], SubmenuEntryActionViewItem);\nexport { SubmenuEntryActionViewItem };\nlet DropdownWithDefaultActionViewItem = class DropdownWithDefaultActionViewItem extends BaseActionViewItem {\n    constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService) {\n        var _a, _b, _c;\n        super(null, submenuAction);\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextMenuService = _contextMenuService;\n        this._menuService = _menuService;\n        this._instaService = _instaService;\n        this._storageService = _storageService;\n        this._container = null;\n        this._storageKey = `${submenuAction.item.submenu._debugName}_lastActionId`;\n        // determine default action\n        let defaultAction;\n        let defaultActionId = _storageService.get(this._storageKey, 1 /* WORKSPACE */);\n        if (defaultActionId) {\n            defaultAction = submenuAction.actions.find(a => defaultActionId === a.id);\n        }\n        if (!defaultAction) {\n            defaultAction = submenuAction.actions[0];\n        }\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, defaultAction, undefined);\n        const dropdownOptions = Object.assign({}, options !== null && options !== void 0 ? options : Object.create(null), {\n            menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : true,\n            classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : ['codicon', 'codicon-chevron-down'],\n            actionRunner: (_c = options === null || options === void 0 ? void 0 : options.actionRunner) !== null && _c !== void 0 ? _c : new ActionRunner()\n        });\n        this._dropdown = new DropdownMenuActionViewItem(submenuAction, submenuAction.actions, this._contextMenuService, dropdownOptions);\n        this._dropdown.actionRunner.onDidRun((e) => {\n            if (e.action instanceof MenuItemAction) {\n                this.update(e.action);\n            }\n        });\n    }\n    update(lastAction) {\n        this._storageService.store(this._storageKey, lastAction.id, 1 /* WORKSPACE */, 0 /* USER */);\n        this._defaultAction.dispose();\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, lastAction, undefined);\n        this._defaultAction.actionRunner = new class extends ActionRunner {\n            runAction(action, context) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    yield action.run(undefined);\n                });\n            }\n        }();\n        if (this._container) {\n            this._defaultAction.render(prepend(this._container, $('.action-container')));\n        }\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        this._defaultAction.setActionContext(newContext);\n        this._dropdown.setActionContext(newContext);\n    }\n    render(container) {\n        this._container = container;\n        super.render(this._container);\n        this._container.classList.add('monaco-dropdown-with-default');\n        const primaryContainer = $('.action-container');\n        this._defaultAction.render(append(this._container, primaryContainer));\n        this._register(addDisposableListener(primaryContainer, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* RightArrow */)) {\n                this._defaultAction.element.tabIndex = -1;\n                this._dropdown.focus();\n                event.stopPropagation();\n            }\n        }));\n        const dropdownContainer = $('.dropdown-action-container');\n        this._dropdown.render(append(this._container, dropdownContainer));\n        this._register(addDisposableListener(dropdownContainer, EventType.KEY_DOWN, (e) => {\n            var _a;\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(15 /* LeftArrow */)) {\n                this._defaultAction.element.tabIndex = 0;\n                this._dropdown.setFocusable(false);\n                (_a = this._defaultAction.element) === null || _a === void 0 ? void 0 : _a.focus();\n                event.stopPropagation();\n            }\n        }));\n    }\n    focus(fromRight) {\n        if (fromRight) {\n            this._dropdown.focus();\n        }\n        else {\n            this._defaultAction.element.tabIndex = 0;\n            this._defaultAction.element.focus();\n        }\n    }\n    blur() {\n        this._defaultAction.element.tabIndex = -1;\n        this._dropdown.blur();\n        this._container.blur();\n    }\n    setFocusable(focusable) {\n        if (focusable) {\n            this._defaultAction.element.tabIndex = 0;\n        }\n        else {\n            this._defaultAction.element.tabIndex = -1;\n            this._dropdown.setFocusable(false);\n        }\n    }\n    dispose() {\n        this._defaultAction.dispose();\n        this._dropdown.dispose();\n        super.dispose();\n    }\n};\nDropdownWithDefaultActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextMenuService),\n    __param(5, IMenuService),\n    __param(6, IInstantiationService),\n    __param(7, IStorageService)\n], DropdownWithDefaultActionViewItem);\n/**\n * Creates action view items for menu actions or submenu actions.\n */\nexport function createActionViewItem(instaService, action, options) {\n    if (action instanceof MenuItemAction) {\n        return instaService.createInstance(MenuEntryActionViewItem, action, undefined);\n    }\n    else if (action instanceof SubmenuItemAction) {\n        if (action.item.rememberDefaultAction) {\n            return instaService.createInstance(DropdownWithDefaultActionViewItem, action, options);\n        }\n        else {\n            return instaService.createInstance(SubmenuEntryActionViewItem, action, options);\n        }\n    }\n    else {\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Separator, SubmenuAction } from '../../../base/common/actions.js';\nimport { CSSIcon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { ThemeIcon } from '../../theme/common/themeService.js';\nexport function isIMenuItem(item) {\n    return item.command !== undefined;\n}\nexport class MenuId {\n    constructor(debugName) {\n        this.id = MenuId._idPool++;\n        this._debugName = debugName;\n    }\n}\nMenuId._idPool = 0;\nMenuId.CommandPalette = new MenuId('CommandPalette');\nMenuId.DebugBreakpointsContext = new MenuId('DebugBreakpointsContext');\nMenuId.DebugCallStackContext = new MenuId('DebugCallStackContext');\nMenuId.DebugConsoleContext = new MenuId('DebugConsoleContext');\nMenuId.DebugVariablesContext = new MenuId('DebugVariablesContext');\nMenuId.DebugWatchContext = new MenuId('DebugWatchContext');\nMenuId.DebugToolBar = new MenuId('DebugToolBar');\nMenuId.EditorContext = new MenuId('EditorContext');\nMenuId.SimpleEditorContext = new MenuId('SimpleEditorContext');\nMenuId.EditorContextCopy = new MenuId('EditorContextCopy');\nMenuId.EditorContextPeek = new MenuId('EditorContextPeek');\nMenuId.EditorTitle = new MenuId('EditorTitle');\nMenuId.EditorTitleRun = new MenuId('EditorTitleRun');\nMenuId.EditorTitleContext = new MenuId('EditorTitleContext');\nMenuId.EmptyEditorGroup = new MenuId('EmptyEditorGroup');\nMenuId.EmptyEditorGroupContext = new MenuId('EmptyEditorGroupContext');\nMenuId.ExplorerContext = new MenuId('ExplorerContext');\nMenuId.ExtensionContext = new MenuId('ExtensionContext');\nMenuId.GlobalActivity = new MenuId('GlobalActivity');\nMenuId.LayoutControlMenu = new MenuId('LayoutControlMenu');\nMenuId.MenubarMainMenu = new MenuId('MenubarMainMenu');\nMenuId.MenubarAppearanceMenu = new MenuId('MenubarAppearanceMenu');\nMenuId.MenubarDebugMenu = new MenuId('MenubarDebugMenu');\nMenuId.MenubarEditMenu = new MenuId('MenubarEditMenu');\nMenuId.MenubarCopy = new MenuId('MenubarCopy');\nMenuId.MenubarFileMenu = new MenuId('MenubarFileMenu');\nMenuId.MenubarGoMenu = new MenuId('MenubarGoMenu');\nMenuId.MenubarHelpMenu = new MenuId('MenubarHelpMenu');\nMenuId.MenubarLayoutMenu = new MenuId('MenubarLayoutMenu');\nMenuId.MenubarNewBreakpointMenu = new MenuId('MenubarNewBreakpointMenu');\nMenuId.MenubarPanelAlignmentMenu = new MenuId('MenubarPanelAlignmentMenu');\nMenuId.MenubarPreferencesMenu = new MenuId('MenubarPreferencesMenu');\nMenuId.MenubarRecentMenu = new MenuId('MenubarRecentMenu');\nMenuId.MenubarSelectionMenu = new MenuId('MenubarSelectionMenu');\nMenuId.MenubarSwitchEditorMenu = new MenuId('MenubarSwitchEditorMenu');\nMenuId.MenubarSwitchGroupMenu = new MenuId('MenubarSwitchGroupMenu');\nMenuId.MenubarTerminalMenu = new MenuId('MenubarTerminalMenu');\nMenuId.MenubarViewMenu = new MenuId('MenubarViewMenu');\nMenuId.MenubarHomeMenu = new MenuId('MenubarHomeMenu');\nMenuId.OpenEditorsContext = new MenuId('OpenEditorsContext');\nMenuId.ProblemsPanelContext = new MenuId('ProblemsPanelContext');\nMenuId.SCMChangeContext = new MenuId('SCMChangeContext');\nMenuId.SCMResourceContext = new MenuId('SCMResourceContext');\nMenuId.SCMResourceFolderContext = new MenuId('SCMResourceFolderContext');\nMenuId.SCMResourceGroupContext = new MenuId('SCMResourceGroupContext');\nMenuId.SCMSourceControl = new MenuId('SCMSourceControl');\nMenuId.SCMTitle = new MenuId('SCMTitle');\nMenuId.SearchContext = new MenuId('SearchContext');\nMenuId.StatusBarWindowIndicatorMenu = new MenuId('StatusBarWindowIndicatorMenu');\nMenuId.StatusBarRemoteIndicatorMenu = new MenuId('StatusBarRemoteIndicatorMenu');\nMenuId.TestItem = new MenuId('TestItem');\nMenuId.TestItemGutter = new MenuId('TestItemGutter');\nMenuId.TestPeekElement = new MenuId('TestPeekElement');\nMenuId.TestPeekTitle = new MenuId('TestPeekTitle');\nMenuId.TouchBarContext = new MenuId('TouchBarContext');\nMenuId.TitleBarContext = new MenuId('TitleBarContext');\nMenuId.TunnelContext = new MenuId('TunnelContext');\nMenuId.TunnelPrivacy = new MenuId('TunnelPrivacy');\nMenuId.TunnelProtocol = new MenuId('TunnelProtocol');\nMenuId.TunnelPortInline = new MenuId('TunnelInline');\nMenuId.TunnelTitle = new MenuId('TunnelTitle');\nMenuId.TunnelLocalAddressInline = new MenuId('TunnelLocalAddressInline');\nMenuId.TunnelOriginInline = new MenuId('TunnelOriginInline');\nMenuId.ViewItemContext = new MenuId('ViewItemContext');\nMenuId.ViewContainerTitle = new MenuId('ViewContainerTitle');\nMenuId.ViewContainerTitleContext = new MenuId('ViewContainerTitleContext');\nMenuId.ViewTitle = new MenuId('ViewTitle');\nMenuId.ViewTitleContext = new MenuId('ViewTitleContext');\nMenuId.CommentThreadTitle = new MenuId('CommentThreadTitle');\nMenuId.CommentThreadActions = new MenuId('CommentThreadActions');\nMenuId.CommentTitle = new MenuId('CommentTitle');\nMenuId.CommentActions = new MenuId('CommentActions');\nMenuId.InteractiveToolbar = new MenuId('InteractiveToolbar');\nMenuId.InteractiveCellTitle = new MenuId('InteractiveCellTitle');\nMenuId.InteractiveCellExecute = new MenuId('InteractiveCellExecute');\nMenuId.InteractiveInputExecute = new MenuId('InteractiveInputExecute');\nMenuId.NotebookToolbar = new MenuId('NotebookToolbar');\nMenuId.NotebookCellTitle = new MenuId('NotebookCellTitle');\nMenuId.NotebookCellInsert = new MenuId('NotebookCellInsert');\nMenuId.NotebookCellBetween = new MenuId('NotebookCellBetween');\nMenuId.NotebookCellListTop = new MenuId('NotebookCellTop');\nMenuId.NotebookCellExecute = new MenuId('NotebookCellExecute');\nMenuId.NotebookCellExecutePrimary = new MenuId('NotebookCellExecutePrimary');\nMenuId.NotebookDiffCellInputTitle = new MenuId('NotebookDiffCellInputTitle');\nMenuId.NotebookDiffCellMetadataTitle = new MenuId('NotebookDiffCellMetadataTitle');\nMenuId.NotebookDiffCellOutputsTitle = new MenuId('NotebookDiffCellOutputsTitle');\nMenuId.NotebookOutputToolbar = new MenuId('NotebookOutputToolbar');\nMenuId.NotebookEditorLayoutConfigure = new MenuId('NotebookEditorLayoutConfigure');\nMenuId.BulkEditTitle = new MenuId('BulkEditTitle');\nMenuId.BulkEditContext = new MenuId('BulkEditContext');\nMenuId.TimelineItemContext = new MenuId('TimelineItemContext');\nMenuId.TimelineTitle = new MenuId('TimelineTitle');\nMenuId.TimelineTitleContext = new MenuId('TimelineTitleContext');\nMenuId.AccountsContext = new MenuId('AccountsContext');\nMenuId.PanelTitle = new MenuId('PanelTitle');\nMenuId.TerminalInstanceContext = new MenuId('TerminalInstanceContext');\nMenuId.TerminalEditorInstanceContext = new MenuId('TerminalEditorInstanceContext');\nMenuId.TerminalNewDropdownContext = new MenuId('TerminalNewDropdownContext');\nMenuId.TerminalTabContext = new MenuId('TerminalTabContext');\nMenuId.TerminalTabEmptyAreaContext = new MenuId('TerminalTabEmptyAreaContext');\nMenuId.TerminalInlineTabContext = new MenuId('TerminalInlineTabContext');\nMenuId.WebviewContext = new MenuId('WebviewContext');\nMenuId.InlineCompletionsActions = new MenuId('InlineCompletionsActions');\nMenuId.NewFile = new MenuId('NewFile');\nexport const IMenuService = createDecorator('menuService');\nexport const MenuRegistry = new class {\n    constructor() {\n        this._commands = new Map();\n        this._menuItems = new Map();\n        this._onDidChangeMenu = new Emitter();\n        this.onDidChangeMenu = this._onDidChangeMenu.event;\n        this._commandPaletteChangeEvent = {\n            has: id => id === MenuId.CommandPalette\n        };\n    }\n    addCommand(command) {\n        return this.addCommands(Iterable.single(command));\n    }\n    addCommands(commands) {\n        for (const command of commands) {\n            this._commands.set(command.id, command);\n        }\n        this._onDidChangeMenu.fire(this._commandPaletteChangeEvent);\n        return toDisposable(() => {\n            let didChange = false;\n            for (const command of commands) {\n                didChange = this._commands.delete(command.id) || didChange;\n            }\n            if (didChange) {\n                this._onDidChangeMenu.fire(this._commandPaletteChangeEvent);\n            }\n        });\n    }\n    getCommand(id) {\n        return this._commands.get(id);\n    }\n    getCommands() {\n        const map = new Map();\n        this._commands.forEach((value, key) => map.set(key, value));\n        return map;\n    }\n    appendMenuItem(id, item) {\n        return this.appendMenuItems(Iterable.single({ id, item }));\n    }\n    appendMenuItems(items) {\n        const changedIds = new Set();\n        const toRemove = new LinkedList();\n        for (const { id, item } of items) {\n            let list = this._menuItems.get(id);\n            if (!list) {\n                list = new LinkedList();\n                this._menuItems.set(id, list);\n            }\n            toRemove.push(list.push(item));\n            changedIds.add(id);\n        }\n        this._onDidChangeMenu.fire(changedIds);\n        return toDisposable(() => {\n            if (toRemove.size > 0) {\n                for (let fn of toRemove) {\n                    fn();\n                }\n                this._onDidChangeMenu.fire(changedIds);\n                toRemove.clear();\n            }\n        });\n    }\n    getMenuItems(id) {\n        let result;\n        if (this._menuItems.has(id)) {\n            result = [...this._menuItems.get(id)];\n        }\n        else {\n            result = [];\n        }\n        if (id === MenuId.CommandPalette) {\n            // CommandPalette is special because it shows\n            // all commands by default\n            this._appendImplicitItems(result);\n        }\n        return result;\n    }\n    _appendImplicitItems(result) {\n        const set = new Set();\n        for (const item of result) {\n            if (isIMenuItem(item)) {\n                set.add(item.command.id);\n                if (item.alt) {\n                    set.add(item.alt.id);\n                }\n            }\n        }\n        this._commands.forEach((command, id) => {\n            if (!set.has(id)) {\n                result.push({ command });\n            }\n        });\n    }\n};\nexport class SubmenuItemAction extends SubmenuAction {\n    constructor(item, _menuService, _contextKeyService, _options) {\n        super(`submenuitem.${item.submenu.id}`, typeof item.title === 'string' ? item.title : item.title.value, [], 'submenu');\n        this.item = item;\n        this._menuService = _menuService;\n        this._contextKeyService = _contextKeyService;\n        this._options = _options;\n    }\n    get actions() {\n        const result = [];\n        const menu = this._menuService.createMenu(this.item.submenu, this._contextKeyService);\n        const groups = menu.getActions(this._options);\n        menu.dispose();\n        for (const [, actions] of groups) {\n            if (actions.length > 0) {\n                result.push(...actions);\n                result.push(new Separator());\n            }\n        }\n        if (result.length) {\n            result.pop(); // remove last separator\n        }\n        return result;\n    }\n}\n// implements IAction, does NOT extend Action, so that no one\n// subscribes to events of Action or modified properties\nlet MenuItemAction = class MenuItemAction {\n    constructor(item, alt, options, contextKeyService, _commandService) {\n        var _a, _b;\n        this._commandService = _commandService;\n        this.id = item.id;\n        this.label = (options === null || options === void 0 ? void 0 : options.renderShortTitle) && item.shortTitle\n            ? (typeof item.shortTitle === 'string' ? item.shortTitle : item.shortTitle.value)\n            : (typeof item.title === 'string' ? item.title : item.title.value);\n        this.tooltip = (_b = (typeof item.tooltip === 'string' ? item.tooltip : (_a = item.tooltip) === null || _a === void 0 ? void 0 : _a.value)) !== null && _b !== void 0 ? _b : '';\n        this.enabled = !item.precondition || contextKeyService.contextMatchesRules(item.precondition);\n        this.checked = undefined;\n        if (item.toggled) {\n            const toggled = (item.toggled.condition ? item.toggled : { condition: item.toggled });\n            this.checked = contextKeyService.contextMatchesRules(toggled.condition);\n            if (this.checked && toggled.tooltip) {\n                this.tooltip = typeof toggled.tooltip === 'string' ? toggled.tooltip : toggled.tooltip.value;\n            }\n            if (toggled.title) {\n                this.label = typeof toggled.title === 'string' ? toggled.title : toggled.title.value;\n            }\n        }\n        this.item = item;\n        this.alt = alt ? new MenuItemAction(alt, undefined, options, contextKeyService, _commandService) : undefined;\n        this._options = options;\n        if (ThemeIcon.isThemeIcon(item.icon)) {\n            this.class = CSSIcon.asClassName(item.icon);\n        }\n    }\n    dispose() {\n        // there is NOTHING to dispose and the MenuItemAction should\n        // never have anything to dispose as it is a convenience type\n        // to bridge into the rendering world.\n    }\n    run(...args) {\n        var _a, _b;\n        let runArgs = [];\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.arg) {\n            runArgs = [...runArgs, this._options.arg];\n        }\n        if ((_b = this._options) === null || _b === void 0 ? void 0 : _b.shouldForwardArgs) {\n            runArgs = [...runArgs, ...args];\n        }\n        return this._commandService.executeCommand(this.id, ...runArgs);\n    }\n};\nMenuItemAction = __decorate([\n    __param(3, IContextKeyService),\n    __param(4, ICommandService)\n], MenuItemAction);\nexport { MenuItemAction };\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IMenuService, isIMenuItem, MenuItemAction, MenuRegistry, SubmenuItemAction } from './actions.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nlet MenuService = class MenuService {\n    constructor(_commandService) {\n        this._commandService = _commandService;\n        //\n    }\n    /**\n     * Create a new menu for the given menu identifier. A menu sends events when it's entries\n     * have changed (placement, enablement, checked-state). By default it does send events for\n     * sub menu entries. That is more expensive and must be explicitly enabled with the\n     * `emitEventsForSubmenuChanges` flag.\n     */\n    createMenu(id, contextKeyService, options) {\n        return new Menu(id, Object.assign({ emitEventsForSubmenuChanges: false, eventDebounceDelay: 50 }, options), this._commandService, contextKeyService, this);\n    }\n};\nMenuService = __decorate([\n    __param(0, ICommandService)\n], MenuService);\nexport { MenuService };\nlet Menu = class Menu {\n    constructor(_id, _options, _commandService, _contextKeyService, _menuService) {\n        this._id = _id;\n        this._options = _options;\n        this._commandService = _commandService;\n        this._contextKeyService = _contextKeyService;\n        this._menuService = _menuService;\n        this._disposables = new DisposableStore();\n        this._menuGroups = [];\n        this._contextKeys = new Set();\n        this._build();\n        // Rebuild this menu whenever the menu registry reports an event for this MenuId.\n        // This usually happen while code and extensions are loaded and affects the over\n        // structure of the menu\n        const rebuildMenuSoon = new RunOnceScheduler(() => {\n            this._build();\n            this._onDidChange.fire(this);\n        }, _options.eventDebounceDelay);\n        this._disposables.add(rebuildMenuSoon);\n        this._disposables.add(MenuRegistry.onDidChangeMenu(e => {\n            if (e.has(_id)) {\n                rebuildMenuSoon.schedule();\n            }\n        }));\n        // When context keys change we need to check if the menu also has changed. However,\n        // we only do that when someone listens on this menu because (1) context key events are\n        // firing often and (2) menu are often leaked\n        const contextKeyListener = this._disposables.add(new DisposableStore());\n        const startContextKeyListener = () => {\n            const fireChangeSoon = new RunOnceScheduler(() => this._onDidChange.fire(this), _options.eventDebounceDelay);\n            contextKeyListener.add(fireChangeSoon);\n            contextKeyListener.add(_contextKeyService.onDidChangeContext(e => {\n                if (e.affectsSome(this._contextKeys)) {\n                    fireChangeSoon.schedule();\n                }\n            }));\n        };\n        this._onDidChange = new Emitter({\n            // start/stop context key listener\n            onFirstListenerAdd: startContextKeyListener,\n            onLastListenerRemove: contextKeyListener.clear.bind(contextKeyListener)\n        });\n        this.onDidChange = this._onDidChange.event;\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._onDidChange.dispose();\n    }\n    _build() {\n        // reset\n        this._menuGroups.length = 0;\n        this._contextKeys.clear();\n        const menuItems = MenuRegistry.getMenuItems(this._id);\n        let group;\n        menuItems.sort(Menu._compareMenuItems);\n        for (const item of menuItems) {\n            // group by groupId\n            const groupName = item.group || '';\n            if (!group || group[0] !== groupName) {\n                group = [groupName, []];\n                this._menuGroups.push(group);\n            }\n            group[1].push(item);\n            // keep keys for eventing\n            this._collectContextKeys(item);\n        }\n    }\n    _collectContextKeys(item) {\n        Menu._fillInKbExprKeys(item.when, this._contextKeys);\n        if (isIMenuItem(item)) {\n            // keep precondition keys for event if applicable\n            if (item.command.precondition) {\n                Menu._fillInKbExprKeys(item.command.precondition, this._contextKeys);\n            }\n            // keep toggled keys for event if applicable\n            if (item.command.toggled) {\n                const toggledExpression = item.command.toggled.condition || item.command.toggled;\n                Menu._fillInKbExprKeys(toggledExpression, this._contextKeys);\n            }\n        }\n        else if (this._options.emitEventsForSubmenuChanges) {\n            // recursively collect context keys from submenus so that this\n            // menu fires events when context key changes affect submenus\n            MenuRegistry.getMenuItems(item.submenu).forEach(this._collectContextKeys, this);\n        }\n    }\n    getActions(options) {\n        const result = [];\n        for (let group of this._menuGroups) {\n            const [id, items] = group;\n            const activeActions = [];\n            for (const item of items) {\n                if (this._contextKeyService.contextMatchesRules(item.when)) {\n                    const action = isIMenuItem(item)\n                        ? new MenuItemAction(item.command, item.alt, options, this._contextKeyService, this._commandService)\n                        : new SubmenuItemAction(item, this._menuService, this._contextKeyService, options);\n                    activeActions.push(action);\n                }\n            }\n            if (activeActions.length > 0) {\n                result.push([id, activeActions]);\n            }\n        }\n        return result;\n    }\n    static _fillInKbExprKeys(exp, set) {\n        if (exp) {\n            for (let key of exp.keys()) {\n                set.add(key);\n            }\n        }\n    }\n    static _compareMenuItems(a, b) {\n        let aGroup = a.group;\n        let bGroup = b.group;\n        if (aGroup !== bGroup) {\n            // Falsy groups come last\n            if (!aGroup) {\n                return 1;\n            }\n            else if (!bGroup) {\n                return -1;\n            }\n            // 'navigation' group comes first\n            if (aGroup === 'navigation') {\n                return -1;\n            }\n            else if (bGroup === 'navigation') {\n                return 1;\n            }\n            // lexical sort for groups\n            let value = aGroup.localeCompare(bGroup);\n            if (value !== 0) {\n                return value;\n            }\n        }\n        // sort on priority - default is 0\n        let aPrio = a.order || 0;\n        let bPrio = b.order || 0;\n        if (aPrio < bPrio) {\n            return -1;\n        }\n        else if (aPrio > bPrio) {\n            return 1;\n        }\n        // sort on titles\n        return Menu._compareTitles(isIMenuItem(a) ? a.command.title : a.title, isIMenuItem(b) ? b.command.title : b.title);\n    }\n    static _compareTitles(a, b) {\n        const aStr = typeof a === 'string' ? a : a.original;\n        const bStr = typeof b === 'string' ? b : b.original;\n        return aStr.localeCompare(bStr);\n    }\n};\nMenu = __decorate([\n    __param(2, ICommandService),\n    __param(3, IContextKeyService),\n    __param(4, IMenuService)\n], Menu);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { isSafari, isWebkitWebView } from '../../../base/browser/browser.js';\nimport { $, addDisposableListener } from '../../../base/browser/dom.js';\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { ILogService } from '../../log/common/log.js';\nlet BrowserClipboardService = class BrowserClipboardService extends Disposable {\n    constructor(layoutService, logService) {\n        super();\n        this.layoutService = layoutService;\n        this.logService = logService;\n        this.mapTextToType = new Map(); // unsupported in web (only in-memory)\n        this.findText = ''; // unsupported in web (only in-memory)\n        if (isSafari || isWebkitWebView) {\n            this.installWebKitWriteTextWorkaround();\n        }\n    }\n    // In Safari, it has the following note:\n    //\n    // \"The request to write to the clipboard must be triggered during a user gesture.\n    // A call to clipboard.write or clipboard.writeText outside the scope of a user\n    // gesture(such as \"click\" or \"touch\" event handlers) will result in the immediate\n    // rejection of the promise returned by the API call.\"\n    // From: https://webkit.org/blog/10855/async-clipboard-api/\n    //\n    // Since extensions run in a web worker, and handle gestures in an asynchronous way,\n    // they are not classified by Safari as \"in response to a user gesture\" and will reject.\n    //\n    // This function sets up some handlers to work around that behavior.\n    installWebKitWriteTextWorkaround() {\n        const handler = () => {\n            const currentWritePromise = new DeferredPromise();\n            // Cancel the previous promise since we just created a new one in response to this new event\n            if (this.webKitPendingClipboardWritePromise && !this.webKitPendingClipboardWritePromise.isSettled) {\n                this.webKitPendingClipboardWritePromise.cancel();\n            }\n            this.webKitPendingClipboardWritePromise = currentWritePromise;\n            // The ctor of ClipboardItem allows you to pass in a promise that will resolve to a string.\n            // This allows us to pass in a Promise that will either be cancelled by another event or\n            // resolved with the contents of the first call to this.writeText.\n            // see https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem#parameters\n            navigator.clipboard.write([new ClipboardItem({\n                    'text/plain': currentWritePromise.p,\n                })]).catch((err) => __awaiter(this, void 0, void 0, function* () {\n                if (!(err instanceof Error) || err.name !== 'NotAllowedError' || !currentWritePromise.isRejected) {\n                    this.logService.error(err);\n                }\n            }));\n        };\n        if (this.layoutService.hasContainer) {\n            this._register(addDisposableListener(this.layoutService.container, 'click', handler));\n            this._register(addDisposableListener(this.layoutService.container, 'keydown', handler));\n        }\n    }\n    writeText(text, type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // With type: only in-memory is supported\n            if (type) {\n                this.mapTextToType.set(type, text);\n                return;\n            }\n            if (this.webKitPendingClipboardWritePromise) {\n                // For Safari, we complete this Promise which allows the call to `navigator.clipboard.write()`\n                // above to resolve and successfully copy to the clipboard. If we let this continue, Safari\n                // would throw an error because this call stack doesn't appear to originate from a user gesture.\n                return this.webKitPendingClipboardWritePromise.complete(text);\n            }\n            // Guard access to navigator.clipboard with try/catch\n            // as we have seen DOMExceptions in certain browsers\n            // due to security policies.\n            try {\n                return yield navigator.clipboard.writeText(text);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            // Fallback to textarea and execCommand solution\n            const activeElement = document.activeElement;\n            const textArea = document.body.appendChild($('textarea', { 'aria-hidden': true }));\n            textArea.style.height = '1px';\n            textArea.style.width = '1px';\n            textArea.style.position = 'absolute';\n            textArea.value = text;\n            textArea.focus();\n            textArea.select();\n            document.execCommand('copy');\n            if (activeElement instanceof HTMLElement) {\n                activeElement.focus();\n            }\n            document.body.removeChild(textArea);\n            return;\n        });\n    }\n    readText(type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // With type: only in-memory is supported\n            if (type) {\n                return this.mapTextToType.get(type) || '';\n            }\n            // Guard access to navigator.clipboard with try/catch\n            // as we have seen DOMExceptions in certain browsers\n            // due to security policies.\n            try {\n                return yield navigator.clipboard.readText();\n            }\n            catch (error) {\n                console.error(error);\n                return '';\n            }\n        });\n    }\n    readFindText() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.findText;\n        });\n    }\n    writeFindText(text) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.findText = text;\n        });\n    }\n};\nBrowserClipboardService = __decorate([\n    __param(0, ILayoutService),\n    __param(1, ILogService)\n], BrowserClipboardService);\nexport { BrowserClipboardService };\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IClipboardService = createDecorator('clipboardService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { validateConstraints } from '../../../base/common/types.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ICommandService = createDecorator('commandService');\nexport const CommandsRegistry = new class {\n    constructor() {\n        this._commands = new Map();\n        this._onDidRegisterCommand = new Emitter();\n        this.onDidRegisterCommand = this._onDidRegisterCommand.event;\n    }\n    registerCommand(idOrCommand, handler) {\n        if (!idOrCommand) {\n            throw new Error(`invalid command`);\n        }\n        if (typeof idOrCommand === 'string') {\n            if (!handler) {\n                throw new Error(`invalid command`);\n            }\n            return this.registerCommand({ id: idOrCommand, handler });\n        }\n        // add argument validation if rich command metadata is provided\n        if (idOrCommand.description) {\n            const constraints = [];\n            for (let arg of idOrCommand.description.args) {\n                constraints.push(arg.constraint);\n            }\n            const actualHandler = idOrCommand.handler;\n            idOrCommand.handler = function (accessor, ...args) {\n                validateConstraints(args, constraints);\n                return actualHandler(accessor, ...args);\n            };\n        }\n        // find a place to store the command\n        const { id } = idOrCommand;\n        let commands = this._commands.get(id);\n        if (!commands) {\n            commands = new LinkedList();\n            this._commands.set(id, commands);\n        }\n        let removeFn = commands.unshift(idOrCommand);\n        let ret = toDisposable(() => {\n            removeFn();\n            const command = this._commands.get(id);\n            if (command === null || command === void 0 ? void 0 : command.isEmpty()) {\n                this._commands.delete(id);\n            }\n        });\n        // tell the world about this command\n        this._onDidRegisterCommand.fire(id);\n        return ret;\n    }\n    registerCommandAlias(oldId, newId) {\n        return CommandsRegistry.registerCommand(oldId, (accessor, ...args) => accessor.get(ICommandService).executeCommand(newId, ...args));\n    }\n    getCommand(id) {\n        const list = this._commands.get(id);\n        if (!list || list.isEmpty()) {\n            return undefined;\n        }\n        return Iterable.first(list);\n    }\n    getCommands() {\n        const result = new Map();\n        for (const key of this._commands.keys()) {\n            const command = this.getCommand(key);\n            if (command) {\n                result.set(key, command);\n            }\n        }\n        return result;\n    }\n};\nexport const NullCommandService = {\n    _serviceBrand: undefined,\n    onWillExecuteCommand: () => Disposable.None,\n    onDidExecuteCommand: () => Disposable.None,\n    executeCommand() {\n        return Promise.resolve(undefined);\n    }\n};\nCommandsRegistry.registerCommand('noop', () => { });\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IConfigurationService = createDecorator('configurationService');\nexport function toValuesTree(properties, conflictReporter) {\n    const root = Object.create(null);\n    for (let key in properties) {\n        addToValueTree(root, key, properties[key], conflictReporter);\n    }\n    return root;\n}\nexport function addToValueTree(settingsTreeRoot, key, value, conflictReporter) {\n    const segments = key.split('.');\n    const last = segments.pop();\n    let curr = settingsTreeRoot;\n    for (let i = 0; i < segments.length; i++) {\n        let s = segments[i];\n        let obj = curr[s];\n        switch (typeof obj) {\n            case 'undefined':\n                obj = curr[s] = Object.create(null);\n                break;\n            case 'object':\n                break;\n            default:\n                conflictReporter(`Ignoring ${key} as ${segments.slice(0, i + 1).join('.')} is ${JSON.stringify(obj)}`);\n                return;\n        }\n        curr = obj;\n    }\n    if (typeof curr === 'object' && curr !== null) {\n        try {\n            curr[last] = value; // workaround https://github.com/microsoft/vscode/issues/13606\n        }\n        catch (e) {\n            conflictReporter(`Ignoring ${key} as ${segments.join('.')} is ${JSON.stringify(curr)}`);\n        }\n    }\n    else {\n        conflictReporter(`Ignoring ${key} as ${segments.join('.')} is ${JSON.stringify(curr)}`);\n    }\n}\nexport function removeFromValueTree(valueTree, key) {\n    const segments = key.split('.');\n    doRemoveFromValueTree(valueTree, segments);\n}\nfunction doRemoveFromValueTree(valueTree, segments) {\n    const first = segments.shift();\n    if (segments.length === 0) {\n        // Reached last segment\n        delete valueTree[first];\n        return;\n    }\n    if (Object.keys(valueTree).indexOf(first) !== -1) {\n        const value = valueTree[first];\n        if (typeof value === 'object' && !Array.isArray(value)) {\n            doRemoveFromValueTree(value, segments);\n            if (Object.keys(value).length === 0) {\n                delete valueTree[first];\n            }\n        }\n    }\n}\n/**\n * A helper function to get the configuration value with a specific settings path (e.g. config.some.setting)\n */\nexport function getConfigurationValue(config, settingPath, defaultValue) {\n    function accessSetting(config, path) {\n        let current = config;\n        for (const component of path) {\n            if (typeof current !== 'object' || current === null) {\n                return undefined;\n            }\n            current = current[component];\n        }\n        return current;\n    }\n    const path = settingPath.split('.');\n    const result = accessSetting(config, path);\n    return typeof result === 'undefined' ? defaultValue : result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as arrays from '../../../base/common/arrays.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport * as objects from '../../../base/common/objects.js';\nimport * as types from '../../../base/common/types.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { addToValueTree, getConfigurationValue, removeFromValueTree, toValuesTree } from './configuration.js';\nimport { Extensions, overrideIdentifiersFromKey, OVERRIDE_PROPERTY_REGEX } from './configurationRegistry.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport class ConfigurationModel {\n    constructor(_contents = {}, _keys = [], _overrides = []) {\n        this._contents = _contents;\n        this._keys = _keys;\n        this._overrides = _overrides;\n        this.isFrozen = false;\n        this.overrideConfigurations = new Map();\n    }\n    get contents() {\n        return this.checkAndFreeze(this._contents);\n    }\n    get overrides() {\n        return this.checkAndFreeze(this._overrides);\n    }\n    get keys() {\n        return this.checkAndFreeze(this._keys);\n    }\n    isEmpty() {\n        return this._keys.length === 0 && Object.keys(this._contents).length === 0 && this._overrides.length === 0;\n    }\n    getValue(section) {\n        return section ? getConfigurationValue(this.contents, section) : this.contents;\n    }\n    getOverrideValue(section, overrideIdentifier) {\n        const overrideContents = this.getContentsForOverrideIdentifer(overrideIdentifier);\n        return overrideContents\n            ? section ? getConfigurationValue(overrideContents, section) : overrideContents\n            : undefined;\n    }\n    override(identifier) {\n        let overrideConfigurationModel = this.overrideConfigurations.get(identifier);\n        if (!overrideConfigurationModel) {\n            overrideConfigurationModel = this.createOverrideConfigurationModel(identifier);\n            this.overrideConfigurations.set(identifier, overrideConfigurationModel);\n        }\n        return overrideConfigurationModel;\n    }\n    merge(...others) {\n        const contents = objects.deepClone(this.contents);\n        const overrides = objects.deepClone(this.overrides);\n        const keys = [...this.keys];\n        for (const other of others) {\n            this.mergeContents(contents, other.contents);\n            for (const otherOverride of other.overrides) {\n                const [override] = overrides.filter(o => arrays.equals(o.identifiers, otherOverride.identifiers));\n                if (override) {\n                    this.mergeContents(override.contents, otherOverride.contents);\n                    override.keys.push(...otherOverride.keys);\n                    override.keys = arrays.distinct(override.keys);\n                }\n                else {\n                    overrides.push(objects.deepClone(otherOverride));\n                }\n            }\n            for (const key of other.keys) {\n                if (keys.indexOf(key) === -1) {\n                    keys.push(key);\n                }\n            }\n        }\n        return new ConfigurationModel(contents, keys, overrides);\n    }\n    freeze() {\n        this.isFrozen = true;\n        return this;\n    }\n    createOverrideConfigurationModel(identifier) {\n        const overrideContents = this.getContentsForOverrideIdentifer(identifier);\n        if (!overrideContents || typeof overrideContents !== 'object' || !Object.keys(overrideContents).length) {\n            // If there are no valid overrides, return self\n            return this;\n        }\n        let contents = {};\n        for (const key of arrays.distinct([...Object.keys(this.contents), ...Object.keys(overrideContents)])) {\n            let contentsForKey = this.contents[key];\n            let overrideContentsForKey = overrideContents[key];\n            // If there are override contents for the key, clone and merge otherwise use base contents\n            if (overrideContentsForKey) {\n                // Clone and merge only if base contents and override contents are of type object otherwise just override\n                if (typeof contentsForKey === 'object' && typeof overrideContentsForKey === 'object') {\n                    contentsForKey = objects.deepClone(contentsForKey);\n                    this.mergeContents(contentsForKey, overrideContentsForKey);\n                }\n                else {\n                    contentsForKey = overrideContentsForKey;\n                }\n            }\n            contents[key] = contentsForKey;\n        }\n        return new ConfigurationModel(contents, this.keys, this.overrides);\n    }\n    mergeContents(source, target) {\n        for (const key of Object.keys(target)) {\n            if (key in source) {\n                if (types.isObject(source[key]) && types.isObject(target[key])) {\n                    this.mergeContents(source[key], target[key]);\n                    continue;\n                }\n            }\n            source[key] = objects.deepClone(target[key]);\n        }\n    }\n    checkAndFreeze(data) {\n        if (this.isFrozen && !Object.isFrozen(data)) {\n            return objects.deepFreeze(data);\n        }\n        return data;\n    }\n    getContentsForOverrideIdentifer(identifier) {\n        let contentsForIdentifierOnly = null;\n        let contents = null;\n        const mergeContents = (contentsToMerge) => {\n            if (contentsToMerge) {\n                if (contents) {\n                    this.mergeContents(contents, contentsToMerge);\n                }\n                else {\n                    contents = objects.deepClone(contentsToMerge);\n                }\n            }\n        };\n        for (const override of this.overrides) {\n            if (arrays.equals(override.identifiers, [identifier])) {\n                contentsForIdentifierOnly = override.contents;\n            }\n            else if (override.identifiers.includes(identifier)) {\n                mergeContents(override.contents);\n            }\n        }\n        // Merge contents of the identifier only at the end to take precedence.\n        mergeContents(contentsForIdentifierOnly);\n        return contents;\n    }\n    toJSON() {\n        return {\n            contents: this.contents,\n            overrides: this.overrides,\n            keys: this.keys\n        };\n    }\n    // Update methods\n    setValue(key, value) {\n        this.addKey(key);\n        addToValueTree(this.contents, key, value, e => { throw new Error(e); });\n    }\n    removeValue(key) {\n        if (this.removeKey(key)) {\n            removeFromValueTree(this.contents, key);\n        }\n    }\n    addKey(key) {\n        let index = this.keys.length;\n        for (let i = 0; i < index; i++) {\n            if (key.indexOf(this.keys[i]) === 0) {\n                index = i;\n            }\n        }\n        this.keys.splice(index, 1, key);\n    }\n    removeKey(key) {\n        let index = this.keys.indexOf(key);\n        if (index !== -1) {\n            this.keys.splice(index, 1);\n            return true;\n        }\n        return false;\n    }\n}\nexport class DefaultConfigurationModel extends ConfigurationModel {\n    constructor(configurationDefaultsOverrides = {}) {\n        const properties = Registry.as(Extensions.Configuration).getConfigurationProperties();\n        const keys = Object.keys(properties);\n        const contents = Object.create(null);\n        const overrides = [];\n        for (const key in properties) {\n            const defaultOverrideValue = configurationDefaultsOverrides[key];\n            const value = defaultOverrideValue !== undefined ? defaultOverrideValue : properties[key].default;\n            addToValueTree(contents, key, value, message => console.error(`Conflict in default settings: ${message}`));\n        }\n        for (const key of Object.keys(contents)) {\n            if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n                overrides.push({\n                    identifiers: overrideIdentifiersFromKey(key),\n                    keys: Object.keys(contents[key]),\n                    contents: toValuesTree(contents[key], message => console.error(`Conflict in default settings file: ${message}`)),\n                });\n            }\n        }\n        super(contents, keys, overrides);\n    }\n}\nexport class Configuration {\n    constructor(_defaultConfiguration, _localUserConfiguration, _remoteUserConfiguration = new ConfigurationModel(), _workspaceConfiguration = new ConfigurationModel(), _folderConfigurations = new ResourceMap(), _memoryConfiguration = new ConfigurationModel(), _memoryConfigurationByResource = new ResourceMap(), _freeze = true) {\n        this._defaultConfiguration = _defaultConfiguration;\n        this._localUserConfiguration = _localUserConfiguration;\n        this._remoteUserConfiguration = _remoteUserConfiguration;\n        this._workspaceConfiguration = _workspaceConfiguration;\n        this._folderConfigurations = _folderConfigurations;\n        this._memoryConfiguration = _memoryConfiguration;\n        this._memoryConfigurationByResource = _memoryConfigurationByResource;\n        this._freeze = _freeze;\n        this._workspaceConsolidatedConfiguration = null;\n        this._foldersConsolidatedConfigurations = new ResourceMap();\n        this._userConfiguration = null;\n    }\n    getValue(section, overrides, workspace) {\n        const consolidateConfigurationModel = this.getConsolidateConfigurationModel(overrides, workspace);\n        return consolidateConfigurationModel.getValue(section);\n    }\n    updateValue(key, value, overrides = {}) {\n        let memoryConfiguration;\n        if (overrides.resource) {\n            memoryConfiguration = this._memoryConfigurationByResource.get(overrides.resource);\n            if (!memoryConfiguration) {\n                memoryConfiguration = new ConfigurationModel();\n                this._memoryConfigurationByResource.set(overrides.resource, memoryConfiguration);\n            }\n        }\n        else {\n            memoryConfiguration = this._memoryConfiguration;\n        }\n        if (value === undefined) {\n            memoryConfiguration.removeValue(key);\n        }\n        else {\n            memoryConfiguration.setValue(key, value);\n        }\n        if (!overrides.resource) {\n            this._workspaceConsolidatedConfiguration = null;\n        }\n    }\n    inspect(key, overrides, workspace) {\n        const consolidateConfigurationModel = this.getConsolidateConfigurationModel(overrides, workspace);\n        const folderConfigurationModel = this.getFolderConfigurationModelForResource(overrides.resource, workspace);\n        const memoryConfigurationModel = overrides.resource ? this._memoryConfigurationByResource.get(overrides.resource) || this._memoryConfiguration : this._memoryConfiguration;\n        const defaultValue = overrides.overrideIdentifier ? this._defaultConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this._defaultConfiguration.freeze().getValue(key);\n        const userValue = overrides.overrideIdentifier ? this.userConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this.userConfiguration.freeze().getValue(key);\n        const userLocalValue = overrides.overrideIdentifier ? this.localUserConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this.localUserConfiguration.freeze().getValue(key);\n        const userRemoteValue = overrides.overrideIdentifier ? this.remoteUserConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this.remoteUserConfiguration.freeze().getValue(key);\n        const workspaceValue = workspace ? overrides.overrideIdentifier ? this._workspaceConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this._workspaceConfiguration.freeze().getValue(key) : undefined; //Check on workspace exists or not because _workspaceConfiguration is never null\n        const workspaceFolderValue = folderConfigurationModel ? overrides.overrideIdentifier ? folderConfigurationModel.freeze().override(overrides.overrideIdentifier).getValue(key) : folderConfigurationModel.freeze().getValue(key) : undefined;\n        const memoryValue = overrides.overrideIdentifier ? memoryConfigurationModel.override(overrides.overrideIdentifier).getValue(key) : memoryConfigurationModel.getValue(key);\n        const value = consolidateConfigurationModel.getValue(key);\n        const overrideIdentifiers = arrays.distinct(arrays.flatten(consolidateConfigurationModel.overrides.map(override => override.identifiers))).filter(overrideIdentifier => consolidateConfigurationModel.getOverrideValue(key, overrideIdentifier) !== undefined);\n        return {\n            defaultValue: defaultValue,\n            userValue: userValue,\n            userLocalValue: userLocalValue,\n            userRemoteValue: userRemoteValue,\n            workspaceValue: workspaceValue,\n            workspaceFolderValue: workspaceFolderValue,\n            memoryValue: memoryValue,\n            value,\n            default: defaultValue !== undefined ? { value: this._defaultConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this._defaultConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\n            user: userValue !== undefined ? { value: this.userConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this.userConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\n            userLocal: userLocalValue !== undefined ? { value: this.localUserConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this.localUserConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\n            userRemote: userRemoteValue !== undefined ? { value: this.remoteUserConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this.remoteUserConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\n            workspace: workspaceValue !== undefined ? { value: this._workspaceConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this._workspaceConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\n            workspaceFolder: workspaceFolderValue !== undefined ? { value: folderConfigurationModel === null || folderConfigurationModel === void 0 ? void 0 : folderConfigurationModel.freeze().getValue(key), override: overrides.overrideIdentifier ? folderConfigurationModel === null || folderConfigurationModel === void 0 ? void 0 : folderConfigurationModel.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\n            memory: memoryValue !== undefined ? { value: memoryConfigurationModel.getValue(key), override: overrides.overrideIdentifier ? memoryConfigurationModel.getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\n            overrideIdentifiers: overrideIdentifiers.length ? overrideIdentifiers : undefined\n        };\n    }\n    get userConfiguration() {\n        if (!this._userConfiguration) {\n            this._userConfiguration = this._remoteUserConfiguration.isEmpty() ? this._localUserConfiguration : this._localUserConfiguration.merge(this._remoteUserConfiguration);\n            if (this._freeze) {\n                this._userConfiguration.freeze();\n            }\n        }\n        return this._userConfiguration;\n    }\n    get localUserConfiguration() {\n        return this._localUserConfiguration;\n    }\n    get remoteUserConfiguration() {\n        return this._remoteUserConfiguration;\n    }\n    getConsolidateConfigurationModel(overrides, workspace) {\n        let configurationModel = this.getConsolidatedConfigurationModelForResource(overrides, workspace);\n        return overrides.overrideIdentifier ? configurationModel.override(overrides.overrideIdentifier) : configurationModel;\n    }\n    getConsolidatedConfigurationModelForResource({ resource }, workspace) {\n        let consolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\n        if (workspace && resource) {\n            const root = workspace.getFolder(resource);\n            if (root) {\n                consolidateConfiguration = this.getFolderConsolidatedConfiguration(root.uri) || consolidateConfiguration;\n            }\n            const memoryConfigurationForResource = this._memoryConfigurationByResource.get(resource);\n            if (memoryConfigurationForResource) {\n                consolidateConfiguration = consolidateConfiguration.merge(memoryConfigurationForResource);\n            }\n        }\n        return consolidateConfiguration;\n    }\n    getWorkspaceConsolidatedConfiguration() {\n        if (!this._workspaceConsolidatedConfiguration) {\n            this._workspaceConsolidatedConfiguration = this._defaultConfiguration.merge(this.userConfiguration, this._workspaceConfiguration, this._memoryConfiguration);\n            if (this._freeze) {\n                this._workspaceConfiguration = this._workspaceConfiguration.freeze();\n            }\n        }\n        return this._workspaceConsolidatedConfiguration;\n    }\n    getFolderConsolidatedConfiguration(folder) {\n        let folderConsolidatedConfiguration = this._foldersConsolidatedConfigurations.get(folder);\n        if (!folderConsolidatedConfiguration) {\n            const workspaceConsolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\n            const folderConfiguration = this._folderConfigurations.get(folder);\n            if (folderConfiguration) {\n                folderConsolidatedConfiguration = workspaceConsolidateConfiguration.merge(folderConfiguration);\n                if (this._freeze) {\n                    folderConsolidatedConfiguration = folderConsolidatedConfiguration.freeze();\n                }\n                this._foldersConsolidatedConfigurations.set(folder, folderConsolidatedConfiguration);\n            }\n            else {\n                folderConsolidatedConfiguration = workspaceConsolidateConfiguration;\n            }\n        }\n        return folderConsolidatedConfiguration;\n    }\n    getFolderConfigurationModelForResource(resource, workspace) {\n        if (workspace && resource) {\n            const root = workspace.getFolder(resource);\n            if (root) {\n                return this._folderConfigurations.get(root.uri);\n            }\n        }\n        return undefined;\n    }\n    toData() {\n        return {\n            defaults: {\n                contents: this._defaultConfiguration.contents,\n                overrides: this._defaultConfiguration.overrides,\n                keys: this._defaultConfiguration.keys\n            },\n            user: {\n                contents: this.userConfiguration.contents,\n                overrides: this.userConfiguration.overrides,\n                keys: this.userConfiguration.keys\n            },\n            workspace: {\n                contents: this._workspaceConfiguration.contents,\n                overrides: this._workspaceConfiguration.overrides,\n                keys: this._workspaceConfiguration.keys\n            },\n            folders: [...this._folderConfigurations.keys()].reduce((result, folder) => {\n                const { contents, overrides, keys } = this._folderConfigurations.get(folder);\n                result.push([folder, { contents, overrides, keys }]);\n                return result;\n            }, [])\n        };\n    }\n    static parse(data) {\n        const defaultConfiguration = this.parseConfigurationModel(data.defaults);\n        const userConfiguration = this.parseConfigurationModel(data.user);\n        const workspaceConfiguration = this.parseConfigurationModel(data.workspace);\n        const folders = data.folders.reduce((result, value) => {\n            result.set(URI.revive(value[0]), this.parseConfigurationModel(value[1]));\n            return result;\n        }, new ResourceMap());\n        return new Configuration(defaultConfiguration, userConfiguration, new ConfigurationModel(), workspaceConfiguration, folders, new ConfigurationModel(), new ResourceMap(), false);\n    }\n    static parseConfigurationModel(model) {\n        return new ConfigurationModel(model.contents, model.keys, model.overrides).freeze();\n    }\n}\nexport class ConfigurationChangeEvent {\n    constructor(change, previous, currentConfiguraiton, currentWorkspace) {\n        this.change = change;\n        this.previous = previous;\n        this.currentConfiguraiton = currentConfiguraiton;\n        this.currentWorkspace = currentWorkspace;\n        this._previousConfiguration = undefined;\n        const keysSet = new Set();\n        change.keys.forEach(key => keysSet.add(key));\n        change.overrides.forEach(([, keys]) => keys.forEach(key => keysSet.add(key)));\n        this.affectedKeys = [...keysSet.values()];\n        const configurationModel = new ConfigurationModel();\n        this.affectedKeys.forEach(key => configurationModel.setValue(key, {}));\n        this.affectedKeysTree = configurationModel.contents;\n    }\n    get previousConfiguration() {\n        if (!this._previousConfiguration && this.previous) {\n            this._previousConfiguration = Configuration.parse(this.previous.data);\n        }\n        return this._previousConfiguration;\n    }\n    affectsConfiguration(section, overrides) {\n        var _a;\n        if (this.doesAffectedKeysTreeContains(this.affectedKeysTree, section)) {\n            if (overrides) {\n                const value1 = this.previousConfiguration ? this.previousConfiguration.getValue(section, overrides, (_a = this.previous) === null || _a === void 0 ? void 0 : _a.workspace) : undefined;\n                const value2 = this.currentConfiguraiton.getValue(section, overrides, this.currentWorkspace);\n                return !objects.equals(value1, value2);\n            }\n            return true;\n        }\n        return false;\n    }\n    doesAffectedKeysTreeContains(affectedKeysTree, section) {\n        let requestedTree = toValuesTree({ [section]: true }, () => { });\n        let key;\n        while (typeof requestedTree === 'object' && (key = Object.keys(requestedTree)[0])) { // Only one key should present, since we added only one property\n            affectedKeysTree = affectedKeysTree[key];\n            if (!affectedKeysTree) {\n                return false; // Requested tree is not found\n            }\n            requestedTree = requestedTree[key];\n        }\n        return true;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { distinct } from '../../../base/common/arrays.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport * as types from '../../../base/common/types.js';\nimport * as nls from '../../../nls.js';\nimport { Extensions as JSONExtensions } from '../../jsonschemas/common/jsonContributionRegistry.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport const Extensions = {\n    Configuration: 'base.contributions.configuration'\n};\nexport const allSettings = { properties: {}, patternProperties: {} };\nexport const applicationSettings = { properties: {}, patternProperties: {} };\nexport const machineSettings = { properties: {}, patternProperties: {} };\nexport const machineOverridableSettings = { properties: {}, patternProperties: {} };\nexport const windowSettings = { properties: {}, patternProperties: {} };\nexport const resourceSettings = { properties: {}, patternProperties: {} };\nexport const resourceLanguageSettingsSchemaId = 'vscode://schemas/settings/resourceLanguage';\nconst contributionRegistry = Registry.as(JSONExtensions.JSONContribution);\nclass ConfigurationRegistry {\n    constructor() {\n        this.overrideIdentifiers = new Set();\n        this._onDidSchemaChange = new Emitter();\n        this._onDidUpdateConfiguration = new Emitter();\n        this.configurationDefaultsOverrides = new Map();\n        this.defaultLanguageConfigurationOverridesNode = {\n            id: 'defaultOverrides',\n            title: nls.localize('defaultLanguageConfigurationOverrides.title', \"Default Language Configuration Overrides\"),\n            properties: {}\n        };\n        this.configurationContributors = [this.defaultLanguageConfigurationOverridesNode];\n        this.resourceLanguageSettingsSchema = { properties: {}, patternProperties: {}, additionalProperties: false, errorMessage: 'Unknown editor configuration setting', allowTrailingCommas: true, allowComments: true };\n        this.configurationProperties = {};\n        this.excludedConfigurationProperties = {};\n        contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId, this.resourceLanguageSettingsSchema);\n        this.registerOverridePropertyPatternKey();\n    }\n    registerConfiguration(configuration, validate = true) {\n        this.registerConfigurations([configuration], validate);\n    }\n    registerConfigurations(configurations, validate = true) {\n        const properties = this.doRegisterConfigurations(configurations, validate);\n        contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId, this.resourceLanguageSettingsSchema);\n        this._onDidSchemaChange.fire();\n        this._onDidUpdateConfiguration.fire({ properties });\n    }\n    registerDefaultConfigurations(configurationDefaults) {\n        var _a;\n        const properties = [];\n        const overrideIdentifiers = [];\n        for (const { overrides, source } of configurationDefaults) {\n            for (const key in overrides) {\n                properties.push(key);\n                if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n                    const defaultValue = Object.assign(Object.assign({}, (((_a = this.configurationDefaultsOverrides.get(key)) === null || _a === void 0 ? void 0 : _a.value) || {})), overrides[key]);\n                    this.configurationDefaultsOverrides.set(key, { source, value: defaultValue });\n                    const property = {\n                        type: 'object',\n                        default: defaultValue,\n                        description: nls.localize('defaultLanguageConfiguration.description', \"Configure settings to be overridden for {0} language.\", key),\n                        $ref: resourceLanguageSettingsSchemaId,\n                        defaultDefaultValue: defaultValue,\n                        source: types.isString(source) ? undefined : source,\n                    };\n                    overrideIdentifiers.push(...overrideIdentifiersFromKey(key));\n                    this.configurationProperties[key] = property;\n                    this.defaultLanguageConfigurationOverridesNode.properties[key] = property;\n                }\n                else {\n                    this.configurationDefaultsOverrides.set(key, { value: overrides[key], source });\n                    const property = this.configurationProperties[key];\n                    if (property) {\n                        this.updatePropertyDefaultValue(key, property);\n                        this.updateSchema(key, property);\n                    }\n                }\n            }\n        }\n        this.registerOverrideIdentifiers(overrideIdentifiers);\n        this._onDidSchemaChange.fire();\n        this._onDidUpdateConfiguration.fire({ properties, defaultsOverrides: true });\n    }\n    registerOverrideIdentifiers(overrideIdentifiers) {\n        for (const overrideIdentifier of overrideIdentifiers) {\n            this.overrideIdentifiers.add(overrideIdentifier);\n        }\n        this.updateOverridePropertyPatternKey();\n    }\n    doRegisterConfigurations(configurations, validate) {\n        const properties = [];\n        configurations.forEach(configuration => {\n            properties.push(...this.validateAndRegisterProperties(configuration, validate, configuration.extensionInfo, configuration.restrictedProperties)); // fills in defaults\n            this.configurationContributors.push(configuration);\n            this.registerJSONConfiguration(configuration);\n        });\n        return properties;\n    }\n    validateAndRegisterProperties(configuration, validate = true, extensionInfo, restrictedProperties, scope = 3 /* WINDOW */) {\n        scope = types.isUndefinedOrNull(configuration.scope) ? scope : configuration.scope;\n        let propertyKeys = [];\n        let properties = configuration.properties;\n        if (properties) {\n            for (let key in properties) {\n                if (validate && validateProperty(key)) {\n                    delete properties[key];\n                    continue;\n                }\n                const property = properties[key];\n                property.source = extensionInfo;\n                // update default value\n                property.defaultDefaultValue = properties[key].default;\n                this.updatePropertyDefaultValue(key, property);\n                // update scope\n                if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n                    property.scope = undefined; // No scope for overridable properties `[${identifier}]`\n                }\n                else {\n                    property.scope = types.isUndefinedOrNull(property.scope) ? scope : property.scope;\n                    property.restricted = types.isUndefinedOrNull(property.restricted) ? !!(restrictedProperties === null || restrictedProperties === void 0 ? void 0 : restrictedProperties.includes(key)) : property.restricted;\n                }\n                // Add to properties maps\n                // Property is included by default if 'included' is unspecified\n                if (properties[key].hasOwnProperty('included') && !properties[key].included) {\n                    this.excludedConfigurationProperties[key] = properties[key];\n                    delete properties[key];\n                    continue;\n                }\n                else {\n                    this.configurationProperties[key] = properties[key];\n                }\n                if (!properties[key].deprecationMessage && properties[key].markdownDeprecationMessage) {\n                    // If not set, default deprecationMessage to the markdown source\n                    properties[key].deprecationMessage = properties[key].markdownDeprecationMessage;\n                }\n                propertyKeys.push(key);\n            }\n        }\n        let subNodes = configuration.allOf;\n        if (subNodes) {\n            for (let node of subNodes) {\n                propertyKeys.push(...this.validateAndRegisterProperties(node, validate, extensionInfo, restrictedProperties, scope));\n            }\n        }\n        return propertyKeys;\n    }\n    getConfigurationProperties() {\n        return this.configurationProperties;\n    }\n    registerJSONConfiguration(configuration) {\n        const register = (configuration) => {\n            let properties = configuration.properties;\n            if (properties) {\n                for (const key in properties) {\n                    this.updateSchema(key, properties[key]);\n                }\n            }\n            let subNodes = configuration.allOf;\n            if (subNodes) {\n                subNodes.forEach(register);\n            }\n        };\n        register(configuration);\n    }\n    updateSchema(key, property) {\n        allSettings.properties[key] = property;\n        switch (property.scope) {\n            case 1 /* APPLICATION */:\n                applicationSettings.properties[key] = property;\n                break;\n            case 2 /* MACHINE */:\n                machineSettings.properties[key] = property;\n                break;\n            case 6 /* MACHINE_OVERRIDABLE */:\n                machineOverridableSettings.properties[key] = property;\n                break;\n            case 3 /* WINDOW */:\n                windowSettings.properties[key] = property;\n                break;\n            case 4 /* RESOURCE */:\n                resourceSettings.properties[key] = property;\n                break;\n            case 5 /* LANGUAGE_OVERRIDABLE */:\n                resourceSettings.properties[key] = property;\n                this.resourceLanguageSettingsSchema.properties[key] = property;\n                break;\n        }\n    }\n    updateOverridePropertyPatternKey() {\n        for (const overrideIdentifier of this.overrideIdentifiers.values()) {\n            const overrideIdentifierProperty = `[${overrideIdentifier}]`;\n            const resourceLanguagePropertiesSchema = {\n                type: 'object',\n                description: nls.localize('overrideSettings.defaultDescription', \"Configure editor settings to be overridden for a language.\"),\n                errorMessage: nls.localize('overrideSettings.errorMessage', \"This setting does not support per-language configuration.\"),\n                $ref: resourceLanguageSettingsSchemaId,\n            };\n            this.updatePropertyDefaultValue(overrideIdentifierProperty, resourceLanguagePropertiesSchema);\n            allSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            applicationSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            machineSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            machineOverridableSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            windowSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            resourceSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n        }\n        this._onDidSchemaChange.fire();\n    }\n    registerOverridePropertyPatternKey() {\n        const resourceLanguagePropertiesSchema = {\n            type: 'object',\n            description: nls.localize('overrideSettings.defaultDescription', \"Configure editor settings to be overridden for a language.\"),\n            errorMessage: nls.localize('overrideSettings.errorMessage', \"This setting does not support per-language configuration.\"),\n            $ref: resourceLanguageSettingsSchemaId,\n        };\n        allSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        applicationSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        machineSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        machineOverridableSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        windowSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        resourceSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        this._onDidSchemaChange.fire();\n    }\n    updatePropertyDefaultValue(key, property) {\n        const configurationdefaultOverride = this.configurationDefaultsOverrides.get(key);\n        let defaultValue = configurationdefaultOverride === null || configurationdefaultOverride === void 0 ? void 0 : configurationdefaultOverride.value;\n        let defaultSource = configurationdefaultOverride === null || configurationdefaultOverride === void 0 ? void 0 : configurationdefaultOverride.source;\n        if (types.isUndefined(defaultValue)) {\n            defaultValue = property.defaultDefaultValue;\n            defaultSource = undefined;\n        }\n        if (types.isUndefined(defaultValue)) {\n            defaultValue = getDefaultValue(property.type);\n        }\n        property.default = defaultValue;\n        property.defaultValueSource = defaultSource;\n    }\n}\nconst OVERRIDE_IDENTIFIER_PATTERN = `\\\\[([^\\\\]]+)\\\\]`;\nconst OVERRIDE_IDENTIFIER_REGEX = new RegExp(OVERRIDE_IDENTIFIER_PATTERN, 'g');\nexport const OVERRIDE_PROPERTY_PATTERN = `^(${OVERRIDE_IDENTIFIER_PATTERN})+$`;\nexport const OVERRIDE_PROPERTY_REGEX = new RegExp(OVERRIDE_PROPERTY_PATTERN);\nexport function overrideIdentifiersFromKey(key) {\n    const identifiers = [];\n    if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n        let matches = OVERRIDE_IDENTIFIER_REGEX.exec(key);\n        while (matches === null || matches === void 0 ? void 0 : matches.length) {\n            const identifier = matches[1].trim();\n            if (identifier) {\n                identifiers.push(identifier);\n            }\n            matches = OVERRIDE_IDENTIFIER_REGEX.exec(key);\n        }\n    }\n    return distinct(identifiers);\n}\nexport function getDefaultValue(type) {\n    const t = Array.isArray(type) ? type[0] : type;\n    switch (t) {\n        case 'boolean':\n            return false;\n        case 'integer':\n        case 'number':\n            return 0;\n        case 'string':\n            return '';\n        case 'array':\n            return [];\n        case 'object':\n            return {};\n        default:\n            return null;\n    }\n}\nconst configurationRegistry = new ConfigurationRegistry();\nRegistry.add(Extensions.Configuration, configurationRegistry);\nexport function validateProperty(property) {\n    if (!property.trim()) {\n        return nls.localize('config.property.empty', \"Cannot register an empty property\");\n    }\n    if (OVERRIDE_PROPERTY_REGEX.test(property)) {\n        return nls.localize('config.property.languageDefault', \"Cannot register '{0}'. This matches property pattern '\\\\\\\\[.*\\\\\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.\", property);\n    }\n    if (configurationRegistry.getConfigurationProperties()[property] !== undefined) {\n        return nls.localize('config.property.duplicate', \"Cannot register '{0}'. This property is already registered.\", property);\n    }\n    return null;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { PauseableEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { TernarySearchTree } from '../../../base/common/map.js';\nimport { localize } from '../../../nls.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IContextKeyService, RawContextKey, SET_CONTEXT_COMMAND_ID } from '../common/contextkey.js';\nconst KEYBINDING_CONTEXT_ATTR = 'data-keybinding-context';\nexport class Context {\n    constructor(id, parent) {\n        this._id = id;\n        this._parent = parent;\n        this._value = Object.create(null);\n        this._value['_contextId'] = id;\n    }\n    setValue(key, value) {\n        // console.log('SET ' + key + ' = ' + value + ' ON ' + this._id);\n        if (this._value[key] !== value) {\n            this._value[key] = value;\n            return true;\n        }\n        return false;\n    }\n    removeValue(key) {\n        // console.log('REMOVE ' + key + ' FROM ' + this._id);\n        if (key in this._value) {\n            delete this._value[key];\n            return true;\n        }\n        return false;\n    }\n    getValue(key) {\n        const ret = this._value[key];\n        if (typeof ret === 'undefined' && this._parent) {\n            return this._parent.getValue(key);\n        }\n        return ret;\n    }\n}\nclass NullContext extends Context {\n    constructor() {\n        super(-1, null);\n    }\n    setValue(key, value) {\n        return false;\n    }\n    removeValue(key) {\n        return false;\n    }\n    getValue(key) {\n        return undefined;\n    }\n}\nNullContext.INSTANCE = new NullContext();\nclass ConfigAwareContextValuesContainer extends Context {\n    constructor(id, _configurationService, emitter) {\n        super(id, null);\n        this._configurationService = _configurationService;\n        this._values = TernarySearchTree.forConfigKeys();\n        this._listener = this._configurationService.onDidChangeConfiguration(event => {\n            if (event.source === 6 /* DEFAULT */) {\n                // new setting, reset everything\n                const allKeys = Array.from(Iterable.map(this._values, ([k]) => k));\n                this._values.clear();\n                emitter.fire(new ArrayContextKeyChangeEvent(allKeys));\n            }\n            else {\n                const changedKeys = [];\n                for (const configKey of event.affectedKeys) {\n                    const contextKey = `config.${configKey}`;\n                    const cachedItems = this._values.findSuperstr(contextKey);\n                    if (cachedItems !== undefined) {\n                        changedKeys.push(...Iterable.map(cachedItems, ([key]) => key));\n                        this._values.deleteSuperstr(contextKey);\n                    }\n                    if (this._values.has(contextKey)) {\n                        changedKeys.push(contextKey);\n                        this._values.delete(contextKey);\n                    }\n                }\n                emitter.fire(new ArrayContextKeyChangeEvent(changedKeys));\n            }\n        });\n    }\n    dispose() {\n        this._listener.dispose();\n    }\n    getValue(key) {\n        if (key.indexOf(ConfigAwareContextValuesContainer._keyPrefix) !== 0) {\n            return super.getValue(key);\n        }\n        if (this._values.has(key)) {\n            return this._values.get(key);\n        }\n        const configKey = key.substr(ConfigAwareContextValuesContainer._keyPrefix.length);\n        const configValue = this._configurationService.getValue(configKey);\n        let value = undefined;\n        switch (typeof configValue) {\n            case 'number':\n            case 'boolean':\n            case 'string':\n                value = configValue;\n                break;\n            default:\n                if (Array.isArray(configValue)) {\n                    value = JSON.stringify(configValue);\n                }\n                else {\n                    value = configValue;\n                }\n        }\n        this._values.set(key, value);\n        return value;\n    }\n    setValue(key, value) {\n        return super.setValue(key, value);\n    }\n    removeValue(key) {\n        return super.removeValue(key);\n    }\n}\nConfigAwareContextValuesContainer._keyPrefix = 'config.';\nclass ContextKey {\n    constructor(service, key, defaultValue) {\n        this._service = service;\n        this._key = key;\n        this._defaultValue = defaultValue;\n        this.reset();\n    }\n    set(value) {\n        this._service.setContext(this._key, value);\n    }\n    reset() {\n        if (typeof this._defaultValue === 'undefined') {\n            this._service.removeContext(this._key);\n        }\n        else {\n            this._service.setContext(this._key, this._defaultValue);\n        }\n    }\n    get() {\n        return this._service.getContextKeyValue(this._key);\n    }\n}\nclass SimpleContextKeyChangeEvent {\n    constructor(key) {\n        this.key = key;\n    }\n    affectsSome(keys) {\n        return keys.has(this.key);\n    }\n}\nclass ArrayContextKeyChangeEvent {\n    constructor(keys) {\n        this.keys = keys;\n    }\n    affectsSome(keys) {\n        for (const key of this.keys) {\n            if (keys.has(key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nclass CompositeContextKeyChangeEvent {\n    constructor(events) {\n        this.events = events;\n    }\n    affectsSome(keys) {\n        for (const e of this.events) {\n            if (e.affectsSome(keys)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexport class AbstractContextKeyService {\n    constructor(myContextId) {\n        this._onDidChangeContext = new PauseableEmitter({ merge: input => new CompositeContextKeyChangeEvent(input) });\n        this.onDidChangeContext = this._onDidChangeContext.event;\n        this._isDisposed = false;\n        this._myContextId = myContextId;\n    }\n    createKey(key, defaultValue) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        return new ContextKey(this, key, defaultValue);\n    }\n    bufferChangeEvents(callback) {\n        this._onDidChangeContext.pause();\n        try {\n            callback();\n        }\n        finally {\n            this._onDidChangeContext.resume();\n        }\n    }\n    createScoped(domNode) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        return new ScopedContextKeyService(this, domNode);\n    }\n    contextMatchesRules(rules) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        const context = this.getContextValuesContainer(this._myContextId);\n        const result = (rules ? rules.evaluate(context) : true);\n        // console.group(rules.serialize() + ' -> ' + result);\n        // rules.keys().forEach(key => { console.log(key, ctx[key]); });\n        // console.groupEnd();\n        return result;\n    }\n    getContextKeyValue(key) {\n        if (this._isDisposed) {\n            return undefined;\n        }\n        return this.getContextValuesContainer(this._myContextId).getValue(key);\n    }\n    setContext(key, value) {\n        if (this._isDisposed) {\n            return;\n        }\n        const myContext = this.getContextValuesContainer(this._myContextId);\n        if (!myContext) {\n            return;\n        }\n        if (myContext.setValue(key, value)) {\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\n        }\n    }\n    removeContext(key) {\n        if (this._isDisposed) {\n            return;\n        }\n        if (this.getContextValuesContainer(this._myContextId).removeValue(key)) {\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\n        }\n    }\n    getContext(target) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this.getContextValuesContainer(findContextAttr(target));\n    }\n}\nlet ContextKeyService = class ContextKeyService extends AbstractContextKeyService {\n    constructor(configurationService) {\n        super(0);\n        this._contexts = new Map();\n        this._toDispose = new DisposableStore();\n        this._lastContextId = 0;\n        const myContext = new ConfigAwareContextValuesContainer(this._myContextId, configurationService, this._onDidChangeContext);\n        this._contexts.set(this._myContextId, myContext);\n        this._toDispose.add(myContext);\n        // Uncomment this to see the contexts continuously logged\n        // let lastLoggedValue: string | null = null;\n        // setInterval(() => {\n        // \tlet values = Object.keys(this._contexts).map((key) => this._contexts[key]);\n        // \tlet logValue = values.map(v => JSON.stringify(v._value, null, '\\t')).join('\\n');\n        // \tif (lastLoggedValue !== logValue) {\n        // \t\tlastLoggedValue = logValue;\n        // \t\tconsole.log(lastLoggedValue);\n        // \t}\n        // }, 2000);\n    }\n    dispose() {\n        this._onDidChangeContext.dispose();\n        this._isDisposed = true;\n        this._toDispose.dispose();\n    }\n    getContextValuesContainer(contextId) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this._contexts.get(contextId) || NullContext.INSTANCE;\n    }\n    createChildContext(parentContextId = this._myContextId) {\n        if (this._isDisposed) {\n            throw new Error(`ContextKeyService has been disposed`);\n        }\n        let id = (++this._lastContextId);\n        this._contexts.set(id, new Context(id, this.getContextValuesContainer(parentContextId)));\n        return id;\n    }\n    disposeContext(contextId) {\n        if (!this._isDisposed) {\n            this._contexts.delete(contextId);\n        }\n    }\n};\nContextKeyService = __decorate([\n    __param(0, IConfigurationService)\n], ContextKeyService);\nexport { ContextKeyService };\nclass ScopedContextKeyService extends AbstractContextKeyService {\n    constructor(parent, domNode) {\n        super(parent.createChildContext());\n        this._parentChangeListener = new MutableDisposable();\n        this._parent = parent;\n        this._updateParentChangeListener();\n        this._domNode = domNode;\n        if (this._domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)) {\n            let extraInfo = '';\n            if (this._domNode.classList) {\n                extraInfo = Array.from(this._domNode.classList.values()).join(', ');\n            }\n            console.error(`Element already has context attribute${extraInfo ? ': ' + extraInfo : ''}`);\n        }\n        this._domNode.setAttribute(KEYBINDING_CONTEXT_ATTR, String(this._myContextId));\n    }\n    _updateParentChangeListener() {\n        // Forward parent events to this listener. Parent will change.\n        this._parentChangeListener.value = this._parent.onDidChangeContext(this._onDidChangeContext.fire, this._onDidChangeContext);\n    }\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._onDidChangeContext.dispose();\n        this._parent.disposeContext(this._myContextId);\n        this._parentChangeListener.dispose();\n        this._domNode.removeAttribute(KEYBINDING_CONTEXT_ATTR);\n        this._isDisposed = true;\n    }\n    getContextValuesContainer(contextId) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this._parent.getContextValuesContainer(contextId);\n    }\n    createChildContext(parentContextId = this._myContextId) {\n        if (this._isDisposed) {\n            throw new Error(`ScopedContextKeyService has been disposed`);\n        }\n        return this._parent.createChildContext(parentContextId);\n    }\n    disposeContext(contextId) {\n        if (this._isDisposed) {\n            return;\n        }\n        this._parent.disposeContext(contextId);\n    }\n}\nfunction findContextAttr(domNode) {\n    while (domNode) {\n        if (domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)) {\n            const attr = domNode.getAttribute(KEYBINDING_CONTEXT_ATTR);\n            if (attr) {\n                return parseInt(attr, 10);\n            }\n            return NaN;\n        }\n        domNode = domNode.parentElement;\n    }\n    return 0;\n}\nCommandsRegistry.registerCommand(SET_CONTEXT_COMMAND_ID, function (accessor, contextKey, contextValue) {\n    accessor.get(IContextKeyService).createKey(String(contextKey), contextValue);\n});\nCommandsRegistry.registerCommand({\n    id: 'getContextKeyInfo',\n    handler() {\n        return [...RawContextKey.all()].sort((a, b) => a.key.localeCompare(b.key));\n    },\n    description: {\n        description: localize('getContextKeyInfo', \"A command that returns information about context keys\"),\n        args: []\n    }\n});\nCommandsRegistry.registerCommand('_generateContextKeyInfo', function () {\n    const result = [];\n    const seen = new Set();\n    for (let info of RawContextKey.all()) {\n        if (!seen.has(info.key)) {\n            seen.add(info.key);\n            result.push(info);\n        }\n    }\n    result.sort((a, b) => a.key.localeCompare(b.key));\n    console.log(JSON.stringify(result, undefined, 2));\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isChrome, isEdge, isFirefox, isLinux, isMacintosh, isSafari, isWeb, isWindows } from '../../../base/common/platform.js';\nimport { isFalsyOrWhitespace } from '../../../base/common/strings.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nconst CONSTANT_VALUES = new Map();\nCONSTANT_VALUES.set('false', false);\nCONSTANT_VALUES.set('true', true);\nCONSTANT_VALUES.set('isMac', isMacintosh);\nCONSTANT_VALUES.set('isLinux', isLinux);\nCONSTANT_VALUES.set('isWindows', isWindows);\nCONSTANT_VALUES.set('isWeb', isWeb);\nCONSTANT_VALUES.set('isMacNative', isMacintosh && !isWeb);\nCONSTANT_VALUES.set('isEdge', isEdge);\nCONSTANT_VALUES.set('isFirefox', isFirefox);\nCONSTANT_VALUES.set('isChrome', isChrome);\nCONSTANT_VALUES.set('isSafari', isSafari);\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport class ContextKeyExpr {\n    static has(key) {\n        return ContextKeyDefinedExpr.create(key);\n    }\n    static equals(key, value) {\n        return ContextKeyEqualsExpr.create(key, value);\n    }\n    static regex(key, value) {\n        return ContextKeyRegexExpr.create(key, value);\n    }\n    static not(key) {\n        return ContextKeyNotExpr.create(key);\n    }\n    static and(...expr) {\n        return ContextKeyAndExpr.create(expr, null);\n    }\n    static or(...expr) {\n        return ContextKeyOrExpr.create(expr, null, true);\n    }\n    static deserialize(serialized, strict = false) {\n        if (!serialized) {\n            return undefined;\n        }\n        return this._deserializeOrExpression(serialized, strict);\n    }\n    static _deserializeOrExpression(serialized, strict) {\n        let pieces = serialized.split('||');\n        return ContextKeyOrExpr.create(pieces.map(p => this._deserializeAndExpression(p, strict)), null, true);\n    }\n    static _deserializeAndExpression(serialized, strict) {\n        let pieces = serialized.split('&&');\n        return ContextKeyAndExpr.create(pieces.map(p => this._deserializeOne(p, strict)), null);\n    }\n    static _deserializeOne(serializedOne, strict) {\n        serializedOne = serializedOne.trim();\n        if (serializedOne.indexOf('!=') >= 0) {\n            let pieces = serializedOne.split('!=');\n            return ContextKeyNotEqualsExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1], strict));\n        }\n        if (serializedOne.indexOf('==') >= 0) {\n            let pieces = serializedOne.split('==');\n            return ContextKeyEqualsExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1], strict));\n        }\n        if (serializedOne.indexOf('=~') >= 0) {\n            let pieces = serializedOne.split('=~');\n            return ContextKeyRegexExpr.create(pieces[0].trim(), this._deserializeRegexValue(pieces[1], strict));\n        }\n        if (serializedOne.indexOf(' in ') >= 0) {\n            let pieces = serializedOne.split(' in ');\n            return ContextKeyInExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^[^<=>]+>=[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('>=');\n            return ContextKeyGreaterEqualsExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^[^<=>]+>[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('>');\n            return ContextKeyGreaterExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^[^<=>]+<=[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('<=');\n            return ContextKeySmallerEqualsExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^[^<=>]+<[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('<');\n            return ContextKeySmallerExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^\\!\\s*/.test(serializedOne)) {\n            return ContextKeyNotExpr.create(serializedOne.substr(1).trim());\n        }\n        return ContextKeyDefinedExpr.create(serializedOne);\n    }\n    static _deserializeValue(serializedValue, strict) {\n        serializedValue = serializedValue.trim();\n        if (serializedValue === 'true') {\n            return true;\n        }\n        if (serializedValue === 'false') {\n            return false;\n        }\n        let m = /^'([^']*)'$/.exec(serializedValue);\n        if (m) {\n            return m[1].trim();\n        }\n        return serializedValue;\n    }\n    static _deserializeRegexValue(serializedValue, strict) {\n        if (isFalsyOrWhitespace(serializedValue)) {\n            if (strict) {\n                throw new Error('missing regexp-value for =~-expression');\n            }\n            else {\n                console.warn('missing regexp-value for =~-expression');\n            }\n            return null;\n        }\n        let start = serializedValue.indexOf('/');\n        let end = serializedValue.lastIndexOf('/');\n        if (start === end || start < 0 /* || to < 0 */) {\n            if (strict) {\n                throw new Error(`bad regexp-value '${serializedValue}', missing /-enclosure`);\n            }\n            else {\n                console.warn(`bad regexp-value '${serializedValue}', missing /-enclosure`);\n            }\n            return null;\n        }\n        let value = serializedValue.slice(start + 1, end);\n        let caseIgnoreFlag = serializedValue[end + 1] === 'i' ? 'i' : '';\n        try {\n            return new RegExp(value, caseIgnoreFlag);\n        }\n        catch (e) {\n            if (strict) {\n                throw new Error(`bad regexp-value '${serializedValue}', parse error: ${e}`);\n            }\n            else {\n                console.warn(`bad regexp-value '${serializedValue}', parse error: ${e}`);\n            }\n            return null;\n        }\n    }\n}\nexport function expressionsAreEqualWithConstantSubstitution(a, b) {\n    const aExpr = a ? a.substituteConstants() : undefined;\n    const bExpr = b ? b.substituteConstants() : undefined;\n    if (!aExpr && !bExpr) {\n        return true;\n    }\n    if (!aExpr || !bExpr) {\n        return false;\n    }\n    return aExpr.equals(bExpr);\n}\nfunction cmp(a, b) {\n    return a.cmp(b);\n}\nexport class ContextKeyFalseExpr {\n    constructor() {\n        this.type = 0 /* False */;\n    }\n    cmp(other) {\n        return this.type - other.type;\n    }\n    equals(other) {\n        return (other.type === this.type);\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return false;\n    }\n    serialize() {\n        return 'false';\n    }\n    keys() {\n        return [];\n    }\n    negate() {\n        return ContextKeyTrueExpr.INSTANCE;\n    }\n}\nContextKeyFalseExpr.INSTANCE = new ContextKeyFalseExpr();\nexport class ContextKeyTrueExpr {\n    constructor() {\n        this.type = 1 /* True */;\n    }\n    cmp(other) {\n        return this.type - other.type;\n    }\n    equals(other) {\n        return (other.type === this.type);\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return true;\n    }\n    serialize() {\n        return 'true';\n    }\n    keys() {\n        return [];\n    }\n    negate() {\n        return ContextKeyFalseExpr.INSTANCE;\n    }\n}\nContextKeyTrueExpr.INSTANCE = new ContextKeyTrueExpr();\nexport class ContextKeyDefinedExpr {\n    constructor(key, negated) {\n        this.key = key;\n        this.negated = negated;\n        this.type = 2 /* Defined */;\n    }\n    static create(key, negated = null) {\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            return constantValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE;\n        }\n        return new ContextKeyDefinedExpr(key, negated);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp1(this.key, other.key);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            return constantValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE;\n        }\n        return this;\n    }\n    evaluate(context) {\n        return (!!context.getValue(this.key));\n    }\n    serialize() {\n        return this.key;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotExpr.create(this.key, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyEqualsExpr {\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 4 /* Equals */;\n    }\n    static create(key, value, negated = null) {\n        if (typeof value === 'boolean') {\n            return (value ? ContextKeyDefinedExpr.create(key, negated) : ContextKeyNotExpr.create(key, negated));\n        }\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            const trueValue = constantValue ? 'true' : 'false';\n            return (value === trueValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE);\n        }\n        return new ContextKeyEqualsExpr(key, value, negated);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            const trueValue = constantValue ? 'true' : 'false';\n            return (this.value === trueValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE);\n        }\n        return this;\n    }\n    evaluate(context) {\n        // Intentional ==\n        // eslint-disable-next-line eqeqeq\n        return (context.getValue(this.key) == this.value);\n    }\n    serialize() {\n        return `${this.key} == '${this.value}'`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyInExpr {\n    constructor(key, valueKey) {\n        this.key = key;\n        this.valueKey = valueKey;\n        this.type = 10 /* In */;\n        this.negated = null;\n    }\n    static create(key, valueKey) {\n        return new ContextKeyInExpr(key, valueKey);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.valueKey, other.key, other.valueKey);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.valueKey === other.valueKey);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        const source = context.getValue(this.valueKey);\n        const item = context.getValue(this.key);\n        if (Array.isArray(source)) {\n            return (source.indexOf(item) >= 0);\n        }\n        if (typeof item === 'string' && typeof source === 'object' && source !== null) {\n            return hasOwnProperty.call(source, item);\n        }\n        return false;\n    }\n    serialize() {\n        return `${this.key} in '${this.valueKey}'`;\n    }\n    keys() {\n        return [this.key, this.valueKey];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotInExpr.create(this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyNotInExpr {\n    constructor(_actual) {\n        this._actual = _actual;\n        this.type = 11 /* NotIn */;\n        //\n    }\n    static create(actual) {\n        return new ContextKeyNotInExpr(actual);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return this._actual.cmp(other._actual);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return this._actual.equals(other._actual);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return !this._actual.evaluate(context);\n    }\n    serialize() {\n        throw new Error('Method not implemented.');\n    }\n    keys() {\n        return this._actual.keys();\n    }\n    negate() {\n        return this._actual;\n    }\n}\nexport class ContextKeyNotEqualsExpr {\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 5 /* NotEquals */;\n    }\n    static create(key, value, negated = null) {\n        if (typeof value === 'boolean') {\n            if (value) {\n                return ContextKeyNotExpr.create(key, negated);\n            }\n            return ContextKeyDefinedExpr.create(key, negated);\n        }\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            const falseValue = constantValue ? 'true' : 'false';\n            return (value === falseValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return new ContextKeyNotEqualsExpr(key, value, negated);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            const falseValue = constantValue ? 'true' : 'false';\n            return (this.value === falseValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return this;\n    }\n    evaluate(context) {\n        // Intentional !=\n        // eslint-disable-next-line eqeqeq\n        return (context.getValue(this.key) != this.value);\n    }\n    serialize() {\n        return `${this.key} != '${this.value}'`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyNotExpr {\n    constructor(key, negated) {\n        this.key = key;\n        this.negated = negated;\n        this.type = 3 /* Not */;\n    }\n    static create(key, negated = null) {\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            return (constantValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return new ContextKeyNotExpr(key, negated);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp1(this.key, other.key);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            return (constantValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return this;\n    }\n    evaluate(context) {\n        return (!context.getValue(this.key));\n    }\n    serialize() {\n        return `!${this.key}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyDefinedExpr.create(this.key, this);\n        }\n        return this.negated;\n    }\n}\nfunction withFloatOrStr(value, callback) {\n    if (typeof value === 'string') {\n        const n = parseFloat(value);\n        if (!isNaN(n)) {\n            value = n;\n        }\n    }\n    if (typeof value === 'string' || typeof value === 'number') {\n        return callback(value);\n    }\n    return ContextKeyFalseExpr.INSTANCE;\n}\nexport class ContextKeyGreaterExpr {\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 12 /* Greater */;\n    }\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeyGreaterExpr(key, value, negated));\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) > this.value);\n    }\n    serialize() {\n        return `${this.key} > ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeySmallerEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyGreaterEqualsExpr {\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 13 /* GreaterEquals */;\n    }\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeyGreaterEqualsExpr(key, value, negated));\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) >= this.value);\n    }\n    serialize() {\n        return `${this.key} >= ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeySmallerExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeySmallerExpr {\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 14 /* Smaller */;\n    }\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeySmallerExpr(key, value, negated));\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) < this.value);\n    }\n    serialize() {\n        return `${this.key} < ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyGreaterEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeySmallerEqualsExpr {\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 15 /* SmallerEquals */;\n    }\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeySmallerEqualsExpr(key, value, negated));\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) <= this.value);\n    }\n    serialize() {\n        return `${this.key} <= ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyGreaterExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyRegexExpr {\n    constructor(key, regexp) {\n        this.key = key;\n        this.regexp = regexp;\n        this.type = 7 /* Regex */;\n        this.negated = null;\n        //\n    }\n    static create(key, regexp) {\n        return new ContextKeyRegexExpr(key, regexp);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        if (this.key < other.key) {\n            return -1;\n        }\n        if (this.key > other.key) {\n            return 1;\n        }\n        const thisSource = this.regexp ? this.regexp.source : '';\n        const otherSource = other.regexp ? other.regexp.source : '';\n        if (thisSource < otherSource) {\n            return -1;\n        }\n        if (thisSource > otherSource) {\n            return 1;\n        }\n        return 0;\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            const thisSource = this.regexp ? this.regexp.source : '';\n            const otherSource = other.regexp ? other.regexp.source : '';\n            return (this.key === other.key && thisSource === otherSource);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        let value = context.getValue(this.key);\n        return this.regexp ? this.regexp.test(value) : false;\n    }\n    serialize() {\n        const value = this.regexp\n            ? `/${this.regexp.source}/${this.regexp.ignoreCase ? 'i' : ''}`\n            : '/invalid/';\n        return `${this.key} =~ ${value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotRegexExpr.create(this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyNotRegexExpr {\n    constructor(_actual) {\n        this._actual = _actual;\n        this.type = 8 /* NotRegex */;\n        //\n    }\n    static create(actual) {\n        return new ContextKeyNotRegexExpr(actual);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return this._actual.cmp(other._actual);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return this._actual.equals(other._actual);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return !this._actual.evaluate(context);\n    }\n    serialize() {\n        throw new Error('Method not implemented.');\n    }\n    keys() {\n        return this._actual.keys();\n    }\n    negate() {\n        return this._actual;\n    }\n}\n/**\n * @returns the same instance if nothing changed.\n */\nfunction eliminateConstantsInArray(arr) {\n    // Allocate array only if there is a difference\n    let newArr = null;\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const newExpr = arr[i].substituteConstants();\n        if (arr[i] !== newExpr) {\n            // something has changed!\n            // allocate array on first difference\n            if (newArr === null) {\n                newArr = [];\n                for (let j = 0; j < i; j++) {\n                    newArr[j] = arr[j];\n                }\n            }\n        }\n        if (newArr !== null) {\n            newArr[i] = newExpr;\n        }\n    }\n    if (newArr === null) {\n        return arr;\n    }\n    return newArr;\n}\nclass ContextKeyAndExpr {\n    constructor(expr, negated) {\n        this.expr = expr;\n        this.negated = negated;\n        this.type = 6 /* And */;\n    }\n    static create(_expr, negated) {\n        return ContextKeyAndExpr._normalizeArr(_expr, negated);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        if (this.expr.length < other.expr.length) {\n            return -1;\n        }\n        if (this.expr.length > other.expr.length) {\n            return 1;\n        }\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            const r = cmp(this.expr[i], other.expr[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return 0;\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            if (this.expr.length !== other.expr.length) {\n                return false;\n            }\n            for (let i = 0, len = this.expr.length; i < len; i++) {\n                if (!this.expr[i].equals(other.expr[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    substituteConstants() {\n        const exprArr = eliminateConstantsInArray(this.expr);\n        if (exprArr === this.expr) {\n            // no change\n            return this;\n        }\n        return ContextKeyAndExpr.create(exprArr, this.negated);\n    }\n    evaluate(context) {\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            if (!this.expr[i].evaluate(context)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    static _normalizeArr(arr, negated) {\n        const expr = [];\n        let hasTrue = false;\n        for (const e of arr) {\n            if (!e) {\n                continue;\n            }\n            if (e.type === 1 /* True */) {\n                // anything && true ==> anything\n                hasTrue = true;\n                continue;\n            }\n            if (e.type === 0 /* False */) {\n                // anything && false ==> false\n                return ContextKeyFalseExpr.INSTANCE;\n            }\n            if (e.type === 6 /* And */) {\n                expr.push(...e.expr);\n                continue;\n            }\n            expr.push(e);\n        }\n        if (expr.length === 0 && hasTrue) {\n            return ContextKeyTrueExpr.INSTANCE;\n        }\n        if (expr.length === 0) {\n            return undefined;\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        expr.sort(cmp);\n        // eliminate duplicate terms\n        for (let i = 1; i < expr.length; i++) {\n            if (expr[i - 1].equals(expr[i])) {\n                expr.splice(i, 1);\n                i--;\n            }\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        // We must distribute any OR expression because we don't support parens\n        // OR extensions will be at the end (due to sorting rules)\n        while (expr.length > 1) {\n            const lastElement = expr[expr.length - 1];\n            if (lastElement.type !== 9 /* Or */) {\n                break;\n            }\n            // pop the last element\n            expr.pop();\n            // pop the second to last element\n            const secondToLastElement = expr.pop();\n            const isFinished = (expr.length === 0);\n            // distribute `lastElement` over `secondToLastElement`\n            const resultElement = ContextKeyOrExpr.create(lastElement.expr.map(el => ContextKeyAndExpr.create([el, secondToLastElement], null)), null, isFinished);\n            if (resultElement) {\n                expr.push(resultElement);\n                expr.sort(cmp);\n            }\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        return new ContextKeyAndExpr(expr, negated);\n    }\n    serialize() {\n        return this.expr.map(e => e.serialize()).join(' && ');\n    }\n    keys() {\n        const result = [];\n        for (let expr of this.expr) {\n            result.push(...expr.keys());\n        }\n        return result;\n    }\n    negate() {\n        if (!this.negated) {\n            const result = [];\n            for (let expr of this.expr) {\n                result.push(expr.negate());\n            }\n            this.negated = ContextKeyOrExpr.create(result, this, true);\n        }\n        return this.negated;\n    }\n}\nclass ContextKeyOrExpr {\n    constructor(expr, negated) {\n        this.expr = expr;\n        this.negated = negated;\n        this.type = 9 /* Or */;\n    }\n    static create(_expr, negated, extraRedundantCheck) {\n        return ContextKeyOrExpr._normalizeArr(_expr, negated, extraRedundantCheck);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        if (this.expr.length < other.expr.length) {\n            return -1;\n        }\n        if (this.expr.length > other.expr.length) {\n            return 1;\n        }\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            const r = cmp(this.expr[i], other.expr[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return 0;\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            if (this.expr.length !== other.expr.length) {\n                return false;\n            }\n            for (let i = 0, len = this.expr.length; i < len; i++) {\n                if (!this.expr[i].equals(other.expr[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    substituteConstants() {\n        const exprArr = eliminateConstantsInArray(this.expr);\n        if (exprArr === this.expr) {\n            // no change\n            return this;\n        }\n        return ContextKeyOrExpr.create(exprArr, this.negated, false);\n    }\n    evaluate(context) {\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            if (this.expr[i].evaluate(context)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    static _normalizeArr(arr, negated, extraRedundantCheck) {\n        let expr = [];\n        let hasFalse = false;\n        if (arr) {\n            for (let i = 0, len = arr.length; i < len; i++) {\n                const e = arr[i];\n                if (!e) {\n                    continue;\n                }\n                if (e.type === 0 /* False */) {\n                    // anything || false ==> anything\n                    hasFalse = true;\n                    continue;\n                }\n                if (e.type === 1 /* True */) {\n                    // anything || true ==> true\n                    return ContextKeyTrueExpr.INSTANCE;\n                }\n                if (e.type === 9 /* Or */) {\n                    expr = expr.concat(e.expr);\n                    continue;\n                }\n                expr.push(e);\n            }\n            if (expr.length === 0 && hasFalse) {\n                return ContextKeyFalseExpr.INSTANCE;\n            }\n            expr.sort(cmp);\n        }\n        if (expr.length === 0) {\n            return undefined;\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        // eliminate duplicate terms\n        for (let i = 1; i < expr.length; i++) {\n            if (expr[i - 1].equals(expr[i])) {\n                expr.splice(i, 1);\n                i--;\n            }\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        // eliminate redundant terms\n        if (extraRedundantCheck) {\n            for (let i = 0; i < expr.length; i++) {\n                for (let j = i + 1; j < expr.length; j++) {\n                    if (implies(expr[i], expr[j])) {\n                        expr.splice(j, 1);\n                        j--;\n                    }\n                }\n            }\n            if (expr.length === 1) {\n                return expr[0];\n            }\n        }\n        return new ContextKeyOrExpr(expr, negated);\n    }\n    serialize() {\n        return this.expr.map(e => e.serialize()).join(' || ');\n    }\n    keys() {\n        const result = [];\n        for (let expr of this.expr) {\n            result.push(...expr.keys());\n        }\n        return result;\n    }\n    negate() {\n        if (!this.negated) {\n            let result = [];\n            for (let expr of this.expr) {\n                result.push(expr.negate());\n            }\n            // We don't support parens, so here we distribute the AND over the OR terminals\n            // We always take the first 2 AND pairs and distribute them\n            while (result.length > 1) {\n                const LEFT = result.shift();\n                const RIGHT = result.shift();\n                const all = [];\n                for (const left of getTerminals(LEFT)) {\n                    for (const right of getTerminals(RIGHT)) {\n                        all.push(ContextKeyAndExpr.create([left, right], null));\n                    }\n                }\n                const isFinished = (result.length === 0);\n                result.unshift(ContextKeyOrExpr.create(all, null, isFinished));\n            }\n            this.negated = result[0];\n        }\n        return this.negated;\n    }\n}\nexport class RawContextKey extends ContextKeyDefinedExpr {\n    constructor(key, defaultValue, metaOrHide) {\n        super(key, null);\n        this._defaultValue = defaultValue;\n        // collect all context keys into a central place\n        if (typeof metaOrHide === 'object') {\n            RawContextKey._info.push(Object.assign(Object.assign({}, metaOrHide), { key }));\n        }\n        else if (metaOrHide !== true) {\n            RawContextKey._info.push({ key, description: metaOrHide, type: defaultValue !== null && defaultValue !== undefined ? typeof defaultValue : undefined });\n        }\n    }\n    static all() {\n        return RawContextKey._info.values();\n    }\n    bindTo(target) {\n        return target.createKey(this.key, this._defaultValue);\n    }\n    getValue(target) {\n        return target.getContextKeyValue(this.key);\n    }\n    toNegated() {\n        return this.negate();\n    }\n    isEqualTo(value) {\n        return ContextKeyEqualsExpr.create(this.key, value);\n    }\n}\nRawContextKey._info = [];\nexport const IContextKeyService = createDecorator('contextKeyService');\nexport const SET_CONTEXT_COMMAND_ID = 'setContext';\nfunction cmp1(key1, key2) {\n    if (key1 < key2) {\n        return -1;\n    }\n    if (key1 > key2) {\n        return 1;\n    }\n    return 0;\n}\nfunction cmp2(key1, value1, key2, value2) {\n    if (key1 < key2) {\n        return -1;\n    }\n    if (key1 > key2) {\n        return 1;\n    }\n    if (value1 < value2) {\n        return -1;\n    }\n    if (value1 > value2) {\n        return 1;\n    }\n    return 0;\n}\n/**\n * Returns true if it is provable `p` implies `q`.\n */\nexport function implies(p, q) {\n    if (q.type === 6 /* And */ && (p.type !== 9 /* Or */ && p.type !== 6 /* And */)) {\n        // covers the case: A implies A && B\n        for (const qTerm of q.expr) {\n            if (p.equals(qTerm)) {\n                return true;\n            }\n        }\n    }\n    const notP = p.negate();\n    const expr = getTerminals(notP).concat(getTerminals(q));\n    expr.sort(cmp);\n    for (let i = 0; i < expr.length; i++) {\n        const a = expr[i];\n        const notA = a.negate();\n        for (let j = i + 1; j < expr.length; j++) {\n            const b = expr[j];\n            if (notA.equals(b)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction getTerminals(node) {\n    if (node.type === 9 /* Or */) {\n        return node.expr;\n    }\n    return [node];\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isIOS, isLinux, isMacintosh, isWeb, isWindows } from '../../../base/common/platform.js';\nimport { localize } from '../../../nls.js';\nimport { RawContextKey } from './contextkey.js';\nexport const IsMacContext = new RawContextKey('isMac', isMacintosh, localize('isMac', \"Whether the operating system is macOS\"));\nexport const IsLinuxContext = new RawContextKey('isLinux', isLinux, localize('isLinux', \"Whether the operating system is Linux\"));\nexport const IsWindowsContext = new RawContextKey('isWindows', isWindows, localize('isWindows', \"Whether the operating system is Windows\"));\nexport const IsWebContext = new RawContextKey('isWeb', isWeb, localize('isWeb', \"Whether the platform is a web browser\"));\nexport const IsMacNativeContext = new RawContextKey('isMacNative', isMacintosh && !isWeb, localize('isMacNative', \"Whether the operating system is macOS on a non-browser platform\"));\nexport const IsIOSContext = new RawContextKey('isIOS', isIOS, localize('isIOS', \"Whether the operating system is IOS\"));\nexport const IsDevelopmentContext = new RawContextKey('isDevelopment', false, true);\nexport const InputFocusedContextKey = 'inputFocus';\nexport const InputFocusedContext = new RawContextKey(InputFocusedContextKey, false, localize('inputFocus', \"Whether keyboard focus is inside an input box\"));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, EventType, isHTMLElement } from '../../../base/browser/dom.js';\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\nimport { Menu } from '../../../base/browser/ui/menu/menu.js';\nimport { ActionRunner } from '../../../base/common/actions.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { combinedDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport './contextMenuHandler.css';\nimport { attachMenuStyler } from '../../theme/common/styler.js';\nexport class ContextMenuHandler {\n    constructor(contextViewService, telemetryService, notificationService, keybindingService, themeService) {\n        this.contextViewService = contextViewService;\n        this.telemetryService = telemetryService;\n        this.notificationService = notificationService;\n        this.keybindingService = keybindingService;\n        this.themeService = themeService;\n        this.focusToReturn = null;\n        this.block = null;\n        this.options = { blockMouse: true };\n    }\n    configure(options) {\n        this.options = options;\n    }\n    showContextMenu(delegate) {\n        const actions = delegate.getActions();\n        if (!actions.length) {\n            return; // Don't render an empty context menu\n        }\n        this.focusToReturn = document.activeElement;\n        let menu;\n        let shadowRootElement = isHTMLElement(delegate.domForShadowRoot) ? delegate.domForShadowRoot : undefined;\n        this.contextViewService.showContextView({\n            getAnchor: () => delegate.getAnchor(),\n            canRelayout: false,\n            anchorAlignment: delegate.anchorAlignment,\n            anchorAxisAlignment: delegate.anchorAxisAlignment,\n            render: (container) => {\n                let className = delegate.getMenuClassName ? delegate.getMenuClassName() : '';\n                if (className) {\n                    container.className += ' ' + className;\n                }\n                // Render invisible div to block mouse interaction in the rest of the UI\n                if (this.options.blockMouse) {\n                    this.block = container.appendChild($('.context-view-block'));\n                    this.block.style.position = 'fixed';\n                    this.block.style.cursor = 'initial';\n                    this.block.style.left = '0';\n                    this.block.style.top = '0';\n                    this.block.style.width = '100%';\n                    this.block.style.height = '100%';\n                    this.block.style.zIndex = '-1';\n                    // TODO@Steven: this is never getting disposed\n                    addDisposableListener(this.block, EventType.MOUSE_DOWN, e => e.stopPropagation());\n                }\n                const menuDisposables = new DisposableStore();\n                const actionRunner = delegate.actionRunner || new ActionRunner();\n                actionRunner.onBeforeRun(this.onActionRun, this, menuDisposables);\n                actionRunner.onDidRun(this.onDidActionRun, this, menuDisposables);\n                menu = new Menu(container, actions, {\n                    actionViewItemProvider: delegate.getActionViewItem,\n                    context: delegate.getActionsContext ? delegate.getActionsContext() : null,\n                    actionRunner,\n                    getKeyBinding: delegate.getKeyBinding ? delegate.getKeyBinding : action => this.keybindingService.lookupKeybinding(action.id)\n                });\n                menuDisposables.add(attachMenuStyler(menu, this.themeService));\n                menu.onDidCancel(() => this.contextViewService.hideContextView(true), null, menuDisposables);\n                menu.onDidBlur(() => this.contextViewService.hideContextView(true), null, menuDisposables);\n                menuDisposables.add(addDisposableListener(window, EventType.BLUR, () => this.contextViewService.hideContextView(true)));\n                menuDisposables.add(addDisposableListener(window, EventType.MOUSE_DOWN, (e) => {\n                    if (e.defaultPrevented) {\n                        return;\n                    }\n                    let event = new StandardMouseEvent(e);\n                    let element = event.target;\n                    // Don't do anything as we are likely creating a context menu\n                    if (event.rightButton) {\n                        return;\n                    }\n                    while (element) {\n                        if (element === container) {\n                            return;\n                        }\n                        element = element.parentElement;\n                    }\n                    this.contextViewService.hideContextView(true);\n                }));\n                return combinedDisposable(menuDisposables, menu);\n            },\n            focus: () => {\n                if (menu) {\n                    menu.focus(!!delegate.autoSelectFirstItem);\n                }\n            },\n            onHide: (didCancel) => {\n                if (delegate.onHide) {\n                    delegate.onHide(!!didCancel);\n                }\n                if (this.block) {\n                    this.block.remove();\n                    this.block = null;\n                }\n                if (this.focusToReturn) {\n                    this.focusToReturn.focus();\n                }\n            }\n        }, shadowRootElement, !!shadowRootElement);\n    }\n    onActionRun(e) {\n        this.telemetryService.publicLog2('workbenchActionExecuted', { id: e.action.id, from: 'contextMenu' });\n        this.contextViewService.hideContextView(false);\n        // Restore focus here\n        if (this.focusToReturn) {\n            this.focusToReturn.focus();\n        }\n    }\n    onDidActionRun(e) {\n        if (e.error && !isCancellationError(e.error)) {\n            this.notificationService.error(e.error);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { ModifierKeyEmitter } from '../../../base/browser/dom.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { ContextMenuHandler } from './contextMenuHandler.js';\nimport { IContextViewService } from './contextView.js';\nlet ContextMenuService = class ContextMenuService extends Disposable {\n    constructor(telemetryService, notificationService, contextViewService, keybindingService, themeService) {\n        super();\n        this._onDidShowContextMenu = new Emitter();\n        this._onDidHideContextMenu = new Emitter();\n        this.contextMenuHandler = new ContextMenuHandler(contextViewService, telemetryService, notificationService, keybindingService, themeService);\n    }\n    configure(options) {\n        this.contextMenuHandler.configure(options);\n    }\n    // ContextMenu\n    showContextMenu(delegate) {\n        this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({}, delegate), { onHide: (didCancel) => {\n                if (delegate.onHide) {\n                    delegate.onHide(didCancel);\n                }\n                this._onDidHideContextMenu.fire();\n            } }));\n        ModifierKeyEmitter.getInstance().resetKeyStatus();\n        this._onDidShowContextMenu.fire();\n    }\n};\nContextMenuService = __decorate([\n    __param(0, ITelemetryService),\n    __param(1, INotificationService),\n    __param(2, IContextViewService),\n    __param(3, IKeybindingService),\n    __param(4, IThemeService)\n], ContextMenuService);\nexport { ContextMenuService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IContextViewService = createDecorator('contextViewService');\nexport const IContextMenuService = createDecorator('contextMenuService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { ContextView } from '../../../base/browser/ui/contextview/contextview.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nlet ContextViewService = class ContextViewService extends Disposable {\n    constructor(layoutService) {\n        super();\n        this.layoutService = layoutService;\n        this.currentViewDisposable = Disposable.None;\n        this.container = layoutService.hasContainer ? layoutService.container : null;\n        this.contextView = this._register(new ContextView(this.container, 1 /* ABSOLUTE */));\n        this.layout();\n        this._register(layoutService.onDidLayout(() => this.layout()));\n    }\n    // ContextView\n    setContainer(container, domPosition) {\n        this.contextView.setContainer(container, domPosition || 1 /* ABSOLUTE */);\n    }\n    showContextView(delegate, container, shadowRoot) {\n        if (container) {\n            if (container !== this.container) {\n                this.container = container;\n                this.setContainer(container, shadowRoot ? 3 /* FIXED_SHADOW */ : 2 /* FIXED */);\n            }\n        }\n        else {\n            if (this.layoutService.hasContainer && this.container !== this.layoutService.container) {\n                this.container = this.layoutService.container;\n                this.setContainer(this.container, 1 /* ABSOLUTE */);\n            }\n        }\n        this.contextView.show(delegate);\n        const disposable = toDisposable(() => {\n            if (this.currentViewDisposable === disposable) {\n                this.hideContextView();\n            }\n        });\n        this.currentViewDisposable = disposable;\n        return disposable;\n    }\n    getContextViewElement() {\n        return this.contextView.getViewElement();\n    }\n    layout() {\n        this.contextView.layout();\n    }\n    hideContextView(data) {\n        this.contextView.hide(data);\n    }\n};\nContextViewService = __decorate([\n    __param(0, ILayoutService)\n], ContextViewService);\nexport { ContextViewService };\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","AccessibilityService","_contextKeyService","_configurationService","_accessibilitySupport","_onDidChangeScreenReaderOptimized","Emitter","_accessibilityModeEnabledContext","CONTEXT_ACCESSIBILITY_MODE_ENABLED","updateContextKey","set","isScreenReaderOptimized","_register","onDidChangeConfiguration","e","affectsConfiguration","fire","onDidChangeScreenReaderOptimized","this","event","config","getValue","Disposable","IContextKeyService","IConfigurationService","IAccessibilityService","createDecorator","RawContextKey","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","apply","createAndFillInActionBarActions","menu","options","primaryGroup","primaryMaxCount","shouldInlineSubmenu","useSeparatorsInPrimaryActions","groups","getActions","useAlternativeActions","primaryBucket","secondaryBucket","isPrimaryAction","actionGroup","Number","MAX_SAFE_INTEGER","Array","isArray","primary","secondary","submenuInfo","Set","group","actions","push","Separator","action","MenuItemAction","alt","newLen","SubmenuAction","add","index","submenuActions","splice","overflow","unshift","fillInActions","disposables","DisposableStore","asDisposable","MenuEntryActionViewItem","_action","_keybindingService","_notificationService","undefined","icon","class","item","label","draggable","_wantsAltCommand","_itemClassDispose","MutableDisposable","_altKey","ModifierKeyEmitter","_menuItemAction","preventDefault","stopPropagation","actionRunner","run","_commandAction","_context","error","container","classList","_updateItemClass","mouseOver","alternativeKeyDown","keyStatus","altKey","isWindows","isLinux","shiftKey","updateAltState","wantsAltCommand","updateLabel","updateTooltip","updateClass","addDisposableListener","_","textContent","keybinding","lookupKeybinding","id","keybindingLabel","getLabel","tooltip","title","localize","altTooltip","altKeybinding","altKeybindingLabel","altTitleSection","UILabelProvider","OS","_a","element","checked","toggled","ThemeIcon","iconClasses","toDisposable","remove","light","style","setProperty","asCSSUrl","dark","removeProperty","ActionViewItem","IKeybindingService","INotificationService","SubmenuEntryActionViewItem","contextMenuService","_b","dropdownOptions","assign","create","menuAsChild","classNames","DropdownMenuActionViewItem","IContextMenuService","DropdownWithDefaultActionViewItem","submenuAction","_contextMenuService","_menuService","_instaService","_storageService","_c","defaultAction","_container","_storageKey","submenu","_debugName","defaultActionId","get","find","a","_defaultAction","createInstance","ActionRunner","_dropdown","onDidRun","update","lastAction","store","dispose","context","render","prepend","$","newContext","setActionContext","primaryContainer","append","EventType","StandardKeyboardEvent","equals","tabIndex","focus","dropdownContainer","setFocusable","fromRight","blur","focusable","BaseActionViewItem","createActionViewItem","instaService","SubmenuItemAction","rememberDefaultAction","IMenuService","IInstantiationService","IStorageService","isIMenuItem","command","MenuId","debugName","_idPool","CommandPalette","DebugBreakpointsContext","DebugCallStackContext","DebugConsoleContext","DebugVariablesContext","DebugWatchContext","DebugToolBar","EditorContext","SimpleEditorContext","EditorContextCopy","EditorContextPeek","EditorTitle","EditorTitleRun","EditorTitleContext","EmptyEditorGroup","EmptyEditorGroupContext","ExplorerContext","ExtensionContext","GlobalActivity","LayoutControlMenu","MenubarMainMenu","MenubarAppearanceMenu","MenubarDebugMenu","MenubarEditMenu","MenubarCopy","MenubarFileMenu","MenubarGoMenu","MenubarHelpMenu","MenubarLayoutMenu","MenubarNewBreakpointMenu","MenubarPanelAlignmentMenu","MenubarPreferencesMenu","MenubarRecentMenu","MenubarSelectionMenu","MenubarSwitchEditorMenu","MenubarSwitchGroupMenu","MenubarTerminalMenu","MenubarViewMenu","MenubarHomeMenu","OpenEditorsContext","ProblemsPanelContext","SCMChangeContext","SCMResourceContext","SCMResourceFolderContext","SCMResourceGroupContext","SCMSourceControl","SCMTitle","SearchContext","StatusBarWindowIndicatorMenu","StatusBarRemoteIndicatorMenu","TestItem","TestItemGutter","TestPeekElement","TestPeekTitle","TouchBarContext","TitleBarContext","TunnelContext","TunnelPrivacy","TunnelProtocol","TunnelPortInline","TunnelTitle","TunnelLocalAddressInline","TunnelOriginInline","ViewItemContext","ViewContainerTitle","ViewContainerTitleContext","ViewTitle","ViewTitleContext","CommentThreadTitle","CommentThreadActions","CommentTitle","CommentActions","InteractiveToolbar","InteractiveCellTitle","InteractiveCellExecute","InteractiveInputExecute","NotebookToolbar","NotebookCellTitle","NotebookCellInsert","NotebookCellBetween","NotebookCellListTop","NotebookCellExecute","NotebookCellExecutePrimary","NotebookDiffCellInputTitle","NotebookDiffCellMetadataTitle","NotebookDiffCellOutputsTitle","NotebookOutputToolbar","NotebookEditorLayoutConfigure","BulkEditTitle","BulkEditContext","TimelineItemContext","TimelineTitle","TimelineTitleContext","AccountsContext","PanelTitle","TerminalInstanceContext","TerminalEditorInstanceContext","TerminalNewDropdownContext","TerminalTabContext","TerminalTabEmptyAreaContext","TerminalInlineTabContext","WebviewContext","InlineCompletionsActions","NewFile","MenuRegistry","_commands","Map","_menuItems","_onDidChangeMenu","onDidChangeMenu","_commandPaletteChangeEvent","has","addCommands","Iterable","commands","didChange","delete","map","forEach","appendMenuItems","items","changedIds","toRemove","LinkedList","list","size","fn","clear","_appendImplicitItems","_options","createMenu","pop","contextKeyService","_commandService","renderShortTitle","shortTitle","enabled","precondition","contextMatchesRules","condition","CSSIcon","runArgs","arg","shouldForwardArgs","args","executeCommand","ICommandService","MenuService","Menu","emitEventsForSubmenuChanges","eventDebounceDelay","_id","_disposables","_menuGroups","_contextKeys","_build","rebuildMenuSoon","RunOnceScheduler","_onDidChange","schedule","contextKeyListener","onFirstListenerAdd","fireChangeSoon","onDidChangeContext","affectsSome","onLastListenerRemove","bind","onDidChange","menuItems","sort","_compareMenuItems","groupName","_collectContextKeys","_fillInKbExprKeys","when","toggledExpression","activeActions","exp","keys","b","aGroup","bGroup","localeCompare","aPrio","order","bPrio","_compareTitles","aStr","original","bStr","BrowserClipboardService","layoutService","logService","mapTextToType","findText","isSafari","isWebkitWebView","installWebKitWriteTextWorkaround","handler","currentWritePromise","DeferredPromise","webKitPendingClipboardWritePromise","isSettled","cancel","navigator","clipboard","write","ClipboardItem","p","catch","err","Error","name","isRejected","hasContainer","text","type","complete","writeText","console","activeElement","document","textArea","body","appendChild","height","width","position","select","execCommand","HTMLElement","removeChild","readText","ILayoutService","ILogService","IClipboardService","CommandsRegistry","_onDidRegisterCommand","onDidRegisterCommand","idOrCommand","registerCommand","description","constraints","constraint","actualHandler","accessor","validateConstraints","removeFn","ret","isEmpty","oldId","newId","getCommand","toValuesTree","properties","conflictReporter","root","addToValueTree","settingsTreeRoot","segments","split","last","curr","s","obj","slice","join","JSON","stringify","removeFromValueTree","valueTree","doRemoveFromValueTree","first","shift","indexOf","getConfigurationValue","settingPath","defaultValue","path","current","component","accessSetting","ConfigurationModel","_contents","_keys","_overrides","isFrozen","overrideConfigurations","checkAndFreeze","section","contents","overrideIdentifier","overrideContents","getContentsForOverrideIdentifer","identifier","overrideConfigurationModel","createOverrideConfigurationModel","objects","overrides","others","other","mergeContents","otherOverride","filter","o","arrays","identifiers","override","contentsForKey","overrideContentsForKey","source","types","data","contentsForIdentifierOnly","contentsToMerge","includes","addKey","removeKey","DefaultConfigurationModel","configurationDefaultsOverrides","Registry","Extensions","getConfigurationProperties","defaultOverrideValue","default","message","OVERRIDE_PROPERTY_REGEX","overrideIdentifiersFromKey","Configuration","_defaultConfiguration","_localUserConfiguration","_remoteUserConfiguration","_workspaceConfiguration","_folderConfigurations","ResourceMap","_memoryConfiguration","_memoryConfigurationByResource","_freeze","_workspaceConsolidatedConfiguration","_foldersConsolidatedConfigurations","_userConfiguration","workspace","getConsolidateConfigurationModel","memoryConfiguration","resource","removeValue","setValue","consolidateConfigurationModel","folderConfigurationModel","getFolderConfigurationModelForResource","memoryConfigurationModel","freeze","userValue","userConfiguration","userLocalValue","localUserConfiguration","userRemoteValue","remoteUserConfiguration","workspaceValue","workspaceFolderValue","memoryValue","overrideIdentifiers","getOverrideValue","user","userLocal","userRemote","workspaceFolder","memory","merge","configurationModel","getConsolidatedConfigurationModelForResource","consolidateConfiguration","getWorkspaceConsolidatedConfiguration","getFolder","getFolderConsolidatedConfiguration","uri","memoryConfigurationForResource","folder","folderConsolidatedConfiguration","workspaceConsolidateConfiguration","folderConfiguration","defaults","folders","reduce","defaultConfiguration","parseConfigurationModel","workspaceConfiguration","URI","model","ConfigurationChangeEvent","change","previous","currentConfiguraiton","currentWorkspace","_previousConfiguration","keysSet","affectedKeys","values","affectedKeysTree","parse","doesAffectedKeysTreeContains","value1","previousConfiguration","value2","requestedTree","allSettings","patternProperties","applicationSettings","machineSettings","machineOverridableSettings","windowSettings","resourceSettings","resourceLanguageSettingsSchemaId","contributionRegistry","JSONExtensions","ConfigurationRegistry","_onDidSchemaChange","_onDidUpdateConfiguration","defaultLanguageConfigurationOverridesNode","nls","configurationContributors","resourceLanguageSettingsSchema","additionalProperties","errorMessage","allowTrailingCommas","allowComments","configurationProperties","excludedConfigurationProperties","registerSchema","registerOverridePropertyPatternKey","configuration","validate","registerConfigurations","configurations","doRegisterConfigurations","configurationDefaults","test","property","$ref","defaultDefaultValue","updatePropertyDefaultValue","updateSchema","registerOverrideIdentifiers","defaultsOverrides","updateOverridePropertyPatternKey","validateAndRegisterProperties","extensionInfo","restrictedProperties","registerJSONConfiguration","scope","propertyKeys","validateProperty","restricted","hasOwnProperty","included","deprecationMessage","markdownDeprecationMessage","subNodes","allOf","node","register","overrideIdentifierProperty","resourceLanguagePropertiesSchema","OVERRIDE_PROPERTY_PATTERN","configurationdefaultOverride","defaultSource","getDefaultValue","defaultValueSource","OVERRIDE_IDENTIFIER_PATTERN","OVERRIDE_IDENTIFIER_REGEX","RegExp","matches","exec","trim","distinct","configurationRegistry","KEYBINDING_CONTEXT_ATTR","Context","parent","_parent","_value","NullContext","INSTANCE","ConfigAwareContextValuesContainer","emitter","_values","TernarySearchTree","_listener","allKeys","from","ArrayContextKeyChangeEvent","changedKeys","configKey","contextKey","cachedItems","findSuperstr","deleteSuperstr","_keyPrefix","substr","configValue","ContextKey","service","_service","_key","_defaultValue","reset","setContext","removeContext","getContextKeyValue","SimpleContextKeyChangeEvent","CompositeContextKeyChangeEvent","events","AbstractContextKeyService","myContextId","_onDidChangeContext","PauseableEmitter","input","_isDisposed","_myContextId","callback","pause","resume","domNode","ScopedContextKeyService","rules","getContextValuesContainer","evaluate","myContext","hasAttribute","attr","getAttribute","parseInt","NaN","parentElement","findContextAttr","ContextKeyService","configurationService","_contexts","_toDispose","_lastContextId","contextId","parentContextId","createChildContext","_parentChangeListener","_updateParentChangeListener","_domNode","extraInfo","setAttribute","String","disposeContext","removeAttribute","SET_CONTEXT_COMMAND_ID","contextValue","createKey","seen","info","log","CONSTANT_VALUES","isMacintosh","isWeb","isEdge","isFirefox","isChrome","prototype","ContextKeyExpr","ContextKeyDefinedExpr","ContextKeyEqualsExpr","ContextKeyRegexExpr","ContextKeyNotExpr","expr","ContextKeyAndExpr","ContextKeyOrExpr","serialized","strict","_deserializeOrExpression","pieces","_deserializeAndExpression","_deserializeOne","serializedOne","ContextKeyNotEqualsExpr","_deserializeValue","_deserializeRegexValue","ContextKeyInExpr","ContextKeyGreaterEqualsExpr","ContextKeyGreaterExpr","ContextKeySmallerEqualsExpr","ContextKeySmallerExpr","serializedValue","m","isFalsyOrWhitespace","warn","start","end","lastIndexOf","caseIgnoreFlag","expressionsAreEqualWithConstantSubstitution","aExpr","substituteConstants","bExpr","cmp","ContextKeyFalseExpr","ContextKeyTrueExpr","negated","cmp1","constantValue","cmp2","trueValue","valueKey","call","ContextKeyNotInExpr","_actual","actual","falseValue","withFloatOrStr","n","parseFloat","isNaN","regexp","thisSource","otherSource","ignoreCase","ContextKeyNotRegexExpr","eliminateConstantsInArray","arr","newArr","len","newExpr","j","exprArr","serialize","negate","_expr","_normalizeArr","hasTrue","lastElement","secondToLastElement","isFinished","resultElement","el","LEFT","RIGHT","all","getTerminals","left","right","extraRedundantCheck","hasFalse","concat","implies","metaOrHide","_info","key1","key2","q","qTerm","notA","IsWindowsContext","InputFocusedContextKey","isIOS","ContextMenuHandler","contextViewService","telemetryService","notificationService","keybindingService","themeService","focusToReturn","block","blockMouse","delegate","shadowRootElement","isHTMLElement","domForShadowRoot","showContextView","getAnchor","canRelayout","anchorAlignment","anchorAxisAlignment","className","getMenuClassName","cursor","top","zIndex","menuDisposables","onBeforeRun","onActionRun","onDidActionRun","actionViewItemProvider","getActionViewItem","getActionsContext","getKeyBinding","attachMenuStyler","onDidCancel","hideContextView","onDidBlur","window","defaultPrevented","StandardMouseEvent","rightButton","combinedDisposable","autoSelectFirstItem","onHide","didCancel","publicLog2","isCancellationError","ContextMenuService","_onDidShowContextMenu","_onDidHideContextMenu","contextMenuHandler","configure","showContextMenu","resetKeyStatus","ITelemetryService","IContextViewService","IThemeService","ContextViewService","currentViewDisposable","contextView","ContextView","layout","onDidLayout","domPosition","setContainer","shadowRoot","show","disposable","getViewElement","hide"],"sourceRoot":""}