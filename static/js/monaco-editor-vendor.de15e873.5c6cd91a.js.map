{"version":3,"file":"static/js/monaco-editor-vendor.de15e873.5c6cd91a.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/editor/browser/editorBrowser.js","../node_modules/monaco-editor/esm/vs/editor/browser/editorDom.js","../node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/abstractCodeEditorService.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/bulkEditService.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/codeEditorService.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/editorWorkerService.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/markerDecorations.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/openerService.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/webWorker.js","../node_modules/monaco-editor/esm/vs/editor/browser/stableEditorScroll.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as editorCommon from '../common/editorCommon.js';\n/**\n *@internal\n */\nexport function isCodeEditor(thing) {\n    if (thing && typeof thing.getEditorType === 'function') {\n        return thing.getEditorType() === editorCommon.EditorType.ICodeEditor;\n    }\n    else {\n        return false;\n    }\n}\n/**\n *@internal\n */\nexport function isDiffEditor(thing) {\n    if (thing && typeof thing.getEditorType === 'function') {\n        return thing.getEditorType() === editorCommon.EditorType.IDiffEditor;\n    }\n    else {\n        return false;\n    }\n}\n/**\n *@internal\n */\nexport function isCompositeEditor(thing) {\n    return !!thing\n        && typeof thing === 'object'\n        && typeof thing.onDidChangeActiveEditor === 'function';\n}\n/**\n *@internal\n */\nexport function getCodeEditor(thing) {\n    if (isCodeEditor(thing)) {\n        return thing;\n    }\n    if (isDiffEditor(thing)) {\n        return thing.getModifiedEditor();\n    }\n    if (isCompositeEditor(thing) && isCodeEditor(thing.activeCodeEditor)) {\n        return thing.activeCodeEditor;\n    }\n    return null;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../base/browser/dom.js';\nimport { GlobalPointerMoveMonitor } from '../../base/browser/globalPointerMoveMonitor.js';\nimport { StandardMouseEvent } from '../../base/browser/mouseEvent.js';\nimport { RunOnceScheduler } from '../../base/common/async.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { asCssVariable } from '../../platform/theme/common/colorRegistry.js';\n/**\n * Coordinates relative to the whole document (e.g. mouse event's pageX and pageY)\n */\nexport class PageCoordinates {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._pageCoordinatesBrand = undefined;\n    }\n    toClientCoordinates() {\n        return new ClientCoordinates(this.x - window.scrollX, this.y - window.scrollY);\n    }\n}\n/**\n * Coordinates within the application's client area (i.e. origin is document's scroll position).\n *\n * For example, clicking in the top-left corner of the client area will\n * always result in a mouse event with a client.x value of 0, regardless\n * of whether the page is scrolled horizontally.\n */\nexport class ClientCoordinates {\n    constructor(clientX, clientY) {\n        this.clientX = clientX;\n        this.clientY = clientY;\n        this._clientCoordinatesBrand = undefined;\n    }\n    toPageCoordinates() {\n        return new PageCoordinates(this.clientX + window.scrollX, this.clientY + window.scrollY);\n    }\n}\n/**\n * The position of the editor in the page.\n */\nexport class EditorPagePosition {\n    constructor(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this._editorPagePositionBrand = undefined;\n    }\n}\n/**\n * Coordinates relative to the the (top;left) of the editor that can be used safely with other internal editor metrics.\n * **NOTE**: This position is obtained by taking page coordinates and transforming them relative to the\n * editor's (top;left) position in a way in which scale transformations are taken into account.\n * **NOTE**: These coordinates could be negative if the mouse position is outside the editor.\n */\nexport class CoordinatesRelativeToEditor {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._positionRelativeToEditorBrand = undefined;\n    }\n}\nexport function createEditorPagePosition(editorViewDomNode) {\n    const editorPos = dom.getDomNodePagePosition(editorViewDomNode);\n    return new EditorPagePosition(editorPos.left, editorPos.top, editorPos.width, editorPos.height);\n}\nexport function createCoordinatesRelativeToEditor(editorViewDomNode, editorPagePosition, pos) {\n    // The editor's page position is read from the DOM using getBoundingClientRect().\n    //\n    // getBoundingClientRect() returns the actual dimensions, while offsetWidth and offsetHeight\n    // reflect the unscaled size. We can use this difference to detect a transform:scale()\n    // and we will apply the transformation in inverse to get mouse coordinates that make sense inside the editor.\n    //\n    // This could be expanded to cover rotation as well maybe by walking the DOM up from `editorViewDomNode`\n    // and computing the effective transformation matrix using getComputedStyle(element).transform.\n    //\n    const scaleX = editorPagePosition.width / editorViewDomNode.offsetWidth;\n    const scaleY = editorPagePosition.height / editorViewDomNode.offsetHeight;\n    // Adjust mouse offsets if editor appears to be scaled via transforms\n    const relativeX = (pos.x - editorPagePosition.x) / scaleX;\n    const relativeY = (pos.y - editorPagePosition.y) / scaleY;\n    return new CoordinatesRelativeToEditor(relativeX, relativeY);\n}\nexport class EditorMouseEvent extends StandardMouseEvent {\n    constructor(e, isFromPointerCapture, editorViewDomNode) {\n        super(e);\n        this._editorMouseEventBrand = undefined;\n        this.isFromPointerCapture = isFromPointerCapture;\n        this.pos = new PageCoordinates(this.posx, this.posy);\n        this.editorPos = createEditorPagePosition(editorViewDomNode);\n        this.relativePos = createCoordinatesRelativeToEditor(editorViewDomNode, this.editorPos, this.pos);\n    }\n}\nexport class EditorMouseEventFactory {\n    constructor(editorViewDomNode) {\n        this._editorViewDomNode = editorViewDomNode;\n    }\n    _create(e) {\n        return new EditorMouseEvent(e, false, this._editorViewDomNode);\n    }\n    onContextMenu(target, callback) {\n        return dom.addDisposableListener(target, 'contextmenu', (e) => {\n            callback(this._create(e));\n        });\n    }\n    onMouseUp(target, callback) {\n        return dom.addDisposableListener(target, 'mouseup', (e) => {\n            callback(this._create(e));\n        });\n    }\n    onMouseDown(target, callback) {\n        return dom.addDisposableListener(target, dom.EventType.MOUSE_DOWN, (e) => {\n            callback(this._create(e));\n        });\n    }\n    onPointerDown(target, callback) {\n        return dom.addDisposableListener(target, dom.EventType.POINTER_DOWN, (e) => {\n            callback(this._create(e), e.pointerId);\n        });\n    }\n    onMouseLeave(target, callback) {\n        return dom.addDisposableListener(target, dom.EventType.MOUSE_LEAVE, (e) => {\n            callback(this._create(e));\n        });\n    }\n    onMouseMove(target, callback) {\n        return dom.addDisposableListener(target, 'mousemove', (e) => callback(this._create(e)));\n    }\n}\nexport class EditorPointerEventFactory {\n    constructor(editorViewDomNode) {\n        this._editorViewDomNode = editorViewDomNode;\n    }\n    _create(e) {\n        return new EditorMouseEvent(e, false, this._editorViewDomNode);\n    }\n    onPointerUp(target, callback) {\n        return dom.addDisposableListener(target, 'pointerup', (e) => {\n            callback(this._create(e));\n        });\n    }\n    onPointerDown(target, callback) {\n        return dom.addDisposableListener(target, dom.EventType.POINTER_DOWN, (e) => {\n            callback(this._create(e), e.pointerId);\n        });\n    }\n    onPointerLeave(target, callback) {\n        return dom.addDisposableListener(target, dom.EventType.POINTER_LEAVE, (e) => {\n            callback(this._create(e));\n        });\n    }\n    onPointerMove(target, callback) {\n        return dom.addDisposableListener(target, 'pointermove', (e) => callback(this._create(e)));\n    }\n}\nexport class GlobalEditorPointerMoveMonitor extends Disposable {\n    constructor(editorViewDomNode) {\n        super();\n        this._editorViewDomNode = editorViewDomNode;\n        this._globalPointerMoveMonitor = this._register(new GlobalPointerMoveMonitor());\n        this._keydownListener = null;\n    }\n    startMonitoring(initialElement, pointerId, initialButtons, pointerMoveCallback, onStopCallback) {\n        // Add a <<capture>> keydown event listener that will cancel the monitoring\n        // if something other than a modifier key is pressed\n        this._keydownListener = dom.addStandardDisposableListener(document, 'keydown', (e) => {\n            const chord = e.toKeyCodeChord();\n            if (chord.isModifierKey()) {\n                // Allow modifier keys\n                return;\n            }\n            this._globalPointerMoveMonitor.stopMonitoring(true, e.browserEvent);\n        }, true);\n        this._globalPointerMoveMonitor.startMonitoring(initialElement, pointerId, initialButtons, (e) => {\n            pointerMoveCallback(new EditorMouseEvent(e, true, this._editorViewDomNode));\n        }, (e) => {\n            this._keydownListener.dispose();\n            onStopCallback(e);\n        });\n    }\n    stopMonitoring() {\n        this._globalPointerMoveMonitor.stopMonitoring(true);\n    }\n}\n/**\n * A helper to create dynamic css rules, bound to a class name.\n * Rules are reused.\n * Reference counting and delayed garbage collection ensure that no rules leak.\n*/\nclass DynamicCssRules {\n    constructor(_editor) {\n        this._editor = _editor;\n        this._instanceId = ++DynamicCssRules._idPool;\n        this._counter = 0;\n        this._rules = new Map();\n        // We delay garbage collection so that hanging rules can be reused.\n        this._garbageCollectionScheduler = new RunOnceScheduler(() => this.garbageCollect(), 1000);\n    }\n    createClassNameRef(options) {\n        const rule = this.getOrCreateRule(options);\n        rule.increaseRefCount();\n        return {\n            className: rule.className,\n            dispose: () => {\n                rule.decreaseRefCount();\n                this._garbageCollectionScheduler.schedule();\n            }\n        };\n    }\n    getOrCreateRule(properties) {\n        const key = this.computeUniqueKey(properties);\n        let existingRule = this._rules.get(key);\n        if (!existingRule) {\n            const counter = this._counter++;\n            existingRule = new RefCountedCssRule(key, `dyn-rule-${this._instanceId}-${counter}`, dom.isInShadowDOM(this._editor.getContainerDomNode())\n                ? this._editor.getContainerDomNode()\n                : undefined, properties);\n            this._rules.set(key, existingRule);\n        }\n        return existingRule;\n    }\n    computeUniqueKey(properties) {\n        return JSON.stringify(properties);\n    }\n    garbageCollect() {\n        for (const rule of this._rules.values()) {\n            if (!rule.hasReferences()) {\n                this._rules.delete(rule.key);\n                rule.dispose();\n            }\n        }\n    }\n}\nDynamicCssRules._idPool = 0;\nexport { DynamicCssRules };\nclass RefCountedCssRule {\n    constructor(key, className, _containerElement, properties) {\n        this.key = key;\n        this.className = className;\n        this.properties = properties;\n        this._referenceCount = 0;\n        this._styleElement = dom.createStyleSheet(_containerElement);\n        this._styleElement.textContent = this.getCssText(this.className, this.properties);\n    }\n    getCssText(className, properties) {\n        let str = `.${className} {`;\n        for (const prop in properties) {\n            const value = properties[prop];\n            let cssValue;\n            if (typeof value === 'object') {\n                cssValue = asCssVariable(value.id);\n            }\n            else {\n                cssValue = value;\n            }\n            const cssPropName = camelToDashes(prop);\n            str += `\\n\\t${cssPropName}: ${cssValue};`;\n        }\n        str += `\\n}`;\n        return str;\n    }\n    dispose() {\n        this._styleElement.remove();\n    }\n    increaseRefCount() {\n        this._referenceCount++;\n    }\n    decreaseRefCount() {\n        this._referenceCount--;\n    }\n    hasReferences() {\n        return this._referenceCount > 0;\n    }\n}\nfunction camelToDashes(str) {\n    return str.replace(/(^[A-Z])/, ([first]) => first.toLowerCase())\n        .replace(/([A-Z])/g, ([letter]) => `-${letter.toLowerCase()}`);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from '../../nls.js';\nimport { URI } from '../../base/common/uri.js';\nimport { ICodeEditorService } from './services/codeEditorService.js';\nimport { Position } from '../common/core/position.js';\nimport { IModelService } from '../common/services/model.js';\nimport { ITextModelService } from '../common/services/resolverService.js';\nimport { MenuId, MenuRegistry, Action2 } from '../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../platform/commands/common/commands.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../platform/instantiation/common/instantiation.js';\nimport { KeybindingsRegistry } from '../../platform/keybinding/common/keybindingsRegistry.js';\nimport { Registry } from '../../platform/registry/common/platform.js';\nimport { ITelemetryService } from '../../platform/telemetry/common/telemetry.js';\nimport { withNullAsUndefined, assertType } from '../../base/common/types.js';\nimport { ILogService } from '../../platform/log/common/log.js';\nexport class Command {\n    constructor(opts) {\n        this.id = opts.id;\n        this.precondition = opts.precondition;\n        this._kbOpts = opts.kbOpts;\n        this._menuOpts = opts.menuOpts;\n        this._description = opts.description;\n    }\n    register() {\n        if (Array.isArray(this._menuOpts)) {\n            this._menuOpts.forEach(this._registerMenuItem, this);\n        }\n        else if (this._menuOpts) {\n            this._registerMenuItem(this._menuOpts);\n        }\n        if (this._kbOpts) {\n            const kbOptsArr = Array.isArray(this._kbOpts) ? this._kbOpts : [this._kbOpts];\n            for (const kbOpts of kbOptsArr) {\n                let kbWhen = kbOpts.kbExpr;\n                if (this.precondition) {\n                    if (kbWhen) {\n                        kbWhen = ContextKeyExpr.and(kbWhen, this.precondition);\n                    }\n                    else {\n                        kbWhen = this.precondition;\n                    }\n                }\n                const desc = {\n                    id: this.id,\n                    weight: kbOpts.weight,\n                    args: kbOpts.args,\n                    when: kbWhen,\n                    primary: kbOpts.primary,\n                    secondary: kbOpts.secondary,\n                    win: kbOpts.win,\n                    linux: kbOpts.linux,\n                    mac: kbOpts.mac,\n                };\n                KeybindingsRegistry.registerKeybindingRule(desc);\n            }\n        }\n        CommandsRegistry.registerCommand({\n            id: this.id,\n            handler: (accessor, args) => this.runCommand(accessor, args),\n            description: this._description\n        });\n    }\n    _registerMenuItem(item) {\n        MenuRegistry.appendMenuItem(item.menuId, {\n            group: item.group,\n            command: {\n                id: this.id,\n                title: item.title,\n                icon: item.icon,\n                precondition: this.precondition\n            },\n            when: item.when,\n            order: item.order\n        });\n    }\n}\nexport class MultiCommand extends Command {\n    constructor() {\n        super(...arguments);\n        this._implementations = [];\n    }\n    /**\n     * A higher priority gets to be looked at first\n     */\n    addImplementation(priority, name, implementation) {\n        this._implementations.push({ priority, name, implementation });\n        this._implementations.sort((a, b) => b.priority - a.priority);\n        return {\n            dispose: () => {\n                for (let i = 0; i < this._implementations.length; i++) {\n                    if (this._implementations[i].implementation === implementation) {\n                        this._implementations.splice(i, 1);\n                        return;\n                    }\n                }\n            }\n        };\n    }\n    runCommand(accessor, args) {\n        const logService = accessor.get(ILogService);\n        logService.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);\n        for (const impl of this._implementations) {\n            const result = impl.implementation(accessor, args);\n            if (result) {\n                logService.trace(`Command '${this.id}' was handled by '${impl.name}'.`);\n                if (typeof result === 'boolean') {\n                    return;\n                }\n                return result;\n            }\n        }\n        logService.trace(`The Command '${this.id}' was not handled by any implementation.`);\n    }\n}\n//#endregion\n/**\n * A command that delegates to another command's implementation.\n *\n * This lets different commands be registered but share the same implementation\n */\nexport class ProxyCommand extends Command {\n    constructor(command, opts) {\n        super(opts);\n        this.command = command;\n    }\n    runCommand(accessor, args) {\n        return this.command.runCommand(accessor, args);\n    }\n}\nexport class EditorCommand extends Command {\n    /**\n     * Create a command class that is bound to a certain editor contribution.\n     */\n    static bindToContribution(controllerGetter) {\n        return class EditorControllerCommandImpl extends EditorCommand {\n            constructor(opts) {\n                super(opts);\n                this._callback = opts.handler;\n            }\n            runEditorCommand(accessor, editor, args) {\n                const controller = controllerGetter(editor);\n                if (controller) {\n                    this._callback(controller, args);\n                }\n            }\n        };\n    }\n    static runEditorCommand(accessor, args, precondition, runner) {\n        const codeEditorService = accessor.get(ICodeEditorService);\n        // Find the editor with text focus or active\n        const editor = codeEditorService.getFocusedCodeEditor() || codeEditorService.getActiveCodeEditor();\n        if (!editor) {\n            // well, at least we tried...\n            return;\n        }\n        return editor.invokeWithinContext((editorAccessor) => {\n            const kbService = editorAccessor.get(IContextKeyService);\n            if (!kbService.contextMatchesRules(withNullAsUndefined(precondition))) {\n                // precondition does not hold\n                return;\n            }\n            return runner(editorAccessor, editor, args);\n        });\n    }\n    runCommand(accessor, args) {\n        return EditorCommand.runEditorCommand(accessor, args, this.precondition, (accessor, editor, args) => this.runEditorCommand(accessor, editor, args));\n    }\n}\nexport class EditorAction extends EditorCommand {\n    static convertOptions(opts) {\n        let menuOpts;\n        if (Array.isArray(opts.menuOpts)) {\n            menuOpts = opts.menuOpts;\n        }\n        else if (opts.menuOpts) {\n            menuOpts = [opts.menuOpts];\n        }\n        else {\n            menuOpts = [];\n        }\n        function withDefaults(item) {\n            if (!item.menuId) {\n                item.menuId = MenuId.EditorContext;\n            }\n            if (!item.title) {\n                item.title = opts.label;\n            }\n            item.when = ContextKeyExpr.and(opts.precondition, item.when);\n            return item;\n        }\n        if (Array.isArray(opts.contextMenuOpts)) {\n            menuOpts.push(...opts.contextMenuOpts.map(withDefaults));\n        }\n        else if (opts.contextMenuOpts) {\n            menuOpts.push(withDefaults(opts.contextMenuOpts));\n        }\n        opts.menuOpts = menuOpts;\n        return opts;\n    }\n    constructor(opts) {\n        super(EditorAction.convertOptions(opts));\n        this.label = opts.label;\n        this.alias = opts.alias;\n    }\n    runEditorCommand(accessor, editor, args) {\n        this.reportTelemetry(accessor, editor);\n        return this.run(accessor, editor, args || {});\n    }\n    reportTelemetry(accessor, editor) {\n        accessor.get(ITelemetryService).publicLog2('editorActionInvoked', { name: this.label, id: this.id });\n    }\n}\nexport class MultiEditorAction extends EditorAction {\n    constructor() {\n        super(...arguments);\n        this._implementations = [];\n    }\n    /**\n     * A higher priority gets to be looked at first\n     */\n    addImplementation(priority, implementation) {\n        this._implementations.push([priority, implementation]);\n        this._implementations.sort((a, b) => b[0] - a[0]);\n        return {\n            dispose: () => {\n                for (let i = 0; i < this._implementations.length; i++) {\n                    if (this._implementations[i][1] === implementation) {\n                        this._implementations.splice(i, 1);\n                        return;\n                    }\n                }\n            }\n        };\n    }\n    run(accessor, editor, args) {\n        for (const impl of this._implementations) {\n            const result = impl[1](accessor, editor, args);\n            if (result) {\n                if (typeof result === 'boolean') {\n                    return;\n                }\n                return result;\n            }\n        }\n    }\n}\n//#endregion EditorAction\n//#region EditorAction2\nexport class EditorAction2 extends Action2 {\n    run(accessor, ...args) {\n        // Find the editor with text focus or active\n        const codeEditorService = accessor.get(ICodeEditorService);\n        const editor = codeEditorService.getFocusedCodeEditor() || codeEditorService.getActiveCodeEditor();\n        if (!editor) {\n            // well, at least we tried...\n            return;\n        }\n        // precondition does hold\n        return editor.invokeWithinContext((editorAccessor) => {\n            const kbService = editorAccessor.get(IContextKeyService);\n            if (kbService.contextMatchesRules(withNullAsUndefined(this.desc.precondition))) {\n                return this.runEditorCommand(editorAccessor, editor, ...args);\n            }\n        });\n    }\n}\n//#endregion\n// --- Registration of commands and actions\nexport function registerModelAndPositionCommand(id, handler) {\n    CommandsRegistry.registerCommand(id, function (accessor, ...args) {\n        const instaService = accessor.get(IInstantiationService);\n        const [resource, position] = args;\n        assertType(URI.isUri(resource));\n        assertType(Position.isIPosition(position));\n        const model = accessor.get(IModelService).getModel(resource);\n        if (model) {\n            const editorPosition = Position.lift(position);\n            return instaService.invokeFunction(handler, model, editorPosition, ...args.slice(2));\n        }\n        return accessor.get(ITextModelService).createModelReference(resource).then(reference => {\n            return new Promise((resolve, reject) => {\n                try {\n                    const result = instaService.invokeFunction(handler, reference.object.textEditorModel, Position.lift(position), args.slice(2));\n                    resolve(result);\n                }\n                catch (err) {\n                    reject(err);\n                }\n            }).finally(() => {\n                reference.dispose();\n            });\n        });\n    });\n}\nexport function registerEditorCommand(editorCommand) {\n    EditorContributionRegistry.INSTANCE.registerEditorCommand(editorCommand);\n    return editorCommand;\n}\nexport function registerEditorAction(ctor) {\n    const action = new ctor();\n    EditorContributionRegistry.INSTANCE.registerEditorAction(action);\n    return action;\n}\nexport function registerMultiEditorAction(action) {\n    EditorContributionRegistry.INSTANCE.registerEditorAction(action);\n    return action;\n}\nexport function registerInstantiatedEditorAction(editorAction) {\n    EditorContributionRegistry.INSTANCE.registerEditorAction(editorAction);\n}\n/**\n * Registers an editor contribution. Editor contributions have a lifecycle which is bound\n * to a specific code editor instance.\n */\nexport function registerEditorContribution(id, ctor, instantiation) {\n    EditorContributionRegistry.INSTANCE.registerEditorContribution(id, ctor, instantiation);\n}\nexport var EditorExtensionsRegistry;\n(function (EditorExtensionsRegistry) {\n    function getEditorCommand(commandId) {\n        return EditorContributionRegistry.INSTANCE.getEditorCommand(commandId);\n    }\n    EditorExtensionsRegistry.getEditorCommand = getEditorCommand;\n    function getEditorActions() {\n        return EditorContributionRegistry.INSTANCE.getEditorActions();\n    }\n    EditorExtensionsRegistry.getEditorActions = getEditorActions;\n    function getEditorContributions() {\n        return EditorContributionRegistry.INSTANCE.getEditorContributions();\n    }\n    EditorExtensionsRegistry.getEditorContributions = getEditorContributions;\n    function getSomeEditorContributions(ids) {\n        return EditorContributionRegistry.INSTANCE.getEditorContributions().filter(c => ids.indexOf(c.id) >= 0);\n    }\n    EditorExtensionsRegistry.getSomeEditorContributions = getSomeEditorContributions;\n    function getDiffEditorContributions() {\n        return EditorContributionRegistry.INSTANCE.getDiffEditorContributions();\n    }\n    EditorExtensionsRegistry.getDiffEditorContributions = getDiffEditorContributions;\n})(EditorExtensionsRegistry || (EditorExtensionsRegistry = {}));\n// Editor extension points\nconst Extensions = {\n    EditorCommonContributions: 'editor.contributions'\n};\nclass EditorContributionRegistry {\n    constructor() {\n        this.editorContributions = [];\n        this.diffEditorContributions = [];\n        this.editorActions = [];\n        this.editorCommands = Object.create(null);\n    }\n    registerEditorContribution(id, ctor, instantiation) {\n        this.editorContributions.push({ id, ctor: ctor, instantiation });\n    }\n    getEditorContributions() {\n        return this.editorContributions.slice(0);\n    }\n    getDiffEditorContributions() {\n        return this.diffEditorContributions.slice(0);\n    }\n    registerEditorAction(action) {\n        action.register();\n        this.editorActions.push(action);\n    }\n    getEditorActions() {\n        return this.editorActions;\n    }\n    registerEditorCommand(editorCommand) {\n        editorCommand.register();\n        this.editorCommands[editorCommand.id] = editorCommand;\n    }\n    getEditorCommand(commandId) {\n        return (this.editorCommands[commandId] || null);\n    }\n}\nEditorContributionRegistry.INSTANCE = new EditorContributionRegistry();\nRegistry.add(Extensions.EditorCommonContributions, EditorContributionRegistry.INSTANCE);\nfunction registerCommand(command) {\n    command.register();\n    return command;\n}\nexport const UndoCommand = registerCommand(new MultiCommand({\n    id: 'undo',\n    precondition: undefined,\n    kbOpts: {\n        weight: 0 /* KeybindingWeight.EditorCore */,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 56 /* KeyCode.KeyZ */\n    },\n    menuOpts: [{\n            menuId: MenuId.MenubarEditMenu,\n            group: '1_do',\n            title: nls.localize({ key: 'miUndo', comment: ['&& denotes a mnemonic'] }, \"&&Undo\"),\n            order: 1\n        }, {\n            menuId: MenuId.CommandPalette,\n            group: '',\n            title: nls.localize('undo', \"Undo\"),\n            order: 1\n        }]\n}));\nregisterCommand(new ProxyCommand(UndoCommand, { id: 'default:undo', precondition: undefined }));\nexport const RedoCommand = registerCommand(new MultiCommand({\n    id: 'redo',\n    precondition: undefined,\n    kbOpts: {\n        weight: 0 /* KeybindingWeight.EditorCore */,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 55 /* KeyCode.KeyY */,\n        secondary: [2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 56 /* KeyCode.KeyZ */],\n        mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 56 /* KeyCode.KeyZ */ }\n    },\n    menuOpts: [{\n            menuId: MenuId.MenubarEditMenu,\n            group: '1_do',\n            title: nls.localize({ key: 'miRedo', comment: ['&& denotes a mnemonic'] }, \"&&Redo\"),\n            order: 2\n        }, {\n            menuId: MenuId.CommandPalette,\n            group: '',\n            title: nls.localize('redo', \"Redo\"),\n            order: 1\n        }]\n}));\nregisterCommand(new ProxyCommand(RedoCommand, { id: 'default:redo', precondition: undefined }));\nexport const SelectAllCommand = registerCommand(new MultiCommand({\n    id: 'editor.action.selectAll',\n    precondition: undefined,\n    kbOpts: {\n        weight: 0 /* KeybindingWeight.EditorCore */,\n        kbExpr: null,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 31 /* KeyCode.KeyA */\n    },\n    menuOpts: [{\n            menuId: MenuId.MenubarSelectionMenu,\n            group: '1_basic',\n            title: nls.localize({ key: 'miSelectAll', comment: ['&& denotes a mnemonic'] }, \"&&Select All\"),\n            order: 1\n        }, {\n            menuId: MenuId.CommandPalette,\n            group: '',\n            title: nls.localize('selectAll', \"Select All\"),\n            order: 1\n        }]\n}));\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nlet AbstractCodeEditorService = class AbstractCodeEditorService extends Disposable {\n    constructor(_themeService) {\n        super();\n        this._themeService = _themeService;\n        this._onWillCreateCodeEditor = this._register(new Emitter());\n        this._onCodeEditorAdd = this._register(new Emitter());\n        this.onCodeEditorAdd = this._onCodeEditorAdd.event;\n        this._onCodeEditorRemove = this._register(new Emitter());\n        this.onCodeEditorRemove = this._onCodeEditorRemove.event;\n        this._onWillCreateDiffEditor = this._register(new Emitter());\n        this._onDiffEditorAdd = this._register(new Emitter());\n        this.onDiffEditorAdd = this._onDiffEditorAdd.event;\n        this._onDiffEditorRemove = this._register(new Emitter());\n        this.onDiffEditorRemove = this._onDiffEditorRemove.event;\n        this._decorationOptionProviders = new Map();\n        this._codeEditorOpenHandlers = new LinkedList();\n        this._modelProperties = new Map();\n        this._codeEditors = Object.create(null);\n        this._diffEditors = Object.create(null);\n        this._globalStyleSheet = null;\n    }\n    willCreateCodeEditor() {\n        this._onWillCreateCodeEditor.fire();\n    }\n    addCodeEditor(editor) {\n        this._codeEditors[editor.getId()] = editor;\n        this._onCodeEditorAdd.fire(editor);\n    }\n    removeCodeEditor(editor) {\n        if (delete this._codeEditors[editor.getId()]) {\n            this._onCodeEditorRemove.fire(editor);\n        }\n    }\n    listCodeEditors() {\n        return Object.keys(this._codeEditors).map(id => this._codeEditors[id]);\n    }\n    willCreateDiffEditor() {\n        this._onWillCreateDiffEditor.fire();\n    }\n    addDiffEditor(editor) {\n        this._diffEditors[editor.getId()] = editor;\n        this._onDiffEditorAdd.fire(editor);\n    }\n    removeDiffEditor(editor) {\n        if (delete this._diffEditors[editor.getId()]) {\n            this._onDiffEditorRemove.fire(editor);\n        }\n    }\n    listDiffEditors() {\n        return Object.keys(this._diffEditors).map(id => this._diffEditors[id]);\n    }\n    getFocusedCodeEditor() {\n        let editorWithWidgetFocus = null;\n        const editors = this.listCodeEditors();\n        for (const editor of editors) {\n            if (editor.hasTextFocus()) {\n                // bingo!\n                return editor;\n            }\n            if (editor.hasWidgetFocus()) {\n                editorWithWidgetFocus = editor;\n            }\n        }\n        return editorWithWidgetFocus;\n    }\n    removeDecorationType(key) {\n        const provider = this._decorationOptionProviders.get(key);\n        if (provider) {\n            provider.refCount--;\n            if (provider.refCount <= 0) {\n                this._decorationOptionProviders.delete(key);\n                provider.dispose();\n                this.listCodeEditors().forEach((ed) => ed.removeDecorationsByType(key));\n            }\n        }\n    }\n    setModelProperty(resource, key, value) {\n        const key1 = resource.toString();\n        let dest;\n        if (this._modelProperties.has(key1)) {\n            dest = this._modelProperties.get(key1);\n        }\n        else {\n            dest = new Map();\n            this._modelProperties.set(key1, dest);\n        }\n        dest.set(key, value);\n    }\n    getModelProperty(resource, key) {\n        const key1 = resource.toString();\n        if (this._modelProperties.has(key1)) {\n            const innerMap = this._modelProperties.get(key1);\n            return innerMap.get(key);\n        }\n        return undefined;\n    }\n    openCodeEditor(input, source, sideBySide) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const handler of this._codeEditorOpenHandlers) {\n                const candidate = yield handler(input, source, sideBySide);\n                if (candidate !== null) {\n                    return candidate;\n                }\n            }\n            return null;\n        });\n    }\n    registerCodeEditorOpenHandler(handler) {\n        const rm = this._codeEditorOpenHandlers.unshift(handler);\n        return toDisposable(rm);\n    }\n};\nAbstractCodeEditorService = __decorate([\n    __param(0, IThemeService)\n], AbstractCodeEditorService);\nexport { AbstractCodeEditorService };\nexport class GlobalStyleSheet {\n    constructor(styleSheet) {\n        this._styleSheet = styleSheet;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { isObject } from '../../../base/common/types.js';\nexport const IBulkEditService = createDecorator('IWorkspaceEditService');\nexport class ResourceEdit {\n    constructor(metadata) {\n        this.metadata = metadata;\n    }\n    static convert(edit) {\n        return edit.edits.map(edit => {\n            if (ResourceTextEdit.is(edit)) {\n                return ResourceTextEdit.lift(edit);\n            }\n            if (ResourceFileEdit.is(edit)) {\n                return ResourceFileEdit.lift(edit);\n            }\n            throw new Error('Unsupported edit');\n        });\n    }\n}\nexport class ResourceTextEdit extends ResourceEdit {\n    static is(candidate) {\n        if (candidate instanceof ResourceTextEdit) {\n            return true;\n        }\n        return isObject(candidate)\n            && URI.isUri(candidate.resource)\n            && isObject(candidate.textEdit);\n    }\n    static lift(edit) {\n        if (edit instanceof ResourceTextEdit) {\n            return edit;\n        }\n        else {\n            return new ResourceTextEdit(edit.resource, edit.textEdit, edit.versionId, edit.metadata);\n        }\n    }\n    constructor(resource, textEdit, versionId = undefined, metadata) {\n        super(metadata);\n        this.resource = resource;\n        this.textEdit = textEdit;\n        this.versionId = versionId;\n    }\n}\nexport class ResourceFileEdit extends ResourceEdit {\n    static is(candidate) {\n        if (candidate instanceof ResourceFileEdit) {\n            return true;\n        }\n        else {\n            return isObject(candidate)\n                && (Boolean(candidate.newResource) || Boolean(candidate.oldResource));\n        }\n    }\n    static lift(edit) {\n        if (edit instanceof ResourceFileEdit) {\n            return edit;\n        }\n        else {\n            return new ResourceFileEdit(edit.oldResource, edit.newResource, edit.options, edit.metadata);\n        }\n    }\n    constructor(oldResource, newResource, options = {}, metadata) {\n        super(metadata);\n        this.oldResource = oldResource;\n        this.newResource = newResource;\n        this.options = options;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ICodeEditorService = createDecorator('codeEditorService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { IntervalTimer, timeout } from '../../../base/common/async.js';\nimport { Disposable, dispose, toDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { SimpleWorkerClient, logOnceWebWorkerWarning } from '../../../base/common/worker/simpleWorker.js';\nimport { DefaultWorkerFactory } from '../../../base/browser/defaultWorkerFactory.js';\nimport { Range } from '../../common/core/range.js';\nimport { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry.js';\nimport { EditorSimpleWorker } from '../../common/services/editorSimpleWorker.js';\nimport { IModelService } from '../../common/services/model.js';\nimport { ITextResourceConfigurationService } from '../../common/services/textResourceConfiguration.js';\nimport { regExpFlags } from '../../../base/common/strings.js';\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { StopWatch } from '../../../base/common/stopwatch.js';\nimport { canceled } from '../../../base/common/errors.js';\nimport { ILanguageFeaturesService } from '../../common/services/languageFeatures.js';\nimport { LineRangeMapping, LineRange, RangeMapping } from '../../common/diff/linesDiffComputer.js';\n/**\n * Stop syncing a model to the worker if it was not needed for 1 min.\n */\nconst STOP_SYNC_MODEL_DELTA_TIME_MS = 60 * 1000;\n/**\n * Stop the worker if it was not needed for 5 min.\n */\nconst STOP_WORKER_DELTA_TIME_MS = 5 * 60 * 1000;\nfunction canSyncModel(modelService, resource) {\n    const model = modelService.getModel(resource);\n    if (!model) {\n        return false;\n    }\n    if (model.isTooLargeForSyncing()) {\n        return false;\n    }\n    return true;\n}\nlet EditorWorkerService = class EditorWorkerService extends Disposable {\n    constructor(modelService, configurationService, logService, languageConfigurationService, languageFeaturesService) {\n        super();\n        this._modelService = modelService;\n        this._workerManager = this._register(new WorkerManager(this._modelService, languageConfigurationService));\n        this._logService = logService;\n        // register default link-provider and default completions-provider\n        this._register(languageFeaturesService.linkProvider.register({ language: '*', hasAccessToAllModels: true }, {\n            provideLinks: (model, token) => {\n                if (!canSyncModel(this._modelService, model.uri)) {\n                    return Promise.resolve({ links: [] }); // File too large\n                }\n                return this._workerManager.withWorker().then(client => client.computeLinks(model.uri)).then(links => {\n                    return links && { links };\n                });\n            }\n        }));\n        this._register(languageFeaturesService.completionProvider.register('*', new WordBasedCompletionItemProvider(this._workerManager, configurationService, this._modelService, languageConfigurationService)));\n    }\n    dispose() {\n        super.dispose();\n    }\n    canComputeUnicodeHighlights(uri) {\n        return canSyncModel(this._modelService, uri);\n    }\n    computedUnicodeHighlights(uri, options, range) {\n        return this._workerManager.withWorker().then(client => client.computedUnicodeHighlights(uri, options, range));\n    }\n    computeDiff(original, modified, options, algorithm) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this._workerManager.withWorker().then(client => client.computeDiff(original, modified, options, algorithm));\n            if (!result) {\n                return null;\n            }\n            // Convert from space efficient JSON data to rich objects.\n            const diff = {\n                identical: result.identical,\n                quitEarly: result.quitEarly,\n                changes: result.changes.map((c) => {\n                    var _a;\n                    return new LineRangeMapping(new LineRange(c[0], c[1]), new LineRange(c[2], c[3]), (_a = c[4]) === null || _a === void 0 ? void 0 : _a.map((c) => new RangeMapping(new Range(c[0], c[1], c[2], c[3]), new Range(c[4], c[5], c[6], c[7]))));\n                }),\n            };\n            return diff;\n        });\n    }\n    computeMoreMinimalEdits(resource, edits) {\n        if (isNonEmptyArray(edits)) {\n            if (!canSyncModel(this._modelService, resource)) {\n                return Promise.resolve(edits); // File too large\n            }\n            const sw = StopWatch.create(true);\n            const result = this._workerManager.withWorker().then(client => client.computeMoreMinimalEdits(resource, edits));\n            result.finally(() => this._logService.trace('FORMAT#computeMoreMinimalEdits', resource.toString(true), sw.elapsed()));\n            return Promise.race([result, timeout(1000).then(() => edits)]);\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n    }\n    canNavigateValueSet(resource) {\n        return (canSyncModel(this._modelService, resource));\n    }\n    navigateValueSet(resource, range, up) {\n        return this._workerManager.withWorker().then(client => client.navigateValueSet(resource, range, up));\n    }\n    canComputeWordRanges(resource) {\n        return canSyncModel(this._modelService, resource);\n    }\n    computeWordRanges(resource, range) {\n        return this._workerManager.withWorker().then(client => client.computeWordRanges(resource, range));\n    }\n};\nEditorWorkerService = __decorate([\n    __param(0, IModelService),\n    __param(1, ITextResourceConfigurationService),\n    __param(2, ILogService),\n    __param(3, ILanguageConfigurationService),\n    __param(4, ILanguageFeaturesService)\n], EditorWorkerService);\nexport { EditorWorkerService };\nclass WordBasedCompletionItemProvider {\n    constructor(workerManager, configurationService, modelService, languageConfigurationService) {\n        this.languageConfigurationService = languageConfigurationService;\n        this._debugDisplayName = 'wordbasedCompletions';\n        this._workerManager = workerManager;\n        this._configurationService = configurationService;\n        this._modelService = modelService;\n    }\n    provideCompletionItems(model, position) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const config = this._configurationService.getValue(model.uri, position, 'editor');\n            if (!config.wordBasedSuggestions) {\n                return undefined;\n            }\n            const models = [];\n            if (config.wordBasedSuggestionsMode === 'currentDocument') {\n                // only current file and only if not too large\n                if (canSyncModel(this._modelService, model.uri)) {\n                    models.push(model.uri);\n                }\n            }\n            else {\n                // either all files or files of same language\n                for (const candidate of this._modelService.getModels()) {\n                    if (!canSyncModel(this._modelService, candidate.uri)) {\n                        continue;\n                    }\n                    if (candidate === model) {\n                        models.unshift(candidate.uri);\n                    }\n                    else if (config.wordBasedSuggestionsMode === 'allDocuments' || candidate.getLanguageId() === model.getLanguageId()) {\n                        models.push(candidate.uri);\n                    }\n                }\n            }\n            if (models.length === 0) {\n                return undefined; // File too large, no other files\n            }\n            const wordDefRegExp = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n            const word = model.getWordAtPosition(position);\n            const replace = !word ? Range.fromPositions(position) : new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\n            const insert = replace.setEndPosition(position.lineNumber, position.column);\n            const client = yield this._workerManager.withWorker();\n            const data = yield client.textualSuggest(models, word === null || word === void 0 ? void 0 : word.word, wordDefRegExp);\n            if (!data) {\n                return undefined;\n            }\n            return {\n                duration: data.duration,\n                suggestions: data.words.map((word) => {\n                    return {\n                        kind: 18 /* languages.CompletionItemKind.Text */,\n                        label: word,\n                        insertText: word,\n                        range: { insert, replace }\n                    };\n                }),\n            };\n        });\n    }\n}\nclass WorkerManager extends Disposable {\n    constructor(modelService, languageConfigurationService) {\n        super();\n        this.languageConfigurationService = languageConfigurationService;\n        this._modelService = modelService;\n        this._editorWorkerClient = null;\n        this._lastWorkerUsedTime = (new Date()).getTime();\n        const stopWorkerInterval = this._register(new IntervalTimer());\n        stopWorkerInterval.cancelAndSet(() => this._checkStopIdleWorker(), Math.round(STOP_WORKER_DELTA_TIME_MS / 2));\n        this._register(this._modelService.onModelRemoved(_ => this._checkStopEmptyWorker()));\n    }\n    dispose() {\n        if (this._editorWorkerClient) {\n            this._editorWorkerClient.dispose();\n            this._editorWorkerClient = null;\n        }\n        super.dispose();\n    }\n    /**\n     * Check if the model service has no more models and stop the worker if that is the case.\n     */\n    _checkStopEmptyWorker() {\n        if (!this._editorWorkerClient) {\n            return;\n        }\n        const models = this._modelService.getModels();\n        if (models.length === 0) {\n            // There are no more models => nothing possible for me to do\n            this._editorWorkerClient.dispose();\n            this._editorWorkerClient = null;\n        }\n    }\n    /**\n     * Check if the worker has been idle for a while and then stop it.\n     */\n    _checkStopIdleWorker() {\n        if (!this._editorWorkerClient) {\n            return;\n        }\n        const timeSinceLastWorkerUsedTime = (new Date()).getTime() - this._lastWorkerUsedTime;\n        if (timeSinceLastWorkerUsedTime > STOP_WORKER_DELTA_TIME_MS) {\n            this._editorWorkerClient.dispose();\n            this._editorWorkerClient = null;\n        }\n    }\n    withWorker() {\n        this._lastWorkerUsedTime = (new Date()).getTime();\n        if (!this._editorWorkerClient) {\n            this._editorWorkerClient = new EditorWorkerClient(this._modelService, false, 'editorWorkerService', this.languageConfigurationService);\n        }\n        return Promise.resolve(this._editorWorkerClient);\n    }\n}\nclass EditorModelManager extends Disposable {\n    constructor(proxy, modelService, keepIdleModels) {\n        super();\n        this._syncedModels = Object.create(null);\n        this._syncedModelsLastUsedTime = Object.create(null);\n        this._proxy = proxy;\n        this._modelService = modelService;\n        if (!keepIdleModels) {\n            const timer = new IntervalTimer();\n            timer.cancelAndSet(() => this._checkStopModelSync(), Math.round(STOP_SYNC_MODEL_DELTA_TIME_MS / 2));\n            this._register(timer);\n        }\n    }\n    dispose() {\n        for (const modelUrl in this._syncedModels) {\n            dispose(this._syncedModels[modelUrl]);\n        }\n        this._syncedModels = Object.create(null);\n        this._syncedModelsLastUsedTime = Object.create(null);\n        super.dispose();\n    }\n    ensureSyncedResources(resources, forceLargeModels) {\n        for (const resource of resources) {\n            const resourceStr = resource.toString();\n            if (!this._syncedModels[resourceStr]) {\n                this._beginModelSync(resource, forceLargeModels);\n            }\n            if (this._syncedModels[resourceStr]) {\n                this._syncedModelsLastUsedTime[resourceStr] = (new Date()).getTime();\n            }\n        }\n    }\n    _checkStopModelSync() {\n        const currentTime = (new Date()).getTime();\n        const toRemove = [];\n        for (const modelUrl in this._syncedModelsLastUsedTime) {\n            const elapsedTime = currentTime - this._syncedModelsLastUsedTime[modelUrl];\n            if (elapsedTime > STOP_SYNC_MODEL_DELTA_TIME_MS) {\n                toRemove.push(modelUrl);\n            }\n        }\n        for (const e of toRemove) {\n            this._stopModelSync(e);\n        }\n    }\n    _beginModelSync(resource, forceLargeModels) {\n        const model = this._modelService.getModel(resource);\n        if (!model) {\n            return;\n        }\n        if (!forceLargeModels && model.isTooLargeForSyncing()) {\n            return;\n        }\n        const modelUrl = resource.toString();\n        this._proxy.acceptNewModel({\n            url: model.uri.toString(),\n            lines: model.getLinesContent(),\n            EOL: model.getEOL(),\n            versionId: model.getVersionId()\n        });\n        const toDispose = new DisposableStore();\n        toDispose.add(model.onDidChangeContent((e) => {\n            this._proxy.acceptModelChanged(modelUrl.toString(), e);\n        }));\n        toDispose.add(model.onWillDispose(() => {\n            this._stopModelSync(modelUrl);\n        }));\n        toDispose.add(toDisposable(() => {\n            this._proxy.acceptRemovedModel(modelUrl);\n        }));\n        this._syncedModels[modelUrl] = toDispose;\n    }\n    _stopModelSync(modelUrl) {\n        const toDispose = this._syncedModels[modelUrl];\n        delete this._syncedModels[modelUrl];\n        delete this._syncedModelsLastUsedTime[modelUrl];\n        dispose(toDispose);\n    }\n}\nclass SynchronousWorkerClient {\n    constructor(instance) {\n        this._instance = instance;\n        this._proxyObj = Promise.resolve(this._instance);\n    }\n    dispose() {\n        this._instance.dispose();\n    }\n    getProxyObject() {\n        return this._proxyObj;\n    }\n}\nexport class EditorWorkerHost {\n    constructor(workerClient) {\n        this._workerClient = workerClient;\n    }\n    // foreign host request\n    fhr(method, args) {\n        return this._workerClient.fhr(method, args);\n    }\n}\nexport class EditorWorkerClient extends Disposable {\n    constructor(modelService, keepIdleModels, label, languageConfigurationService) {\n        super();\n        this.languageConfigurationService = languageConfigurationService;\n        this._disposed = false;\n        this._modelService = modelService;\n        this._keepIdleModels = keepIdleModels;\n        this._workerFactory = new DefaultWorkerFactory(label);\n        this._worker = null;\n        this._modelManager = null;\n    }\n    // foreign host request\n    fhr(method, args) {\n        throw new Error(`Not implemented!`);\n    }\n    _getOrCreateWorker() {\n        if (!this._worker) {\n            try {\n                this._worker = this._register(new SimpleWorkerClient(this._workerFactory, 'vs/editor/common/services/editorSimpleWorker', new EditorWorkerHost(this)));\n            }\n            catch (err) {\n                logOnceWebWorkerWarning(err);\n                this._worker = new SynchronousWorkerClient(new EditorSimpleWorker(new EditorWorkerHost(this), null));\n            }\n        }\n        return this._worker;\n    }\n    _getProxy() {\n        return this._getOrCreateWorker().getProxyObject().then(undefined, (err) => {\n            logOnceWebWorkerWarning(err);\n            this._worker = new SynchronousWorkerClient(new EditorSimpleWorker(new EditorWorkerHost(this), null));\n            return this._getOrCreateWorker().getProxyObject();\n        });\n    }\n    _getOrCreateModelManager(proxy) {\n        if (!this._modelManager) {\n            this._modelManager = this._register(new EditorModelManager(proxy, this._modelService, this._keepIdleModels));\n        }\n        return this._modelManager;\n    }\n    _withSyncedResources(resources, forceLargeModels = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._disposed) {\n                return Promise.reject(canceled());\n            }\n            return this._getProxy().then((proxy) => {\n                this._getOrCreateModelManager(proxy).ensureSyncedResources(resources, forceLargeModels);\n                return proxy;\n            });\n        });\n    }\n    computedUnicodeHighlights(uri, options, range) {\n        return this._withSyncedResources([uri]).then(proxy => {\n            return proxy.computeUnicodeHighlights(uri.toString(), options, range);\n        });\n    }\n    computeDiff(original, modified, options, algorithm) {\n        return this._withSyncedResources([original, modified], /* forceLargeModels */ true).then(proxy => {\n            return proxy.computeDiff(original.toString(), modified.toString(), options, algorithm);\n        });\n    }\n    computeMoreMinimalEdits(resource, edits) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            return proxy.computeMoreMinimalEdits(resource.toString(), edits);\n        });\n    }\n    computeLinks(resource) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            return proxy.computeLinks(resource.toString());\n        });\n    }\n    textualSuggest(resources, leadingWord, wordDefRegExp) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const proxy = yield this._withSyncedResources(resources);\n            const wordDef = wordDefRegExp.source;\n            const wordDefFlags = regExpFlags(wordDefRegExp);\n            return proxy.textualSuggest(resources.map(r => r.toString()), leadingWord, wordDef, wordDefFlags);\n        });\n    }\n    computeWordRanges(resource, range) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            const model = this._modelService.getModel(resource);\n            if (!model) {\n                return Promise.resolve(null);\n            }\n            const wordDefRegExp = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n            const wordDef = wordDefRegExp.source;\n            const wordDefFlags = regExpFlags(wordDefRegExp);\n            return proxy.computeWordRanges(resource.toString(), range, wordDef, wordDefFlags);\n        });\n    }\n    navigateValueSet(resource, range, up) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            const model = this._modelService.getModel(resource);\n            if (!model) {\n                return null;\n            }\n            const wordDefRegExp = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n            const wordDef = wordDefRegExp.source;\n            const wordDefFlags = regExpFlags(wordDefRegExp);\n            return proxy.navigateValueSet(resource.toString(), range, up, wordDef, wordDefFlags);\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._disposed = true;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { IMarkerDecorationsService } from '../../common/services/markerDecorations.js';\nimport { registerEditorContribution } from '../editorExtensions.js';\nlet MarkerDecorationsContribution = class MarkerDecorationsContribution {\n    constructor(_editor, _markerDecorationsService) {\n        // Doesn't do anything, just requires `IMarkerDecorationsService` to make sure it gets instantiated\n    }\n    dispose() {\n    }\n};\nMarkerDecorationsContribution.ID = 'editor.contrib.markerDecorations';\nMarkerDecorationsContribution = __decorate([\n    __param(1, IMarkerDecorationsService)\n], MarkerDecorationsContribution);\nexport { MarkerDecorationsContribution };\nregisterEditorContribution(MarkerDecorationsContribution.ID, MarkerDecorationsContribution, 0 /* EditorContributionInstantiation.Eager */); // eager because it instantiates IMarkerDecorationsService which is responsible for rendering squiggles\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { parse } from '../../../base/common/marshalling.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { normalizePath } from '../../../base/common/resources.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { ICodeEditorService } from './codeEditorService.js';\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\nimport { EditorOpenSource } from '../../../platform/editor/common/editor.js';\nimport { extractSelection, matchesScheme, matchesSomeScheme } from '../../../platform/opener/common/opener.js';\nlet CommandOpener = class CommandOpener {\n    constructor(_commandService) {\n        this._commandService = _commandService;\n    }\n    open(target, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!matchesScheme(target, Schemas.command)) {\n                return false;\n            }\n            if (!(options === null || options === void 0 ? void 0 : options.allowCommands)) {\n                // silently ignore commands when command-links are disabled, also\n                // suppress other openers by returning TRUE\n                return true;\n            }\n            if (typeof target === 'string') {\n                target = URI.parse(target);\n            }\n            if (Array.isArray(options.allowCommands)) {\n                // Only allow specific commands\n                if (!options.allowCommands.includes(target.path)) {\n                    // Suppress other openers by returning TRUE\n                    return true;\n                }\n            }\n            // execute as command\n            let args = [];\n            try {\n                args = parse(decodeURIComponent(target.query));\n            }\n            catch (_a) {\n                // ignore and retry\n                try {\n                    args = parse(target.query);\n                }\n                catch (_b) {\n                    // ignore error\n                }\n            }\n            if (!Array.isArray(args)) {\n                args = [args];\n            }\n            yield this._commandService.executeCommand(target.path, ...args);\n            return true;\n        });\n    }\n};\nCommandOpener = __decorate([\n    __param(0, ICommandService)\n], CommandOpener);\nlet EditorOpener = class EditorOpener {\n    constructor(_editorService) {\n        this._editorService = _editorService;\n    }\n    open(target, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof target === 'string') {\n                target = URI.parse(target);\n            }\n            const { selection, uri } = extractSelection(target);\n            target = uri;\n            if (target.scheme === Schemas.file) {\n                target = normalizePath(target); // workaround for non-normalized paths (https://github.com/microsoft/vscode/issues/12954)\n            }\n            yield this._editorService.openCodeEditor({\n                resource: target,\n                options: Object.assign({ selection, source: (options === null || options === void 0 ? void 0 : options.fromUserGesture) ? EditorOpenSource.USER : EditorOpenSource.API }, options === null || options === void 0 ? void 0 : options.editorOptions)\n            }, this._editorService.getFocusedCodeEditor(), options === null || options === void 0 ? void 0 : options.openToSide);\n            return true;\n        });\n    }\n};\nEditorOpener = __decorate([\n    __param(0, ICodeEditorService)\n], EditorOpener);\nlet OpenerService = class OpenerService {\n    constructor(editorService, commandService) {\n        this._openers = new LinkedList();\n        this._validators = new LinkedList();\n        this._resolvers = new LinkedList();\n        this._resolvedUriTargets = new ResourceMap(uri => uri.with({ path: null, fragment: null, query: null }).toString());\n        this._externalOpeners = new LinkedList();\n        // Default external opener is going through window.open()\n        this._defaultExternalOpener = {\n            openExternal: (href) => __awaiter(this, void 0, void 0, function* () {\n                // ensure to open HTTP/HTTPS links into new windows\n                // to not trigger a navigation. Any other link is\n                // safe to be set as HREF to prevent a blank window\n                // from opening.\n                if (matchesSomeScheme(href, Schemas.http, Schemas.https)) {\n                    dom.windowOpenNoOpener(href);\n                }\n                else {\n                    window.location.href = href;\n                }\n                return true;\n            })\n        };\n        // Default opener: any external, maito, http(s), command, and catch-all-editors\n        this._openers.push({\n            open: (target, options) => __awaiter(this, void 0, void 0, function* () {\n                if ((options === null || options === void 0 ? void 0 : options.openExternal) || matchesSomeScheme(target, Schemas.mailto, Schemas.http, Schemas.https, Schemas.vsls)) {\n                    // open externally\n                    yield this._doOpenExternal(target, options);\n                    return true;\n                }\n                return false;\n            })\n        });\n        this._openers.push(new CommandOpener(commandService));\n        this._openers.push(new EditorOpener(editorService));\n    }\n    open(target, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            // check with contributed validators\n            const targetURI = typeof target === 'string' ? URI.parse(target) : target;\n            // validate against the original URI that this URI resolves to, if one exists\n            const validationTarget = (_a = this._resolvedUriTargets.get(targetURI)) !== null && _a !== void 0 ? _a : target;\n            for (const validator of this._validators) {\n                if (!(yield validator.shouldOpen(validationTarget, options))) {\n                    return false;\n                }\n            }\n            // check with contributed openers\n            for (const opener of this._openers) {\n                const handled = yield opener.open(target, options);\n                if (handled) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    }\n    resolveExternalUri(resource, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const resolver of this._resolvers) {\n                try {\n                    const result = yield resolver.resolveExternalUri(resource, options);\n                    if (result) {\n                        if (!this._resolvedUriTargets.has(result.resolved)) {\n                            this._resolvedUriTargets.set(result.resolved, resource);\n                        }\n                        return result;\n                    }\n                }\n                catch (_a) {\n                    // noop\n                }\n            }\n            throw new Error('Could not resolve external URI: ' + resource.toString());\n        });\n    }\n    _doOpenExternal(resource, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //todo@jrieken IExternalUriResolver should support `uri: URI | string`\n            const uri = typeof resource === 'string' ? URI.parse(resource) : resource;\n            let externalUri;\n            try {\n                externalUri = (yield this.resolveExternalUri(uri, options)).resolved;\n            }\n            catch (_a) {\n                externalUri = uri;\n            }\n            let href;\n            if (typeof resource === 'string' && uri.toString() === externalUri.toString()) {\n                // open the url-string AS IS\n                href = resource;\n            }\n            else {\n                // open URI using the toString(noEncode)+encodeURI-trick\n                href = encodeURI(externalUri.toString(true));\n            }\n            if (options === null || options === void 0 ? void 0 : options.allowContributedOpeners) {\n                const preferredOpenerId = typeof (options === null || options === void 0 ? void 0 : options.allowContributedOpeners) === 'string' ? options === null || options === void 0 ? void 0 : options.allowContributedOpeners : undefined;\n                for (const opener of this._externalOpeners) {\n                    const didOpen = yield opener.openExternal(href, {\n                        sourceUri: uri,\n                        preferredOpenerId,\n                    }, CancellationToken.None);\n                    if (didOpen) {\n                        return true;\n                    }\n                }\n            }\n            return this._defaultExternalOpener.openExternal(href, { sourceUri: uri }, CancellationToken.None);\n        });\n    }\n    dispose() {\n        this._validators.clear();\n    }\n};\nOpenerService = __decorate([\n    __param(0, ICodeEditorService),\n    __param(1, ICommandService)\n], OpenerService);\nexport { OpenerService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getAllMethodNames } from '../../../base/common/objects.js';\nimport { EditorWorkerClient } from './editorWorkerService.js';\n/**\n * Create a new web worker that has model syncing capabilities built in.\n * Specify an AMD module to load that will `create` an object that will be proxied.\n */\nexport function createWebWorker(modelService, languageConfigurationService, opts) {\n    return new MonacoWebWorkerImpl(modelService, languageConfigurationService, opts);\n}\nclass MonacoWebWorkerImpl extends EditorWorkerClient {\n    constructor(modelService, languageConfigurationService, opts) {\n        super(modelService, opts.keepIdleModels || false, opts.label, languageConfigurationService);\n        this._foreignModuleId = opts.moduleId;\n        this._foreignModuleCreateData = opts.createData || null;\n        this._foreignModuleHost = opts.host || null;\n        this._foreignProxy = null;\n    }\n    // foreign host request\n    fhr(method, args) {\n        if (!this._foreignModuleHost || typeof this._foreignModuleHost[method] !== 'function') {\n            return Promise.reject(new Error('Missing method ' + method + ' or missing main thread foreign host.'));\n        }\n        try {\n            return Promise.resolve(this._foreignModuleHost[method].apply(this._foreignModuleHost, args));\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n    }\n    _getForeignProxy() {\n        if (!this._foreignProxy) {\n            this._foreignProxy = this._getProxy().then((proxy) => {\n                const foreignHostMethods = this._foreignModuleHost ? getAllMethodNames(this._foreignModuleHost) : [];\n                return proxy.loadForeignModule(this._foreignModuleId, this._foreignModuleCreateData, foreignHostMethods).then((foreignMethods) => {\n                    this._foreignModuleCreateData = null;\n                    const proxyMethodRequest = (method, args) => {\n                        return proxy.fmr(method, args);\n                    };\n                    const createProxyMethod = (method, proxyMethodRequest) => {\n                        return function () {\n                            const args = Array.prototype.slice.call(arguments, 0);\n                            return proxyMethodRequest(method, args);\n                        };\n                    };\n                    const foreignProxy = {};\n                    for (const foreignMethod of foreignMethods) {\n                        foreignProxy[foreignMethod] = createProxyMethod(foreignMethod, proxyMethodRequest);\n                    }\n                    return foreignProxy;\n                });\n            });\n        }\n        return this._foreignProxy;\n    }\n    getProxy() {\n        return this._getForeignProxy();\n    }\n    withSyncedResources(resources) {\n        return this._withSyncedResources(resources).then(_ => this.getProxy());\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class StableEditorScrollState {\n    static capture(editor) {\n        let visiblePosition = null;\n        let visiblePositionScrollDelta = 0;\n        if (editor.getScrollTop() !== 0) {\n            const visibleRanges = editor.getVisibleRanges();\n            if (visibleRanges.length > 0) {\n                visiblePosition = visibleRanges[0].getStartPosition();\n                const visiblePositionScrollTop = editor.getTopForPosition(visiblePosition.lineNumber, visiblePosition.column);\n                visiblePositionScrollDelta = editor.getScrollTop() - visiblePositionScrollTop;\n            }\n        }\n        return new StableEditorScrollState(visiblePosition, visiblePositionScrollDelta, editor.getPosition());\n    }\n    constructor(_visiblePosition, _visiblePositionScrollDelta, _cursorPosition) {\n        this._visiblePosition = _visiblePosition;\n        this._visiblePositionScrollDelta = _visiblePositionScrollDelta;\n        this._cursorPosition = _cursorPosition;\n    }\n    restore(editor) {\n        if (this._visiblePosition) {\n            const visiblePositionScrollTop = editor.getTopForPosition(this._visiblePosition.lineNumber, this._visiblePosition.column);\n            editor.setScrollTop(visiblePositionScrollTop + this._visiblePositionScrollDelta);\n        }\n    }\n    restoreRelativeVerticalPositionOfCursor(editor) {\n        const currentCursorPosition = editor.getPosition();\n        if (!this._cursorPosition || !currentCursorPosition) {\n            return;\n        }\n        const offset = editor.getTopForLineNumber(currentCursorPosition.lineNumber) - editor.getTopForLineNumber(this._cursorPosition.lineNumber);\n        editor.setScrollTop(editor.getScrollTop() + offset);\n    }\n}\n"],"names":["isCodeEditor","thing","getEditorType","editorCommon","isDiffEditor","getCodeEditor","getModifiedEditor","onDidChangeActiveEditor","isCompositeEditor","activeCodeEditor","PageCoordinates","x","y","_classCallCheck","this","_pageCoordinatesBrand","undefined","_createClass","key","value","ClientCoordinates","window","scrollX","scrollY","clientX","clientY","_clientCoordinatesBrand","EditorPagePosition","width","height","_editorPagePositionBrand","CoordinatesRelativeToEditor","_positionRelativeToEditorBrand","createEditorPagePosition","editorViewDomNode","editorPos","dom","left","top","createCoordinatesRelativeToEditor","editorPagePosition","pos","scaleX","offsetWidth","scaleY","offsetHeight","relativeX","relativeY","EditorMouseEvent","_StandardMouseEvent","_inherits","_super","_createSuper","e","isFromPointerCapture","_this","call","_editorMouseEventBrand","posx","posy","relativePos","StandardMouseEvent","EditorMouseEventFactory","_editorViewDomNode","target","callback","_this2","_create","_this3","_this4","_this5","pointerId","_this6","_this7","EditorPointerEventFactory","_this8","_this9","_this10","_this11","GlobalEditorPointerMoveMonitor","_Disposable","_super2","_this12","_globalPointerMoveMonitor","_register","GlobalPointerMoveMonitor","_keydownListener","initialElement","initialButtons","pointerMoveCallback","onStopCallback","_this13","document","toKeyCodeChord","isModifierKey","stopMonitoring","browserEvent","startMonitoring","dispose","Disposable","DynamicCssRules","_editor","_this14","_instanceId","_idPool","_counter","_rules","Map","_garbageCollectionScheduler","RunOnceScheduler","garbageCollect","options","_this15","rule","getOrCreateRule","increaseRefCount","className","decreaseRefCount","schedule","properties","computeUniqueKey","existingRule","get","counter","RefCountedCssRule","concat","getContainerDomNode","set","JSON","stringify","_step","_iterator","_createForOfIteratorHelper","values","s","n","done","hasReferences","delete","err","f","_containerElement","_referenceCount","_styleElement","textContent","getCssText","str","prop","cssValue","asCssVariable","id","cssPropName","camelToDashes","remove","replace","_ref","_slicedToArray","toLowerCase","_ref3","letter","EditorExtensionsRegistry","Command","opts","precondition","_kbOpts","kbOpts","_menuOpts","menuOpts","_description","description","Array","isArray","forEach","_registerMenuItem","kbOptsArr","kbWhen","kbExpr","ContextKeyExpr","desc","weight","args","when","primary","secondary","win","linux","mac","KeybindingsRegistry","CommandsRegistry","handler","accessor","runCommand","item","MenuRegistry","menuId","group","command","title","icon","order","MultiCommand","_Command","apply","arguments","_implementations","priority","name","implementation","push","sort","a","b","i","length","splice","logService","ILogService","trace","_step2","_iterator2","impl","result","ProxyCommand","_Command2","EditorCommand","_Command3","_super3","runEditorCommand","editor","controllerGetter","_EditorCommand","EditorControllerCommandImpl","_super4","_callback","controller","runner","codeEditorService","ICodeEditorService","getFocusedCodeEditor","getActiveCodeEditor","invokeWithinContext","editorAccessor","IContextKeyService","contextMatchesRules","withNullAsUndefined","EditorAction","_EditorCommand2","_super5","convertOptions","label","alias","reportTelemetry","run","ITelemetryService","publicLog2","withDefaults","MenuId","contextMenuOpts","_toConsumableArray","map","MultiEditorAction","_EditorAction","_super6","_step3","_iterator3","EditorAction2","_Action","_super7","_len","_key","Action2","registerModelAndPositionCommand","_len2","_key2","instaService","IInstantiationService","resource","position","assertType","URI","Position","model","IModelService","getModel","editorPosition","invokeFunction","slice","ITextModelService","createModelReference","then","reference","Promise","resolve","reject","object","textEditorModel","finally","registerEditorCommand","editorCommand","EditorContributionRegistry","INSTANCE","registerEditorAction","ctor","action","registerMultiEditorAction","registerInstantiatedEditorAction","editorAction","registerEditorContribution","instantiation","getEditorCommand","commandId","getEditorActions","getEditorContributions","getSomeEditorContributions","ids","filter","c","indexOf","getDiffEditorContributions","editorContributions","diffEditorContributions","editorActions","editorCommands","Object","create","register","registerCommand","Registry","UndoCommand","nls","comment","RedoCommand","SelectAllCommand","__decorate","decorators","d","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","AbstractCodeEditorService","_themeService","_onWillCreateCodeEditor","Emitter","_onCodeEditorAdd","onCodeEditorAdd","event","_onCodeEditorRemove","onCodeEditorRemove","_onWillCreateDiffEditor","_onDiffEditorAdd","onDiffEditorAdd","_onDiffEditorRemove","onDiffEditorRemove","_decorationOptionProviders","_codeEditorOpenHandlers","LinkedList","_modelProperties","_codeEditors","_diffEditors","_globalStyleSheet","fire","getId","keys","editorWithWidgetFocus","editors","listCodeEditors","hasTextFocus","hasWidgetFocus","provider","refCount","ed","removeDecorationsByType","dest","key1","toString","has","input","source","sideBySide","_regeneratorRuntime","mark","_callee","candidate","wrap","_context","prev","sent","abrupt","t0","finish","stop","rm","unshift","toDisposable","IThemeService","IBulkEditService","createDecorator","ResourceEdit","metadata","edit","edits","ResourceTextEdit","is","lift","ResourceFileEdit","Error","_ResourceEdit","textEdit","versionId","isObject","_ResourceEdit2","oldResource","newResource","Boolean","STOP_WORKER_DELTA_TIME_MS","canSyncModel","modelService","isTooLargeForSyncing","EditorWorkerService","configurationService","languageConfigurationService","languageFeaturesService","_modelService","_workerManager","WorkerManager","_logService","linkProvider","language","hasAccessToAllModels","provideLinks","token","uri","withWorker","client","computeLinks","links","completionProvider","WordBasedCompletionItemProvider","_get","_getPrototypeOf","prototype","range","computedUnicodeHighlights","original","modified","algorithm","diff","computeDiff","identical","quitEarly","changes","_a","LineRangeMapping","LineRange","RangeMapping","Range","isNonEmptyArray","sw","StopWatch","computeMoreMinimalEdits","elapsed","race","timeout","up","navigateValueSet","computeWordRanges","ITextResourceConfigurationService","ILanguageConfigurationService","ILanguageFeaturesService","workerManager","_debugDisplayName","_configurationService","_callee2","config","models","wordDefRegExp","word","insert","data","_context2","getValue","wordBasedSuggestions","wordBasedSuggestionsMode","getModels","getLanguageId","getLanguageConfiguration","getWordDefinition","getWordAtPosition","lineNumber","startColumn","endColumn","setEndPosition","column","textualSuggest","duration","suggestions","words","kind","insertText","_Disposable2","_editorWorkerClient","_lastWorkerUsedTime","Date","getTime","IntervalTimer","cancelAndSet","_checkStopIdleWorker","Math","round","onModelRemoved","_","_checkStopEmptyWorker","EditorWorkerClient","EditorModelManager","_Disposable3","proxy","keepIdleModels","_syncedModels","_syncedModelsLastUsedTime","_proxy","timer","_checkStopModelSync","STOP_SYNC_MODEL_DELTA_TIME_MS","modelUrl","resources","forceLargeModels","resourceStr","_beginModelSync","currentTime","toRemove","_i","_toRemove","_stopModelSync","acceptNewModel","url","lines","getLinesContent","EOL","getEOL","getVersionId","toDispose","DisposableStore","add","onDidChangeContent","acceptModelChanged","onWillDispose","acceptRemovedModel","SynchronousWorkerClient","instance","_instance","_proxyObj","EditorWorkerHost","workerClient","_workerClient","method","fhr","_Disposable4","_disposed","_keepIdleModels","_workerFactory","DefaultWorkerFactory","_worker","_modelManager","SimpleWorkerClient","logOnceWebWorkerWarning","EditorSimpleWorker","_getOrCreateWorker","getProxyObject","_callee3","_context3","canceled","_getProxy","_getOrCreateModelManager","ensureSyncedResources","_withSyncedResources","computeUnicodeHighlights","leadingWord","_callee4","wordDef","wordDefFlags","_context4","regExpFlags","MarkerDecorationsContribution","_markerDecorationsService","ID","IMarkerDecorationsService","CommandOpener","_commandService","_this$_commandService","matchesScheme","Schemas","allowCommands","includes","path","parse","decodeURIComponent","query","_b","executeCommand","ICommandService","EditorOpener","_editorService","_extractSelection","selection","extractSelection","scheme","normalizePath","openCodeEditor","assign","fromUserGesture","EditorOpenSource","editorOptions","openToSide","OpenerService","editorService","commandService","_openers","_validators","_resolvers","_resolvedUriTargets","ResourceMap","with","fragment","_externalOpeners","_defaultExternalOpener","openExternal","href","matchesSomeScheme","location","open","_doOpenExternal","_callee5","targetURI","validationTarget","validator","opener","_context5","shouldOpen","t1","_callee6","resolver","_context6","resolveExternalUri","resolved","_callee7","externalUri","preferredOpenerId","_iterator4","_step4","_context7","encodeURI","allowContributedOpeners","sourceUri","CancellationToken","clear","createWebWorker","MonacoWebWorkerImpl","_EditorWorkerClient","_foreignModuleId","moduleId","_foreignModuleCreateData","createData","_foreignModuleHost","host","_foreignProxy","foreignHostMethods","getAllMethodNames","loadForeignModule","foreignMethods","proxyMethodRequest","fmr","createProxyMethod","foreignProxy","foreignMethod","_getForeignProxy","getProxy","StableEditorScrollState","_visiblePosition","_visiblePositionScrollDelta","_cursorPosition","visiblePositionScrollTop","getTopForPosition","setScrollTop","currentCursorPosition","getPosition","offset","getTopForLineNumber","getScrollTop","visiblePosition","visiblePositionScrollDelta","visibleRanges","getVisibleRanges","getStartPosition"],"sourceRoot":""}