"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[666],{76310:function(e,i,t){t.d(i,{CH:function(){return c},CR:function(){return u},D4:function(){return h},u7:function(){return d},xh:function(){return s},yu:function(){return l}});var n=t(60136),o=t(27277),r=t(15671),a=t(43144),s=function(e){(0,n.Z)(t,e);var i=(0,o.Z)(t);function t(e,n,o){var a;return(0,r.Z)(this,t),(a=i.call(this,e,n))._renderingContextBrand=void 0,a._viewLines=o,a}return(0,a.Z)(t,[{key:"linesVisibleRangesForRange",value:function(e,i){return this._viewLines.linesVisibleRangesForRange(e,i)}},{key:"visibleRangeForPosition",value:function(e){return this._viewLines.visibleRangeForPosition(e)}}]),t}(function(){function e(i,t){(0,r.Z)(this,e),this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}return(0,a.Z)(e,[{key:"getScrolledTopFromAbsoluteTop",value:function(e){return e-this.scrollTop}},{key:"getVerticalOffsetForLineNumber",value:function(e,i){return this._viewLayout.getVerticalOffsetForLineNumber(e,i)}},{key:"getVerticalOffsetAfterLineNumber",value:function(e,i){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,i)}},{key:"getDecorationsInViewport",value:function(){return this.viewportData.getDecorationsInViewport()}}]),e}()),d=(0,a.Z)((function e(i,t,n){(0,r.Z)(this,e),this.outsideRenderedLine=i,this.lineNumber=t,this.ranges=n})),l=function(){function e(i,t){(0,r.Z)(this,e),this._horizontalRangeBrand=void 0,this.left=Math.round(i),this.width=Math.round(t)}return(0,a.Z)(e,[{key:"toString",value:function(){return"[".concat(this.left,",").concat(this.width,"]")}}],[{key:"from",value:function(i){for(var t=new Array(i.length),n=0,o=i.length;n<o;n++){var r=i[n];t[n]=new e(r.left,r.width)}return t}}]),e}(),u=function(){function e(i,t){(0,r.Z)(this,e),this._floatHorizontalRangeBrand=void 0,this.left=i,this.width=t}return(0,a.Z)(e,[{key:"toString",value:function(){return"[".concat(this.left,",").concat(this.width,"]")}}],[{key:"compare",value:function(e,i){return e.left-i.left}}]),e}(),h=(0,a.Z)((function e(i,t){(0,r.Z)(this,e),this.outsideRenderedLine=i,this.originalLeft=t,this.left=Math.round(this.originalLeft)})),c=(0,a.Z)((function e(i,t){(0,r.Z)(this,e),this.outsideRenderedLine=i,this.ranges=t}))},56580:function(e,i,t){t.d(i,{N:function(){return d}});var n=t(15671),o=t(43144),r=t(23605),a=t(10849),s=t(4827),d=function(){function e(i,t,o,r){(0,n.Z)(this,e),this.configuration=i,this.viewModel=t,this.userInputEvents=o,this.commandDelegate=r}return(0,o.Z)(e,[{key:"paste",value:function(e,i,t,n){this.commandDelegate.paste(e,i,t,n)}},{key:"type",value:function(e){this.commandDelegate.type(e)}},{key:"compositionType",value:function(e,i,t,n){this.commandDelegate.compositionType(e,i,t,n)}},{key:"compositionStart",value:function(){this.commandDelegate.startComposition()}},{key:"compositionEnd",value:function(){this.commandDelegate.endComposition()}},{key:"cut",value:function(){this.commandDelegate.cut()}},{key:"setSelection",value:function(e){r.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}},{key:"_validateViewColumn",value:function(e){var i=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<i?new a.L(e.lineNumber,i):e}},{key:"_hasMulticursorModifier",value:function(e){switch(this.configuration.options.get(74)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}},{key:"_hasNonMulticursorModifier",value:function(e){switch(this.configuration.options.get(74)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}},{key:"dispatchMouse",value:function(e){var i=this.configuration.options,t=s.IJ&&i.get(101),n=i.get(19);e.middleButton&&!t?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):2===e.mouseDownCount?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}},{key:"_usualArgs",value:function(e,i){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:i}}},{key:"moveTo",value:function(e,i){r.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_moveToSelect",value:function(e,i){r.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_columnSelect",value:function(e,i,t){e=this._validateViewColumn(e),r.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:i,doColumnSelect:t})}},{key:"_createCursor",value:function(e,i){e=this._validateViewColumn(e),r.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:i})}},{key:"_lastCursorMoveToSelect",value:function(e,i){r.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_wordSelect",value:function(e,i){r.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_wordSelectDrag",value:function(e,i){r.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_lastCursorWordSelect",value:function(e,i){r.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_lineSelect",value:function(e,i){r.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_lineSelectDrag",value:function(e,i){r.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_lastCursorLineSelect",value:function(e,i){r.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_lastCursorLineSelectDrag",value:function(e,i){r.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,i))}},{key:"_selectAll",value:function(){r.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}},{key:"_convertViewToModelPosition",value:function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}},{key:"emitKeyDown",value:function(e){this.userInputEvents.emitKeyDown(e)}},{key:"emitKeyUp",value:function(e){this.userInputEvents.emitKeyUp(e)}},{key:"emitContextMenu",value:function(e){this.userInputEvents.emitContextMenu(e)}},{key:"emitMouseMove",value:function(e){this.userInputEvents.emitMouseMove(e)}},{key:"emitMouseLeave",value:function(e){this.userInputEvents.emitMouseLeave(e)}},{key:"emitMouseUp",value:function(e){this.userInputEvents.emitMouseUp(e)}},{key:"emitMouseDown",value:function(e){this.userInputEvents.emitMouseDown(e)}},{key:"emitMouseDrag",value:function(e){this.userInputEvents.emitMouseDrag(e)}},{key:"emitMouseDrop",value:function(e){this.userInputEvents.emitMouseDrop(e)}},{key:"emitMouseDropCanceled",value:function(){this.userInputEvents.emitMouseDropCanceled()}},{key:"emitMouseWheel",value:function(e){this.userInputEvents.emitMouseWheel(e)}}]),e}()},87405:function(e,i,t){t.d(i,{F:function(){return d},G:function(){return l}});var n,o=t(15671),r=t(43144),a=t(16688),s=t(63633),d=function(){function e(i){(0,o.Z)(this,e),this._createLine=i,this._set(1,[])}return(0,r.Z)(e,[{key:"flush",value:function(){this._set(1,[])}},{key:"_set",value:function(e,i){this._lines=i,this._rendLineNumberStart=e}},{key:"_get",value:function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}},{key:"getStartLineNumber",value:function(){return this._rendLineNumberStart}},{key:"getEndLineNumber",value:function(){return this._rendLineNumberStart+this._lines.length-1}},{key:"getCount",value:function(){return this._lines.length}},{key:"getLine",value:function(e){var i=e-this._rendLineNumberStart;if(i<0||i>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[i]}},{key:"onLinesDeleted",value:function(e,i){if(0===this.getCount())return null;var t=this.getStartLineNumber(),n=this.getEndLineNumber();if(i<t){var o=i-e+1;return this._rendLineNumberStart-=o,null}if(e>n)return null;for(var r=0,a=0,s=t;s<=n;s++){var d=s-this._rendLineNumberStart;e<=s&&s<=i&&(0===a?(r=d,a=1):a++)}if(e<t){var l=0;l=i<t?i-e+1:t-e,this._rendLineNumberStart-=l}return this._lines.splice(r,a)}},{key:"onLinesChanged",value:function(e,i){var t=e+i-1;if(0===this.getCount())return!1;for(var n=this.getStartLineNumber(),o=this.getEndLineNumber(),r=!1,a=e;a<=t;a++)a>=n&&a<=o&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),r=!0);return r}},{key:"onLinesInserted",value:function(e,i){if(0===this.getCount())return null;var t=i-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=t,null;if(e>o)return null;if(t+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);for(var r=[],a=0;a<t;a++)r[a]=this._createLine();var s=e-this._rendLineNumberStart,d=this._lines.slice(0,s),l=this._lines.slice(s,this._lines.length-t),u=this._lines.slice(this._lines.length-t,this._lines.length);return this._lines=d.concat(r).concat(l),u}},{key:"onTokensChanged",value:function(e){if(0===this.getCount())return!1;for(var i=this.getStartLineNumber(),t=this.getEndLineNumber(),n=!1,o=0,r=e.length;o<r;o++){var a=e[o];if(!(a.toLineNumber<i||a.fromLineNumber>t))for(var s=Math.max(i,a.fromLineNumber),d=Math.min(t,a.toLineNumber),l=s;l<=d;l++){var u=l-this._rendLineNumberStart;this._lines[u].onTokensChanged(),n=!0}}return n}}]),e}(),l=function(){function e(i){var t=this;(0,o.Z)(this,e),this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new d((function(){return t._host.createVisibleLine()}))}return(0,r.Z)(e,[{key:"_createDomNode",value:function(){var e=(0,a.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}},{key:"onConfigurationChanged",value:function(e){return!!e.hasChanged(138)}},{key:"onFlushed",value:function(e){return this._linesCollection.flush(),!0}},{key:"onLinesChanged",value:function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}},{key:"onLinesDeleted",value:function(e){var i=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(i)for(var t=0,n=i.length;t<n;t++){var o=i[t].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}},{key:"onLinesInserted",value:function(e){var i=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(i)for(var t=0,n=i.length;t<n;t++){var o=i[t].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}},{key:"onScrollChanged",value:function(e){return e.scrollTopChanged}},{key:"onTokensChanged",value:function(e){return this._linesCollection.onTokensChanged(e.ranges)}},{key:"onZonesChanged",value:function(e){return!0}},{key:"getStartLineNumber",value:function(){return this._linesCollection.getStartLineNumber()}},{key:"getEndLineNumber",value:function(){return this._linesCollection.getEndLineNumber()}},{key:"getVisibleLine",value:function(e){return this._linesCollection.getLine(e)}},{key:"renderLines",value:function(e){var i=this._linesCollection._get(),t=new u(this.domNode.domNode,this._host,e),n={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines,linesLength:i.lines.length},o=t.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}]),e}(),u=function(){function e(i,t,n){(0,o.Z)(this,e),this.domNode=i,this.host=t,this.viewportData=n}return(0,r.Z)(e,[{key:"render",value:function(e,i,t,n){var o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<i||t<o.rendLineNumberStart){o.rendLineNumberStart=i,o.linesLength=t-i+1,o.lines=[];for(var r=i;r<=t;r++)o.lines[r-i]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(i-o.rendLineNumberStart,0),Math.min(t-o.rendLineNumberStart,o.linesLength-1),n,i),o.rendLineNumberStart>i){var a=i,s=Math.min(t,o.rendLineNumberStart-1);a<=s&&(this._insertLinesBefore(o,a,s,n,i),o.linesLength+=s-a+1)}else if(o.rendLineNumberStart<i){var d=Math.min(o.linesLength,i-o.rendLineNumberStart);d>0&&(this._removeLinesBefore(o,d),o.linesLength-=d)}if(o.rendLineNumberStart=i,o.rendLineNumberStart+o.linesLength-1<t){var l=o.rendLineNumberStart+o.linesLength,u=t;l<=u&&(this._insertLinesAfter(o,l,u,n,i),o.linesLength+=u-l+1)}else if(o.rendLineNumberStart+o.linesLength-1>t){var h=Math.max(0,t-o.rendLineNumberStart+1),c=o.linesLength-1-h+1;c>0&&(this._removeLinesAfter(o,c),o.linesLength-=c)}return this._finishRendering(o,!1,n),o}},{key:"_renderUntouchedLines",value:function(e,i,t,n,o){for(var r=e.rendLineNumberStart,a=e.lines,s=i;s<=t;s++){var d=r+s;a[s].layoutLine(d,n[d-o])}}},{key:"_insertLinesBefore",value:function(e,i,t,n,o){for(var r=[],a=0,s=i;s<=t;s++)r[a++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}},{key:"_removeLinesBefore",value:function(e,i){for(var t=0;t<i;t++){var n=e.lines[t].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(0,i)}},{key:"_insertLinesAfter",value:function(e,i,t,n,o){for(var r=[],a=0,s=i;s<=t;s++)r[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}},{key:"_removeLinesAfter",value:function(e,i){for(var t=e.linesLength-i,n=0;n<i;n++){var o=e.lines[t+n].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(t,i)}},{key:"_finishRenderingNewLines",value:function(i,t,n,o){e._ttPolicy&&(n=e._ttPolicy.createHTML(n));var r=this.domNode.lastChild;t||!r?this.domNode.innerHTML=n:r.insertAdjacentHTML("afterend",n);for(var a=this.domNode.lastChild,s=i.linesLength-1;s>=0;s--){var d=i.lines[s];o[s]&&(d.setDomNode(a),a=a.previousSibling)}}},{key:"_finishRenderingInvalidLines",value:function(i,t,n){var o=document.createElement("div");e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),o.innerHTML=t;for(var r=0;r<i.linesLength;r++){var a=i.lines[r];if(n[r]){var s=o.firstChild,d=a.getDomNode();d.parentNode.replaceChild(s,d),a.setDomNode(s)}}}},{key:"_finishRendering",value:function(i,t,n){var o=e._sb,r=i.linesLength,a=i.lines,s=i.rendLineNumberStart,d=[];o.reset();for(var l=!1,u=0;u<r;u++){var h=a[u];if(d[u]=!1,!h.getDomNode())h.renderLine(u+s,n[u],this.viewportData,o)&&(d[u]=!0,l=!0)}l&&this._finishRenderingNewLines(i,t,o.build(),d),o.reset();for(var c=!1,v=[],f=0;f<r;f++){var g=a[f];if(v[f]=!1,!d[f])g.renderLine(f+s,n[f],this.viewportData,o)&&(v[f]=!0,c=!0)}c&&this._finishRenderingInvalidLines(i,o.build(),v)}}]),e}();u._ttPolicy=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("editorViewLayer",{createHTML:function(e){return e}}),u._sb=new s.HT(1e5)},79002:function(e,i,t){t.d(i,{Ib:function(){return m},Ip:function(){return g}});var n=t(15671),o=t(43144),r=t(97326),a=t(11752),s=t(61120),d=t(60136),l=t(27277),u=t(16688),h=t(6815),c=t(87405),v=function(e){(0,d.Z)(t,e);var i=(0,l.Z)(t);function t(e){var o;(0,n.Z)(this,t),(o=i.call(this,e))._visibleLines=new c.G((0,r.Z)(o)),o.domNode=o._visibleLines.domNode;var a=o._context.configuration.options.get(47);return(0,h.N)(o.domNode,a),o._dynamicOverlays=[],o._isFocused=!1,o.domNode.setClassName("view-overlays"),o}return(0,o.Z)(t,[{key:"shouldRender",value:function(){if((0,a.Z)((0,s.Z)(t.prototype),"shouldRender",this).call(this))return!0;for(var e=0,i=this._dynamicOverlays.length;e<i;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}},{key:"dispose",value:function(){(0,a.Z)((0,s.Z)(t.prototype),"dispose",this).call(this);for(var e=0,i=this._dynamicOverlays.length;e<i;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}},{key:"getDomNode",value:function(){return this.domNode}},{key:"createVisibleLine",value:function(){return new f(this._context.configuration,this._dynamicOverlays)}},{key:"addDynamicOverlay",value:function(e){this._dynamicOverlays.push(e)}},{key:"onConfigurationChanged",value:function(e){this._visibleLines.onConfigurationChanged(e);for(var i=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber(),n=i;n<=t;n++){this._visibleLines.getVisibleLine(n).onConfigurationChanged(e)}var o=this._context.configuration.options.get(47);return(0,h.N)(this.domNode,o),!0}},{key:"onFlushed",value:function(e){return this._visibleLines.onFlushed(e)}},{key:"onFocusChanged",value:function(e){return this._isFocused=e.isFocused,!0}},{key:"onLinesChanged",value:function(e){return this._visibleLines.onLinesChanged(e)}},{key:"onLinesDeleted",value:function(e){return this._visibleLines.onLinesDeleted(e)}},{key:"onLinesInserted",value:function(e){return this._visibleLines.onLinesInserted(e)}},{key:"onScrollChanged",value:function(e){return this._visibleLines.onScrollChanged(e)||!0}},{key:"onTokensChanged",value:function(e){return this._visibleLines.onTokensChanged(e)}},{key:"onZonesChanged",value:function(e){return this._visibleLines.onZonesChanged(e)}},{key:"prepareRender",value:function(e){for(var i=this._dynamicOverlays.filter((function(e){return e.shouldRender()})),t=0,n=i.length;t<n;t++){var o=i[t];o.prepareRender(e),o.onDidRender()}}},{key:"render",value:function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}},{key:"_viewOverlaysRender",value:function(e){this._visibleLines.renderLines(e.viewportData)}}]),t}(t(89378).E),f=function(){function e(i,t){(0,n.Z)(this,e),this._configuration=i,this._lineHeight=this._configuration.options.get(63),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return(0,o.Z)(e,[{key:"getDomNode",value:function(){return this._domNode?this._domNode.domNode:null}},{key:"setDomNode",value:function(e){this._domNode=(0,u.X)(e)}},{key:"onContentChanged",value:function(){}},{key:"onTokensChanged",value:function(){}},{key:"onConfigurationChanged",value:function(e){this._lineHeight=this._configuration.options.get(63)}},{key:"renderLine",value:function(e,i,t,n){for(var o="",r=0,a=this._dynamicOverlays.length;r<a;r++){o+=this._dynamicOverlays[r].render(t.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,n.appendString('<div style="position:absolute;top:'),n.appendString(String(i)),n.appendString("px;width:100%;height:"),n.appendString(String(this._lineHeight)),n.appendString('px;">'),n.appendString(o),n.appendString("</div>"),!0)}},{key:"layoutLine",value:function(e,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}]),e}(),g=function(e){(0,d.Z)(t,e);var i=(0,l.Z)(t);function t(e){var o;(0,n.Z)(this,t);var r=(o=i.call(this,e))._context.configuration.options.get(138);return o._contentWidth=r.contentWidth,o.domNode.setHeight(0),o}return(0,o.Z)(t,[{key:"onConfigurationChanged",value:function(e){var i=this._context.configuration.options.get(138);return this._contentWidth=i.contentWidth,(0,a.Z)((0,s.Z)(t.prototype),"onConfigurationChanged",this).call(this,e)||!0}},{key:"onScrollChanged",value:function(e){return(0,a.Z)((0,s.Z)(t.prototype),"onScrollChanged",this).call(this,e)||e.scrollWidthChanged}},{key:"_viewOverlaysRender",value:function(e){(0,a.Z)((0,s.Z)(t.prototype),"_viewOverlaysRender",this).call(this,e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}]),t}(v),m=function(e){(0,d.Z)(t,e);var i=(0,l.Z)(t);function t(e){var o;(0,n.Z)(this,t);var r=(o=i.call(this,e))._context.configuration.options,a=r.get(138);return o._contentLeft=a.contentLeft,o.domNode.setClassName("margin-view-overlays"),o.domNode.setWidth(1),(0,h.N)(o.domNode,r.get(47)),o}return(0,o.Z)(t,[{key:"onConfigurationChanged",value:function(e){var i=this._context.configuration.options;(0,h.N)(this.domNode,i.get(47));var n=i.get(138);return this._contentLeft=n.contentLeft,(0,a.Z)((0,s.Z)(t.prototype),"onConfigurationChanged",this).call(this,e)||!0}},{key:"onScrollChanged",value:function(e){return(0,a.Z)((0,s.Z)(t.prototype),"onScrollChanged",this).call(this,e)||e.scrollHeightChanged}},{key:"_viewOverlaysRender",value:function(e){(0,a.Z)((0,s.Z)(t.prototype),"_viewOverlaysRender",this).call(this,e);var i=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}]),t}(v)},89378:function(e,i,t){t.d(i,{E:function(){return u},K:function(){return h}});var n=t(15671),o=t(43144),r=t(97326),a=t(11752),s=t(61120),d=t(60136),l=t(27277),u=function(e){(0,d.Z)(t,e);var i=(0,l.Z)(t);function t(e){var o;return(0,n.Z)(this,t),(o=i.call(this))._context=e,o._context.addEventHandler((0,r.Z)(o)),o}return(0,o.Z)(t,[{key:"dispose",value:function(){this._context.removeEventHandler(this),(0,a.Z)((0,s.Z)(t.prototype),"dispose",this).call(this)}}]),t}(t(82978).O),h=function(){function e(){(0,n.Z)(this,e)}return(0,o.Z)(e,null,[{key:"write",value:function(e,i){e.setAttribute("data-mprt",String(i))}},{key:"read",value:function(e){var i=e.getAttribute("data-mprt");return null===i?0:parseInt(i,10)}},{key:"collect",value:function(e,i){for(var t=[],n=0;e&&e!==document.body&&e!==i;)e.nodeType===e.ELEMENT_NODE&&(t[n++]=this.read(e)),e=e.parentElement;for(var o=new Uint8Array(n),r=0;r<n;r++)o[r]=t[n-r-1];return o}}]),e}()},57687:function(e,i,t){t.d(i,{q:function(){return r}});var n=t(15671),o=t(43144),r=function(){function e(i){(0,n.Z)(this,e),this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=i}return(0,o.Z)(e,[{key:"emitKeyDown",value:function(e){var i;null===(i=this.onKeyDown)||void 0===i||i.call(this,e)}},{key:"emitKeyUp",value:function(e){var i;null===(i=this.onKeyUp)||void 0===i||i.call(this,e)}},{key:"emitContextMenu",value:function(e){var i;null===(i=this.onContextMenu)||void 0===i||i.call(this,this._convertViewToModelMouseEvent(e))}},{key:"emitMouseMove",value:function(e){var i;null===(i=this.onMouseMove)||void 0===i||i.call(this,this._convertViewToModelMouseEvent(e))}},{key:"emitMouseLeave",value:function(e){var i;null===(i=this.onMouseLeave)||void 0===i||i.call(this,this._convertViewToModelMouseEvent(e))}},{key:"emitMouseDown",value:function(e){var i;null===(i=this.onMouseDown)||void 0===i||i.call(this,this._convertViewToModelMouseEvent(e))}},{key:"emitMouseUp",value:function(e){var i;null===(i=this.onMouseUp)||void 0===i||i.call(this,this._convertViewToModelMouseEvent(e))}},{key:"emitMouseDrag",value:function(e){var i;null===(i=this.onMouseDrag)||void 0===i||i.call(this,this._convertViewToModelMouseEvent(e))}},{key:"emitMouseDrop",value:function(e){var i;null===(i=this.onMouseDrop)||void 0===i||i.call(this,this._convertViewToModelMouseEvent(e))}},{key:"emitMouseDropCanceled",value:function(){var e;null===(e=this.onMouseDropCanceled)||void 0===e||e.call(this)}},{key:"emitMouseWheel",value:function(e){var i;null===(i=this.onMouseWheel)||void 0===i||i.call(this,e)}},{key:"_convertViewToModelMouseEvent",value:function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}},{key:"_convertViewToModelMouseTarget",value:function(i){return e.convertViewToModelMouseTarget(i,this._coordinatesConverter)}}],[{key:"convertViewToModelMouseTarget",value:function(e,i){var t=Object.assign({},e);return t.position&&(t.position=i.convertViewPositionToModelPosition(t.position)),t.range&&(t.range=i.convertViewRangeToModelRange(t.range)),t}}]),e}()},27923:function(e,i,t){t.d(i,{Gm:function(){return oe}});var n=t(29439),o=t(74165),r=t(37762),a=t(97326),s=t(11752),d=t(61120),l=t(60136),u=t(27277),h=t(15671),c=t(43144),v=(t(2893),t(87697)),f=t(53210),g=t(68552),m=t(28941),_=t(10526),p=t(16496),y=t(68915),C=t(98351),D=t(56692),w=t(46222),b=t(57687),L=t(31492),S=t(34538),N=t(10849),E=t(30788),k=t(52091),M=t(72048),R=t(52925),I=t(44474),T=t(77161),O=t(2374),x=t(6574),P=t(80270),Z=t(89850),V=t(49525),W=t(8850),F=t(30045),A=t(13023),H=t(3553),z=t(99277),U=t(64272),B=t(49304),Q=t(36652),K=t(13805),q=t(26765),j=t(6815),J=t(45161),X=t(32590),Y=function(e){(0,l.Z)(t,e);var i=(0,u.Z)(t);function t(){var e;return(0,h.Z)(this,t),(e=i.call(this))._editor=null,e._instantiationService=null,e._instances=e._register(new _.b2),e._pending=new Map,e._finishedInstantiation=[],e._finishedInstantiation[0]=!1,e._finishedInstantiation[1]=!1,e._finishedInstantiation[2]=!1,e._finishedInstantiation[3]=!1,e}return(0,c.Z)(t,[{key:"initialize",value:function(e,i,t){var n=this;this._editor=e,this._instantiationService=t;var o,a=(0,r.Z)(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this._pending.has(s.id)?(0,g.dL)(new Error("Cannot have two contributions with the same id ".concat(s.id))):this._pending.set(s.id,s)}}catch(d){a.e(d)}finally{a.f()}this._instantiateSome(0),this._register((0,X.To)((function(){n._instantiateSome(1)}))),this._register((0,X.To)((function(){n._instantiateSome(2)}))),this._register((0,X.To)((function(){n._instantiateSome(3)}),5e3))}},{key:"saveViewState",value:function(){var e,i={},t=(0,r.Z)(this._instances);try{for(t.s();!(e=t.n()).done;){var o=(0,n.Z)(e.value,2),a=o[0],s=o[1];"function"===typeof s.saveViewState&&(i[a]=s.saveViewState())}}catch(d){t.e(d)}finally{t.f()}return i}},{key:"restoreViewState",value:function(e){var i,t=(0,r.Z)(this._instances);try{for(t.s();!(i=t.n()).done;){var o=(0,n.Z)(i.value,2),a=o[0],s=o[1];"function"===typeof s.restoreViewState&&s.restoreViewState(e[a])}}catch(d){t.e(d)}finally{t.f()}}},{key:"get",value:function(e){return this._instantiateById(e),this._instances.get(e)||null}},{key:"onBeforeInteractionEvent",value:function(){this._instantiateSome(2)}},{key:"onAfterModelAttached",value:function(){var e=this;this._register((0,X.To)((function(){e._instantiateSome(1)}),50))}},{key:"_instantiateSome",value:function(e){if(!this._finishedInstantiation[e]){this._finishedInstantiation[e]=!0;var i,t=this._findPendingContributionsByInstantiation(e),n=(0,r.Z)(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;this._instantiateById(o.id)}}catch(a){n.e(a)}finally{n.f()}}}},{key:"_findPendingContributionsByInstantiation",value:function(e){var i,t=[],o=(0,r.Z)(this._pending);try{for(o.s();!(i=o.n()).done;){var a=(0,n.Z)(i.value,2)[1];a.instantiation===e&&t.push(a)}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"_instantiateById",value:function(e){var i=this._pending.get(e);if(i){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{var t=this._instantiationService.createInstance(i.ctor,this._editor);this._instances.set(i.id,t),"function"===typeof t.restoreViewState&&0!==i.instantiation&&console.warn("Editor contribution '".concat(i.id,"' should be eager instantiated because it uses saveViewState / restoreViewState."))}catch(n){(0,g.dL)(n)}}}}]),t}(_.JT),$=t(29805),G=function(e,i,t,n){var o,r=arguments.length,a=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,i,t,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(i,t,a):o(i,t))||a);return r>3&&a&&Object.defineProperty(i,t,a),a},ee=function(e,i){return function(t,n){i(t,n,e)}},ie=function(e,i,t,n){return new(t||(t=Promise))((function(o,r){function a(e){try{d(n.next(e))}catch(i){r(i)}}function s(e){try{d(n.throw(e))}catch(i){r(i)}}function d(e){var i;e.done?o(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(a,s)}d((n=n.apply(e,i||[])).next())}))},te=0,ne=function(){function e(i,t,n,o,r){(0,h.Z)(this,e),this.model=i,this.viewModel=t,this.view=n,this.hasRealView=o,this.listenersToRemove=r}return(0,c.Z)(e,[{key:"dispose",value:function(){(0,_.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}]),e}(),oe=function(e){(0,l.Z)(t,e);var i=(0,u.Z)(t);function t(e,n,s,d,l,u,c,v,_,p,y,D){var w;(0,h.Z)(this,t),(w=i.call(this)).languageConfigurationService=y,w._deliveryQueue=new m.F3,w._contributions=w._register(new Y),w._onDidDispose=w._register(new m.Q5),w.onDidDispose=w._onDidDispose.event,w._onDidChangeModelContent=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeModelContent=w._onDidChangeModelContent.event,w._onDidChangeModelLanguage=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeModelLanguage=w._onDidChangeModelLanguage.event,w._onDidChangeModelLanguageConfiguration=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeModelLanguageConfiguration=w._onDidChangeModelLanguageConfiguration.event,w._onDidChangeModelOptions=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeModelOptions=w._onDidChangeModelOptions.event,w._onDidChangeModelDecorations=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeModelDecorations=w._onDidChangeModelDecorations.event,w._onDidChangeModelTokens=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeModelTokens=w._onDidChangeModelTokens.event,w._onDidChangeConfiguration=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeConfiguration=w._onDidChangeConfiguration.event,w._onDidChangeModel=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeModel=w._onDidChangeModel.event,w._onDidChangeCursorPosition=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeCursorPosition=w._onDidChangeCursorPosition.event,w._onDidChangeCursorSelection=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeCursorSelection=w._onDidChangeCursorSelection.event,w._onDidAttemptReadOnlyEdit=w._register(new ae(w._contributions,w._deliveryQueue)),w.onDidAttemptReadOnlyEdit=w._onDidAttemptReadOnlyEdit.event,w._onDidLayoutChange=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidLayoutChange=w._onDidLayoutChange.event,w._editorTextFocus=w._register(new re({deliveryQueue:w._deliveryQueue})),w.onDidFocusEditorText=w._editorTextFocus.onDidChangeToTrue,w.onDidBlurEditorText=w._editorTextFocus.onDidChangeToFalse,w._editorWidgetFocus=w._register(new re({deliveryQueue:w._deliveryQueue})),w.onDidFocusEditorWidget=w._editorWidgetFocus.onDidChangeToTrue,w.onDidBlurEditorWidget=w._editorWidgetFocus.onDidChangeToFalse,w._onWillType=w._register(new ae(w._contributions,w._deliveryQueue)),w.onWillType=w._onWillType.event,w._onDidType=w._register(new ae(w._contributions,w._deliveryQueue)),w.onDidType=w._onDidType.event,w._onDidCompositionStart=w._register(new ae(w._contributions,w._deliveryQueue)),w.onDidCompositionStart=w._onDidCompositionStart.event,w._onDidCompositionEnd=w._register(new ae(w._contributions,w._deliveryQueue)),w.onDidCompositionEnd=w._onDidCompositionEnd.event,w._onDidPaste=w._register(new ae(w._contributions,w._deliveryQueue)),w.onDidPaste=w._onDidPaste.event,w._onMouseUp=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseUp=w._onMouseUp.event,w._onMouseDown=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseDown=w._onMouseDown.event,w._onMouseDrag=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseDrag=w._onMouseDrag.event,w._onMouseDrop=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseDrop=w._onMouseDrop.event,w._onMouseDropCanceled=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseDropCanceled=w._onMouseDropCanceled.event,w._onDropIntoEditor=w._register(new ae(w._contributions,w._deliveryQueue)),w.onDropIntoEditor=w._onDropIntoEditor.event,w._onContextMenu=w._register(new ae(w._contributions,w._deliveryQueue)),w.onContextMenu=w._onContextMenu.event,w._onMouseMove=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseMove=w._onMouseMove.event,w._onMouseLeave=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseLeave=w._onMouseLeave.event,w._onMouseWheel=w._register(new ae(w._contributions,w._deliveryQueue)),w.onMouseWheel=w._onMouseWheel.event,w._onKeyUp=w._register(new ae(w._contributions,w._deliveryQueue)),w.onKeyUp=w._onKeyUp.event,w._onKeyDown=w._register(new ae(w._contributions,w._deliveryQueue)),w.onKeyDown=w._onKeyDown.event,w._onDidContentSizeChange=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidContentSizeChange=w._onDidContentSizeChange.event,w._onDidScrollChange=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidScrollChange=w._onDidScrollChange.event,w._onDidChangeViewZones=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeViewZones=w._onDidChangeViewZones.event,w._onDidChangeHiddenAreas=w._register(new m.Q5({deliveryQueue:w._deliveryQueue})),w.onDidChangeHiddenAreas=w._onDidChangeHiddenAreas.event,w._actions=new Map,w._bannerDomNode=null,w._dropIntoEditorDecorations=w.createDecorationsCollection(),l.willCreateCodeEditor();var b,L=Object.assign({},n);w._domElement=e,w._overflowWidgetsDomNode=L.overflowWidgetsDomNode,delete L.overflowWidgetsDomNode,w._id=++te,w._decorationTypeKeysToIds={},w._decorationTypeSubtypes={},w._telemetryData=s.telemetryData,w._configuration=w._register(w._createConfiguration(s.isSimpleWidget||!1,L,p)),w._register(w._configuration.onDidChange((function(e){w._onDidChangeConfiguration.fire(e);var i=w._configuration.options;if(e.hasChanged(138)){var t=i.get(138);w._onDidLayoutChange.fire(t)}}))),w._contextKeyService=w._register(c.createScoped(w._domElement)),w._notificationService=_,w._codeEditorService=l,w._commandService=u,w._themeService=v,w._register(new se((0,a.Z)(w),w._contextKeyService)),w._register(new de((0,a.Z)(w),w._contextKeyService,D)),w._instantiationService=d.createChild(new F.y([V.i6,w._contextKeyService])),w._modelData=null,w._focusTracker=new le(e),w._register(w._focusTracker.onChange((function(){w._editorWidgetFocus.setValue(w._focusTracker.hasFocus())}))),w._contentWidgets={},w._overlayWidgets={},b=Array.isArray(s.contributions)?s.contributions:C.Uc.getEditorContributions(),w._contributions.initialize((0,a.Z)(w),b,w._instantiationService);var S,N=(0,r.Z)(C.Uc.getEditorActions());try{var E=function(){var e=S.value;if(w._actions.has(e.id))return(0,g.dL)(new Error("Cannot have two actions with the same id ".concat(e.id))),"continue";var i=new M.p(e.id,e.label,e.alias,(0,U.f6)(e.precondition),(function(){return w._instantiationService.invokeFunction((function(i){return Promise.resolve(e.runEditorCommand(i,(0,a.Z)(w),null))}))}),w._contextKeyService);w._actions.set(i.id,i)};for(N.s();!(S=N.n()).done;)E()}catch(R){N.e(R)}finally{N.f()}var k=function(){return!w._configuration.options.get(86)&&w._configuration.options.get(33).enabled};return w._register(new f.DragAndDropObserver(w._domElement,{onDragEnter:function(){},onDragOver:function(e){if(k()){var i=w.getTargetAtClientPoint(e.clientX,e.clientY);(null===i||void 0===i?void 0:i.position)&&w.showDropIndicatorAt(i.position)}},onDrop:function(e){return ie((0,a.Z)(w),void 0,void 0,(0,o.Z)().mark((function i(){var t;return(0,o.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(k()){i.next=2;break}return i.abrupt("return");case 2:if(this.removeDropIndicator(),e.dataTransfer){i.next=5;break}return i.abrupt("return");case 5:(null===(t=this.getTargetAtClientPoint(e.clientX,e.clientY))||void 0===t?void 0:t.position)&&this._onDropIntoEditor.fire({position:t.position,event:e});case 7:case"end":return i.stop()}}),i,this)})))},onDragLeave:function(){w.removeDropIndicator()},onDragEnd:function(){w.removeDropIndicator()}})),w._codeEditorService.addCodeEditor((0,a.Z)(w)),w}return(0,c.Z)(t,[{key:"isSimpleWidget",get:function(){return this._configuration.isSimpleWidget}},{key:"writeScreenReaderContent",value:function(e){var i;null===(i=this._modelData)||void 0===i||i.view.writeScreenReaderContent(e)}},{key:"_createConfiguration",value:function(e,i,t){return new y.z(e,i,this._domElement,t)}},{key:"getId",value:function(){return this.getEditorType()+":"+this._id}},{key:"getEditorType",value:function(){return R.g.ICodeEditor}},{key:"dispose",value:function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),(0,s.Z)((0,d.Z)(t.prototype),"dispose",this).call(this)}},{key:"invokeWithinContext",value:function(e){return this._instantiationService.invokeFunction(e)}},{key:"updateOptions",value:function(e){this._configuration.updateOptions(e||{})}},{key:"getOptions",value:function(){return this._configuration.options}},{key:"getOption",value:function(e){return this._configuration.options.get(e)}},{key:"getRawOptions",value:function(){return this._configuration.getRawOptions()}},{key:"getOverflowWidgetsDomNode",value:function(){return this._overflowWidgetsDomNode}},{key:"getConfiguredWordAtPosition",value:function(e){return this._modelData?K.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(124),e):null}},{key:"getValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this._modelData)return"";var i=!(!e||!e.preserveBOM),t=0;return e&&e.lineEnding&&"\n"===e.lineEnding?t=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(t=2),this._modelData.model.getValue(t,i)}},{key:"setValue",value:function(e){this._modelData&&this._modelData.model.setValue(e)}},{key:"getModel",value:function(){return this._modelData?this._modelData.model:null}},{key:"setModel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((null!==this._modelData||null!==e)&&(!this._modelData||this._modelData.model!==e)){var i=this.hasTextFocus(),t=this._detachModel();this._attachModel(e),i&&this.hasModel()&&this.focus();var n={oldModelUrl:t?t.uri:null,newModelUrl:e?e.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(t),this._contributions.onAfterModelAttached()}}},{key:"_removeDecorationTypes",value:function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var i=this._decorationTypeSubtypes[e];for(var t in i)this._removeDecorationType(e+"-"+t)}this._decorationTypeSubtypes={}}}},{key:"getVisibleRanges",value:function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}},{key:"getVisibleRangesPlusViewportAboveBelow",value:function(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}},{key:"getWhitespaces",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}},{key:"getTopForLineNumber",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,1,i):-1}},{key:"getTopForPosition",value:function(e,i){return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,i,!1):-1}},{key:"getBottomForLineNumber",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._modelData?t._getVerticalOffsetAfterPosition(this._modelData,e,1,i):-1}},{key:"setHiddenAreas",value:function(e,i){var t;null===(t=this._modelData)||void 0===t||t.viewModel.setHiddenAreas(e.map((function(e){return E.e.lift(e)})),i)}},{key:"getVisibleColumnFromPosition",value:function(e){if(!this._modelData)return e.column;var i=this._modelData.model.validatePosition(e),t=this._modelData.model.getOptions().tabSize;return S.i.visibleColumnFromColumn(this._modelData.model.getLineContent(i.lineNumber),i.column,t)+1}},{key:"getPosition",value:function(){return this._modelData?this._modelData.viewModel.getPosition():null}},{key:"setPosition",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(this._modelData){if(!N.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(i,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}},{key:"_sendRevealRange",value:function(e,i,t,n){if(this._modelData){if(!E.e.isIRange(e))throw new Error("Invalid arguments");var o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",t,r,i,n)}}},{key:"revealLine",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,0,i)}},{key:"revealLineInCenter",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,1,i)}},{key:"revealLineInCenterIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,2,i)}},{key:"revealLineNearTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,5,i)}},{key:"_revealLine",value:function(e,i,t){if("number"!==typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new E.e(e,1,e,1),i,!1,t)}},{key:"revealPosition",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,0,!0,i)}},{key:"revealPositionInCenter",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,1,!0,i)}},{key:"revealPositionInCenterIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,2,!0,i)}},{key:"revealPositionNearTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,5,!0,i)}},{key:"_revealPosition",value:function(e,i,t,n){if(!N.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new E.e(e.lineNumber,e.column,e.lineNumber,e.column),i,t,n)}},{key:"getSelection",value:function(){return this._modelData?this._modelData.viewModel.getSelection():null}},{key:"getSelections",value:function(){return this._modelData?this._modelData.viewModel.getSelections():null}},{key:"setSelection",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",t=k.Y.isISelection(e),n=E.e.isIRange(e);if(!t&&!n)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e,i);else if(n){var o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o,i)}}},{key:"_setSelectionImpl",value:function(e,i){if(this._modelData){var t=new k.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(i,[t])}}},{key:"revealLines",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,i,0,t)}},{key:"revealLinesInCenter",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,i,1,t)}},{key:"revealLinesInCenterIfOutsideViewport",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,i,2,t)}},{key:"revealLinesNearTop",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,i,5,t)}},{key:"_revealLines",value:function(e,i,t,n){if("number"!==typeof e||"number"!==typeof i)throw new Error("Invalid arguments");this._sendRevealRange(new E.e(e,1,i,1),t,!1,n)}},{key:"revealRange",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._revealRange(e,t?1:0,n,i)}},{key:"revealRangeInCenter",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,1,!0,i)}},{key:"revealRangeInCenterIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,2,!0,i)}},{key:"revealRangeNearTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,5,!0,i)}},{key:"revealRangeNearTopIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,6,!0,i)}},{key:"revealRangeAtTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,3,!0,i)}},{key:"_revealRange",value:function(e,i,t,n){if(!E.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(E.e.lift(e),i,t,n)}},{key:"setSelections",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(var n=0,o=e.length;n<o;n++)if(!k.Y.isISelection(e[n]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(i,e,t)}}},{key:"getContentWidth",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}},{key:"getScrollWidth",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}},{key:"getScrollLeft",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}},{key:"getContentHeight",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}},{key:"getScrollHeight",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}},{key:"getScrollTop",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}},{key:"setScrollLeft",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},i)}}},{key:"setScrollTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},i)}}},{key:"setScrollPosition",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,i)}},{key:"saveViewState",value:function(){if(!this._modelData)return null;var e=this._contributions.saveViewState();return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}},{key:"restoreViewState",value:function(e){if(this._modelData&&this._modelData.hasRealView){var i=e;if(i&&i.cursorState&&i.viewState){var t=i.cursorState;Array.isArray(t)?t.length>0&&this._modelData.viewModel.restoreCursorState(t):this._modelData.viewModel.restoreCursorState([t]),this._contributions.restoreViewState(i.contributionsState||{});var n=this._modelData.viewModel.reduceRestoreState(i.viewState);this._modelData.view.restoreState(n)}}}},{key:"getContribution",value:function(e){return this._contributions.get(e)}},{key:"getActions",value:function(){return Array.from(this._actions.values())}},{key:"getSupportedActions",value:function(){var e=this.getActions();return e=e.filter((function(e){return e.isSupported()}))}},{key:"getAction",value:function(e){return this._actions.get(e)||null}},{key:"trigger",value:function(e,i,t){switch(t=t||{},i){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":var n=t;return void this._type(e,n.text||"");case"replacePreviousChar":var o=t;return void this._compositionType(e,o.text||"",o.replaceCharCnt||0,0,0);case"compositionType":var r=t;return void this._compositionType(e,r.text||"",r.replacePrevCharCnt||0,r.replaceNextCharCnt||0,r.positionDelta||0);case"paste":var a=t;return void this._paste(e,a.text||"",a.pasteOnNewLine||!1,a.multicursorText||null,a.mode||null);case"cut":return void this._cut(e)}var s=this.getAction(i);s?Promise.resolve(s.run()).then(void 0,g.dL):this._modelData&&(this._triggerEditorCommand(e,i,t)||this._triggerCommand(i,t))}},{key:"_triggerCommand",value:function(e,i){this._commandService.executeCommand(e,i)}},{key:"_startComposition",value:function(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}},{key:"_endComposition",value:function(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}},{key:"_type",value:function(e,i){this._modelData&&0!==i.length&&("keyboard"===e&&this._onWillType.fire(i),this._modelData.viewModel.type(i,e),"keyboard"===e&&this._onDidType.fire(i))}},{key:"_compositionType",value:function(e,i,t,n,o){this._modelData&&this._modelData.viewModel.compositionType(i,t,n,o,e)}},{key:"_paste",value:function(e,i,t,n,o){if(this._modelData&&0!==i.length){var r=this._modelData.viewModel,a=r.getSelection().getStartPosition();r.paste(i,t,n,e);var s=r.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new E.e(a.lineNumber,a.column,s.lineNumber,s.column),languageId:o})}}},{key:"_cut",value:function(e){this._modelData&&this._modelData.viewModel.cut(e)}},{key:"_triggerEditorCommand",value:function(e,i,t){var n=this,o=C.Uc.getEditorCommand(i);return!!o&&((t=t||{}).source=e,this._instantiationService.invokeFunction((function(e){Promise.resolve(o.runEditorCommand(e,n,t)).then(void 0,g.dL)})),!0)}},{key:"_getViewModel",value:function(){return this._modelData?this._modelData.viewModel:null}},{key:"pushUndoStop",value:function(){return!!this._modelData&&(!this._configuration.options.get(86)&&(this._modelData.model.pushStackElement(),!0))}},{key:"popUndoStop",value:function(){return!!this._modelData&&(!this._configuration.options.get(86)&&(this._modelData.model.popStackElement(),!0))}},{key:"executeEdits",value:function(e,i,t){return!!this._modelData&&(!this._configuration.options.get(86)&&(n=t?Array.isArray(t)?function(){return t}:t:function(){return null},this._modelData.viewModel.executeEdits(e,i,n),!0));var n}},{key:"executeCommand",value:function(e,i){this._modelData&&this._modelData.viewModel.executeCommand(i,e)}},{key:"executeCommands",value:function(e,i){this._modelData&&this._modelData.viewModel.executeCommands(i,e)}},{key:"createDecorationsCollection",value:function(e){return new ue(this,e)}},{key:"changeDecorations",value:function(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}},{key:"getLineDecorations",value:function(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,L.$J)(this._configuration.options)):null}},{key:"getDecorationsInRange",value:function(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,L.$J)(this._configuration.options)):null}},{key:"deltaDecorations",value:function(e,i){return this._modelData?0===e.length&&0===i.length?e:this._modelData.model.deltaDecorations(e,i,this._id):[]}},{key:"removeDecorations",value:function(e){this._modelData&&0!==e.length&&this._modelData.model.changeDecorations((function(i){i.deltaDecorations(e,[])}))}},{key:"removeDecorationsByType",value:function(e){var i=this._decorationTypeKeysToIds[e];i&&this.deltaDecorations(i,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}},{key:"getLayoutInfo",value:function(){return this._configuration.options.get(138)}},{key:"createOverviewRuler",value:function(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}},{key:"getContainerDomNode",value:function(){return this._domElement}},{key:"getDomNode",value:function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}},{key:"delegateVerticalScrollbarPointerDown",value:function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarPointerDown(e)}},{key:"delegateScrollFromMouseWheelEvent",value:function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateScrollFromMouseWheelEvent(e)}},{key:"layout",value:function(e){this._configuration.observeContainer(e),this.render()}},{key:"focus",value:function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}},{key:"hasTextFocus",value:function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}},{key:"hasWidgetFocus",value:function(){return this._focusTracker&&this._focusTracker.hasFocus()}},{key:"addContentWidget",value:function(e){var i={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=i,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(i)}},{key:"layoutContentWidget",value:function(e){var i=e.getId();if(this._contentWidgets.hasOwnProperty(i)){var t=this._contentWidgets[i];t.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(t)}}},{key:"removeContentWidget",value:function(e){var i=e.getId();if(this._contentWidgets.hasOwnProperty(i)){var t=this._contentWidgets[i];delete this._contentWidgets[i],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(t)}}},{key:"addOverlayWidget",value:function(e){var i={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=i,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(i)}},{key:"layoutOverlayWidget",value:function(e){var i=e.getId();if(this._overlayWidgets.hasOwnProperty(i)){var t=this._overlayWidgets[i];t.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(t)}}},{key:"removeOverlayWidget",value:function(e){var i=e.getId();if(this._overlayWidgets.hasOwnProperty(i)){var t=this._overlayWidgets[i];delete this._overlayWidgets[i],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(t)}}},{key:"changeViewZones",value:function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}},{key:"getTargetAtClientPoint",value:function(e,i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,i):null}},{key:"getScrolledVisiblePosition",value:function(e){if(!this._modelData||!this._modelData.hasRealView)return null;var i=this._modelData.model.validatePosition(e),n=this._configuration.options,o=n.get(138);return{top:t._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:n.get(63)}}},{key:"getOffsetForColumn",value:function(e,i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,i):-1}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}},{key:"setAriaOptions",value:function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}},{key:"applyFontInfo",value:function(e){(0,j.N)(e,this._configuration.options.get(47))}},{key:"setBanner",value:function(e,i){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?i:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}},{key:"_attachModel",value:function(e){var i=this;if(e){var t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();var o=new P.j(this._id,this._configuration,e,Q.C.create(),B.p.create(this._configuration.options),(function(e){return f.scheduleAtNextAnimationFrame(e)}),this.languageConfigurationService,this._themeService);t.push(e.onWillDispose((function(){return i.setModel(null)}))),t.push(o.onEvent((function(t){switch(t.kind){case 0:i._onDidContentSizeChange.fire(t);break;case 1:i._editorTextFocus.setValue(t.hasFocus);break;case 2:i._onDidScrollChange.fire(t);break;case 3:i._onDidChangeViewZones.fire();break;case 4:i._onDidChangeHiddenAreas.fire();break;case 5:i._onDidAttemptReadOnlyEdit.fire();break;case 6:if(t.reachedMaxCursorCount){var n=i.getOption(76),o=v.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",n);i._notificationService.prompt(A.zb.Warning,o,[{label:"Find and Replace",run:function(){i._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:v.NC("goToSetting","Increase Multi Cursor Limit"),run:function(){i._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}for(var r=[],a=0,s=t.selections.length;a<s;a++)r[a]=t.selections[a].getPosition();var d={position:r[0],secondaryPositions:r.slice(1),reason:t.reason,source:t.source};i._onDidChangeCursorPosition.fire(d);var l={selection:t.selections[0],secondarySelections:t.selections.slice(1),modelVersionId:t.modelVersionId,oldSelections:t.oldSelections,oldModelVersionId:t.oldModelVersionId,source:t.source,reason:t.reason};i._onDidChangeCursorSelection.fire(l);break;case 7:i._onDidChangeModelDecorations.fire(t.event);break;case 8:i._domElement.setAttribute("data-mode-id",e.getLanguageId()),i._onDidChangeModelLanguage.fire(t.event);break;case 9:i._onDidChangeModelLanguageConfiguration.fire(t.event);break;case 10:i._onDidChangeModelContent.fire(t.event);break;case 11:i._onDidChangeModelOptions.fire(t.event);break;case 12:i._onDidChangeModelTokens.fire(t.event)}})));var r=this._createView(o),a=(0,n.Z)(r,2),s=a[0],d=a[1];if(d){this._domElement.appendChild(s.domNode.domNode);for(var l=Object.keys(this._contentWidgets),u=0,h=l.length;u<h;u++){var c=l[u];s.addContentWidget(this._contentWidgets[c])}for(var g=0,m=(l=Object.keys(this._overlayWidgets)).length;g<m;g++){var _=l[g];s.addOverlayWidget(this._overlayWidgets[_])}s.render(!1,!0),s.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new ne(e,o,s,d,t)}else this._modelData=null}},{key:"_createView",value:function(e){var i,t=this;i=this.isSimpleWidget?{paste:function(e,i,n,o){t._paste("keyboard",e,i,n,o)},type:function(e){t._type("keyboard",e)},compositionType:function(e,i,n,o){t._compositionType("keyboard",e,i,n,o)},startComposition:function(){t._startComposition()},endComposition:function(){t._endComposition("keyboard")},cut:function(){t._cut("keyboard")}}:{paste:function(e,i,n,o){var r={text:e,pasteOnNewLine:i,multicursorText:n,mode:o};t._commandService.executeCommand("paste",r)},type:function(e){var i={text:e};t._commandService.executeCommand("type",i)},compositionType:function(e,i,n,o){if(n||o){var r={text:e,replacePrevCharCnt:i,replaceNextCharCnt:n,positionDelta:o};t._commandService.executeCommand("compositionType",r)}else{var a={text:e,replaceCharCnt:i};t._commandService.executeCommand("replacePreviousChar",a)}},startComposition:function(){t._commandService.executeCommand("compositionStart",{})},endComposition:function(){t._commandService.executeCommand("compositionEnd",{})},cut:function(){t._commandService.executeCommand("cut",{})}};var n=new b.q(e.coordinatesConverter);return n.onKeyDown=function(e){return t._onKeyDown.fire(e)},n.onKeyUp=function(e){return t._onKeyUp.fire(e)},n.onContextMenu=function(e){return t._onContextMenu.fire(e)},n.onMouseMove=function(e){return t._onMouseMove.fire(e)},n.onMouseLeave=function(e){return t._onMouseLeave.fire(e)},n.onMouseDown=function(e){return t._onMouseDown.fire(e)},n.onMouseUp=function(e){return t._onMouseUp.fire(e)},n.onMouseDrag=function(e){return t._onMouseDrag.fire(e)},n.onMouseDrop=function(e){return t._onMouseDrop.fire(e)},n.onMouseDropCanceled=function(e){return t._onMouseDropCanceled.fire(e)},n.onMouseWheel=function(e){return t._onMouseWheel.fire(e)},[new w.G(i,this._configuration,this._themeService.getColorTheme(),e,n,this._overflowWidgetsDomNode),!0]}},{key:"_postDetachModelCleanup",value:function(e){null===e||void 0===e||e.removeAllDecorationsWithOwnerId(this._id)}},{key:"_detachModel",value:function(){if(!this._modelData)return null;var e=this._modelData.model,i=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),i&&this._domElement.contains(i)&&this._domElement.removeChild(i),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}},{key:"_removeDecorationType",value:function(e){this._codeEditorService.removeDecorationType(e)}},{key:"hasModel",value:function(){return null!==this._modelData}},{key:"showDropIndicatorAt",value:function(e){var i=[{range:new E.e(e.lineNumber,e.column,e.lineNumber,e.column),options:t.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(i),this.revealPosition(e,1)}},{key:"removeDropIndicator",value:function(){this._dropIntoEditorDecorations.clear()}}],[{key:"_getVerticalOffsetAfterPosition",value:function(e,i,t,n){var o=e.model.validatePosition({lineNumber:i,column:t}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(r.lineNumber,n)}},{key:"_getVerticalOffsetForPosition",value:function(e,i,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.model.validatePosition({lineNumber:i,column:t}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber,n)}}]),t}(_.JT);oe.dropIntoEditorDecorationOptions=T.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),oe=G([ee(3,W.TG),ee(4,D.$),ee(5,Z.H),ee(6,V.i6),ee(7,H.XE),ee(8,A.lT),ee(9,z.F),ee(10,q.c_),ee(11,J.p)],oe);var re=function(e){(0,l.Z)(t,e);var i=(0,u.Z)(t);function t(e){var n;return(0,h.Z)(this,t),(n=i.call(this))._emitterOptions=e,n._onDidChangeToTrue=n._register(new m.Q5(n._emitterOptions)),n.onDidChangeToTrue=n._onDidChangeToTrue.event,n._onDidChangeToFalse=n._register(new m.Q5(n._emitterOptions)),n.onDidChangeToFalse=n._onDidChangeToFalse.event,n._value=0,n}return(0,c.Z)(t,[{key:"setValue",value:function(e){var i=e?2:1;this._value!==i&&(this._value=i,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}]),t}(_.JT),ae=function(e){(0,l.Z)(t,e);var i=(0,u.Z)(t);function t(e,n){var o;return(0,h.Z)(this,t),(o=i.call(this,{deliveryQueue:n}))._contributions=e,o}return(0,c.Z)(t,[{key:"fire",value:function(e){this._contributions.onBeforeInteractionEvent(),(0,s.Z)((0,d.Z)(t.prototype),"fire",this).call(this,e)}}]),t}(m.Q5),se=function(e){(0,l.Z)(t,e);var i=(0,u.Z)(t);function t(e,n){var o;return(0,h.Z)(this,t),(o=i.call(this))._editor=e,n.createKey("editorId",e.getId()),o._editorSimpleInput=I.u.editorSimpleInput.bindTo(n),o._editorFocus=I.u.focus.bindTo(n),o._textInputFocus=I.u.textInputFocus.bindTo(n),o._editorTextFocus=I.u.editorTextFocus.bindTo(n),o._editorTabMovesFocus=I.u.tabMovesFocus.bindTo(n),o._editorReadonly=I.u.readOnly.bindTo(n),o._inDiffEditor=I.u.inDiffEditor.bindTo(n),o._editorColumnSelection=I.u.columnSelection.bindTo(n),o._hasMultipleSelections=I.u.hasMultipleSelections.bindTo(n),o._hasNonEmptySelection=I.u.hasNonEmptySelection.bindTo(n),o._canUndo=I.u.canUndo.bindTo(n),o._canRedo=I.u.canRedo.bindTo(n),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromConfig()}))),o._register(o._editor.onDidChangeCursorSelection((function(){return o._updateFromSelection()}))),o._register(o._editor.onDidFocusEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidFocusEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidChangeModel((function(){return o._updateFromModel()}))),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromModel()}))),o._register($.n.onDidChangeTabFocus((function(){return o._editorTabMovesFocus.set($.n.getTabFocusMode("editorFocus"))}))),o._updateFromConfig(),o._updateFromSelection(),o._updateFromFocus(),o._updateFromModel(),o._editorSimpleInput.set(o._editor.isSimpleWidget),o}return(0,c.Z)(t,[{key:"_updateFromConfig",value:function(){var e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(137)),this._editorReadonly.set(e.get(86)),this._inDiffEditor.set(e.get(58)),this._editorColumnSelection.set(e.get(19))}},{key:"_updateFromSelection",value:function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((function(e){return!e.isEmpty()})))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}},{key:"_updateFromFocus",value:function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}},{key:"_updateFromModel",value:function(){var e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}]),t}(_.JT),de=function(e){(0,l.Z)(t,e);var i=(0,u.Z)(t);function t(e,n,o){var r;(0,h.Z)(this,t),(r=i.call(this))._editor=e,r._contextKeyService=n,r._languageFeaturesService=o,r._langId=I.u.languageId.bindTo(n),r._hasCompletionItemProvider=I.u.hasCompletionItemProvider.bindTo(n),r._hasCodeActionsProvider=I.u.hasCodeActionsProvider.bindTo(n),r._hasCodeLensProvider=I.u.hasCodeLensProvider.bindTo(n),r._hasDefinitionProvider=I.u.hasDefinitionProvider.bindTo(n),r._hasDeclarationProvider=I.u.hasDeclarationProvider.bindTo(n),r._hasImplementationProvider=I.u.hasImplementationProvider.bindTo(n),r._hasTypeDefinitionProvider=I.u.hasTypeDefinitionProvider.bindTo(n),r._hasHoverProvider=I.u.hasHoverProvider.bindTo(n),r._hasDocumentHighlightProvider=I.u.hasDocumentHighlightProvider.bindTo(n),r._hasDocumentSymbolProvider=I.u.hasDocumentSymbolProvider.bindTo(n),r._hasReferenceProvider=I.u.hasReferenceProvider.bindTo(n),r._hasRenameProvider=I.u.hasRenameProvider.bindTo(n),r._hasSignatureHelpProvider=I.u.hasSignatureHelpProvider.bindTo(n),r._hasInlayHintsProvider=I.u.hasInlayHintsProvider.bindTo(n),r._hasDocumentFormattingProvider=I.u.hasDocumentFormattingProvider.bindTo(n),r._hasDocumentSelectionFormattingProvider=I.u.hasDocumentSelectionFormattingProvider.bindTo(n),r._hasMultipleDocumentFormattingProvider=I.u.hasMultipleDocumentFormattingProvider.bindTo(n),r._hasMultipleDocumentSelectionFormattingProvider=I.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(n),r._isInWalkThrough=I.u.isInWalkThroughSnippet.bindTo(n);var a=function(){return r._update()};return r._register(e.onDidChangeModel(a)),r._register(e.onDidChangeModelLanguage(a)),r._register(o.completionProvider.onDidChange(a)),r._register(o.codeActionProvider.onDidChange(a)),r._register(o.codeLensProvider.onDidChange(a)),r._register(o.definitionProvider.onDidChange(a)),r._register(o.declarationProvider.onDidChange(a)),r._register(o.implementationProvider.onDidChange(a)),r._register(o.typeDefinitionProvider.onDidChange(a)),r._register(o.hoverProvider.onDidChange(a)),r._register(o.documentHighlightProvider.onDidChange(a)),r._register(o.documentSymbolProvider.onDidChange(a)),r._register(o.referenceProvider.onDidChange(a)),r._register(o.renameProvider.onDidChange(a)),r._register(o.documentFormattingEditProvider.onDidChange(a)),r._register(o.documentRangeFormattingEditProvider.onDidChange(a)),r._register(o.signatureHelpProvider.onDidChange(a)),r._register(o.inlayHintsProvider.onDidChange(a)),a(),r}return(0,c.Z)(t,[{key:"dispose",value:function(){(0,s.Z)((0,d.Z)(t.prototype),"dispose",this).call(this)}},{key:"reset",value:function(){var e=this;this._contextKeyService.bufferChangeEvents((function(){e._langId.reset(),e._hasCompletionItemProvider.reset(),e._hasCodeActionsProvider.reset(),e._hasCodeLensProvider.reset(),e._hasDefinitionProvider.reset(),e._hasDeclarationProvider.reset(),e._hasImplementationProvider.reset(),e._hasTypeDefinitionProvider.reset(),e._hasHoverProvider.reset(),e._hasDocumentHighlightProvider.reset(),e._hasDocumentSymbolProvider.reset(),e._hasReferenceProvider.reset(),e._hasRenameProvider.reset(),e._hasDocumentFormattingProvider.reset(),e._hasDocumentSelectionFormattingProvider.reset(),e._hasSignatureHelpProvider.reset(),e._isInWalkThrough.reset()}))}},{key:"_update",value:function(){var e=this,i=this._editor.getModel();i?this._contextKeyService.bufferChangeEvents((function(){e._langId.set(i.getLanguageId()),e._hasCompletionItemProvider.set(e._languageFeaturesService.completionProvider.has(i)),e._hasCodeActionsProvider.set(e._languageFeaturesService.codeActionProvider.has(i)),e._hasCodeLensProvider.set(e._languageFeaturesService.codeLensProvider.has(i)),e._hasDefinitionProvider.set(e._languageFeaturesService.definitionProvider.has(i)),e._hasDeclarationProvider.set(e._languageFeaturesService.declarationProvider.has(i)),e._hasImplementationProvider.set(e._languageFeaturesService.implementationProvider.has(i)),e._hasTypeDefinitionProvider.set(e._languageFeaturesService.typeDefinitionProvider.has(i)),e._hasHoverProvider.set(e._languageFeaturesService.hoverProvider.has(i)),e._hasDocumentHighlightProvider.set(e._languageFeaturesService.documentHighlightProvider.has(i)),e._hasDocumentSymbolProvider.set(e._languageFeaturesService.documentSymbolProvider.has(i)),e._hasReferenceProvider.set(e._languageFeaturesService.referenceProvider.has(i)),e._hasRenameProvider.set(e._languageFeaturesService.renameProvider.has(i)),e._hasSignatureHelpProvider.set(e._languageFeaturesService.signatureHelpProvider.has(i)),e._hasInlayHintsProvider.set(e._languageFeaturesService.inlayHintsProvider.has(i)),e._hasDocumentFormattingProvider.set(e._languageFeaturesService.documentFormattingEditProvider.has(i)||e._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),e._hasDocumentSelectionFormattingProvider.set(e._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),e._hasMultipleDocumentFormattingProvider.set(e._languageFeaturesService.documentFormattingEditProvider.all(i).length+e._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),e._hasMultipleDocumentSelectionFormattingProvider.set(e._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),e._isInWalkThrough.set(i.uri.scheme===p.lg.walkThroughSnippet)})):this.reset()}}]),t}(_.JT),le=function(e){(0,l.Z)(t,e);var i=(0,u.Z)(t);function t(e){var n;return(0,h.Z)(this,t),(n=i.call(this))._onChange=n._register(new m.Q5),n.onChange=n._onChange.event,n._hasFocus=!1,n._domFocusTracker=n._register(f.trackFocus(e)),n._register(n._domFocusTracker.onDidFocus((function(){n._hasFocus=!0,n._onChange.fire(void 0)}))),n._register(n._domFocusTracker.onDidBlur((function(){n._hasFocus=!1,n._onChange.fire(void 0)}))),n}return(0,c.Z)(t,[{key:"hasFocus",value:function(){return this._hasFocus}}]),t}(_.JT),ue=function(){function e(i,t){(0,h.Z)(this,e),this._editor=i,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}return(0,c.Z)(e,[{key:"length",get:function(){return this._decorationIds.length}},{key:"onDidChange",value:function(e,i,t){var n=this;return this._editor.onDidChangeModelDecorations((function(t){n._isChangingDecorations||e.call(i,t)}),t)}},{key:"getRange",value:function(e){return this._editor.hasModel()?e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e]):null}},{key:"getRanges",value:function(){if(!this._editor.hasModel())return[];var e,i=this._editor.getModel(),t=[],n=(0,r.Z)(this._decorationIds);try{for(n.s();!(e=n.n()).done;){var o=e.value,a=i.getDecorationRange(o);a&&t.push(a)}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"has",value:function(e){return this._decorationIds.includes(e.id)}},{key:"clear",value:function(){0!==this._decorationIds.length&&this.set([])}},{key:"set",value:function(e){var i=this;try{this._isChangingDecorations=!0,this._editor.changeDecorations((function(t){i._decorationIds=t.deltaDecorations(i._decorationIds,e)}))}finally{this._isChangingDecorations=!1}}}]),e}(),he=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ce=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ve(e){return he+encodeURIComponent(e.toString())+ce}var fe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ge=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,H.Ic)((function(e,i){var t=e.getColor(x.lXJ);t&&i.addRule(".monaco-editor .".concat("squiggly-error",' { background: url("data:image/svg+xml,',ve(t),'") repeat-x bottom left; }'));var n=e.getColor(x.uoC);n&&i.addRule(".monaco-editor .".concat("squiggly-warning",' { background: url("data:image/svg+xml,',ve(n),'") repeat-x bottom left; }'));var o=e.getColor(x.c63);o&&i.addRule(".monaco-editor .".concat("squiggly-info",' { background: url("data:image/svg+xml,',ve(o),'") repeat-x bottom left; }'));var r=e.getColor(x.Dut);r&&i.addRule(".monaco-editor .".concat("squiggly-hint",' { background: url("data:image/svg+xml,',fe+encodeURIComponent(r.toString())+ge,'") no-repeat bottom left; }'));var a=e.getColor(O.zu);a&&i.addRule(".monaco-editor.showUnused .".concat("squiggly-inline-unnecessary"," { opacity: ",a.rgba.a,"; }"))}))},71165:function(e,i,t){t.d(i,{p:function(){return Ie}});var n,o=t(97326),r=t(11752),a=t(61120),s=t(60136),d=t(27277),l=t(37762),u=t(15671),h=t(43144),c=t(53210),v=t(16688),f=t(68537),g=t(98883),m=t(65361),_=t(32590),p=t(7579),y=t(68552),C=t(28941),D=t(10526),w=t(6815),b=t(72380),L=t(98351),S=t(56692),N=t(15520),E=t(27923),k=t(74165),M=t(87697),R=t(95454),I=t(48301),T=t(89663),O=t(31492),x=t(58705),P=t(10849),Z=t(87627),V=t(50187),W=t(49525),F=t(30870),A=t(18191),H=t(63024),z=t(1759),U=function(e,i,t,n){var o,r=arguments.length,a=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,i,t,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(i,t,a):o(i,t))||a);return r>3&&a&&Object.defineProperty(i,t,a),a},B=function(e,i){return function(t,n){i(t,n,e)}},Q=function(e,i,t,n){return new(t||(t=Promise))((function(o,r){function a(e){try{d(n.next(e))}catch(i){r(i)}}function s(e){try{d(n.throw(e))}catch(i){r(i)}}function d(e){var i;e.done?o(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(a,s)}d((n=n.apply(e,i||[])).next())}))},K=function(){function e(i,t,n,o){(0,u.Z)(this,e),this.originalLineStart=i,this.originalLineEnd=t,this.modifiedLineStart=n,this.modifiedLineEnd=o}return(0,h.Z)(e,[{key:"getType",value:function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}]),e}(),q=(0,h.Z)((function e(i){(0,u.Z)(this,e),this.entries=i})),j=(0,A.q5)("diff-review-insert",p.l.add,M.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),J=(0,A.q5)("diff-review-remove",p.l.remove,M.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),X=(0,A.q5)("diff-review-close",p.l.close,M.NC("diffReviewCloseIcon","Icon for 'Close' in diff review.")),Y=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e,n,r){var a;return(0,u.Z)(this,t),(a=i.call(this))._languageService=n,a._audioCueService=r,a._width=0,a._diffEditor=e,a._isVisible=!1,a.shadow=(0,v.X)(document.createElement("div")),a.shadow.setClassName("diff-review-shadow"),a.actionBarContainer=(0,v.X)(document.createElement("div")),a.actionBarContainer.setClassName("diff-review-actions"),a._actionBar=a._register(new R.o(a.actionBarContainer.domNode)),a._actionBar.push(new T.aU("diffreview.close",M.NC("label.close","Close"),"close-diff-review "+F.k.asClassName(X),!0,(function(){return Q((0,o.Z)(a),void 0,void 0,(0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.hide());case 1:case"end":return e.stop()}}),e,this)})))})),{label:!1,icon:!0}),a.domNode=(0,v.X)(document.createElement("div")),a.domNode.setClassName("diff-review monaco-editor-background"),a._content=(0,v.X)(document.createElement("div")),a._content.setClassName("diff-review-content"),a._content.setAttribute("role","code"),a.scrollbar=a._register(new I.s$(a._content.domNode,{})),a.domNode.domNode.appendChild(a.scrollbar.getDomNode()),a._register(e.onDidUpdateDiff((function(){a._isVisible&&(a._diffs=a._compute(),a._render())}))),a._register(e.getModifiedEditor().onDidChangeCursorPosition((function(){a._isVisible&&a._render()}))),a._register(c.addStandardDisposableListener(a.domNode.domNode,"click",(function(e){e.preventDefault();var i=c.findParentWithClass(e.target,"diff-review-row");i&&a._goToRow(i)}))),a._register(c.addStandardDisposableListener(a.domNode.domNode,"keydown",(function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),a._goToRow(a._getNextRow(),"next")),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),a._goToRow(a._getPrevRow(),"previous")),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033)||e.equals(10)||e.equals(3))&&(e.preventDefault(),a.accept())}))),a._diffs=[],a._currentDiff=null,a}return(0,h.Z)(t,[{key:"prev",value:function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var i=-1,t=0,n=this._diffs.length;t<n;t++)if(this._diffs[t]===this._currentDiff){i=t;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0!==this._diffs.length){e%=this._diffs.length;var o=this._diffs[e].entries;this._diffEditor.setPosition(new P.L(o[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:o[0].modifiedLineStart,endColumn:1073741824,endLineNumber:o[o.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}}},{key:"next",value:function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var i=-1,t=0,n=this._diffs.length;t<n;t++)if(this._diffs[t]===this._currentDiff){i=t;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0!==this._diffs.length){e%=this._diffs.length;var o=this._diffs[e].entries;this._diffEditor.setPosition(new P.L(o[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:o[0].modifiedLineStart,endColumn:1073741824,endLineNumber:o[o.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}}},{key:"accept",value:function(){var e=-1,i=this._getCurrentFocusedRow();if(i){var t=parseInt(i.getAttribute("data-line"),10);isNaN(t)||(e=t)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new P.L(e,1)),this._diffEditor.revealPosition(new P.L(e,1),1))}},{key:"hide",value:function(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}},{key:"_getPrevRow",value:function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}},{key:"_getNextRow",value:function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}},{key:"_getFirstRow",value:function(){return this.domNode.domNode.querySelector(".diff-review-row")}},{key:"_getCurrentFocusedRow",value:function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}},{key:"_goToRow",value:function(e,i){var t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1);var n=i?"next"===i?null===t||void 0===t?void 0:t.nextElementSibling:null===t||void 0===t?void 0:t.previousElementSibling:t;(null===n||void 0===n?void 0:n.classList.contains("line-insert"))?this._audioCueService.playAudioCue(z.y$.diffLineInserted,!0):(null===n||void 0===n?void 0:n.classList.contains("line-delete"))&&this._audioCueService.playAudioCue(z.y$.diffLineDeleted,!0),this.scrollbar.scanDomNode()}},{key:"isVisible",value:function(){return this._isVisible}},{key:"layout",value:function(e,i,t){this._width=i,this.shadow.setTop(e-6),this.shadow.setWidth(i),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(i),this.domNode.setHeight(t),this._content.setHeight(t),this._content.setWidth(i),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}},{key:"_compute",value:function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return i&&n?t._mergeAdjacent(e,i.getLineCount(),n.getLineCount()):[]}},{key:"_findDiffIndex",value:function(e){for(var i=e.lineNumber,t=0,n=this._diffs.length;t<n;t++){var o=this._diffs[t].entries;if(i<=o[o.length-1].modifiedLineEnd)return t}return 0}},{key:"_render",value:function(){var e=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel(),r=n.getOptions(),a=o.getOptions();if(!this._isVisible||!n||!o)return c.clearNode(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});var s=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[s]!==this._currentDiff){this._currentDiff=this._diffs[s];var d=this._diffs[s].entries,l=document.createElement("div");l.className="diff-review-table",l.setAttribute("role","list"),l.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,w.N)(l,i.get(47));for(var u=0,h=0,v=0,f=0,g=0,m=d.length;g<m;g++){var _=d[g],p=_.originalLineStart,y=_.originalLineEnd,C=_.modifiedLineStart,D=_.modifiedLineEnd;0!==p&&(0===u||p<u)&&(u=p),0!==y&&(0===h||y>h)&&(h=y),0!==C&&(0===v||C<v)&&(v=C),0!==D&&(0===f||D>f)&&(f=D)}var b=document.createElement("div");b.className="diff-review-row";var L=document.createElement("div");L.className="diff-review-cell diff-review-summary";var S=h-u+1,N=f-v+1;L.appendChild(document.createTextNode("".concat(s+1,"/").concat(this._diffs.length,": @@ -").concat(u,",").concat(S," +").concat(v,",").concat(N," @@"))),b.setAttribute("data-line",String(v));var E=function(e){return 0===e?M.NC("no_lines_changed","no lines changed"):1===e?M.NC("one_line_changed","1 line changed"):M.NC("more_lines_changed","{0} lines changed",e)},k=E(S),R=E(N);b.setAttribute("aria-label",M.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",s+1,this._diffs.length,u,k,v,R)),b.appendChild(L),b.setAttribute("role","listitem"),l.appendChild(b);for(var I=i.get(63),T=v,O=0,x=d.length;O<x;O++){var P=d[O];t._renderSection(l,P,T,I,this._width,e,n,r,i,o,a,this._languageService.languageIdCodec),0!==P.modifiedLineStart&&(T=P.modifiedLineEnd)}c.clearNode(this._content.domNode),this._content.domNode.appendChild(l),this.scrollbar.scanDomNode()}}}],[{key:"_mergeAdjacent",value:function(e,i,t){if(!e||0===e.length)return[];for(var n=[],o=0,r=0,a=e.length;r<a;r++){var s=e[r],d=s.originalStartLineNumber,l=s.originalEndLineNumber,u=s.modifiedStartLineNumber,h=s.modifiedEndLineNumber,c=[],v=0,f=0===l?d:d-1,g=0===h?u:u-1,m=1,_=1;if(r>0){var p=e[r-1];m=0===p.originalEndLineNumber?p.originalStartLineNumber+1:p.originalEndLineNumber+1,_=0===p.modifiedEndLineNumber?p.modifiedStartLineNumber+1:p.modifiedEndLineNumber+1}var y=f-3+1,C=g-3+1;if(y<m){var D=m-y;y+=D,C+=D}if(C<_){var w=_-C;y+=w,C+=w}c[v++]=new K(y,f,C,g),0!==l&&(c[v++]=new K(d,l,0,0)),0!==h&&(c[v++]=new K(0,0,u,h));var b=0===l?d+1:l+1,L=0===h?u+1:h+1,S=i,N=t;if(r+1<a){var E=e[r+1];S=0===E.originalEndLineNumber?E.originalStartLineNumber:E.originalStartLineNumber-1,N=0===E.modifiedEndLineNumber?E.modifiedStartLineNumber:E.modifiedStartLineNumber-1}var k=b+3-1,M=L+3-1;if(k>S){var R=S-k;k+=R,M+=R}if(M>N){var I=N-M;k+=I,M+=I}c[v++]=new K(b,k,L,M),n[o++]=new q(c)}for(var T=n[0].entries,O=[],x=0,P=1,Z=n.length;P<Z;P++){var V=n[P].entries,W=T[T.length-1],F=V[0];0===W.getType()&&0===F.getType()&&F.originalLineStart<=W.originalLineEnd?(T[T.length-1]=new K(W.originalLineStart,F.originalLineEnd,W.modifiedLineStart,F.modifiedLineEnd),T=T.concat(V.slice(1))):(O[x++]=new q(T),T=V)}return O[x++]=new q(T),O}},{key:"_renderSection",value:function(e,i,n,o,r,a,s,d,l,u,h,c){var v=i.getType(),f="diff-review-row",g="",m=null;switch(v){case 1:f="diff-review-row line-insert",g=" char-insert",m=j;break;case 2:f="diff-review-row line-delete",g=" char-delete",m=J}for(var _=i.originalLineStart,p=i.originalLineEnd,y=i.modifiedLineStart,C=i.modifiedLineEnd,D=Math.max(C-y,p-_),w=a.get(138),b=w.glyphMarginWidth+w.lineNumbersWidth,L=l.get(138),S=10+L.glyphMarginWidth+L.lineNumbersWidth,N=0;N<=D;N++){var E=0===_?0:_+N,k=0===y?0:y+N,R=document.createElement("div");R.style.minWidth=r+"px",R.className=f,R.setAttribute("role","listitem"),0!==k&&(n=k),R.setAttribute("data-line",String(n));var I=document.createElement("div");I.className="diff-review-cell",I.style.height="".concat(o,"px"),R.appendChild(I);var T=document.createElement("span");T.style.width=b+"px",T.style.minWidth=b+"px",T.className="diff-review-line-number"+g,0!==E?T.appendChild(document.createTextNode(String(E))):T.innerText="\xa0",I.appendChild(T);var O=document.createElement("span");O.style.width=S+"px",O.style.minWidth=S+"px",O.style.paddingRight="10px",O.className="diff-review-line-number"+g,0!==k?O.appendChild(document.createTextNode(String(k))):O.innerText="\xa0",I.appendChild(O);var x=document.createElement("span");if(x.className="diff-review-spacer",m){var P=document.createElement("span");P.className=F.k.asClassName(m),P.innerText="\xa0\xa0",x.appendChild(P)}else x.innerText="\xa0\xa0";I.appendChild(x);var Z=void 0;if(0!==k){var V=this._renderLine(u,l,h.tabSize,k,c);t._ttPolicy&&(V=t._ttPolicy.createHTML(V)),I.insertAdjacentHTML("beforeend",V),Z=u.getLineContent(k)}else{var W=this._renderLine(s,a,d.tabSize,E,c);t._ttPolicy&&(W=t._ttPolicy.createHTML(W)),I.insertAdjacentHTML("beforeend",W),Z=s.getLineContent(E)}0===Z.length&&(Z=M.NC("blankLine","blank"));var A="";switch(v){case 0:A=E===k?M.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Z,E):M.NC("equalLine","{0} original line {1} modified line {2}",Z,E,k);break;case 1:A=M.NC("insertLine","+ {0} modified line {1}",Z,k);break;case 2:A=M.NC("deleteLine","- {0} original line {1}",Z,E)}R.setAttribute("aria-label",A),e.appendChild(R)}}},{key:"_renderLine",value:function(e,i,t,n,o){var r=e.getLineContent(n),a=i.get(47),s=x.A.createEmpty(r,o),d=V.wA.isBasicASCII(r,e.mightContainNonBasicASCII()),l=V.wA.containsRTL(r,d,e.mightContainRTL());return(0,Z.tF)(new Z.IJ(a.isMonospace&&!i.get(30),a.canUseHalfwidthRightwardsArrow,r,!1,d,l,0,s,[],t,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,i.get(111),i.get(93),i.get(88),i.get(48)!==O.n0.OFF,null)).html}}]),t}(D.JT);Y._ttPolicy=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("diffReview",{createHTML:function(e){return e}}),Y=U([B(1,H.O),B(2,z.e7)],Y);var $=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(){return(0,u.Z)(this,t),i.call(this,{id:"editor.action.diffReview.next",label:M.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:W.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}return(0,h.Z)(t,[{key:"run",value:function(e,i){var t=ee(e);null===t||void 0===t||t.diffReviewNext()}}]),t}(L.R6),G=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(){return(0,u.Z)(this,t),i.call(this,{id:"editor.action.diffReview.prev",label:M.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:W.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}return(0,h.Z)(t,[{key:"run",value:function(e,i){var t=ee(e);null===t||void 0===t||t.diffReviewPrev()}}]),t}(L.R6);function ee(e){var i=e.get(S.$),t=i.listDiffEditors(),n=i.getActiveCodeEditor();if(!n)return null;for(var o=0,r=t.length;o<r;o++){var a=t[o];if(a.getModifiedEditor().getId()===n.getId()||a.getOriginalEditor().getId()===n.getId())return a}return null}(0,L.Qr)($),(0,L.Qr)(G);var ie=t(30788),te=function(e,i,t,n){return new(t||(t=Promise))((function(o,r){function a(e){try{d(n.next(e))}catch(i){r(i)}}function s(e){try{d(n.throw(e))}catch(i){r(i)}}function d(e){var i;e.done?o(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(a,s)}d((n=n.apply(e,i||[])).next())}))},ne=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e,n,r,a,s,d){var l;(0,u.Z)(this,t),(l=i.call(this))._viewZoneId=e,l._marginDomNode=n,l.editor=r,l.diff=a,l._contextMenuService=s,l._clipboardService=d,l._visibility=!1,l._marginDomNode.style.zIndex="10",l._diffActions=document.createElement("div"),l._diffActions.className=F.k.asClassName(p.l.lightBulb)+" lightbulb-glyph",l._diffActions.style.position="absolute";var h=r.getOption(63),v=r.getModel().getEOL();l._diffActions.style.right="0px",l._diffActions.style.visibility="hidden",l._diffActions.style.height="".concat(h,"px"),l._diffActions.style.lineHeight="".concat(h,"px"),l._marginDomNode.appendChild(l._diffActions);var f=[],g=0===a.modifiedEndLineNumber;f.push(new T.aU("diff.clipboard.copyDeletedContent",g?a.originalEndLineNumber>a.modifiedStartLineNumber?M.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):M.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):a.originalEndLineNumber>a.modifiedStartLineNumber?M.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):M.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,(function(){return te((0,o.Z)(l),void 0,void 0,(0,k.Z)().mark((function e(){var i,t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new ie.e(a.originalStartLineNumber,1,a.originalEndLineNumber+1,1),t=a.originalModel.getValueInRange(i),e.next=4,this._clipboardService.writeText(t);case 4:case"end":return e.stop()}}),e,this)})))})));var m=0,_=void 0;a.originalEndLineNumber>a.modifiedStartLineNumber&&(_=new T.aU("diff.clipboard.copyDeletedLineContent",g?M.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",a.originalStartLineNumber):M.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",a.originalStartLineNumber),void 0,!0,(function(){return te((0,o.Z)(l),void 0,void 0,(0,k.Z)().mark((function e(){var i,t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(i=a.originalModel.getLineContent(a.originalStartLineNumber+m))){e.next=7;break}return t=a.originalModel.getEndOfLineSequence(),e.next=5,this._clipboardService.writeText(0===t?"\n":"\r\n");case 5:e.next=9;break;case 7:return e.next=9,this._clipboardService.writeText(i);case 9:case"end":return e.stop()}}),e,this)})))})),f.push(_)),r.getOption(86)||f.push(new T.aU("diff.inline.revertChange",M.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,(function(){return te((0,o.Z)(l),void 0,void 0,(0,k.Z)().mark((function e(){var i,t,n,o;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new ie.e(a.originalStartLineNumber,1,a.originalEndLineNumber,a.originalModel.getLineMaxColumn(a.originalEndLineNumber)),t=a.originalModel.getValueInRange(i),0===a.modifiedEndLineNumber?(n=r.getModel().getLineMaxColumn(a.modifiedStartLineNumber),r.executeEdits("diffEditor",[{range:new ie.e(a.modifiedStartLineNumber,n,a.modifiedStartLineNumber,n),text:v+t}])):(o=r.getModel().getLineMaxColumn(a.modifiedEndLineNumber),r.executeEdits("diffEditor",[{range:new ie.e(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,o),text:t}]));case 3:case"end":return e.stop()}}),e)})))})));var y=function(e,i){l._contextMenuService.showContextMenu({getAnchor:function(){return{x:e,y:i}},getActions:function(){return _&&(_.label=g?M.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",a.originalStartLineNumber+m):M.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",a.originalStartLineNumber+m)),f},autoSelectFirstItem:!0})};return l._register(c.addStandardDisposableListener(l._diffActions,"mousedown",(function(e){var i=c.getDomNodePagePosition(l._diffActions),t=i.top,n=i.height,o=Math.floor(h/3);e.preventDefault(),y(e.posx,t+n+o)}))),l._register(r.onMouseMove((function(e){8===e.target.type||5===e.target.type?e.target.detail.viewZoneId===l._viewZoneId?(l.visibility=!0,m=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,h)):l.visibility=!1:l.visibility=!1}))),l._register(r.onMouseDown((function(e){e.event.rightButton&&(8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId===l._viewZoneId&&(e.event.preventDefault(),m=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,h),y(e.event.posx,e.event.posy+h)))}))),l}return(0,h.Z)(t,[{key:"visibility",get:function(){return this._visibility},set:function(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}},{key:"_updateLightBulbPosition",value:function(e,i,t){var n=i-c.getDomNodePagePosition(e).top,o=Math.floor(n/t),r=o*t;if(this._diffActions.style.top="".concat(r,"px"),this.diff.viewLineCounts)for(var a=0,s=0;s<this.diff.viewLineCounts.length;s++)if(o<(a+=this.diff.viewLineCounts[s]))return s;return o}}]),t}(D.JT),oe=t(70437),re=function(e,i,t,n){var o,r=arguments.length,a=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,i,t,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(i,t,a):o(i,t))||a);return r>3&&a&&Object.defineProperty(i,t,a),a},ae=function(e,i){return function(t,n){i(t,n,e)}},se=function(e,i,t,n){return new(t||(t=Promise))((function(o,r){function a(e){try{d(n.next(e))}catch(i){r(i)}}function s(e){try{d(n.throw(e))}catch(i){r(i)}}function d(e){var i;e.done?o(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(a,s)}d((n=n.apply(e,i||[])).next())}))},de=function(){function e(i,t){(0,u.Z)(this,e),this.editorWorkerService=t,this.onDidChangeEventEmitter=new C.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="smart",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(i)}return(0,h.Z)(e,[{key:"dispose",value:function(){var e;null===(e=this.diffAlgorithmOnDidChangeSubscription)||void 0===e||e.dispose()}},{key:"computeDiff",value:function(e,i,t){return se(this,void 0,void 0,(0,k.Z)().mark((function n(){var o;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"===typeof this.diffAlgorithm){n.next=2;break}return n.abrupt("return",this.diffAlgorithm.computeDiff(e,i,t));case 2:return n.next=4,this.editorWorkerService.computeDiff(e.uri,i.uri,t,this.diffAlgorithm);case 4:if(o=n.sent){n.next=7;break}throw new Error("no diff result available");case 7:return n.abrupt("return",o);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"setOptions",value:function(e){var i,t=this,n=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&(null===(i=this.diffAlgorithmOnDidChangeSubscription)||void 0===i||i.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,"string"!==typeof e.diffAlgorithm&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange((function(){return t.onDidChangeEventEmitter.fire()}))),n=!0),n&&this.onDidChangeEventEmitter.fire()}}]),e}();de=re([ae(1,oe.p)],de);var le,ue=t(63633),he=t(52925),ce=t(77161),ve=t(50381),fe=t(55522),ge=t(88532),me=t(30291),_e=t(8850),pe=t(30045),ye=t(13023),Ce=t(26562),De=t(6574),we=t(3553),be=function(e,i,t,n){var o,r=arguments.length,a=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,i,t,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(i,t,a):o(i,t))||a);return r>3&&a&&Object.defineProperty(i,t,a),a},Le=function(e,i){return function(t,n){i(t,n,e)}},Se=function(){function e(i,t){(0,u.Z)(this,e),this._contextMenuService=i,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return(0,h.Z)(e,[{key:"getForeignViewZones",value:function(e){var i=this;return e.filter((function(e){return!i._zonesMap[String(e.id)]}))}},{key:"clean",value:function(e){var i=this;this._zones.length>0&&e.changeViewZones((function(e){var t,n=(0,l.Z)(i._zones);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.removeZone(o)}}catch(r){n.e(r)}finally{n.f()}})),this._zones=[],this._zonesMap={},e.changeDecorations((function(e){i._decorations=e.deltaDecorations(i._decorations,[])}))}},{key:"apply",value:function(e,i,t,n){var o=this,r=n?N.Z.capture(e):null;e.changeViewZones((function(i){var n,r,a=(0,l.Z)(o._zones);try{for(a.s();!(r=a.n()).done;){var s=r.value;i.removeZone(s)}}catch(g){a.e(g)}finally{a.f()}var d,u=(0,l.Z)(o._inlineDiffMargins);try{for(u.s();!(d=u.n()).done;){d.value.dispose()}}catch(g){u.e(g)}finally{u.f()}o._zones=[],o._zonesMap={},o._inlineDiffMargins=[];for(var h=0,c=t.zones.length;h<c;h++){var v=t.zones[h];v.suppressMouseDown=!0;var f=i.addZone(v);o._zones.push(f),o._zonesMap[String(f)]=!0,t.zones[h].diff&&v.marginDomNode&&(v.suppressMouseDown=!1,0!==(null===(n=t.zones[h].diff)||void 0===n?void 0:n.originalModel.getValueLength())&&o._inlineDiffMargins.push(new ne(f,v.marginDomNode,e,t.zones[h].diff,o._contextMenuService,o._clipboardService)))}})),null===r||void 0===r||r.restore(e),e.changeDecorations((function(e){o._decorations=e.deltaDecorations(o._decorations,t.decorations)})),null===i||void 0===i||i.setZones(t.overviewZones)}}]),e}(),Ne=0,Ee=(0,A.q5)("diff-insert",p.l.add,M.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),ke=(0,A.q5)("diff-remove",p.l.remove,M.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),Me=null===(le=window.trustedTypes)||void 0===le?void 0:le.createPolicy("diffEditorWidget",{createHTML:function(e){return e}}),Re=M.NC("diff-aria-navigation-tip"," use Shift + F7 to navigate changes"),Ie=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e,n,r,a,s,d,h,f,g,m,p){var D;(0,u.Z)(this,t),(D=i.call(this))._editorProgressService=p,D._onDidDispose=D._register(new C.Q5),D.onDidDispose=D._onDidDispose.event,D._onDidChangeModel=D._register(new C.Q5),D.onDidChangeModel=D._onDidChangeModel.event,D._onDidUpdateDiff=D._register(new C.Q5),D.onDidUpdateDiff=D._onDidUpdateDiff.event,D._onDidContentSizeChange=D._register(new C.Q5),D._lastOriginalWarning=null,D._lastModifiedWarning=null,h.willCreateDiffEditor(),D._documentDiffProvider=D._register(d.createInstance(de,n)),D._register(D._documentDiffProvider.onDidChange((function(e){return D._beginUpdateDecorationsSoon()}))),D._codeEditorService=h,D._contextKeyService=D._register(s.createScoped(e)),D._instantiationService=d.createChild(new pe.y([W.i6,D._contextKeyService])),D._contextKeyService.createKey("isInDiffEditor",!0),D._themeService=f,D._notificationService=g,D._id=++Ne,D._state=0,D._updatingDiffProgress=null,D._domElement=e,n=n||{},D._options=qe(n,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"smart"}),"undefined"!==typeof n.isInEmbeddedEditor?D._contextKeyService.createKey("isInEmbeddedDiffEditor",n.isInEmbeddedEditor):D._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),D._updateDecorationsRunner=D._register(new _.pY((function(){return D._updateDecorations()}),0)),D._containerDomElement=document.createElement("div"),D._containerDomElement.className=t._getClassName(D._themeService.getColorTheme(),D._options.renderSideBySide),D._containerDomElement.style.position="relative",D._containerDomElement.style.height="100%",D._domElement.appendChild(D._containerDomElement),D._overviewViewportDomElement=(0,v.X)(document.createElement("div")),D._overviewViewportDomElement.setClassName("diffViewport"),D._overviewViewportDomElement.setPosition("absolute"),D._overviewDomElement=document.createElement("div"),D._overviewDomElement.className="diffOverview",D._overviewDomElement.style.position="absolute",D._overviewDomElement.appendChild(D._overviewViewportDomElement.domNode),D._register(c.addStandardDisposableListener(D._overviewDomElement,c.EventType.POINTER_DOWN,(function(e){D._modifiedEditor.delegateVerticalScrollbarPointerDown(e)}))),D._register(c.addDisposableListener(D._overviewDomElement,c.EventType.MOUSE_WHEEL,(function(e){D._modifiedEditor.delegateScrollFromMouseWheelEvent(e)}),{passive:!1})),D._options.renderOverviewRuler&&D._containerDomElement.appendChild(D._overviewDomElement),D._originalDomNode=document.createElement("div"),D._originalDomNode.className="editor original",D._originalDomNode.style.position="absolute",D._originalDomNode.style.height="100%",D._containerDomElement.appendChild(D._originalDomNode),D._modifiedDomNode=document.createElement("div"),D._modifiedDomNode.className="editor modified",D._modifiedDomNode.style.position="absolute",D._modifiedDomNode.style.height="100%",D._containerDomElement.appendChild(D._modifiedDomNode),D._beginUpdateDecorationsTimeout=-1,D._currentlyChangingViewZones=!1,D._diffComputationToken=0,D._originalEditorState=new Se(m,a),D._modifiedEditorState=new Se(m,a),D._isVisible=!0,D._isHandlingScrollEvent=!1,D._elementSizeObserver=D._register(new b.I(D._containerDomElement,n.dimension)),D._register(D._elementSizeObserver.onDidChange((function(){return D._onDidContainerSizeChanged()}))),n.automaticLayout&&D._elementSizeObserver.startObserving(),D._diffComputationResult=null,D._originalEditor=D._createLeftHandSideEditor(n,r.originalEditor||{}),D._modifiedEditor=D._createRightHandSideEditor(n,r.modifiedEditor||{}),D._originalOverviewRuler=null,D._modifiedOverviewRuler=null,D._reviewPane=d.createInstance(Y,(0,o.Z)(D)),D._containerDomElement.appendChild(D._reviewPane.domNode.domNode),D._containerDomElement.appendChild(D._reviewPane.shadow.domNode),D._containerDomElement.appendChild(D._reviewPane.actionBarContainer.domNode),D._options.renderSideBySide?D._setStrategy(new Ve(D._createDataSource(),D._options.enableSplitViewResizing)):D._setStrategy(new Fe(D._createDataSource(),D._options.enableSplitViewResizing)),D._register(f.onDidColorThemeChange((function(e){D._strategy&&D._strategy.applyColors(e)&&D._updateDecorationsRunner.schedule(),D._containerDomElement.className=t._getClassName(D._themeService.getColorTheme(),D._options.renderSideBySide)})));var w,S=L.Uc.getDiffEditorContributions(),N=(0,l.Z)(S);try{for(N.s();!(w=N.n()).done;){var E=w.value;try{D._register(d.createInstance(E.ctor,(0,o.Z)(D)))}catch(k){(0,y.dL)(k)}}}catch(k){N.e(k)}finally{N.f()}return D._codeEditorService.addDiffEditor((0,o.Z)(D)),D}return(0,h.Z)(t,[{key:"_setState",value:function(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}},{key:"diffReviewNext",value:function(){this._reviewPane.next()}},{key:"diffReviewPrev",value:function(){this._reviewPane.prev()}},{key:"_disposeOverviewRulers",value:function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}},{key:"_createOverviewRulers",value:function(){this._options.renderOverviewRuler&&(m.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}},{key:"_createLeftHandSideEditor",value:function(e,i){var n=this,o=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),i);this._register(o.onDidScrollChange((function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){n._onViewZonesChanged()}))),this._register(o.onDidChangeConfiguration((function(e){o.getModel()&&(e.hasChanged(47)&&n._updateDecorationsRunner.schedule(),e.hasChanged(139)&&(n._updateDecorationsRunner.cancel(),n._updateDecorations()))}))),this._register(o.onDidChangeHiddenAreas((function(){n._updateDecorationsRunner.cancel(),n._updateDecorations()}))),this._register(o.onDidChangeModelContent((function(){n._isVisible&&n._beginUpdateDecorationsSoon()})));var r=this._contextKeyService.createKey("isInDiffLeftEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget((function(){return r.set(!0)}))),this._register(o.onDidBlurEditorWidget((function(){return r.set(!1)}))),this._register(o.onDidContentSizeChange((function(e){var i=n._originalEditor.getContentWidth()+n._modifiedEditor.getContentWidth()+t.ONE_OVERVIEW_WIDTH,o=Math.max(n._modifiedEditor.getContentHeight(),n._originalEditor.getContentHeight());n._onDidContentSizeChange.fire({contentHeight:o,contentWidth:i,contentHeightChanged:e.contentHeightChanged,contentWidthChanged:e.contentWidthChanged})}))),o}},{key:"_createRightHandSideEditor",value:function(e,i){var n=this,o=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),i);this._register(o.onDidScrollChange((function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){n._onViewZonesChanged()}))),this._register(o.onDidChangeConfiguration((function(e){o.getModel()&&(e.hasChanged(47)&&n._updateDecorationsRunner.schedule(),e.hasChanged(139)&&(n._updateDecorationsRunner.cancel(),n._updateDecorations()))}))),this._register(o.onDidChangeHiddenAreas((function(){n._updateDecorationsRunner.cancel(),n._updateDecorations()}))),this._register(o.onDidChangeModelContent((function(){n._isVisible&&n._beginUpdateDecorationsSoon()}))),this._register(o.onDidChangeModelOptions((function(e){e.tabSize&&n._updateDecorationsRunner.schedule()})));var r=this._contextKeyService.createKey("isInDiffRightEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget((function(){return r.set(!0)}))),this._register(o.onDidBlurEditorWidget((function(){return r.set(!1)}))),this._register(o.onDidContentSizeChange((function(e){var i=n._originalEditor.getContentWidth()+n._modifiedEditor.getContentWidth()+t.ONE_OVERVIEW_WIDTH,o=Math.max(n._modifiedEditor.getContentHeight(),n._originalEditor.getContentHeight());n._onDidContentSizeChange.fire({contentHeight:o,contentWidth:i,contentHeightChanged:e.contentHeightChanged,contentWidthChanged:e.contentWidthChanged})}))),this._register(o.onMouseDown((function(e){var i,t;if(!e.event.rightButton&&e.target.position&&(null===(i=e.target.element)||void 0===i?void 0:i.className.includes("arrow-revert-change"))){var o=e.target.position.lineNumber,r=e.target,a=null===(t=n._diffComputationResult)||void 0===t?void 0:t.changes.find((function(e){return(null===r||void 0===r?void 0:r.detail.afterLineNumber)===e.modifiedStartLineNumber||e.modifiedEndLineNumber>0&&e.modifiedStartLineNumber===o}));return a&&n.revertChange(a),e.event.stopPropagation(),void n._updateDecorations()}}))),o}},{key:"revertChange",value:function(e){var i=this._modifiedEditor,t=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(t&&n&&i){var o=e.originalEndLineNumber>0?new ie.e(e.originalStartLineNumber,1,e.originalEndLineNumber,t.getLineMaxColumn(e.originalEndLineNumber)):null,r=o?t.getValueInRange(o):null,a=e.modifiedEndLineNumber>0?new ie.e(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,n.getLineMaxColumn(e.modifiedEndLineNumber)):null,s=n.getEOL();if(0===e.originalEndLineNumber&&a){var d=a;e.modifiedStartLineNumber>1?d=a.setStartPosition(e.modifiedStartLineNumber-1,n.getLineMaxColumn(e.modifiedStartLineNumber-1)):e.modifiedEndLineNumber<n.getLineCount()&&(d=a.setEndPosition(e.modifiedEndLineNumber+1,1)),i.executeEdits("diffEditor",[{range:d,text:""}])}else if(0===e.modifiedEndLineNumber&&null!==r){var l=e.modifiedStartLineNumber<n.getLineCount()?new P.L(e.modifiedStartLineNumber+1,1):new P.L(e.modifiedStartLineNumber,n.getLineMaxColumn(e.modifiedStartLineNumber));i.executeEdits("diffEditor",[{range:ie.e.fromPositions(l,l),text:e.modifiedStartLineNumber<n.getLineCount()?r+s:s+r}])}else a&&null!==r&&i.executeEdits("diffEditor",[{range:a,text:r}])}}},{key:"_createInnerEditor",value:function(e,i,t,n){return e.createInstance(E.Gm,i,t,n)}},{key:"dispose",value:function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),(0,r.Z)((0,a.Z)(t.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return this.getEditorType()+":"+this._id}},{key:"getEditorType",value:function(){return he.g.IDiffEditor}},{key:"getLineChanges",value:function(){return this._diffComputationResult?this._diffComputationResult.changes:null}},{key:"getOriginalEditor",value:function(){return this._originalEditor}},{key:"getModifiedEditor",value:function(){return this._modifiedEditor}},{key:"updateOptions",value:function(e){var i,n,o=qe(e,this._options),r=(i=this._options,n=o,{enableSplitViewResizing:i.enableSplitViewResizing!==n.enableSplitViewResizing,renderSideBySide:i.renderSideBySide!==n.renderSideBySide,renderMarginRevertIcon:i.renderMarginRevertIcon!==n.renderMarginRevertIcon,maxComputationTime:i.maxComputationTime!==n.maxComputationTime,maxFileSize:i.maxFileSize!==n.maxFileSize,ignoreTrimWhitespace:i.ignoreTrimWhitespace!==n.ignoreTrimWhitespace,renderIndicators:i.renderIndicators!==n.renderIndicators,originalEditable:i.originalEditable!==n.originalEditable,diffCodeLens:i.diffCodeLens!==n.diffCodeLens,renderOverviewRuler:i.renderOverviewRuler!==n.renderOverviewRuler,diffWordWrap:i.diffWordWrap!==n.diffWordWrap,diffAlgorithm:i.diffAlgorithm!==n.diffAlgorithm});this._options=o;var a=r.ignoreTrimWhitespace||r.renderIndicators||r.renderMarginRevertIcon,s=this._isVisible&&(r.maxComputationTime||r.maxFileSize);this._documentDiffProvider.setOptions(o),a?this._beginUpdateDecorations():s&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),r.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Ve(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Fe(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=t._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),r.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}},{key:"getModel",value:function(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}},{key:"setModel",value:function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire()}},{key:"getContainerDomNode",value:function(){return this._domElement}},{key:"getVisibleColumnFromPosition",value:function(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}},{key:"getPosition",value:function(){return this._modifiedEditor.getPosition()}},{key:"setPosition",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this._modifiedEditor.setPosition(e,i)}},{key:"revealLine",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealLine(e,i)}},{key:"revealLineInCenter",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealLineInCenter(e,i)}},{key:"revealLineInCenterIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,i)}},{key:"revealLineNearTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealLineNearTop(e,i)}},{key:"revealPosition",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealPosition(e,i)}},{key:"revealPositionInCenter",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealPositionInCenter(e,i)}},{key:"revealPositionInCenterIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,i)}},{key:"revealPositionNearTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealPositionNearTop(e,i)}},{key:"getSelection",value:function(){return this._modifiedEditor.getSelection()}},{key:"getSelections",value:function(){return this._modifiedEditor.getSelections()}},{key:"setSelection",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this._modifiedEditor.setSelection(e,i)}},{key:"setSelections",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this._modifiedEditor.setSelections(e,i)}},{key:"revealLines",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._modifiedEditor.revealLines(e,i,t)}},{key:"revealLinesInCenter",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._modifiedEditor.revealLinesInCenter(e,i,t)}},{key:"revealLinesInCenterIfOutsideViewport",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,i,t)}},{key:"revealLinesNearTop",value:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._modifiedEditor.revealLinesNearTop(e,i,t)}},{key:"revealRange",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._modifiedEditor.revealRange(e,i,t,n)}},{key:"revealRangeInCenter",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealRangeInCenter(e,i)}},{key:"revealRangeInCenterIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,i)}},{key:"revealRangeNearTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealRangeNearTop(e,i)}},{key:"revealRangeNearTopIfOutsideViewport",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,i)}},{key:"revealRangeAtTop",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._modifiedEditor.revealRangeAtTop(e,i)}},{key:"getSupportedActions",value:function(){return this._modifiedEditor.getSupportedActions()}},{key:"saveViewState",value:function(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}},{key:"restoreViewState",value:function(e){if(e&&e.original&&e.modified){var i=e;this._originalEditor.restoreViewState(i.original),this._modifiedEditor.restoreViewState(i.modified)}}},{key:"layout",value:function(e){this._elementSizeObserver.observe(e)}},{key:"focus",value:function(){this._modifiedEditor.focus()}},{key:"hasTextFocus",value:function(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}},{key:"trigger",value:function(e,i,t){this._modifiedEditor.trigger(e,i,t)}},{key:"createDecorationsCollection",value:function(e){return this._modifiedEditor.createDecorationsCollection(e)}},{key:"changeDecorations",value:function(e){return this._modifiedEditor.changeDecorations(e)}},{key:"_onDidContainerSizeChanged",value:function(){this._doLayout()}},{key:"_getReviewHeight",value:function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}},{key:"_layoutOverviewRulers",value:function(){if(this._options.renderOverviewRuler&&this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:n+t.ONE_OVERVIEW_WIDTH,height:e-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:e-i}))}}},{key:"_onViewZonesChanged",value:function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}},{key:"_beginUpdateDecorationsSoon",value:function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((function(){return e._beginUpdateDecorations()}),t.UPDATE_DIFF_DECORATIONS_DELAY)}},{key:"_beginUpdateDecorations",value:function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);var i=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(i&&n){this._diffComputationToken++;var o=this._diffComputationToken,r=1024*this._options.maxFileSize*1024,a=function(e){var i=e.getValueLength();return 0===r||i<=r};a(i)&&a(n)?(this._setState(1),this._documentDiffProvider.computeDiff(i,n,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime}).then((function(t){o===e._diffComputationToken&&i===e._originalEditor.getModel()&&n===e._modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult={identical:t.identical,quitEarly:t.quitEarly,changes:t.changes.map((function(e){var i,t,n,o,r=e.innerChanges;return e.originalRange.isEmpty?(i=e.originalRange.startLineNumber-1,t=0,r=void 0):(i=e.originalRange.startLineNumber,t=e.originalRange.endLineNumberExclusive-1),e.modifiedRange.isEmpty?(n=e.modifiedRange.startLineNumber-1,o=0,r=void 0):(n=e.modifiedRange.startLineNumber,o=e.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:t,modifiedStartLineNumber:n,modifiedEndLineNumber:o,charChanges:null===r||void 0===r?void 0:r.map((function(e){return{originalStartLineNumber:e.originalRange.startLineNumber,originalStartColumn:e.originalRange.startColumn,originalEndLineNumber:e.originalRange.endLineNumber,originalEndColumn:e.originalRange.endColumn,modifiedStartLineNumber:e.modifiedRange.startLineNumber,modifiedStartColumn:e.modifiedRange.startColumn,modifiedEndLineNumber:e.modifiedRange.endLineNumber,modifiedEndColumn:e.modifiedRange.endColumn}}))}}))},e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())}),(function(t){o===e._diffComputationToken&&i===e._originalEditor.getModel()&&n===e._modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=null,e._updateDecorationsRunner.schedule())}))):t._equals(i.uri,this._lastOriginalWarning)&&t._equals(n.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=i.uri,this._lastModifiedWarning=n.uri,this._notificationService.warn(M.NC("diff.tooLarge","Cannot compare files because one file is too large.")))}}},{key:"_cleanViewZonesAndDecorations",value:function(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}},{key:"_updateDecorations",value:function(){if(this._originalEditor.getModel()&&this._modifiedEditor.getModel()){var e=this._diffComputationResult?this._diffComputationResult.changes:[],i=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),t=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(86),o=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,n,i,t);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}},{key:"_adjustOptionsForSubEditor",value:function(e){var i=Object.assign({},e);return i.inDiffEditor=!0,i.automaticLayout=!1,i.scrollbar=Object.assign({},i.scrollbar||{}),i.scrollbar.vertical="visible",i.folding=!1,i.codeLens=this._options.diffCodeLens,i.fixedOverflowWidgets=!0,i.minimap=Object.assign({},i.minimap||{}),i.minimap.enabled=!1,i}},{key:"_adjustOptionsForLeftHandSide",value:function(e){var i=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?i.wordWrapOverride1=this._options.diffWordWrap:(i.wordWrapOverride1="off",i.wordWrapOverride2="off"),e.originalAriaLabel&&(i.ariaLabel=e.originalAriaLabel),i.ariaLabel+=Re,i.readOnly=!this._options.originalEditable,i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}},{key:"_adjustOptionsForRightHandSide",value:function(e){var i=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(i.ariaLabel=e.modifiedAriaLabel),i.ariaLabel+=Re,i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=O.BH.revealHorizontalRightPadding.defaultValue+t.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}},{key:"doLayout",value:function(){this._elementSizeObserver.observe(),this._doLayout()}},{key:"_doLayout",value:function(){var e=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(t.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:o,height:i-n}),this._modifiedEditor.layout({width:e-o-(this._options.renderOverviewRuler?t.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,e,n),this._layoutOverviewViewport()}},{key:"_layoutOverviewViewport",value:function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}},{key:"_computeOverviewViewport",value:function(){var e=this._modifiedEditor.getLayoutInfo();if(!e)return null;var i=this._modifiedEditor.getScrollTop(),t=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-0),r=t>0?o/t:0;return{height:Math.max(0,Math.floor(e.height*r)),top:Math.floor(i*r)}}},{key:"_createDataSource",value:function(){var e=this;return{getWidth:function(){return e._elementSizeObserver.getWidth()},getHeight:function(){return e._elementSizeObserver.getHeight()-e._getReviewHeight()},getOptions:function(){return{renderOverviewRuler:e._options.renderOverviewRuler}},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e._originalEditor},getModifiedEditor:function(){return e._modifiedEditor}}}},{key:"_setStrategy",value:function(e){var i;null===(i=this._strategy)||void 0===i||i.dispose(),this._strategy=e,this._boundarySashes&&e.setBoundarySashes(this._boundarySashes),e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}},{key:"_getLineChangeAtOrBeforeLineNumber",value:function(e,i){var t=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===t.length||e<i(t[0]))return null;for(var n=0,o=t.length-1;n<o;){var r=Math.floor((n+o)/2),a=i(t[r]),s=r+1<=o?i(t[r+1]):1073741824;e<a?o=r-1:e>=s?n=r+1:(n=r,o=r)}return t[n]}},{key:"_getEquivalentLineForOriginalLineNumber",value:function(e){var i=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.originalStartLineNumber}));if(!i)return e;var t=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),n=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),o=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,r=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,a=e-t;return a<=o?n+Math.min(a,r):n+r-o+a}},{key:"_getEquivalentLineForModifiedLineNumber",value:function(e){var i=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.modifiedStartLineNumber}));if(!i)return e;var t=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),n=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),o=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,r=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,a=e-n;return a<=r?t+Math.min(a,o):t+o-r+a}},{key:"getDiffLineInformationForOriginal",value:function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}},{key:"getDiffLineInformationForModified",value:function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}}],[{key:"_getClassName",value:function(e,i){var t="monaco-diff-editor monaco-editor-background ";return i&&(t+="side-by-side "),t+=(0,we.m6)(e.type)}},{key:"_equals",value:function(e,i){return!e&&!i||!(!e||!i)&&e.toString()===i.toString()}}]),t}(D.JT);Ie.ONE_OVERVIEW_WIDTH=15,Ie.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Ie.UPDATE_DIFF_DECORATIONS_DELAY=200,Ie=be([Le(3,ge.p),Le(4,W.i6),Le(5,_e.TG),Le(6,S.$),Le(7,we.XE),Le(8,ye.lT),Le(9,me.i),Le(10,Ce.ek)],Ie);var Te=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e){var n;return(0,u.Z)(this,t),(n=i.call(this))._dataSource=e,n._insertColor=null,n._removeColor=null,n}return(0,h.Z)(t,[{key:"applyColors",value:function(e){var i=e.getColor(De.P6Y)||(e.getColor(De.ypS)||De.CzK).transparent(2),t=e.getColor(De.F9q)||(e.getColor(De.P4M)||De.keg).transparent(2),n=!i.equals(this._insertColor)||!t.equals(this._removeColor);return this._insertColor=i,this._removeColor=t,n}},{key:"getEditorsDiffDecorations",value:function(e,i,t,n,o,r){r=r.sort((function(e,i){return e.afterLineNumber-i.afterLineNumber})),o=o.sort((function(e,i){return e.afterLineNumber-i.afterLineNumber}));var a=this._getViewZones(e,o,r,t),s=this._getOriginalEditorDecorations(a,e,i,t),d=this._getModifiedEditorDecorations(a,e,i,t,n);return{original:{decorations:s.decorations,overviewZones:s.overviewZones,zones:a.original},modified:{decorations:d.decorations,overviewZones:d.overviewZones,zones:a.modified}}}},{key:"setBoundarySashes",value:function(e){}}]),t}(D.JT),Oe=function(){function e(i){(0,u.Z)(this,e),this._source=i,this._index=-1,this.current=null,this.advance()}return(0,h.Z)(e,[{key:"advance",value:function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}]),e}(),xe=function(){function e(i,t,n,o,r){(0,u.Z)(this,e),this._lineChanges=i,this._originalForeignVZ=t,this._modifiedForeignVZ=n,this._originalEditor=o,this._modifiedEditor=r}return(0,h.Z)(e,[{key:"getViewZones",value:function(){for(var i=this._originalEditor.getOption(63),t=this._modifiedEditor.getOption(63),n=-1!==this._originalEditor.getOption(139).wrappingColumn,o=-1!==this._modifiedEditor.getOption(139).wrappingColumn,r=n||o,a=this._originalEditor.getModel(),s=this._originalEditor._getViewModel().coordinatesConverter,d=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],u=[],h=0,c=0,v=0,f=0,g=0,m=0,_=function(e,i){return e.afterLineNumber-i.afterLineNumber},p=function(e,i){if(null===i.domNode&&e.length>0){var t=e[e.length-1];if(t.afterLineNumber===i.afterLineNumber&&null===t.domNode)return void(t.heightInLines+=i.heightInLines)}e.push(i)},y=new Oe(this._modifiedForeignVZ),C=new Oe(this._originalForeignVZ),D=1,w=1,b=0,L=this._lineChanges.length;b<=L;b++){var S=b<L?this._lineChanges[b]:null;null!==S?(v=S.originalStartLineNumber+(S.originalEndLineNumber>0?-1:0),f=S.modifiedStartLineNumber+(S.modifiedEndLineNumber>0?-1:0),c=S.originalEndLineNumber>0?e._getViewLineCount(this._originalEditor,S.originalStartLineNumber,S.originalEndLineNumber):0,h=S.modifiedEndLineNumber>0?e._getViewLineCount(this._modifiedEditor,S.modifiedStartLineNumber,S.modifiedEndLineNumber):0,g=Math.max(S.originalStartLineNumber,S.originalEndLineNumber),m=Math.max(S.modifiedStartLineNumber,S.modifiedEndLineNumber)):(g=v+=1e7+c,m=f+=1e7+h);var N=[],E=[];if(r){var k=void 0;k=S?S.originalEndLineNumber>0?S.originalStartLineNumber-D:S.modifiedStartLineNumber-w:a.getLineCount()-D+1;for(var M=0;M<k;M++){var R=D+M,I=w+M,T=s.getModelLineViewLineCount(R),O=d.getModelLineViewLineCount(I);T<O?N.push({afterLineNumber:R,heightInLines:O-T,domNode:null,marginDomNode:null}):T>O&&E.push({afterLineNumber:I,heightInLines:T-O,domNode:null,marginDomNode:null})}S&&(D=(S.originalEndLineNumber>0?S.originalEndLineNumber:S.originalStartLineNumber)+1,w=(S.modifiedEndLineNumber>0?S.modifiedEndLineNumber:S.modifiedStartLineNumber)+1)}for(;y.current&&y.current.afterLineNumber<=m;){var x=void 0;x=y.current.afterLineNumber<=f?v-f+y.current.afterLineNumber:g;var P=null;S&&S.modifiedStartLineNumber<=y.current.afterLineNumber&&y.current.afterLineNumber<=S.modifiedEndLineNumber&&(P=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),N.push({afterLineNumber:x,heightInLines:y.current.height/t,domNode:null,marginDomNode:P}),y.advance()}for(;C.current&&C.current.afterLineNumber<=g;){var Z=void 0;Z=C.current.afterLineNumber<=v?f-v+C.current.afterLineNumber:m,E.push({afterLineNumber:Z,heightInLines:C.current.height/i,domNode:null}),C.advance()}if(null!==S&&He(S)){var V=this._produceOriginalFromDiff(S,c,h);V&&N.push(V)}if(null!==S&&ze(S)){var W=this._produceModifiedFromDiff(S,c,h);W&&E.push(W)}var F=0,A=0;for(N=N.sort(_),E=E.sort(_);F<N.length&&A<E.length;){var H=N[F],z=E[A],U=H.afterLineNumber-v,B=z.afterLineNumber-f;U<B?(p(l,H),F++):B<U?(p(u,z),A++):H.shouldNotShrink?(p(l,H),F++):z.shouldNotShrink?(p(u,z),A++):H.heightInLines>=z.heightInLines?(H.heightInLines-=z.heightInLines,A++):(z.heightInLines-=H.heightInLines,F++)}for(;F<N.length;)p(l,N[F]),F++;for(;A<E.length;)p(u,E[A]),A++}return{original:e._ensureDomNodes(l),modified:e._ensureDomNodes(u)}}}],[{key:"_getViewLineCount",value:function(e,i,t){var n=e.getModel(),o=e._getViewModel();if(n&&o){var r=Ke(n,o,i,t);return r.endLineNumber-r.startLineNumber+1}return t-i+1}},{key:"_ensureDomNodes",value:function(e){return e.map((function(e){return e.domNode||(e.domNode=Qe()),e}))}}]),e}();function Pe(e,i,t,n,o){return{range:new ie.e(e,i,t,n),options:o}}var Ze={arrowRevertChange:ce.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+F.k.asClassName(p.l.arrowRight)}),charDelete:ce.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:ce.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:ce.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:ce.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:ce.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:ce.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+F.k.asClassName(Ee),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:ce.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:ce.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+F.k.asClassName(ke),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:ce.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})},Ve=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e,n){var r;return(0,u.Z)(this,t),(r=i.call(this,e))._disableSash=!1===n,r._sashRatio=null,r._sashPosition=null,r._startSashPosition=null,r._sash=r._register(new g.g(r._dataSource.getContainerDomNode(),(0,o.Z)(r),{orientation:0})),r._disableSash&&(r._sash.state=0),r._sash.onDidStart((function(){return r._onSashDragStart()})),r._sash.onDidChange((function(e){return r._onSashDrag(e)})),r._sash.onDidEnd((function(){return r._onSashDragEnd()})),r._sash.onDidReset((function(){return r._onSashReset()})),r}return(0,h.Z)(t,[{key:"setEnableSplitViewResizing",value:function(e){var i=!1===e;this._disableSash!==i&&(this._disableSash=i,this._sash.state=this._disableSash?0:3)}},{key:"layout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sashRatio,i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ie.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=Math.floor((e||.5)*i),o=Math.floor(.5*i);return n=this._disableSash?o:n||o,i>2*t.MINIMUM_EDITOR_WIDTH?(n<t.MINIMUM_EDITOR_WIDTH&&(n=t.MINIMUM_EDITOR_WIDTH),n>i-t.MINIMUM_EDITOR_WIDTH&&(n=i-t.MINIMUM_EDITOR_WIDTH)):n=o,this._sashPosition!==n&&(this._sashPosition=n),this._sash.layout(),this._sashPosition}},{key:"_onSashDragStart",value:function(){this._startSashPosition=this._sashPosition}},{key:"_onSashDrag",value:function(e){var i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ie.ENTIRE_DIFF_OVERVIEW_WIDTH:0),t=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=t/i,this._dataSource.relayoutEditors()}},{key:"_onSashDragEnd",value:function(){this._sash.layout()}},{key:"_onSashReset",value:function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}},{key:"getVerticalSashTop",value:function(e){return 0}},{key:"getVerticalSashLeft",value:function(e){return this._sashPosition}},{key:"getVerticalSashHeight",value:function(e){return this._dataSource.getHeight()}},{key:"setBoundarySashes",value:function(e){this._sash.orthogonalEndSash=e.bottom}},{key:"_getViewZones",value:function(e,i,t){var n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new We(e,i,t,n,o).getViewZones()}},{key:"_getOriginalEditorDecorations",value:function(e,i,t,n){var o,r=this._dataSource.getOriginalEditor(),a=String(this._removeColor),s={decorations:[],overviewZones:[]},d=r.getModel(),u=r._getViewModel(),h=(0,l.Z)(i);try{for(h.s();!(o=h.n()).done;){var c=o.value;if(ze(c)){s.decorations.push({range:new ie.e(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824),options:n?Ze.lineDeleteWithSign:Ze.lineDelete}),He(c)&&c.charChanges||s.decorations.push(Pe(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824,Ze.charDeleteWholeLine));var v=Ke(d,u,c.originalStartLineNumber,c.originalEndLineNumber);if(s.overviewZones.push(new fe.EY(v.startLineNumber,v.endLineNumber,0,a)),c.charChanges){var f,g=(0,l.Z)(c.charChanges);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(Be(m))if(t)for(var _=m.originalStartLineNumber;_<=m.originalEndLineNumber;_++){var p=void 0,y=void 0;p=_===m.originalStartLineNumber?m.originalStartColumn:d.getLineFirstNonWhitespaceColumn(_),y=_===m.originalEndLineNumber?m.originalEndColumn:d.getLineLastNonWhitespaceColumn(_),s.decorations.push(Pe(_,p,_,y,Ze.charDelete))}else s.decorations.push(Pe(m.originalStartLineNumber,m.originalStartColumn,m.originalEndLineNumber,m.originalEndColumn,Ze.charDelete))}}catch(C){g.e(C)}finally{g.f()}}}}}catch(C){h.e(C)}finally{h.f()}return s}},{key:"_getModifiedEditorDecorations",value:function(e,i,t,n,o){var r,a=this._dataSource.getModifiedEditor(),s=String(this._insertColor),d={decorations:[],overviewZones:[]},u=a.getModel(),h=a._getViewModel(),v=(0,l.Z)(i);try{var f=function(){var i=r.value;if(o)if(i.modifiedEndLineNumber>0)d.decorations.push({range:new ie.e(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber,1),options:Ze.arrowRevertChange});else{var a=e.modified.find((function(e){return e.afterLineNumber===i.modifiedStartLineNumber}));a&&(a.marginDomNode=function(){var e=document.createElement("div");return e.className="arrow-revert-change "+F.k.asClassName(p.l.arrowRight),c.$("div",{},e)}())}if(He(i)){d.decorations.push({range:new ie.e(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber,1073741824),options:n?Ze.lineInsertWithSign:Ze.lineInsert}),ze(i)&&i.charChanges||d.decorations.push(Pe(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber,1073741824,Ze.charInsertWholeLine));var v=Ke(u,h,i.modifiedStartLineNumber,i.modifiedEndLineNumber);if(d.overviewZones.push(new fe.EY(v.startLineNumber,v.endLineNumber,0,s)),i.charChanges){var f,g=(0,l.Z)(i.charChanges);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(Ue(m))if(t)for(var _=m.modifiedStartLineNumber;_<=m.modifiedEndLineNumber;_++){var y=void 0,C=void 0;y=_===m.modifiedStartLineNumber?m.modifiedStartColumn:u.getLineFirstNonWhitespaceColumn(_),C=_===m.modifiedEndLineNumber?m.modifiedEndColumn:u.getLineLastNonWhitespaceColumn(_),d.decorations.push(Pe(_,y,_,C,Ze.charInsert))}else d.decorations.push(Pe(m.modifiedStartLineNumber,m.modifiedStartColumn,m.modifiedEndLineNumber,m.modifiedEndColumn,Ze.charInsert))}}catch(D){g.e(D)}finally{g.f()}}}};for(v.s();!(r=v.n()).done;)f()}catch(g){v.e(g)}finally{v.f()}return d}}]),t}(Te);Ve.MINIMUM_EDITOR_WIDTH=100;var We=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e,n,o,r,a){return(0,u.Z)(this,t),i.call(this,e,n,o,r,a)}return(0,h.Z)(t,[{key:"_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion",value:function(){return null}},{key:"_produceOriginalFromDiff",value:function(e,i,t){return t>i?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:t-i,domNode:null}:null}},{key:"_produceModifiedFromDiff",value:function(e,i,t){return i>t?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:i-t,domNode:null}:null}}]),t}(xe),Fe=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e,n){var o;return(0,u.Z)(this,t),(o=i.call(this,e))._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,o._register(e.getOriginalEditor().onDidLayoutChange((function(i){o._decorationsLeft!==i.decorationsLeft&&(o._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))),o}return(0,h.Z)(t,[{key:"setEnableSplitViewResizing",value:function(e){}},{key:"_getViewZones",value:function(e,i,t,n){var o=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new Ae(e,i,t,o,r,n).getViewZones()}},{key:"_getOriginalEditorDecorations",value:function(e,i,t,n){var o,r=String(this._removeColor),a={decorations:[],overviewZones:[]},s=this._dataSource.getOriginalEditor(),d=s.getModel(),u=s._getViewModel(),h=0,c=(0,l.Z)(i);try{for(c.s();!(o=c.n()).done;){var v=o.value;if(ze(v)){for(a.decorations.push({range:new ie.e(v.originalStartLineNumber,1,v.originalEndLineNumber,1073741824),options:Ze.lineDeleteMargin});h<e.modified.length;){var f=e.modified[h];if(f.diff&&f.diff.originalStartLineNumber>=v.originalStartLineNumber)break;h++}var g=0;if(h<e.modified.length){var m=e.modified[h];m.diff&&m.diff.originalStartLineNumber===v.originalStartLineNumber&&m.diff.originalEndLineNumber===v.originalEndLineNumber&&m.diff.modifiedStartLineNumber===v.modifiedStartLineNumber&&m.diff.modifiedEndLineNumber===v.modifiedEndLineNumber&&(g=m.heightInLines)}var _=Ke(d,u,v.originalStartLineNumber,v.originalEndLineNumber);a.overviewZones.push(new fe.EY(_.startLineNumber,_.endLineNumber,g,r))}}}catch(p){c.e(p)}finally{c.f()}return a}},{key:"_getModifiedEditorDecorations",value:function(e,i,t,n,o){var r,a=this._dataSource.getModifiedEditor(),s=String(this._insertColor),d={decorations:[],overviewZones:[]},u=a.getModel(),h=a._getViewModel(),c=(0,l.Z)(i);try{for(c.s();!(r=c.n()).done;){var v=r.value;if(He(v)){d.decorations.push({range:new ie.e(v.modifiedStartLineNumber,1,v.modifiedEndLineNumber,1073741824),options:n?Ze.lineInsertWithSign:Ze.lineInsert});var f=Ke(u,h,v.modifiedStartLineNumber,v.modifiedEndLineNumber);if(d.overviewZones.push(new fe.EY(f.startLineNumber,f.endLineNumber,0,s)),v.charChanges){var g,m=(0,l.Z)(v.charChanges);try{for(m.s();!(g=m.n()).done;){var _=g.value;if(Ue(_))if(t)for(var p=_.modifiedStartLineNumber;p<=_.modifiedEndLineNumber;p++){var y=void 0,C=void 0;y=p===_.modifiedStartLineNumber?_.modifiedStartColumn:u.getLineFirstNonWhitespaceColumn(p),C=p===_.modifiedEndLineNumber?_.modifiedEndColumn:u.getLineLastNonWhitespaceColumn(p),d.decorations.push(Pe(p,y,p,C,Ze.charInsert))}else d.decorations.push(Pe(_.modifiedStartLineNumber,_.modifiedStartColumn,_.modifiedEndLineNumber,_.modifiedEndColumn,Ze.charInsert))}}catch(D){m.e(D)}finally{m.f()}}else d.decorations.push(Pe(v.modifiedStartLineNumber,1,v.modifiedEndLineNumber,1073741824,Ze.charInsertWholeLine))}}}catch(D){c.e(D)}finally{c.f()}return d}},{key:"layout",value:function(){return Math.max(5,this._decorationsLeft)}}]),t}(Te),Ae=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e,n,o,r,a,s){var d;return(0,u.Z)(this,t),(d=i.call(this,e,n,o,r,a))._originalModel=r.getModel(),d._renderIndicators=s,d._pendingLineChange=[],d._pendingViewZones=[],d._lineBreaksComputer=d._modifiedEditor._getViewModel().createLineBreaksComputer(),d}return(0,h.Z)(t,[{key:"getViewZones",value:function(){var e=(0,r.Z)((0,a.Z)(t.prototype),"getViewZones",this).call(this);return this._finalize(e),e}},{key:"_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion",value:function(){var e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}},{key:"_produceOriginalFromDiff",value:function(e,i,t){var n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:t,domNode:document.createElement("div"),marginDomNode:n}}},{key:"_produceModifiedFromDiff",value:function(e,i,t){var n=document.createElement("div");n.className="view-lines line-delete ".concat(f.S);var o=document.createElement("div");o.className="inline-deleted-margin-view-zone";for(var r={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:i,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}},a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(r),r}},{key:"_finalize",value:function(e){for(var i=this._modifiedEditor.getOptions(),t=this._modifiedEditor.getModel().getOptions().tabSize,n=i.get(47),o=i.get(30),r=n.typicalHalfwidthCharacterWidth,a=i.get(98),s=this._originalModel.mightContainNonBasicASCII(),d=this._originalModel.mightContainRTL(),u=i.get(63),h=i.get(138).decorationsWidth,c=i.get(111),v=i.get(93),f=i.get(88),g=i.get(48),m=this._lineBreaksComputer.finalize(),_=0,p=0;p<this._pendingLineChange.length;p++){var y=this._pendingLineChange[p],C=this._pendingViewZones[p],D=C.domNode;(0,w.N)(D,n);var b=C.marginDomNode;(0,w.N)(b,n);var L=[];if(y.charChanges){var S,N=(0,l.Z)(y.charChanges);try{for(N.s();!(S=N.n()).done;){var E=S.value;Be(E)&&L.push(new V.$t(new ie.e(E.originalStartLineNumber,E.originalStartColumn,E.originalEndLineNumber,E.originalEndColumn),"char-delete",0))}}catch(X){N.e(X)}finally{N.f()}}for(var k=L.length>0,M=new ue.HT(1e4),R=0,I=0,T=null,O=y.originalStartLineNumber;O<=y.originalEndLineNumber;O++){var x=O-y.originalStartLineNumber,P=this._originalModel.tokenization.getLineTokens(O),Z=P.getLineContent(),W=m[_++],F=ve.Kp.filter(L,O,1,Z.length+1);if(W){var A,H=0,z=(0,l.Z)(W.breakOffsets);try{for(z.s();!(A=z.n()).done;){var U=A.value,B=P.sliceAndInflate(H,U,0),Q=Z.substring(H,U);R=Math.max(R,this._renderOriginalLine(I++,Q,B,ve.Kp.extractWrapped(F,H,U),k,s,d,n,o,u,h,c,v,f,g,t,M,b)),H=U}}catch(X){z.e(X)}finally{z.f()}for(T||(T=[]);T.length<x;)T[T.length]=1;T[x]=W.breakOffsets.length,C.heightInLines+=W.breakOffsets.length-1;var K=document.createElement("div");K.className="gutter-delete",e.original.push({afterLineNumber:O,afterColumn:0,heightInLines:W.breakOffsets.length-1,domNode:Qe(),marginDomNode:K})}else R=Math.max(R,this._renderOriginalLine(I++,Z,P,F,k,s,d,n,o,u,h,c,v,f,g,t,M,b))}R+=a;var q=M.build(),j=Me?Me.createHTML(q):q;if(D.innerHTML=j,C.minWidthInPx=R*r,T)for(var J=y.originalEndLineNumber-y.originalStartLineNumber;T.length<=J;)T[T.length]=1;C.diff.viewLineCounts=T}e.original.sort((function(e,i){return e.afterLineNumber-i.afterLineNumber}))}},{key:"_renderOriginalLine",value:function(e,i,t,n,o,r,a,s,d,l,u,h,c,v,f,g,m,_){m.appendString('<div class="view-line'),o||m.appendString(" char-delete"),m.appendString('" style="top:'),m.appendString(String(e*l)),m.appendString('px;width:1000000px;">');var p=V.wA.isBasicASCII(i,r),y=V.wA.containsRTL(i,p,a),C=(0,Z.d1)(new Z.IJ(s.isMonospace&&!d,s.canUseHalfwidthRightwardsArrow,i,!1,p,y,0,t,n,g,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,h,c,v,f!==O.n0.OFF,null),m);if(m.appendString("</div>"),this._renderIndicators){var D=document.createElement("div");D.className="delete-sign ".concat(F.k.asClassName(ke)),D.setAttribute("style","position:absolute;top:".concat(e*l,"px;width:").concat(u,"px;height:").concat(l,"px;right:0;")),_.appendChild(D)}return C.characterMapping.getHorizontalOffset(C.characterMapping.length)}}]),t}(xe);function He(e){return e.modifiedEndLineNumber>0}function ze(e){return e.originalEndLineNumber>0}function Ue(e){return e.modifiedStartLineNumber===e.modifiedEndLineNumber?e.modifiedEndColumn-e.modifiedStartColumn>0:e.modifiedEndLineNumber-e.modifiedStartLineNumber>0}function Be(e){return e.originalStartLineNumber===e.originalEndLineNumber?e.originalEndColumn-e.originalStartColumn>0:e.originalEndLineNumber-e.originalStartLineNumber>0}function Qe(){var e=document.createElement("div");return e.className="diagonal-fill",e}function Ke(e,i,t,n){var o=e.getLineCount();return t=Math.min(o,Math.max(1,t)),n=Math.min(o,Math.max(1,n)),i.coordinatesConverter.convertModelRangeToViewRange(new ie.e(t,e.getLineMinColumn(t),n,e.getLineMaxColumn(n)))}function qe(e,i){return{enableSplitViewResizing:(0,O.O7)(e.enableSplitViewResizing,i.enableSplitViewResizing),renderSideBySide:(0,O.O7)(e.renderSideBySide,i.renderSideBySide),renderMarginRevertIcon:(0,O.O7)(e.renderMarginRevertIcon,i.renderMarginRevertIcon),maxComputationTime:(0,O.Zc)(e.maxComputationTime,i.maxComputationTime,0,1073741824),maxFileSize:(0,O.Zc)(e.maxFileSize,i.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,O.O7)(e.ignoreTrimWhitespace,i.ignoreTrimWhitespace),renderIndicators:(0,O.O7)(e.renderIndicators,i.renderIndicators),originalEditable:(0,O.O7)(e.originalEditable,i.originalEditable),diffCodeLens:(0,O.O7)(e.diffCodeLens,i.diffCodeLens),renderOverviewRuler:(0,O.O7)(e.renderOverviewRuler,i.renderOverviewRuler),diffWordWrap:(t=e.diffWordWrap,n=i.diffWordWrap,(0,O.NY)(t,n,["off","on","inherit"])),diffAlgorithm:(0,O.NY)(e.diffAlgorithm,i.diffAlgorithm,["smart","experimental"])};var t,n}(0,we.Ic)((function(e,i){var t=e.getColor(De.L_t);i.addRule("\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t".concat(t," 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t").concat(t," 50%, ").concat(t," 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t"))}))},77141:function(e,i,t){t.d(i,{F:function(){return C}});var n=t(15671),o=t(43144),r=t(11752),a=t(61120),s=t(60136),d=t(27277),l=t(65361),u=t(28941),h=t(10526),c=t(57151),v=t(30788),f=t(1759),g=t(56692),m=t(99277),_=function(e,i,t,n){var o,r=arguments.length,a=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,i,t,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(i,t,a):o(i,t))||a);return r>3&&a&&Object.defineProperty(i,t,a),a},p=function(e,i){return function(t,n){i(t,n,e)}},y={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0},C=function(e){(0,s.Z)(t,e);var i=(0,d.Z)(t);function t(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;return(0,n.Z)(this,t),(o=i.call(this))._audioCueService=a,o._codeEditorService=s,o._accessibilityService=d,o._onDidUpdate=o._register(new u.Q5),o._editor=e,o._options=c.jB(r,y,!1),o.disposed=!1,o.nextIdx=-1,o.ranges=[],o.ignoreSelectionChange=!1,o.revealFirst=Boolean(o._options.alwaysRevealFirst),o._register(o._editor.onDidDispose((function(){return o.dispose()}))),o._register(o._editor.onDidUpdateDiff((function(){return o._onDiffUpdated()}))),o._options.followsCaret&&o._register(o._editor.getModifiedEditor().onDidChangeCursorPosition((function(e){o.ignoreSelectionChange||(o._updateAccessibilityState(e.position.lineNumber),o.nextIdx=-1)}))),o._options.alwaysRevealFirst&&o._register(o._editor.getModifiedEditor().onDidChangeModel((function(e){o.revealFirst=!0}))),o._init(),o}return(0,o.Z)(t,[{key:"_init",value:function(){this._editor.getLineChanges()}},{key:"_onDiffUpdated",value:function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}},{key:"_compute",value:function(e){var i=this;this.ranges=[],e&&e.forEach((function(e){!i._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((function(e){i.ranges.push({rhs:!0,range:new v.e(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):0===e.modifiedEndLineNumber?i.ranges.push({rhs:!0,range:new v.e(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber+1,1)}):i.ranges.push({rhs:!0,range:new v.e(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber+1,1)})})),this.ranges.sort((function(e,i){return v.e.compareRangesUsingStarts(e.range,i.range)})),this._onDidUpdate.fire(this)}},{key:"_initIdx",value:function(e){var i=!1,t=this._editor.getPosition();if(t){for(var n=0,o=this.ranges.length;n<o&&!i;n++){var r=this.ranges[n].range;t.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=n+(e?0:-1),i=!0)}i||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}},{key:"_move",value:function(e,i){if(l.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=t.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(t.range,i),this._updateAccessibilityState(n.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}}},{key:"_updateAccessibilityState",value:function(e,i){var t,n=null===(t=this._editor.getModel())||void 0===t?void 0:t.modified;if(n){var o=n.getLineDecorations(e).find((function(e){return"line-insert"===e.options.className}));if(o)this._audioCueService.playAudioCue(f.y$.diffLineModified,!0);else{if(!i)return;this._audioCueService.playAudioCue(f.y$.diffLineDeleted,!0)}var r=this._codeEditorService.getActiveCodeEditor();i&&r&&o&&this._accessibilityService.isScreenReaderOptimized()&&(r.setSelection({startLineNumber:e,startColumn:0,endLineNumber:e,endColumn:Number.MAX_VALUE}),r.writeScreenReaderContent("diff-navigation"))}}},{key:"canNavigate",value:function(){return this.ranges&&this.ranges.length>0}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.canNavigateNext()&&this._move(!0,e)}},{key:"previous",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.canNavigatePrevious()&&this._move(!1,e)}},{key:"canNavigateNext",value:function(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}},{key:"canNavigatePrevious",value:function(){return this.canNavigateLoop()||0!==this.nextIdx}},{key:"canNavigateLoop",value:function(){return Boolean(this._options.findResultLoop)}},{key:"dispose",value:function(){(0,r.Z)((0,a.Z)(t.prototype),"dispose",this).call(this),this.ranges=[],this.disposed=!0}}]),t}(h.JT);C=_([p(2,f.e7),p(3,g.$),p(4,m.F)],C)},77087:function(e,i,t){t.d(i,{H:function(){return b}});var n=t(15671),o=t(43144),r=t(97326),a=t(60136),s=t(27277),d=t(11752),l=t(61120),u=t(57151),h=t(56692),c=t(27923),v=t(89850),f=t(49525),g=t(8850),m=t(13023),_=t(3553),p=t(99277),y=t(26765),C=t(45161),D=function(e,i,t,n){var o,r=arguments.length,a=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,i,t,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(i,t,a):o(i,t))||a);return r>3&&a&&Object.defineProperty(i,t,a),a},w=function(e,i){return function(t,n){i(t,n,e)}},b=function(e){(0,a.Z)(t,e);var i=(0,s.Z)(t);function t(e,o,a,s,u,h,c,v,f,g,m,_){var p,y;return(0,n.Z)(this,t),(y=i.call(this,e,Object.assign(Object.assign({},a.getRawOptions()),{overflowWidgetsDomNode:a.getOverflowWidgetsDomNode()}),{},s,u,h,c,v,f,g,m,_))._parentEditor=a,y._overwriteOptions=o,(0,d.Z)((p=(0,r.Z)(y),(0,l.Z)(t.prototype)),"updateOptions",p).call(p,y._overwriteOptions),y._register(a.onDidChangeConfiguration((function(e){return y._onParentConfigurationChanged(e)}))),y}return(0,o.Z)(t,[{key:"getParentEditor",value:function(){return this._parentEditor}},{key:"_onParentConfigurationChanged",value:function(e){(0,d.Z)((0,l.Z)(t.prototype),"updateOptions",this).call(this,this._parentEditor.getRawOptions()),(0,d.Z)((0,l.Z)(t.prototype),"updateOptions",this).call(this,this._overwriteOptions)}},{key:"updateOptions",value:function(e){u.jB(this._overwriteOptions,e,!0),(0,d.Z)((0,l.Z)(t.prototype),"updateOptions",this).call(this,this._overwriteOptions)}}]),t}(c.Gm);b=D([w(3,g.TG),w(4,h.$),w(5,v.H),w(6,f.i6),w(7,_.XE),w(8,m.lT),w(9,p.F),w(10,y.c_),w(11,C.p)],b)}}]);
//# sourceMappingURL=monaco-editor-vendor.55a95165.0e421a4f.js.map