"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[658],{25539:function(e,t,n){n.d(t,{R8:function(){return v}});var i=n(74165),o=n(43144),r=n(15671),a=n(32590),s=n(32124),u=n(68552),c=n(98351),l=n(45161),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{u(i.next(e))}catch(t){r(t)}}function s(e){try{u(i.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},d=(0,o.Z)((function e(t,n,i){(0,r.Z)(this,e),this.provider=t,this.hover=n,this.ordinal=i}));function v(e,t,n,o){var r=e.ordered(t).map((function(e,r){return function(e,t,n,o,r){return h(this,void 0,void 0,(0,i.Z)().mark((function a(){var s;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Promise.resolve(e.provideHover(n,o,r));case 3:if(!(s=i.sent)||!g(s)){i.next=6;break}return i.abrupt("return",new d(e,s,t));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),(0,u.Cp)(i.t0);case 11:return i.abrupt("return",void 0);case 12:case"end":return i.stop()}}),a,null,[[0,8]])})))}(e,r,t,n,o)}));return a.Aq.fromPromises(r).coalesce()}function g(e){var t="undefined"!==typeof e.range,n="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&n}(0,c.sb)("_executeHoverProvider",(function(e,t,n){return function(e,t,n,i){return v(e,t,n,i).map((function(e){return e.hover})).toPromise()}(e.get(l.p).hoverProvider,t,n,s.T.None)}))},14380:function(e,t,n){n.r(t),n.d(t,{ModesHoverController:function(){return ye}});var i=n(60136),o=n(27277),r=n(15671),a=n(43144),s=n(27924),u=n(10526),c=n(98351),l=n(30788),h=n(44474),d=n(63024),v=n(24034),g=n(97326),f=n(11752),p=n(61120),_=n(37762),m=n(53210),y=n(6215),C=n(71881),b=n(10849),k=n(77161),S=n(56417),w=n(74165),D=n(32590),L=n(68552),I=n(28941),N=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{u(i.next(e))}catch(t){r(t)}}function s(e){try{u(i.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},Z=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}},M=(0,a.Z)((function e(t,n,i){(0,r.Z)(this,e),this.value=t,this.isComplete=n,this.hasLoadingMessage=i})),x=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var o;return(0,r.Z)(this,n),(o=t.call(this))._editor=e,o._computer=i,o._onResult=o._register(new I.Q5),o.onResult=o._onResult.event,o._firstWaitScheduler=o._register(new D.pY((function(){return o._triggerAsyncComputation()}),0)),o._secondWaitScheduler=o._register(new D.pY((function(){return o._triggerSyncComputation()}),0)),o._loadingMessageScheduler=o._register(new D.pY((function(){return o._triggerLoadingMessage()}),0)),o._state=0,o._asyncIterable=null,o._asyncIterableDone=!1,o._result=[],o}return(0,a.Z)(n,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),(0,f.Z)((0,p.Z)(n.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(55).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._state=e,t&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var e=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,D.zS)((function(t){return e._computer.computeAsync(t)})),N(e,void 0,void 0,(0,w.Z)().mark((function e(){var t,n,i,o,r;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,i=Z(this._asyncIterable);case 3:return e.next=5,i.next();case 5:if((o=e.sent).done){e.next=11;break}(r=o.value)&&(this._result.push(r),this._fireResult());case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t={error:e.t0};case 16:if(e.prev=16,e.prev=17,!o||o.done||!(n=i.return)){e.next=21;break}return e.next=21,n.call(i);case 21:if(e.prev=21,!t){e.next=24;break}throw t.error;case 24:return e.finish(21);case 25:return e.finish(16);case 26:this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),(0,L.dL)(e.t1);case 33:case"end":return e.stop()}}),e,this,[[0,30],[1,13,16,26],[17,,21,25]])})))):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){3===this._state&&this._setState(4)}},{key:"_fireResult",value:function(){if(1!==this._state&&2!==this._state){var e=0===this._state,t=4===this._state;this._onResult.fire(new M(this._result.slice(0),e,t))}}},{key:"start",value:function(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),n}(u.JT),R=n(51168),O=n(49525),A=n(8850),P=n(45753),T=n(47510),W=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,i){t(n,i,e)}},H=m.$,F=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,o){var a;(0,r.Z)(this,n),(a=t.call(this))._editor=e,a._instantiationService=i,a._keybindingService=o,a._widget=a._register(a._instantiationService.createInstance(U,a._editor)),a._isChangingDecorations=!1,a._messages=[],a._messagesAreComplete=!1,a._participants=[];var s,u=(0,_.Z)(R.Ae.getAll());try{for(u.s();!(s=u.n()).done;){var c=s.value;a._participants.push(a._instantiationService.createInstance(c,a._editor))}}catch(l){u.e(l)}finally{u.f()}return a._participants.sort((function(e,t){return e.hoverOrdinal-t.hoverOrdinal})),a._computer=new q(a._editor,a._participants),a._hoverOperation=a._register(new x(a._editor,a._computer)),a._register(a._hoverOperation.onResult((function(e){a._withResult(e.value,e.isComplete,e.hasLoadingMessage)}))),a._register(a._editor.onDidChangeModelDecorations((function(){a._isChangingDecorations||a._onModelDecorationsChanged()}))),a._register(m.addStandardDisposableListener(a._widget.getDomNode(),"keydown",(function(e){e.equals(9)&&a.hide()}))),a._register(S.RW.onDidChange((function(){a._widget.position&&a._computer.anchor&&a._messages.length>0&&(a._widget.clear(),a._renderMessages(a._computer.anchor,a._messages))}))),a}return(0,a.Z)(n,[{key:"_onModelDecorationsChanged",value:function(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}},{key:"maybeShowAt",value:function(e){var t,n=[],i=(0,_.Z)(this._participants);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.suggestHoverAnchor){var r=o.suggestHoverAnchor(e);r&&n.push(r)}}}catch(u){i.e(u)}finally{i.f()}var a=e.target;if(6===a.type&&n.push(new R.Qj(0,a.range)),7===a.type){var s=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!a.detail.isAfterLines&&"number"===typeof a.detail.horizontalDistanceToText&&a.detail.horizontalDistanceToText<s&&n.push(new R.Qj(0,a.range))}return 0!==n.length&&(n.sort((function(e,t){return t.priority-e.priority})),this._startShowingAt(n[0],0,!1),!0)}},{key:"startShowingAtRange",value:function(e,t,n){this._startShowingAt(new R.Qj(0,e),t,n)}},{key:"_startShowingAt",value:function(e,t,n){if(!this._computer.anchor||!this._computer.anchor.equals(e)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&e.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){var i=this._messages.filter((function(t){return t.isValidForHoverAnchor(e)}));if(0===i.length)this.hide();else{if(i.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,i)}}else this.hide();this._computer.anchor=e,this._computer.shouldFocus=n,this._hoverOperation.start(t)}}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}},{key:"isColorPickerVisible",value:function(){return this._widget.isColorPickerVisible}},{key:"containsNode",value:function(e){return this._widget.getDomNode().contains(e)}},{key:"_addLoadingMessage",value:function(e){if(this._computer.anchor){var t,n=(0,_.Z)(this._participants);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.createLoadingMessage){var o=i.createLoadingMessage(this._computer.anchor);if(o)return e.slice(0).concat([o])}}}catch(r){n.e(r)}finally{n.f()}}return e}},{key:"_withResult",value:function(e,t,n){this._messages=n?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}},{key:"_renderMessages",value:function(e,t){var i,o=this,r=n.computeHoverRanges(e.range,t),a=r.showAtPosition,s=r.showAtRange,c=r.highlightRange,l=new u.SL,h=l.add(new z(this._keybindingService)),d=document.createDocumentFragment(),v=null,g={fragment:d,statusBar:h,setColorPicker:function(e){return v=e},onContentsChanged:function(){return o._widget.onContentsChanged()},hide:function(){return o.hide()}},f=(0,_.Z)(this._participants);try{var p=function(){var e=i.value,n=t.filter((function(t){return t.owner===e}));n.length>0&&l.add(e.renderHoverParts(g,n))};for(f.s();!(i=f.n()).done;)p()}catch(y){f.e(y)}finally{f.f()}if(h.hasContent&&d.appendChild(h.hoverElement),d.hasChildNodes()){if(c){var m=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,m.set([{range:c,options:n._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}l.add((0,u.OF)((function(){try{o._isChangingDecorations=!0,m.clear()}finally{o._isChangingDecorations=!1}})))}this._widget.showAt(d,new V(v,a,s,this._editor.getOption(55).above,this._computer.shouldFocus,l))}else l.dispose()}}],[{key:"computeHoverRanges",value:function(e,t){var n,i=e.startLineNumber,o=e.startColumn,r=e.endColumn,a=t[0].range,s=null,u=(0,_.Z)(t);try{for(u.s();!(n=u.n()).done;){var c=n.value;a=l.e.plusRange(a,c.range),c.range.startLineNumber===i&&c.range.endLineNumber===i&&(o=Math.min(o,c.range.startColumn),r=Math.max(r,c.range.endColumn)),c.forceShowAtRange&&(s=c.range)}}catch(h){u.e(h)}finally{u.f()}return{showAtPosition:s?s.getStartPosition():new b.L(e.startLineNumber,o),showAtRange:s||new l.e(i,o,i,r),highlightRange:a}}}]),n}(u.JT);F._DECORATION_OPTIONS=k.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),F=W([E(1,A.TG),E(2,P.d)],F);var V=(0,a.Z)((function e(t,n,i,o,a,s){(0,r.Z)(this,e),this.colorPicker=t,this.showAtPosition=n,this.showAtRange=i,this.preferAbove=o,this.stoleFocus=a,this.disposables=s})),U=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var o;return(0,r.Z)(this,n),(o=t.call(this))._editor=e,o._contextKeyService=i,o.allowEditorOverflow=!0,o._hoverVisibleKey=h.u.hoverVisible.bindTo(o._contextKeyService),o._hover=o._register(new y.c),o._visibleData=null,o._register(o._editor.onDidLayoutChange((function(){return o._layout()}))),o._register(o._editor.onDidChangeConfiguration((function(e){e.hasChanged(46)&&o._updateFont()}))),o._setVisibleData(null),o._layout(),o._editor.addContentWidget((0,g.Z)(o)),o}return(0,a.Z)(n,[{key:"position",get:function(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}},{key:"isColorPickerVisible",get:function(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}},{key:"dispose",value:function(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),(0,f.Z)((0,p.Z)(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){if(!this._visibleData)return null;var e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(T._y.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}},{key:"_setVisibleData",value:function(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}},{key:"_layout",value:function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(46),n=t.fontSize,i=t.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(n,"px"),this._hover.contentsDomNode.style.lineHeight="".concat(i/n),this._hover.contentsDomNode.style.maxHeight="".concat(e,"px"),this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(.66*this._editor.getLayoutInfo().width,500),"px")}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"showAt",value:function(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}},{key:"hide",value:function(){if(this._visibleData){var e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}},{key:"onContentsChanged",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();var e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){var t="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingBottom!==t&&(this._hover.contentsDomNode.style.paddingBottom=t,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}},{key:"clear",value:function(){this._hover.contentsDomNode.textContent=""}}]),n}(u.JT);U.ID="editor.contrib.contentHoverWidget",U=W([E(1,O.i6)],U);var z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this))._keybindingService=e,i._hasContent=!1,i.hoverElement=H("div.hover-row.status-bar"),i.actionsElement=m.append(i.hoverElement,H("div.actions")),i}return(0,a.Z)(n,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(e){var t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(y.S.render(this.actionsElement,e,n))}},{key:"append",value:function(e){var t=m.append(this.actionsElement,e);return this._hasContent=!0,t}}]),n}(u.JT);z=W([E(0,P.d)],z);var q=function(){function e(t,n){(0,r.Z)(this,e),this._editor=t,this._participants=n,this._anchor=null,this._shouldFocus=!1}return(0,a.Z)(e,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"computeAsync",value:function(t){var n=this._anchor;if(!this._editor.hasModel()||!n)return D.Aq.EMPTY;var i=e._getLineDecorations(this._editor,n);return D.Aq.merge(this._participants.map((function(e){return e.computeAsync?e.computeAsync(n,i,t):D.Aq.EMPTY})))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var t,n=e._getLineDecorations(this._editor,this._anchor),i=[],o=(0,_.Z)(this._participants);try{for(o.s();!(t=o.n()).done;){var r=t.value;i=i.concat(r.computeSync(this._anchor,n))}}catch(a){o.e(a)}finally{o.f()}return(0,C.kX)(i)}}],[{key:"_getLineDecorations",value:function(e,t){if(1!==t.type)return[];var n=e.getModel(),i=t.range.startLineNumber;if(i>n.getLineCount())return[];var o=n.getLineMaxColumn(i);return e.getLineDecorations(i).filter((function(e){if(e.options.isWholeLine)return!0;var n=e.range.startLineNumber===i?e.range.startColumn:1,r=e.range.endLineNumber===i?e.range.endColumn:o;if(e.options.showIfCollapsed){if(n>t.range.startColumn+1||t.range.endColumn-1>r)return!1}else if(n>t.range.startColumn||t.range.endColumn>r)return!1;return!0}))}}]),e}(),Q=n(93433),j=n(67277),Y=n(65163),K=n(74990),J=m.$,B=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K.SW;return(0,r.Z)(this,n),(o=t.call(this))._renderDisposeables=o._register(new u.SL),o._editor=e,o._isVisible=!1,o._messages=[],o._hover=o._register(new y.c),o._hover.containerDomNode.classList.toggle("hidden",!o._isVisible),o._markdownRenderer=o._register(new Y.$({editor:o._editor},i,a)),o._computer=new G(o._editor),o._hoverOperation=o._register(new x(o._editor,o._computer)),o._register(o._hoverOperation.onResult((function(e){o._withResult(e.value)}))),o._register(o._editor.onDidChangeModelDecorations((function(){return o._onModelDecorationsChanged()}))),o._register(o._editor.onDidChangeConfiguration((function(e){e.hasChanged(46)&&o._updateFont()}))),o._editor.addOverlayWidget((0,g.Z)(o)),o}return(0,a.Z)(n,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),(0,f.Z)((0,p.Z)(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(e,t){this._renderDisposeables.clear();var n,i=document.createDocumentFragment(),o=(0,_.Z)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value,a=J("div.hover-row.markdown-hover"),s=m.append(a,J("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(r.value));s.appendChild(u.element),i.appendChild(a)}}catch(c){o.e(c)}finally{o.f()}this._updateContents(i),this._showAt(e)}},{key:"_updateContents",value:function(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}},{key:"_showAt",value:function(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),i=this._editor.getScrollTop(),o=this._editor.getOption(61),r=n-i-(this._hover.containerDomNode.clientHeight-o)/2;this._hover.containerDomNode.style.left="".concat(t.glyphMarginLeft+t.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(r),0),"px")}}]),n}(u.JT);B.ID="editor.contrib.modesGlyphHoverWidget";var G=function(){function e(t){(0,r.Z)(this,e),this._editor=t,this._lineNumber=-1}return(0,a.Z)(e,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;var i,o=(0,_.Z)(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r.options.glyphMarginClassName){var a=r.options.glyphMarginHoverMessage;a&&!(0,j.CP)(a)&&n.push.apply(n,(0,Q.Z)((0,C._2)(a).map(e)))}}}catch(s){o.e(s)}finally{o.f()}return n}}]),e}(),$=n(87697),X=n(6574),ee=n(3553),te=n(38305),ne=n(34408),ie=n(84617),oe=n(92547),re=n(23456),ae=n(36175),se=n(68344),ue=n(52721),ce=n(26562),le=n(45161),he=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},de=function(e,t){return function(n,i){t(n,i,e)}},ve=m.$,ge=function(){function e(t,n,i){(0,r.Z)(this,e),this.owner=t,this.range=n,this.marker=i}return(0,a.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),fe={type:1,filter:{include:ae.yN.QuickFix},triggerAction:ae.aQ.QuickFixHover},pe=function(){function e(t,n,i,o){(0,r.Z)(this,e),this._editor=t,this._markerDecorationsService=n,this._openerService=i,this._languageFeaturesService=o,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}return(0,a.Z)(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n,i=this._editor.getModel(),o=e.range.startLineNumber,r=i.getLineMaxColumn(o),a=[],s=(0,_.Z)(t);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=u.range.startLineNumber===o?u.range.startColumn:1,h=u.range.endLineNumber===o?u.range.endColumn:r,d=this._markerDecorationsService.getMarker(i.uri,u);if(d){var v=new l.e(e.range.startLineNumber,c,e.range.startLineNumber,h);a.push(new ge(this,v,d))}}}catch(g){s.e(g)}finally{s.f()}return a}},{key:"renderHoverParts",value:function(e,t){var n=this;if(!t.length)return u.JT.None;var i=new u.SL;t.forEach((function(t){return e.fragment.appendChild(n.renderMarkerHover(t,i))}));var o=1===t.length?t[0]:t.sort((function(e,t){return ue.ZL.compare(e.marker.severity,t.marker.severity)}))[0];return this.renderMarkerStatusbar(e,o,i),i}},{key:"renderMarkerHover",value:function(e,t){var n=this,i=ve("div.hover-row"),o=m.append(i,ve("div.marker.hover-contents")),r=e.marker,a=r.source,s=r.message,u=r.code,c=r.relatedInformation;this._editor.applyFontInfo(o);var l=m.append(o,ve("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=s,a||u)if(u&&"string"!==typeof u){var h=ve("span");if(a)m.append(h,ve("span")).innerText=a;var d=m.append(h,ve("a.code-link"));d.setAttribute("href",u.target.toString()),t.add(m.addDisposableListener(d,"click",(function(e){n._openerService.open(u.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),m.append(d,ve("span")).innerText=u.value;var v=m.append(o,h);v.style.opacity="0.6",v.style.paddingLeft="6px"}else{var g=m.append(o,ve("span"));g.style.opacity="0.6",g.style.paddingLeft="6px",g.innerText=a&&u?"".concat(a,"(").concat(u,")"):a||"(".concat(u,")")}if((0,C.Of)(c)){var f,p=(0,_.Z)(c);try{var y=function(){var e=f.value,i=e.message,r=e.resource,a=e.startLineNumber,s=e.startColumn,u=m.append(o,ve("div"));u.style.marginTop="8px";var c=m.append(u,ve("a"));c.innerText="".concat((0,ne.EZ)(r),"(").concat(a,", ").concat(s,"): "),c.style.cursor="pointer",t.add(m.addDisposableListener(c,"click",(function(e){e.stopPropagation(),e.preventDefault(),n._openerService&&n._openerService.open(r,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:a,startColumn:s}}}).catch(L.dL)})));var l=m.append(u,ve("span"));l.innerText=i,n._editor.applyFontInfo(l)};for(p.s();!(f=p.n()).done;)y()}catch(b){p.e(b)}finally{p.f()}}return i}},{key:"renderMarkerStatusbar",value:function(e,t,n){var i=this;if(t.marker.severity!==ue.ZL.Error&&t.marker.severity!==ue.ZL.Warning&&t.marker.severity!==ue.ZL.Info||e.statusBar.addAction({label:$.NC("view problem","View Problem"),commandId:se.NextMarkerAction.ID,run:function(){var n;e.hide(),null===(n=se.MarkerController.get(i._editor))||void 0===n||n.showAtMarker(t.marker),i._editor.focus()}}),!this._editor.getOption(83)){var o=e.statusBar.append(ve("div"));this.recentMarkerCodeActionsInfo&&(ue.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===ue.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=$.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?u.JT.None:n.add((0,D.Vg)((function(){return o.textContent=$.NC("checkingForQuickFixes","Checking for quick fixes...")}),200));o.textContent||(o.textContent=String.fromCharCode(160));var a=this.getCodeActions(t.marker);n.add((0,u.OF)((function(){return a.cancel()}))),a.then((function(a){if(r.dispose(),i.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!i.recentMarkerCodeActionsInfo.hasCodeActions)return a.dispose(),void(o.textContent=$.NC("noQuickFixes","No quick fixes available"));o.style.display="none";var s=!1;n.add((0,u.OF)((function(){s||a.dispose()}))),e.statusBar.addAction({label:$.NC("quick fixes","Quick Fix..."),commandId:re.E7.Id,run:function(t){s=!0;var n=re.pY.get(i._editor),o=m.getDomNodePagePosition(t);e.hide(),null===n||void 0===n||n.showCodeActions(fe,a,{x:o.left+6,y:o.top+o.height+6,width:o.width,height:o.height})}})}),L.dL)}}},{key:"getCodeActions",value:function(e){var t=this;return(0,D.PG)((function(n){return(0,oe.aI)(t._languageFeaturesService.codeActionProvider,t._editor.getModel(),new l.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),fe,ce.Ex.None,n)}))}}]),e}();pe=he([de(1,ie.i),de(2,K.v4),de(3,le.p)],pe),(0,ee.Ic)((function(e,t){var n=e.getColor(X.url);n&&t.addRule(".monaco-hover .hover-contents a.code-link span { color: ".concat(n,"; }"));var i=e.getColor(X.sgC);i&&t.addRule(".monaco-hover .hover-contents a.code-link span:hover { color: ".concat(i,"; }"))}));var _e=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},me=function(e,t){return function(n,i){t(n,i,e)}},ye=function(){function e(t,n,i,o,a){var s=this;(0,r.Z)(this,e),this._editor=t,this._instantiationService=n,this._openerService=i,this._languageService=o,this._toUnhook=new u.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(55)&&(s._unhookEvents(),s._hookEvents())}))}return(0,a.Z)(e,[{key:"_hookEvents",value:function(){var e=this,t=this._editor.getOption(55);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))):(this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))),this._toUnhook.add(this._editor.onMouseLeave((function(t){return e._onEditorMouseLeave(t)}))),this._toUnhook.add(this._editor.onDidChangeModel((function(){return e._hideWidgets()}))),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){this._isMouseDown=!0;var t=e.target;9!==t.type||t.detail!==U.ID?12===t.type&&t.detail===B.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var t,n=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(n))||this._hideWidgets()}},{key:"_onEditorMouseMove",value:function(e){var t,n,i,o,r,a=e.target;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==a.type||a.detail!==U.ID)&&(!this._isHoverSticky||(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed))&&(this._isHoverSticky||9!==a.type||a.detail!==U.ID||!(null===(i=this._contentWidget)||void 0===i?void 0:i.isColorPickerVisible()))&&(!this._isHoverSticky||12!==a.type||a.detail!==B.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===a.type&&a.position?(null===(r=this._contentWidget)||void 0===r||r.hide(),this._glyphWidget||(this._glyphWidget=new B(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(a.position.lineNumber)):void this._hideWidgets();null===(o=this._glyphWidget)||void 0===o||o.hide()}else this._hideWidgets()}},{key:"_onKeyDown",value:function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}},{key:"_hideWidgets",value:function(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(F,this._editor)),this._contentWidget}},{key:"isColorPickerVisible",value:function(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}},{key:"showContentHover",value:function(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}},{key:"dispose",value:function(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();ye.ID="editor.contrib.hover",ye=_e([me(1,A.TG),me(2,K.v4),me(3,d.O),me(4,O.i6)],ye);var Ce=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.showHover",label:$.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2087),weight:100}})}return(0,a.Z)(n,[{key:"run",value:function(e,t){if(t.hasModel()){var n=ye.get(t);if(n){var i=t.getPosition(),o=new l.e(i.lineNumber,i.column,i.lineNumber,i.column),r=2===t.getOption(2);n.showContentHover(o,1,r)}}}}]),n}(c.R6),be=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.showDefinitionPreviewHover",label:$.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=ye.get(t);if(n){var i=t.getPosition();if(i){var o=new l.e(i.lineNumber,i.column,i.lineNumber,i.column),r=v.GotoDefinitionAtPositionEditorContribution.get(t);if(r)r.startFindDefinitionFromCursor(i).then((function(){n.showContentHover(o,1,!0)}))}}}}]),n}(c.R6);(0,c._K)(ye.ID,ye),(0,c.Qr)(Ce),(0,c.Qr)(be),R.Ae.register(te.D5),R.Ae.register(pe),(0,ee.Ic)((function(e,t){var n=e.getColor(X.ptc);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: ".concat(n,"; }"));var i=e.getColor(X.yJx);i&&t.addRule(".monaco-editor .monaco-hover { background-color: ".concat(i,"; }"));var o=e.getColor(X.CNo);o&&(t.addRule(".monaco-editor .monaco-hover { border: 1px solid ".concat(o,"; }")),t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(o.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(o.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(o.transparent(.5),"; }")));var r=e.getColor(X.url);r&&t.addRule(".monaco-editor .monaco-hover a { color: ".concat(r,"; }"));var a=e.getColor(X.sgC);a&&t.addRule(".monaco-editor .monaco-hover a:hover { color: ".concat(a,"; }"));var s=e.getColor(X.Sbf);s&&t.addRule(".monaco-editor .monaco-hover { color: ".concat(s,"; }"));var u=e.getColor(X.LoV);u&&t.addRule(".monaco-editor .monaco-hover .hover-row .actions { background-color: ".concat(u,"; }"));var c=e.getColor(X.SwI);c&&t.addRule(".monaco-editor .monaco-hover code { background-color: ".concat(c,"; }"))}))},51168:function(e,t,n){n.d(t,{Ae:function(){return s},Qj:function(){return r},YM:function(){return a}});var i=n(15671),o=n(43144),r=function(){function e(t,n){(0,i.Z)(this,e),this.priority=t,this.range=n,this.type=1}return(0,o.Z)(e,[{key:"equals",value:function(e){return 1===e.type&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}]),e}(),a=function(){function e(t,n,o){(0,i.Z)(this,e),this.priority=t,this.owner=n,this.range=o,this.type=2}return(0,o.Z)(e,[{key:"equals",value:function(e){return 2===e.type&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,t){return 2===e.type&&this.owner===e.owner}}]),e}(),s=new(function(){function e(){(0,i.Z)(this,e),this._participants=[]}return(0,o.Z)(e,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),e}())},38305:function(e,t,n){n.d(t,{D5:function(){return w},c:function(){return D},hU:function(){return S}});var i=n(37762),o=n(15671),r=n(43144),a=n(53210),s=n(71881),u=n(32590),c=n(67277),l=n(10526),h=n(65163),d=n(10849),v=n(30788),g=n(63024),f=n(25539),p=n(87697),_=n(64644),m=n(74990),y=n(45161),C=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,i){t(n,i,e)}},k=a.$,S=function(){function e(t,n,i,r){(0,o.Z)(this,e),this.owner=t,this.range=n,this.contents=i,this.ordinal=r}return(0,r.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),w=function(){function e(t,n,i,r,a){(0,o.Z)(this,e),this._editor=t,this._languageService=n,this._openerService=i,this._configurationService=r,this._languageFeaturesService=a,this.hoverOrdinal=2}return(0,r.Z)(e,[{key:"createLoadingMessage",value:function(e){return new S(this,e.range,[(new c.W5).appendText(p.NC("modesContentHover.loading","Loading..."))],2e3)}},{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n=this._editor.getModel(),o=e.range.startLineNumber,r=n.getLineMaxColumn(o),a=[],u=1e3,l=n.getLineLength(o),h=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:h});"number"===typeof d&&l>=d&&a.push(new S(this,e.range,[{value:p.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],u++));var g,f=(0,i.Z)(t);try{for(f.s();!(g=f.n()).done;){var _=g.value,m=_.range.startLineNumber===o?_.range.startColumn:1,y=_.range.endLineNumber===o?_.range.endColumn:r,C=_.options.hoverMessage;if(C&&!(0,c.CP)(C)){var b=new v.e(e.range.startLineNumber,m,e.range.startLineNumber,y);a.push(new S(this,b,(0,s._2)(C),u++))}}}catch(k){f.e(k)}finally{f.f()}return a}},{key:"computeAsync",value:function(e,t,n){var i=this;if(!this._editor.hasModel()||1!==e.type)return u.Aq.EMPTY;var o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return u.Aq.EMPTY;var r=new d.L(e.range.startLineNumber,e.range.startColumn);return(0,f.R8)(this._languageFeaturesService.hoverProvider,o,r,n).filter((function(e){return!(0,c.CP)(e.hover.contents)})).map((function(t){var n=t.hover.range?v.e.lift(t.hover.range):e.range;return new S(i,n,t.hover.contents,t.ordinal)}))}},{key:"renderHoverParts",value:function(e,t){return D(e,t,this._editor,this._languageService,this._openerService)}}]),e}();function D(e,t,n,o,r){t.sort((function(e,t){return e.ordinal-t.ordinal}));var s,u=new l.SL,d=(0,i.Z)(t);try{for(d.s();!(s=d.n()).done;){var v,g=s.value,f=(0,i.Z)(g.contents);try{var p=function(){var t=v.value;if((0,c.CP)(t))return"continue";var i=k("div.hover-row.markdown-hover"),s=a.append(i,k("div.hover-contents")),l=u.add(new h.$({editor:n},o,r));u.add(l.onDidRenderAsync((function(){s.className="hover-contents code-hover-contents",e.onContentsChanged()})));var d=u.add(l.render(t));s.appendChild(d.element),e.fragment.appendChild(i)};for(f.s();!(v=f.n()).done;)p()}catch(_){f.e(_)}finally{f.f()}}}catch(_){d.e(_)}finally{d.f()}return u}w=C([b(1,g.O),b(2,m.v4),b(3,_.Ui),b(4,y.p)],w)},52662:function(e,t,n){n.r(t);var i=n(60136),o=n(27277),r=n(15671),a=n(43144),s=n(32590),u=n(68552),c=n(50004),l=n(98351),h=n(30788),d=n(52091),v=n(44474),g=n(77161),f=n(70437),p=n(2374),_=n(87697),m=n(3553),y=function(){function e(t,n,i){(0,r.Z)(this,e),this._editRange=t,this._originalSelection=n,this._text=i}return(0,a.Z)(e,[{key:"getEditOperations",value:function(e,t){t.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new d.Y(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new d.Y(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}]),e}(),C=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,i){t(n,i,e)}},k=function(){function e(t,n){(0,r.Z)(this,e),this.editor=t,this.editorWorkerService=n,this.decorations=this.editor.createDecorationsCollection()}return(0,a.Z)(e,[{key:"dispose",value:function(){}},{key:"run",value:function(t,n){var i=this;this.currentRequest&&this.currentRequest.cancel();var o=this.editor.getSelection(),r=this.editor.getModel();if(r&&o){var a=o;if(a.startLineNumber===a.endLineNumber){var l=new c.yy(this.editor,5),v=r.uri;return this.editorWorkerService.canNavigateValueSet(v)?(this.currentRequest=(0,s.PG)((function(e){return i.editorWorkerService.navigateValueSet(v,a,n)})),this.currentRequest.then((function(n){if(n&&n.range&&n.value&&l.validate(i.editor)){var o=h.e.lift(n.range),r=n.range,c=n.value.length-(a.endColumn-a.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+n.value.length},c>1&&(a=new d.Y(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+c-1));var v=new y(o,a,n.value);i.editor.pushUndoStop(),i.editor.executeCommand(t,v),i.editor.pushUndoStop(),i.decorations.set([{range:r,options:e.DECORATION}]),i.decorationRemover&&i.decorationRemover.cancel(),i.decorationRemover=(0,s.Vs)(350),i.decorationRemover.then((function(){return i.decorations.clear()})).catch(u.dL)}})).catch(u.dL)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();k.ID="editor.contrib.inPlaceReplaceController",k.DECORATION=g.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),k=C([b(1,f.p)],k);var S=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.inPlaceReplace.up",label:_.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3154,weight:100}})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=k.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}]),n}(l.R6),w=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.inPlaceReplace.down",label:_.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3156,weight:100}})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=k.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}]),n}(l.R6);(0,l._K)(k.ID,k),(0,l.Qr)(S),(0,l.Qr)(w),(0,m.Ic)((function(e,t){var n=e.getColor(p.Dl);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px ".concat(n,"; }"))}))},90570:function(e,t,n){function i(e,t){for(var n=0,i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function o(e,t,n){e=e<0?0:e;var i="";if(!n){var o=Math.floor(e/t);e%=t;for(var r=0;r<o;r++)i+="\t"}for(var a=0;a<e;a++)i+=" ";return i}n.d(t,{J:function(){return o},Y:function(){return i}})},13080:function(e,t,n){n.r(t),n.d(t,{AutoIndentOnPaste:function(){return T},AutoIndentOnPasteCommand:function(){return P},ChangeIndentationSizeAction:function(){return Z},DetectIndentation:function(){return R},IndentUsingSpaces:function(){return x},IndentUsingTabs:function(){return M},IndentationToSpacesAction:function(){return I},IndentationToSpacesCommand:function(){return E},IndentationToTabsAction:function(){return N},IndentationToTabsCommand:function(){return H},ReindentLinesAction:function(){return O},ReindentSelectedLinesAction:function(){return A},getReindentEditOperations:function(){return L}});var i=n(93433),o=n(37762),r=n(15671),a=n(43144),s=n(60136),u=n(27277),c=n(10526),l=n(26684),h=n(98351),d=n(55428),v=n(15261),g=n(30788),f=n(52091),p=n(44474),_=n(26765),m=n(74463),y=n(90570),C=n(87697),b=n(4581),k=n(85889),S=n(83692),w=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},D=function(e,t){return function(n,i){t(n,i,e)}};function L(e,t,n,i,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var r=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!r)return[];for(i=Math.min(i,e.getLineCount());n<=i&&r.unIndentedLinePattern;){var a=e.getLineContent(n);if(!r.unIndentedLinePattern.test(a))break;n++}if(n>i-1)return[];var s,u=e.getOptions(),c=u.tabSize,h=u.indentSize,g=u.insertSpaces,p=function(e,t){return t=t||1,d.U.shiftIndent(e,e.length+t,c,h,g)},_=function(e,t){return t=t||1,d.U.unshiftIndent(e,e.length+t,c,h,g)},m=[],y=e.getLineContent(n),C=y;if(void 0!==o&&null!==o){s=o;var b=l.V8(y);C=s+y.substring(b.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(C)&&(C=(s=_(s))+y.substring(b.length)),y!==C&&m.push(v.h.replaceMove(new f.Y(n,1,n,b.length+1),(0,k.x)(s,h,g)))}else s=l.V8(y);var S=s;r.increaseIndentPattern&&r.increaseIndentPattern.test(C)?(S=p(S),s=p(s)):r.indentNextLinePattern&&r.indentNextLinePattern.test(C)&&(S=p(S));for(var w=++n;w<=i;w++){a=e.getLineContent(w);var D=l.V8(a),L=S+a.substring(D.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(L)&&(S=_(S),s=_(s)),D!==S&&m.push(v.h.replaceMove(new f.Y(w,1,w,D.length+1),(0,k.x)(S,h,g))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(a)||(S=r.increaseIndentPattern&&r.increaseIndentPattern.test(L)?s=p(s):r.indentNextLinePattern&&r.indentNextLinePattern.test(L)?p(S):s)}return m}var I=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:n.ID,label:C.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:p.u.writable})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),o=t.getSelection();if(o){var r=new E(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}}}]),n}(h.R6);I.ID="editor.action.indentationToSpaces";var N=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:n.ID,label:C.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:p.u.writable})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),o=t.getSelection();if(o){var r=new H(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}}}]),n}(h.R6);N.ID="editor.action.indentationToTabs";var Z=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,i){var o;return(0,r.Z)(this,n),(o=t.call(this,i)).insertSpaces=e,o}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=this,i=e.get(b.eJ),o=e.get(m.q),r=t.getModel();if(r){var a=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),s=[1,2,3,4,5,6,7,8].map((function(e){return{id:e.toString(),label:e.toString(),description:e===a.tabSize?C.NC("configuredTabSize","Configured Tab Size"):void 0}})),u=Math.min(r.getOptions().tabSize-1,7);setTimeout((function(){i.pick(s,{placeHolder:C.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:s[u]}).then((function(e){e&&r&&!r.isDisposed()&&r.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:n.insertSpaces})}))}),50)}}}]),n}(h.R6),M=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,!1,{id:n.ID,label:C.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return(0,a.Z)(n)}(Z);M.ID="editor.action.indentUsingTabs";var x=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,!0,{id:n.ID,label:C.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return(0,a.Z)(n)}(Z);x.ID="editor.action.indentUsingSpaces";var R=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:n.ID,label:C.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=e.get(m.q),i=t.getModel();if(i){var o=n.getCreationOptions(i.getLanguageId(),i.uri,i.isForSimpleWidget);i.detectIndentation(o.insertSpaces,o.tabSize)}}}]),n}(h.R6);R.ID="editor.action.detectIndentation";var O=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.reindentlines",label:C.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:p.u.writable})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=e.get(_.c_),i=t.getModel();if(i){var o=L(i,n,1,i.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}}]),n}(h.R6),A=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,{id:"editor.action.reindentselectedlines",label:C.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:p.u.writable})}return(0,a.Z)(n,[{key:"run",value:function(e,t){var n=e.get(_.c_),r=t.getModel();if(r){var a=t.getSelections();if(null!==a){var s,u=[],c=(0,o.Z)(a);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=l.startLineNumber,d=l.endLineNumber;if(h!==d&&1===l.endColumn&&d--,1===h){if(h===d)continue}else h--;var v=L(r,n,h,d);u.push.apply(u,(0,i.Z)(v))}}catch(g){c.e(g)}finally{c.f()}u.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,u),t.pushUndoStop())}}}}]),n}(h.R6),P=function(){function e(t,n){(0,r.Z)(this,e),this._initialSelection=n,this._edits=[],this._selectionId=null;var i,a=(0,o.Z)(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.range&&"string"===typeof s.text&&this._edits.push(s)}}catch(u){a.e(u)}finally{a.f()}}return(0,a.Z)(e,[{key:"getEditOperations",value:function(e,t){var n,i=(0,o.Z)(this._edits);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.addEditOperation(g.e.lift(r.range),r.text)}}catch(s){i.e(s)}finally{i.f()}var a=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(a=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(a=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),a||(this._selectionId=t.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}(),T=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this.editor=t,this._languageConfigurationService=n,this.callOnDispose=new c.SL,this.callOnModel=new c.SL,this.callOnDispose.add(t.onDidChangeConfiguration((function(){return i.update()}))),this.callOnDispose.add(t.onDidChangeModel((function(){return i.update()}))),this.callOnDispose.add(t.onDidChangeModelLanguage((function(){return i.update()})))}return(0,a.Z)(e,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(50)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;e.trigger(n)})))}},{key:"trigger",value:function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var n=this.editor.getModel();if(n&&n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var i=this.editor.getOption(9),o=n.getOptions(),r=o.tabSize,a=o.indentSize,s=o.insertSpaces,u=[],c={shiftIndent:function(e){return d.U.shiftIndent(e,e.length+1,r,a,s)},unshiftIndent:function(e){return d.U.unshiftIndent(e,e.length+1,r,a,s)}},h=e.startLineNumber;h<=e.endLineNumber&&this.shouldIgnoreLine(n,h);)h++;if(!(h>e.endLineNumber)){var v=n.getLineContent(h);if(!/\S/.test(v.substring(0,e.startColumn-1))){var f=(0,S.n8)(i,n,n.getLanguageId(),h,c,this._languageConfigurationService);if(null!==f){var p=l.V8(v),_=y.Y(f,r);if(_!==y.Y(p,r)){var m=y.J(_,r,s);u.push({range:new g.e(h,1,h,p.length+1),text:m}),v=m+v.substr(p.length)}else{var C=(0,S.tI)(n,h,this._languageConfigurationService);if(0===C||8===C)return}}}for(var b=h;h<e.endLineNumber&&!/\S/.test(n.getLineContent(h+1));)h++;if(h!==e.endLineNumber){var k={tokenization:{getLineTokens:function(e){return n.tokenization.getLineTokens(e)},getLanguageId:function(){return n.getLanguageId()},getLanguageIdAtPosition:function(e,t){return n.getLanguageIdAtPosition(e,t)}},getLineContent:function(e){return e===b?v:n.getLineContent(e)}},w=(0,S.n8)(i,k,n.getLanguageId(),h+1,c,this._languageConfigurationService);if(null!==w){var D=y.Y(w,r),L=y.Y(l.V8(n.getLineContent(h+1)),r);if(D!==L)for(var I=D-L,N=h+1;N<=e.endLineNumber;N++){var Z=n.getLineContent(N),M=l.V8(Z),x=y.Y(M,r)+I,R=y.J(x,r,s);R!==M&&u.push({range:new g.e(N,1,N,M.length+1),text:R})}}}if(u.length>0){this.editor.pushUndoStop();var O=new P(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",O),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,t){e.tokenization.forceTokenization(t);var n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;var i=e.tokenization.getLineTokens(t);if(i.getCount()>0){var o=i.findTokenIndexAtOffset(n);if(o>=0&&1===i.getStandardTokenType(o))return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),e}();function W(e,t,n,i){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var o="",r=0;r<n;r++)o+=" ";for(var a=new RegExp(o,"gi"),s=1,u=e.getLineCount();s<=u;s++){var c=e.getLineFirstNonWhitespaceColumn(s);if(0===c&&(c=e.getLineMaxColumn(s)),1!==c){var l=new g.e(s,1,s,c),h=e.getValueInRange(l),d=i?h.replace(/\t/gi,o):h.replace(a,"\t");t.addEditOperation(l,d)}}}}T.ID="editor.contrib.autoIndentOnPaste",T=w([D(1,_.c_)],T);var E=function(){function e(t,n){(0,r.Z)(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return(0,a.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}(),H=function(){function e(t,n){(0,r.Z)(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return(0,a.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}();(0,h._K)(T.ID,T),(0,h.Qr)(I),(0,h.Qr)(N),(0,h.Qr)(M),(0,h.Qr)(x),(0,h.Qr)(R),(0,h.Qr)(O),(0,h.Qr)(A)}}]);
//# sourceMappingURL=monaco-editor-vendor.dbdc571d.d9a4ff5e.js.map