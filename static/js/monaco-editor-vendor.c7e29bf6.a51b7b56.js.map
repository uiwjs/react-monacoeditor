{"version":3,"file":"static/js/monaco-editor-vendor.c7e29bf6.a51b7b56.js","mappings":"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","sources":["../../node_modules/monaco-editor/esm/vs/editor/contrib/longLinesHelper/browser/longLinesHelper.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/markdownRenderer/browser/markdownRenderer.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/message/browser/messageController.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/multicursor/browser/multicursor.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/provideSignatureHelp.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHintsModel.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHintsWidget.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHints.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/peekView/browser/peekView.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nclass LongLinesHelper extends Disposable {\n    constructor(_editor) {\n        super();\n        this._editor = _editor;\n        this._register(this._editor.onMouseDown((e) => {\n            const stopRenderingLineAfter = this._editor.getOption(116 /* EditorOption.stopRenderingLineAfter */);\n            if (stopRenderingLineAfter >= 0 && e.target.type === 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.position.column >= stopRenderingLineAfter) {\n                this._editor.updateOptions({\n                    stopRenderingLineAfter: -1\n                });\n            }\n        }));\n    }\n}\nLongLinesHelper.ID = 'editor.contrib.longLinesHelper';\nregisterEditorContribution(LongLinesHelper.ID, LongLinesHelper, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar MarkdownRenderer_1;\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { createTrustedTypesPolicy } from '../../../../base/browser/trustedTypes.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport './renderedMarkdown.css';\nimport { applyFontInfo } from '../../../browser/config/domFontInfo.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../common/languages/modesRegistry.js';\nimport { tokenizeToString } from '../../../common/languages/textToHtmlTokenizer.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\n/**\n * Markdown renderer that can render codeblocks with the editor mechanics. This\n * renderer should always be preferred.\n */\nlet MarkdownRenderer = MarkdownRenderer_1 = class MarkdownRenderer {\n    constructor(_options, _languageService, _openerService) {\n        this._options = _options;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this._onDidRenderAsync = new Emitter();\n        this.onDidRenderAsync = this._onDidRenderAsync.event;\n    }\n    dispose() {\n        this._onDidRenderAsync.dispose();\n    }\n    render(markdown, options, markedOptions) {\n        if (!markdown) {\n            const element = document.createElement('span');\n            return { element, dispose: () => { } };\n        }\n        const disposables = new DisposableStore();\n        const rendered = disposables.add(renderMarkdown(markdown, Object.assign(Object.assign({}, this._getRenderOptions(markdown, disposables)), options), markedOptions));\n        rendered.element.classList.add('rendered-markdown');\n        return {\n            element: rendered.element,\n            dispose: () => disposables.dispose()\n        };\n    }\n    _getRenderOptions(markdown, disposables) {\n        return {\n            codeBlockRenderer: (languageAlias, value) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c;\n                // In markdown,\n                // it is possible that we stumble upon language aliases (e.g.js instead of javascript)\n                // it is possible no alias is given in which case we fall back to the current editor lang\n                let languageId;\n                if (languageAlias) {\n                    languageId = this._languageService.getLanguageIdByLanguageName(languageAlias);\n                }\n                else if (this._options.editor) {\n                    languageId = (_a = this._options.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getLanguageId();\n                }\n                if (!languageId) {\n                    languageId = PLAINTEXT_LANGUAGE_ID;\n                }\n                const html = yield tokenizeToString(this._languageService, value, languageId);\n                const element = document.createElement('span');\n                element.innerHTML = ((_c = (_b = MarkdownRenderer_1._ttpTokenizer) === null || _b === void 0 ? void 0 : _b.createHTML(html)) !== null && _c !== void 0 ? _c : html);\n                // use \"good\" font\n                if (this._options.editor) {\n                    const fontInfo = this._options.editor.getOption(50 /* EditorOption.fontInfo */);\n                    applyFontInfo(element, fontInfo);\n                }\n                else if (this._options.codeBlockFontFamily) {\n                    element.style.fontFamily = this._options.codeBlockFontFamily;\n                }\n                if (this._options.codeBlockFontSize !== undefined) {\n                    element.style.fontSize = this._options.codeBlockFontSize;\n                }\n                return element;\n            }),\n            asyncRenderCallback: () => this._onDidRenderAsync.fire(),\n            actionHandler: {\n                callback: (link) => openLinkFromMarkdown(this._openerService, link, markdown.isTrusted),\n                disposables: disposables\n            }\n        };\n    }\n};\nMarkdownRenderer._ttpTokenizer = createTrustedTypesPolicy('tokenizeToString', {\n    createHTML(html) {\n        return html;\n    }\n});\nMarkdownRenderer = MarkdownRenderer_1 = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], MarkdownRenderer);\nexport { MarkdownRenderer };\nexport function openLinkFromMarkdown(openerService, link, isTrusted) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            return yield openerService.open(link, {\n                fromUserGesture: true,\n                allowContributedOpeners: true,\n                allowCommands: toAllowCommandsOption(isTrusted),\n            });\n        }\n        catch (e) {\n            onUnexpectedError(e);\n            return false;\n        }\n    });\n}\nfunction toAllowCommandsOption(isTrusted) {\n    if (isTrusted === true) {\n        return true; // Allow all commands\n    }\n    if (isTrusted && Array.isArray(isTrusted.enabledCommands)) {\n        return isTrusted.enabledCommands; // Allow subset of commands\n    }\n    return false; // Block commands\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar MessageController_1;\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { isMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport './messageController.css';\nimport { EditorCommand, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { openLinkFromMarkdown } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport * as dom from '../../../../base/browser/dom.js';\nlet MessageController = MessageController_1 = class MessageController {\n    static get(editor) {\n        return editor.getContribution(MessageController_1.ID);\n    }\n    constructor(editor, contextKeyService, _openerService) {\n        this._openerService = _openerService;\n        this._messageWidget = new MutableDisposable();\n        this._messageListeners = new DisposableStore();\n        this._mouseOverMessage = false;\n        this._editor = editor;\n        this._visible = MessageController_1.MESSAGE_VISIBLE.bindTo(contextKeyService);\n    }\n    dispose() {\n        var _a;\n        (_a = this._message) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._messageListeners.dispose();\n        this._messageWidget.dispose();\n        this._visible.reset();\n    }\n    showMessage(message, position) {\n        alert(isMarkdownString(message) ? message.value : message);\n        this._visible.set(true);\n        this._messageWidget.clear();\n        this._messageListeners.clear();\n        this._message = isMarkdownString(message) ? renderMarkdown(message, {\n            actionHandler: {\n                callback: (url) => openLinkFromMarkdown(this._openerService, url, isMarkdownString(message) ? message.isTrusted : undefined),\n                disposables: this._messageListeners\n            },\n        }) : undefined;\n        this._messageWidget.value = new MessageWidget(this._editor, position, typeof message === 'string' ? message : this._message.element);\n        // close on blur (debounced to allow to tab into the message), cursor, model change, dispose\n        this._messageListeners.add(Event.debounce(this._editor.onDidBlurEditorText, (last, event) => event, 0)(() => {\n            if (this._mouseOverMessage) {\n                return; // override when mouse over message\n            }\n            if (this._messageWidget.value && dom.isAncestor(dom.getActiveElement(), this._messageWidget.value.getDomNode())) {\n                return; // override when focus is inside the message\n            }\n            this.closeMessage();\n        }));\n        this._messageListeners.add(this._editor.onDidChangeCursorPosition(() => this.closeMessage()));\n        this._messageListeners.add(this._editor.onDidDispose(() => this.closeMessage()));\n        this._messageListeners.add(this._editor.onDidChangeModel(() => this.closeMessage()));\n        this._messageListeners.add(dom.addDisposableListener(this._messageWidget.value.getDomNode(), dom.EventType.MOUSE_ENTER, () => this._mouseOverMessage = true, true));\n        this._messageListeners.add(dom.addDisposableListener(this._messageWidget.value.getDomNode(), dom.EventType.MOUSE_LEAVE, () => this._mouseOverMessage = false, true));\n        // close on mouse move\n        let bounds;\n        this._messageListeners.add(this._editor.onMouseMove(e => {\n            // outside the text area\n            if (!e.target.position) {\n                return;\n            }\n            if (!bounds) {\n                // define bounding box around position and first mouse occurance\n                bounds = new Range(position.lineNumber - 3, 1, e.target.position.lineNumber + 3, 1);\n            }\n            else if (!bounds.containsPosition(e.target.position)) {\n                // check if position is still in bounds\n                this.closeMessage();\n            }\n        }));\n    }\n    closeMessage() {\n        this._visible.reset();\n        this._messageListeners.clear();\n        if (this._messageWidget.value) {\n            this._messageListeners.add(MessageWidget.fadeOut(this._messageWidget.value));\n        }\n    }\n};\nMessageController.ID = 'editor.contrib.messageController';\nMessageController.MESSAGE_VISIBLE = new RawContextKey('messageVisible', false, nls.localize('messageVisible', 'Whether the editor is currently showing an inline message'));\nMessageController = MessageController_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, IOpenerService)\n], MessageController);\nexport { MessageController };\nconst MessageCommand = EditorCommand.bindToContribution(MessageController.get);\nregisterEditorCommand(new MessageCommand({\n    id: 'leaveEditorMessage',\n    precondition: MessageController.MESSAGE_VISIBLE,\n    handler: c => c.closeMessage(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 30,\n        primary: 9 /* KeyCode.Escape */\n    }\n}));\nclass MessageWidget {\n    static fadeOut(messageWidget) {\n        const dispose = () => {\n            messageWidget.dispose();\n            clearTimeout(handle);\n            messageWidget.getDomNode().removeEventListener('animationend', dispose);\n        };\n        const handle = setTimeout(dispose, 110);\n        messageWidget.getDomNode().addEventListener('animationend', dispose);\n        messageWidget.getDomNode().classList.add('fadeOut');\n        return { dispose };\n    }\n    constructor(editor, { lineNumber, column }, text) {\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.suppressMouseDown = false;\n        this._editor = editor;\n        this._editor.revealLinesInCenterIfOutsideViewport(lineNumber, lineNumber, 0 /* ScrollType.Smooth */);\n        this._position = { lineNumber, column };\n        this._domNode = document.createElement('div');\n        this._domNode.classList.add('monaco-editor-overlaymessage');\n        this._domNode.style.marginLeft = '-6px';\n        const anchorTop = document.createElement('div');\n        anchorTop.classList.add('anchor', 'top');\n        this._domNode.appendChild(anchorTop);\n        const message = document.createElement('div');\n        if (typeof text === 'string') {\n            message.classList.add('message');\n            message.textContent = text;\n        }\n        else {\n            text.classList.add('message');\n            message.appendChild(text);\n        }\n        this._domNode.appendChild(message);\n        const anchorBottom = document.createElement('div');\n        anchorBottom.classList.add('anchor', 'below');\n        this._domNode.appendChild(anchorBottom);\n        this._editor.addContentWidget(this);\n        this._domNode.classList.add('fadeIn');\n    }\n    dispose() {\n        this._editor.removeContentWidget(this);\n    }\n    getId() {\n        return 'messageoverlay';\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return {\n            position: this._position,\n            preference: [\n                1 /* ContentWidgetPositionPreference.ABOVE */,\n                2 /* ContentWidgetPositionPreference.BELOW */,\n            ],\n            positionAffinity: 1 /* PositionAffinity.Right */,\n        };\n    }\n    afterRender(position) {\n        this._domNode.classList.toggle('below', position === 2 /* ContentWidgetPositionPreference.BELOW */);\n    }\n}\nregisterEditorContribution(MessageController.ID, MessageController, 4 /* EditorContributionInstantiation.Lazy */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar SelectionHighlighter_1;\nimport { status } from '../../../../base/browser/ui/aria/aria.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { CursorMoveCommands } from '../../../common/cursor/cursorMoveCommands.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { CommonFindController } from '../../find/browser/findController.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getSelectionHighlightDecorationOptions } from '../../wordHighlighter/browser/highlightDecorations.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nfunction announceCursorChange(previousCursorState, cursorState) {\n    const cursorDiff = cursorState.filter(cs => !previousCursorState.find(pcs => pcs.equals(cs)));\n    if (cursorDiff.length >= 1) {\n        const cursorPositions = cursorDiff.map(cs => `line ${cs.viewState.position.lineNumber} column ${cs.viewState.position.column}`).join(', ');\n        const msg = cursorDiff.length === 1 ? nls.localize('cursorAdded', \"Cursor added: {0}\", cursorPositions) : nls.localize('cursorsAdded', \"Cursors added: {0}\", cursorPositions);\n        status(msg);\n    }\n}\nexport class InsertCursorAbove extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorAbove',\n            label: nls.localize('mutlicursor.insertAbove', \"Add Cursor Above\"),\n            alias: 'Add Cursor Above',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */,\n                linux: {\n                    primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */,\n                    secondary: [2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 16 /* KeyCode.UpArrow */]\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorAbove', comment: ['&& denotes a mnemonic'] }, \"&&Add Cursor Above\"),\n                order: 2\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        let useLogicalLine = true;\n        if (args && args.logicalLine === false) {\n            useLogicalLine = false;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = viewModel.getCursorStates();\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, CursorMoveCommands.addCursorUp(viewModel, previousCursorState, useLogicalLine));\n        viewModel.revealTopMostCursor(args.source);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class InsertCursorBelow extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorBelow',\n            label: nls.localize('mutlicursor.insertBelow', \"Add Cursor Below\"),\n            alias: 'Add Cursor Below',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */,\n                linux: {\n                    primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */,\n                    secondary: [2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 18 /* KeyCode.DownArrow */]\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorBelow', comment: ['&& denotes a mnemonic'] }, \"A&&dd Cursor Below\"),\n                order: 3\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        let useLogicalLine = true;\n        if (args && args.logicalLine === false) {\n            useLogicalLine = false;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = viewModel.getCursorStates();\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, CursorMoveCommands.addCursorDown(viewModel, previousCursorState, useLogicalLine));\n        viewModel.revealBottomMostCursor(args.source);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtEndOfEachLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorAtEndOfEachLineSelected',\n            label: nls.localize('mutlicursor.insertAtEndOfEachLineSelected', \"Add Cursors to Line Ends\"),\n            alias: 'Add Cursors to Line Ends',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 39 /* KeyCode.KeyI */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorAtEndOfEachLineSelected', comment: ['&& denotes a mnemonic'] }, \"Add C&&ursors to Line Ends\"),\n                order: 4\n            }\n        });\n    }\n    getCursorsForSelection(selection, model, result) {\n        if (selection.isEmpty()) {\n            return;\n        }\n        for (let i = selection.startLineNumber; i < selection.endLineNumber; i++) {\n            const currentLineMaxColumn = model.getLineMaxColumn(i);\n            result.push(new Selection(i, currentLineMaxColumn, i, currentLineMaxColumn));\n        }\n        if (selection.endColumn > 1) {\n            result.push(new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn));\n        }\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        const newSelections = [];\n        selections.forEach((sel) => this.getCursorsForSelection(sel, model, newSelections));\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtEndOfLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.addCursorsToBottom',\n            label: nls.localize('mutlicursor.addCursorsToBottom', \"Add Cursors To Bottom\"),\n            alias: 'Add Cursors To Bottom',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const selections = editor.getSelections();\n        const lineCount = editor.getModel().getLineCount();\n        const newSelections = [];\n        for (let i = selections[0].startLineNumber; i <= lineCount; i++) {\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\n        }\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtTopOfLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.addCursorsToTop',\n            label: nls.localize('mutlicursor.addCursorsToTop', \"Add Cursors To Top\"),\n            alias: 'Add Cursors To Top',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const selections = editor.getSelections();\n        const newSelections = [];\n        for (let i = selections[0].startLineNumber; i >= 1; i--) {\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\n        }\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class MultiCursorSessionResult {\n    constructor(selections, revealRange, revealScrollType) {\n        this.selections = selections;\n        this.revealRange = revealRange;\n        this.revealScrollType = revealScrollType;\n    }\n}\nexport class MultiCursorSession {\n    static create(editor, findController) {\n        if (!editor.hasModel()) {\n            return null;\n        }\n        const findState = findController.getState();\n        // Find widget owns entirely what we search for if:\n        //  - focus is not in the editor (i.e. it is in the find widget)\n        //  - and the search widget is visible\n        //  - and the search string is non-empty\n        if (!editor.hasTextFocus() && findState.isRevealed && findState.searchString.length > 0) {\n            // Find widget owns what is searched for\n            return new MultiCursorSession(editor, findController, false, findState.searchString, findState.wholeWord, findState.matchCase, null);\n        }\n        // Otherwise, the selection gives the search text, and the find widget gives the search settings\n        // The exception is the find state disassociation case: when beginning with a single, collapsed selection\n        let isDisconnectedFromFindController = false;\n        let wholeWord;\n        let matchCase;\n        const selections = editor.getSelections();\n        if (selections.length === 1 && selections[0].isEmpty()) {\n            isDisconnectedFromFindController = true;\n            wholeWord = true;\n            matchCase = true;\n        }\n        else {\n            wholeWord = findState.wholeWord;\n            matchCase = findState.matchCase;\n        }\n        // Selection owns what is searched for\n        const s = editor.getSelection();\n        let searchText;\n        let currentMatch = null;\n        if (s.isEmpty()) {\n            // selection is empty => expand to current word\n            const word = editor.getConfiguredWordAtPosition(s.getStartPosition());\n            if (!word) {\n                return null;\n            }\n            searchText = word.word;\n            currentMatch = new Selection(s.startLineNumber, word.startColumn, s.startLineNumber, word.endColumn);\n        }\n        else {\n            searchText = editor.getModel().getValueInRange(s).replace(/\\r\\n/g, '\\n');\n        }\n        return new MultiCursorSession(editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch);\n    }\n    constructor(_editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch) {\n        this._editor = _editor;\n        this.findController = findController;\n        this.isDisconnectedFromFindController = isDisconnectedFromFindController;\n        this.searchText = searchText;\n        this.wholeWord = wholeWord;\n        this.matchCase = matchCase;\n        this.currentMatch = currentMatch;\n    }\n    addSelectionToNextFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(nextMatch), nextMatch, 0 /* ScrollType.Smooth */);\n    }\n    moveSelectionToNextFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(nextMatch), nextMatch, 0 /* ScrollType.Smooth */);\n    }\n    _getNextMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        if (this.currentMatch) {\n            const result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        const allSelections = this._editor.getSelections();\n        const lastAddedSelection = allSelections[allSelections.length - 1];\n        const nextMatch = this._editor.getModel().findNextMatch(this.searchText, lastAddedSelection.getEndPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false);\n        if (!nextMatch) {\n            return null;\n        }\n        return new Selection(nextMatch.range.startLineNumber, nextMatch.range.startColumn, nextMatch.range.endLineNumber, nextMatch.range.endColumn);\n    }\n    addSelectionToPreviousFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(previousMatch), previousMatch, 0 /* ScrollType.Smooth */);\n    }\n    moveSelectionToPreviousFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(previousMatch), previousMatch, 0 /* ScrollType.Smooth */);\n    }\n    _getPreviousMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        if (this.currentMatch) {\n            const result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        const allSelections = this._editor.getSelections();\n        const lastAddedSelection = allSelections[allSelections.length - 1];\n        const previousMatch = this._editor.getModel().findPreviousMatch(this.searchText, lastAddedSelection.getStartPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false);\n        if (!previousMatch) {\n            return null;\n        }\n        return new Selection(previousMatch.range.startLineNumber, previousMatch.range.startColumn, previousMatch.range.endLineNumber, previousMatch.range.endColumn);\n    }\n    selectAll(searchScope) {\n        if (!this._editor.hasModel()) {\n            return [];\n        }\n        this.findController.highlightFindOptions();\n        const editorModel = this._editor.getModel();\n        if (searchScope) {\n            return editorModel.findMatches(this.searchText, searchScope, false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n        }\n        return editorModel.findMatches(this.searchText, true, false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n    }\n}\nexport class MultiCursorSelectionController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(MultiCursorSelectionController.ID);\n    }\n    constructor(editor) {\n        super();\n        this._sessionDispose = this._register(new DisposableStore());\n        this._editor = editor;\n        this._ignoreSelectionChange = false;\n        this._session = null;\n    }\n    dispose() {\n        this._endSession();\n        super.dispose();\n    }\n    _beginSessionIfNeeded(findController) {\n        if (!this._session) {\n            // Create a new session\n            const session = MultiCursorSession.create(this._editor, findController);\n            if (!session) {\n                return;\n            }\n            this._session = session;\n            const newState = { searchString: this._session.searchText };\n            if (this._session.isDisconnectedFromFindController) {\n                newState.wholeWordOverride = 1 /* FindOptionOverride.True */;\n                newState.matchCaseOverride = 1 /* FindOptionOverride.True */;\n                newState.isRegexOverride = 2 /* FindOptionOverride.False */;\n            }\n            findController.getState().change(newState, false);\n            this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e) => {\n                if (this._ignoreSelectionChange) {\n                    return;\n                }\n                this._endSession();\n            }));\n            this._sessionDispose.add(this._editor.onDidBlurEditorText(() => {\n                this._endSession();\n            }));\n            this._sessionDispose.add(findController.getState().onFindReplaceStateChange((e) => {\n                if (e.matchCase || e.wholeWord) {\n                    this._endSession();\n                }\n            }));\n        }\n    }\n    _endSession() {\n        this._sessionDispose.clear();\n        if (this._session && this._session.isDisconnectedFromFindController) {\n            const newState = {\n                wholeWordOverride: 0 /* FindOptionOverride.NotSet */,\n                matchCaseOverride: 0 /* FindOptionOverride.NotSet */,\n                isRegexOverride: 0 /* FindOptionOverride.NotSet */,\n            };\n            this._session.findController.getState().change(newState, false);\n        }\n        this._session = null;\n    }\n    _setSelections(selections) {\n        this._ignoreSelectionChange = true;\n        this._editor.setSelections(selections);\n        this._ignoreSelectionChange = false;\n    }\n    _expandEmptyToWord(model, selection) {\n        if (!selection.isEmpty()) {\n            return selection;\n        }\n        const word = this._editor.getConfiguredWordAtPosition(selection.getStartPosition());\n        if (!word) {\n            return selection;\n        }\n        return new Selection(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n    }\n    _applySessionResult(result) {\n        if (!result) {\n            return;\n        }\n        this._setSelections(result.selections);\n        if (result.revealRange) {\n            this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange, result.revealScrollType);\n        }\n    }\n    getSession(findController) {\n        return this._session;\n    }\n    addSelectionToNextFindMatch(findController) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (!this._session) {\n            // If there are multiple cursors, handle the case where they do not all select the same text.\n            const allSelections = this._editor.getSelections();\n            if (allSelections.length > 1) {\n                const findState = findController.getState();\n                const matchCase = findState.matchCase;\n                const selectionsContainSameText = modelRangesContainSameText(this._editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    const model = this._editor.getModel();\n                    const resultingSelections = [];\n                    for (let i = 0, len = allSelections.length; i < len; i++) {\n                        resultingSelections[i] = this._expandEmptyToWord(model, allSelections[i]);\n                    }\n                    this._editor.setSelections(resultingSelections);\n                    return;\n                }\n            }\n        }\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToNextFindMatch());\n        }\n    }\n    addSelectionToPreviousFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToPreviousFindMatch());\n        }\n    }\n    moveSelectionToNextFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToNextFindMatch());\n        }\n    }\n    moveSelectionToPreviousFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToPreviousFindMatch());\n        }\n    }\n    selectAll(findController) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        let matches = null;\n        const findState = findController.getState();\n        // Special case: find widget owns entirely what we search for if:\n        // - focus is not in the editor (i.e. it is in the find widget)\n        // - and the search widget is visible\n        // - and the search string is non-empty\n        // - and we're searching for a regex\n        if (findState.isRevealed && findState.searchString.length > 0 && findState.isRegex) {\n            const editorModel = this._editor.getModel();\n            if (findState.searchScope) {\n                matches = editorModel.findMatches(findState.searchString, findState.searchScope, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n            }\n            else {\n                matches = editorModel.findMatches(findState.searchString, true, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n            }\n        }\n        else {\n            this._beginSessionIfNeeded(findController);\n            if (!this._session) {\n                return;\n            }\n            matches = this._session.selectAll(findState.searchScope);\n        }\n        if (matches.length > 0) {\n            const editorSelection = this._editor.getSelection();\n            // Have the primary cursor remain the one where the action was invoked\n            for (let i = 0, len = matches.length; i < len; i++) {\n                const match = matches[i];\n                const intersection = match.range.intersectRanges(editorSelection);\n                if (intersection) {\n                    // bingo!\n                    matches[i] = matches[0];\n                    matches[0] = match;\n                    break;\n                }\n            }\n            this._setSelections(matches.map(m => new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn)));\n        }\n    }\n}\nMultiCursorSelectionController.ID = 'editor.contrib.multiCursorController';\nexport class MultiCursorSelectionControllerAction extends EditorAction {\n    run(accessor, editor) {\n        const multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel) {\n            const previousCursorState = viewModel.getCursorStates();\n            const findController = CommonFindController.get(editor);\n            if (findController) {\n                this._run(multiCursorController, findController);\n            }\n            else {\n                const newFindController = accessor.get(IInstantiationService).createInstance(CommonFindController, editor);\n                this._run(multiCursorController, newFindController);\n                newFindController.dispose();\n            }\n            announceCursorChange(previousCursorState, viewModel.getCursorStates());\n        }\n    }\n}\nexport class AddSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.addSelectionToNextFindMatch',\n            label: nls.localize('addSelectionToNextFindMatch', \"Add Selection To Next Find Match\"),\n            alias: 'Add Selection To Next Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 34 /* KeyCode.KeyD */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miAddSelectionToNextFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add &&Next Occurrence\"),\n                order: 5\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.addSelectionToNextFindMatch(findController);\n    }\n}\nexport class AddSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.addSelectionToPreviousFindMatch',\n            label: nls.localize('addSelectionToPreviousFindMatch', \"Add Selection To Previous Find Match\"),\n            alias: 'Add Selection To Previous Find Match',\n            precondition: undefined,\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miAddSelectionToPreviousFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add P&&revious Occurrence\"),\n                order: 6\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.addSelectionToPreviousFindMatch(findController);\n    }\n}\nexport class MoveSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.moveSelectionToNextFindMatch',\n            label: nls.localize('moveSelectionToNextFindMatch', \"Move Last Selection To Next Find Match\"),\n            alias: 'Move Last Selection To Next Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 34 /* KeyCode.KeyD */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.moveSelectionToNextFindMatch(findController);\n    }\n}\nexport class MoveSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.moveSelectionToPreviousFindMatch',\n            label: nls.localize('moveSelectionToPreviousFindMatch', \"Move Last Selection To Previous Find Match\"),\n            alias: 'Move Last Selection To Previous Find Match',\n            precondition: undefined\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.moveSelectionToPreviousFindMatch(findController);\n    }\n}\nexport class SelectHighlightsAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.selectHighlights',\n            label: nls.localize('selectAllOccurrencesOfFindMatch', \"Select All Occurrences of Find Match\"),\n            alias: 'Select All Occurrences of Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 42 /* KeyCode.KeyL */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miSelectHighlights', comment: ['&& denotes a mnemonic'] }, \"Select All &&Occurrences\"),\n                order: 7\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    }\n}\nexport class CompatChangeAll extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.changeAll',\n            label: nls.localize('changeAll.label', \"Change All Occurrences\"),\n            alias: 'Change All Occurrences',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.editorTextFocus),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 60 /* KeyCode.F2 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                group: '1_modification',\n                order: 1.2\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    }\n}\nclass SelectionHighlighterState {\n    constructor(_model, _searchText, _matchCase, _wordSeparators, prevState) {\n        this._model = _model;\n        this._searchText = _searchText;\n        this._matchCase = _matchCase;\n        this._wordSeparators = _wordSeparators;\n        this._modelVersionId = this._model.getVersionId();\n        this._cachedFindMatches = null;\n        if (prevState\n            && this._model === prevState._model\n            && this._searchText === prevState._searchText\n            && this._matchCase === prevState._matchCase\n            && this._wordSeparators === prevState._wordSeparators\n            && this._modelVersionId === prevState._modelVersionId) {\n            this._cachedFindMatches = prevState._cachedFindMatches;\n        }\n    }\n    findMatches() {\n        if (this._cachedFindMatches === null) {\n            this._cachedFindMatches = this._model.findMatches(this._searchText, true, false, this._matchCase, this._wordSeparators, false).map(m => m.range);\n            this._cachedFindMatches.sort(Range.compareRangesUsingStarts);\n        }\n        return this._cachedFindMatches;\n    }\n}\nlet SelectionHighlighter = SelectionHighlighter_1 = class SelectionHighlighter extends Disposable {\n    constructor(editor, _languageFeaturesService) {\n        super();\n        this._languageFeaturesService = _languageFeaturesService;\n        this.editor = editor;\n        this._isEnabled = editor.getOption(107 /* EditorOption.selectionHighlight */);\n        this._decorations = editor.createDecorationsCollection();\n        this.updateSoon = this._register(new RunOnceScheduler(() => this._update(), 300));\n        this.state = null;\n        this._register(editor.onDidChangeConfiguration((e) => {\n            this._isEnabled = editor.getOption(107 /* EditorOption.selectionHighlight */);\n        }));\n        this._register(editor.onDidChangeCursorSelection((e) => {\n            if (!this._isEnabled) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            if (e.selection.isEmpty()) {\n                if (e.reason === 3 /* CursorChangeReason.Explicit */) {\n                    if (this.state) {\n                        // no longer valid\n                        this._setState(null);\n                    }\n                    this.updateSoon.schedule();\n                }\n                else {\n                    this._setState(null);\n                }\n            }\n            else {\n                this._update();\n            }\n        }));\n        this._register(editor.onDidChangeModel((e) => {\n            this._setState(null);\n        }));\n        this._register(editor.onDidChangeModelContent((e) => {\n            if (this._isEnabled) {\n                this.updateSoon.schedule();\n            }\n        }));\n        const findController = CommonFindController.get(editor);\n        if (findController) {\n            this._register(findController.getState().onFindReplaceStateChange((e) => {\n                this._update();\n            }));\n        }\n        this.updateSoon.schedule();\n    }\n    _update() {\n        this._setState(SelectionHighlighter_1._createState(this.state, this._isEnabled, this.editor));\n    }\n    static _createState(oldState, isEnabled, editor) {\n        if (!isEnabled) {\n            return null;\n        }\n        if (!editor.hasModel()) {\n            return null;\n        }\n        const s = editor.getSelection();\n        if (s.startLineNumber !== s.endLineNumber) {\n            // multiline forbidden for perf reasons\n            return null;\n        }\n        const multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return null;\n        }\n        const findController = CommonFindController.get(editor);\n        if (!findController) {\n            return null;\n        }\n        let r = multiCursorController.getSession(findController);\n        if (!r) {\n            const allSelections = editor.getSelections();\n            if (allSelections.length > 1) {\n                const findState = findController.getState();\n                const matchCase = findState.matchCase;\n                const selectionsContainSameText = modelRangesContainSameText(editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    return null;\n                }\n            }\n            r = MultiCursorSession.create(editor, findController);\n        }\n        if (!r) {\n            return null;\n        }\n        if (r.currentMatch) {\n            // This is an empty selection\n            // Do not interfere with semantic word highlighting in the no selection case\n            return null;\n        }\n        if (/^[ \\t]+$/.test(r.searchText)) {\n            // whitespace only selection\n            return null;\n        }\n        if (r.searchText.length > 200) {\n            // very long selection\n            return null;\n        }\n        // TODO: better handling of this case\n        const findState = findController.getState();\n        const caseSensitive = findState.matchCase;\n        // Return early if the find widget shows the exact same matches\n        if (findState.isRevealed) {\n            let findStateSearchString = findState.searchString;\n            if (!caseSensitive) {\n                findStateSearchString = findStateSearchString.toLowerCase();\n            }\n            let mySearchString = r.searchText;\n            if (!caseSensitive) {\n                mySearchString = mySearchString.toLowerCase();\n            }\n            if (findStateSearchString === mySearchString && r.matchCase === findState.matchCase && r.wholeWord === findState.wholeWord && !findState.isRegex) {\n                return null;\n            }\n        }\n        return new SelectionHighlighterState(editor.getModel(), r.searchText, r.matchCase, r.wholeWord ? editor.getOption(129 /* EditorOption.wordSeparators */) : null, oldState);\n    }\n    _setState(newState) {\n        this.state = newState;\n        if (!this.state) {\n            this._decorations.clear();\n            return;\n        }\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        const model = this.editor.getModel();\n        if (model.isTooLargeForTokenization()) {\n            // the file is too large, so searching word under cursor in the whole document would be blocking the UI.\n            return;\n        }\n        const allMatches = this.state.findMatches();\n        const selections = this.editor.getSelections();\n        selections.sort(Range.compareRangesUsingStarts);\n        // do not overlap with selection (issue #64 and #512)\n        const matches = [];\n        for (let i = 0, j = 0, len = allMatches.length, lenJ = selections.length; i < len;) {\n            const match = allMatches[i];\n            if (j >= lenJ) {\n                // finished all editor selections\n                matches.push(match);\n                i++;\n            }\n            else {\n                const cmp = Range.compareRangesUsingStarts(match, selections[j]);\n                if (cmp < 0) {\n                    // match is before sel\n                    if (selections[j].isEmpty() || !Range.areIntersecting(match, selections[j])) {\n                        matches.push(match);\n                    }\n                    i++;\n                }\n                else if (cmp > 0) {\n                    // sel is before match\n                    j++;\n                }\n                else {\n                    // sel is equal to match\n                    i++;\n                    j++;\n                }\n            }\n        }\n        const hasSemanticHighlights = this._languageFeaturesService.documentHighlightProvider.has(model) && this.editor.getOption(80 /* EditorOption.occurrencesHighlight */);\n        const decorations = matches.map(r => {\n            return {\n                range: r,\n                options: getSelectionHighlightDecorationOptions(hasSemanticHighlights)\n            };\n        });\n        this._decorations.set(decorations);\n    }\n    dispose() {\n        this._setState(null);\n        super.dispose();\n    }\n};\nSelectionHighlighter.ID = 'editor.contrib.selectionHighlighter';\nSelectionHighlighter = SelectionHighlighter_1 = __decorate([\n    __param(1, ILanguageFeaturesService)\n], SelectionHighlighter);\nexport { SelectionHighlighter };\nfunction modelRangesContainSameText(model, ranges, matchCase) {\n    const selectedText = getValueInRange(model, ranges[0], !matchCase);\n    for (let i = 1, len = ranges.length; i < len; i++) {\n        const range = ranges[i];\n        if (range.isEmpty()) {\n            return false;\n        }\n        const thisSelectedText = getValueInRange(model, range, !matchCase);\n        if (selectedText !== thisSelectedText) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getValueInRange(model, range, toLowerCase) {\n    const text = model.getValueInRange(range);\n    return (toLowerCase ? text.toLowerCase() : text);\n}\nexport class FocusNextCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.focusNextCursor',\n            label: nls.localize('mutlicursor.focusNextCursor', \"Focus Next Cursor\"),\n            description: {\n                description: nls.localize('mutlicursor.focusNextCursor.description', \"Focuses the next cursor\"),\n                args: [],\n            },\n            alias: 'Focus Next Cursor',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = Array.from(viewModel.getCursorStates());\n        const firstCursor = previousCursorState.shift();\n        if (!firstCursor) {\n            return;\n        }\n        previousCursorState.push(firstCursor);\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, previousCursorState);\n        viewModel.revealPrimaryCursor(args.source, true);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class FocusPreviousCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.focusPreviousCursor',\n            label: nls.localize('mutlicursor.focusPreviousCursor', \"Focus Previous Cursor\"),\n            description: {\n                description: nls.localize('mutlicursor.focusPreviousCursor.description', \"Focuses the previous cursor\"),\n                args: [],\n            },\n            alias: 'Focus Previous Cursor',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = Array.from(viewModel.getCursorStates());\n        const firstCursor = previousCursorState.pop();\n        if (!firstCursor) {\n            return;\n        }\n        previousCursorState.unshift(firstCursor);\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, previousCursorState);\n        viewModel.revealPrimaryCursor(args.source, true);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nregisterEditorContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorContribution(SelectionHighlighter.ID, SelectionHighlighter, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(InsertCursorAbove);\nregisterEditorAction(InsertCursorBelow);\nregisterEditorAction(InsertCursorAtEndOfEachLineSelected);\nregisterEditorAction(AddSelectionToNextFindMatchAction);\nregisterEditorAction(AddSelectionToPreviousFindMatchAction);\nregisterEditorAction(MoveSelectionToNextFindMatchAction);\nregisterEditorAction(MoveSelectionToPreviousFindMatchAction);\nregisterEditorAction(SelectHighlightsAction);\nregisterEditorAction(CompatChangeAll);\nregisterEditorAction(InsertCursorAtEndOfLineSelected);\nregisterEditorAction(InsertCursorAtTopOfLineSelected);\nregisterEditorAction(FocusNextCursor);\nregisterEditorAction(FocusPreviousCursor);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Position } from '../../../common/core/position.js';\nimport * as languages from '../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const Context = {\n    Visible: new RawContextKey('parameterHintsVisible', false),\n    MultipleSignatures: new RawContextKey('parameterHintsMultipleSignatures', false),\n};\nexport function provideSignatureHelp(registry, model, position, context, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const supports = registry.ordered(model);\n        for (const support of supports) {\n            try {\n                const result = yield support.provideSignatureHelp(model, position, token, context);\n                if (result) {\n                    return result;\n                }\n            }\n            catch (err) {\n                onUnexpectedExternalError(err);\n            }\n        }\n        return undefined;\n    });\n}\nCommandsRegistry.registerCommand('_executeSignatureHelpProvider', (accessor, ...args) => __awaiter(void 0, void 0, void 0, function* () {\n    const [uri, position, triggerCharacter] = args;\n    assertType(URI.isUri(uri));\n    assertType(Position.isIPosition(position));\n    assertType(typeof triggerCharacter === 'string' || !triggerCharacter);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const ref = yield accessor.get(ITextModelService).createModelReference(uri);\n    try {\n        const result = yield provideSignatureHelp(languageFeaturesService.signatureHelpProvider, ref.object.textEditorModel, Position.lift(position), {\n            triggerKind: languages.SignatureHelpTriggerKind.Invoke,\n            isRetrigger: false,\n            triggerCharacter,\n        }, CancellationToken.None);\n        if (!result) {\n            return undefined;\n        }\n        setTimeout(() => result.dispose(), 0);\n        return result.value;\n    }\n    finally {\n        ref.dispose();\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { createCancelablePromise, Delayer } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nimport * as languages from '../../../common/languages.js';\nimport { provideSignatureHelp } from './provideSignatureHelp.js';\nvar ParameterHintState;\n(function (ParameterHintState) {\n    ParameterHintState.Default = { type: 0 /* Type.Default */ };\n    class Pending {\n        constructor(request, previouslyActiveHints) {\n            this.request = request;\n            this.previouslyActiveHints = previouslyActiveHints;\n            this.type = 2 /* Type.Pending */;\n        }\n    }\n    ParameterHintState.Pending = Pending;\n    class Active {\n        constructor(hints) {\n            this.hints = hints;\n            this.type = 1 /* Type.Active */;\n        }\n    }\n    ParameterHintState.Active = Active;\n})(ParameterHintState || (ParameterHintState = {}));\nexport class ParameterHintsModel extends Disposable {\n    constructor(editor, providers, delay = ParameterHintsModel.DEFAULT_DELAY) {\n        super();\n        this._onChangedHints = this._register(new Emitter());\n        this.onChangedHints = this._onChangedHints.event;\n        this.triggerOnType = false;\n        this._state = ParameterHintState.Default;\n        this._pendingTriggers = [];\n        this._lastSignatureHelpResult = this._register(new MutableDisposable());\n        this.triggerChars = new CharacterSet();\n        this.retriggerChars = new CharacterSet();\n        this.triggerId = 0;\n        this.editor = editor;\n        this.providers = providers;\n        this.throttledDelayer = new Delayer(delay);\n        this._register(this.editor.onDidBlurEditorWidget(() => this.cancel()));\n        this._register(this.editor.onDidChangeConfiguration(() => this.onEditorConfigurationChange()));\n        this._register(this.editor.onDidChangeModel(e => this.onModelChanged()));\n        this._register(this.editor.onDidChangeModelLanguage(_ => this.onModelChanged()));\n        this._register(this.editor.onDidChangeCursorSelection(e => this.onCursorChange(e)));\n        this._register(this.editor.onDidChangeModelContent(e => this.onModelContentChange()));\n        this._register(this.providers.onDidChange(this.onModelChanged, this));\n        this._register(this.editor.onDidType(text => this.onDidType(text)));\n        this.onEditorConfigurationChange();\n        this.onModelChanged();\n    }\n    get state() { return this._state; }\n    set state(value) {\n        if (this._state.type === 2 /* ParameterHintState.Type.Pending */) {\n            this._state.request.cancel();\n        }\n        this._state = value;\n    }\n    cancel(silent = false) {\n        this.state = ParameterHintState.Default;\n        this.throttledDelayer.cancel();\n        if (!silent) {\n            this._onChangedHints.fire(undefined);\n        }\n    }\n    trigger(context, delay) {\n        const model = this.editor.getModel();\n        if (!model || !this.providers.has(model)) {\n            return;\n        }\n        const triggerId = ++this.triggerId;\n        this._pendingTriggers.push(context);\n        this.throttledDelayer.trigger(() => {\n            return this.doTrigger(triggerId);\n        }, delay)\n            .catch(onUnexpectedError);\n    }\n    next() {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        const length = this.state.hints.signatures.length;\n        const activeSignature = this.state.hints.activeSignature;\n        const last = (activeSignature % length) === (length - 1);\n        const cycle = this.editor.getOption(85 /* EditorOption.parameterHints */).cycle;\n        // If there is only one signature, or we're on last signature of list\n        if ((length < 2 || last) && !cycle) {\n            this.cancel();\n            return;\n        }\n        this.updateActiveSignature(last && cycle ? 0 : activeSignature + 1);\n    }\n    previous() {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        const length = this.state.hints.signatures.length;\n        const activeSignature = this.state.hints.activeSignature;\n        const first = activeSignature === 0;\n        const cycle = this.editor.getOption(85 /* EditorOption.parameterHints */).cycle;\n        // If there is only one signature, or we're on first signature of list\n        if ((length < 2 || first) && !cycle) {\n            this.cancel();\n            return;\n        }\n        this.updateActiveSignature(first && cycle ? length - 1 : activeSignature - 1);\n    }\n    updateActiveSignature(activeSignature) {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        this.state = new ParameterHintState.Active(Object.assign(Object.assign({}, this.state.hints), { activeSignature }));\n        this._onChangedHints.fire(this.state.hints);\n    }\n    doTrigger(triggerId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isRetrigger = this.state.type === 1 /* ParameterHintState.Type.Active */ || this.state.type === 2 /* ParameterHintState.Type.Pending */;\n            const activeSignatureHelp = this.getLastActiveHints();\n            this.cancel(true);\n            if (this._pendingTriggers.length === 0) {\n                return false;\n            }\n            const context = this._pendingTriggers.reduce(mergeTriggerContexts);\n            this._pendingTriggers = [];\n            const triggerContext = {\n                triggerKind: context.triggerKind,\n                triggerCharacter: context.triggerCharacter,\n                isRetrigger: isRetrigger,\n                activeSignatureHelp: activeSignatureHelp\n            };\n            if (!this.editor.hasModel()) {\n                return false;\n            }\n            const model = this.editor.getModel();\n            const position = this.editor.getPosition();\n            this.state = new ParameterHintState.Pending(createCancelablePromise(token => provideSignatureHelp(this.providers, model, position, triggerContext, token)), activeSignatureHelp);\n            try {\n                const result = yield this.state.request;\n                // Check that we are still resolving the correct signature help\n                if (triggerId !== this.triggerId) {\n                    result === null || result === void 0 ? void 0 : result.dispose();\n                    return false;\n                }\n                if (!result || !result.value.signatures || result.value.signatures.length === 0) {\n                    result === null || result === void 0 ? void 0 : result.dispose();\n                    this._lastSignatureHelpResult.clear();\n                    this.cancel();\n                    return false;\n                }\n                else {\n                    this.state = new ParameterHintState.Active(result.value);\n                    this._lastSignatureHelpResult.value = result;\n                    this._onChangedHints.fire(this.state.hints);\n                    return true;\n                }\n            }\n            catch (error) {\n                if (triggerId === this.triggerId) {\n                    this.state = ParameterHintState.Default;\n                }\n                onUnexpectedError(error);\n                return false;\n            }\n        });\n    }\n    getLastActiveHints() {\n        switch (this.state.type) {\n            case 1 /* ParameterHintState.Type.Active */: return this.state.hints;\n            case 2 /* ParameterHintState.Type.Pending */: return this.state.previouslyActiveHints;\n            default: return undefined;\n        }\n    }\n    get isTriggered() {\n        return this.state.type === 1 /* ParameterHintState.Type.Active */\n            || this.state.type === 2 /* ParameterHintState.Type.Pending */\n            || this.throttledDelayer.isTriggered();\n    }\n    onModelChanged() {\n        this.cancel();\n        this.triggerChars.clear();\n        this.retriggerChars.clear();\n        const model = this.editor.getModel();\n        if (!model) {\n            return;\n        }\n        for (const support of this.providers.ordered(model)) {\n            for (const ch of support.signatureHelpTriggerCharacters || []) {\n                if (ch.length) {\n                    const charCode = ch.charCodeAt(0);\n                    this.triggerChars.add(charCode);\n                    // All trigger characters are also considered retrigger characters\n                    this.retriggerChars.add(charCode);\n                }\n            }\n            for (const ch of support.signatureHelpRetriggerCharacters || []) {\n                if (ch.length) {\n                    this.retriggerChars.add(ch.charCodeAt(0));\n                }\n            }\n        }\n    }\n    onDidType(text) {\n        if (!this.triggerOnType) {\n            return;\n        }\n        const lastCharIndex = text.length - 1;\n        const triggerCharCode = text.charCodeAt(lastCharIndex);\n        if (this.triggerChars.has(triggerCharCode) || this.isTriggered && this.retriggerChars.has(triggerCharCode)) {\n            this.trigger({\n                triggerKind: languages.SignatureHelpTriggerKind.TriggerCharacter,\n                triggerCharacter: text.charAt(lastCharIndex),\n            });\n        }\n    }\n    onCursorChange(e) {\n        if (e.source === 'mouse') {\n            this.cancel();\n        }\n        else if (this.isTriggered) {\n            this.trigger({ triggerKind: languages.SignatureHelpTriggerKind.ContentChange });\n        }\n    }\n    onModelContentChange() {\n        if (this.isTriggered) {\n            this.trigger({ triggerKind: languages.SignatureHelpTriggerKind.ContentChange });\n        }\n    }\n    onEditorConfigurationChange() {\n        this.triggerOnType = this.editor.getOption(85 /* EditorOption.parameterHints */).enabled;\n        if (!this.triggerOnType) {\n            this.cancel();\n        }\n    }\n    dispose() {\n        this.cancel(true);\n        super.dispose();\n    }\n}\nParameterHintsModel.DEFAULT_DELAY = 120; // ms\nfunction mergeTriggerContexts(previous, current) {\n    switch (current.triggerKind) {\n        case languages.SignatureHelpTriggerKind.Invoke:\n            // Invoke overrides previous triggers.\n            return current;\n        case languages.SignatureHelpTriggerKind.ContentChange:\n            // Ignore content changes triggers\n            return previous;\n        case languages.SignatureHelpTriggerKind.TriggerCharacter:\n        default:\n            return current;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ParameterHintsWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters } from '../../../../base/common/strings.js';\nimport { assertIsDefined } from '../../../../base/common/types.js';\nimport './parameterHints.css';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { listHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nconst $ = dom.$;\nconst parameterHintsNextIcon = registerIcon('parameter-hints-next', Codicon.chevronDown, nls.localize('parameterHintsNextIcon', 'Icon for show next parameter hint.'));\nconst parameterHintsPreviousIcon = registerIcon('parameter-hints-previous', Codicon.chevronUp, nls.localize('parameterHintsPreviousIcon', 'Icon for show previous parameter hint.'));\nlet ParameterHintsWidget = ParameterHintsWidget_1 = class ParameterHintsWidget extends Disposable {\n    constructor(editor, model, contextKeyService, openerService, languageService) {\n        super();\n        this.editor = editor;\n        this.model = model;\n        this.renderDisposeables = this._register(new DisposableStore());\n        this.visible = false;\n        this.announcedLabel = null;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.markdownRenderer = this._register(new MarkdownRenderer({ editor }, languageService, openerService));\n        this.keyVisible = Context.Visible.bindTo(contextKeyService);\n        this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\n    }\n    createParameterHintDOMNodes() {\n        const element = $('.editor-widget.parameter-hints-widget');\n        const wrapper = dom.append(element, $('.phwrapper'));\n        wrapper.tabIndex = -1;\n        const controls = dom.append(wrapper, $('.controls'));\n        const previous = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsPreviousIcon)));\n        const overloads = dom.append(controls, $('.overloads'));\n        const next = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsNextIcon)));\n        this._register(dom.addDisposableListener(previous, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.previous();\n        }));\n        this._register(dom.addDisposableListener(next, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.next();\n        }));\n        const body = $('.body');\n        const scrollbar = new DomScrollableElement(body, {\n            alwaysConsumeMouseWheel: true,\n        });\n        this._register(scrollbar);\n        wrapper.appendChild(scrollbar.getDomNode());\n        const signature = dom.append(body, $('.signature'));\n        const docs = dom.append(body, $('.docs'));\n        element.style.userSelect = 'text';\n        this.domNodes = {\n            element,\n            signature,\n            overloads,\n            docs,\n            scrollbar,\n        };\n        this.editor.addContentWidget(this);\n        this.hide();\n        this._register(this.editor.onDidChangeCursorSelection(e => {\n            if (this.visible) {\n                this.editor.layoutContentWidget(this);\n            }\n        }));\n        const updateFont = () => {\n            if (!this.domNodes) {\n                return;\n            }\n            const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n            this.domNodes.element.style.fontSize = `${fontInfo.fontSize}px`;\n            this.domNodes.element.style.lineHeight = `${fontInfo.lineHeight / fontInfo.fontSize}`;\n        };\n        updateFont();\n        this._register(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor), $ => $.filter(e => e.hasChanged(50 /* EditorOption.fontInfo */)))(updateFont));\n        this._register(this.editor.onDidLayoutChange(e => this.updateMaxHeight()));\n        this.updateMaxHeight();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        this.keyVisible.set(true);\n        this.visible = true;\n        setTimeout(() => {\n            var _a;\n            (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.add('visible');\n        }, 100);\n        this.editor.layoutContentWidget(this);\n    }\n    hide() {\n        var _a;\n        this.renderDisposeables.clear();\n        if (!this.visible) {\n            return;\n        }\n        this.keyVisible.reset();\n        this.visible = false;\n        this.announcedLabel = null;\n        (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.remove('visible');\n        this.editor.layoutContentWidget(this);\n    }\n    getPosition() {\n        if (this.visible) {\n            return {\n                position: this.editor.getPosition(),\n                preference: [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */]\n            };\n        }\n        return null;\n    }\n    render(hints) {\n        var _a;\n        this.renderDisposeables.clear();\n        if (!this.domNodes) {\n            return;\n        }\n        const multiple = hints.signatures.length > 1;\n        this.domNodes.element.classList.toggle('multiple', multiple);\n        this.keyMultipleSignatures.set(multiple);\n        this.domNodes.signature.innerText = '';\n        this.domNodes.docs.innerText = '';\n        const signature = hints.signatures[hints.activeSignature];\n        if (!signature) {\n            return;\n        }\n        const code = dom.append(this.domNodes.signature, $('.code'));\n        const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n        code.style.fontSize = `${fontInfo.fontSize}px`;\n        code.style.fontFamily = fontInfo.fontFamily;\n        const hasParameters = signature.parameters.length > 0;\n        const activeParameterIndex = (_a = signature.activeParameter) !== null && _a !== void 0 ? _a : hints.activeParameter;\n        if (!hasParameters) {\n            const label = dom.append(code, $('span'));\n            label.textContent = signature.label;\n        }\n        else {\n            this.renderParameters(code, signature, activeParameterIndex);\n        }\n        const activeParameter = signature.parameters[activeParameterIndex];\n        if (activeParameter === null || activeParameter === void 0 ? void 0 : activeParameter.documentation) {\n            const documentation = $('span.documentation');\n            if (typeof activeParameter.documentation === 'string') {\n                documentation.textContent = activeParameter.documentation;\n            }\n            else {\n                const renderedContents = this.renderMarkdownDocs(activeParameter.documentation);\n                documentation.appendChild(renderedContents.element);\n            }\n            dom.append(this.domNodes.docs, $('p', {}, documentation));\n        }\n        if (signature.documentation === undefined) {\n            /** no op */\n        }\n        else if (typeof signature.documentation === 'string') {\n            dom.append(this.domNodes.docs, $('p', {}, signature.documentation));\n        }\n        else {\n            const renderedContents = this.renderMarkdownDocs(signature.documentation);\n            dom.append(this.domNodes.docs, renderedContents.element);\n        }\n        const hasDocs = this.hasDocs(signature, activeParameter);\n        this.domNodes.signature.classList.toggle('has-docs', hasDocs);\n        this.domNodes.docs.classList.toggle('empty', !hasDocs);\n        this.domNodes.overloads.textContent =\n            String(hints.activeSignature + 1).padStart(hints.signatures.length.toString().length, '0') + '/' + hints.signatures.length;\n        if (activeParameter) {\n            let labelToAnnounce = '';\n            const param = signature.parameters[activeParameterIndex];\n            if (Array.isArray(param.label)) {\n                labelToAnnounce = signature.label.substring(param.label[0], param.label[1]);\n            }\n            else {\n                labelToAnnounce = param.label;\n            }\n            if (param.documentation) {\n                labelToAnnounce += typeof param.documentation === 'string' ? `, ${param.documentation}` : `, ${param.documentation.value}`;\n            }\n            if (signature.documentation) {\n                labelToAnnounce += typeof signature.documentation === 'string' ? `, ${signature.documentation}` : `, ${signature.documentation.value}`;\n            }\n            // Select method gets called on every user type while parameter hints are visible.\n            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n            if (this.announcedLabel !== labelToAnnounce) {\n                aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n                this.announcedLabel = labelToAnnounce;\n            }\n        }\n        this.editor.layoutContentWidget(this);\n        this.domNodes.scrollbar.scanDomNode();\n    }\n    renderMarkdownDocs(markdown) {\n        const renderedContents = this.renderDisposeables.add(this.markdownRenderer.render(markdown, {\n            asyncRenderCallback: () => {\n                var _a;\n                (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.scrollbar.scanDomNode();\n            }\n        }));\n        renderedContents.element.classList.add('markdown-docs');\n        return renderedContents;\n    }\n    hasDocs(signature, activeParameter) {\n        if (activeParameter && typeof activeParameter.documentation === 'string' && assertIsDefined(activeParameter.documentation).length > 0) {\n            return true;\n        }\n        if (activeParameter && typeof activeParameter.documentation === 'object' && assertIsDefined(activeParameter.documentation).value.length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'string' && assertIsDefined(signature.documentation).length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'object' && assertIsDefined(signature.documentation.value).length > 0) {\n            return true;\n        }\n        return false;\n    }\n    renderParameters(parent, signature, activeParameterIndex) {\n        const [start, end] = this.getParameterLabelOffsets(signature, activeParameterIndex);\n        const beforeSpan = document.createElement('span');\n        beforeSpan.textContent = signature.label.substring(0, start);\n        const paramSpan = document.createElement('span');\n        paramSpan.textContent = signature.label.substring(start, end);\n        paramSpan.className = 'parameter active';\n        const afterSpan = document.createElement('span');\n        afterSpan.textContent = signature.label.substring(end);\n        dom.append(parent, beforeSpan, paramSpan, afterSpan);\n    }\n    getParameterLabelOffsets(signature, paramIdx) {\n        const param = signature.parameters[paramIdx];\n        if (!param) {\n            return [0, 0];\n        }\n        else if (Array.isArray(param.label)) {\n            return param.label;\n        }\n        else if (!param.label.length) {\n            return [0, 0];\n        }\n        else {\n            const regex = new RegExp(`(\\\\W|^)${escapeRegExpCharacters(param.label)}(?=\\\\W|$)`, 'g');\n            regex.test(signature.label);\n            const idx = regex.lastIndex - param.label.length;\n            return idx >= 0\n                ? [idx, regex.lastIndex]\n                : [0, 0];\n        }\n    }\n    next() {\n        this.editor.focus();\n        this.model.next();\n    }\n    previous() {\n        this.editor.focus();\n        this.model.previous();\n    }\n    getDomNode() {\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        return this.domNodes.element;\n    }\n    getId() {\n        return ParameterHintsWidget_1.ID;\n    }\n    updateMaxHeight() {\n        if (!this.domNodes) {\n            return;\n        }\n        const height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\n        const maxHeight = `${height}px`;\n        this.domNodes.element.style.maxHeight = maxHeight;\n        const wrapper = this.domNodes.element.getElementsByClassName('phwrapper');\n        if (wrapper.length) {\n            wrapper[0].style.maxHeight = maxHeight;\n        }\n    }\n};\nParameterHintsWidget.ID = 'editor.widget.parameterHintsWidget';\nParameterHintsWidget = ParameterHintsWidget_1 = __decorate([\n    __param(2, IContextKeyService),\n    __param(3, IOpenerService),\n    __param(4, ILanguageService)\n], ParameterHintsWidget);\nexport { ParameterHintsWidget };\nregisterColor('editorHoverWidget.highlightForeground', { dark: listHighlightForeground, light: listHighlightForeground, hcDark: listHighlightForeground, hcLight: listHighlightForeground }, nls.localize('editorHoverWidgetHighlightForeground', 'Foreground color of the active item in the parameter hint.'));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ParameterHintsController_1;\nimport { Lazy } from '../../../../base/common/lazy.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as languages from '../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ParameterHintsModel } from './parameterHintsModel.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ParameterHintsWidget } from './parameterHintsWidget.js';\nlet ParameterHintsController = ParameterHintsController_1 = class ParameterHintsController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(ParameterHintsController_1.ID);\n    }\n    constructor(editor, instantiationService, languageFeaturesService) {\n        super();\n        this.editor = editor;\n        this.model = this._register(new ParameterHintsModel(editor, languageFeaturesService.signatureHelpProvider));\n        this._register(this.model.onChangedHints(newParameterHints => {\n            var _a;\n            if (newParameterHints) {\n                this.widget.value.show();\n                this.widget.value.render(newParameterHints);\n            }\n            else {\n                (_a = this.widget.rawValue) === null || _a === void 0 ? void 0 : _a.hide();\n            }\n        }));\n        this.widget = new Lazy(() => this._register(instantiationService.createInstance(ParameterHintsWidget, this.editor, this.model)));\n    }\n    cancel() {\n        this.model.cancel();\n    }\n    previous() {\n        var _a;\n        (_a = this.widget.rawValue) === null || _a === void 0 ? void 0 : _a.previous();\n    }\n    next() {\n        var _a;\n        (_a = this.widget.rawValue) === null || _a === void 0 ? void 0 : _a.next();\n    }\n    trigger(context) {\n        this.model.trigger(context, 0);\n    }\n};\nParameterHintsController.ID = 'editor.controller.parameterHints';\nParameterHintsController = ParameterHintsController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, ILanguageFeaturesService)\n], ParameterHintsController);\nexport { ParameterHintsController };\nexport class TriggerParameterHintsAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.triggerParameterHints',\n            label: nls.localize('parameterHints.trigger.label', \"Trigger Parameter Hints\"),\n            alias: 'Trigger Parameter Hints',\n            precondition: EditorContextKeys.hasSignatureHelpProvider,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 10 /* KeyCode.Space */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ParameterHintsController.get(editor);\n        controller === null || controller === void 0 ? void 0 : controller.trigger({\n            triggerKind: languages.SignatureHelpTriggerKind.Invoke\n        });\n    }\n}\nregisterEditorContribution(ParameterHintsController.ID, ParameterHintsController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(TriggerParameterHintsAction);\nconst weight = 100 /* KeybindingWeight.EditorContrib */ + 75;\nconst ParameterHintsCommand = EditorCommand.bindToContribution(ParameterHintsController.get);\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'closeParameterHints',\n    precondition: Context.Visible,\n    handler: x => x.cancel(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showPrevParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: x => x.previous(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 16 /* KeyCode.UpArrow */,\n        secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n        mac: { primary: 16 /* KeyCode.UpArrow */, secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */, 256 /* KeyMod.WinCtrl */ | 46 /* KeyCode.KeyP */] }\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showNextParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: x => x.next(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 18 /* KeyCode.DownArrow */,\n        secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n        mac: { primary: 18 /* KeyCode.DownArrow */, secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */, 256 /* KeyMod.WinCtrl */ | 44 /* KeyCode.KeyN */] }\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './media/peekViewWidget.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\nimport { ZoneWidget } from '../../zoneWidget/browser/zoneWidget.js';\nimport * as nls from '../../../../nls.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator, IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { activeContrastBorder, contrastBorder, editorForeground, editorInfoForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nexport const IPeekViewService = createDecorator('IPeekViewService');\nregisterSingleton(IPeekViewService, class {\n    constructor() {\n        this._widgets = new Map();\n    }\n    addExclusiveWidget(editor, widget) {\n        const existing = this._widgets.get(editor);\n        if (existing) {\n            existing.listener.dispose();\n            existing.widget.dispose();\n        }\n        const remove = () => {\n            const data = this._widgets.get(editor);\n            if (data && data.widget === widget) {\n                data.listener.dispose();\n                this._widgets.delete(editor);\n            }\n        };\n        this._widgets.set(editor, { widget, listener: widget.onDidClose(remove) });\n    }\n}, 1 /* InstantiationType.Delayed */);\nexport var PeekContext;\n(function (PeekContext) {\n    PeekContext.inPeekEditor = new RawContextKey('inReferenceSearchEditor', true, nls.localize('inReferenceSearchEditor', \"Whether the current code editor is embedded inside peek\"));\n    PeekContext.notInPeekEditor = PeekContext.inPeekEditor.toNegated();\n})(PeekContext || (PeekContext = {}));\nlet PeekContextController = class PeekContextController {\n    constructor(editor, contextKeyService) {\n        if (editor instanceof EmbeddedCodeEditorWidget) {\n            PeekContext.inPeekEditor.bindTo(contextKeyService);\n        }\n    }\n    dispose() { }\n};\nPeekContextController.ID = 'editor.contrib.referenceController';\nPeekContextController = __decorate([\n    __param(1, IContextKeyService)\n], PeekContextController);\nregisterEditorContribution(PeekContextController.ID, PeekContextController, 0 /* EditorContributionInstantiation.Eager */); // eager because it needs to define a context key\nexport function getOuterEditor(accessor) {\n    const editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    if (editor instanceof EmbeddedCodeEditorWidget) {\n        return editor.getParentEditor();\n    }\n    return editor;\n}\nconst defaultOptions = {\n    headerBackgroundColor: Color.white,\n    primaryHeadingColor: Color.fromHex('#333333'),\n    secondaryHeadingColor: Color.fromHex('#6c6c6cb3')\n};\nlet PeekViewWidget = class PeekViewWidget extends ZoneWidget {\n    constructor(editor, options, instantiationService) {\n        super(editor, options);\n        this.instantiationService = instantiationService;\n        this._onDidClose = new Emitter();\n        this.onDidClose = this._onDidClose.event;\n        objects.mixin(this.options, defaultOptions, false);\n    }\n    dispose() {\n        if (!this.disposed) {\n            this.disposed = true; // prevent consumers who dispose on onDidClose from looping\n            super.dispose();\n            this._onDidClose.fire(this);\n        }\n    }\n    style(styles) {\n        const options = this.options;\n        if (styles.headerBackgroundColor) {\n            options.headerBackgroundColor = styles.headerBackgroundColor;\n        }\n        if (styles.primaryHeadingColor) {\n            options.primaryHeadingColor = styles.primaryHeadingColor;\n        }\n        if (styles.secondaryHeadingColor) {\n            options.secondaryHeadingColor = styles.secondaryHeadingColor;\n        }\n        super.style(styles);\n    }\n    _applyStyles() {\n        super._applyStyles();\n        const options = this.options;\n        if (this._headElement && options.headerBackgroundColor) {\n            this._headElement.style.backgroundColor = options.headerBackgroundColor.toString();\n        }\n        if (this._primaryHeading && options.primaryHeadingColor) {\n            this._primaryHeading.style.color = options.primaryHeadingColor.toString();\n        }\n        if (this._secondaryHeading && options.secondaryHeadingColor) {\n            this._secondaryHeading.style.color = options.secondaryHeadingColor.toString();\n        }\n        if (this._bodyElement && options.frameColor) {\n            this._bodyElement.style.borderColor = options.frameColor.toString();\n        }\n    }\n    _fillContainer(container) {\n        this.setCssClass('peekview-widget');\n        this._headElement = dom.$('.head');\n        this._bodyElement = dom.$('.body');\n        this._fillHead(this._headElement);\n        this._fillBody(this._bodyElement);\n        container.appendChild(this._headElement);\n        container.appendChild(this._bodyElement);\n    }\n    _fillHead(container, noCloseAction) {\n        this._titleElement = dom.$('.peekview-title');\n        if (this.options.supportOnTitleClick) {\n            this._titleElement.classList.add('clickable');\n            dom.addStandardDisposableListener(this._titleElement, 'click', event => this._onTitleClick(event));\n        }\n        dom.append(this._headElement, this._titleElement);\n        this._fillTitleIcon(this._titleElement);\n        this._primaryHeading = dom.$('span.filename');\n        this._secondaryHeading = dom.$('span.dirname');\n        this._metaHeading = dom.$('span.meta');\n        dom.append(this._titleElement, this._primaryHeading, this._secondaryHeading, this._metaHeading);\n        const actionsContainer = dom.$('.peekview-actions');\n        dom.append(this._headElement, actionsContainer);\n        const actionBarOptions = this._getActionBarOptions();\n        this._actionbarWidget = new ActionBar(actionsContainer, actionBarOptions);\n        this._disposables.add(this._actionbarWidget);\n        if (!noCloseAction) {\n            this._actionbarWidget.push(new Action('peekview.close', nls.localize('label.close', \"Close\"), ThemeIcon.asClassName(Codicon.close), true, () => {\n                this.dispose();\n                return Promise.resolve();\n            }), { label: false, icon: true });\n        }\n    }\n    _fillTitleIcon(container) {\n    }\n    _getActionBarOptions() {\n        return {\n            actionViewItemProvider: createActionViewItem.bind(undefined, this.instantiationService),\n            orientation: 0 /* ActionsOrientation.HORIZONTAL */\n        };\n    }\n    _onTitleClick(event) {\n        // implement me if supportOnTitleClick option is set\n    }\n    setTitle(primaryHeading, secondaryHeading) {\n        if (this._primaryHeading && this._secondaryHeading) {\n            this._primaryHeading.innerText = primaryHeading;\n            this._primaryHeading.setAttribute('title', primaryHeading);\n            if (secondaryHeading) {\n                this._secondaryHeading.innerText = secondaryHeading;\n            }\n            else {\n                dom.clearNode(this._secondaryHeading);\n            }\n        }\n    }\n    setMetaTitle(value) {\n        if (this._metaHeading) {\n            if (value) {\n                this._metaHeading.innerText = value;\n                dom.show(this._metaHeading);\n            }\n            else {\n                dom.hide(this._metaHeading);\n            }\n        }\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        if (!this._isShowing && heightInPixel < 0) {\n            // Looks like the view zone got folded away!\n            this.dispose();\n            return;\n        }\n        const headHeight = Math.ceil(this.editor.getOption(66 /* EditorOption.lineHeight */) * 1.2);\n        const bodyHeight = Math.round(heightInPixel - (headHeight + 2 /* the border-top/bottom width*/));\n        this._doLayoutHead(headHeight, widthInPixel);\n        this._doLayoutBody(bodyHeight, widthInPixel);\n    }\n    _doLayoutHead(heightInPixel, widthInPixel) {\n        if (this._headElement) {\n            this._headElement.style.height = `${heightInPixel}px`;\n            this._headElement.style.lineHeight = this._headElement.style.height;\n        }\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        if (this._bodyElement) {\n            this._bodyElement.style.height = `${heightInPixel}px`;\n        }\n    }\n};\nPeekViewWidget = __decorate([\n    __param(2, IInstantiationService)\n], PeekViewWidget);\nexport { PeekViewWidget };\nexport const peekViewTitleBackground = registerColor('peekViewTitle.background', { dark: '#252526', light: '#F3F3F3', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewTitleBackground', 'Background color of the peek view title area.'));\nexport const peekViewTitleForeground = registerColor('peekViewTitleLabel.foreground', { dark: Color.white, light: Color.black, hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewTitleForeground', 'Color of the peek view title.'));\nexport const peekViewTitleInfoForeground = registerColor('peekViewTitleDescription.foreground', { dark: '#ccccccb3', light: '#616161', hcDark: '#FFFFFF99', hcLight: '#292929' }, nls.localize('peekViewTitleInfoForeground', 'Color of the peek view title info.'));\nexport const peekViewBorder = registerColor('peekView.border', { dark: editorInfoForeground, light: editorInfoForeground, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('peekViewBorder', 'Color of the peek view borders and arrow.'));\nexport const peekViewResultsBackground = registerColor('peekViewResult.background', { dark: '#252526', light: '#F3F3F3', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewResultsBackground', 'Background color of the peek view result list.'));\nexport const peekViewResultsMatchForeground = registerColor('peekViewResult.lineForeground', { dark: '#bbbbbb', light: '#646465', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsMatchForeground', 'Foreground color for line nodes in the peek view result list.'));\nexport const peekViewResultsFileForeground = registerColor('peekViewResult.fileForeground', { dark: Color.white, light: '#1E1E1E', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsFileForeground', 'Foreground color for file nodes in the peek view result list.'));\nexport const peekViewResultsSelectionBackground = registerColor('peekViewResult.selectionBackground', { dark: '#3399ff33', light: '#3399ff33', hcDark: null, hcLight: null }, nls.localize('peekViewResultsSelectionBackground', 'Background color of the selected entry in the peek view result list.'));\nexport const peekViewResultsSelectionForeground = registerColor('peekViewResult.selectionForeground', { dark: Color.white, light: '#6C6C6C', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsSelectionForeground', 'Foreground color of the selected entry in the peek view result list.'));\nexport const peekViewEditorBackground = registerColor('peekViewEditor.background', { dark: '#001F33', light: '#F2F8FC', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewEditorBackground', 'Background color of the peek view editor.'));\nexport const peekViewEditorGutterBackground = registerColor('peekViewEditorGutter.background', { dark: peekViewEditorBackground, light: peekViewEditorBackground, hcDark: peekViewEditorBackground, hcLight: peekViewEditorBackground }, nls.localize('peekViewEditorGutterBackground', 'Background color of the gutter in the peek view editor.'));\nexport const peekViewEditorStickyScrollBackground = registerColor('peekViewEditorStickyScroll.background', { dark: peekViewEditorBackground, light: peekViewEditorBackground, hcDark: peekViewEditorBackground, hcLight: peekViewEditorBackground }, nls.localize('peekViewEditorStickScrollBackground', 'Background color of sticky scroll in the peek view editor.'));\nexport const peekViewResultsMatchHighlight = registerColor('peekViewResult.matchHighlightBackground', { dark: '#ea5c004d', light: '#ea5c004d', hcDark: null, hcLight: null }, nls.localize('peekViewResultsMatchHighlight', 'Match highlight color in the peek view result list.'));\nexport const peekViewEditorMatchHighlight = registerColor('peekViewEditor.matchHighlightBackground', { dark: '#ff8f0099', light: '#f5d802de', hcDark: null, hcLight: null }, nls.localize('peekViewEditorMatchHighlight', 'Match highlight color in the peek view editor.'));\nexport const peekViewEditorMatchHighlightBorder = registerColor('peekViewEditor.matchHighlightBorder', { dark: null, light: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('peekViewEditorMatchHighlightBorder', 'Match highlight border in the peek view editor.'));\n"],"names":["LongLinesHelper","Disposable","constructor","_editor","super","this","_register","onMouseDown","e","stopRenderingLineAfter","getOption","target","type","position","column","updateOptions","ID","registerEditorContribution","MarkdownRenderer_1","__decorate","decorators","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","apply","MarkdownRenderer","_options","_languageService","_openerService","_onDidRenderAsync","Emitter","onDidRenderAsync","event","dispose","render","markdown","options","markedOptions","element","document","createElement","disposables","DisposableStore","rendered","add","renderMarkdown","assign","_getRenderOptions","classList","codeBlockRenderer","languageAlias","_a","_b","_c","languageId","getLanguageIdByLanguageName","editor","getModel","getLanguageId","PLAINTEXT_LANGUAGE_ID","html","tokenizeToString","innerHTML","_ttpTokenizer","createHTML","fontInfo","applyFontInfo","codeBlockFontFamily","style","fontFamily","undefined","codeBlockFontSize","fontSize","asyncRenderCallback","fire","actionHandler","callback","link","openLinkFromMarkdown","isTrusted","openerService","open","fromUserGesture","allowContributedOpeners","allowCommands","toAllowCommandsOption","onUnexpectedError","Array","isArray","enabledCommands","createTrustedTypesPolicy","ILanguageService","IOpenerService","MessageController_1","MessageController","get","getContribution","contextKeyService","_messageWidget","MutableDisposable","_messageListeners","_mouseOverMessage","_visible","MESSAGE_VISIBLE","bindTo","_message","reset","showMessage","message","bounds","alert","isMarkdownString","set","clear","url","MessageWidget","Event","debounce","onDidBlurEditorText","last","dom","getDomNode","closeMessage","onDidChangeCursorPosition","onDidDispose","onDidChangeModel","MOUSE_ENTER","MOUSE_LEAVE","onMouseMove","containsPosition","Range","lineNumber","fadeOut","RawContextKey","nls","IContextKeyService","MessageCommand","EditorCommand","bindToContribution","registerEditorCommand","id","precondition","handler","kbOpts","weight","primary","messageWidget","clearTimeout","handle","removeEventListener","setTimeout","addEventListener","_ref","text","allowEditorOverflow","suppressMouseDown","revealLinesInCenterIfOutsideViewport","_position","_domNode","marginLeft","anchorTop","appendChild","textContent","anchorBottom","addContentWidget","removeContentWidget","getId","getPosition","preference","positionAffinity","afterRender","toggle","SelectionHighlighter_1","announceCursorChange","previousCursorState","cursorState","cursorDiff","filter","cs","find","pcs","equals","cursorPositions","map","concat","viewState","join","msg","status","InsertCursorAbove","EditorAction","label","alias","kbExpr","EditorContextKeys","editorTextFocus","linux","secondary","menuOpts","menuId","MenuId","MenubarSelectionMenu","group","title","comment","order","run","accessor","args","hasModel","useLogicalLine","logicalLine","viewModel","_getViewModel","cursorConfig","readOnly","model","pushStackElement","getCursorStates","setCursorStates","source","CursorMoveCommands","addCursorUp","revealTopMostCursor","InsertCursorBelow","addCursorDown","revealBottomMostCursor","InsertCursorAtEndOfEachLineSelected","getCursorsForSelection","selection","isEmpty","startLineNumber","endLineNumber","currentLineMaxColumn","getLineMaxColumn","push","Selection","endColumn","selections","getSelections","newSelections","forEach","sel","setSelections","InsertCursorAtEndOfLineSelected","lineCount","getLineCount","startColumn","InsertCursorAtTopOfLineSelected","MultiCursorSessionResult","revealRange","revealScrollType","MultiCursorSession","create","findController","findState","getState","hasTextFocus","isRevealed","searchString","wholeWord","matchCase","isDisconnectedFromFindController","s","getSelection","searchText","currentMatch","word","getConfiguredWordAtPosition","getStartPosition","getValueInRange","replace","addSelectionToNextFindMatch","nextMatch","_getNextMatch","allSelections","moveSelectionToNextFindMatch","slice","highlightFindOptions","lastAddedSelection","findNextMatch","getEndPosition","range","addSelectionToPreviousFindMatch","previousMatch","_getPreviousMatch","moveSelectionToPreviousFindMatch","findPreviousMatch","selectAll","searchScope","editorModel","findMatches","MultiCursorSelectionController","_sessionDispose","_ignoreSelectionChange","_session","_endSession","_beginSessionIfNeeded","session","newState","wholeWordOverride","matchCaseOverride","isRegexOverride","change","onDidChangeCursorSelection","onFindReplaceStateChange","_setSelections","_expandEmptyToWord","_applySessionResult","revealRangeInCenterIfOutsideViewport","getSession","modelRangesContainSameText","resultingSelections","len","matches","isRegex","editorSelection","match","intersectRanges","m","MultiCursorSelectionControllerAction","multiCursorController","CommonFindController","_run","newFindController","IInstantiationService","createInstance","AddSelectionToNextFindMatchAction","focus","AddSelectionToPreviousFindMatchAction","MoveSelectionToNextFindMatchAction","KeyChord","MoveSelectionToPreviousFindMatchAction","SelectHighlightsAction","CompatChangeAll","ContextKeyExpr","and","writable","contextMenuOpts","SelectionHighlighterState","_model","_searchText","_matchCase","_wordSeparators","prevState","_modelVersionId","getVersionId","_cachedFindMatches","sort","compareRangesUsingStarts","SelectionHighlighter","_languageFeaturesService","_isEnabled","_decorations","createDecorationsCollection","updateSoon","RunOnceScheduler","_update","state","onDidChangeConfiguration","reason","_setState","schedule","onDidChangeModelContent","_createState","oldState","isEnabled","test","caseSensitive","findStateSearchString","toLowerCase","mySearchString","isTooLargeForTokenization","allMatches","j","lenJ","cmp","areIntersecting","hasSemanticHighlights","documentHighlightProvider","has","decorations","getSelectionHighlightDecorationOptions","ranges","selectedText","ILanguageFeaturesService","FocusNextCursor","description","from","firstCursor","shift","revealPrimaryCursor","FocusPreviousCursor","pop","unshift","registerEditorAction","Context","Visible","MultipleSignatures","provideSignatureHelp","registry","context","token","supports","ordered","support","err","onUnexpectedExternalError","CommandsRegistry","registerCommand","_len","_key","uri","triggerCharacter","assertType","URI","isUri","Position","isIPosition","languageFeaturesService","ref","ITextModelService","createModelReference","signatureHelpProvider","object","textEditorModel","lift","triggerKind","languages","Invoke","isRetrigger","CancellationToken","None","ParameterHintState","Default","Pending","request","previouslyActiveHints","Active","hints","ParameterHintsModel","providers","delay","DEFAULT_DELAY","_onChangedHints","onChangedHints","triggerOnType","_state","_pendingTriggers","_lastSignatureHelpResult","triggerChars","CharacterSet","retriggerChars","triggerId","throttledDelayer","Delayer","onDidBlurEditorWidget","cancel","onEditorConfigurationChange","onModelChanged","onDidChangeModelLanguage","_","onCursorChange","onModelContentChange","onDidChange","onDidType","silent","trigger","doTrigger","catch","signatures","activeSignature","cycle","updateActiveSignature","previous","first","activeSignatureHelp","getLastActiveHints","reduce","mergeTriggerContexts","triggerContext","createCancelablePromise","error","isTriggered","ch","signatureHelpTriggerCharacters","charCode","charCodeAt","signatureHelpRetriggerCharacters","lastCharIndex","triggerCharCode","TriggerCharacter","charAt","ContentChange","enabled","current","ParameterHintsWidget_1","$","parameterHintsNextIcon","registerIcon","Codicon","chevronDown","parameterHintsPreviousIcon","chevronUp","ParameterHintsWidget","languageService","renderDisposeables","visible","announcedLabel","markdownRenderer","keyVisible","keyMultipleSignatures","createParameterHintDOMNodes","wrapper","tabIndex","controls","ThemeIcon","asCSSSelector","overloads","stop","body","scrollbar","DomScrollableElement","alwaysConsumeMouseWheel","signature","docs","userSelect","domNodes","hide","layoutContentWidget","updateFont","lineHeight","chain","bind","hasChanged","onDidLayoutChange","updateMaxHeight","show","remove","multiple","innerText","code","hasParameters","parameters","activeParameterIndex","activeParameter","renderParameters","documentation","renderedContents","renderMarkdownDocs","hasDocs","String","padStart","toString","labelToAnnounce","param","substring","aria","scanDomNode","assertIsDefined","parent","start","end","getParameterLabelOffsets","beforeSpan","paramSpan","className","afterSpan","paramIdx","regex","RegExp","escapeRegExpCharacters","idx","lastIndex","height","Math","max","getLayoutInfo","maxHeight","getElementsByClassName","registerColor","dark","listHighlightForeground","light","hcDark","hcLight","ParameterHintsController_1","ParameterHintsController","instantiationService","newParameterHints","widget","rawValue","Lazy","TriggerParameterHintsAction","hasSignatureHelpProvider","controller","ParameterHintsCommand","x","mac","IPeekViewService","createDecorator","PeekContext","registerSingleton","_widgets","Map","addExclusiveWidget","existing","listener","onDidClose","data","delete","inPeekEditor","notInPeekEditor","toNegated","PeekContextController","EmbeddedCodeEditorWidget","getOuterEditor","ICodeEditorService","getFocusedCodeEditor","getParentEditor","defaultOptions","headerBackgroundColor","Color","white","primaryHeadingColor","fromHex","secondaryHeadingColor","PeekViewWidget","ZoneWidget","_onDidClose","objects","disposed","styles","_applyStyles","_headElement","backgroundColor","_primaryHeading","color","_secondaryHeading","_bodyElement","frameColor","borderColor","_fillContainer","container","setCssClass","_fillHead","_fillBody","noCloseAction","_titleElement","supportOnTitleClick","_onTitleClick","_fillTitleIcon","_metaHeading","actionsContainer","actionBarOptions","_getActionBarOptions","_actionbarWidget","ActionBar","_disposables","Action","asClassName","close","icon","actionViewItemProvider","createActionViewItem","orientation","setTitle","primaryHeading","secondaryHeading","setAttribute","setMetaTitle","_doLayout","heightInPixel","widthInPixel","_isShowing","headHeight","ceil","bodyHeight","round","_doLayoutHead","_doLayoutBody","peekViewTitleBackground","black","peekViewTitleForeground","editorForeground","peekViewTitleInfoForeground","peekViewBorder","editorInfoForeground","contrastBorder","peekViewResultsBackground","peekViewEditorBackground","activeContrastBorder"],"sourceRoot":""}