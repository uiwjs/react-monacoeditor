"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[9],{31741:function(e,t,i){i.d(t,{T:function(){return c}});var n=i(37762),o=i(15671),r=i(43144),s=i(60136),a=i(43668),l=i(6250),c=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e,n,r,s,a,l){return(0,o.Z)(this,i),t.call(this,e,n,r,s,a,l)}return(0,r.Z)(i,[{key:"getCodeEditorCommandPicks",value:function(){var e=this.activeTextEditorControl;if(!e)return[];var t,i=[],o=(0,n.Z)(e.getSupportedActions());try{for(o.s();!(t=o.n()).done;){var r=t.value;i.push({commandId:r.id,commandAlias:r.alias,label:(0,l.x$)(r.label)||r.id})}}catch(s){o.e(s)}finally{o.f()}return i}}]),i}(i(10485).Z)},58443:function(e,t,i){i.d(t,{X:function(){return g}});var n=i(29439),o=i(15671),r=i(43144),s=i(33532),a=i(10526),l=i(64272),c=i(21872),d=i(36158),u=i(2374),h=i(3553),g=function(){function e(t){(0,o.Z)(this,e),this.options=t,this.rangeHighlightDecorationId=void 0}return(0,r.Z)(e,[{key:"provide",value:function(e,t){var i,n=this,o=new a.SL;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;var r=o.add(new a.XK);return r.value=this.doProvide(e,t),o.add(this.onDidActiveTextEditorControlChange((function(){r.value=void 0,r.value=n.doProvide(e,t)}))),o}},{key:"doProvide",value:function(e,t){var i=this,n=new a.SL,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){var r={editor:o},d=(0,c.Pi)(o);if(d){var u=(0,l.f6)(o.saveViewState());n.add(d.onDidChangeCursorPosition((function(){u=(0,l.f6)(o.saveViewState())}))),r.restoreViewState=function(){u&&o===i.activeTextEditorControl&&o.restoreViewState(u)},n.add((0,s.I)(t.onCancellationRequested)((function(){var e;return null===(e=r.restoreViewState)||void 0===e?void 0:e.call(r)})))}n.add((0,a.OF)((function(){return i.clearDecorations(o)}))),n.add(this.provideWithTextEditor(r,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}},{key:"canProvideWithTextEditor",value:function(e){return!0}},{key:"gotoLocation",value:function(e,t){var i=e.editor;i.setSelection(t.range),i.revealRangeInCenter(t.range,0),t.preserveFocus||i.focus()}},{key:"getModel",value:function(e){var t;return(0,c.QI)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}},{key:"addDecorations",value:function(e,t){var i=this;e.changeDecorations((function(e){var o=[];i.rangeHighlightDecorationId&&(o.push(i.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(i.rangeHighlightDecorationId.rangeHighlightId),i.rangeHighlightDecorationId=void 0);var r=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,h.EN)(u.m9),position:d.sh.Full}}}],s=e.deltaDecorations(o,r),a=(0,n.Z)(s,2),l=a[0],c=a[1];i.rangeHighlightDecorationId={rangeHighlightId:l,overviewRulerDecorationId:c}}))}},{key:"clearDecorations",value:function(e){var t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((function(e){e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}]),e}()},40848:function(e,t,i){i.d(t,{q:function(){return h}});var n=i(29439),o=i(15671),r=i(43144),s=i(60136),a=i(43668),l=i(10526),c=i(21872),d=i(58443),u=i(87697),h=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(){return(0,o.Z)(this,i),t.call(this,{canAcceptInBackground:!0})}return(0,r.Z)(i,[{key:"provideWithoutTextEditor",value:function(e){var t=(0,u.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,l.JT.None}},{key:"provideWithTextEditor",value:function(e,t,o){var r=this,s=e.editor,a=new l.SL;a.add(t.onDidAccept((function(i){var o=(0,n.Z)(t.selectedItems,1)[0];if(o){if(!r.isValidLineNumber(s,o.lineNumber))return;r.gotoLocation(e,{range:r.toRange(o.lineNumber,o.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}})));var d=function(){var e=r.parsePosition(s,t.value.trim().substr(i.PREFIX.length)),n=r.getPickLabel(s,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:n}],t.ariaLabel=n,r.isValidLineNumber(s,e.lineNumber)){var o=r.toRange(e.lineNumber,e.column);s.revealRangeInCenter(o,0),r.addDecorations(s,o)}else r.clearDecorations(s)};d(),a.add(t.onDidChangeValue((function(){return d()})));var u=(0,c.Pi)(s);u&&(2===u.getOptions().get(60).renderType&&(u.updateOptions({lineNumbers:"on"}),a.add((0,l.OF)((function(){return u.updateOptions({lineNumbers:"relative"})})))));return a}},{key:"toRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}},{key:"parsePosition",value:function(e,t){var i=t.split(/,|:|#/).map((function(e){return parseInt(e,10)})).filter((function(e){return!isNaN(e)})),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}},{key:"getPickLabel",value:function(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?(0,u.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):(0,u.N)("gotoLineLabel","Go to line {0}.",t);var n=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?(0,u.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,o):(0,u.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}},{key:"isValidLineNumber",value:function(e,t){return!(!t||"number"!==typeof t)&&(t>0&&t<=this.lineCount(e))}},{key:"isValidColumn",value:function(e,t,i){if(!i||"number"!==typeof i)return!1;var n=this.getModel(e);if(!n)return!1;var o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}},{key:"lineCount",value:function(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}]),i}(d.X);h.PREFIX=":"},25626:function(e,t,i){i.d(t,{S:function(){return T}});var n,o=i(4942),r=i(93433),s=i(37762),a=i(29439),l=i(15671),c=i(43144),d=i(60136),u=i(43668),h=i(87757),g=i.n(h),p=i(32590),f=i(32124),v=i(7579),_=i(38322),m=i(10526),y=i(26684),b=i(30788),S=i(56417),k=i(54280),w=i(58443),x=i(87697),C=i(45161),N=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},R=function(e,t){return function(i,n){t(i,n,e)}},D=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},T=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return(0,l.Z)(this,i),(o=t.call(this,r))._languageFeaturesService=e,o._outlineModelService=n,o.options=r,o.options.canAcceptInBackground=!0,o}return(0,c.Z)(i,[{key:"provideWithoutTextEditor",value:function(e){return this.provideLabelPick(e,(0,x.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),m.JT.None}},{key:"provideWithTextEditor",value:function(e,t,i){var n=e.editor,o=this.getModel(n);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):m.JT.None}},{key:"doProvideWithoutEditorSymbols",value:function(e,t,i,n){var o=this,r=new m.SL;return this.provideLabelPick(i,(0,x.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),D(o,void 0,void 0,g().mark((function o(){return g().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.waitForLanguageSymbolRegistry(t,r);case 2:if(o.sent&&!n.isCancellationRequested){o.next=5;break}return o.abrupt("return");case 5:r.add(this.doProvideWithEditorSymbols(e,t,i,n));case 6:case"end":return o.stop()}}),o,this)}))),r}},{key:"provideLabelPick",value:function(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}},{key:"waitForLanguageSymbolRegistry",value:function(e,t){return D(this,void 0,void 0,g().mark((function i(){var n,o,r=this;return g().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this._languageFeaturesService.documentSymbolProvider.has(e)){i.next=2;break}return i.abrupt("return",!0);case 2:return n=new p.CR,o=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((function(){r._languageFeaturesService.documentSymbolProvider.has(e)&&(o.dispose(),n.complete(!0))}))),t.add((0,m.OF)((function(){return n.complete(!1)}))),i.abrupt("return",n.p);case 6:case"end":return i.stop()}}),i,this)})))}},{key:"doProvideWithEditorSymbols",value:function(e,t,n,o){var r=this,s=e.editor,l=new m.SL;l.add(n.onDidAccept((function(t){var i=(0,a.Z)(n.selectedItems,1)[0];i&&i.range&&(r.gotoLocation(e,{range:i.range.selection,keyMods:n.keyMods,preserveFocus:t.inBackground}),t.inBackground||n.hide())}))),l.add(n.onDidTriggerItemButton((function(t){var i=t.item;i&&i.range&&(r.gotoLocation(e,{range:i.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));var c=this.getDocumentSymbols(t,o),d=void 0,u=function(){return D(r,void 0,void 0,g().mark((function e(){var t,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===d||void 0===d||d.dispose(!0),n.busy=!1,d=new f.A(o),n.busy=!0,e.prev=4,t=(0,_.AO)(n.value.substr(i.PREFIX.length).trim()),e.next=8,this.doGetSymbolPicks(c,t,void 0,d.token);case 8:if(r=e.sent,!o.isCancellationRequested){e.next=11;break}return e.abrupt("return");case 11:r.length>0?n.items=r:t.original.length>0?this.provideLabelPick(n,(0,x.N)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,(0,x.N)("noSymbolResults","No editor symbols"));case 12:return e.prev=12,o.isCancellationRequested||(n.busy=!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[4,,12,15]])})))};l.add(n.onDidChangeValue((function(){return u()}))),u();var h=!0;return l.add(n.onDidChangeActive((function(){var e=(0,a.Z)(n.activeItems,1)[0];if(e&&e.range){if(h)return void(h=!1);s.revealRangeInCenter(e.range.selection,0),r.addDecorations(s,e.range.decoration)}}))),l}},{key:"doGetSymbolPicks",value:function(e,t,n,o){return D(this,void 0,void 0,g().mark((function l(){var c,d,u,h,p,f,m,k,w,C,N,R,D,T,P,E,M,A,Z,F,O,z,W,V,B,H,G,j,U,K,q,X,Y,Q=this;return g().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e;case 2:if(c=l.sent,!o.isCancellationRequested){l.next=5;break}return l.abrupt("return",[]);case 5:d=0===t.original.indexOf(i.SCOPE_PREFIX),u=d?1:0,t.values&&t.values.length>1?(h=(0,_.Ic)(t.values[0]),p=(0,_.Ic)(t.values.slice(1))):h=t,f=[],m=0;case 10:if(!(m<c.length)){l.next=41;break}if(k=c[m],w=(0,y.fy)(k.name),C="$(".concat(S.uZ.toIcon(k.kind).id,") ").concat(w),N=C.length-w.length,R=k.containerName,(null===n||void 0===n?void 0:n.extraContainerLabel)&&(R=R?"".concat(n.extraContainerLabel," \u2022 ").concat(R):n.extraContainerLabel),D=void 0,T=void 0,P=void 0,E=void 0,!(t.original.length>u)){l.next=36;break}if(M=!1,h!==t&&(A=(0,_.mt)(C,Object.assign(Object.assign({},t),{values:void 0}),u,N),Z=(0,a.Z)(A,2),D=Z[0],T=Z[1],"number"===typeof D&&(M=!0)),"number"===typeof D){l.next=31;break}if(F=(0,_.mt)(C,h,u,N),O=(0,a.Z)(F,2),D=O[0],T=O[1],"number"===typeof D){l.next=31;break}return l.abrupt("continue",38);case 31:if(M||!p){l.next=36;break}if(R&&p.original.length>0&&(z=(0,_.mt)(R,p),W=(0,a.Z)(z,2),P=W[0],E=W[1]),"number"===typeof P){l.next=35;break}return l.abrupt("continue",38);case 35:"number"===typeof D&&(D+=P);case 36:V=k.tags&&k.tags.indexOf(1)>=0,f.push({index:m,kind:k.kind,score:D,label:C,ariaLabel:w,description:R,highlights:V?void 0:{label:T,description:E},range:{selection:b.e.collapseToStart(k.selectionRange),decoration:k.range},strikethrough:V,buttons:function(){var e,t,i=(null===(e=Q.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=Q.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(i)return[{iconClass:"right"===i?v.lA.splitHorizontal.classNames:v.lA.splitVertical.classNames,tooltip:"right"===i?(0,x.N)("openToSide","Open to the Side"):(0,x.N)("openToBottom","Open to the Bottom")}]}()});case 38:m++,l.next=10;break;case 41:if(B=f.sort((function(e,t){return d?Q.compareByKindAndScore(e,t):Q.compareByScore(e,t)})),H=[],d){G=function(){U&&"number"===typeof j&&K>0&&(U.label=(0,y.WU)(L[j]||I,K))},j=void 0,U=void 0,K=0,q=(0,s.Z)(B);try{for(q.s();!(X=q.n()).done;)Y=X.value,j!==Y.kind?(G(),j=Y.kind,K=1,U={type:"separator"},H.push(U)):K++,H.push(Y)}catch(g){q.e(g)}finally{q.f()}G()}else B.length>0&&(H=[{label:(0,x.N)("symbols","symbols ({0})",f.length),type:"separator"}].concat((0,r.Z)(B)));return l.abrupt("return",H);case 45:case"end":return l.stop()}}),l)})))}},{key:"compareByScore",value:function(e,t){if("number"!==typeof e.score&&"number"===typeof t.score)return 1;if("number"===typeof e.score&&"number"!==typeof t.score)return-1;if("number"===typeof e.score&&"number"===typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}},{key:"compareByKindAndScore",value:function(e,t){var i=L[e.kind]||I,n=L[t.kind]||I,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}},{key:"getDocumentSymbols",value:function(e,t){return D(this,void 0,void 0,g().mark((function i(){var n;return g().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this._outlineModelService.getOrCreate(e,t);case 2:return n=i.sent,i.abrupt("return",t.isCancellationRequested?[]:n.asListOfDocumentSymbols());case 4:case"end":return i.stop()}}),i,this)})))}}]),i}(w.X);T.PREFIX="@",T.SCOPE_PREFIX=":",T.PREFIX_BY_CATEGORY="".concat(T.PREFIX).concat(T.SCOPE_PREFIX),T=N([R(0,C.p),R(1,k.Je)],T);var I=(0,x.N)("property","properties ({0})"),L=(n={},(0,o.Z)(n,5,(0,x.N)("method","methods ({0})")),(0,o.Z)(n,11,(0,x.N)("function","functions ({0})")),(0,o.Z)(n,8,(0,x.N)("_constructor","constructors ({0})")),(0,o.Z)(n,12,(0,x.N)("variable","variables ({0})")),(0,o.Z)(n,4,(0,x.N)("class","classes ({0})")),(0,o.Z)(n,22,(0,x.N)("struct","structs ({0})")),(0,o.Z)(n,23,(0,x.N)("event","events ({0})")),(0,o.Z)(n,24,(0,x.N)("operator","operators ({0})")),(0,o.Z)(n,10,(0,x.N)("interface","interfaces ({0})")),(0,o.Z)(n,2,(0,x.N)("namespace","namespaces ({0})")),(0,o.Z)(n,3,(0,x.N)("package","packages ({0})")),(0,o.Z)(n,25,(0,x.N)("typeParameter","type parameters ({0})")),(0,o.Z)(n,1,(0,x.N)("modules","modules ({0})")),(0,o.Z)(n,6,(0,x.N)("property","properties ({0})")),(0,o.Z)(n,9,(0,x.N)("enum","enumerations ({0})")),(0,o.Z)(n,21,(0,x.N)("enumMember","enumeration members ({0})")),(0,o.Z)(n,14,(0,x.N)("string","strings ({0})")),(0,o.Z)(n,0,(0,x.N)("file","files ({0})")),(0,o.Z)(n,17,(0,x.N)("array","arrays ({0})")),(0,o.Z)(n,15,(0,x.N)("number","numbers ({0})")),(0,o.Z)(n,16,(0,x.N)("boolean","booleans ({0})")),(0,o.Z)(n,18,(0,x.N)("object","objects ({0})")),(0,o.Z)(n,19,(0,x.N)("key","keys ({0})")),(0,o.Z)(n,7,(0,x.N)("field","fields ({0})")),(0,o.Z)(n,13,(0,x.N)("constant","constants ({0})")),n)},97922:function(e,t,i){i.r(t),i.d(t,{RenameAction:function(){return Y},rename:function(){return q}});var n=i(29439),o=i(11752),r=i(61120),s=i(60136),a=i(43668),l=i(15671),c=i(43144),d=i(87757),u=i.n(d),h=i(58340),g=i(32590),p=i(32124),f=i(68552),v=i(10526),_=i(64272),m=i(50605),y=i(50004),b=i(98351),S=i(16986),k=i(56692),w=i(10849),x=i(30788),C=i(44474),N=i(9549),R=i(94719),D=i(87697),T=i(21072),I=i(49525),L=i(8850),P=i(39701),E=i(13023),M=i(26562),A=i(254),Z=i(45753),F=i(6574),O=i(3553),z=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},W=function(e,t){return function(i,n){t(i,n,e)}},V=new I.uy("renameInputVisible",!1,(0,D.N)("renameInputVisible","Whether the rename input widget is visible")),B=function(){function e(t,i,n,o,r){var s=this;(0,l.Z)(this,e),this._editor=t,this._acceptKeybindings=i,this._themeService=n,this._keybindingService=o,this._disposables=new v.SL,this.allowEditorOverflow=!0,this._visibleContextKey=V.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(44)&&s._updateFont()}))),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}return(0,c.Z)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"__renameInputWidget"}},{key:"getDomNode",value:function(){var e=this;if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,D.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);var t=function(){var t,i,o=(0,n.Z)(e._acceptKeybindings,2),r=o[0],s=o[1];e._keybindingService.lookupKeybinding(r),e._label.innerText=(0,D.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(t=e._keybindingService.lookupKeybinding(r))||void 0===t?void 0:t.getLabel(),null===(i=e._keybindingService.lookupKeybinding(s))||void 0===i?void 0:i.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}},{key:"_updateStyles",value:function(e){var t,i,n,o;if(this._input&&this._domNode){var r=e.getColor(F.rh);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(F.D0T))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?" 0 0 8px 2px ".concat(r):"",this._domNode.style.color=String(null!==(i=e.getColor(F.zJb))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(n=e.getColor(F.sEe))&&void 0!==n?n:"");var s=e.getColor(F.dt_);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=null!==(o=null===s||void 0===s?void 0:s.toString())&&void 0!==o?o:"none"}}},{key:"_updateFont",value:function(){if(this._input&&this._label){var e=this._editor.getOption(44);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize="".concat(e.fontSize,"px"),this._label.style.fontSize="".concat(.8*e.fontSize,"px")}}},{key:"getPosition",value:function(){return this._visible?{position:this._position,preference:[2,1]}:null}},{key:"afterRender",value:function(e){e||this.cancelInput(!0)}},{key:"acceptInput",value:function(e){this._currentAcceptInput&&this._currentAcceptInput(e)}},{key:"cancelInput",value:function(e){this._currentCancelInput&&this._currentCancelInput(e)}},{key:"getInput",value:function(e,t,i,n,o,r){var s=this;this._domNode.classList.toggle("preview",o),this._position=new w.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var a=new v.SL;return new Promise((function(e){s._currentCancelInput=function(t){return s._currentAcceptInput=void 0,s._currentCancelInput=void 0,e(t),!0},s._currentAcceptInput=function(i){0!==s._input.value.trim().length&&s._input.value!==t?(s._currentAcceptInput=void 0,s._currentCancelInput=void 0,e({newName:s._input.value,wantsPreview:o&&i})):s.cancelInput(!0)},a.add(r.onCancellationRequested((function(){return s.cancelInput(!0)}))),a.add(s._editor.onDidBlurEditorWidget((function(){return s.cancelInput(!1)}))),s._show()})).finally((function(){a.dispose(),s._hide()}))}},{key:"_show",value:function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))}),100)}},{key:"_hide",value:function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}}]),e}();B=z([W(2,O.XE),W(3,Z.d),W(4,I.i6)],B);var H=i(45161),G=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},j=function(e,t){return function(i,n){t(i,n,e)}},U=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},K=function(){function e(t,i,n){(0,l.Z)(this,e),this.model=t,this.position=i,this._providerRenameIdx=0,this._providers=n.ordered(t)}return(0,c.Z)(e,[{key:"hasProvider",value:function(){return this._providers.length>0}},{key:"resolveRenameLocation",value:function(e){return U(this,void 0,void 0,u().mark((function t(){var i,n,o,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],this._providerRenameIdx=0;case 2:if(!(this._providerRenameIdx<this._providers.length)){t.next=18;break}if((n=this._providers[this._providerRenameIdx]).resolveRenameLocation){t.next=6;break}return t.abrupt("break",18);case 6:return t.next=8,n.resolveRenameLocation(this.model,this.position,e);case 8:if(o=t.sent){t.next=11;break}return t.abrupt("continue",15);case 11:if(!o.rejectReason){t.next=14;break}return i.push(o.rejectReason),t.abrupt("continue",15);case 14:return t.abrupt("return",o);case 15:this._providerRenameIdx++,t.next=2;break;case 18:if(r=this.model.getWordAtPosition(this.position)){t.next=21;break}return t.abrupt("return",{range:x.e.fromPositions(this.position),text:"",rejectReason:i.length>0?i.join("\n"):void 0});case 21:return t.abrupt("return",{range:new x.e(this.position.lineNumber,r.startColumn,this.position.lineNumber,r.endColumn),text:r.word,rejectReason:i.length>0?i.join("\n"):void 0});case 22:case"end":return t.stop()}}),t,this)})))}},{key:"provideRenameEdits",value:function(e,t){return U(this,void 0,void 0,u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this._provideRenameEdits(e,this._providerRenameIdx,[],t));case 1:case"end":return i.stop()}}),i,this)})))}},{key:"_provideRenameEdits",value:function(e,t,i,n){return U(this,void 0,void 0,u().mark((function o(){var r,s;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this._providers[t]){o.next=3;break}return o.abrupt("return",{edits:[],rejectReason:i.join("\n")});case 3:return o.next=5,r.provideRenameEdits(this.model,this.position,e,n);case 5:if(s=o.sent){o.next=10;break}return o.abrupt("return",this._provideRenameEdits(e,t+1,i.concat(D.N("no result","No result.")),n));case 10:if(!s.rejectReason){o.next=12;break}return o.abrupt("return",this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),n));case 12:return o.abrupt("return",s);case 13:case"end":return o.stop()}}),o,this)})))}}]),e}();function q(e,t,i,n){return U(this,void 0,void 0,u().mark((function o(){var r,s;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=new K(t,i,e),o.next=3,r.resolveRenameLocation(p.T.None);case 3:if(!(null===(s=o.sent)||void 0===s?void 0:s.rejectReason)){o.next=6;break}return o.abrupt("return",{edits:[],rejectReason:s.rejectReason});case 6:return o.abrupt("return",r.provideRenameEdits(n,p.T.None));case 7:case"end":return o.stop()}}),o)})))}var X=function(){function e(t,i,n,o,r,s,a,c){var d=this;(0,l.Z)(this,e),this.editor=t,this._instaService=i,this._notificationService=n,this._bulkEditService=o,this._progressService=r,this._logService=s,this._configService=a,this._languageFeaturesService=c,this._dispoableStore=new v.SL,this._cts=new p.A,this._renameInputField=this._dispoableStore.add(new g.Ue((function(){return d._dispoableStore.add(d._instaService.createInstance(B,d.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))})))}return(0,c.Z)(e,[{key:"dispose",value:function(){this._dispoableStore.dispose(),this._cts.dispose(!0)}},{key:"run",value:function(){var e,t;return U(this,void 0,void 0,u().mark((function i(){var n,o,r,s,a,l,c,d,p,f,v=this;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._cts.dispose(!0),this.editor.hasModel()){i.next=3;break}return i.abrupt("return",void 0);case 3:if(n=this.editor.getPosition(),(o=new K(this.editor.getModel(),n,this._languageFeaturesService.renameProvider)).hasProvider()){i.next=7;break}return i.abrupt("return",void 0);case 7:return this._cts=new y.Dl(this.editor,5),i.prev=8,s=o.resolveRenameLocation(this._cts.token),this._progressService.showWhile(s,250),i.next=13,s;case 13:r=i.sent,i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(8),null===(e=R.O.get(this.editor))||void 0===e||e.showMessage(i.t0||D.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),n),i.abrupt("return",void 0);case 20:if(r){i.next=22;break}return i.abrupt("return",void 0);case 22:if(!r.rejectReason){i.next=25;break}return null===(t=R.O.get(this.editor))||void 0===t||t.showMessage(r.rejectReason,n),i.abrupt("return",void 0);case 25:if(!this._cts.token.isCancellationRequested){i.next=27;break}return i.abrupt("return",void 0);case 27:return this._cts.dispose(),this._cts=new y.Dl(this.editor,5,r.range),a=this.editor.getSelection(),l=0,c=r.text.length,x.e.isEmpty(a)||x.e.spansMultipleLines(a)||!x.e.containsRange(r.range,a)||(l=Math.max(0,a.startColumn-r.range.startColumn),c=Math.min(r.range.endColumn,a.endColumn)-r.range.startColumn),d=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),i.next=36,this._renameInputField.value.getInput(r.range,r.text,l,c,d,this._cts.token);case 36:if("boolean"!==typeof(p=i.sent)){i.next=40;break}return p&&this.editor.focus(),i.abrupt("return",void 0);case 40:return this.editor.focus(),f=(0,g.eP)(o.provideRenameEdits(p.newName,this._cts.token),this._cts.token).then((function(e){return U(v,void 0,void 0,u().mark((function t(){var i=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&this.editor.hasModel()){t.next=2;break}return t.abrupt("return");case 2:if(!e.rejectReason){t.next=5;break}return this._notificationService.info(e.rejectReason),t.abrupt("return");case 5:this.editor.setSelection(x.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(S.fo.convert(e),{editor:this.editor,showPreview:p.wantsPreview,label:D.N("label","Renaming '{0}'",null===r||void 0===r?void 0:r.text),quotableLabel:D.N("quotableLabel","Renaming {0}",null===r||void 0===r?void 0:r.text)}).then((function(e){e.ariaSummary&&(0,h.Z9)(D.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",r.text,p.newName,e.ariaSummary))})).catch((function(e){i._notificationService.error(D.N("rename.failedApply","Rename failed to apply edits")),i._logService.error(e)}));case 7:case"end":return t.stop()}}),t,this)})))}),(function(e){v._notificationService.error(D.N("rename.failed","Rename failed to compute edits")),v._logService.error(e)})),this._progressService.showWhile(f,250),i.abrupt("return",f);case 44:case"end":return i.stop()}}),i,this,[[8,16]])})))}},{key:"acceptRenameInput",value:function(e){this._renameInputField.value.acceptInput(e)}},{key:"cancelRenameInput",value:function(){this._renameInputField.value.cancelInput(!0)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();X.ID="editor.contrib.renameController",X=G([j(1,L.TG),j(2,E.lT),j(3,S.vu),j(4,M.ek),j(5,P.VZ),j(6,N.V),j(7,H.p)],X);var Y=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(){return(0,l.Z)(this,i),t.call(this,{id:"editor.action.rename",label:D.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:I.Ao.and(C.u.writable,C.u.hasRenameProvider),kbOpts:{kbExpr:C.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}return(0,c.Z)(i,[{key:"runCommand",value:function(e,t){var s=this,a=e.get(k.$),l=Array.isArray(t)&&t||[void 0,void 0],c=(0,n.Z)(l,2),d=c[0],u=c[1];return m.o.isUri(d)&&w.L.isIPosition(u)?a.openCodeEditor({resource:d},a.getActiveCodeEditor()).then((function(e){e&&(e.setPosition(u),e.invokeWithinContext((function(t){return s.reportTelemetry(t,e),s.run(t,e)})))}),f.dL):(0,o.Z)((0,r.Z)(i.prototype),"runCommand",this).call(this,e,t)}},{key:"run",value:function(e,t){var i=X.get(t);return i?i.run():Promise.resolve()}}]),i}(b.R6);(0,b._K)(X.ID,X),(0,b.Qr)(Y);var Q=b._l.bindToContribution(X.get);(0,b.fK)(new Q({id:"acceptRenameInput",precondition:V,handler:function(e){return e.acceptRenameInput(!1)},kbOpts:{weight:199,kbExpr:C.u.focus,primary:3}})),(0,b.fK)(new Q({id:"acceptRenameInputWithPreview",precondition:I.Ao.and(V,I.Ao.has("config.editor.rename.enablePreview")),handler:function(e){return e.acceptRenameInput(!0)},kbOpts:{weight:199,kbExpr:C.u.focus,primary:1027}})),(0,b.fK)(new Q({id:"cancelRenameInput",precondition:V,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:C.u.focus,primary:9,secondary:[1033]}})),(0,b.sb)("_executeDocumentRenameProvider",(function(e,t,i){for(var n=arguments.length,o=new Array(n>3?n-3:0),r=3;r<n;r++)o[r-3]=arguments[r];var s=o[0];(0,_.p_)("string"===typeof s);var a=e.get(H.p),l=a.renameProvider;return q(l,t,i,s)})),(0,b.sb)("_executePrepareRename",(function(e,t,i){return U(this,void 0,void 0,u().mark((function n(){var o,r,s,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.get(H.p),r=o.renameProvider,s=new K(t,i,r),n.next=4,s.resolveRenameLocation(p.T.None);case 4:if(!(null===(a=n.sent)||void 0===a?void 0:a.rejectReason)){n.next=7;break}throw new Error(a.rejectReason);case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))})),A.B.as(T.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:D.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},70610:function(e,t,i){i.d(t,{x:function(){return h}});var n=i(37762),o=i(15671),r=i(43144),s=i(87757),a=i.n(s),l=i(49511),c=i(10849),d=i(30788),u=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},h=function(){function e(){(0,o.Z)(this,e)}return(0,r.Z)(e,[{key:"provideSelectionRanges",value:function(t,i){return u(this,void 0,void 0,a().mark((function o(){var r,s,l,c;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=[],s=(0,n.Z)(i),o.prev=2,c=a().mark((function i(){var n,o,s;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=l.value,o=[],r.push(o),s=new Map,i.next=6,new Promise((function(i){return e._bracketsRightYield(i,0,t,n,s)}));case 6:return i.next=8,new Promise((function(i){return e._bracketsLeftYield(i,0,t,n,s,o)}));case 8:case"end":return i.stop()}}),i)})),s.s();case 5:if((l=s.n()).done){o.next=9;break}return o.delegateYield(c(),"t0",7);case 7:o.next=5;break;case 9:o.next=14;break;case 11:o.prev=11,o.t1=o.catch(2),s.e(o.t1);case 14:return o.prev=14,s.f(),o.finish(14);case 17:return o.abrupt("return",r);case 18:case"end":return o.stop()}}),o,null,[[2,11,14,17]])})))}}],[{key:"_bracketsRightYield",value:function(t,i,n,o,r){for(var s=new Map,a=Date.now();;){if(i>=e._maxRounds){t();break}if(!o){t();break}var c=n.bracketPairs.findNextBracket(o);if(!c){t();break}if(Date.now()-a>e._maxDuration){setTimeout((function(){return e._bracketsRightYield(t,i+1,n,o,r)}));break}var d=c.close[0];if(c.isOpen){var u=s.has(d)?s.get(d):0;s.set(d,u+1)}else{var h=s.has(d)?s.get(d):0;if(h-=1,s.set(d,Math.max(0,h)),h<0){var g=r.get(d);g||(g=new l.S,r.set(d,g)),g.push(c.range)}}o=c.range.getEndPosition()}}},{key:"_bracketsLeftYield",value:function(t,i,n,o,r,s){for(var a=new Map,l=Date.now();;){if(i>=e._maxRounds&&0===r.size){t();break}if(!o){t();break}var c=n.bracketPairs.findPrevBracket(o);if(!c){t();break}if(Date.now()-l>e._maxDuration){setTimeout((function(){return e._bracketsLeftYield(t,i+1,n,o,r,s)}));break}var u=c.close[0];if(c.isOpen){var h=a.has(u)?a.get(u):0;if(h-=1,a.set(u,Math.max(0,h)),h<0){var g=r.get(u);if(g){var p=g.shift();0===g.size&&r.delete(u);var f=d.e.fromPositions(c.range.getEndPosition(),p.getStartPosition()),v=d.e.fromPositions(c.range.getStartPosition(),p.getEndPosition());s.push({range:f}),s.push({range:v}),e._addBracketLeading(n,v,s)}}}else{var _=a.has(u)?a.get(u):0;a.set(u,_+1)}o=c.range.getStartPosition()}}},{key:"_addBracketLeading",value:function(e,t,i){if(t.startLineNumber!==t.endLineNumber){var n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);0!==o&&o!==t.startColumn&&(i.push({range:d.e.fromPositions(new c.L(n,o),t.getEndPosition())}),i.push({range:d.e.fromPositions(new c.L(n,1),t.getEndPosition())}));var r=n-1;if(r>0){var s=e.getLineFirstNonWhitespaceColumn(r);s===t.startColumn&&s!==e.getLineLastNonWhitespaceColumn(r)&&(i.push({range:d.e.fromPositions(new c.L(r,s),t.getEndPosition())}),i.push({range:d.e.fromPositions(new c.L(r,1),t.getEndPosition())}))}}}}]),e}();h._maxDuration=30,h._maxRounds=2},45944:function(e,t,i){i.r(t),i.d(t,{provideSelectionRanges:function(){return Z}});var n=i(37762),o=i(60136),r=i(43668),s=i(15671),a=i(43144),l=i(87757),c=i.n(l),d=i(71881),u=i(32124),h=i(68552),g=i(98351),p=i(10849),f=i(30788),v=i(52091),_=i(44474),m=i(70610),y=i(26684),b=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"provideSelectionRanges",value:function(e,t){var i,o=[],r=(0,n.Z)(t);try{for(r.s();!(i=r.n()).done;){var s=i.value,a=[];o.push(a),this._addInWordRanges(a,e,s),this._addWordRanges(a,e,s),this._addWhitespaceLine(a,e,s),a.push({range:e.getFullModelRange()})}}catch(l){r.e(l)}finally{r.f()}return o}},{key:"_addInWordRanges",value:function(e,t,i){var n=t.getWordAtPosition(i);if(n){for(var o=n.word,r=n.startColumn,s=i.column-r,a=s,l=s,c=0;a>=0;a--){var d=o.charCodeAt(a);if(a!==s&&(95===d||45===d))break;if((0,y.mK)(d)&&(0,y.df)(c))break;c=d}for(a+=1;l<o.length;l++){var u=o.charCodeAt(l);if((0,y.df)(u)&&(0,y.mK)(c))break;if(95===u||45===u)break;c=u}a<l&&e.push({range:new f.e(i.lineNumber,r+a,i.lineNumber,r+l)})}}},{key:"_addWordRanges",value:function(e,t,i){var n=t.getWordAtPosition(i);n&&e.push({range:new f.e(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}},{key:"_addWhitespaceLine",value:function(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new f.e(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}]),e}(),S=i(87697),k=i(23911),w=i(89850),x=i(45161),C=i(26777),N=i(64272),R=i(50605),D=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},T=function(e,t){return function(i,n){t(i,n,e)}},I=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},L=function(){function e(t,i){(0,s.Z)(this,e),this.index=t,this.ranges=i}return(0,a.Z)(e,[{key:"mov",value:function(t){var i=this.index+(t?1:-1);if(i<0||i>=this.ranges.length)return this;var n=new e(i,this.ranges);return n.ranges[i].equalsRange(this.ranges[this.index])?n.mov(t):n}}]),e}(),P=function(){function e(t,i){(0,s.Z)(this,e),this._editor=t,this._languageFeaturesService=i,this._ignoreSelection=!1}return(0,a.Z)(e,[{key:"dispose",value:function(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}},{key:"run",value:function(e){return I(this,void 0,void 0,c().mark((function t(){var i,n,o,r=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()){t.next=2;break}return t.abrupt("return");case 2:if(i=this._editor.getSelections(),n=this._editor.getModel(),this._state){t.next=7;break}return t.next=7,Z(this._languageFeaturesService.selectionRangeProvider,n,i.map((function(e){return e.getPosition()})),this._editor.getOption(102),u.T.None).then((function(e){var t;if(d.Of(e)&&e.length===i.length&&r._editor.hasModel()&&d.fS(r._editor.getSelections(),i,(function(e,t){return e.equalsSelection(t)}))){for(var n=function(t){e[t]=e[t].filter((function(e){return e.containsPosition(i[t].getStartPosition())&&e.containsPosition(i[t].getEndPosition())})),e[t].unshift(i[t])},o=0;o<e.length;o++)n(o);r._state=e.map((function(e){return new L(0,e)})),null===(t=r._selectionListener)||void 0===t||t.dispose(),r._selectionListener=r._editor.onDidChangeCursorPosition((function(){var e;r._ignoreSelection||(null===(e=r._selectionListener)||void 0===e||e.dispose(),r._state=void 0)}))}}));case 7:if(this._state){t.next=9;break}return t.abrupt("return");case 9:this._state=this._state.map((function(t){return t.mov(e)})),o=this._state.map((function(e){return v.Y.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())})),this._ignoreSelection=!0;try{this._editor.setSelections(o)}finally{this._ignoreSelection=!1}case 13:case"end":return t.stop()}}),t,this)})))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();P.ID="editor.contrib.smartSelectController",P=D([T(1,x.p)],P);var E=function(e){(0,o.Z)(i,e);var t=(0,r.Z)(i);function i(e,n){var o;return(0,s.Z)(this,i),(o=t.call(this,n))._forward=e,o}return(0,a.Z)(i,[{key:"run",value:function(e,t){return I(this,void 0,void 0,c().mark((function e(){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=P.get(t))){e.next=4;break}return e.next=4,i.run(this._forward);case 4:case"end":return e.stop()}}),e,this)})))}}]),i}(g.R6),M=function(e){(0,o.Z)(i,e);var t=(0,r.Z)(i);function i(){return(0,s.Z)(this,i),t.call(this,!0,{id:"editor.action.smartSelect.expand",label:S.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:_.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:k.eH.MenubarSelectionMenu,group:"1_basic",title:S.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}return(0,a.Z)(i)}(E);w.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var A=function(e){(0,o.Z)(i,e);var t=(0,r.Z)(i);function i(){return(0,s.Z)(this,i),t.call(this,!1,{id:"editor.action.smartSelect.shrink",label:S.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:_.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:k.eH.MenubarSelectionMenu,group:"1_basic",title:S.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}return(0,a.Z)(i)}(E);function Z(e,t,i,o,r){return I(this,void 0,void 0,c().mark((function s(){var a,l,u,g,v,_;return c().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:1===(a=e.all(t).concat(new b)).length&&a.unshift(new m.x),l=[],u=[],g=(0,n.Z)(a);try{for(g.s();!(v=g.n()).done;)_=v.value,l.push(Promise.resolve(_.provideSelectionRanges(t,i,r)).then((function(e){if(d.Of(e)&&e.length===i.length)for(var t=0;t<i.length;t++){u[t]||(u[t]=[]);var o,r=(0,n.Z)(e[t]);try{for(r.s();!(o=r.n()).done;){var s=o.value;f.e.isIRange(s.range)&&f.e.containsPosition(s.range,i[t])&&u[t].push(f.e.lift(s.range))}}catch(a){r.e(a)}finally{r.f()}}}),h.Cp))}catch(c){g.e(c)}finally{g.f()}return s.next=8,Promise.all(l);case 8:return s.abrupt("return",u.map((function(e){if(0===e.length)return[];e.sort((function(e,t){return p.L.isBefore(e.getStartPosition(),t.getStartPosition())?1:p.L.isBefore(t.getStartPosition(),e.getStartPosition())||p.L.isBefore(e.getEndPosition(),t.getEndPosition())?-1:p.L.isBefore(t.getEndPosition(),e.getEndPosition())?1:0}));var i,r,s=[],a=(0,n.Z)(e);try{for(a.s();!(r=a.n()).done;){var l=r.value;(!i||f.e.containsRange(l,i)&&!f.e.equalsRange(l,i))&&(s.push(l),i=l)}}catch(c){a.e(c)}finally{a.f()}if(!o.selectLeadingAndTrailingWhitespace)return s;for(var d=[s[0]],u=1;u<s.length;u++){var h=s[u-1],g=s[u];if(g.startLineNumber!==h.startLineNumber||g.endLineNumber!==h.endLineNumber){var v=new f.e(h.startLineNumber,t.getLineFirstNonWhitespaceColumn(h.startLineNumber),h.endLineNumber,t.getLineLastNonWhitespaceColumn(h.endLineNumber));v.containsRange(h)&&!v.equalsRange(h)&&g.containsRange(v)&&!g.equalsRange(v)&&d.push(v);var _=new f.e(h.startLineNumber,1,h.endLineNumber,t.getLineMaxColumn(h.endLineNumber));_.containsRange(h)&&!_.equalsRange(v)&&g.containsRange(_)&&!g.equalsRange(_)&&d.push(_)}d.push(g)}return d})));case 9:case"end":return s.stop()}}),s)})))}(0,g._K)(P.ID,P),(0,g.Qr)(M),(0,g.Qr)(A),w.P0.registerCommand("_executeSelectionRangeProvider",(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return I(this,void 0,void 0,c().mark((function t(){var n,o,r,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i[0],o=i[1],(0,N.p_)(R.o.isUri(n)),r=e.get(x.p).selectionRangeProvider,t.next=5,e.get(C.S).createModelReference(n);case 5:return s=t.sent,t.prev=6,t.abrupt("return",Z(r,s.object.textEditorModel,o,{selectLeadingAndTrailingWhitespace:!0},u.T.None));case 8:return t.prev=8,s.dispose(),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[6,,8,11]])})))}))},42009:function(e,t,i){i.r(t),i.d(t,{SnippetController2:function(){return b}});var n=i(29439),o=i(15671),r=i(43144),s=i(10526),a=i(98351),l=i(30788),c=i(52091),d=i(44474),u=i(47510),h=i(87697),g=i(49525),p=i(8850),f=i(39701),v=i(93011),_=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},m=function(e,t){return function(i,n){t(i,n,e)}},y={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},b=function(){function e(t,i,n,r){(0,o.Z)(this,e),this._editor=t,this._instantiationService=i,this._logService=n,this._snippetListener=new s.SL,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(r),this._hasNextTabstop=e.HasNextTabstop.bindTo(r),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(r)}return(0,r.Z)(e,[{key:"dispose",value:function(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}},{key:"insert",value:function(e,t){try{this._doInsert(e,"undefined"===typeof t?y:Object.assign(Object.assign({},y),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}},{key:"_doInsert",value:function(e,t){var i=this;this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new v.l(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((function(e){return e.isFlush&&i.cancel()}))),this._snippetListener.add(this._editor.onDidChangeModel((function(){return i.cancel()}))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((function(){return i._updateState()}))))}},{key:"_updateState",value:function(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}},{key:"_handleChoice",value:function(){var e=this;if(this._session&&this._editor.hasModel()){var t=this._session.choice;if(t){if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map((function(e){return c.Y.fromPositions(e.getStartPosition())})));var i=(0,n.Z)(t.options,1)[0];this._instantiationService.invokeFunction(u.i5,this._editor,t.options.map((function(t,n){return{kind:13,label:t.value,insertText:t.value,sortText:"a".repeat(n+1),range:l.e.fromPositions(e._editor.getPosition(),e._editor.getPosition().delta(0,i.value.length))}})))}}else this._currentChoice=void 0}else this._currentChoice=void 0}},{key:"finish",value:function(){for(;this._inSnippet.get();)this.next()}},{key:"cancel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(e=this._session)||void 0===e||e.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}},{key:"prev",value:function(){this._session&&this._session.prev(),this._updateState()}},{key:"next",value:function(){this._session&&this._session.next(),this._updateState()}},{key:"isInSnippet",value:function(){return Boolean(this._inSnippet.get())}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();b.ID="snippetController2",b.InSnippetMode=new g.uy("inSnippetMode",!1,(0,h.N)("inSnippetMode","Whether the editor in current in snippet mode")),b.HasNextTabstop=new g.uy("hasNextTabstop",!1,(0,h.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),b.HasPrevTabstop=new g.uy("hasPrevTabstop",!1,(0,h.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),b=_([m(1,p.TG),m(2,f.VZ),m(3,g.i6)],b),(0,a._K)(b.ID,b);var S=a._l.bindToContribution(b.get);(0,a.fK)(new S({id:"jumpToNextSnippetPlaceholder",precondition:g.Ao.and(b.InSnippetMode,b.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:130,kbExpr:d.u.editorTextFocus,primary:2}})),(0,a.fK)(new S({id:"jumpToPrevSnippetPlaceholder",precondition:g.Ao.and(b.InSnippetMode,b.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:130,kbExpr:d.u.editorTextFocus,primary:1026}})),(0,a.fK)(new S({id:"leaveSnippet",precondition:b.InSnippetMode,handler:function(e){return e.cancel(!0)},kbOpts:{weight:130,kbExpr:d.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,a.fK)(new S({id:"acceptSnippet",precondition:b.InSnippetMode,handler:function(e){return e.finish()}}))},25707:function(e,t,i){i.d(t,{Lv:function(){return m},Vm:function(){return _},Yj:function(){return x},xv:function(){return f}});var n,o=i(11752),r=i(61120),s=i(60136),a=i(43668),l=i(37762),c=i(93433),d=i(4942),u=i(15671),h=i(43144),g=function(){function e(){(0,u.Z)(this,e),this.value="",this.pos=0}return(0,h.Z)(e,[{key:"text",value:function(e){this.value=e,this.pos=0}},{key:"tokenText",value:function(e){return this.value.substr(e.pos,e.len)}},{key:"next",value:function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,i=this.pos,n=0,o=this.value.charCodeAt(i);if("number"===typeof(t=e._table[o]))return this.pos+=1,{type:t,pos:i,len:1};if(e.isDigitCharacter(o)){t=8;do{n+=1,o=this.value.charCodeAt(i+n)}while(e.isDigitCharacter(o));return this.pos+=n,{type:t,pos:i,len:n}}if(e.isVariableCharacter(o)){t=9;do{o=this.value.charCodeAt(i+ ++n)}while(e.isVariableCharacter(o)||e.isDigitCharacter(o));return this.pos+=n,{type:t,pos:i,len:n}}t=10;do{n+=1,o=this.value.charCodeAt(i+n)}while(!isNaN(o)&&"undefined"===typeof e._table[o]&&!e.isDigitCharacter(o)&&!e.isVariableCharacter(o));return this.pos+=n,{type:t,pos:i,len:n}}}],[{key:"isDigitCharacter",value:function(e){return e>=48&&e<=57}},{key:"isVariableCharacter",value:function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}}]),e}();g._table=(n={},(0,d.Z)(n,36,0),(0,d.Z)(n,58,1),(0,d.Z)(n,44,2),(0,d.Z)(n,123,3),(0,d.Z)(n,125,4),(0,d.Z)(n,92,5),(0,d.Z)(n,47,6),(0,d.Z)(n,124,7),(0,d.Z)(n,43,11),(0,d.Z)(n,45,12),(0,d.Z)(n,63,13),n);var p=function(){function e(){(0,u.Z)(this,e),this._children=[]}return(0,h.Z)(e,[{key:"appendChild",value:function(e){return e instanceof f&&this._children[this._children.length-1]instanceof f?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}},{key:"replace",value:function(e,t){var i=e.parent,n=i.children.indexOf(e),o=i.children.slice(0);o.splice.apply(o,[n,1].concat((0,c.Z)(t))),i._children=o,function e(t,i){var n,o=(0,l.Z)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.parent=i,e(r.children,r)}}catch(s){o.e(s)}finally{o.f()}}(t,i)}},{key:"children",get:function(){return this._children}},{key:"snippet",get:function(){for(var e=this;;){if(!e)return;if(e instanceof w)return e;e=e.parent}}},{key:"toString",value:function(){return this.children.reduce((function(e,t){return e+t.toString()}),"")}},{key:"len",value:function(){return 0}}]),e}(),f=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e){var n;return(0,u.Z)(this,i),(n=t.call(this)).value=e,n}return(0,h.Z)(i,[{key:"toString",value:function(){return this.value}},{key:"len",value:function(){return this.value.length}},{key:"clone",value:function(){return new i(this.value)}}]),i}(p),v=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(){return(0,u.Z)(this,i),t.apply(this,arguments)}return(0,h.Z)(i)}(p),_=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e){var n;return(0,u.Z)(this,i),(n=t.call(this)).index=e,n}return(0,h.Z)(i,[{key:"isFinalTabstop",get:function(){return 0===this.index}},{key:"choice",get:function(){return 1===this._children.length&&this._children[0]instanceof m?this._children[0]:void 0}},{key:"clone",value:function(){var e=new i(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e}}],[{key:"compareByIndex",value:function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}}]),i}(v),m=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(){var e;return(0,u.Z)(this,i),(e=t.apply(this,arguments)).options=[],e}return(0,h.Z)(i,[{key:"appendChild",value:function(e){return e instanceof f&&(e.parent=this,this.options.push(e)),this}},{key:"toString",value:function(){return this.options[0].value}},{key:"len",value:function(){return this.options[0].len()}},{key:"clone",value:function(){var e=new i;return this.options.forEach(e.appendChild,e),e}}]),i}(p),y=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(){var e;return(0,u.Z)(this,i),(e=t.apply(this,arguments)).regexp=new RegExp(""),e}return(0,h.Z)(i,[{key:"resolve",value:function(e){var t=this,i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some((function(e){return e instanceof b&&Boolean(e.elseValue)}))&&(n=this._replace([])),n}},{key:"_replace",value:function(e){var t,i="",n=(0,l.Z)(this._children);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o instanceof b){var r=e[o.index]||"";i+=r=o.resolve(r)}else i+=o.toString()}}catch(s){n.e(s)}finally{n.f()}return i}},{key:"toString",value:function(){return""}},{key:"clone",value:function(){var e=new i;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((function(e){return e.clone()})),e}}]),i}(p),b=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e,n,o,r){var s;return(0,u.Z)(this,i),(s=t.call(this)).index=e,s.shorthandName=n,s.ifValue=o,s.elseValue=r,s}return(0,h.Z)(i,[{key:"resolve",value:function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"===typeof this.ifValue?this.ifValue:Boolean(e)||"string"!==typeof this.elseValue?e||"":this.elseValue}},{key:"_toPascalCase",value:function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e}},{key:"_toCamelCase",value:function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e,t){return 0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e}},{key:"clone",value:function(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}]),i}(p),S=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e){var n;return(0,u.Z)(this,i),(n=t.call(this)).name=e,n}return(0,h.Z)(i,[{key:"resolve",value:function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new f(t)],!0)}},{key:"clone",value:function(){var e=new i(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e}}]),i}(v);function k(e,t){for(var i=(0,c.Z)(e);i.length>0;){var n=i.shift();if(!t(n))break;i.unshift.apply(i,(0,c.Z)(n.children))}}var w=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(){return(0,u.Z)(this,i),t.apply(this,arguments)}return(0,h.Z)(i,[{key:"placeholderInfo",get:function(){if(!this._placeholders){var e,t=[];this.walk((function(i){return i instanceof _&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}},{key:"placeholders",get:function(){return this.placeholderInfo.all}},{key:"offset",value:function(e){var t=0,i=!1;return this.walk((function(n){return n===e?(i=!0,!1):(t+=n.len(),!0)})),i?t:-1}},{key:"fullLen",value:function(e){var t=0;return k([e],(function(e){return t+=e.len(),!0})),t}},{key:"enclosingPlaceholders",value:function(e){for(var t=[],i=e.parent;i;)i instanceof _&&t.push(i),i=i.parent;return t}},{key:"resolveVariables",value:function(e){var t=this;return this.walk((function(i){return i instanceof S&&i.resolve(e)&&(t._placeholders=void 0),!0})),this}},{key:"appendChild",value:function(e){return this._placeholders=void 0,(0,o.Z)((0,r.Z)(i.prototype),"appendChild",this).call(this,e)}},{key:"replace",value:function(e,t){return this._placeholders=void 0,(0,o.Z)((0,r.Z)(i.prototype),"replace",this).call(this,e,t)}},{key:"clone",value:function(){var e=new i;return this._children=this.children.map((function(e){return e.clone()})),e}},{key:"walk",value:function(e){k(this.children,e)}}]),i}(p),x=function(){function e(){(0,u.Z)(this,e),this._scanner=new g,this._token={type:14,pos:0,len:0}}return(0,h.Z)(e,[{key:"parse",value:function(e,t,i){this._scanner.text(e),this._token=this._scanner.next();for(var n=new w;this._parse(n););var o=new Map,r=[],s=0;n.walk((function(e){return e instanceof _&&(s+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):r.push(e)),!0}));for(var a=0,c=r;a<c.length;a++){var d=c[a],u=o.get(d.index);if(u){var h=new _(d.index);h.transform=d.transform;var g,p=(0,l.Z)(u);try{for(p.s();!(g=p.n()).done;){var f=g.value;h.appendChild(f.clone())}}catch(v){p.e(v)}finally{p.f()}n.replace(d,[h])}}return i||(i=s>0&&t),!o.has(0)&&i&&n.appendChild(new _(0)),n}},{key:"_accept",value:function(e,t){if(void 0===e||this._token.type===e){var i=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),i}return!1}},{key:"_backTo",value:function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}},{key:"_until",value:function(e){for(var t=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var i=this._scanner.next();if(0!==i.type&&4!==i.type&&5!==i.type)return!1}this._token=this._scanner.next()}var n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}},{key:"_parse",value:function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}},{key:"_parseEscaped",value:function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new f(t)),!0)}},{key:"_parseTabstopOrVariableName",value:function(e){var t,i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new _(Number(t)):new S(t)),!0):this._backTo(i)}},{key:"_parseComplexPlaceholder",value:function(e){var t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);var n=new _(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new f("${"+t+":")),n.children.forEach(e.appendChild,e),!0}else{if(!(n.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(var o=new m;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(o),this._accept(4)))return e.appendChild(n),!0}return this._backTo(i),!1}}}},{key:"_parseChoiceElement",value:function(e){for(var t=this._token,i=[];2!==this._token.type&&7!==this._token.type;){var n=void 0;if(!(n=(n=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:this._accept(void 0,!0)))return this._backTo(t),!1;i.push(n)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new f(i.join(""))),!0)}},{key:"_parseComplexVariable",value:function(e){var t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);var n=new S(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new f("${"+t+":")),n.children.forEach(e.appendChild,e),!0}}},{key:"_parseTransform",value:function(e){for(var t=new y,i="",n="";!this._accept(6);){var o=void 0;if(o=this._accept(5,!0))i+=o=this._accept(6,!0)||o;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){var r=void 0;if(r=this._accept(5,!0))r=this._accept(5,!0)||this._accept(6,!0)||r,t.appendChild(new f(r));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(s){return!1}return e.transform=t,!0}},{key:"_parseFormatString",value:function(e){var t=this._token;if(!this._accept(0))return!1;var i=!1;this._accept(3)&&(i=!0);var n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new b(Number(n))),!0;if(this._accept(4))return e.appendChild(new b(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return o&&this._accept(4)?(e.appendChild(new b(Number(n),o)),!0):(this._backTo(t),!1)}if(this._accept(11)){var r=this._until(4);if(r)return e.appendChild(new b(Number(n),void 0,r,void 0)),!0}else if(this._accept(12)){var s=this._until(4);if(s)return e.appendChild(new b(Number(n),void 0,void 0,s)),!0}else if(this._accept(13)){var a=this._until(1);if(a){var l=this._until(4);if(l)return e.appendChild(new b(Number(n),void 0,a,l)),!0}}else{var c=this._until(4);if(c)return e.appendChild(new b(Number(n),void 0,void 0,c)),!0}return this._backTo(t),!1}},{key:"_parseAnything",value:function(e){return 14!==this._token.type&&(e.appendChild(new f(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}],[{key:"escape",value:function(e){return e.replace(/\$|}|\\/g,"\\$&")}},{key:"guessNeedsClipboard",value:function(e){return/\${?CLIPBOARD/.test(e)}}]),e}()},93011:function(e,t,i){i.d(t,{l:function(){return M}});var n=i(29439),o=i(37762),r=i(93433),s=i(15671),a=i(43144),l=i(71881),c=i(10526),d=i(26684),u=i(15261),h=i(30788),g=i(52091),p=i(27959),f=i(27518),v=i(46049),_=i(25707),m=i(66570),y=i(38590),b=i(34408),S=i(14534),k=i(89125),w=i(87697),x=(Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),function(){function e(t){(0,s.Z)(this,e),this._delegates=t}return(0,a.Z)(e,[{key:"resolve",value:function(e){var t,i=(0,o.Z)(this._delegates);try{for(i.s();!(t=i.n()).done;){var n=t.value.resolve(e);if(void 0!==n)return n}}catch(r){i.e(r)}finally{i.f()}}}]),e}()),C=function(){function e(t,i,n,o){(0,s.Z)(this,e),this._model=t,this._selection=i,this._selectionIdx=n,this._overtypingCapturer=o}return(0,a.Z)(e,[{key:"resolve",value:function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var i=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){var o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,n=o.multiline)}if(i&&n&&e.snippet){var r=this._model.getLineContent(this._selection.startLineNumber),s=(0,d.V8)(r,0,this._selection.startColumn-1),a=s;e.snippet.walk((function(t){return t!==e&&(t instanceof _.xv&&(a=(0,d.V8)((0,d.uq)(t.value).pop())),!0)}));var l=(0,d.Mh)(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(function(e,t,i){return"".concat(t).concat(a.substr(l)).concat(i)}))}return i}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){var c=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return c&&c.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}]),e}(),N=function(){function e(t,i){(0,s.Z)(this,e),this._labelService=t,this._model=i}return(0,a.Z)(e,[{key:"resolve",value:function(e){var t=e.name;if("TM_FILENAME"===t)return y.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){var i=y.EZ(this._model.uri.fsPath),n=i.lastIndexOf(".");return n<=0?i:i.slice(0,n)}return"TM_DIRECTORY"===t?"."===y.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,b.XX)(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}]),e}(),R=function(){function e(t,i,n,o){(0,s.Z)(this,e),this._readClipboardText=t,this._selectionIdx=i,this._selectionCount=n,this._spread=o}return(0,a.Z)(e,[{key:"resolve",value:function(e){if("CLIPBOARD"===e.name){var t=this._readClipboardText();if(t){if(this._spread){var i=t.split(/\r\n|\n|\r/).filter((function(e){return!(0,d.m5)(e)}));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}}]),e}(),D=function(){function e(t,i){(0,s.Z)(this,e),this._model=t,this._selection=i}return(0,a.Z)(e,[{key:"resolve",value:function(e){var t=e.name,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=k.zu.getComments(i);if(n)return"LINE_COMMENT"===t?n.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?n.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&n.blockCommentEndToken||void 0}}]),e}(),T=function(){function e(){(0,s.Z)(this,e),this._date=new Date}return(0,a.Z)(e,[{key:"resolve",value:function(t){var i=t.name;return"CURRENT_YEAR"===i?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===i?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===i?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===i?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===i?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===i?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===i?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===i?e.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===i?e.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===i?e.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===i?e.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===i?String(Math.floor(this._date.getTime()/1e3)):void 0}}]),e}();T.dayNames=[w.N("Sunday","Sunday"),w.N("Monday","Monday"),w.N("Tuesday","Tuesday"),w.N("Wednesday","Wednesday"),w.N("Thursday","Thursday"),w.N("Friday","Friday"),w.N("Saturday","Saturday")],T.dayNamesShort=[w.N("SundayShort","Sun"),w.N("MondayShort","Mon"),w.N("TuesdayShort","Tue"),w.N("WednesdayShort","Wed"),w.N("ThursdayShort","Thu"),w.N("FridayShort","Fri"),w.N("SaturdayShort","Sat")],T.monthNames=[w.N("January","January"),w.N("February","February"),w.N("March","March"),w.N("April","April"),w.N("May","May"),w.N("June","June"),w.N("July","July"),w.N("August","August"),w.N("September","September"),w.N("October","October"),w.N("November","November"),w.N("December","December")],T.monthNamesShort=[w.N("JanuaryShort","Jan"),w.N("FebruaryShort","Feb"),w.N("MarchShort","Mar"),w.N("AprilShort","Apr"),w.N("MayShort","May"),w.N("JuneShort","Jun"),w.N("JulyShort","Jul"),w.N("AugustShort","Aug"),w.N("SeptemberShort","Sep"),w.N("OctoberShort","Oct"),w.N("NovemberShort","Nov"),w.N("DecemberShort","Dec")];var I=function(){function e(t){(0,s.Z)(this,e),this._workspaceService=t}return(0,a.Z)(e,[{key:"resolve",value:function(e){if(this._workspaceService){var t=(0,v.uT)(this._workspaceService.getWorkspace());if(t)return"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}}},{key:"_resolveWorkspaceName",value:function(e){if((0,v.eb)(e))return y.EZ(e.uri.path);var t=y.EZ(e.configPath.path);return t.endsWith(v.A6)&&(t=t.substr(0,t.length-v.A6.length-1)),t}},{key:"_resoveWorkspacePath",value:function(e){if((0,v.eb)(e))return(0,m.D)(e.uri.fsPath);var t=y.EZ(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?(0,m.D)(i):"/"}}]),e}(),L=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"resolve",value:function(e){var t=e.name;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?(0,S.R)():void 0}}]),e}(),P=function(){function e(t,i,n,o){(0,s.Z)(this,e),this._editor=t,this._snippet=i,this._offset=n,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=(0,l.vM)(i.placeholders,_.Vm.compareByIndex),this._placeholderGroupsIdx=-1}return(0,a.Z)(e,[{key:"dispose",value:function(){this._placeholderDecorations&&this._editor.deltaDecorations((0,r.Z)(this._placeholderDecorations.values()),[]),this._placeholderGroups.length=0}},{key:"_initDecorations",value:function(){var t=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var i=this._editor.getModel();this._editor.changeDecorations((function(n){var r,s=(0,o.Z)(t._snippet.placeholders);try{for(s.s();!(r=s.n()).done;){var a=r.value,l=t._snippet.offset(a),c=t._snippet.fullLen(a),d=h.e.fromPositions(i.getPositionAt(t._offset+l),i.getPositionAt(t._offset+l+c)),u=a.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,g=n.addDecoration(d,u);t._placeholderDecorations.set(a,g)}}catch(p){s.e(p)}finally{s.f()}}))}}},{key:"move",value:function(t){var i=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){var r,s=[],a=(0,o.Z)(this._placeholderGroups[this._placeholderGroupsIdx]);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(l.transform){for(var c=this._placeholderDecorations.get(l),d=this._editor.getModel().getDecorationRange(c),h=this._editor.getModel().getValueInRange(d),p=l.transform.resolve(h).split(/\r\n|\r|\n/),f=1;f<p.length;f++)p[f]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+p[f]);s.push(u.h.replace(d,p.join(this._editor.getModel().getEOL())))}}}catch(m){a.e(m)}finally{a.f()}s.length>0&&this._editor.executeEdits("snippet.placeholderTransform",s)}var v=!1;!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,v=!0):!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,v=!0);var _=this._editor.getModel().changeDecorations((function(t){var r,s=new Set,a=[],l=(0,o.Z)(i._placeholderGroups[i._placeholderGroupsIdx]);try{for(l.s();!(r=l.n()).done;){var c=r.value,d=i._placeholderDecorations.get(c),u=i._editor.getModel().getDecorationRange(d);a.push(new g.Y(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)),v=v&&i._hasPlaceholderBeenCollapsed(c),t.changeDecorationOptions(d,c.isFinalTabstop?e._decor.activeFinal:e._decor.active),s.add(c);var h,p=(0,o.Z)(i._snippet.enclosingPlaceholders(c));try{for(p.s();!(h=p.n()).done;){var f=h.value,_=i._placeholderDecorations.get(f);t.changeDecorationOptions(_,f.isFinalTabstop?e._decor.activeFinal:e._decor.active),s.add(f)}}catch(m){p.e(m)}finally{p.f()}}}catch(m){l.e(m)}finally{l.f()}var y,b=(0,o.Z)(i._placeholderDecorations);try{for(b.s();!(y=b.n()).done;){var S=(0,n.Z)(y.value,2),k=S[0],w=S[1];s.has(k)||t.changeDecorationOptions(w,k.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive)}}catch(m){b.e(m)}finally{b.f()}return a}));return v?this.move(t):null!==_&&void 0!==_?_:[]}},{key:"_hasPlaceholderBeenCollapsed",value:function(e){for(var t=e;t;){if(t instanceof _.Vm){var i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}},{key:"isAtFirstPlaceholder",get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}},{key:"isAtLastPlaceholder",get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}},{key:"hasPlaceholder",get:function(){return this._snippet.placeholders.length>0}},{key:"computePossibleSelections",value:function(){var e,t=new Map,i=(0,o.Z)(this._placeholderGroups);try{for(i.s();!(e=i.n()).done;){var n,r=e.value,s=void 0,a=(0,o.Z)(r);try{for(a.s();!(n=a.n()).done;){var l=n.value;if(l.isFinalTabstop)break;s||(s=[],t.set(l.index,s));var c=this._placeholderDecorations.get(l),d=this._editor.getModel().getDecorationRange(c);if(!d){t.delete(l.index);break}s.push(d)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}return t}},{key:"choice",get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}},{key:"merge",value:function(t){var i=this,n=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((function(r){var s,a=(0,o.Z)(i._placeholderGroups[i._placeholderGroupsIdx]);try{for(a.s();!(s=a.n()).done;){var c=s.value,d=t.shift();console.assert(!d._placeholderDecorations);var u,g=d._snippet.placeholderInfo.last.index,p=(0,o.Z)(d._snippet.placeholderInfo.all);try{for(p.s();!(u=p.n()).done;){var f=u.value;f.isFinalTabstop?f.index=c.index+(g+1)/i._nestingLevel:f.index=c.index+f.index/i._nestingLevel}}catch(C){p.e(C)}finally{p.f()}i._snippet.replace(c,d._snippet.children);var v=i._placeholderDecorations.get(c);r.removeDecoration(v),i._placeholderDecorations.delete(c);var m,y=(0,o.Z)(d._snippet.placeholders);try{for(y.s();!(m=y.n()).done;){var b=m.value,S=d._snippet.offset(b),k=d._snippet.fullLen(b),w=h.e.fromPositions(n.getPositionAt(d._offset+S),n.getPositionAt(d._offset+S+k)),x=r.addDecoration(w,e._decor.inactive);i._placeholderDecorations.set(b,x)}}catch(C){y.e(C)}finally{y.f()}}}catch(C){a.e(C)}finally{a.f()}i._placeholderGroups=(0,l.vM)(i._snippet.placeholders,_.Vm.compareByIndex)}))}}]),e}();P._decor={active:p.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:p.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:p.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:p.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var E={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},M=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;(0,s.Z)(this,e),this._templateMerges=[],this._snippets=[],this._editor=t,this._template=i,this._options=n}return(0,a.Z)(e,[{key:"dispose",value:function(){(0,c.B9)(this._snippets)}},{key:"_logInfo",value:function(){return'template="'.concat(this._template,'", merged_templates="').concat(this._templateMerges.join(" -> "),'"')}},{key:"insert",value:function(){var t=this;if(this._editor.hasModel()){var i=e.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer),n=i.edits,o=i.snippets;this._snippets=o,this._editor.executeEdits("snippet",n,(function(e){return t._snippets[0].hasPlaceholder?t._move(!0):e.filter((function(e){return!!e.identifier})).map((function(e){return g.Y.fromPositions(e.range.getEndPosition())}))})),this._editor.revealRange(this._editor.getSelections()[0])}}},{key:"merge",value:function(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;if(this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var r=e.createEditsAndSnippets(this._editor,t,n.overwriteBefore,n.overwriteAfter,!0,n.adjustWhitespace,n.clipboardText,n.overtypingCapturer),s=r.edits,a=r.snippets;this._editor.executeEdits("snippet",s,(function(e){var t,n=(0,o.Z)(i._snippets);try{for(n.s();!(t=n.n()).done;){t.value.merge(a)}}catch(r){n.e(r)}finally{n.f()}return console.assert(0===a.length),i._snippets[0].hasPlaceholder?i._move(void 0):e.filter((function(e){return!!e.identifier})).map((function(e){return g.Y.fromPositions(e.range.getEndPosition())}))}))}}},{key:"next",value:function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"prev",value:function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"_move",value:function(e){var t,i=[],n=(0,o.Z)(this._snippets);try{for(n.s();!(t=n.n()).done;){var s=t.value.move(e);i.push.apply(i,(0,r.Z)(s))}}catch(a){n.e(a)}finally{n.f()}return i}},{key:"isAtFirstPlaceholder",get:function(){return this._snippets[0].isAtFirstPlaceholder}},{key:"isAtLastPlaceholder",get:function(){return this._snippets[0].isAtLastPlaceholder}},{key:"hasPlaceholder",get:function(){return this._snippets[0].hasPlaceholder}},{key:"choice",get:function(){return this._snippets[0].choice}},{key:"isSelectionWithinPlaceholders",value:function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;var t,i=new Map,s=(0,o.Z)(this._snippets);try{var a=function(){var s=t.value.computePossibleSelections();if(0===i.size){var a,l=(0,o.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=(0,n.Z)(a.value,2),d=c[0],u=c[1];u.sort(h.e.compareRangesUsingStarts);var g,p=(0,o.Z)(e);try{for(p.s();!(g=p.n()).done;){var f=g.value;if(u[0].containsRange(f)){i.set(d,[]);break}}}catch(v){p.e(v)}finally{p.f()}}}catch(v){l.e(v)}finally{l.f()}}if(0===i.size)return{v:!1};i.forEach((function(e,t){e.push.apply(e,(0,r.Z)(s.get(t)))}))};for(s.s();!(t=s.n()).done;){var l=a();if("object"===typeof l)return l.v}}catch(v){s.e(v)}finally{s.f()}e.sort(h.e.compareRangesUsingStarts);var c,d=(0,o.Z)(i);try{for(d.s();!(c=d.n()).done;){var u=(0,n.Z)(c.value,2),g=u[0],p=u[1];if(p.length===e.length){p.sort(h.e.compareRangesUsingStarts);for(var f=0;f<p.length;f++)p[f].containsRange(e[f])||i.delete(g)}else i.delete(g)}}catch(v){d.e(v)}finally{d.f()}return i.size>0}}],[{key:"adjustWhitespace",value:function(e,t,i,n,o){var r,s=e.getLineContent(t.lineNumber),a=(0,d.V8)(s,0,t.column-1);return i.walk((function(t){if(!(t instanceof _.xv)||t.parent instanceof _.Lv)return!0;var o=t.value.split(/\r\n|\r|\n/);if(n){var s=i.offset(t);if(0===s)o[0]=e.normalizeIndentation(o[0]);else{var l=(r=null!==r&&void 0!==r?r:i.toString()).charCodeAt(s-1);10!==l&&13!==l||(o[0]=e.normalizeIndentation(a+o[0]))}for(var c=1;c<o.length;c++)o[c]=e.normalizeIndentation(a+o[c])}var d=o.join(e.getEOL());return d!==t.value&&(t.parent.replace(t,[new _.xv(d)]),r=void 0),!0})),a}},{key:"adjustSelection",value:function(e,t,i,n){if(0!==i||0!==n){var o=t,r=o.positionLineNumber,s=o.positionColumn,a=s-i,l=s+n,c=e.validateRange({startLineNumber:r,startColumn:a,endLineNumber:r,endColumn:l});t=g.Y.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}},{key:"createEditsAndSnippets",value:function(t,i,n,r,s,a,l,c){var d=[],g=[];if(!t.hasModel())return{edits:d,snippets:g};var p,m=t.getModel(),y=t.invokeWithinContext((function(e){return e.get(v.ec)})),b=t.invokeWithinContext((function(e){return new N(e.get(f.e),m)})),S=function(){return l},k=0,w=m.getValueInRange(e.adjustSelection(m,t.getSelection(),n,0)),E=m.getValueInRange(e.adjustSelection(m,t.getSelection(),0,r)),M=m.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),A=t.getSelections().map((function(e,t){return{selection:e,idx:t}})).sort((function(e,t){return h.e.compareRangesUsingStarts(e.selection,t.selection)})),Z=(0,o.Z)(A);try{for(Z.s();!(p=Z.n()).done;){var F=p.value,O=F.selection,z=F.idx,W=e.adjustSelection(m,O,n,0),V=e.adjustSelection(m,O,0,r);w!==m.getValueInRange(W)&&(W=O),E!==m.getValueInRange(V)&&(V=O);var B=O.setStartPosition(W.startLineNumber,W.startColumn).setEndPosition(V.endLineNumber,V.endColumn),H=(new _.Yj).parse(i,!0,s),G=B.getStartPosition(),j=e.adjustWhitespace(m,G,H,a||z>0&&M!==m.getLineFirstNonWhitespaceColumn(O.positionLineNumber),!0);H.resolveVariables(new x([b,new R(S,z,A.length,"spread"===t.getOption(71)),new C(m,O,z,c),new D(m,O),new T,new I(y),new L]));var U=m.getOffsetAt(G)+k;k+=H.toString().length-m.getValueLengthInRange(B),d[z]=u.h.replace(B,H.toString()),d[z].identifier={major:z,minor:0},g[z]=new P(t,H,U,j)}}catch(K){Z.e(K)}finally{Z.f()}return{edits:d,snippets:g}}}]),e}()},47510:function(e,t,i){i.d(t,{A9:function(){return L},GI:function(){return T},ZJ:function(){return P},_y:function(){return D},i5:function(){return W},kL:function(){return M},wg:function(){return O}});var n,o=i(93433),r=i(37762),s=i(15671),a=i(43144),l=i(87757),c=i.n(l),d=i(32124),u=i(68552),h=i(45842),g=i(10526),p=i(9197),f=i(64272),v=i(50605),_=i(10849),m=i(30788),y=i(26777),b=i(25707),S=i(87697),k=i(23911),w=i(89850),x=i(49525),C=i(45161),N=i(61776),R=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},D={Visible:N.iX,DetailsVisible:new x.uy("suggestWidgetDetailsVisible",!1,(0,S.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new x.uy("suggestWidgetMultipleSuggestions",!1,(0,S.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new x.uy("suggestionMakesTextEdit",!0,(0,S.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new x.uy("acceptSuggestionOnEnter",!0,(0,S.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new x.uy("suggestionHasInsertAndReplaceRange",!1,(0,S.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new x.uy("suggestionInsertMode",void 0,{type:"string",description:(0,S.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new x.uy("suggestionCanResolve",!1,(0,S.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},T=new k.eH("suggestWidgetStatusBar"),I=function(){function e(t,i,n,o){(0,s.Z)(this,e),this.position=t,this.completion=i,this.container=n,this.provider=o,this.isInvalid=!1,this.score=h.CL.Default,this.distance=0,this.textLabel="string"===typeof i.label?i.label:i.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=i.sortText&&i.sortText.toLowerCase(),this.filterTextLow=i.filterText&&i.filterText.toLowerCase(),m.e.isIRange(i.range)?(this.editStart=new _.L(i.range.startLineNumber,i.range.startColumn),this.editInsertEnd=new _.L(i.range.endLineNumber,i.range.endColumn),this.editReplaceEnd=new _.L(i.range.endLineNumber,i.range.endColumn),this.isInvalid=this.isInvalid||m.e.spansMultipleLines(i.range)||i.range.startLineNumber!==t.lineNumber):(this.editStart=new _.L(i.range.insert.startLineNumber,i.range.insert.startColumn),this.editInsertEnd=new _.L(i.range.insert.endLineNumber,i.range.insert.endColumn),this.editReplaceEnd=new _.L(i.range.replace.endLineNumber,i.range.replace.endColumn),this.isInvalid=this.isInvalid||m.e.spansMultipleLines(i.range.insert)||m.e.spansMultipleLines(i.range.replace)||i.range.insert.startLineNumber!==t.lineNumber||i.range.replace.startLineNumber!==t.lineNumber||i.range.insert.startColumn!==i.range.replace.startColumn),"function"!==typeof o.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}return(0,a.Z)(e,[{key:"isResolved",get:function(){return!!this._isResolved}},{key:"resolve",value:function(e){return R(this,void 0,void 0,c().mark((function t(){var i,n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._resolveCache||(i=e.onCancellationRequested((function(){n._resolveCache=void 0,n._isResolved=!1})),this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((function(e){Object.assign(n.completion,e),n._isResolved=!0,i.dispose()}),(function(e){(0,u.n2)(e)&&(n._resolveCache=void 0,n._isResolved=!1)}))),t.abrupt("return",this._resolveCache);case 2:case"end":return t.stop()}}),t,this)})))}}]),e}(),L=(0,a.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,s.Z)(this,e),this.snippetSortOrder=t,this.kindFilter=i,this.providerFilter=n,this.showDeprecated=o}));function P(){return n}L.default=new L;var E=(0,a.Z)((function e(t,i,n,o){(0,s.Z)(this,e),this.items=t,this.needsClipboard=i,this.durations=n,this.disposable=o}));function M(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L.default,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{triggerKind:0},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.T.None;return R(this,void 0,void 0,c().mark((function l(){var d,h,f,v,_,y,S,k,w,x,C,N,D,T=this;return c().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:d=new p.G(!0),i=i.clone(),h=t.getWordAtPosition(i),f=h?new m.e(i.lineNumber,h.startColumn,i.lineNumber,h.endColumn):m.e.fromPositions(i),v={replace:f,insert:f.setEndPosition(i.lineNumber,i.column)},_=[],y=new g.SL,S=[],k=!1,w=function(e,t,n){var s,a,l,c=!1;if(!t)return c;var d,u=(0,r.Z)(t.suggestions);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(!o.kindFilter.has(h.kind)){if(!o.showDeprecated&&(null===(s=null===h||void 0===h?void 0:h.tags)||void 0===s?void 0:s.includes(1)))continue;h.range||(h.range=v),h.sortText||(h.sortText="string"===typeof h.label?h.label:h.label.label),!k&&h.insertTextRules&&4&h.insertTextRules&&(k=b.Yj.guessNeedsClipboard(h.insertText)),_.push(new I(i,h,t,e)),c=!0}}}catch(p){u.e(p)}finally{u.f()}return(0,g.Wf)(t)&&y.add(t),S.push({providerName:null!==(a=e._debugDisplayName)&&void 0!==a?a:"unknown_provider",elapsedProvider:null!==(l=t.duration)&&void 0!==l?l:-1,elapsedOverall:n.elapsed()}),c},x=R(T,void 0,void 0,c().mark((function e(){var r,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 2:if(!(o.providerFilter.size>0)||o.providerFilter.has(n)){e.next=4;break}return e.abrupt("return");case 4:return r=new p.G(!0),e.next=7,n.provideCompletionItems(t,i,s,a);case 7:l=e.sent,w(n,l,r);case 9:case"end":return e.stop()}}),e)}))),C=(0,r.Z)(e.orderedGroups(t)),l.prev=12,D=c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.value,r=!1,e.next=4,Promise.all(n.map((function(e){return R(T,void 0,void 0,c().mark((function n(){var l,d;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(o.providerFilter.size>0)||o.providerFilter.has(e)){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,l=new p.G(!0),n.next=6,e.provideCompletionItems(t,i,s,a);case 6:d=n.sent,r=w(e,d,l)||r,n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),(0,u.Cp)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))})));case 4:if(!r&&!a.isCancellationRequested){e.next=6;break}return e.abrupt("return","break");case 6:case"end":return e.stop()}}),e)})),C.s();case 15:if((N=C.n()).done){l.next=22;break}return l.delegateYield(D(),"t0",17);case 17:if("break"!==l.t0){l.next=20;break}return l.abrupt("break",22);case 20:l.next=15;break;case 22:l.next=27;break;case 24:l.prev=24,l.t1=l.catch(12),C.e(l.t1);case 27:return l.prev=27,C.f(),l.finish(27);case 30:return l.next=32,x;case 32:if(!a.isCancellationRequested){l.next=35;break}return y.dispose(),l.abrupt("return",Promise.reject((0,u.F0)()));case 35:return l.abrupt("return",new E(_.sort(O(o.snippetSortOrder)),k,{entries:S,elapsed:d.elapsed()},y));case 36:case"end":return l.stop()}}),l,null,[[12,24,27,30]])})))}function A(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}var Z,F=new Map;function O(e){return F.get(e)}F.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return A(e,t)})),F.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return A(e,t)})),F.set(1,A),w.P0.registerCommand("_executeCompletionItemProvider",(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return R(void 0,void 0,void 0,c().mark((function t(){var n,o,s,a,l,u,h,g,p,m,b,S,k;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i[0],o=i[1],s=i[2],a=i[3],(0,f.p_)(v.o.isUri(n)),(0,f.p_)(_.L.isIPosition(o)),(0,f.p_)("string"===typeof s||!s),(0,f.p_)("number"===typeof a||!a),l=e.get(C.p),u=l.completionProvider,t.next=8,e.get(y.S).createModelReference(n);case 8:return h=t.sent,t.prev=9,g={incomplete:!1,suggestions:[]},p=[],t.next=14,M(u,h.object.textEditorModel,_.L.lift(o),void 0,{triggerCharacter:s,triggerKind:s?1:0});case 14:m=t.sent,b=(0,r.Z)(m.items);try{for(b.s();!(S=b.n()).done;)k=S.value,p.length<(null!==a&&void 0!==a?a:0)&&p.push(k.resolve(d.T.None)),g.incomplete=g.incomplete||k.container.incomplete,g.suggestions.push(k.completion)}catch(c){b.e(c)}finally{b.f()}return t.prev=17,t.next=20,Promise.all(p);case 20:return t.abrupt("return",g);case 21:return t.prev=21,setTimeout((function(){return m.disposable.dispose()}),100),t.finish(21);case 24:return t.prev=24,h.dispose(),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[9,,24,27],[17,,21,24]])})))}));var z=[];function W(e,t,i){var n=e.get(C.p).completionProvider;Z||(Z=new(function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"provideCompletionItems",value:function(){var e={suggestions:z.slice(0)};return z.length=0,e}}]),e}()),n.register("*",Z)),setTimeout((function(){var e;z.push.apply(z,(0,o.Z)(i)),null===(e=t.getContribution("editor.contrib.suggestController"))||void 0===e||e.triggerSuggest((new Set).add(Z))}),0)}},14393:function(e,t,i){i.r(t),i.d(t,{SuggestController:function(){return wt},TriggerSuggestAction:function(){return Ct}});var n=i(60136),o=i(43668),r=i(93433),s=i(37762),a=i(15671),l=i(43144),c=i(58340),d=i(71881),u=i(32590),h=i(32124),g=i(68552),p=i(28941),f=i(46753),v=i(10526),_=i(4827),m=i(9197),y=i(64272),b=i(15520),S=i(98351),k=i(15261),w=i(10849),x=i(30788),C=i(44474),N=i(42009),R=i(25707),D=i(29439),T=i(11752),I=i(61120),L=i(49584),P=i(56417),E=i(64644),M=i(11280),A=i(8850),Z=i(63019),F=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},O=function(e,t){return function(i,n){t(i,n,e)}},z=function(){function e(t){(0,a.Z)(this,e),this.name=t}return(0,l.Z)(e,[{key:"select",value:function(e,t,i){if(0===i.length)return 0;for(var n=i[0].score[0],o=0;o<i.length;o++){var r=i[o],s=r.score,a=r.completion;if(s[0]!==n)break;if(a.preselect)return o}return 0}}]),e}(),W=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,a.Z)(this,i),t.call(this,"first")}return(0,l.Z)(i,[{key:"memorize",value:function(e,t,i){}},{key:"toJSON",value:function(){}},{key:"fromJSON",value:function(){}}]),i}(z),V=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){var e;return(0,a.Z)(this,i),(e=t.call(this,"recentlyUsed"))._cache=new L.z6(300,.66),e._seq=0,e}return(0,l.Z)(i,[{key:"memorize",value:function(e,t,i){var n="".concat(e.getLanguageId(),"/").concat(i.textLabel);this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}},{key:"select",value:function(e,t,n){if(0===n.length)return 0;var o=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(o))return(0,T.Z)((0,I.Z)(i.prototype),"select",this).call(this,e,t,n);for(var r=n[0].score[0],s=-1,a=-1,l=-1,c=0;c<n.length&&n[c].score[0]===r;c++){var d="".concat(e.getLanguageId(),"/").concat(n[c].textLabel),u=this._cache.peek(d);if(u&&u.touch>l&&u.type===n[c].completion.kind&&u.insertText===n[c].completion.insertText&&(l=u.touch,a=c),n[c].completion.preselect&&-1===s)return c}return-1!==a?a:-1!==s?s:0}},{key:"toJSON",value:function(){return this._cache.toJSON()}},{key:"fromJSON",value:function(e){this._cache.clear();var t,i=(0,s.Z)(e);try{for(i.s();!(t=i.n()).done;){var n=(0,D.Z)(t.value,2),o=n[0],r=n[1];r.touch=0,r.type="number"===typeof r.type?r.type:P.gX.fromString(r.type),this._cache.set(o,r)}}catch(a){i.e(a)}finally{i.f()}this._seq=this._cache.size}}]),i}(z),B=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){var e;return(0,a.Z)(this,i),(e=t.call(this,"recentlyUsedByPrefix"))._trie=L.Id.forStrings(),e._seq=0,e}return(0,l.Z)(i,[{key:"memorize",value:function(e,t,i){var n=e.getWordUntilPosition(t).word,o="".concat(e.getLanguageId(),"/").concat(n);this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}},{key:"select",value:function(e,t,n){var o=e.getWordUntilPosition(t).word;if(!o)return(0,T.Z)((0,I.Z)(i.prototype),"select",this).call(this,e,t,n);var r="".concat(e.getLanguageId(),"/").concat(o),s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(var a=0;a<n.length;a++){var l=n[a].completion,c=l.kind,d=l.insertText;if(c===s.type&&d===s.insertText)return a}return(0,T.Z)((0,I.Z)(i.prototype),"select",this).call(this,e,t,n)}},{key:"toJSON",value:function(){var e=[];return this._trie.forEach((function(t,i){return e.push([i,t])})),e.sort((function(e,t){return-(e[1].touch-t[1].touch)})).forEach((function(e,t){return e[1].touch=t})),e.slice(0,200)}},{key:"fromJSON",value:function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;var t,i=(0,s.Z)(e);try{for(i.s();!(t=i.n()).done;){var n=(0,D.Z)(t.value,2),o=n[0],r=n[1];r.type="number"===typeof r.type?r.type:P.gX.fromString(r.type),this._trie.set(o,r)}}catch(a){i.e(a)}finally{i.f()}}}}]),i}(z),H=function(){function e(t,i){var n=this;(0,a.Z)(this,e),this._storageService=t,this._configService=i,this._disposables=new v.SL,this._persistSoon=new u.pY((function(){return n._saveState()}),500),this._disposables.add(t.onWillSaveState((function(e){e.reason===Z.fk.SHUTDOWN&&n._saveState()})))}return(0,l.Z)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._persistSoon.dispose()}},{key:"memorize",value:function(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}},{key:"select",value:function(e,t,i){return this._withStrategy(e,t).select(e,t,i)}},{key:"_withStrategy",value:function(t,i){var n,o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(i.lineNumber,i.column),resource:t.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==o){this._saveState();var r=e._strategyCtors.get(o)||W;this._strategy=new r;try{var s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,a=this._storageService.get("".concat(e._storagePrefix,"/").concat(o),s);a&&this._strategy.fromJSON(JSON.parse(a))}catch(l){}}return this._strategy}},{key:"_saveState",value:function(){if(this._strategy){var t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store("".concat(e._storagePrefix,"/").concat(this._strategy.name),i,t,1)}}}]),e}();H._strategyCtors=new Map([["recentlyUsedByPrefix",B],["recentlyUsed",V],["first",W]]),H._storagePrefix="suggest/memories",H=F([O(0,Z.Uy),O(1,E.Ui)],H);var G=(0,A.yh)("ISuggestMemories");(0,M.z)(G,H,!0);var j=i(49525),U=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},K=function(e,t){return function(i,n){t(i,n,e)}},q=function(){function e(t,i){var n=this;(0,a.Z)(this,e),this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(i),this._configListener=this._editor.onDidChangeConfiguration((function(e){return e.hasChanged(111)&&n._update()})),this._update()}return(0,l.Z)(e,[{key:"dispose",value:function(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}},{key:"_update",value:function(){var e=this,t="on"===this._editor.getOption(111);if(this._enabled!==t)if(this._enabled=t,this._enabled){var i=function(){if(e._editor.hasModel()){var t=e._editor.getModel(),i=e._editor.getSelection(),n=t.getWordAtPosition(i.getStartPosition());n?e._ckAtEnd.set(n.endColumn===i.getStartPosition().column):e._ckAtEnd.set(!1)}else e._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(i),i()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}}]),e}();q.AtEnd=new j.uy("atEndOfWord",!1),q=U([K(1,j.i6)],q);var X=i(87697),Y=i(23911),Q=i(89850),$=i(90031),J=i(39701),ee=i(47510),te=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ie=function(e,t){return function(i,n){t(i,n,e)}},ne=function(){function e(t,i){(0,a.Z)(this,e),this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}return(0,l.Z)(e,[{key:"dispose",value:function(){this.reset()}},{key:"reset",value:function(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}},{key:"set",value:function(t,i){var n=this,o=t.model,r=t.index;0!==o.items.length?e._moveIndex(!0,o,r)!==r?(this._acceptNext=i,this._model=o,this._index=r,this._listener=this._editor.onDidChangeCursorPosition((function(){n._ignore||n.reset()})),this._ckOtherSuggestions.set(!0)):this.reset():this.reset()}},{key:"next",value:function(){this._move(!0)}},{key:"prev",value:function(){this._move(!1)}},{key:"_move",value:function(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}}],[{key:"_moveIndex",value:function(e,t,i){for(var n=i;(n=(n+t.items.length+(e?1:-1))%t.items.length)!==i&&t.items[n].completion.additionalTextEdits;);return n}}]),e}();ne.OtherSuggestions=new j.uy("hasOtherSuggestions",!1),ne=te([ie(1,j.i6)],ne);var oe=i(70779),re=function(){function e(t,i,n){var o=this;(0,a.Z)(this,e),this._disposables=new v.SL,this._disposables.add(i.onDidShow((function(){return o._onItem(i.getFocusedItem())}))),this._disposables.add(i.onDidFocus(this._onItem,this)),this._disposables.add(i.onDidHide(this.reset,this)),this._disposables.add(t.onWillType((function(e){if(o._active&&!i.isFrozen()){var r=e.charCodeAt(e.length-1);o._active.acceptCharacters.has(r)&&t.getOption(0)&&n(o._active.item)}})))}return(0,l.Z)(e,[{key:"_onItem",value:function(e){if(e&&(0,d.Of)(e.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==e.item){var t,i=new oe.q,n=(0,s.Z)(e.item.completion.commitCharacters);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.length>0&&i.add(o.charCodeAt(0))}}catch(r){n.e(r)}finally{n.f()}this._active={acceptCharacters:i,item:e}}}else this.reset()}},{key:"reset",value:function(){this._active=void 0}},{key:"dispose",value:function(){this._disposables.dispose()}}]),e}(),se=i(87757),ae=i.n(se),le=i(26684),ce=i(52091),de=i(70437),ue=i(70610),he=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},ge=function(){function e(){(0,a.Z)(this,e)}return(0,l.Z)(e,null,[{key:"create",value:function(t,i){return he(this,void 0,void 0,ae().mark((function r(){var c,u,h,g,p,f,v;return ae().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.getOption(106).localityBonus){r.next=2;break}return r.abrupt("return",e.None);case 2:if(i.hasModel()){r.next=4;break}return r.abrupt("return",e.None);case 4:if(c=i.getModel(),u=i.getPosition(),t.canComputeWordRanges(c.uri)){r.next=8;break}return r.abrupt("return",e.None);case 8:return r.next=10,(new ue.x).provideSelectionRanges(c,[u]);case 10:if(h=r.sent,g=(0,D.Z)(h,1),0!==(p=g[0]).length){r.next=15;break}return r.abrupt("return",e.None);case 15:return r.next=17,t.computeWordRanges(c.uri,p[0].range);case 17:if(f=r.sent){r.next=20;break}return r.abrupt("return",e.None);case 20:return v=c.getWordUntilPosition(u),delete f[v.word],r.abrupt("return",new(function(e){(0,n.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,l.Z)(r,[{key:"distance",value:function(e,t){if(!u.equals(i.getPosition()))return 0;if(17===t.kind)return 2<<20;var n="string"===typeof t.label?t.label:t.label.label,o=f[n];if((0,d.XY)(o))return 2<<20;var r,a=(0,d.ry)(o,x.e.fromPositions(e),x.e.compareRangesUsingStarts),l=a>=0?o[a]:o[Math.max(0,~a-1)],c=p.length,h=(0,s.Z)(p);try{for(h.s();!(r=h.n()).done;){var g=r.value;if(!x.e.containsRange(g.range,l))break;c-=1}}catch(v){h.e(v)}finally{h.f()}return c}}]),r}(e)));case 23:case"end":return r.stop()}}),r)})))}}]),e}();ge.None=new(function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,a.Z)(this,i),t.apply(this,arguments)}return(0,l.Z)(i,[{key:"distance",value:function(){return 0}}]),i}(ge));var pe=i(88532),fe=i(31277),ve=i(45842),_e=function(){function e(t,i,n,o,r,s,l){(0,a.Z)(this,e),this.clipboardText=l,this._snippetCompareFn=e._compareCompletionItems,this._items=t,this._column=i,this._wordDistance=o,this._options=r,this._refilterKind=1,this._lineContext=n,"top"===s?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:"bottom"===s&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}return(0,l.Z)(e,[{key:"lineContext",get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}},{key:"items",get:function(){return this._ensureCachedState(),this._filteredItems}},{key:"allProvider",get:function(){return this._ensureCachedState(),this._providerInfo.keys()}},{key:"incomplete",get:function(){this._ensureCachedState();var e,t=new Set,i=(0,s.Z)(this._providerInfo);try{for(i.s();!(e=i.n()).done;){var n=(0,D.Z)(e.value,2),o=n[0];n[1]&&t.add(o)}}catch(r){i.e(r)}finally{i.f()}return t}},{key:"adopt",value:function(e){for(var t=[],i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}},{key:"stats",get:function(){return this._ensureCachedState(),this._stats}},{key:"_ensureCachedState",value:function(){0!==this._refilterKind&&this._createCachedState()}},{key:"_createCachedState",value:function(){this._providerInfo=new Map;for(var e=[],t=this._lineContext,i=t.leadingLineContent,n=t.characterCountDelta,o="",r="",s=1===this._refilterKind?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?ve.EW:ve.l7,c=0;c<s.length;c++){var u=s[c];if(!u.isInvalid){this._providerInfo.set(u.provider,Boolean(u.container.incomplete));var h=u.position.column-u.editStart.column,g=h+n-(u.position.column-this._column);if(o.length!==g&&(r=(o=0===g?"":i.slice(-g)).toLowerCase()),u.word=o,0===g)u.score=ve.CL.Default;else{for(var p=0;p<h;){var f=o.charCodeAt(p);if(32!==f&&9!==f)break;p+=1}if(p>=g)u.score=ve.CL.Default;else if("string"===typeof u.completion.filterText){var v=l(o,r,p,u.completion.filterText,u.filterTextLow,0,!1);if(!v)continue;0===(0,le.zY)(u.completion.filterText,u.textLabel)?u.score=v:(u.score=(0,ve.jB)(o,r,p,u.textLabel,u.labelLow,0),u.score[0]=v[0])}else{var _=l(o,r,p,u.textLabel,u.labelLow,0,!1);if(!_)continue;u.score=_}}u.idx=c,u.distance=this._wordDistance.distance(u.position,u.completion),a.push(u),e.push(u.textLabel.length)}}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,d.HW)(e.length-.85,e,(function(e,t){return e-t})):0}}}],[{key:"_compareCompletionItems",value:function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}},{key:"_compareCompletionItemsSnippetsDown",value:function(t,i){if(t.completion.kind!==i.completion.kind){if(27===t.completion.kind)return 1;if(27===i.completion.kind)return-1}return e._compareCompletionItems(t,i)}},{key:"_compareCompletionItemsSnippetsUp",value:function(t,i){if(t.completion.kind!==i.completion.kind){if(27===t.completion.kind)return-1;if(27===i.completion.kind)return 1}return e._compareCompletionItems(t,i)}}]),e}(),me=i(45161),ye=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},be=function(e,t){return function(i,n){t(i,n,e)}},Se=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},ke=function(){function e(t,i,n,o){(0,a.Z)(this,e),this.leadingLineContent=t.getLineContent(i.lineNumber).substr(0,i.column-1),this.leadingWord=t.getWordUntilPosition(i),this.lineNumber=i.lineNumber,this.column=i.column,this.auto=n,this.shy=o}return(0,l.Z)(e,null,[{key:"shouldAutoTrigger",value:function(e){if(!e.hasModel())return!1;var t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);var n=t.getWordAtPosition(i);return!!n&&(n.endColumn===i.column&&!!isNaN(Number(n.word)))}}]),e}();var we=function(){function e(t,i,n,o,r,s,l,c){var d=this;(0,a.Z)(this,e),this._editor=t,this._editorWorkerService=i,this._clipboardService=n,this._telemetryService=o,this._logService=r,this._contextKeyService=s,this._configurationService=l,this._languageFeaturesService=c,this._toDispose=new v.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new v.SL,this._triggerQuickSuggest=new u._F,this._state=0,this._completionDisposables=new v.SL,this._onDidCancel=new p.Q5,this._onDidTrigger=new p.Q5,this._onDidSuggest=new p.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ce.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){d._updateTriggerCharacters(),d.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){d._updateTriggerCharacters(),d.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){d._updateTriggerCharacters(),d._updateQuickSuggest()}))),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange((function(){d._updateTriggerCharacters(),d._updateActiveSuggestSession()})));var h=!1;this._toDispose.add(this._editor.onDidCompositionStart((function(){h=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((function(){h=!1,d._onCompositionEnd()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(e){h||d._onCursorChange(e)}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){h||d._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}return(0,l.Z)(e,[{key:"dispose",value:function(){(0,v.B9)(this._triggerCharacterListener),(0,v.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}},{key:"_updateQuickSuggest",value:function(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}},{key:"_updateTriggerCharacters",value:function(){var e=this;if(this._triggerCharacterListener.clear(),!this._editor.getOption(81)&&this._editor.hasModel()&&this._editor.getOption(109)){var t,i=new Map,n=(0,s.Z)(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));try{for(n.s();!(t=n.n()).done;){var o,r=t.value,a=(0,s.Z)(r.triggerCharacters||[]);try{for(a.s();!(o=a.n()).done;){var l=o.value,c=i.get(l);c||((c=new Set).add((0,ee.ZJ)()),i.set(l,c)),c.add(r)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){n.e(u)}finally{n.f()}var d=function(t){if(function(e,t,i){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;var n=i.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==n&&Boolean(n)}(e._editor,e._contextKeyService,e._configurationService)&&!ke.shouldAutoTrigger(e._editor)){if(!t){var n=e._editor.getPosition();t=e._editor.getModel().getLineContent(n.lineNumber).substr(0,n.column-1)}var o="";(0,le.YK)(t.charCodeAt(t.length-1))?(0,le.ZG)(t.charCodeAt(t.length-2))&&(o=t.substr(t.length-2)):o=t.charAt(t.length-1);var r=i.get(o);if(r){var s=e._completionModel?{items:e._completionModel.adopt(r),clipboardText:e._completionModel.clipboardText}:void 0;e.trigger({auto:!0,shy:!1,triggerCharacter:o},Boolean(e._completionModel),r,s)}}};this._triggerCharacterListener.add(this._editor.onDidType(d)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd((function(){return d()})))}}},{key:"state",get:function(){return this._state}},{key:"cancel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(e=this._requestToken)||void 0===e||e.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}},{key:"clear",value:function(){this._completionDisposables.clear()}},{key:"_updateActiveSuggestSession",value:function(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}},{key:"_onCursorChange",value:function(e){if(this._editor.hasModel()){var t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():0===this._state&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===e.reason&&this._refilterCompletionItems()}}},{key:"_onCompositionEnd",value:function(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}},{key:"_doTriggerQuickSuggest",value:function(){var e,t=this;!1!==this._editor.getOption(79)&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&(null===(e=N.SnippetController2.get(this._editor))||void 0===e?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(0===t._state&&ke.shouldAutoTrigger(t._editor)&&t._editor.hasModel()){var e=t._editor.getModel(),i=t._editor.getPosition(),n=t._editor.getOption(79);if(!1!==n){if(!0===n);else{e.tokenizeIfCheap(i.lineNumber);var o=e.getLineTokens(i.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(!(n.other&&0===r||n.comments&&1===r||n.strings&&2===r))return}(function(e,t,i){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;var n=i.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==n&&Boolean(n)})(t._editor,t._contextKeyService,t._configurationService)&&t._languageFeaturesService.completionProvider.has(e)&&t.trigger({auto:!0,shy:!1})}}}),this._quickSuggestDelay)))}},{key:"_refilterCompletionItems",value:function(){var e=this;Promise.resolve().then((function(){if(0!==e._state&&e._editor.hasModel()){var t=e._editor.getModel(),i=e._editor.getPosition(),n=new ke(t,i,2===e._state,!1);e._onNewContext(n)}}))}},{key:"trigger",value:function(t){var i,n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(this._editor.hasModel()){var a=this._editor.getModel(),l=t.auto,c=new ke(a,this._editor.getPosition(),l,t.shy);this.cancel(o),this._state=l?2:1,this._onDidTrigger.fire({auto:l,shy:t.shy,position:this._editor.getPosition()}),this._context=c;var d={triggerKind:null!==(i=t.triggerKind)&&void 0!==i?i:0};t.triggerCharacter&&(d={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new h.A;var u=this._editor.getOption(101),p=1;switch(u){case"top":p=0;break;case"bottom":p=2}var f=e._createSuggestFilter(this._editor),v=f.itemKind,_=f.showDeprecated,m=ge.create(this._editorWorkerService,this._editor),y=(0,ee.kL)(this._languageFeaturesService.completionProvider,a,this._editor.getPosition(),new ee.A9(p,v,r,_),d,this._requestToken.token);Promise.all([y,m]).then((function(e){var i=(0,D.Z)(e,2),o=i[0],r=i[1];return Se(n,void 0,void 0,ae().mark((function e(){var i,n,a,c,d,u;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=this._requestToken)||void 0===i||i.dispose(),this._editor.hasModel()){e.next=3;break}return e.abrupt("return");case 3:if((n=null===s||void 0===s?void 0:s.clipboardText)||!o.needsClipboard){e.next=8;break}return e.next=7,this._clipboardService.readText();case 7:n=e.sent;case 8:if(0!==this._state){e.next=10;break}return e.abrupt("return");case 10:a=this._editor.getModel(),c=o.items,s&&(d=(0,ee.wg)(p),c=c.concat(s.items).sort(d)),u=new ke(a,this._editor.getPosition(),l,t.shy),this._completionModel=new _e(c,this._context.column,{leadingLineContent:u.leadingLineContent,characterCountDelta:u.column-this._context.column},r,this._editor.getOption(106),this._editor.getOption(101),n),this._completionDisposables.add(o.disposable),this._onNewContext(u),this._reportDurationsTelemetry(o.durations);case 18:case"end":return e.stop()}}),e,this)})))})).catch(g.dL)}}},{key:"_reportDurationsTelemetry",value:function(e){var t=this;this._telemetryGate++%230===0&&setTimeout((function(){t._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),t._logService.debug("suggest.durations.json",e)}))}},{key:"_onNewContext",value:function(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if((0,le.V8)(e.leadingLineContent)===(0,le.V8)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){var t,i=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel())),n=(0,s.Z)(this._completionModel.allProvider);try{for(n.s();!(t=n.n()).done;){var o=t.value;i.delete(o)}}catch(u){n.e(u)}finally{n.f()}var r=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,i,{items:r,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){var a=this._completionModel.incomplete,l=this._completionModel.adopt(a);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,a,{items:l,clipboardText:this._completionModel.clipboardText})}else{var c=this._completionModel.lineContext,d=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(ke.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=c,(d=this._completionModel.items.length>0)&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:d})}}else this.cancel();else this.cancel()}}],[{key:"_createSuggestFilter",value:function(e){var t=new Set;"none"===e.getOption(101)&&t.add(27);var i=e.getOption(106);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(27),i.showUsers||t.add(25),i.showIssues||t.add(26),{itemKind:t,showDeprecated:i.showDeprecated}}}]),e}();we=ye([be(1,de.p),be(2,pe.p),be(3,fe.b),be(4,J.VZ),be(5,j.i6),be(6,E.Ui),be(7,me.p)],we);var xe=function(){function e(t,i){var n=this;(0,a.Z)(this,e),this._disposables=new v.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(t.onWillType((function(){if(n._empty&&t.hasModel()){for(var i=t.getSelections(),o=i.length,r=!1,s=0;s<o;s++)if(!i[s].isEmpty()){r=!0;break}if(r){n._lastOvertyped=[];for(var a=t.getModel(),l=0;l<o;l++){var c=i[l];if(a.getValueLengthInRange(c)>e._maxSelectionLength)return;n._lastOvertyped[l]={value:a.getValueInRange(c),multiline:c.startLineNumber!==c.endLineNumber}}n._empty=!1}}}))),this._disposables.add(i.onDidCancel((function(e){n._empty||e.retrigger||(n._empty=!0)})))}return(0,l.Z)(e,[{key:"getLastOvertypedInfo",value:function(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}},{key:"dispose",value:function(){this._disposables.dispose()}}]),e}();xe._maxSelectionLength=51200;var Ce=i(53210),Ne=(i(15381),i(34534)),Re=i(53391),De=i(77087),Te=i(95454),Ie=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Le=function(e,t){return function(i,n){t(i,n,e)}},Pe=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,a.Z)(this,i),t.apply(this,arguments)}return(0,l.Z)(i,[{key:"updateLabel",value:function(){var e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return(0,T.Z)((0,I.Z)(i.prototype),"updateLabel",this).call(this);this.label&&(this.label.textContent=(0,X.N)("ddd","{0} ({1})",this._action.label,i.symbolPrintEnter(e)))}}],[{key:"symbolPrintEnter",value:function(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"\u23ce")}}]),i}(i(42306).Mm),Ee=function(){function e(t,i,n,o){(0,a.Z)(this,e),this._menuService=n,this._contextKeyService=o,this._menuDisposables=new v.SL,this.element=Ce.append(t,Ce.$(".suggest-status-bar"));var r=function(e){return e instanceof Y.U8?i.createInstance(Pe,e,void 0):void 0};this._leftActions=new Te.o(this.element,{actionViewItemProvider:r}),this._rightActions=new Te.o(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}return(0,l.Z)(e,[{key:"dispose",value:function(){this._menuDisposables.dispose(),this.element.remove()}},{key:"show",value:function(){var e=this,t=this._menuService.createMenu(ee.GI,this._contextKeyService);this._menuDisposables.add(t.onDidChange((function(){return function(){var i,n=[],o=[],a=(0,s.Z)(t.getActions());try{for(a.s();!(i=a.n()).done;){var l=(0,D.Z)(i.value,2),c=l[0],d=l[1];"left"===c?n.push.apply(n,(0,r.Z)(d)):o.push.apply(o,(0,r.Z)(d))}}catch(u){a.e(u)}finally{a.f()}e._leftActions.clear(),e._leftActions.push(n),e._rightActions.clear(),e._rightActions.push(o)}()}))),this._menuDisposables.add(t)}},{key:"hide",value:function(){this._menuDisposables.clear()}}]),e}();Ee=Ie([Le(1,A.TG),Le(2,Y.co),Le(3,j.i6)],Ee);i(91888);var Me=i(6574),Ae=i(81660),Ze=i(3553),Fe=i(98883),Oe=function(){function e(){var t,i=this;(0,a.Z)(this,e),this._onDidWillResize=new p.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new p.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new v.SL,this._size=new Ce.Dimension(0,0),this._minSize=new Ce.Dimension(0,0),this._maxSize=new Ce.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Fe.g(this.domNode,{getVerticalSashLeft:function(){return i._size.width}},{orientation:0}),this._westSash=new Fe.g(this.domNode,{getVerticalSashLeft:function(){return 0}},{orientation:0}),this._northSash=new Fe.g(this.domNode,{getHorizontalSashTop:function(){return 0}},{orientation:1,orthogonalEdge:Fe.l.North}),this._southSash=new Fe.g(this.domNode,{getHorizontalSashTop:function(){return i._size.height}},{orientation:1,orthogonalEdge:Fe.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;var n=0,o=0;this._sashListener.add(p.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((function(){void 0===t&&(i._onDidWillResize.fire(),t=i._size,n=0,o=0)}))),this._sashListener.add(p.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((function(){void 0!==t&&(t=void 0,n=0,o=0,i._onDidResize.fire({dimension:i._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((function(e){t&&(o=e.currentX-e.startX,i.layout(t.height+n,t.width+o),i._onDidResize.fire({dimension:i._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((function(e){t&&(o=-(e.currentX-e.startX),i.layout(t.height+n,t.width+o),i._onDidResize.fire({dimension:i._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((function(e){t&&(n=-(e.currentY-e.startY),i.layout(t.height+n,t.width+o),i._onDidResize.fire({dimension:i._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((function(e){t&&(n=e.currentY-e.startY,i.layout(t.height+n,t.width+o),i._onDidResize.fire({dimension:i._size,done:!1,south:!0}))}))),this._sashListener.add(p.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)((function(e){i._preferredSize&&(i.layout(i._size.height,i._preferredSize.width),i._onDidResize.fire({dimension:i._size,done:!0}))}))),this._sashListener.add(p.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)((function(e){i._preferredSize&&(i.layout(i._preferredSize.height,i._size.width),i._onDidResize.fire({dimension:i._size,done:!0}))})))}return(0,l.Z)(e,[{key:"dispose",value:function(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}},{key:"enableSashes",value:function(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}},{key:"layout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size.height,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size.width,i=this._minSize,n=i.height,o=i.width,r=this._maxSize,s=r.height,a=r.width;e=Math.max(n,Math.min(s,e)),t=Math.max(o,Math.min(a,t));var l=new Ce.Dimension(t,e);Ce.Dimension.equals(l,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=l,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}},{key:"clearSashHoverState",value:function(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=e}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=e}},{key:"preferredSize",get:function(){return this._preferredSize},set:function(e){this._preferredSize=e}}]),e}(),ze=i(12426),We=i(48301),Ve=i(7579),Be=i(67277),He=i(65163),Ge=i(31492),je=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ue=function(e,t){return function(i,n){t(i,n,e)}};function Ke(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}var qe=function(){function e(t,i){var n=this;(0,a.Z)(this,e),this._editor=t,this._onDidClose=new p.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new p.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new v.SL,this._renderDisposeable=new v.SL,this._borderWidth=1,this._size=new Ce.Dimension(330,0),this.domNode=Ce.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=i.createInstance(He.$,{editor:t}),this._body=Ce.$(".body"),this._scrollbar=new We.s$(this._body,{}),Ce.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Ce.append(this._body,Ce.$(".header")),this._close=Ce.append(this._header,Ce.$("span"+Ve.lA.close.cssSelector)),this._close.title=X.N("details.close","Close"),this._type=Ce.append(this._header,Ce.$("p.type")),this._docs=Ce.append(this._body,Ce.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(44)&&n._configureFont()})))}return(0,l.Z)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._renderDisposeable.dispose()}},{key:"_configureFont",value:function(){var e=this._editor.getOptions(),t=e.get(44),i=t.getMassagedFontFamily(ze.isSafari?Ge.hL.fontFamily:null),n=e.get(107)||t.fontSize,o=e.get(108)||t.lineHeight,r=t.fontWeight,s="".concat(n,"px"),a="".concat(o,"px");this.domNode.style.fontSize=s,this.domNode.style.lineHeight="".concat(o/n),this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=a,this._close.style.width=a}},{key:"getLayoutInfo",value:function(){var e=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}},{key:"renderLoading",value:function(){this._type.textContent=X.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}},{key:"renderItem",value:function(e,t){var i,n,o=this;this._renderDisposeable.clear();var r=e.completion,s=r.detail,a=r.documentation;if(t){var l="";l+="score: ".concat(e.score[0],"\n"),l+="prefix: ".concat(null!==(i=e.word)&&void 0!==i?i:"(no prefix)","\n"),l+="word: ".concat(e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel,"\n"),l+="distance: ".concat(e.distance," (localityBonus-setting)\n"),l+="index: ".concat(e.idx,", based on ").concat(e.completion.sortText&&'sortText: "'.concat(e.completion.sortText,'"')||"label","\n"),l+="commit_chars: ".concat(null===(n=e.completion.commitCharacters)||void 0===n?void 0:n.join(""),"\n"),a=(new Be.W5).appendCodeblock("empty",l),s="Provider: ".concat(e.provider._debugDisplayName)}if(t||Ke(e)){if(this.domNode.classList.remove("no-docs","no-type"),s){var c=s.length>1e5?"".concat(s.substr(0,1e5),"\u2026"):s;this._type.textContent=c,this._type.title=c,Ce.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(c))}else Ce.clearNode(this._type),this._type.title="",Ce.hide(this._type),this.domNode.classList.add("no-type");if(Ce.clearNode(this._docs),"string"===typeof a)this._docs.classList.remove("markdown-docs"),this._docs.textContent=a;else if(a){this._docs.classList.add("markdown-docs"),Ce.clearNode(this._docs);var d=this._markdownRenderer.render(a);this._docs.appendChild(d.element),this._renderDisposeable.add(d),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((function(){o.layout(o._size.width,o._type.clientHeight+o._docs.clientHeight),o._onDidChangeContents.fire(o)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this._close.onclick=function(e){e.preventDefault(),e.stopPropagation(),o._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}},{key:"clearContents",value:function(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}},{key:"size",get:function(){return this._size}},{key:"layout",value:function(e,t){var i=new Ce.Dimension(e,t);Ce.Dimension.equals(i,this._size)||(this._size=i,Ce.size(this.domNode,e,t)),this._scrollbar.scanDomNode()}},{key:"scrollDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;this._body.scrollTop+=e}},{key:"scrollUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;this._body.scrollTop-=e}},{key:"scrollTop",value:function(){this._body.scrollTop=0}},{key:"scrollBottom",value:function(){this._body.scrollTop=this._body.scrollHeight}},{key:"pageDown",value:function(){this.scrollDown(80)}},{key:"pageUp",value:function(){this.scrollUp(80)}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e}}]),e}();qe=je([Ue(1,A.TG)],qe);var Xe,Ye=function(){function e(t,i){var n,o,r=this;(0,a.Z)(this,e),this.widget=t,this._editor=i,this._disposables=new v.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Oe,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);var s=0,l=0;this._disposables.add(this._resizable.onDidWillResize((function(){n=r._topLeft,o=r._resizable.size}))),this._disposables.add(this._resizable.onDidResize((function(e){if(n&&o){r.widget.layout(e.dimension.width,e.dimension.height);var t=!1;e.west&&(l=o.width-e.dimension.width,t=!0),e.north&&(s=o.height-e.dimension.height,t=!0),t&&r._applyTopLeft({top:n.top+s,left:n.left+l})}e.done&&(n=void 0,o=void 0,s=0,l=0,r._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((function(){var e;r._anchorBox&&r._placeAtAnchor(r._anchorBox,null!==(e=r._userSize)&&void 0!==e?e:r.widget.size,r._preferAlignAtTop)})))}return(0,l.Z)(e,[{key:"dispose",value:function(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}},{key:"getId",value:function(){return"suggest.details"}},{key:"getDomNode",value:function(){return this._resizable.domNode}},{key:"getPosition",value:function(){return null}},{key:"show",value:function(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}},{key:"placeAtAnchor",value:function(e,t){var i,n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,null!==(i=this._userSize)&&void 0!==i?i:this.widget.size,t)}},{key:"_placeAtAnchor",value:function(e,t,i){var n,o,r,s=Ce.getClientArea(document.body),a=this.widget.getLayoutInfo(),l=new Ce.Dimension(220,2*a.lineHeight),c=e.top,d=function(){var i=s.width-(e.left+e.width+a.borderWidth+a.horizontalPadding),n=-a.borderWidth+e.left+e.width,o=new Ce.Dimension(i,s.height-e.top-a.borderHeight-a.verticalPadding),r=o.with(void 0,e.top+e.height-a.borderHeight-a.verticalPadding);return{top:c,left:n,fit:i-t.width,maxSizeTop:o,maxSizeBottom:r,minSize:l.with(Math.min(i,l.width))}}(),u=[d,function(){var i=e.left-a.borderWidth-a.horizontalPadding,n=Math.max(a.horizontalPadding,e.left-t.width-a.borderWidth),o=new Ce.Dimension(i,s.height-e.top-a.borderHeight-a.verticalPadding),r=o.with(void 0,e.top+e.height-a.borderHeight-a.verticalPadding);return{top:c,left:n,fit:i-t.width,maxSizeTop:o,maxSizeBottom:r,minSize:l.with(Math.min(i,l.width))}}(),function(){var i=e.left,n=-a.borderWidth+e.top+e.height,o=new Ce.Dimension(e.width-a.borderHeight,s.height-e.top-e.height-a.verticalPadding);return{top:n,left:i,fit:o.height-t.height,maxSizeBottom:o,maxSizeTop:o,minSize:l.with(o.width)}}()],h=null!==(n=u.find((function(e){return e.fit>=0})))&&void 0!==n?n:u.sort((function(e,t){return t.fit-e.fit}))[0],g=e.top+e.height-a.borderHeight,p=t.height,f=Math.max(h.maxSizeTop.height,h.maxSizeBottom.height);p>f&&(p=f),i?p<=h.maxSizeTop.height?(o=!0,r=h.maxSizeTop):(o=!1,r=h.maxSizeBottom):p<=h.maxSizeBottom.height?(o=!1,r=h.maxSizeBottom):(o=!0,r=h.maxSizeTop),this._applyTopLeft({left:h.left,top:o?h.top:g-p}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!o,h===d,o,h!==d),this._resizable.minSize=h.minSize,this._resizable.maxSize=r,this._resizable.layout(p,Math.min(r.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}},{key:"_applyTopLeft",value:function(e){this._topLeft=e,this.getDomNode().style.left="".concat(this._topLeft.left,"px"),this.getDomNode().style.top="".concat(this._topLeft.top,"px")}}]),e}(),Qe=i(65149),$e=i(50605),Je=i(54425),et=i(74463),tt=i(63024),it=i(41998),nt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ot=function(e,t){return function(i,n){t(i,n,e)}};function rt(e){return"suggest-aria-id:".concat(e)}var st=(0,i(18191).q5)("suggest-more-info",Ve.lA.chevronRight,X.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),at=new((Xe=function(){function e(){(0,a.Z)(this,e)}return(0,l.Z)(e,[{key:"extract",value:function(t,i){if(t.textLabel.match(e._regexStrict))return i[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return i[0]=t.completion.detail,!0;if("string"===typeof t.completion.documentation){var n=e._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return i[0]=n[0],!0}return!1}}]),e}())._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Xe._regexStrict=new RegExp("^".concat(Xe._regexRelaxed.source,"$"),"i"),Xe),lt=function(){function e(t,i,n,o){(0,a.Z)(this,e),this._editor=t,this._modelService=i,this._languageService=n,this._themeService=o,this._onDidToggleDetails=new p.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}return(0,l.Z)(e,[{key:"dispose",value:function(){this._onDidToggleDetails.dispose()}},{key:"renderTemplate",value:function(e){var t=this,i=Object.create(null);i.disposables=new v.SL,i.root=e,i.root.classList.add("show-file-icons"),i.icon=(0,Ce.append)(e,(0,Ce.$)(".icon")),i.colorspan=(0,Ce.append)(i.icon,(0,Ce.$)("span.colorspan"));var n=(0,Ce.append)(e,(0,Ce.$)(".contents")),o=(0,Ce.append)(n,(0,Ce.$)(".main"));i.iconContainer=(0,Ce.append)(o,(0,Ce.$)(".icon-label.codicon")),i.left=(0,Ce.append)(o,(0,Ce.$)("span.left")),i.right=(0,Ce.append)(o,(0,Ce.$)("span.right")),i.iconLabel=new Qe.g(i.left,{supportHighlights:!0,supportIcons:!0}),i.disposables.add(i.iconLabel),i.parametersLabel=(0,Ce.append)(i.left,(0,Ce.$)("span.signature-label")),i.qualifierLabel=(0,Ce.append)(i.left,(0,Ce.$)("span.qualifier-label")),i.detailsLabel=(0,Ce.append)(i.right,(0,Ce.$)("span.details-label")),i.readMore=(0,Ce.append)(i.right,(0,Ce.$)("span.readMore"+Ze.kS.asCSSSelector(st))),i.readMore.title=X.N("readMore","Read More");var r=function(){var e=t._editor.getOptions(),n=e.get(44),r=n.getMassagedFontFamily(ze.isSafari?Ge.hL.fontFamily:null),s=n.fontFeatureSettings,a=e.get(107)||n.fontSize,l=e.get(108)||n.lineHeight,c=n.fontWeight,d="".concat(a,"px"),u="".concat(l,"px");i.root.style.fontSize=d,i.root.style.fontWeight=c,o.style.fontFamily=r,o.style.fontFeatureSettings=s,o.style.lineHeight=u,i.icon.style.height=u,i.icon.style.width=u,i.readMore.style.height=u,i.readMore.style.width=u};return r(),i.disposables.add(this._editor.onDidChangeConfiguration((function(e){(e.hasChanged(44)||e.hasChanged(107)||e.hasChanged(108))&&r()}))),i}},{key:"renderElement",value:function(e,t,i){var n=this,o=e.completion;i.root.id=rt(t),i.colorspan.style.backgroundColor="";var s={labelEscapeNewLines:!0,matches:(0,ve.mB)(e.score)},a=[];if(19===o.kind&&at.extract(e,a))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=a[0];else if(20===o.kind&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";var l=(0,Je.r)(this._modelService,this._languageService,$e.o.from({scheme:"fake",path:e.textLabel}),it.R.FILE),c=(0,Je.r)(this._modelService,this._languageService,$e.o.from({scheme:"fake",path:o.detail}),it.R.FILE);s.extraClasses=l.length>c.length?l:c}else if(23===o.kind&&this._themeService.getFileIconTheme().hasFolderIcons)i.icon.className="icon hide",i.iconContainer.className="icon hide",s.extraClasses=(0,d.xH)([(0,Je.r)(this._modelService,this._languageService,$e.o.from({scheme:"fake",path:e.textLabel}),it.R.FOLDER),(0,Je.r)(this._modelService,this._languageService,$e.o.from({scheme:"fake",path:o.detail}),it.R.FOLDER)]);else{var u;i.icon.className="icon hide",i.iconContainer.className="",(u=i.iconContainer.classList).add.apply(u,["suggest-icon"].concat((0,r.Z)(Ve.dT.asClassNameArray(P.gX.toIcon(o.kind)))))}o.tags&&o.tags.indexOf(1)>=0&&(s.extraClasses=(s.extraClasses||[]).concat(["deprecated"]),s.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,s),"string"===typeof o.label?(i.parametersLabel.textContent="",i.detailsLabel.textContent=ct(o.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=ct(o.label.detail||""),i.detailsLabel.textContent=ct(o.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,Ce.show)(i.detailsLabel):(0,Ce.hide)(i.detailsLabel),Ke(e)?(i.right.classList.add("can-expand-details"),(0,Ce.show)(i.readMore),i.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},i.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),n._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),(0,Ce.hide)(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}},{key:"disposeTemplate",value:function(e){e.disposables.dispose()}}]),e}();function ct(e){return e.replace(/\r\n|\r|\n/g,"")}lt=nt([ot(1,et.q),ot(2,tt.O),ot(3,Ze.XE)],lt);var dt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ut=function(e,t){return function(i,n){t(i,n,e)}},ht=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},gt=((0,Me.P6G)("editorSuggestWidget.background",{dark:Me.D0T,light:Me.D0T,hc:Me.D0T},X.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,Me.P6G)("editorSuggestWidget.border",{dark:Me.D1_,light:Me.D1_,hc:Me.D1_},X.N("editorSuggestWidgetBorder","Border color of the suggest widget.")),(0,Me.P6G)("editorSuggestWidget.foreground",{dark:Me.NOs,light:Me.NOs,hc:Me.NOs},X.N("editorSuggestWidgetForeground","Foreground color of the suggest widget."))),pt=((0,Me.P6G)("editorSuggestWidget.selectedForeground",{dark:Me.NPS,light:Me.NPS,hc:Me.NPS},X.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,Me.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Me.cbQ,light:Me.cbQ,hc:Me.cbQ},X.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,Me.P6G)("editorSuggestWidget.selectedBackground",{dark:Me.Vqd,light:Me.Vqd,hc:Me.Vqd},X.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."))),ft=((0,Me.P6G)("editorSuggestWidget.highlightForeground",{dark:Me.Gwp,light:Me.Gwp,hc:Me.Gwp},X.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,Me.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Me.PX0,light:Me.PX0,hc:Me.PX0},X.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,Me.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Me.ZnX)(gt,.5),light:(0,Me.ZnX)(gt,.5),hc:(0,Me.ZnX)(gt,.5)},X.N("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status.")),function(){function e(t,i){(0,a.Z)(this,e),this._service=t,this._key="suggestWidget.size/".concat(i.getEditorType(),"/").concat(i instanceof De.H)}return(0,l.Z)(e,[{key:"restore",value:function(){var e,t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{var i=JSON.parse(t);if(Ce.Dimension.is(i))return Ce.Dimension.lift(i)}catch(n){}}},{key:"store",value:function(e){this._service.store(this._key,JSON.stringify(e),0,1)}},{key:"reset",value:function(){this._service.remove(this._key,0)}}]),e}()),vt=function(){function e(t,i,n,o,r){var s=this;(0,a.Z)(this,e),this.editor=t,this._storageService=i,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new u._F,this._disposables=new v.SL,this._onDidSelect=new p.Q5,this._onDidFocus=new p.Q5,this._onDidHide=new p.Q5,this._onDidShow=new p.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new p.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Oe,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new _t(this,t),this._persistedSize=new ft(i,t);var c,d=(0,l.Z)((function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,a.Z)(this,e),this.persistedSize=t,this.currentSize=i,this.persistHeight=n,this.persistWidth=o}));this._disposables.add(this.element.onDidWillResize((function(){s._contentWidget.lockPreference(),c=new d(s._persistedSize.restore(),s.element.size)}))),this._disposables.add(this.element.onDidResize((function(e){var t,i,n,o;if(s._resize(e.dimension.width,e.dimension.height),c&&(c.persistHeight=c.persistHeight||!!e.north||!!e.south,c.persistWidth=c.persistWidth||!!e.east||!!e.west),e.done){if(c){var r=s.getLayoutInfo(),a=r.itemHeight,l=r.defaultSize,d=Math.round(a/2),u=s.element.size,h=u.width,g=u.height;(!c.persistHeight||Math.abs(c.currentSize.height-g)<=d)&&(g=null!==(i=null===(t=c.persistedSize)||void 0===t?void 0:t.height)&&void 0!==i?i:l.height),(!c.persistWidth||Math.abs(c.currentSize.width-h)<=d)&&(h=null!==(o=null===(n=c.persistedSize)||void 0===n?void 0:n.width)&&void 0!==o?o:l.width),s._persistedSize.store(new Ce.Dimension(h,g))}s._contentWidget.unlockPreference(),c=void 0}}))),this._messageElement=Ce.append(this.element.domNode,Ce.$(".message")),this._listElement=Ce.append(this.element.domNode,Ce.$(".tree"));var h=r.createInstance(qe,this.editor);h.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Ye(h,this.editor);var g=function(){return s.element.domNode.classList.toggle("no-icons",!s.editor.getOption(106).showIcons)};g();var f=r.createInstance(lt,this.editor);this._disposables.add(f),this._disposables.add(f.onDidToggleDetails((function(){return s.toggleDetails()}))),this._list=new Ne.aV("SuggestWidget",this._listElement,{getHeight:function(e){return s.getLayoutInfo().itemHeight},getTemplateId:function(e){return"suggestion"}},[f],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:function(){return"option"},getWidgetAriaLabel:function(){return X.N("suggest","Suggest")},getWidgetRole:function(){return"listbox"},getAriaLabel:function(e){var t=e.textLabel;if("string"!==typeof e.completion.label){var i=e.completion.label,n=i.detail,o=i.description;n&&o?t=X.N("label.full","{0}{1}, {2}",t,n,o):n?t=X.N("label.detail","{0}{1}",t,n):o&&(t=X.N("label.desc","{0}, {1}",t,o))}if(!e.isResolved||!s._isDetailsVisible())return t;var r=e.completion,a=r.documentation,l=r.detail,c=le.WU("{0}{1}",l||"",a?"string"===typeof a?a:a.value:"");return X.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",t,c)}}}),this._status=r.createInstance(Ee,this.element.domNode);var _=function(){return s.element.domNode.classList.toggle("with-status-bar",s.editor.getOption(106).showStatusBar)};_(),this._disposables.add((0,Ae.Jl)(this._list,o,{listInactiveFocusBackground:pt,listInactiveFocusOutline:Me.xL1})),this._disposables.add(o.onDidColorThemeChange((function(e){return s._onThemeChange(e)}))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown((function(e){return s._onListMouseDownOrTap(e)}))),this._disposables.add(this._list.onTap((function(e){return s._onListMouseDownOrTap(e)}))),this._disposables.add(this._list.onDidChangeSelection((function(e){return s._onListSelection(e)}))),this._disposables.add(this._list.onDidChangeFocus((function(e){return s._onListFocus(e)}))),this._disposables.add(this.editor.onDidChangeCursorSelection((function(){return s._onCursorSelectionChanged()}))),this._disposables.add(this.editor.onDidChangeConfiguration((function(e){e.hasChanged(106)&&(_(),g())}))),this._ctxSuggestWidgetVisible=ee._y.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=ee._y.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=ee._y.MultipleSuggestions.bindTo(n),this._disposables.add(Ce.addStandardDisposableListener(this._details.widget.domNode,"keydown",(function(e){s._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((function(e){return s._onEditorMouseDown(e)})))}return(0,l.Z)(e,[{key:"dispose",value:function(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}},{key:"_onEditorMouseDown",value:function(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}},{key:"_onCursorSelectionChanged",value:function(){0!==this._state&&this._contentWidget.layout()}},{key:"_onListMouseDownOrTap",value:function(e){"undefined"!==typeof e.element&&"undefined"!==typeof e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}},{key:"_onListSelection",value:function(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}},{key:"_select",value:function(e,t){var i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}},{key:"_onThemeChange",value:function(e){this._details.widget.borderWidth="hc"===e.type?2:1}},{key:"_onListFocus",value:function(e){var t,i=this;if(!this._ignoreFocusEvents){if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(this._completionModel){var n=e.elements[0],o=e.indexes[0];n!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(o),this._currentSuggestionDetails=(0,u.PG)((function(e){return ht(i,void 0,void 0,ae().mark((function t(){var i,o,r,s=this;return ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,u.Vg)((function(){s._isDetailsVisible()&&s.showDetails(!0)}),250),o=e.onCancellationRequested((function(){return i.dispose()})),t.next=4,n.resolve(e);case 4:return r=t.sent,i.dispose(),o.dispose(),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))})),this._currentSuggestionDetails.then((function(){o>=i._list.length||n!==i._list.element(o)||(i._ignoreFocusEvents=!0,i._list.splice(o,1,[n]),i._list.setFocus([o]),i._ignoreFocusEvents=!1,i._isDetailsVisible()?i.showDetails(!1):i.element.domNode.classList.remove("docs-side"),i.editor.setAriaOptions({activeDescendant:rt(o)}))})).catch(g.dL)),this._onDidFocus.fire({item:n,index:o,model:this._completionModel})}}}},{key:"_setState",value:function(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:Ce.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,Ce.hide(this._listElement,this._status.element),Ce.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,Ce.hide(this._listElement,this._status.element),Ce.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:Ce.hide(this._messageElement),Ce.show(this._listElement,this._status.element),this._show();break;case 5:Ce.hide(this._messageElement),Ce.show(this._listElement,this._status.element),this._details.show(),this._show()}}},{key:"_show",value:function(){var e=this;this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((function(){e.element.domNode.classList.add("visible"),e._onDidShow.fire(e)}),100)}},{key:"showTriggered",value:function(e,t){var i=this;0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,u.Vg)((function(){return i._setState(1)}),t)))}},{key:"showSuggestions",value:function(e,t,i,n){var o,r;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(o=this._loadingTimeout)||void 0===o||o.dispose(),null===(r=this._currentSuggestionDetails)||void 0===r||r.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&2!==this._state&&0!==this._state)this._setState(4);else{var s=this._completionModel.items.length,a=0===s;if(this._ctxSuggestWidgetMultipleSuggestions.set(s>1),a)return this._setState(n?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}}},{key:"selectNextPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}},{key:"selectNext",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}},{key:"selectLast",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}},{key:"selectPreviousPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}},{key:"selectPrevious",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}},{key:"selectFirst",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}},{key:"getFocusedItem",value:function(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}},{key:"toggleDetailsFocus",value:function(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}},{key:"toggleDetails",value:function(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!Ke(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}},{key:"showDetails",value:function(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}},{key:"toggleExplainMode",value:function(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}},{key:"resetPersistedSize",value:function(){this._persistedSize.reset()}},{key:"hideWidget",value:function(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();var t=this._persistedSize.restore(),i=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}},{key:"isFrozen",value:function(){return 4===this._state}},{key:"_afterRender",value:function(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}},{key:"_layout",value:function(e){var t,i,n;if(this.editor.hasModel()&&this.editor.getDomNode()){var o=Ce.getClientArea(document.body),r=this.getLayoutInfo();e||(e=r.defaultSize);var s=e.height,a=e.width;if(this._status.element.style.lineHeight="".concat(r.itemHeight,"px"),2===this._state||1===this._state)s=r.itemHeight+r.borderHeight,a=r.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Ce.Dimension(a,s),this._contentWidget.setPreference(2);else{var l=o.width-r.borderHeight-2*r.horizontalPadding;a>l&&(a=l);var c=this._completionModel?this._completionModel.stats.pLabelLen*r.typicalHalfwidthCharacterWidth:a,d=r.statusBarHeight+this._list.contentHeight+r.borderHeight,u=r.itemHeight+r.statusBarHeight,h=Ce.getDomNodePagePosition(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=h.top+g.top+g.height,f=Math.min(o.height-p-r.verticalPadding,d),v=h.top+g.top-r.verticalPadding,_=Math.min(v,d),m=Math.min(Math.max(_,f)+r.borderHeight,d);s===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(s=this._cappedHeight.wanted),s<u&&(s=u),s>m&&(s=m);s>f||this._forceRenderingAbove&&v>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),m=_):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),m=f),this.element.preferredSize=new Ce.Dimension(c,r.defaultSize.height),this.element.maxSize=new Ce.Dimension(l,m),this.element.minSize=new Ce.Dimension(220,u),this._cappedHeight=s===d?{wanted:null!==(n=null===(i=this._cappedHeight)||void 0===i?void 0:i.wanted)&&void 0!==n?n:e.height,capped:s}:void 0}this._resize(a,s)}}},{key:"_resize",value:function(e,t){var i=this.element.maxSize,n=i.width,o=i.height;e=Math.min(n,e),t=Math.min(o,t);var r=this.getLayoutInfo().statusBarHeight;this._list.layout(t-r,e),this._listElement.style.height="".concat(t-r,"px"),this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}},{key:"_positionDetails",value:function(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(e=this._contentWidget.getPosition())||void 0===e?void 0:e.preference[0]))}},{key:"getLayoutInfo",value:function(){var e=this.editor.getOption(44),t=(0,Re.uZ)(this.editor.getOption(108)||e.lineHeight,8,1e3),i=this.editor.getOption(106).showStatusBar&&2!==this._state&&1!==this._state?t:0,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Ce.Dimension(430,i+12*t+o)}}},{key:"_isDetailsVisible",value:function(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}},{key:"_setDetailsVisible",value:function(e){this._storageService.store("expandSuggestionDocs",e,0,0)}},{key:"forceRenderingAbove",value:function(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}},{key:"stopForceRenderingAbove",value:function(){this._forceRenderingAbove=!1}}]),e}();vt.LOADING_MESSAGE=X.N("suggestWidget.loading","Loading..."),vt.NO_SUGGESTIONS_MESSAGE=X.N("suggestWidget.noSuggestions","No suggestions."),vt=dt([ut(1,Z.Uy),ut(2,j.i6),ut(3,Ze.XE),ut(4,A.TG)],vt);var _t=function(){function e(t,i){(0,a.Z)(this,e),this._widget=t,this._editor=i,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}return(0,l.Z)(e,[{key:"dispose",value:function(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}},{key:"getId",value:function(){return"editor.widget.suggestWidget"}},{key:"getDomNode",value:function(){return this._widget.element.domNode}},{key:"show",value:function(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}},{key:"hide",value:function(){this._hidden||(this._hidden=!0,this.layout())}},{key:"layout",value:function(){this._editor.layoutContentWidget(this)}},{key:"getPosition",value:function(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}},{key:"beforeRender",value:function(){var e=this._widget.element.size,t=e.height,i=e.width,n=this._widget.getLayoutInfo(),o=n.borderWidth,r=n.horizontalPadding;return new Ce.Dimension(i+2*o+r,t+2*o)}},{key:"afterRender",value:function(e){this._widget._afterRender(e)}},{key:"setPreference",value:function(e){this._preferenceLocked||(this._preference=e)}},{key:"lockPreference",value:function(){this._preferenceLocked=!0}},{key:"unlockPreference",value:function(){this._preferenceLocked=!1}},{key:"setPosition",value:function(e){this._position=e}}]),e}(),mt=i(34408),yt=i(13059),bt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},St=function(e,t){return function(i,n){t(i,n,e)}},kt=function(){function e(t,i){if((0,a.Z)(this,e),this._model=t,this._position=i,t.getLineMaxColumn(i.lineNumber)!==i.column){var n=t.getOffsetAt(i),o=t.getPositionAt(n+1);this._marker=t.deltaDecorations([],[{range:x.e.fromPositions(i,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}return(0,l.Z)(e,[{key:"dispose",value:function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}},{key:"delta",value:function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}]),e}(),wt=function(){function e(t,i,n,o,r,l,c){var d=this;(0,a.Z)(this,e),this._memoryService=i,this._commandService=n,this._contextKeyService=o,this._instantiationService=r,this._logService=l,this._telemetryService=c,this._lineSuffix=new v.XK,this._toDispose=new v.SL,this._selectors=new xt((function(e){return e.priority})),this._telemetryGate=0,this.editor=t,this.model=r.createInstance(we,this.editor);var h=ee._y.InsertMode.bindTo(o);h.set(t.getOption(106).insertMode),this.model.onDidTrigger((function(){return h.set(t.getOption(106).insertMode)})),this.widget=this._toDispose.add(new u.Ue((function(){var e=d._instantiationService.createInstance(vt,d.editor);d._toDispose.add(e),d._toDispose.add(e.onDidSelect((function(e){return d._insertSuggestion(e,0)}),d));var t=new re(d.editor,e,(function(e){return d._insertSuggestion(e,2)}));d._toDispose.add(t),d._toDispose.add(d.model.onDidSuggest((function(e){0===e.completionModel.items.length&&t.reset()})));var i=ee._y.MakesTextEdit.bindTo(d._contextKeyService),n=ee._y.HasInsertAndReplaceRange.bindTo(d._contextKeyService),o=ee._y.CanResolve.bindTo(d._contextKeyService);return d._toDispose.add((0,v.OF)((function(){i.reset(),n.reset(),o.reset()}))),d._toDispose.add(e.onDidFocus((function(e){var t=e.item,r=d.editor.getPosition(),s=t.editStart.column,a=r.column,l=!0;"smart"!==d.editor.getOption(1)||2!==d.model.state||t.completion.additionalTextEdits||4&t.completion.insertTextRules||a-s!==t.completion.insertText.length||(l=d.editor.getModel().getValueInRange({startLineNumber:r.lineNumber,startColumn:s,endLineNumber:r.lineNumber,endColumn:a})!==t.completion.insertText);i.set(l),n.set(!w.L.equals(t.editInsertEnd,t.editReplaceEnd)),o.set(Boolean(t.provider.resolveCompletionItem)||Boolean(t.completion.documentation)||t.completion.detail!==t.completion.label)}))),d._toDispose.add(e.onDetailsKeyDown((function(e){e.toKeybinding().equals(new f.QC(!0,!1,!1,!1,33))||_.dz&&e.toKeybinding().equals(new f.QC(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||d.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new u.Ue((function(){return d._toDispose.add(new xe(d.editor,d.model))}))),this._alternatives=this._toDispose.add(new u.Ue((function(){return d._toDispose.add(new ne(d.editor,d._contextKeyService))}))),this._toDispose.add(r.createInstance(q,t)),this._toDispose.add(this.model.onDidTrigger((function(e){d.widget.value.showTriggered(e.auto,e.shy?250:50),d._lineSuffix.value=new kt(d.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((function(e){if(!e.shy){var t,i=-1,n=(0,s.Z)(d._selectors.itemsOrderedByPriorityDesc);try{for(n.s();!(t=n.n()).done;){if(-1!==(i=t.value.select(d.editor.getModel(),d.editor.getPosition(),e.completionModel.items)))break}}catch(o){n.e(o)}finally{n.f()}-1===i&&(i=d._memoryService.select(d.editor.getModel(),d.editor.getPosition(),e.completionModel.items)),d.widget.value.showSuggestions(e.completionModel,i,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((function(e){e.retrigger||d.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){d.model.cancel(),d.model.clear()})));var g=ee._y.AcceptSuggestionsOnEnter.bindTo(o),p=function(){var e=d.editor.getOption(1);g.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return p()}))),p()}return(0,l.Z)(e,[{key:"dispose",value:function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}},{key:"_insertSuggestion",value:function(e,t){var i=this;if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){var n=N.SnippetController2.get(this.editor);if(n){var o=this.editor.getModel(),a=o.getAlternativeVersionId(),l=e.item,c=[],d=new h.A;1&t||this.editor.pushUndoStop();var u=this.getOverwriteInfo(l,Boolean(8&t));if(this._memoryService.memorize(o,this.editor.getPosition(),l),Array.isArray(l.completion.additionalTextEdits)){var p=b.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",l.completion.additionalTextEdits.map((function(e){return k.h.replace(x.e.lift(e.range),e.text)}))),p.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!l.isResolved){var f,v=new m.G(!0),_=o.onDidChangeContent((function(e){if(e.isFlush)return d.cancel(),void _.dispose();var t,i=(0,s.Z)(e.changes);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=x.e.getEndPosition(n.range);f&&!w.L.isBefore(o,f)||(f=o)}}catch(r){i.e(r)}finally{i.f()}})),y=t;t|=2;var S=!1,C=this.editor.onWillType((function(){C.dispose(),S=!0,2&y||i.editor.pushUndoStop()}));c.push(l.resolve(d.token).then((function(){if(!l.completion.additionalTextEdits||d.token.isCancellationRequested)return!1;if(f&&l.completion.additionalTextEdits.some((function(e){return w.L.isBefore(f,x.e.getStartPosition(e.range))})))return!1;S&&i.editor.pushUndoStop();var e=b.Z.capture(i.editor);return i.editor.executeEdits("suggestController.additionalTextEdits.async",l.completion.additionalTextEdits.map((function(e){return k.h.replace(x.e.lift(e.range),e.text)}))),e.restoreRelativeVerticalPositionOfCursor(i.editor),!S&&2&y||i.editor.pushUndoStop(),!0})).then((function(e){i._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",v.elapsed(),e),_.dispose(),C.dispose()})))}var D=l.completion.insertText;if(4&l.completion.insertTextRules||(D=R.Yj.escape(D)),n.insert(D,{overwriteBefore:u.overwriteBefore,overwriteAfter:u.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&l.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),l.completion.command)if(l.completion.command.id===Ct.id)this.model.trigger({auto:!0,shy:!1},!0);else{var T;c.push((T=this._commandService).executeCommand.apply(T,[l.completion.command.id].concat((0,r.Z)(l.completion.command.arguments?(0,r.Z)(l.completion.command.arguments):[]))).catch(g.dL)),this.model.cancel()}else this.model.cancel();4&t&&this._alternatives.value.set(e,(function(e){for(d.cancel();o.canUndo();){a!==o.getAlternativeVersionId()&&o.undo(),i._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(l),Promise.all(c).finally((function(){i._reportSuggestionAcceptedTelemetry(o,e),i.model.clear(),d.dispose()}))}}}},{key:"_reportSuggestionAcceptedTelemetry",value:function(e,t){var i;if(this._telemetryGate++%100===0){var n=(null!==(i=t.item.provider._debugDisplayName)&&void 0!==i?i:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:n,basenameHash:(0,yt.vp)((0,mt.EZ)(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:(0,mt.DZ)(e.uri)})}}},{key:"getOverwriteInfo",value:function(e,t){(0,y.p_)(this.editor.hasModel());var i="replace"===this.editor.getOption(106).insertMode;t&&(i=!i);var n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:n+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}},{key:"_alertCompletionItem",value:function(e){if((0,d.Of)(e.completion.additionalTextEdits)){var t=X.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,c.Z9)(t)}}},{key:"triggerSuggest",value:function(e,t){this.editor.hasModel()&&(this.model.trigger({auto:null!==t&&void 0!==t&&t,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}},{key:"triggerSuggestAndAcceptBest",value:function(e){var t=this;if(this.editor.hasModel()){var i=this.editor.getPosition(),n=function(){i.equals(t.editor.getPosition())&&t._commandService.executeCommand(e.fallback)};p.ju.once(this.model.onDidTrigger)((function(e){var i=[];p.ju.any(t.model.onDidTrigger,t.model.onDidCancel)((function(){(0,v.B9)(i),n()}),void 0,i),t.model.onDidSuggest((function(e){var o=e.completionModel;if((0,v.B9)(i),0!==o.items.length){var r=t._memoryService.select(t.editor.getModel(),t.editor.getPosition(),o.items),s=o.items[r];!function(e){if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;var i=t.editor.getPosition(),n=e.editStart.column,o=i.column;return o-n!==e.completion.insertText.length||t.editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:n,endLineNumber:i.lineNumber,endColumn:o})!==e.completion.insertText}(s)?n():(t.editor.pushUndoStop(),t._insertSuggestion({index:r,item:s,model:o},7))}else n()}),void 0,i)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(i,0),this.editor.focus()}}},{key:"acceptSelectedSuggestion",value:function(e,t){var i=this.widget.value.getFocusedItem(),n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}},{key:"acceptNextSuggestion",value:function(){this._alternatives.value.next()}},{key:"acceptPrevSuggestion",value:function(){this._alternatives.value.prev()}},{key:"cancelSuggestWidget",value:function(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}},{key:"selectNextSuggestion",value:function(){this.widget.value.selectNext()}},{key:"selectNextPageSuggestion",value:function(){this.widget.value.selectNextPage()}},{key:"selectLastSuggestion",value:function(){this.widget.value.selectLast()}},{key:"selectPrevSuggestion",value:function(){this.widget.value.selectPrevious()}},{key:"selectPrevPageSuggestion",value:function(){this.widget.value.selectPreviousPage()}},{key:"selectFirstSuggestion",value:function(){this.widget.value.selectFirst()}},{key:"toggleSuggestionDetails",value:function(){this.widget.value.toggleDetails()}},{key:"toggleExplainMode",value:function(){this.widget.value.toggleExplainMode()}},{key:"toggleSuggestionFocus",value:function(){this.widget.value.toggleDetailsFocus()}},{key:"resetWidgetSize",value:function(){this.widget.value.resetPersistedSize()}},{key:"forceRenderingAbove",value:function(){this.widget.value.forceRenderingAbove()}},{key:"stopForceRenderingAbove",value:function(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}},{key:"registerSelector",value:function(e){return this._selectors.register(e)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();wt.ID="editor.contrib.suggestController",wt=bt([St(1,G),St(2,Q.Hy),St(3,j.i6),St(4,A.TG),St(5,J.VZ),St(6,fe.b)],wt);var xt=function(){function e(t){(0,a.Z)(this,e),this.prioritySelector=t,this._items=new Array}return(0,l.Z)(e,[{key:"register",value:function(e){var t=this;if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort((function(e,i){return t.prioritySelector(i)-t.prioritySelector(e)})),{dispose:function(){var i=t._items.indexOf(e);i>=0&&t._items.splice(i,1)}}}},{key:"itemsOrderedByPriorityDesc",get:function(){return this._items}}]),e}(),Ct=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,a.Z)(this,i),t.call(this,{id:i.id,label:X.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:j.Ao.and(C.u.writable,C.u.hasCompletionItemProvider),kbOpts:{kbExpr:C.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}return(0,l.Z)(i,[{key:"run",value:function(e,t,i){var n,o=wt.get(t);o&&(i&&"object"===typeof i&&!0===i.auto&&(n=!0),o.triggerSuggest(void 0,n))}}]),i}(S.R6);Ct.id="editor.action.triggerSuggest",(0,S._K)(wt.ID,wt),(0,S.Qr)(Ct);var Nt=190,Rt=S._l.bindToContribution(wt.get);(0,S.fK)(new Rt({id:"acceptSelectedSuggestion",precondition:ee._y.Visible,handler:function(e){e.acceptSelectedSuggestion(!0,!1)}})),$.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:j.Ao.and(ee._y.Visible,C.u.textInputFocus),primary:2,weight:Nt}),$.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:j.Ao.and(ee._y.Visible,C.u.textInputFocus,ee._y.AcceptSuggestionsOnEnter,ee._y.MakesTextEdit),primary:3,weight:Nt}),Y.BH.appendMenuItem(ee.GI,{command:{id:"acceptSelectedSuggestion",title:X.N("accept.insert","Insert")},group:"left",order:1,when:ee._y.HasInsertAndReplaceRange.toNegated()}),Y.BH.appendMenuItem(ee.GI,{command:{id:"acceptSelectedSuggestion",title:X.N("accept.insert","Insert")},group:"left",order:1,when:j.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("insert"))}),Y.BH.appendMenuItem(ee.GI,{command:{id:"acceptSelectedSuggestion",title:X.N("accept.replace","Replace")},group:"left",order:1,when:j.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("replace"))}),(0,S.fK)(new Rt({id:"acceptAlternativeSelectedSuggestion",precondition:j.Ao.and(ee._y.Visible,C.u.textInputFocus),kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:1027,secondary:[1026]},handler:function(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:ee.GI,group:"left",order:2,when:j.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("insert")),title:X.N("accept.replace","Replace")},{menuId:ee.GI,group:"left",order:2,when:j.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("replace")),title:X.N("accept.insert","Insert")}]})),Q.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,S.fK)(new Rt({id:"hideSuggestWidget",precondition:ee._y.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:9,secondary:[1033]}})),(0,S.fK)(new Rt({id:"selectNextSuggestion",precondition:j.Ao.and(ee._y.Visible,ee._y.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,S.fK)(new Rt({id:"selectNextPageSuggestion",precondition:j.Ao.and(ee._y.Visible,ee._y.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:12,secondary:[2060]}})),(0,S.fK)(new Rt({id:"selectLastSuggestion",precondition:j.Ao.and(ee._y.Visible,ee._y.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),(0,S.fK)(new Rt({id:"selectPrevSuggestion",precondition:j.Ao.and(ee._y.Visible,ee._y.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,S.fK)(new Rt({id:"selectPrevPageSuggestion",precondition:j.Ao.and(ee._y.Visible,ee._y.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:11,secondary:[2059]}})),(0,S.fK)(new Rt({id:"selectFirstSuggestion",precondition:j.Ao.and(ee._y.Visible,ee._y.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),(0,S.fK)(new Rt({id:"toggleSuggestionDetails",precondition:ee._y.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:ee.GI,group:"right",order:1,when:j.Ao.and(ee._y.DetailsVisible,ee._y.CanResolve),title:X.N("detail.more","show less")},{menuId:ee.GI,group:"right",order:1,when:j.Ao.and(ee._y.DetailsVisible.toNegated(),ee._y.CanResolve),title:X.N("detail.less","show more")}]})),(0,S.fK)(new Rt({id:"toggleExplainMode",precondition:ee._y.Visible,handler:function(e){return e.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),(0,S.fK)(new Rt({id:"toggleSuggestionFocus",precondition:ee._y.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,S.fK)(new Rt({id:"insertBestCompletion",precondition:j.Ao.and(C.u.textInputFocus,j.Ao.equals("config.editor.tabCompletion","on"),q.AtEnd,ee._y.Visible.toNegated(),ne.OtherSuggestions.toNegated(),N.SnippetController2.InSnippetMode.toNegated()),handler:function(e,t){e.triggerSuggestAndAcceptBest((0,y.Kn)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:Nt,primary:2}})),(0,S.fK)(new Rt({id:"insertNextSuggestion",precondition:j.Ao.and(C.u.textInputFocus,j.Ao.equals("config.editor.tabCompletion","on"),ne.OtherSuggestions,ee._y.Visible.toNegated(),N.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptNextSuggestion()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:2}})),(0,S.fK)(new Rt({id:"insertPrevSuggestion",precondition:j.Ao.and(C.u.textInputFocus,j.Ao.equals("config.editor.tabCompletion","on"),ne.OtherSuggestions,ee._y.Visible.toNegated(),N.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptPrevSuggestion()},kbOpts:{weight:Nt,kbExpr:C.u.textInputFocus,primary:1026}})),(0,S.Qr)(function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,a.Z)(this,i),t.call(this,{id:"editor.action.resetSuggestSize",label:X.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}return(0,l.Z)(i,[{key:"run",value:function(e,t){var i;null===(i=wt.get(t))||void 0===i||i.resetWidgetSize()}}]),i}(S.R6))},91888:function(e,t,i){var n=i(7579),o=i(87697),r=i(6574),s=i(3553),a=(0,r.P6G)("symbolIcon.arrayForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,r.P6G)("symbolIcon.booleanForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,r.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,o.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,r.P6G)("symbolIcon.colorForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,r.P6G)("symbolIcon.constantForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=(0,r.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,o.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,r.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,o.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,r.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,o.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,r.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,o.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,r.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,o.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,r.P6G)("symbolIcon.fileForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,r.P6G)("symbolIcon.folderForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,r.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,o.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,r.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,o.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,r.P6G)("symbolIcon.keyForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,r.P6G)("symbolIcon.keywordForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,r.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,o.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,r.P6G)("symbolIcon.moduleForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,r.P6G)("symbolIcon.namespaceForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,r.P6G)("symbolIcon.nullForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,r.P6G)("symbolIcon.numberForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,r.P6G)("symbolIcon.objectForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,r.P6G)("symbolIcon.operatorForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,r.P6G)("symbolIcon.packageForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,r.P6G)("symbolIcon.propertyForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,r.P6G)("symbolIcon.referenceForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,r.P6G)("symbolIcon.snippetForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,r.P6G)("symbolIcon.stringForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,r.P6G)("symbolIcon.structForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,r.P6G)("symbolIcon.textForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,r.P6G)("symbolIcon.typeParameterForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,r.P6G)("symbolIcon.unitForeground",{dark:r.dRz,light:r.dRz,hc:r.dRz},(0,o.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,r.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,o.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,s.Ic)((function(e,t){var i=e.getColor(a);i&&t.addRule("".concat(n.lA.symbolArray.cssSelector," { color: ").concat(i,"; }"));var o=e.getColor(l);o&&t.addRule("".concat(n.lA.symbolBoolean.cssSelector," { color: ").concat(o,"; }"));var r=e.getColor(c);r&&t.addRule("".concat(n.lA.symbolClass.cssSelector," { color: ").concat(r,"; }"));var s=e.getColor(w);s&&t.addRule("".concat(n.lA.symbolMethod.cssSelector," { color: ").concat(s,"; }"));var W=e.getColor(d);W&&t.addRule("".concat(n.lA.symbolColor.cssSelector," { color: ").concat(W,"; }"));var V=e.getColor(u);V&&t.addRule("".concat(n.lA.symbolConstant.cssSelector," { color: ").concat(V,"; }"));var B=e.getColor(h);B&&t.addRule("".concat(n.lA.symbolConstructor.cssSelector," { color: ").concat(B,"; }"));var H=e.getColor(g);H&&t.addRule("\n\t\t\t".concat(n.lA.symbolValue.cssSelector,",").concat(n.lA.symbolEnum.cssSelector," { color: ").concat(H,"; }"));var G=e.getColor(p);G&&t.addRule("".concat(n.lA.symbolEnumMember.cssSelector," { color: ").concat(G,"; }"));var j=e.getColor(f);j&&t.addRule("".concat(n.lA.symbolEvent.cssSelector," { color: ").concat(j,"; }"));var U=e.getColor(v);U&&t.addRule("".concat(n.lA.symbolField.cssSelector," { color: ").concat(U,"; }"));var K=e.getColor(_);K&&t.addRule("".concat(n.lA.symbolFile.cssSelector," { color: ").concat(K,"; }"));var q=e.getColor(m);q&&t.addRule("".concat(n.lA.symbolFolder.cssSelector," { color: ").concat(q,"; }"));var X=e.getColor(y);X&&t.addRule("".concat(n.lA.symbolFunction.cssSelector," { color: ").concat(X,"; }"));var Y=e.getColor(b);Y&&t.addRule("".concat(n.lA.symbolInterface.cssSelector," { color: ").concat(Y,"; }"));var Q=e.getColor(S);Q&&t.addRule("".concat(n.lA.symbolKey.cssSelector," { color: ").concat(Q,"; }"));var $=e.getColor(k);$&&t.addRule("".concat(n.lA.symbolKeyword.cssSelector," { color: ").concat($,"; }"));var J=e.getColor(x);J&&t.addRule("".concat(n.lA.symbolModule.cssSelector," { color: ").concat(J,"; }"));var ee=e.getColor(C);ee&&t.addRule("".concat(n.lA.symbolNamespace.cssSelector," { color: ").concat(ee,"; }"));var te=e.getColor(N);te&&t.addRule("".concat(n.lA.symbolNull.cssSelector," { color: ").concat(te,"; }"));var ie=e.getColor(R);ie&&t.addRule("".concat(n.lA.symbolNumber.cssSelector," { color: ").concat(ie,"; }"));var ne=e.getColor(D);ne&&t.addRule("".concat(n.lA.symbolObject.cssSelector," { color: ").concat(ne,"; }"));var oe=e.getColor(T);oe&&t.addRule("".concat(n.lA.symbolOperator.cssSelector," { color: ").concat(oe,"; }"));var re=e.getColor(I);re&&t.addRule("".concat(n.lA.symbolPackage.cssSelector," { color: ").concat(re,"; }"));var se=e.getColor(L);se&&t.addRule("".concat(n.lA.symbolProperty.cssSelector," { color: ").concat(se,"; }"));var ae=e.getColor(P);ae&&t.addRule("".concat(n.lA.symbolReference.cssSelector," { color: ").concat(ae,"; }"));var le=e.getColor(E);le&&t.addRule("".concat(n.lA.symbolSnippet.cssSelector," { color: ").concat(le,"; }"));var ce=e.getColor(M);ce&&t.addRule("".concat(n.lA.symbolString.cssSelector," { color: ").concat(ce,"; }"));var de=e.getColor(A);de&&t.addRule("".concat(n.lA.symbolStruct.cssSelector," { color: ").concat(de,"; }"));var ue=e.getColor(Z);ue&&t.addRule("".concat(n.lA.symbolText.cssSelector," { color: ").concat(ue,"; }"));var he=e.getColor(F);he&&t.addRule("".concat(n.lA.symbolTypeParameter.cssSelector," { color: ").concat(he,"; }"));var ge=e.getColor(O);ge&&t.addRule("".concat(n.lA.symbolUnit.cssSelector," { color: ").concat(ge,"; }"));var pe=e.getColor(z);pe&&t.addRule("".concat(n.lA.symbolVariable.cssSelector," { color: ").concat(pe,"; }"))}))}}]);
//# sourceMappingURL=monaco-editor-vendor.e8a66816.f1d3850f.js.map