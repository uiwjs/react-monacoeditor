"use strict";(self.webpackChunk_uiw_react_monacoeditor=self.webpackChunk_uiw_react_monacoeditor||[]).push([[962],{40099:function(e,t,i){i.d(t,{HZ:function(){return v},PB:function(){return D}});var n=i(37762),s=i(60136),o=i(43668),r=i(43144),a=i(15671),u=i(68552),c=i(28941),l=i(10526),h=i(4827),d=i(64272),p=i(26684),f="$initialize",g=!1;function v(e){h.$L&&(g||(g=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}var y=(0,r.Z)((function e(t,i,n,s){(0,a.Z)(this,e),this.vsWorker=t,this.req=i,this.method=n,this.args=s,this.type=0})),m=(0,r.Z)((function e(t,i,n,s){(0,a.Z)(this,e),this.vsWorker=t,this.seq=i,this.res=n,this.err=s,this.type=1})),k=(0,r.Z)((function e(t,i,n,s){(0,a.Z)(this,e),this.vsWorker=t,this.req=i,this.eventName=n,this.arg=s,this.type=2})),b=(0,r.Z)((function e(t,i,n){(0,a.Z)(this,e),this.vsWorker=t,this.req=i,this.event=n,this.type=3})),_=(0,r.Z)((function e(t,i){(0,a.Z)(this,e),this.vsWorker=t,this.req=i,this.type=4})),C=function(){function e(t){(0,a.Z)(this,e),this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}return(0,r.Z)(e,[{key:"setWorkerId",value:function(e){this._workerId=e}},{key:"sendMessage",value:function(e,t){var i=this,n=String(++this._lastSentReq);return new Promise((function(s,o){i._pendingReplies[n]={resolve:s,reject:o},i._send(new y(i._workerId,n,e,t))}))}},{key:"listen",value:function(e,t){var i=this,n=null,s=new c.Q5({onFirstListenerAdd:function(){n=String(++i._lastSentReq),i._pendingEmitters.set(n,s),i._send(new k(i._workerId,n,e,t))},onLastListenerRemove:function(){i._pendingEmitters.delete(n),i._send(new _(i._workerId,n)),n=null}});return s.event}},{key:"handleMessage",value:function(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}},{key:"_handleMessage",value:function(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}},{key:"_handleReplyMessage",value:function(e){if(this._pendingReplies[e.seq]){var t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){var i=e.err;return e.err.$isError&&((i=new Error).name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),void t.reject(i)}t.resolve(e.res)}else console.warn("Got reply to unknown seq")}},{key:"_handleRequestMessage",value:function(e){var t=this,i=e.req;this._handler.handleMessage(e.method,e.args).then((function(e){t._send(new m(t._workerId,i,e,void 0))}),(function(e){e.detail instanceof Error&&(e.detail=(0,u.ri)(e.detail)),t._send(new m(t._workerId,i,void 0,(0,u.ri)(e)))}))}},{key:"_handleSubscribeEventMessage",value:function(e){var t=this,i=e.req,n=this._handler.handleEvent(e.eventName,e.arg)((function(e){t._send(new b(t._workerId,i,e))}));this._pendingEvents.set(i,n)}},{key:"_handleEventMessage",value:function(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}},{key:"_handleUnsubscribeEventMessage",value:function(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}},{key:"_send",value:function(e){var t=[];if(0===e.type)for(var i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}]),e}(),D=function(e){(0,s.Z)(i,e);var t=(0,o.Z)(i);function i(e,n,s){var o;(0,a.Z)(this,i),o=t.call(this);var r=null;o._worker=o._register(e.create("vs/base/common/worker/simpleWorker",(function(e){o._protocol.handleMessage(e)}),(function(e){r&&r(e)}))),o._protocol=new C({sendMessage:function(e,t){o._worker.postMessage(e,t)},handleMessage:function(e,t){if("function"!==typeof s[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(s[e].apply(s,t))}catch(i){return Promise.reject(i)}},handleEvent:function(e,t){if(E(e)){var i=s[e].call(s,t);if("function"!==typeof i)throw new Error("Missing dynamic event ".concat(e," on main thread host."));return i}if(w(e)){var n=s[e];if("function"!==typeof n)throw new Error("Missing event ".concat(e," on main thread host."));return n}throw new Error("Malformed event name ".concat(e))}}),o._protocol.setWorkerId(o._worker.getId());var u=null;"undefined"!==typeof h.li.require&&"function"===typeof h.li.require.getConfig?u=h.li.require.getConfig():"undefined"!==typeof h.li.requirejs&&(u=h.li.requirejs.s.contexts._.config);var c=d.$E(s);o._onModuleLoaded=o._protocol.sendMessage(f,[o._worker.getId(),JSON.parse(JSON.stringify(u)),n,c]);var l=function(e,t){return o._request(e,t)},p=function(e,t){return o._protocol.listen(e,t)};return o._lazyProxy=new Promise((function(e,t){r=t,o._onModuleLoaded.then((function(t){e(x(t,l,p))}),(function(e){t(e),o._onError("Worker failed to load "+n,e)}))})),o}return(0,r.Z)(i,[{key:"getProxyObject",value:function(){return this._lazyProxy}},{key:"_request",value:function(e,t){var i=this;return new Promise((function(n,s){i._onModuleLoaded.then((function(){i._protocol.sendMessage(e,t).then(n,s)}),s)}))}},{key:"_onError",value:function(e,t){console.error(e),console.info(t)}}]),i}(l.JT);function w(e){return"o"===e[0]&&"n"===e[1]&&p.df(e.charCodeAt(2))}function E(e){return/^onDynamic/.test(e)&&p.df(e.charCodeAt(9))}function x(e,t,i){var s,o=function(e){return function(){var i=Array.prototype.slice.call(arguments,0);return t(e,i)}},r=function(e){return function(t){return i(e,t)}},a={},u=(0,n.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;E(c)?a[c]=r(c):w(c)?a[c]=i(c,void 0):a[c]=o(c)}}catch(l){u.e(l)}finally{u.f()}return a}},53477:function(e,t,i){i.d(t,{O:function(){return re}});var n=i(37762),s=i(29439),o=i(93433),r=i(15671),a=i(43144),u=i(11752),c=i(61120),l=i(60136),h=i(43668),d=i(87757),p=i.n(d),f=i(53210),g=i(81882),v=i(95454),y=i(13772),m=i(67944),k=i(49190),b=i(22327),_=i(89663),C=i(71881),D=i(32590),w=i(32124),E=i(7579),x=i(28941),B=i(10526),I=i(4827),L=i(58344),S=i(64272),A=i(21123),M={},T=new A.R("quick-input-button-icon-");function F(e){if(e){var t,i=e.dark.toString();return M[i]?t=M[i]:(t=T.nextId(),f.createCSSRule(".".concat(t),"background-image: ".concat(f.asCSSUrl(e.light||e.dark))),f.createCSSRule(".vs-dark .".concat(t,", .hc-black .").concat(t),"background-image: ".concat(f.asCSSUrl(e.dark))),M[i]=t),t}}var O=i(44303),q=i(87697),Z=i(96194),P=i(69880),H=f.$,N=function(e){(0,l.Z)(i,e);var t=(0,h.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this)).parent=e,n.onKeyDown=function(e){return f.addDisposableListener(n.inputBox.inputElement,f.EventType.KEY_DOWN,(function(t){e(new g.y(t))}))},n.onMouseDown=function(e){return f.addDisposableListener(n.inputBox.inputElement,f.EventType.MOUSE_DOWN,(function(t){e(new Z.n(t))}))},n.onDidChange=function(e){return n.inputBox.onDidChange(e)},n.container=f.append(n.parent,H(".quick-input-box")),n.inputBox=n._register(new P.W(n.container,void 0)),n}return(0,a.Z)(i,[{key:"value",get:function(){return this.inputBox.value},set:function(e){this.inputBox.value=e}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.inputBox.select(e)}},{key:"isSelectionAtEnd",value:function(){return this.inputBox.isSelectionAtEnd()}},{key:"placeholder",get:function(){return this.inputBox.inputElement.getAttribute("placeholder")||""},set:function(e){this.inputBox.setPlaceHolder(e)}},{key:"ariaLabel",get:function(){return this.inputBox.getAriaLabel()},set:function(e){this.inputBox.setAriaLabel(e)}},{key:"password",get:function(){return"password"===this.inputBox.inputElement.type},set:function(e){this.inputBox.inputElement.type=e?"password":"text"}},{key:"setAttribute",value:function(e,t){this.inputBox.inputElement.setAttribute(e,t)}},{key:"removeAttribute",value:function(e){this.inputBox.inputElement.removeAttribute(e)}},{key:"showDecoration",value:function(e){e===L.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===L.Z.Info?1:e===L.Z.Warning?2:3,content:""})}},{key:"stylesForType",value:function(e){return this.inputBox.stylesForType(e===L.Z.Info?1:e===L.Z.Warning?2:3)}},{key:"setFocus",value:function(){this.inputBox.focus()}},{key:"layout",value:function(){this.inputBox.layout()}},{key:"style",value:function(e){this.inputBox.style(e)}}]),i}(B.JT),K=i(65149),U=i(41891),V=i(70641),R=i(44628),j=i(6250),Q=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},W=function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}u((n=n.apply(e,t||[])).next())}))},G=f.$,J=function(){function e(t){(0,r.Z)(this,e),this.hidden=!1,this._onChecked=new x.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}return(0,a.Z)(e,[{key:"checked",get:function(){return!!this._checked},set:function(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}},{key:"dispose",value:function(){this._onChecked.dispose()}}]),e}(),z=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"templateId",get:function(){return e.ID}},{key:"renderTemplate",value:function(e){var t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=f.append(e,G(".quick-input-list-entry"));var i=f.append(t.entry,G("label.quick-input-list-label"));t.toDisposeTemplate.push(f.addStandardDisposableListener(i,f.EventType.CLICK,(function(e){t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=f.append(i,G("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(f.addStandardDisposableListener(t.checkbox,f.EventType.CHANGE,(function(e){t.element.checked=t.checkbox.checked})));var n=f.append(i,G(".quick-input-list-rows")),s=f.append(n,G(".quick-input-list-row")),o=f.append(n,G(".quick-input-list-row"));t.label=new K.g(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});var r=f.append(s,G(".quick-input-list-entry-keybinding"));t.keybinding=new U.e(r,I.OS);var a=f.append(o,G(".quick-input-list-label-meta"));return t.detail=new K.g(a,{supportHighlights:!0,supportIcons:!0}),t.separator=f.append(t.entry,G(".quick-input-list-separator")),t.actionBar=new v.o(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}},{key:"renderElement",value:function(e,t,i){var n=this;i.toDisposeElement=(0,B.B9)(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked((function(e){return i.checkbox.checked=e})));var s=e.labelHighlights,o=e.descriptionHighlights,r=e.detailHighlights,a=Object.create(null);a.matches=s||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=o||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,a),i.keybinding.set(e.item.keybinding),e.saneDetail&&i.detail.setLabel(e.saneDetail,void 0,{matches:r,title:e.saneDetail}),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();var u=e.item.buttons;u&&u.length?(i.actionBar.push(u.map((function(t,i){var s=t.iconClass||(t.iconPath?F(t.iconPath):void 0);t.alwaysVisible&&(s=s?"".concat(s," always-visible"):"always-visible");var o=new _.aU("id-".concat(i),"",s,!0,(function(){return W(n,void 0,void 0,p().mark((function i(){return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e.fireButtonTriggered({button:t,item:e.item});case 1:case"end":return i.stop()}}),i)})))}));return o.tooltip=t.tooltip||"",o})),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}},{key:"disposeElement",value:function(e,t,i){i.toDisposeElement=(0,B.B9)(i.toDisposeElement)}},{key:"disposeTemplate",value:function(e){e.toDisposeElement=(0,B.B9)(e.toDisposeElement),e.toDisposeTemplate=(0,B.B9)(e.toDisposeTemplate)}}]),e}();z.ID="listelement";var Y,$=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"getHeight",value:function(e){return e.saneDetail?44:22}},{key:"getTemplateId",value:function(e){return z.ID}}]),e}();!function(e){e[e.First=1]="First",e[e.Second=2]="Second",e[e.Last=3]="Last",e[e.Next=4]="Next",e[e.Previous=5]="Previous",e[e.NextPage=6]="NextPage",e[e.PreviousPage=7]="PreviousPage"}(Y||(Y={}));var X=function(){function e(t,i,n){var s=this;(0,r.Z)(this,e),this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new x.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new x.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new x.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new x.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new x.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new x.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new x.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=i,this.container=f.append(this.parent,G(".quick-input-list"));var o=new $,a=new ee;this.list=n.createList("QuickInput",this.container,o,[new z],{identityProvider:{getId:function(e){return e.saneLabel}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:a}),this.list.getHTMLElement().id=i,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((function(e){var t=new g.y(e);switch(t.keyCode){case 10:s.toggleCheckbox();break;case 31:(I.dz?e.metaKey:e.ctrlKey)&&s.list.setFocus((0,C.w6)(s.list.length));break;case 16:var i=s.list.getFocus();1===i.length&&0===i[0]&&s._onLeave.fire();break;case 18:var n=s.list.getFocus();1===n.length&&n[0]===s.list.length-1&&s._onLeave.fire()}s._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((function(e){2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(f.addDisposableListener(this.container,f.EventType.CLICK,(function(e){(e.x||e.y)&&s._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((function(e){s._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((function(e){"number"===typeof e.index&&(e.browserEvent.preventDefault(),s.list.setSelection([e.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}return(0,a.Z)(e,[{key:"onDidChangeFocus",get:function(){return x.ju.map(this.list.onDidChangeFocus,(function(e){return e.elements.map((function(e){return e.item}))}))}},{key:"onDidChangeSelection",get:function(){return x.ju.map(this.list.onDidChangeSelection,(function(e){return{items:e.elements.map((function(e){return e.item})),event:e.browserEvent}}))}},{key:"scrollTop",get:function(){return this.list.scrollTop},set:function(e){this.list.scrollTop=e}},{key:"getAllVisibleChecked",value:function(){return this.allVisibleChecked(this.elements,!1)}},{key:"allVisibleChecked",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=0,n=e.length;i<n;i++){var s=e[i];if(!s.hidden){if(!s.checked)return!1;t=!0}}return t}},{key:"getCheckedCount",value:function(){for(var e=0,t=this.elements,i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}},{key:"getVisibleCount",value:function(){for(var e=0,t=this.elements,i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}},{key:"setAllVisibleChecked",value:function(e){try{this._fireCheckedEvents=!1,this.elements.forEach((function(t){t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"setElements",value:function(e){var t,i,n=this;this.elementDisposables=(0,B.B9)(this.elementDisposables);var s=function(e){return n.fireButtonTriggered(e)};this.inputElements=e,this.elements=e.reduce((function(t,i,n){var o,r,a;if("separator"!==i.type){var u=n&&e[n-1],c=i.label&&i.label.replace(/\r?\n/g," "),l=i.meta&&i.meta.replace(/\r?\n/g," "),h=i.description&&i.description.replace(/\r?\n/g," "),d=i.detail&&i.detail.replace(/\r?\n/g," "),p=i.ariaLabel||[c,h,d].map((function(e){return(0,E.JL)(e)})).filter((function(e){return!!e})).join(", ");t.push(new J({index:n,item:i,saneLabel:c,saneMeta:l,saneAriaLabel:p,saneDescription:h,saneDetail:d,labelHighlights:null===(o=i.highlights)||void 0===o?void 0:o.label,descriptionHighlights:null===(r=i.highlights)||void 0===r?void 0:r.description,detailHighlights:null===(a=i.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:u&&"separator"===u.type?u:void 0,fireButtonTriggered:s}))}return t}),[]),(t=this.elementDisposables).push.apply(t,(0,o.Z)(this.elements)),(i=this.elementDisposables).push.apply(i,(0,o.Z)(this.elements.map((function(e){return e.onChecked((function(){return n.fireCheckedEvents()}))})))),this.elementsToIndexes=this.elements.reduce((function(e,t,i){return e.set(t.item,i),e}),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}},{key:"getFocusedElements",value:function(){return this.list.getFocusedElements().map((function(e){return e.item}))}},{key:"setFocusedElements",value:function(e){var t=this;if(this.list.setFocus(e.filter((function(e){return t.elementsToIndexes.has(e)})).map((function(e){return t.elementsToIndexes.get(e)}))),e.length>0){var i=this.list.getFocus()[0];"number"===typeof i&&this.list.reveal(i)}}},{key:"getActiveDescendant",value:function(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}},{key:"setSelectedElements",value:function(e){var t=this;this.list.setSelection(e.filter((function(e){return t.elementsToIndexes.has(e)})).map((function(e){return t.elementsToIndexes.get(e)})))}},{key:"getCheckedElements",value:function(){return this.elements.filter((function(e){return e.checked})).map((function(e){return e.item}))}},{key:"setCheckedElements",value:function(e){try{this._fireCheckedEvents=!1;var t,i=new Set,s=(0,n.Z)(e);try{for(s.s();!(t=s.n()).done;){var o=t.value;i.add(o)}}catch(c){s.e(c)}finally{s.f()}var r,a=(0,n.Z)(this.elements);try{for(a.s();!(r=a.n()).done;){var u=r.value;u.checked=i.has(u.item)}}catch(c){a.e(c)}finally{a.f()}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"enabled",set:function(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}},{key:"focus",value:function(e){if(this.list.length){switch(e===Y.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Y.First),e===Y.Previous&&0===this.list.getFocus()[0]&&(e=Y.Last),e===Y.Second&&this.list.length<2&&(e=Y.First),e){case Y.First:this.list.focusFirst();break;case Y.Second:this.list.focusNth(1);break;case Y.Last:this.list.focusLast();break;case Y.Next:this.list.focusNext();break;case Y.Previous:this.list.focusPrevious();break;case Y.NextPage:this.list.focusNextPage();break;case Y.PreviousPage:this.list.focusPreviousPage()}var t=this.list.getFocus()[0];"number"===typeof t&&this.list.reveal(t)}}},{key:"clearFocus",value:function(){this.list.setFocus([])}},{key:"domFocus",value:function(){this.list.domFocus()}},{key:"layout",value:function(e){this.list.getHTMLElement().style.maxHeight=e?"calc(".concat(44*Math.floor(e/44),"px)"):"",this.list.layout()}},{key:"filter",value:function(e){var t,i=this;if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;(e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)?this.elements.forEach((function(n){var s=i.matchOnLabel?(0,S.f6)((0,j.Gt)(e,(0,j.Ho)(n.saneLabel))):void 0,o=i.matchOnDescription?(0,S.f6)((0,j.Gt)(e,(0,j.Ho)(n.saneDescription||""))):void 0,r=i.matchOnDetail?(0,S.f6)((0,j.Gt)(e,(0,j.Ho)(n.saneDetail||""))):void 0,a=i.matchOnMeta?(0,S.f6)((0,j.Gt)(e,(0,j.Ho)(n.saneMeta||""))):void 0;if(s||o||r||a?(n.labelHighlights=s,n.descriptionHighlights=o,n.detailHighlights=r,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item.alwaysShow),n.separator=void 0,!i.sortByLabel){var u=n.index&&i.inputElements[n.index-1];(t=u&&"separator"===u.type?u:t)&&!n.hidden&&(n.separator=t,t=void 0)}})):this.elements.forEach((function(e){e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;var t=e.index&&i.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0}));var n=this.elements.filter((function(e){return!e.hidden}));if(this.sortByLabel&&e){var s=e.toLowerCase();n.sort((function(e,t){return function(e,t,i){var n=e.labelHighlights||[],s=t.labelHighlights||[];if(n.length&&!s.length)return-1;if(!n.length&&s.length)return 1;if(0===n.length&&0===s.length)return 0;return(0,V.LE)(e.saneLabel,t.saneLabel,i)}(e,t,s)}))}return this.elementsToIndexes=n.reduce((function(e,t,i){return e.set(t.item,i),e}),new Map),this.list.splice(0,this.list.length,n),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(n.length),!0}},{key:"toggleCheckbox",value:function(){try{this._fireCheckedEvents=!1;var e,t=this.list.getFocusedElements(),i=this.allVisibleChecked(t),s=(0,n.Z)(t);try{for(s.s();!(e=s.n()).done;){e.value.checked=!i}}catch(o){s.e(o)}finally{s.f()}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"display",value:function(e){this.container.style.display=e?"":"none"}},{key:"isDisplayed",value:function(){return"none"!==this.container.style.display}},{key:"dispose",value:function(){this.elementDisposables=(0,B.B9)(this.elementDisposables),this.disposables=(0,B.B9)(this.disposables)}},{key:"fireCheckedEvents",value:function(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}},{key:"fireButtonTriggered",value:function(e){this._onButtonTriggered.fire(e)}},{key:"style",value:function(e){this.list.style(e)}}]),e}();Q([R.H],X.prototype,"onDidChangeFocus",null),Q([R.H],X.prototype,"onDidChangeSelection",null);var ee=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"getWidgetAriaLabel",value:function(){return(0,q.N)("quickInput","Quick Input")}},{key:"getAriaLabel",value:function(e){return e.saneAriaLabel}},{key:"getWidgetRole",value:function(){return"listbox"}},{key:"getRole",value:function(){return"option"}}]),e}(),te=function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}u((n=n.apply(e,t||[])).next())}))},ie=f.$,ne={iconClass:E.lA.quickInputBack.classNames,tooltip:(0,q.N)("quickInput.back","Back"),handle:-1},se=function(e){(0,l.Z)(i,e);var t=(0,h.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this)).ui=e,n.visible=!1,n._enabled=!0,n._busy=!1,n._ignoreFocusOut=!1,n._buttons=[],n.noValidationMessage=i.noPromptMessage,n._severity=L.Z.Ignore,n.buttonsUpdated=!1,n.onDidTriggerButtonEmitter=n._register(new x.Q5),n.onDidHideEmitter=n._register(new x.Q5),n.onDisposeEmitter=n._register(new x.Q5),n.visibleDisposables=n._register(new B.SL),n.onDidHide=n.onDidHideEmitter.event,n}return(0,a.Z)(i,[{key:"title",get:function(){return this._title},set:function(e){this._title=e,this.update()}},{key:"description",get:function(){return this._description},set:function(e){this._description=e,this.update()}},{key:"step",get:function(){return this._steps},set:function(e){this._steps=e,this.update()}},{key:"totalSteps",get:function(){return this._totalSteps},set:function(e){this._totalSteps=e,this.update()}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this.update()}},{key:"contextKey",get:function(){return this._contextKey},set:function(e){this._contextKey=e,this.update()}},{key:"busy",get:function(){return this._busy},set:function(e){this._busy=e,this.update()}},{key:"ignoreFocusOut",get:function(){return this._ignoreFocusOut},set:function(e){var t=this._ignoreFocusOut!==e&&!I.gn;this._ignoreFocusOut=e&&!I.gn,t&&this.update()}},{key:"buttons",get:function(){return this._buttons},set:function(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}},{key:"validationMessage",get:function(){return this._validationMessage},set:function(e){this._validationMessage=e,this.update()}},{key:"severity",get:function(){return this._severity},set:function(e){this._severity=e,this.update()}},{key:"show",value:function(){var e=this;this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((function(t){-1!==e.buttons.indexOf(t)&&e.onDidTriggerButtonEmitter.fire(t)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}},{key:"hide",value:function(){this.visible&&this.ui.hide()}},{key:"didHide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.Jq.Other;this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}},{key:"update",value:function(){var e=this;if(this.visible){var t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:t||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText="\xa0");var i=this.getDescription();if(this.ui.description1.textContent!==i&&(this.ui.description1.textContent=i),this.ui.description2.textContent!==i&&(this.ui.description2.textContent=i),this.busy&&!this.busyDelay&&(this.busyDelay=new D._F,this.busyDelay.setIfNotSet((function(){e.visible&&e.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();var n=this.buttons.filter((function(e){return e===ne}));this.ui.leftActionBar.push(n.map((function(t,i){var n=new _.aU("id-".concat(i),"",t.iconClass||F(t.iconPath),!0,(function(){return te(e,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.onDidTriggerButtonEmitter.fire(t);case 1:case"end":return e.stop()}}),e,this)})))}));return n.tooltip=t.tooltip||"",n})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();var s=this.buttons.filter((function(e){return e!==ne}));this.ui.rightActionBar.push(s.map((function(t,i){var n=new _.aU("id-".concat(i),"",t.iconClass||F(t.iconPath),!0,(function(){return te(e,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.onDidTriggerButtonEmitter.fire(t);case 1:case"end":return e.stop()}}),e,this)})))}));return n.tooltip=t.tooltip||"",n})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);var r=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==r&&(this._lastValidationMessage=r,f.reset.apply(f,[this.ui.message].concat((0,o.Z)((0,k.T)(r))))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}}},{key:"getTitle",value:function(){return this.title&&this.step?"".concat(this.title," (").concat(this.getSteps(),")"):this.title?this.title:this.step?this.getSteps():""}},{key:"getDescription",value:function(){return this.description||""}},{key:"getSteps",value:function(){return this.step&&this.totalSteps?(0,q.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}},{key:"showMessageDecoration",value:function(e){if(this.ui.inputBox.showDecoration(e),e!==L.Z.Ignore){var t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?"".concat(t.foreground):"",this.ui.message.style.backgroundColor=t.background?"".concat(t.background):"",this.ui.message.style.border=t.border?"1px solid ".concat(t.border):"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}},{key:"dispose",value:function(){this.hide(),this.onDisposeEmitter.fire(),(0,u.Z)((0,c.Z)(i.prototype),"dispose",this).call(this)}}]),i}(B.JT);se.noPromptMessage=(0,q.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");var oe=function(e){(0,l.Z)(i,e);var t=(0,h.Z)(i);function i(){var e;return(0,r.Z)(this,i),(e=t.apply(this,arguments))._value="",e.onDidChangeValueEmitter=e._register(new x.Q5),e.onWillAcceptEmitter=e._register(new x.Q5),e.onDidAcceptEmitter=e._register(new x.Q5),e.onDidCustomEmitter=e._register(new x.Q5),e._items=[],e.itemsUpdated=!1,e._canSelectMany=!1,e._canAcceptInBackground=!1,e._matchOnDescription=!1,e._matchOnDetail=!1,e._matchOnLabel=!0,e._sortByLabel=!0,e._autoFocusOnList=!0,e._keepScrollPosition=!1,e._itemActivation=e.ui.isScreenReaderOptimized()?O.jG.NONE:O.jG.FIRST,e._activeItems=[],e.activeItemsUpdated=!1,e.activeItemsToConfirm=[],e.onDidChangeActiveEmitter=e._register(new x.Q5),e._selectedItems=[],e.selectedItemsUpdated=!1,e.selectedItemsToConfirm=[],e.onDidChangeSelectionEmitter=e._register(new x.Q5),e.onDidTriggerItemButtonEmitter=e._register(new x.Q5),e.valueSelectionUpdated=!0,e._ok="default",e._customButton=!1,e.filterValue=function(e){return e},e.onDidChangeValue=e.onDidChangeValueEmitter.event,e.onWillAccept=e.onWillAcceptEmitter.event,e.onDidAccept=e.onDidAcceptEmitter.event,e.onDidChangeActive=e.onDidChangeActiveEmitter.event,e.onDidChangeSelection=e.onDidChangeSelectionEmitter.event,e.onDidTriggerItemButton=e.onDidTriggerItemButtonEmitter.event,e}return(0,a.Z)(i,[{key:"quickNavigate",get:function(){return this._quickNavigate},set:function(e){this._quickNavigate=e,this.update()}},{key:"value",get:function(){return this._value},set:function(e){this.doSetValue(e)}},{key:"doSetValue",value:function(e,t){if(this._value!==e){if(this._value=e,t||this.update(),this.visible)this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst();this.onDidChangeValueEmitter.fire(this._value)}}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(e){this._ariaLabel=e,this.update()}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.update()}},{key:"items",get:function(){return this._items},set:function(e){this._items=e,this.itemsUpdated=!0,this.update()}},{key:"scrollTop",get:function(){return this.ui.list.scrollTop},set:function(e){this.ui.list.scrollTop=e}},{key:"canSelectMany",get:function(){return this._canSelectMany},set:function(e){this._canSelectMany=e,this.update()}},{key:"canAcceptInBackground",get:function(){return this._canAcceptInBackground},set:function(e){this._canAcceptInBackground=e}},{key:"matchOnDescription",get:function(){return this._matchOnDescription},set:function(e){this._matchOnDescription=e,this.update()}},{key:"matchOnDetail",get:function(){return this._matchOnDetail},set:function(e){this._matchOnDetail=e,this.update()}},{key:"matchOnLabel",get:function(){return this._matchOnLabel},set:function(e){this._matchOnLabel=e,this.update()}},{key:"sortByLabel",get:function(){return this._sortByLabel},set:function(e){this._sortByLabel=e,this.update()}},{key:"autoFocusOnList",get:function(){return this._autoFocusOnList},set:function(e){this._autoFocusOnList=e,this.update()}},{key:"keepScrollPosition",get:function(){return this._keepScrollPosition},set:function(e){this._keepScrollPosition=e}},{key:"itemActivation",get:function(){return this._itemActivation},set:function(e){this._itemActivation=e}},{key:"activeItems",get:function(){return this._activeItems},set:function(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}},{key:"selectedItems",get:function(){return this._selectedItems},set:function(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}},{key:"keyMods",get:function(){return this._quickNavigate?O.X5:this.ui.keyMods}},{key:"valueSelection",set:function(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}},{key:"customButton",get:function(){return this._customButton},set:function(e){this._customButton=e,this.update()}},{key:"customLabel",get:function(){return this._customButtonLabel},set:function(e){this._customButtonLabel=e,this.update()}},{key:"customHover",get:function(){return this._customButtonHover},set:function(e){this._customButtonHover=e,this.update()}},{key:"ok",get:function(){return this._ok},set:function(e){this._ok=e,this.update()}},{key:"hideInput",get:function(){return!!this._hideInput},set:function(e){this._hideInput=e,this.update()}},{key:"trySelectFirst",value:function(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Y.First))}},{key:"show",value:function(){var e=this;this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((function(t){e.doSetValue(t,!0)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((function(t){e.autoFocusOnList||e.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((function(t){switch(t.keyCode){case 18:e.ui.list.focus(Y.Next),e.canSelectMany&&e.ui.list.domFocus(),f.EventHelper.stop(t,!0);break;case 16:e.ui.list.getFocusedElements().length?e.ui.list.focus(Y.Previous):e.ui.list.focus(Y.Last),e.canSelectMany&&e.ui.list.domFocus(),f.EventHelper.stop(t,!0);break;case 12:e.ui.list.focus(Y.NextPage),e.canSelectMany&&e.ui.list.domFocus(),f.EventHelper.stop(t,!0);break;case 11:e.ui.list.focus(Y.PreviousPage),e.canSelectMany&&e.ui.list.domFocus(),f.EventHelper.stop(t,!0);break;case 17:if(!e._canAcceptInBackground)return;if(!e.ui.inputBox.isSelectionAtEnd())return;e.activeItems[0]&&(e._selectedItems=[e.activeItems[0]],e.onDidChangeSelectionEmitter.fire(e.selectedItems),e.handleAccept(!0));break;case 14:!t.ctrlKey&&!t.metaKey||t.shiftKey||t.altKey||(e.ui.list.focus(Y.First),f.EventHelper.stop(t,!0));break;case 13:!t.ctrlKey&&!t.metaKey||t.shiftKey||t.altKey||(e.ui.list.focus(Y.Last),f.EventHelper.stop(t,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((function(){e.canSelectMany?e.ui.list.getCheckedElements().length||(e._selectedItems=[],e.onDidChangeSelectionEmitter.fire(e.selectedItems)):e.activeItems[0]&&(e._selectedItems=[e.activeItems[0]],e.onDidChangeSelectionEmitter.fire(e.selectedItems)),e.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((function(){e.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((function(t){e.activeItemsUpdated||e.activeItemsToConfirm!==e._activeItems&&(0,C.fS)(t,e._activeItems,(function(e,t){return e===t}))||(e._activeItems=t,e.onDidChangeActiveEmitter.fire(t))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((function(t){var i=t.items,n=t.event;e.canSelectMany?i.length&&e.ui.list.setSelectedElements([]):e.selectedItemsToConfirm!==e._selectedItems&&(0,C.fS)(i,e._selectedItems,(function(e,t){return e===t}))||(e._selectedItems=i,e.onDidChangeSelectionEmitter.fire(i),i.length&&e.handleAccept(n instanceof MouseEvent&&1===n.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((function(t){e.canSelectMany&&(e.selectedItemsToConfirm!==e._selectedItems&&(0,C.fS)(t,e._selectedItems,(function(e,t){return e===t}))||(e._selectedItems=t,e.onDidChangeSelectionEmitter.fire(t)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((function(t){return e.onDidTriggerItemButtonEmitter.fire(t)}))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),(0,u.Z)((0,c.Z)(i.prototype),"show",this).call(this)}},{key:"handleAccept",value:function(e){var t=!1;this.onWillAcceptEmitter.fire({veto:function(){return t=!0}}),t||this.onDidAcceptEmitter.fire({inBackground:e})}},{key:"registerQuickNavigation",value:function(){var e=this;return f.addDisposableListener(this.ui.container,f.EventType.KEY_UP,(function(t){if(!e.canSelectMany&&e._quickNavigate){var i=new g.y(t),n=i.keyCode;e._quickNavigate.keybindings.some((function(e){var t=e.getParts(),o=(0,s.Z)(t,2),r=o[0];return!o[1]&&(r.shiftKey&&4===n?!(i.ctrlKey||i.altKey||i.metaKey):!(!r.altKey||6!==n)||(!(!r.ctrlKey||5!==n)||!(!r.metaKey||57!==n)))}))&&(e.activeItems[0]&&(e._selectedItems=[e.activeItems[0]],e.onDidChangeSelectionEmitter.fire(e.selectedItems),e.handleAccept(!1)),e._quickNavigate=void 0)}}))}},{key:"update",value:function(){if(this.visible){var e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);var n={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(n),(0,u.Z)((0,c.Z)(i.prototype),"update",this).call(this),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");var s=this.ariaLabel||this.placeholder||i.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==s&&(this.ui.inputBox.ariaLabel=s),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case O.jG.NONE:this._itemActivation=O.jG.FIRST;break;case O.jG.SECOND:this.ui.list.focus(Y.Second),this._itemActivation=O.jG.FIRST;break;case O.jG.LAST:this.ui.list.focus(Y.Last),this._itemActivation=O.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),n.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Y.First)),this.keepScrollPosition&&(this.scrollTop=e)}}}]),i}(se);oe.DEFAULT_ARIA_LABEL=(0,q.N)("quickInputBox.ariaLabel","Type to narrow down results.");var re=function(e){(0,l.Z)(i,e);var t=(0,h.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this)).options=e,n.comboboxAccessibility=!1,n.enabled=!0,n.onDidAcceptEmitter=n._register(new x.Q5),n.onDidCustomEmitter=n._register(new x.Q5),n.onDidTriggerButtonEmitter=n._register(new x.Q5),n.keyMods={ctrlCmd:!1,alt:!1},n.controller=null,n.onShowEmitter=n._register(new x.Q5),n.onShow=n.onShowEmitter.event,n.onHideEmitter=n._register(new x.Q5),n.onHide=n.onHideEmitter.event,n.idPrefix=e.idPrefix,n.parentElement=e.container,n.styles=e.styles,n.registerKeyModsListeners(),n}return(0,a.Z)(i,[{key:"registerKeyModsListeners",value:function(){var e=this,t=function(t){e.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,e.keyMods.alt=t.altKey};this._register(f.addDisposableListener(window,f.EventType.KEY_DOWN,t,!0)),this._register(f.addDisposableListener(window,f.EventType.KEY_UP,t,!0)),this._register(f.addDisposableListener(window,f.EventType.MOUSE_DOWN,t,!0))}},{key:"getUI",value:function(){var e=this;if(this.ui)return this.ui;var t=f.append(this.parentElement,ie(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";var i=f.createStyleSheet(t),n=f.append(t,ie(".quick-input-titlebar")),s=this._register(new v.o(n));s.domNode.classList.add("quick-input-left-action-bar");var o=f.append(n,ie(".quick-input-title")),r=this._register(new v.o(n));r.domNode.classList.add("quick-input-right-action-bar");var a=f.append(t,ie(".quick-input-description")),u=f.append(t,ie(".quick-input-header")),c=f.append(u,ie("input.quick-input-check-all"));c.type="checkbox",this._register(f.addStandardDisposableListener(c,f.EventType.CHANGE,(function(e){var t=c.checked;L.setAllVisibleChecked(t)}))),this._register(f.addDisposableListener(c,f.EventType.CLICK,(function(e){(e.x||e.y)&&p.setFocus()})));var l=f.append(u,ie(".quick-input-description")),h=f.append(u,ie(".quick-input-and-message")),d=f.append(h,ie(".quick-input-filter")),p=this._register(new N(d));p.setAttribute("aria-describedby","".concat(this.idPrefix,"message"));var k=f.append(d,ie(".quick-input-visible-count"));k.setAttribute("aria-live","polite"),k.setAttribute("aria-atomic","true");var _=new m.Z(k,{countFormat:(0,q.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),C=f.append(d,ie(".quick-input-count"));C.setAttribute("aria-live","polite");var D=new m.Z(C,{countFormat:(0,q.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),w=f.append(u,ie(".quick-input-action")),E=new y.z(w);E.label=(0,q.N)("ok","OK"),this._register(E.onDidClick((function(t){e.onDidAcceptEmitter.fire()})));var x=f.append(u,ie(".quick-input-action")),B=new y.z(x);B.label=(0,q.N)("custom","Custom"),this._register(B.onDidClick((function(t){e.onDidCustomEmitter.fire()})));var I=f.append(h,ie("#".concat(this.idPrefix,"message.quick-input-message"))),L=this._register(new X(t,this.idPrefix+"list",this.options));this._register(L.onChangedAllVisibleChecked((function(e){c.checked=e}))),this._register(L.onChangedVisibleCount((function(e){_.setCount(e)}))),this._register(L.onChangedCheckedCount((function(e){D.setCount(e)}))),this._register(L.onLeave((function(){setTimeout((function(){p.setFocus(),e.controller instanceof oe&&e.controller.canSelectMany&&L.clearFocus()}),0)}))),this._register(L.onDidChangeFocus((function(){e.comboboxAccessibility&&e.getUI().inputBox.setAttribute("aria-activedescendant",e.getUI().list.getActiveDescendant()||"")})));var S=new b.k(t);S.getContainer().classList.add("quick-input-progress");var A=f.trackFocus(t);return this._register(A),this._register(f.addDisposableListener(t,f.EventType.FOCUS,(function(t){e.previousFocusElement=t.relatedTarget instanceof HTMLElement?t.relatedTarget:void 0}),!0)),this._register(A.onDidBlur((function(){e.getUI().ignoreFocusOut||e.options.ignoreFocusOut()||e.hide(O.Jq.Blur),e.previousFocusElement=void 0}))),this._register(f.addDisposableListener(t,f.EventType.FOCUS,(function(e){p.setFocus()}))),this._register(f.addDisposableListener(t,f.EventType.KEY_DOWN,(function(i){var n=new g.y(i);switch(n.keyCode){case 3:f.EventHelper.stop(i,!0),e.onDidAcceptEmitter.fire();break;case 9:f.EventHelper.stop(i,!0),e.hide(O.Jq.Gesture);break;case 2:if(!n.altKey&&!n.ctrlKey&&!n.metaKey){var s=[".action-label.codicon"];t.classList.contains("show-checkboxes")?s.push("input"):s.push("input[type=text]"),e.getUI().list.isDisplayed()&&s.push(".monaco-list");var o=t.querySelectorAll(s.join(", "));n.shiftKey&&n.target===o[0]?(f.EventHelper.stop(i,!0),o[o.length-1].focus()):n.shiftKey||n.target!==o[o.length-1]||(f.EventHelper.stop(i,!0),o[0].focus())}}}))),this.ui={container:t,styleSheet:i,leftActionBar:s,titleBar:n,title:o,description1:a,description2:l,rightActionBar:r,checkAll:c,filterContainer:d,inputBox:p,visibleCountContainer:k,visibleCount:_,countContainer:C,count:D,okContainer:w,ok:E,message:I,customButtonContainer:x,customButton:B,list:L,progressBar:S,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:function(){return e.options.isScreenReaderOptimized()},show:function(t){return e.show(t)},hide:function(){return e.hide()},setVisibilities:function(t){return e.setVisibilities(t)},setComboboxAccessibility:function(t){return e.setComboboxAccessibility(t)},setEnabled:function(t){return e.setEnabled(t)},setContextKey:function(t){return e.options.setContextKey(t)}},this.updateStyles(),this.ui}},{key:"pick",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.T.None;return new Promise((function(o,r){var a=function(e){a=o,i.onKeyMods&&i.onKeyMods(c.keyMods),o(e)};if(n.isCancellationRequested)a(void 0);else{var u,c=t.createQuickPick(),l=[c,c.onDidAccept((function(){if(c.canSelectMany)a(c.selectedItems.slice()),c.hide();else{var e=c.activeItems[0];e&&(a(e),c.hide())}})),c.onDidChangeActive((function(e){var t=e[0];t&&i.onDidFocus&&i.onDidFocus(t)})),c.onDidChangeSelection((function(e){if(!c.canSelectMany){var t=e[0];t&&(a(t),c.hide())}})),c.onDidTriggerItemButton((function(e){return i.onDidTriggerItemButton&&i.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:function(){var t=c.items.indexOf(e.item);if(-1!==t){var i=c.items.slice(),n=i.splice(t,1),s=c.activeItems.filter((function(e){return e!==n[0]})),o=c.keepScrollPosition;c.keepScrollPosition=!0,c.items=i,s&&(c.activeItems=s),c.keepScrollPosition=o}}}))})),c.onDidChangeValue((function(e){!u||e||1===c.activeItems.length&&c.activeItems[0]===u||(c.activeItems=[u])})),n.onCancellationRequested((function(){c.hide()})),c.onDidHide((function(){(0,B.B9)(l),a(void 0)}))];c.title=i.title,c.canSelectMany=!!i.canPickMany,c.placeholder=i.placeHolder,c.ignoreFocusOut=!!i.ignoreFocusLost,c.matchOnDescription=!!i.matchOnDescription,c.matchOnDetail=!!i.matchOnDetail,c.matchOnLabel=void 0===i.matchOnLabel||i.matchOnLabel,c.autoFocusOnList=void 0===i.autoFocusOnList||i.autoFocusOnList,c.quickNavigate=i.quickNavigate,c.contextKey=i.contextKey,c.busy=!0,Promise.all([e,i.activeItem]).then((function(e){var t=(0,s.Z)(e,2),i=t[0],n=t[1];u=n,c.busy=!1,c.items=i,c.canSelectMany&&(c.selectedItems=i.filter((function(e){return"separator"!==e.type&&e.picked}))),u&&(c.activeItems=[u])})),c.show(),Promise.resolve(e).then(void 0,(function(e){r(e),c.hide()}))}}))}},{key:"createQuickPick",value:function(){var e=this.getUI();return new oe(e)}},{key:"show",value:function(e){var t=this.getUI();this.onShowEmitter.fire();var i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(L.Z.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),f.reset(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";var n=this.options.backKeybindingLabel();ne.tooltip=n?(0,q.N)("quickInput.backWithKeybinding","Back ({0})",n):(0,q.N)("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}},{key:"setVisibilities",value:function(e){var t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}},{key:"setComboboxAccessibility",value:function(e){if(e!==this.comboboxAccessibility){var t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}},{key:"setEnabled",value:function(e){if(e!==this.enabled){this.enabled=e;var t,i=(0,n.Z)(this.getUI().leftActionBar.viewItems);try{for(i.s();!(t=i.n()).done;){t.value.getAction().enabled=e}}catch(r){i.e(r)}finally{i.f()}var s,o=(0,n.Z)(this.getUI().rightActionBar.viewItems);try{for(o.s();!(s=o.n()).done;){s.value.getAction().enabled=e}}catch(r){o.e(r)}finally{o.f()}this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}},{key:"hide",value:function(e){var t,i=this.controller;if(i){var n=!(null===(t=this.ui)||void 0===t?void 0:t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!n){for(var s=this.previousFocusElement;s&&!s.offsetParent;)s=(0,S.f6)(s.parentElement);(null===s||void 0===s?void 0:s.offsetParent)?(s.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(e)}}},{key:"layout",value:function(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}},{key:"updateLayout",value:function(){if(this.ui){this.ui.container.style.top="".concat(this.titleBarOffset,"px");var e=this.ui.container.style,t=Math.min(.62*this.dimension.width,i.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}},{key:"applyStyles",value:function(e){this.styles=e,this.updateStyles()}},{key:"updateStyles",value:function(){if(this.ui){var e=this.styles.widget,t=e.quickInputTitleBackground,i=e.quickInputBackground,n=e.quickInputForeground,s=e.contrastBorder,o=e.widgetShadow;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=i?i.toString():"",this.ui.container.style.color=n?n.toString():"",this.ui.container.style.border=s?"1px solid ".concat(s):"",this.ui.container.style.boxShadow=o?"0 0 8px 2px ".concat(o):"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);var r=[];this.styles.list.pickerGroupBorder&&r.push(".quick-input-list .quick-input-list-entry { border-top-color:  ".concat(this.styles.list.pickerGroupBorder,"; }")),this.styles.list.pickerGroupForeground&&r.push(".quick-input-list .quick-input-list-separator { color:  ".concat(this.styles.list.pickerGroupForeground,"; }")),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(r.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&r.push("background-color: ".concat(this.styles.keybindingLabel.keybindingLabelBackground,";")),this.styles.keybindingLabel.keybindingLabelBorder&&r.push("border-color: ".concat(this.styles.keybindingLabel.keybindingLabelBorder,";")),this.styles.keybindingLabel.keybindingLabelBottomBorder&&r.push("border-bottom-color: ".concat(this.styles.keybindingLabel.keybindingLabelBottomBorder,";")),this.styles.keybindingLabel.keybindingLabelShadow&&r.push("box-shadow: inset 0 -1px 0 ".concat(this.styles.keybindingLabel.keybindingLabelShadow,";")),this.styles.keybindingLabel.keybindingLabelForeground&&r.push("color: ".concat(this.styles.keybindingLabel.keybindingLabelForeground,";")),r.push("}"));var a=r.join("\n");a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}}]),i}(B.JT);re.MAX_WIDTH=600},44303:function(e,t,i){i.d(t,{Jq:function(){return n},X5:function(){return a},jG:function(){return s}});var n,s,o=i(43144),r=i(15671),a={ctrlCmd:!1,alt:!1};!function(e){e[e.Blur=1]="Blur",e[e.Gesture=2]="Gesture",e[e.Other=3]="Other"}(n||(n={})),function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND",e[e.LAST=3]="LAST"}(s||(s={}));new((0,o.Z)((function e(t){(0,r.Z)(this,e),this.options=t})))},50666:function(e,t,i){i.d(t,{K:function(){return y},W:function(){return m}});var n,s=i(15671),o=i(43144),r=i(11752),a=i(61120),u=i(60136),c=i(43668),l=i(87757),h=i.n(l),d=i(32590),p=i(28941),f=i(10526),g=i(64272),v=function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}u((n=n.apply(e,t||[])).next())}))};!function(e){e[e.None=0]="None",e[e.Initialized=1]="Initialized",e[e.Closed=2]="Closed"}(n||(n={}));var y=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);return(0,s.Z)(this,i),(o=t.call(this)).database=e,o.options=r,o._onDidChangeStorage=o._register(new p.Q5),o.onDidChangeStorage=o._onDidChangeStorage.event,o.state=n.None,o.cache=new Map,o.flushDelayer=new d.rH(i.DEFAULT_FLUSH_DELAY),o.pendingDeletes=new Set,o.pendingInserts=new Map,o.whenFlushedCallbacks=[],o.registerListeners(),o}return(0,o.Z)(i,[{key:"registerListeners",value:function(){var e=this;this._register(this.database.onDidChangeItemsExternal((function(t){return e.onDidChangeItemsExternal(t)})))}},{key:"onDidChangeItemsExternal",value:function(e){var t,i,n=this;null===(t=e.changed)||void 0===t||t.forEach((function(e,t){return n.accept(t,e)})),null===(i=e.deleted)||void 0===i||i.forEach((function(e){return n.accept(e,void 0)}))}},{key:"accept",value:function(e,t){if(this.state!==n.Closed){var i=!1;if((0,g.Jp)(t))i=this.cache.delete(e);else this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0);i&&this._onDidChangeStorage.fire(e)}}},{key:"get",value:function(e,t){var i=this.cache.get(e);return(0,g.Jp)(i)?t:i}},{key:"getBoolean",value:function(e,t){var i=this.get(e);return(0,g.Jp)(i)?t:"true"===i}},{key:"getNumber",value:function(e,t){var i=this.get(e);return(0,g.Jp)(i)?t:parseInt(i,10)}},{key:"set",value:function(e,t){return v(this,void 0,void 0,h().mark((function i(){var s;return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.state!==n.Closed){i.next=2;break}return i.abrupt("return");case 2:if(!(0,g.Jp)(t)){i.next=4;break}return i.abrupt("return",this.delete(e));case 4:if(s=String(t),this.cache.get(e)!==s){i.next=8;break}return i.abrupt("return");case 8:return this.cache.set(e,s),this.pendingInserts.set(e,s),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),i.abrupt("return",this.doFlush());case 13:case"end":return i.stop()}}),i,this)})))}},{key:"delete",value:function(e){return v(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state!==n.Closed){t.next=2;break}return t.abrupt("return");case 2:if(this.cache.delete(e)){t.next=5;break}return t.abrupt("return");case 5:return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),t.abrupt("return",this.doFlush());case 9:case"end":return t.stop()}}),t,this)})))}},{key:"hasPending",get:function(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}},{key:"flushPending",value:function(){return v(this,void 0,void 0,h().mark((function e(){var t,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPending){e.next=2;break}return e.abrupt("return");case 2:return t={insert:this.pendingInserts,delete:this.pendingDeletes},this.pendingDeletes=new Set,this.pendingInserts=new Map,e.abrupt("return",this.database.updateItems(t).finally((function(){var e;if(!i.hasPending)for(;i.whenFlushedCallbacks.length;)null===(e=i.whenFlushedCallbacks.pop())||void 0===e||e()})));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"doFlush",value:function(e){return v(this,void 0,void 0,h().mark((function t(){var i=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.flushDelayer.trigger((function(){return i.flushPending()}),e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"dispose",value:function(){this.flushDelayer.dispose(),(0,r.Z)((0,a.Z)(i.prototype),"dispose",this).call(this)}}]),i}(f.JT);y.DEFAULT_FLUSH_DELAY=100;var m=function(){function e(){(0,s.Z)(this,e),this.onDidChangeItemsExternal=p.ju.None,this.items=new Map}return(0,o.Z)(e,[{key:"updateItems",value:function(e){return v(this,void 0,void 0,h().mark((function t(){var i=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.insert&&e.insert.forEach((function(e,t){return i.items.set(t,e)})),e.delete&&e.delete.forEach((function(e){return i.items.delete(e)}));case 2:case"end":return t.stop()}}),t)})))}}]),e}()}}]);
//# sourceMappingURL=monaco-editor-vendor.d5542c9c.b7b8eca0.js.map